!function(e,t){for(var i in t)e[i]=t[i]}(exports,function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=106)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(1),n=i(12),r=i(36),o=i(16),a=i(5),l=i(6);function u(e,t){if(e)return h(e,t)}function h(e,t,i){let u,_;return e.drawable?(_=new e.drawable,u=_.base):u=function(e){let t,i=e.type||"div";t=e.namespace?document.createElementNS(e.namespace,i):document.createElement(i);return t}(e),i||(i=h),function(e,t,i,s){t.id&&e.setAttribute("id",t.id);t.key&&i&&(i[t.key]=s||e)}(u,e,t,_),function(e,t){if(!t.cls)return;"string"==typeof t.cls?s.addClass(e,t.cls):"object"==typeof t.cls&&a.map(t.cls,(t,i)=>{n.createClass(i,t),s.addClass(e,i)})}(u,e),function(e,t){t.attr||(t.attr={});d(t)&&(t.focusable=!0);(function(e){if(!d(e))return!1;if(e.attr.tabIndex)return!1;return!0})(t)&&(t.attr.tabindex=0);a.map(t.attr,(t,i)=>{if(!l.isNullOrUndefined(t))if(t.key){let i=t;c(e,i.key,i.val)}else c(e,i,t)})}(u,e),function(e,t){if(!t.style)return;a.map(t.style,(t,i)=>{e.style[i]=t})}(u,e),function(e,t){if(!t.eventListeners)return;if(t.focusable&&t.eventListeners.click&&!t.eventListeners.keypress){let i=t.eventListeners.click;t.eventListeners.keypress=e=>{13!==e.keyCode&&32!==e.keyCode||(i(e),e.preventDefault())};let s=!1;t.eventListeners.mousedown=t=>{s=!0,e.blur()},t.eventListeners.mouseup=e=>{s=!1},t.eventListeners.focus=t=>{if(s)return t.preventDefault(),e.blur(),!1}}a.map(t.eventListeners,(t,i)=>{e.addEventListener(i,t)})}(u,e),function(e,t){if(!t.tooltip);}(0,e),function(e,t){t.before_content&&(e.innerHTML=t.before_content);t.content&&(e.innerHTML+=t.content);t.boundContent&&(e.innerHTML=r.bind(t.boundContent,t=>{e.innerHTML=t}))}(u,e),function(e,t,i,s){if(!t.children)return;for(let n of t.children)if(n)if(o.isDrawable(n))n.draw(e);else if(n.setAttribute)e.appendChild(n);else{let r=n;t.namespace&&(r.namespace=t.namespace);let o=s(r,i);e.appendChild(o)}else console.warn("cannot append non-existent child element")}(u,e,t,i),function(e,t){if(!e.after_content)return;t.innerHTML+=e.after_content}(e,u),function(e,t){if(!e.parent)return;e.parent.appendChild(t)}(e,u),u}function d(e){return l.isNullOrUndefined(e.focusable)?!!e.eventListeners&&!!e.eventListeners.click:e.focusable}function c(e,t,i){switch(t){case"value":e.value=i;break;default:e.setAttribute(t,i)}}t.createSimpleElement=function(e,t,i,s,n,r){let o;return o={},o.id=e,o.type="div",o.content=i,o.cls=t,o.attr=s,o.children=n,o.parent=r,u(o)},t.createElement=u,t.createCustomElement=function(e,t,i){if(e)return h(e,t,i)},t.createSVGElement=function(e,t){if(e)return e.namespace||(e.namespace="http://www.w3.org/2000/svg"),h(e,t)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(7),n=i(16);function r(e,t,i){let s,n,r;for(n in r=document.getElementsByTagName("style"),i||r.length>0?s=r[0]:(s=document.createElement("style"),s.innerHTML=""),s.innerHTML+="\n"+e+" {\n",t)t.hasOwnProperty(n)&&(t[n].key?s.innerHTML+="\t"+t[n].key+": "+t[n].val+";\n":s.innerHTML+="\t"+n+" : "+t[n]+";\n");return s.innerHTML+="\n}",i||document.head.appendChild(s),s}t.addClass=function(e,t){let i,r;e&&t&&(r=n.isDrawable(e)?e.base:e,i=r.getAttribute("class"),i?(i=" "+i+" ",-1===i.indexOf(" "+t+" ")&&(i+=t,r.setAttribute("class",s.trim(i)))):r.setAttribute("class",t))},t.removeClass=function(e,t){let i,r,o;e&&t&&(o=n.isDrawable(e)?e.base:e,i=" "+o.getAttribute("class")+" ",r=i.length,i=i.replace(" "+t+" "," "),i.length!==r&&o.setAttribute("class",s.trim(i)))},t.hasClass=function(e,t){let i,s;if(e)return i=n.isDrawable(e)?e.base:e,s=" "+i.getAttribute("class")+" ",-1!==s.indexOf(" "+t+" ")},t.setProperty=function(e,t,i,s){let n,r,o,a,l;for(o=0;o<document.styleSheets.length;o+=1)if(r=document.all?"rules":"cssRules",a=document.styleSheets[o][r],a)for(n=0;n<a.length;n+=1)if(l=a[n],l.selectorText===e&&(l.style[t]||s))return l.style[t]=i,!0;return!1},t.getProperty=function(e,t){let i,s,n,r,o;for(n=0;n<document.styleSheets.length;n+=1)if(s=document.all?"rules":"cssRules",r=document.styleSheets[n][s],r)for(i=0;i<r.length;i+=1)if(o=r[i],o.selectorText===e)return o.style[t];return""},t.oldCreateClass=r,t.getComputedStyle=function(e,t){let i,s;return s=void 0!==e.draw?e.base:e,window.getComputedStyle?(i=window.getComputedStyle(s),t?i.getPropertyValue(t):i):s.currentStyle?(i=s.currentStyle,t?i[t]:i):null},t.addHiddenClass=function(){let e;e={display:"none"},r(".hidden",e)},t.addUnselectableClass=function(){let e;return e={"user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","khtml-user-select":"none","o-user-select":"none"},r(".unselectable",e,!0)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(56),n=i(0);class r extends s.Stylable{constructor(e){super(),this._addClassName("Drawable"),this._elems={},e&&(this._elems.base=n.createElement(e)),this._shouldSkipCreateElements()||(this._createElements(),window.setTimeout(()=>{this._registerMediaListeners()},100))}get base(){return this._elems.base}_registerMediaListener(e,t){this._elems&&(super._registerMediaListener(e,t,this._elems.base),super._registerMediaListener(e,t,document.body))}_createElement(e){return n.createElement(e,this._elems)}_elem(e){return this._createElement(e)}_shouldSkipCreateElements(){return!1}draw(e,t){this._elems&&this._elems.base&&(this._hasCreatedStyles?(this._refresh(),this._parent=e||this._parent,this._parent&&(this._drawBase(),this._afterDraw())):window.setTimeout(()=>{this.draw(e,t)},0))}_drawBase(e){let t=this._elems.base;if(e||!t.parentNode){if(e&&t.parentNode&&t.parentNode.removeChild(t),!this._parent)return;this._parent.appendChild(t)}}erase(){let e=this._elems.base;e&&e.parentNode&&e.parentNode.removeChild(e)}_refresh(){}_afterDraw(){}_onResize(){}addEventListener(e,t){this._elems.base.addEventListener(e,t)}}t.Drawable=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.TEXT=1]="TEXT",e[e.NUMBER=2]="NUMBER",e[e.DATE=3]="DATE",e[e.TIME=4]="TIME",e[e.DATE_TIME=5]="DATE_TIME",e[e.SELECT=6]="SELECT",e[e.CHECKBOX=7]="CHECKBOX",e[e.TEXTAREA=8]="TEXTAREA",e[e.ARRAY=9]="ARRAY",e[e.ARRAY_CHILD=10]="ARRAY_CHILD",e[e.TOGGLE_BUTTON=11]="TOGGLE_BUTTON",e[e.CUSTOM=12]="CUSTOM",e[e.SECTION=13]="SECTION",e[e.HIDDEN=14]="HIDDEN",e[e.FILE_UPLOAD=15]="FILE_UPLOAD",e[e.FILE_PATH=16]="FILE_PATH",e[e.COLOR=17]="COLOR",e[e.PERCENTAGE=18]="PERCENTAGE",e[e.PASSWORD=19]="PASSWORD"}(t.FieldTypeEnum||(t.FieldTypeEnum={})),function(e){e[e.KEEP_ERROR_VALUE=1]="KEEP_ERROR_VALUE",e[e.RESTORE_OLD_VALUE=2]="RESTORE_OLD_VALUE",e[e.CLEAR_ERROR_VALUE=3]="CLEAR_ERROR_VALUE",e[e.NO_BLUR_PROCESSED=4]="NO_BLUR_PROCESSED"}(t.ValidationType||(t.ValidationType={})),function(e){e[e.MULTILINE=0]="MULTILINE",e[e.TABLE=1]="TABLE",e[e.FLEX=2]="FLEX",e[e.LABEL_AFTER=3]="LABEL_AFTER"}(t.FormElementLayoutEnum||(t.FormElementLayoutEnum={})),function(e){e[e.EMBEDDED=1]="EMBEDDED",e[e.POPUP=2]="POPUP",e[e.INLINE=3]="INLINE",e[e.FULLSCREEN=4]="FULLSCREEN"}(t.FormStyleOptions||(t.FormStyleOptions={}))},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(3),r=i(2),o=i(6),a=i(1),l=i(74),u=i(19),h=i(0),d=i(75),c=i(14),_=i(12),p=i(24),m=i(8),f=i(11);class g extends r.Drawable{constructor(e,t){super(),this._standardCls="kipFormElem",this._addClassName("FormElement"),this._id=e,this._hasErrors=!1,m.isField(t)?this._parseFieldTemplate(t.template):this._parseFieldTemplate(t),this._createElements()}get id(){return this._id}get type(){return this._type}get template(){return this._config}get _defaultLayout(){return n.FormElementLayoutEnum.MULTILINE}get data(){return this._data}set data(e){this.update(e,!1)}get hasErrors(){return this._hasErrors}get input(){return this._elems.input?this._elems.input:null}get _labelElem(){return this._elems.lblContainer||this._elems.lbl}_shouldSkipCreateElements(){return!0}_parseFieldTemplate(e){o.isNullOrUndefined(e)&&(e={}),this._config=e,e.label||(e.label=this._id),e.layout||(e.layout=this._defaultLayout),e.defaultValue||(e.defaultValue=this._defaultValue),o.isNullOrUndefined(e.value)&&(e.value=e.defaultValue),o.isNullOrUndefined(e.validationType)&&(e.validationType=n.ValidationType.KEEP_ERROR_VALUE),this._processTemplateClass(),this._processRequiredElement(),this._registerOnOtherChangeListener(),this._data=e.defaultValue}_processTemplateClass(){let e=this._config;e.cls=_.buildClassString(this._standardCls,this._defaultCls,e.cls,e.required?"required":"")}_processRequiredElement(){this._config.required&&(this._data||p.formEventHandler.dispatchEvent(p.FORM_SAVABLE_CHANGE,new p.FormSavableEvent({hasErrors:!1,hasMissingRequired:!0})))}_registerOnOtherChangeListener(){this._config.onOtherChange&&p.formEventHandler.addEventListener(p.FORM_ELEM_CHANGE,{func:e=>{this._handleOtherChange(e)}})}_createElements(){h.createElement({cls:this._config.cls,key:"base",children:[{cls:"error",key:"error"}]},this._elems),this._onCreateElements(),this._elems.input&&this._registerInputListeners(this._elems.input),this._createStyles(),a.hasClass(this._elems.base,"hidden")&&(this._isHidden=!0)}_registerInputListeners(e){e.addEventListener("input",()=>{this._changeEventFired(!0)}),e.addEventListener("change",()=>{this._changeEventFired()})}_addStandardElemsToCore(){this._elems.base.appendChild(this._labelElem),this._elems.base.appendChild(this._elems.input)}_handleStandardLayout(){let e=n.FormElementLayoutEnum;switch(this._config.layout){case e.TABLE:return this._tableLayout(),!0;case e.FLEX:return this._flexLayout(),!0;case e.MULTILINE:return this._multiLineLayout(),!0;case e.LABEL_AFTER:return this._labelAfterLayout(),!0}return!1}_tableLayout(){let e=[];for(var t=0;t<2;t+=1){let i=h.createElement({type:"td",cls:"frmCel"});e[t]=i}this._labelElem&&e[0].appendChild(this._labelElem),this._elems.input&&e[1].appendChild(this._elems.input),this._elems.table=l.createTable("","",e),this._elems.base.appendChild(this._elems.table)}_flexLayout(){this._addStandardElemsToCore(),a.addClass(this._elems.base,"flex")}_multiLineLayout(){this._addStandardElemsToCore(),a.addClass(this._elems.base,"multiline")}_labelAfterLayout(){this._elems.base.appendChild(this._elems.input),this._elems.base.appendChild(this._labelElem)}save(e){return s(this,void 0,void 0,(function*(){return this._data}))}canSave(){return{hasErrors:this._hasErrors,hasMissingRequired:this._hasBlankRequiredElems()}}_hasBlankRequiredElems(){return!!this._config.required&&this._data===this._config.defaultValue}update(e,t){!this._testEquality(e)&&t&&window.setTimeout(()=>{this._dispatchChangeEvent()},0),this.clear(),o.isNullOrUndefined(e)&&(e=this._config.defaultValue),this._data=e,this._updateUI(e)}_testEquality(e){return u.equals(e,this._data)}_updateUI(e){this._elems.input&&(this._elems.input.value=e)}clear(){this._data=this._config.defaultValue,this._clearUI()}_clearUI(){this._elems.input&&(this._elems.input.value=this._config.defaultValue)}focus(){return!!this._elems.input&&(this._elems.input.focus(),!0)}_dispatchSavableChangeEvent(){p.formEventHandler.dispatchEvent(p.FORM_SAVABLE_CHANGE,new p.FormSavableEvent({target:this}))}_dispatchChangeEvent(e){p.formEventHandler.dispatchEvent(p.FORM_ELEM_CHANGE,new p.FormElemChangeEvent({key:this._id,subkey:e,data:this._data,target:this}))}_handleOtherChange(e){this._config.onOtherChange&&this._config.onOtherChange(e.context.key,e.context.data,this)}_changeEventFired(e){if(this._clearErrors(),e&&!this._shouldValidateBeforeBlur())return;f.wait(0).then(()=>this._dispatchSavableChangeEvent());let t=this._getValueFromField(e);this._testEquality(t)||this._validate(t)&&this._dispatchChangeEvent()}_shouldValidateBeforeBlur(){return!0}_validate(e){let t={title:"",details:""};return this._runValidation(e,t)?(this._data=e,!0):(this._onValidationError(t),!1)}_runValidation(e,t){return this._config.onValidate&&!this._config.onValidate(e,t)?(this._hasErrors=!0,!1):(this._hasErrors=!1,!0)}_onValidationError(e){this._updateErrorElem(e),this._updateInputOnError()}_updateErrorElem(e){if(!this._elems.error)return;let t=this._buildValidationErrorDisplay(e);this._elems.error.innerHTML=t}_updateInputOnError(){if(!this._elems.input)return;let e;switch(this._config.validationType){case n.ValidationType.CLEAR_ERROR_VALUE:e=this._config.defaultValue;break;case n.ValidationType.KEEP_ERROR_VALUE:e=this._elems.input.value;break;case n.ValidationType.NO_BLUR_PROCESSED:e=this._elems.input.value,window.setTimeout(()=>{this._elems.input.focus()},10);break;case n.ValidationType.RESTORE_OLD_VALUE:e=this._data;break;default:e=this._config.defaultValue}this._elems.input.value=e}_buildValidationErrorDisplay(e){if(!e)return"Invalid data";let t;return t=e.title?e.title+": ":"Uh-oh: ",t+=e.details||this._id+"'s data couldn't be saved",t}_clearErrors(){this._elems.error&&(this._elems.error.innerHTML="")}_createStandardInput(){let e={};this._config.useGhostText&&(e.placeholder=this._config.label),this._elems.input=m.createInputElement(this._id+"|input","input",n.FieldTypeEnum[this.type],this._data,e)}_createStandardLabel(e){let t=this._config.label;if(this._config.useGhostText&&(t=""),this._elems.lblContainer=h.createElement({cls:"labelContainer",parent:e}),this._elems.lbl=m.createLabelForInput(t,this._id,"lbl",this._elems.lblContainer),this._config.helpText){this._elems.helpTextIcon=h.createElement({type:"span",cls:"helpTextIcon",content:"?",parent:this._elems.lblContainer});new d.Tooltip({content:this._config.helpText},this._elems.helpTextIcon)}}_createStandardLabeledInput(e){this._createStandardInput(),this._createStandardLabel(e?this._elems.input:null)}_cloneFormElement(e,t){return t||(t=""),e._createClonedElement(t)}_createClonedElement(e){return new this.constructor(this._id+e,this._config)}getField(e){return e===this._id?this:null}show(){return s(this,void 0,void 0,(function*(){this._isHidden&&(this._isHidden=!1,a.removeClass(this._elems.base,"hidden"),yield c.transition(this._elems.base,{height:"0"},{height:"<height>"},200))}))}hide(){return s(this,void 0,void 0,(function*(){this._isHidden||(this._isHidden=!0,yield c.transition(this._elems.base,{maxHeight:"<height>",overflow:"hidden"},{maxHeight:"0 !important",overflow:"hidden"},200),a.addClass(this._elems.base,"hidden"))}))}}t.Field=g,g._uncoloredStyles={".kipFormElem, .kipFormElem input, .kipFormElem select, .kipFormElem textarea":{fontSize:"1em",width:"100%",boxSizing:"border-box",fontFamily:"Segoe UI, Open Sans, Helvetica"},".kipFormElem":{marginTop:"10px",position:"relative"},".kipFormElem.hidden":{display:"none"},".kipFormElem input, .kipFormElem textarea, .kipFormElem select":{border:"1px solid #CCC",borderRadius:"3px"},".kipFormElem textarea":{minHeight:"100px",maxWidth:"100%"},".kipFormElem .labelContainer":{display:"flex",alignItems:"center"},".kipFormElem .helpTextIcon":{width:"19px",height:"19px",boxSizing:"border-box",paddingTop:"4px",backgroundColor:"<formSubTheme>",color:"#FFF",borderRadius:"50%",fontSize:"0.8em",textAlign:"center",fontFamily:"SpecialElite",cursor:"pointer",nested:{"&:hover":{transform:"scale(1.1)"}}},".kipFormElem .lbl":{fontSize:"0.9em",color:"#666",width:"100%",boxSizing:"border-box"},".kipFormElem.required .lbl":{},".kipFormElem.required .lbl:after":{content:'"*"',color:"<formSubTheme>",fontWeight:"bold",position:"absolute",marginLeft:"2px"},".kipFormElem .error":{color:"#C30",fontSize:"0.7em",fontStyle:"italic"},".kipFormElem.flex":{display:"flex",alignItems:"center",nested:{"> div:not(.error), > label, > span, > input":{width:"auto",marginRight:"10px"}}},".kipFormElem.multiline":{nested:{"input, textarea, select":{marginTop:"5px"}}}}},function(e,t,i){"use strict";function s(e,t){let i,s=!t;for(i in e)if(e.hasOwnProperty(i)){if(s)return i;i===t&&(s=!0)}return""}function n(e){let t=Object.keys(e)||[];for(let i=t.length-1;i>=0;i-=1){let s=t[i];e.hasOwnProperty(s)||t.splice(i,1)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.map=function(e,t,i){let s=[];if(!e)return s;if(e.map){let n;e.map((e,r,o)=>{if(n)return;let a=t(e,r,o);s.push(a),i&&i()&&(n=!0)})}else{let n,r=0;for(n in e)if(e.hasOwnProperty(n)){let o=t(e[n],n,r);if(o&&s.push(o),r+=1,!i)continue;if(i())break}}return s},t.getNextKey=s,t.getKeys=n,t.keyCount=function(e){return n(e).length},t.isEmptyObject=function(e){return!s(e)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNullOrUndefined=function(e,t){return void 0===e||(null===e||!(!t||""!==e))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(6);function n(e,t){return e.substr(t,1)}function r(e,t){return e.substring(t,e.length)}function o(e){return/^[0-9]+$/.test(e)}t.piece=function(e,t,i=1){let s;return s=e.split(t),s[i]||""},t.addPiece=function(e,t,i){return e.length>0&&(e+=i),e+t},t.titleCase=function(e,t=" "){let i,s,o;for(o="",i=e.split(t),s=0;s<i.length;s+=1)0!==s&&(o+=t),o+=n(i[s],0).toUpperCase(),o+=r(i[s],1).toLowerCase();return o},t.sentenceCase=function(e){let t;return t=n(e,0).toUpperCase(),t+=r(e,1).toLowerCase(),t},t.charAt=n,t.rest=r,t.trim=function(e){let t;return t=e.replace(/^\s*/g,""),t=t.replace(/\s*?$/g,""),t},t.stripSpaces=function(e){let t;return t=e.replace(/\s/g,""),t=t.replace(/\&nbsp\;/g,""),t},t.format=function(e,...t){let i=e.split("");t||(t=[]);let n="",r=!1;for(let e=0;e<i.length;e+=1){let a=i[e];"\\"!==a?"{"===a?(r=!0,i[e]=""):"}"===a&&r?(i[e]=s.isNullOrUndefined(t[+n])?"{"+n+"}":t[+n].toString(),r=!1,n=""):o(a)&&r?(n+=a,i[e]=""):r&&(r=!1,n=""):(i[e]="",e+=1)}return i.join("")},t.isNumeric=o,t.addLeadingZeroes=function(e,t){let i,s;for(i="string"==typeof t?t:t.toString(),s=i.length;s<e;s+=1)i="0"+i;return i},t.stripHTML=function(e){let t;return t=e.replace(/\<.*?\>/g,""),t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(6),n=i(0),r=i(5),o=i(20);function a(e,t){let i=[];if(s.isNullOrUndefined(t)){let e=l("-- select an option --",-1,!0);e.attr.disabled="true",i.push(n.createElement(e))}return r.map(e,(e,s)=>{let r=l(e,s,s===t);i.push(n.createElement(r))}),i}function l(e,t,i){let s={type:"option",attr:{value:t},content:e};return i&&(s.attr.selected="true"),s}t.cloneTemplate=function(e){return{value:e.value,position:e.position,required:e.required,onValidate:e.onValidate,onOtherChange:e.onOtherChange,label:e.label,cls:e.cls,layout:e.layout}},t.createSelectElement=function(e,t,i,r){let o=a(i,r);s.isNullOrUndefined(r)&&(r=-1);let l=n.createElement({id:e,cls:t,type:"select",children:o});return s.isNullOrUndefined(r)||(l.value=r.toString()),l},t.createSelectOptions=a,t.createLabeledCheckbox=function(e,t,i,s){let r=n.createSimpleElement(e+"|wrapper",t+"|wrapper"),o={type:"input",id:e,cls:t,attr:{type:"checkbox",checked:s.toString(),name:e},parent:r},a=n.createElement(o);return n.createSimpleElement("",t+"|lbl",i,{for:e},null,r),{wrapper:r,checkbox:a}},t.createLabelForInput=function(e,t,i,s,r){return r||(r={}),r.for=t,n.createElement({type:"label",cls:i,attr:r,content:e,parent:s})},t.createRadioButtons=function(){},t.createInputElement=function(e,t,i,s,r,a,l){let u="input";return"textarea"===(i=i.toLowerCase())&&(i="",u="textarea"),(r=r||{}).type=i,s&&("checkbox"===i||"radio"===i?r.checked=s:r.value="date"===i?o.inputDateFmt(s):s),n.createElement({type:u,id:e,cls:t,attr:r,children:a,parent:l})},t.isField=function(e){return!!e&&(void 0!==e.id&&void 0!==e.type&&void 0!==e.template)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Rectangle=0]="Rectangle",e[e.Text=1]="Text",e[e.Circle=2]="Circle",e[e.Path=3]="Path",e[e.Group=4]="Group"}(t.ElementType||(t.ElementType={})),function(e){e[e.CLICK=0]="CLICK",e[e.HOVER=1]="HOVER",e[e.LEAVE=2]="LEAVE",e[e.R_CLICK=3]="R_CLICK",e[e.DBL_CLICK=4]="DBL_CLICK",e[e.KEY_PRESS=5]="KEY_PRESS",e[e.FOCUS=6]="FOCUS",e[e.BLUR=7]="BLUR"}(t.EventTypeEnum||(t.EventTypeEnum={})),function(e){e[e.FILL_COLOR=0]="FILL_COLOR",e[e.STROKE_COLOR=1]="STROKE_COLOR",e[e.FONT_FAMILY=2]="FONT_FAMILY",e[e.FONT_VARIANT=3]="FONT_VARIANT",e[e.FONT_SIZE=4]="FONT_SIZE",e[e.STROKE_SIZE=5]="STROKE_SIZE",e[e.TEXT_ALIGN=6]="TEXT_ALIGN",e[e.FONT=7]="FONT"}(t.StyleChangeEnum||(t.StyleChangeEnum={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(26),n=i(19),r=i(7),o=i(30);class a extends s.NamedClass{constructor(e,t){super("Collection"),this._data={},this._sortedData=new Array,this._addType=e||o.CollectionTypeEnum.IgnoreDuplicateKeys,this._equalityTest=t,this._equalityTest||(this._equalityTest=(e,t)=>e===t)}get keys(){return Object.keys(this._data)}set addType(e){this._addType=e}get iteration(){return this._iteration}get length(){return this._sortedData.length}set equalityTest(e){this._equalityTest=e}add(e,t){let i,s,n;return this._addType===o.CollectionTypeEnum.IgnoreDuplicateKeys&&this._data[e]?-1:(this._data[e]&&(n=!0),s=this._sortedData.length,i={key:e,value:t,sortedIdx:s,origIdx:s},this._data[e]=i,n||this._sortedData.push(e),s)}remove(e){return this._removeElementByKey(e)}removeElementByValue(e){return this._removeElementByValue(e)}_removeElementByKey(e){let t;return t=this._data[e],t?(this._sortedData.splice(t.sortedIdx,1),this._resetSortedKeys(t.sortedIdx),delete this._data[e],t):null}_removeElementByIndex(e){let t;return e>=this.length||e<0?null:(t=this._sortedData[e],this._removeElementByKey(t))}_removeElementByValue(e){let t;return t=this._findElement(e),this._removeElementByKey(t&&t.key)}clear(){this._data={},this._sortedData=[]}_resetSortedKeys(e,t){if(e||(e=0),t||0===t||(t=this._sortedData.length),e>t)return;if(e>t){let i=e;e=t,t=i}let i,s;for(let n=e;n<t;n+=1)s=this._sortedData[n],s&&(i=this._data[s],i&&(i.sortedIdx=n))}sort(e){let t;t=(t,i)=>{let s,n;return s=this._data[t],n=this._data[i],e(s,n)},this._sortedData.sort(t),this._resetSortedKeys()}map(e){if(e){for(this.resetLoop();this.hasNext();){let t=this.getNext();if(!t)continue;let i=t.value,s=t.key;e(i,s,this.getIndex(s))}this.resetLoop()}}resetLoop(e){this._iteration=e?this.length+1:-1}hasNext(e){return e?this._iteration-1>=0:this._iteration+1<this._sortedData.length}getNext(e){return e?this._iteration-=1:this._iteration+=1,this._data[this._sortedData[this._iteration]]}getCurrent(){return-1===this._iteration?null:this._data[this._sortedData[this._iteration]]}toArray(){let e;for(e of this._sortedData)(void 0).push(this._data[e])}toValueArray(){let e=[];return this.map(t=>{e.push(t)}),e}getElement(e){let t;if("string"==typeof e)t=this._data[e];else if("number"==typeof e){if(e<0||e>this._sortedData.length)return null;t=this._data[this._sortedData[e]]}return t}getValue(e){let t;return t=this.getElement(e),t?t.value:null}getIndex(e){if("string"==typeof e)return this._data[e]&&this._data[e].sortedIdx;{let t;return t=this._findElement(e),t&&t.sortedIdx}}_findElement(e){let t,i;for(t in this._data)if(this._data.hasOwnProperty(t)&&(i=this._data[t],this._equalityTest(i.value,e)))return i;return null}getKey(e){if("number"==typeof e)return this._sortedData[e];{let t;return t=this._findElement(e),t&&t.key}}hasElement(e){return"string"==typeof e?!!this._data[e]:"number"==typeof e?!!this._sortedData[e]&&!!this._data[this._sortedData[e]]:null!==this._findElement(e)}toString(){let e="";return this.map((t,i,s)=>{e.length>0&&(e+=", "),e+=r.format("{0} => {1}",i,t.toString())}),e}equals(e){if(this.length!==e.length)return!1;if(this._sortedData.length!==e._sortedData.length)return!1;let t=!1;return this.map((i,s,r)=>{e._data[s]||(t=!0),n.equals(i,e._data[s].value)||(t=!0)}),!t}}t.Collection=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(107))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(7),n=i(5);function r(e,t,i,s,n){let r=o(e,t,n);return r||s?function(e,t){let i=a(!t);i.innerHTML+=e,t||i.parentNode||document.head.appendChild(i);return i}(r,i):null}function o(e,t,i){let r=function(e,t,i){let r=function(e,t){let i;t||(i=function(e){let t,i,s;for(let n=0;n<document.styleSheets.length;n+=1){t=document.all?"rules":"cssRules";try{i=document.styleSheets[n][t]}catch(e){continue}if(i)for(let t=0;t<i.length;t+=1)if(s=i[t],s.selectorText===e)return s}}(e));i||(i={style:{}});return i}(e,i),o=-1!==e.indexOf("@keyframes"),a="";return n.map(t,(e,t)=>{r.style[t]||(a+=o?function(e,t){let i="";n.map(t,(e,t)=>{e&&(i+="\t\t"+t+" : "+e+";\n")}),i&&(i=s.format("\t{0} \\{\n{1}\\}",e,i));return i}(t,e):function(e,t){return s.format("\t{0} : {1};\n",l(e),t)}(t,e))}),a}(e,t,i);return r&&(r=s.format("\n{0} \\{\n{1}\n\\}",e,r),-1!==e.indexOf("{")&&(r+="\n}")),r}function a(e){let t,i;return e&&(t=document.getElementsByTagName("style"),t.length>0)?(i=t[0],i):(i=document.createElement("style"),i)}function l(e){if(e.toLowerCase()===e)return e;let t,i=e.split("");for(let e=0;e<i.length;e++)t=i[e],t.toLowerCase()!==t&&(i[e]="-"+t.toLowerCase());return i.join("")}t.createClass=r,t.generateContentForCSSClass=o,t.createStyleElement=a,t.getPropertyName=l,t.buildClassString=function(...e){let t="";for(let i=0;i<e.length;i+=1)e[i]&&(t=s.addPiece(t,e[i]," "));return t},t.createFontDefinition=function(e,t,i,n){let o=[];for(let e of t)o.push(s.format("url({0}) format({1})",e.url,e.format));return r("@font-face",{fontFamily:e,src:o.join(",")},i,n)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(17);function n(e){return{x:e.x,y:e.y}}t.cloneRect=function(e){return{x:e.x,y:e.y,w:e.w,h:e.h}},t.clonePoint=n,t.clonePointArray=function(e){let t,i=[];for(t of e){let e=n(t);i.push(e)}return i},t.cloneObject=function(e){return JSON.parse(JSON.stringify(e))},t.shallowCloneObject=function(e){return s.combineObjects({},e)}},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(5),r=i(11),o=i(1),a=i(12);t.TransitionController=new class{constructor(){this._lastClsId=0,this._generatedClasses={}}transition(e){return s(this,void 0,void 0,(function*(){if(!e.elem)return Promise.reject("no element");if(!e.time)return Promise.reject("no time");let t=this._getClass(e.start,e.elem);e.end.transition||(e.end.transition="all ease-in-out "+e.time/1e3+"s");let i=this._getClass(e.end,e.elem);yield this._animate(e,t,i)}))}transitionProperty(e){return Promise.reject("not implemented")}_getClass(e,t){e=this._replacePlaceholders(e,t);let i=JSON.stringify(e).replace(/ /g,"");if(this._generatedClasses[i])return this._generatedClasses[i];let s=this._generateRandomClassName();return this._generatedClasses[i]=s,this._createTransitionClass(s,e,t),s}_generateRandomClassName(){return this._lastClsId+=1,"gencls"+this._lastClsId}_createTransitionClass(e,t,i){this._styleElem||this._createStyleElem(),this._styleElem.innerHTML+=a.generateContentForCSSClass("."+e,t,!0)}_replacePlaceholders(e,t){return n.map(e,(i,s)=>{i=(i=(i=(i=(i=(i=i.replace("<width>",t.offsetWidth+1+"px")).replace("<height>",t.offsetHeight+"px")).replace("<left>",t.offsetLeft+"px")).replace("<top>",t.offsetTop+"px")).replace("<right>",t.offsetLeft+t.offsetWidth+"px")).replace("<bottom>",t.offsetTop+t.offsetHeight+"px"),e[s]=i}),e}_createStyleElem(){this._styleElem=a.createStyleElement(!1),document.head.appendChild(this._styleElem)}_animate(e,t,i){return s(this,void 0,void 0,(function*(){yield r.nextRender(),o.addClass(e.elem,t),yield r.wait(e.delay||0),o.addClass(e.elem,i),yield r.wait(e.time),o.removeClass(e.elem,t),yield r.nextRender(),this._removeEndClass(e.elem,i)}))}_removeEndClass(e,t){return s(this,void 0,void 0,(function*(){yield r.wait(10),o.removeClass(e,t)}))}},t.transition=function(e,i,s,n,r){return t.TransitionController.transition({elem:e,start:i,end:s,time:n,delay:r||0})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(52);class n extends s.PathElement{_setAttributes(e,...t){let i=this._generatePoints.apply(this,t);return super._setAttributes(e,i)}}t.PathExtensionElement=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDrawable=function(e){return!!e.draw},t.isDrawableElement=function(e){return!!e.appendChild}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(5),n=i(6);function r(e,t,i){let o;return o=e||{},t&&function(e,t,i){if(!e)return t;e.__proto__&&(t.__proto__=Object.create(e.__proto__));s.map(e,(e,s)=>{if(!n.isNullOrUndefined(e))if(i&&"object"==typeof e){let n=t[s];if(!n)return void(t[s]=e);n=r(n,e,i),t[s]=n}else t[s]=e})}(t,o,i),o}t.combineObjects=r,t.reconcileOptions=function(e,t){let i,s;for(i in e||(e={}),t)t.hasOwnProperty(i)&&(s=e[i],null==s&&(e[i]=t[i]));return e}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(9),n=i(58),r=i(59);t.CanvasElement=class{constructor(e,t){this._layer=1,this._id=e,this._isEffect=t,this._eventFunctions=[],this._style=new n.CanvasElementStyle}get id(){return this._id}set canvas(e){this._setCanvas(e)}set parent(e){this._parent=e}get style(){return this._style}set style(e){this._style=e}get layer(){return this._layer}set layer(e){this._layer=e}get isOffScreen(){return this._isOffScreen}get dimensions(){return this._dimensions}set dimensions(e){this._setDimensions(e)}get displayDimensions(){return this._displayDimensions}get isHoverTarget(){return this._isHoverTarget}set isHoverTarget(e){this._isHoverTarget=e}get isHidden(){return this._isHidden}_initializeRects(){this._displayDimensions={x:this._dimensions.x,y:this._dimensions.y,w:this._dimensions.w,h:this._dimensions.h}}_applyStyle(e){this._style.setStyle(e)}_restoreStyle(e){this._style.restoreStyle(e)}transform(e){if(!this._parent)return;let t=this._cloneForEffect(this.id+"|e");t._isEffect=!0,t._layer=this._layer,t.style=this._cloneStyle(),e.color&&(t._style.fillColor=e.color),e.scale&&t._scale(e.scale),this._parent.addElement(t)}_cloneStyle(){return new n.CanvasElementStyle(this._style)}_scale(e){if(!this._isEffect)return;let t=e*this._dimensions.w,i=(t-this._dimensions.w)/2,s=e*this._dimensions.h,n=(s-this._dimensions.h)/2;this._dimensions={x:this._dimensions.x-i,y:this._dimensions.y-n,w:t,h:s}}updateDimensions(e){this._displayDimensions=this._canvas.convertAbsoluteRectToRelativeRect(this._dimensions),this._setIsOffScreen(e)}adjustDimensions(e){this._isEffect||(this._dimensions.x+=e.x,this._dimensions.y+=e.y)}draw(){if(this._isOffScreen)return;if(!this._canvas)return;if(this._isHidden)return;let e;e=this._isEffect?this._canvas.effectContext:this._canvas.context,this._applyStyle(e),this._onDraw(e),this._restoreStyle(e),this._isDrawn=!0}_setIsOffScreen(e){this._isOffScreen=!r.doBasicRectsOverlap(e,this._dimensions)}_setDimensions(e){this._dimensions=e,this._canvas&&(this._canvas.needsRedraw=!0)}_setCanvas(e){this._canvas=e}addEventListener(e,t){let i=this._eventFunctions[e];i||(i=[],this._eventFunctions[e]=i),i.push(t)}click(e,t){this.handleEvent(s.EventTypeEnum.CLICK,e,t)}doubleClick(e,t){this.handleEvent(s.EventTypeEnum.DBL_CLICK,e,t)}rightClick(e,t){this.handleEvent(s.EventTypeEnum.R_CLICK,e,t)}hover(e,t){this.handleEvent(s.EventTypeEnum.HOVER,e,t)}leave(e,t){this.handleEvent(s.EventTypeEnum.LEAVE,e,t)}keyPress(e,t){this.handleEvent(s.EventTypeEnum.KEY_PRESS,e,t)}focus(e,t){this.handleEvent(s.EventTypeEnum.FOCUS,e,t)}blur(e,t){this.handleEvent(s.EventTypeEnum.BLUR,e,t)}handleEvent(e,t,i){e===s.EventTypeEnum.BLUR||e===s.EventTypeEnum.LEAVE?(this._parent&&this._parent.removeElement(this.id+"|e"),this._isHoverTarget=!1):e===s.EventTypeEnum.HOVER&&(this._isHoverTarget=!0);let n,r=this._eventFunctions[e];if(r){for(n of r)n(t,i);this._canvas||(this._canvas.needsRedraw=!0)}}swapVisibility(){this._isHidden?this.show():this.hide()}hide(){this._isHidden||(this._isHidden=!0,this._canvas.needsRedraw=!0)}show(){this._isHidden&&(this._isHidden=!1,this._canvas.needsRedraw=!0)}_debugDimensions(){console.log("CANVAS ELEM: "+this._id),console.log("x: "+Math.round(this._displayDimensions.x)+" (from "+this._dimensions.x+")"),console.log("y: "+Math.round(this._displayDimensions.y)+" (from "+this._dimensions.y+")"),console.log("w: "+Math.round(this._displayDimensions.w)+" (from "+this._dimensions.w+")"),console.log("h: "+Math.round(this._displayDimensions.h)+" (from "+this._dimensions.h+")"),console.log("\nparent: "+(this._parent?this._parent.id:"none")),console.log("===\n"),this._canvas&&this._canvas.debugRelativeDimensions(),console.log("offscreen? "+this._isOffScreen),console.log("--------------------\n\n")}debugDimensions(){this._debugDimensions()}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(6);function n(e){return!s.isNullOrUndefined(e)&&!!e.equals}function r(e){if(s.isNullOrUndefined(e))return!1;let t=e;return!!(t.lessThan&&t.greaterThan&&t.equals)}t.equals=function(e,t){return n(e)?e.equals(t):e===t},t.lesserThan=function(e,t){return r(e)?e.lesserThan(t):e<t},t.greaterThan=function(e,t){return r(e)?e.greaterThan(t):e>t},t.isEquatable=n,t.isComparable=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(43),n=i(7);function r(e,t,i,s,n){let r,o;return r=864e5,s||(e=a(e,!0),t=a(t,!0)),o=e>t||i?e-t:t-e,n||(o/=864e5),o}function o(e){let t;return t=new Date,e?t:(t=a(t),t)}function a(e,t){let i,s=l(e);return i=t?new Date(s+" 00:00Z"):new Date(s),i}function l(e){if(!e)return"";let t;return t=d(e),e.getMonth()+1+"/"+e.getDate()+"/"+t}function u(e,t){let i,s,n,r;return i=+e.getMinutes(),n=+e.getHours(),r="",s=i<10?"0"+i:i.toString(),t&&(r=" AM",n>=12&&(r=" PM"),n>12&&(n-=12),0===n&&(n=12)),n+":"+s+r}function h(e){if(!e)return!1;let t=e.getFullYear();return t%4==0&&(t%100!=0||t%400==0)}function d(e){return+e.getFullYear()%100}function c(e,t){return l(e)===l(t)}function _(e,t,i,s){t[i]||(t[i]=0),t[s]||(t[s]=0);let n=t[i],r=n%e,o=Math.floor(n/e);return t[i]=r,t[s]+=o,t}function p(e,t,i){return 1===e?e+" "+t:(i||(i=t+"s"),e+" "+i)}t.dateDiff=r,function(e){e[e.EXCLUSIVE=-1]="EXCLUSIVE",e[e.DEFAULT=0]="DEFAULT",e[e.INCLUSIVE=1]="INCLUSIVE"}(t.InclusivityEnum||(t.InclusivityEnum={})),t.monthDiff=function(e,t,i,s){let n,r;e>t||i?(n=e.getMonth()-t.getMonth(),r=e.getFullYear()-t.getFullYear()):(n=t.getMonth()-e.getMonth(),r=t.getFullYear()-e.getFullYear());let o=12*r+n;return o+=+s,o},t.getToday=o,t.clearTimeInfo=a,t.businessDateDiff=function(e,t,i,s,n){let o,a,l,u;o=r(e,t,i,s,n),a=(t>e?e.getDay():t.getDay())+1,a%=7,a<0&&(a=6);let h=0;for(u=0;u<Math.abs(o);u+=1)0!==a&&6!==a||(h+=1),a+=1,a%=7,a<0&&(a=6);return l=o<0?-1:1,o-h*l},t.shortDate=l,t.inputDateFmt=function(e){let t,i,s;return s=e.getFullYear(),t=e.getMonth()+1,t<10&&(t="0"+t),i=+e.getDate(),i<10&&(i="0"+i),e.getFullYear()+"-"+t+"-"+i},t.inputToDate=function(e,t){let i;if(e){let t=e.split("-");i=new Date(+t[0],+t[1]-1,+t[2])}else{if(!t)return i=null,i;i=o()}if(t){let e=t.split(":");i.setHours(+e[0]),i.setMinutes(+e[1])}return i},t.shortTime=u,t.inputTimeFmt=function(e,t){let i=[],n=e.getHours();i.push(s.padToDigits(n,2));let r=e.getMinutes();if(i.push(s.padToDigits(r,2)),t){let t=e.getSeconds();i.push(s.padToDigits(t,2))}return i.join(":")},t.shortDateTime=function(e,t){return l(e)+" "+u(e,t)},t.stopwatchDisplay=function(e,t,i){let s,r,o;return t?(s=(void 0).toString(),r=(void 0).toString(),o=(void 0).toString()):(s=n.addLeadingZeroes(2,void 0),r=n.addLeadingZeroes(2,void 0),o=n.addLeadingZeroes(2,void 0)),void 0+"D  "+o+":"+r+":"+s+" '"+e},t.updatedStopwatchDisplay=function(e,t){let i=function(e){let t={},i=e;return t.days=Math.floor(i/864e5),i-=24*t.days*60*60*1e3,t.hours=Math.floor(i/36e5),i-=60*t.hours*60*1e3,t.minutes=Math.floor(i/6e4),i-=60*t.minutes*1e3,t.seconds=Math.floor(i/1e3),i-=1e3*t.seconds,t.milliseconds=i,t}(e),s=[];return i.days&&s.push(i.days+" days"),i.hours&&s.push(i.hours+" hours"),i.minutes&&s.push(i.minutes+" minutes"),i.seconds&&s.push(i.seconds+" seconds"),i.milliseconds&&t.showMilli&&s.push(i.milliseconds+" ms"),s.join(" ")},t.addToDate=function(e,t){return t.milliseconds&&e.setMilliseconds(e.getMilliseconds()+t.milliseconds),t.seconds&&e.setSeconds(e.getSeconds()+t.seconds),t.minutes&&e.setMinutes(e.getMinutes()+t.minutes),t.hours&&e.setHours(e.getHours()+t.hours),t.days&&e.setDate(e.getDate()+t.days),t.months&&e.setMonth(e.getMonth()+t.months),t.years&&e.setFullYear(e.getFullYear()+t.years),e},t.getMonthName=function(e,t){switch(e.getMonth()){case 0:return t?"Jan":"January";case 1:return t?"Feb":"February";case 2:return t?"Mar":"March";case 3:return t?"Apr":"April";case 4:return"May";case 5:return t?"Jun":"June";case 6:return t?"Jul":"July";case 7:return t?"Aug":"August";case 8:return t?"Sept":"September";case 9:return t?"Oct":"October";case 10:return t?"Nov":"November";case 11:return t?"Dec":"December"}return""},t.getDayOfWeek=function(e,t){switch(e.getDay()){case 0:return t?"Sun":"Sunday";case 1:return t?"Mon":"Monday";case 2:return t?"Tues":"Tuesday";case 3:return t?"Wed":"Wednesday";case 4:return t?"Thurs":"Thursday";case 5:return t?"Fri":"Friday";case 6:return t?"Sat":"Saturday"}return""},t.getLengthOfMonthInDays=function(e){if(!e)return-1;switch(e.getMonth()){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return h(e)?29:28;default:return 30}},t.isLeapYear=h,t.getShortYear=d,t.isWeekend=function(e){let t=e.getDay();return 0===t||6===t},t.isToday=function(e){return c(o(),a(e))},t.isSameDate=c,t.getDisplayDuration=function(e){_(1e3,e,"milliseconds","seconds"),_(60,e,"seconds","minutes"),_(60,e,"minutes","hours"),_(24,e,"hours","days"),_(30,e,"days","months"),_(12,e,"months","years");let t=[];return e.years&&t.push(p(e.years,"year")),e.months&&t.push(p(e.months,"month")),e.days&&t.push(p(e.days,"day")),e.hours&&t.push(p(e.hours,"hour")),e.minutes&&t.push(p(e.minutes,"minute")),e.seconds&&t.push(p(e.seconds,"second")),e.milliseconds&&t.push(p(e.milliseconds,"millisecond")),t.join(" ")}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(10),r=i(96),o=i(1),a=i(7),l=i(35);class u extends s.Drawable{constructor(e,...t){super(),this._lastListenerId=0,e||(e={}),this._style=new r.SVGStyle(e.svgStyle),this._attributes=this._setAttributes(e,...t),this._createElements(this._attributes),this._updateExtremaAndNotifyListeners(this._attributes)}get _nextListenerId(){return this._lastListenerId+=1,this._lastListenerId.toString()}addUpdateListener(e,t){this._onUpdateListeners||(this._onUpdateListeners=new n.Collection),t||(t=this._nextListenerId),this._onUpdateListeners.add(t,e)}_notifyUpdateListeners(){window.setTimeout(()=>{this._onUpdateListeners&&this.extrema&&(this.scale(1),this._onUpdateListeners.map(e=>{e&&e()}))},0)}get id(){return this._attributes.id}set id(e){this._attributes.id=e}get style(){return window.setTimeout(()=>{this._style.assignStyle(this._elems.base)},0),this._style}get base(){return this._elems.base}get preventScaling(){return this._preventScaling}get extrema(){return this._extrema}_shouldSkipCreateElements(){return!0}_createElements(e){if(!e)throw new Error("no attributes provided for SVG Element");let t=e.type;delete e.type;let i=e.cls||"";if(delete e.cls,""===t)throw new Error("no SVG element type provided");let s=e.parent;delete e.parent;let n=l.createSVGElem({type:t,attr:e});i&&o.addClass(n,i),this._elems={},this._elems.base=n,s&&s.appendChild(n),this._preventScaling=e.unscalable}measureElement(){let e;return e=this._elems.base.getBBox(),{x:e.x,y:e.y,w:e.width,h:e.height}}_updateExtremaAndNotifyListeners(e){this._updateExtrema(e),this._notifyUpdateListeners()}scale(e){let t=this.measureElement();this.style.transform=a.format("translate({0},{1}) scale({2}) translate({3},{4})",t.x+t.w/2,t.y+t.h/2,e,-1*(t.x+t.w/2),-1*(t.y+t.h/2))}}t.SVGElem=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeValue=function(e,t,i){return e<t&&(e=t),e>i&&(e=i),e},t.boundedRandomNumber=function(e,t,i){return t||(t=0),i?t+=1:e+=1,t+Math.floor(Math.random()*(e-t))},t.roundToPlace=function(e,t){return Math.round(e*t)/t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(0),r=i(1),o=i(31),a=i(16);class l extends s.Drawable{constructor(e){e?e.cls=(e.cls||"")+" popup":e={cls:"popup"},super(e),e.themeColor?this.setThemeColor("popupTheme",e.themeColor):this.setThemeColor("popupTheme","#06F",!0)}setThemeColor(e,t,i){super.setThemeColor(e,t,i)}_createElements(){this._createOverlay(),this._createFrame(),this._createTitle(),this._createCloseButton(),this._createContentElement(),this._createButtonContainer()}_createOverlay(){this._elems.overlay=n.createSimpleElement("","overlay"),this._elems.overlay.addEventListener("click",()=>{this.erase()}),this._elems.base.appendChild(this._elems.overlay)}_createFrame(){this._elems.frame=n.createSimpleElement("","frame"),this._elems.base.appendChild(this._elems.frame)}_createTitle(){this._elems.title=n.createElement({cls:"popupTitle",parent:this._elems.frame})}_createCloseButton(){this._elems.closeBtn=n.createSimpleElement("","closeBtn","",null,[{content:"x",cls:"x"}]),this._elems.closeBtn.addEventListener("click",()=>{this.erase()}),this._elems.frame.appendChild(this._elems.closeBtn)}_createContentElement(){this._elems.content=n.createSimpleElement("","content"),this._elems.frame.appendChild(this._elems.content)}_createButtonContainer(){this._elems.buttonContainer=n.createElement({cls:"buttonContainer",parent:this._elems.frame})}setTitle(e){this._elems.title.innerHTML=e,e?r.addClass(this._elems.title,"hasContent"):r.removeClass(this._elems.title,"hasContent")}addContent(e,t,i){let s;s=o.isString(e)?n.createSimpleElement(e,t,i):a.isDrawable(e)?e.base:e instanceof HTMLElement?e:n.createElement(e),s&&this._elems.content.appendChild(s)}clearContent(){this._elems.content.innerHTML=""}addButton(e,t){n.createElement({cls:"popupButton",parent:this._elems.buttonContainer,content:e}).addEventListener("click",()=>{t()})}}t.Popup=l,l._uncoloredStyles={".overlay":{backgroundColor:"rgba(0,0,0,.6)",position:"absolute",left:"0",top:"0",width:"100%",height:"100%"},".popup":{display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Segoe UI, OpenSans, Helvetica",position:"fixed",width:"100%",height:"100%",left:"0",top:"0",zIndex:"5"},".frame":{position:"absolute",backgroundColor:"#FFF",borderRadius:"3px",boxShadow:"1px 1px 5px 2px rgba(0,0,0,.2)",display:"block",borderTop:"10px solid <popupTheme>",padding:"10px",maxHeight:"90%",overflowY:"auto"},".popup .popupTitle":{fontSize:"1.3em",fontWeight:"bold"},".popup .popupTitle.hasContent":{marginBottom:"5px"},".popup .content":{fontSize:"0.9em"},".popup .buttonContainer":{display:"flex",marginTop:"8px",justifyContent:"flex-end"},".popup .buttonContainer .popupButton":{padding:"2px 10px",backgroundColor:"<popupTheme>",color:"#FFF",cursor:"pointer",marginLeft:"15px",borderRadius:"30px",transition:"all ease-in-out .1s"},".popup .buttonContainer .popupButton:hover":{transform:"scale(1.1)"},".popup .closeBtn":{width:"16px",height:"16px",borderRadius:"8px",cursor:"pointer",position:"absolute",left:"calc(100% - 7px)",top:"-15px",backgroundColor:"#DDD",boxShadow:"1px 1px 5px 2px rgba(0,0,0,.1)",color:"#333",display:"flex",justifyContent:"center",alignItems:"center",transition:"all ease-in-out .1s"},".popup .closeBtn .x":{paddingBottom:"2px"},".popup .closeBtn:hover":{transform:"scale(1.1)"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(71),n=i(73);class r extends s.Event{get _key(){return t.FORM_ELEM_CHANGE}}t.FormElemChangeEvent=r;class o extends s.Event{get _key(){return t.FORM_SAVABLE_CHANGE}}t.FormSavableEvent=o,t.FORM_ELEM_CHANGE="formelemchange",t.FORM_SAVABLE_CHANGE="formsavablechange";class a extends n.EventHandler{}t.formEventHandler=new a,t.formEventHandler.createEvent(t.FORM_ELEM_CHANGE,"Form Element Changed"),t.formEventHandler.createEvent(t.FORM_SAVABLE_CHANGE,"Form Savable Change")},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(17),r=i(0),o=i(24),a=i(1),l=i(46),u=i(82),h=i(50),d=i(2),c=i(49);class _ extends d.Drawable{constructor(e,t){super(),this._onSave=[],this._onCancel=[],this._hasChanges=!1,this._canSaveTracker={hasMissingRequired:!1,hasErrors:!1},this._config=e||{},this._addClassName("Form"),this._colors=n.combineObjects({formBackgroundTheme:"#FFF",formTheme:"#EFC500",formSubTheme:"#444"},this._config.colors||{}),this._applyColors(),this._createElements(t)}registerSaveHandler(e){this._onSave.push(e)}_notifySave(e){if(this._onSave)for(let t of this._onSave)t(e)}registerCancelHandler(e){this._onCancel.push(e)}_notifyCancel(e){if(this._onCancel)for(let t of this._onCancel)t(e)}setThemeColor(e,t,i){super.setThemeColor(e,t,i)}_getUniqueThemeName(){return"Form"}_shouldSkipCreateElements(){return!0}_createElements(e){this._elems={},this._createBase(),this._createPreForm(),this._createFormContainer(),this._createCoreSection(e),this._createPostForm()}_createBase(){let e="kipForm";return this._config.cls&&(e+=" "+this._config.cls),this._elems.base=r.createElement({cls:e,type:"form",id:this._config.id}),this._elems.base}_createCoreSection(e){let t={label:this._config.label,cls:this._config.cls,layout:this._config.layout,hideTitle:this._config.hideTitle,uncollapsible:!this._config.hideTitle};this._elems.coreSection=new c.SectionField(this._id,t,e),this._applyColors(this._elems.coreSection),this._addEventHandlers(),this._elems.coreSection.draw(this._elems.formContainer)}_createPreForm(){return this._elems.background=r.createElement({cls:"background",parent:this._elems.base}),this._elems.background}_createFormContainer(){return this._elems.formContainer=r.createElement({cls:"formContent",parent:this._elems.background}),this._elems.formContainer}_createPostForm(){let e=[{display:"Save",callback:()=>this.trySave(),cls:"save primary",key:"saveButton"},{display:"Cancel",callback:()=>{this.tryCancel()},cls:"cancel tertiary"}];return this._config.addlButtons&&e.splice(1,0,...this._config.addlButtons),this._createButtons(e)}_createButtons(e){let t=[];for(let i of e)i&&t.push(this._createButton(i));return r.createElement({cls:"kipBtns",parent:this._elems.background,children:t})}_createButton(e){return r.createElement({key:e.key||"",type:"button",cls:"kipBtn "+(e.cls?e.cls:" secondary"),content:e.display,eventListeners:{click:t=>{e.callback(),t.preventDefault()}}},this._elems)}_addEventHandlers(){o.formEventHandler.addEventListener(o.FORM_ELEM_CHANGE,{func:e=>this._handleFormChange(e),uniqueId:this._id+"|form"}),o.formEventHandler.addEventListener(o.FORM_SAVABLE_CHANGE,{func:e=>this._handleSavabilityChange(e)})}_handleFormChange(e){e.context.key===this._id&&this._onFormChange(e)}_onFormChange(e){this._isFormChangeForMe(e)&&(this._hasChanges=!0)}_isFormChangeForMe(e){return e.context.key===this._id}_handleSavabilityChange(e){if(!this._elems.saveButton)return;this.canSave()?this._enableSave():this._disableSave()}_disableSave(){this._elems.saveButton.title=this._getCannotSaveMessage(),this._elems.saveButton.setAttribute("disabled","true"),a.addClass(this._elems.saveButton,"disabled")}_enableSave(){this._elems.saveButton.title="",this._elems.saveButton.removeAttribute("disabled"),a.removeClass(this._elems.saveButton,"disabled")}getData(){return s(this,void 0,void 0,(function*(){return this._elems.coreSection.save(!0)}))}_save(){return s(this,void 0,void 0,(function*(){let e=yield this._elems.coreSection.save();return this._notifySave(e),this._hasChanges=!1,e}))}trySave(){return s(this,void 0,void 0,(function*(){return this.canSave()?yield this._save():(this._showCannotSaveMessage(),null)}))}canSave(){return this._canSaveTracker=this._elems.coreSection.canSave(),!this._canSaveTracker.hasErrors&&!this._canSaveTracker.hasMissingRequired}_showCannotSaveMessage(){let e=this._getCannotSaveMessage();if(!e)return;let t=new l.ErrorPopup(e,"Couldn't Save");t.setThemeColor("popupTheme",this._colors.formTheme),t.draw(document.body)}_getCannotSaveMessage(){let e="";return this._canSaveTracker.hasErrors&&this._canSaveTracker.hasMissingRequired?e="This form has missing data and errors; correct errors and fill in all required fields before saving.":this._canSaveTracker.hasErrors?e="There are some errors in your form; correct them before saving.":this._canSaveTracker.hasMissingRequired&&(e="There are some fields with missing data; fill them in before saving."),e}_cancelConfirmation(){if(this._hasChanges){let e=new u.YesNoPopup("You have unsaved changes. Are you sure you want to cancel?",e=>{e===h.YesNoEnum.YES&&this._cancel()});e.setThemeColor("popupTheme",this._colors.formTheme),e.draw(document.body)}else this._cancel()}_cancel(){this.clear(),this._notifyCancel(this._hasChanges),this._hasChanges=!1}tryCancel(e){return!this._hasChanges||e?(this._cancel(),!0):(this._cancelConfirmation(),!1)}clear(){this._elems.coreSection.clear()}update(e,t){this._elems.coreSection.update(e,t),this._hasChanges=!1}undo(){}redo(){}_trackChanges(){}focus(){this._elems.coreSection.focus()}addFormElement(e,t){return this._elems.coreSection.addChildElement(e,t)}getField(e){return this._elems.coreSection.getField(e)}}t._Form=_,_._uncoloredStyles={".kipForm":{fontFamily:"Open Sans,Segoe UI Light,Helvetica",fontSize:"1em",boxSizing:"border-box",fontWeight:"100",nested:{".background":{display:"flex",flexDirection:"column"},".formContent":{flexShrink:"1",flexGrow:"1",position:"relative",padding:"5px",overflowY:"auto"},".kipBtn":{cursor:"pointer",opacity:"0.7",transition:"all ease-in-out .1s",fontFamily:"Open Sans,Segoe UI Light,Helvetica",fontSize:"1em",nested:{"&:hover:not(.disabled)":{opacity:"1"},"&.disabled":{cursor:"not-allowed",opacity:"0.4"}}},".kipBtns":{display:"flex",flexDirection:"row-reverse",nested:{".kipBtn":{padding:"3px 15px",margin:"5px",borderRadius:"3px",nested:{"&.primary":{backgroundColor:"<formTheme>",color:"#FFF"},"&.secondary":{border:"1px solid <formTheme>",color:"<formTheme>"},"&.tertiary":{border:"1px solid <formSubTheme>",color:"<formSubTheme>"}}}}},button:{backgroundColor:"transparent",border:"none"}}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(37);t.NamedClass=class{constructor(...e){this._class_names=e}get className(){return this._class_names.slice().reverse().join("::")}get paddedClassName(){return this._class_names.join(" <-- ")}_addClassName(e){return!s.contains(this._class_names,e)&&(this._class_names.push(e),!0)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUpdatable=function(e){if(e)return!!e.update}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(60);function n(e){let t;return t={x:e.x,y:e.y,w:e.width,h:e.height},t}function r(e){let t;return t={x:e.left+window.scrollX,y:e.top+window.scrollY,w:e.width,h:e.height},t}t.clientRectToShape=function(e){let t;return t=new Array,t[0]={x:e.left,y:e.top},t[1]={x:e.left+e.width,y:e.top},t[2]={x:e.left+e.width,y:e.top+e.height},t[3]={x:e.left,y:e.top+e.height},t},t.svgRectToShape=function(e){let t;return t=new Array,t[0]={x:e.x,y:e.y},t[1]={x:e.x+e.width,y:e.y},t[2]={x:e.x+e.width,y:e.y+e.height},t[3]={x:e.x,y:e.y+e.height},t},t.svgRectToBasicRect=n,t.clientRectToBasicRect=r,t.toBasicRect=function(e){let t;return s.isIBasicRect(e)?t=e:s.isClientRect(e)?t=r(e):s.isSVGRect(e)&&(t=n(e)),t}},function(e,t,i){"use strict";function s(e,t,i){return o(e,"offsetLeft",t,i)}function n(e,t,i){return o(e,"offsetTop",t,i)}function r(e,t,i){return{left:s(e,t,i),top:n(e,t,i)}}function o(e,t,i,s){let n=0;for(;e&&e!==i;)e[t]&&(n+=e[t]),e=s?e.parentNode:e.offsetParent;return n}Object.defineProperty(t,"__esModule",{value:!0}),t.globalOffsetLeft=s,t.globalOffsetTop=n,t.globalOffsets=r,t.getScrollPosition=function(){return{x:window.pageXOffset?window.pageXOffset:document.body.scrollLeft,y:window.pageYOffset?window.pageYOffset:document.body.scrollTop}},t.measureElement=function(e,t){let i=!1;if(!e.parentNode){i=!0;let s=e.style.opacity;e.style.opacity="0",window.setTimeout(()=>{e.style.opacity=s}),t||(t=document.body),t.appendChild(e)}let s=e.getBoundingClientRect();return i&&t.removeChild(e),s},t.findCommonParent=function(e,t){let i,s;if(e&&t)for(i=e,s=t;i;){for(;s;){if(i===s)return i;s=s.parentNode}i=i.parentNode,s=t}},t.moveRelToElem=function(e,t,i,s,n){let o,a,l,u;return o=r(e),a=r(e),l=a.left+i-o.left,u=a.top+s-o.top,n||(e.style.position="absolute",e.style.left=l+"px",e.style.top=u+"px"),{x:l,y:u}},t.isInDOM=function(e){let t=e.parentNode;for(;t;){if(t===document.body)return!0;t=t.parentNode}return!1}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ReplaceDuplicateKeys=1]="ReplaceDuplicateKeys",e[e.IgnoreDuplicateKeys=2]="IgnoreDuplicateKeys"}(t.CollectionTypeEnum||(t.CollectionTypeEnum={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isString=function(e){return"string"==typeof e},t.isNumber=function(e){return"number"==typeof e},t.isBoolean=function(e){return"boolean"==typeof e},t.isFunction=function(e){return"function"==typeof e},t.isArray=function(e){return e instanceof Array},t.isObject=function(e){return typeof e==typeof{}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(1),n=i(38),r=i(6);function o(e,t){let i;for(i=t;i;){if(i===e)return!0;i=i.parentNode}return!1}t.removeSubclassFromAllElements=function(e,t,i){let n,r,o;for(n=document.getElementsByClassName(e),r=0;r<n.length;r+=1)o=n[r],o!==i&&s.removeClass(o,t)},t.isChildEventTarget=function(e,t){return o(t,e.target)},t.isChild=o,t.appendChildren=function(e,...t){let i;for(i=0;i<t.length;i+=1)e.appendChild(t[i])},t.clearChildren=function(e){for(let t=e.children.length-1;t>=0;t-=1){let i=e.children[t];e.removeChild(i)}},t.moveElemRelativePosition=function(e,t){let i=parseInt(e.style.top)||0,s=parseInt(e.style.left)||0;e.style.top=i+t.y+"px",e.style.left=s+t.x+"px"},t.resetPageFocus=function(){let e=-1;r.isNullOrUndefined(document.body.tabIndex)&&(e=document.body.tabIndex),document.body.tabIndex=0,document.body.focus(),document.body.tabIndex=e},t.removeElement=function(e){e.parentNode&&e.parentNode.removeChild(e)},t.select=function(e){if(n.isSelectable(e))e.select();else{let t=document.createRange();t.selectNodeContents(e);let i=window.getSelection();i.removeAllRanges(),i.addRange(t)}},t.HTML_TAB="&nbsp;&nbsp;&nbsp;&nbsp;",t.encodeForHTML=function(e){return e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/\\n/g,"<br>")).replace(/\\t/g,t.HTML_TAB)},t.decodeFromHTML=function(e){return e=(e=(e=(e=(e=(e=(e=(e=e.replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&quot;/g,'"')).replace(/&apos;/g,"'")).replace(/<br>/g,"\n")).replace(new RegExp(t.HTML_TAB,"g"),"\t")).replace(/&nbsp;/g," ")},t.replaceElemWithElem=function(e,t){if(!e.parentNode)return;let i=e.nextSibling,s=e.parentNode;s.removeChild(e),s.insertBefore(t,i)},t.isVisible=function(e){return 0!==e.offsetWidth||0!==e.offsetHeight}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(4),n=i(0),r=i(1),o=i(14);class a extends s.Field{_parseFieldTemplate(e){super._parseFieldTemplate(e),this._isCollapsed=!e.isExpanded&&!e.hideTitle&&!e.uncollapsible}_createCollapsibleTitle(){let e="sectionHeaderContainer";this._config.hideTitle&&(e+=" hidden"),this._elems.titleContainer=n.createElement({cls:e,parent:this._elems.base,eventListeners:{click:()=>{this._onCaretClicked()}}}),this._elems.title=n.createSimpleElement("","sectionHeader",this._config.label,null,null,this._elems.titleContainer),this._config.uncollapsible||(this._elems.collapseElem=n.createSimpleElement("","caret","▵",null,null,this._elems.titleContainer),r.addClass(this._elems.base,"collapsible"),this._isCollapsed&&(r.addClass(this._elems.base,"collapsed"),this._isCollapsed=!0))}_onCaretClicked(){this._config.uncollapsible||(this._isCollapsed?this.expand():this.collapse())}collapse(){this._isTransitioning||(this._isTransitioning=!0,this._isCollapsed=!0,o.transition(this._elems.childrenContainer,{height:"<height>",overflow:"hidden"},{height:"0",overflow:"hidden"},500).then(()=>{r.addClass(this._elems.base,"collapsed"),this._isTransitioning=!1}))}expand(){this._isTransitioning||(this._isTransitioning=!0,this._isCollapsed=!1,r.removeClass(this._elems.base,"collapsed"),o.transition(this._elems.childrenContainer,{height:"0",overflow:"hidden"},{height:"<height>"},500).then(()=>{this._isTransitioning=!1}))}}t.CollapsibleField=a,a._uncoloredStyles={".kipFormElem.collapsible .formChildren":{},".kipFormElem.collapsible.collapsed .formChildren":{height:"0",overflow:"hidden"},".kipFormElem.collapsible .sectionHeaderContainer":{display:"flex",justifyContent:"space-between",boxSizing:"border-box",cursor:"pointer",padding:"10px 10px",alignItems:"center",width:"calc(100% + 20px)",marginLeft:"-10px",borderRadius:"30px",nested:{"&.hidden":{display:"none"}}},".kipFormElem.collapsible .caret":{transformOrigin:"50% 50%",width:".8em",fontSize:"1em",transition:"all ease-in-out .1s",cursor:"pointer",color:"<formSubTheme>"},".kipFormElem.collapsible.collapsed .caret":{transform:"rotate(180deg)"},".kipFormElem.collapsible .sectionHeaderContainer:hover":{backgroundColor:"rgba(0,0,0,.05)"}}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(60)),s(i(62)),s(i(196)),s(i(22)),s(i(59)),s(i(28)),s(i(40))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(0);t.createSVG=function(e){try{return e.namespace="http://www.w3.org/2000/svg",e.type="svg",e.attr||(e.attr={}),e.attr.version="1.1",e.attr.width||(e.attr.width="0"),e.attr.height||(e.attr.height="0"),e.attr.viewbox||(e.attr.viewbox="0 0 0 0"),e.attr.preserveAspectRatio||(e.attr.preserveAspectRatio="xMinYMin meet"),s.createSVGElement(e)}catch(e){throw new Error("svg creation failed")}},t.createSVGElem=function(e){try{return e.namespace="http://www.w3.org/2000/svg",s.createSVGElement(e)}catch(e){return console.log("Error creating SVG element"),null}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(55);t.bind=function(e,t,i,n){return s.Binder.bind(e,t,i,n)?e():null}},function(e,t,i){"use strict";function s(e,t,i){if(!e)return-1;for(let s=0;s<e.length;s+=1)if(i){if(i(e[s],t))return s}else if(e[s]===t)return s;return-1}Object.defineProperty(t,"__esModule",{value:!0}),t.contains=function(e,t,i){return-1!==s(e,t,i)},t.indexOf=s,t.removeElemFromArr=function(e,t,i){let s,n;for(i||(i=function(e,t){return e===t}),s=e.length-1;s>=0;s-=1)i(e[s],t)&&(n=e.splice(s,1));return n}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(16);t.isHTMLElement=function(e){return!!e&&(!s.isDrawable(e)&&!!e.appendChild)},t.isSelectable=function(e){return!!e.select}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInterface=function(e,t){let i,s,n=!0;for(i in t)if(t.hasOwnProperty(i)&&(s=t[i],s&&void 0===e[i])){n=!1;break}if(!n)return!1;let r=!1;for(i in e)if(e.hasOwnProperty(i)&&void 0===t[i]){r=!0;break}return!r}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(22);function n(e){return Math.PI*e/180}t.degreesToRadians=n,t.radiansToDegrees=function(e){return 180*e/Math.PI},t.getEndPoint=function(e,t,i){let s=n(t);return{x:Math.cos(s)*i+e.x,y:Math.sin(s)*i+e.y}},t.getCentralPoint=function(e){return{x:e.offsetLeft+e.offsetWidth/2,y:e.offsetTop+e.offsetWidth/2}},t.getAngle=function(e,t){let i,s,n,r,o;return i=t.x-e.x,s=t.y-e.y,0===i?s<0?270:90:0===s?i<0?180:0:(n=i*s>0?1:-1,r=i<0?Math.PI:0,o=Math.atan(Math.abs(s)/Math.abs(i)),o=o*n+r,o*(180/Math.PI))},t.getDistance=function(e,t){let i,s,n;return s=e.x-t.x,n=e.y-t.y,i=Math.sqrt(s*s+n*n),i},t.calculatePolygonInternalAngle=function(e){return s.roundToPlace(n(360/e),1e3)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.HUE=1]="HUE",e[e.SATURATION=2]="SATURATION",e[e.LIGHTNESS=3]="LIGHTNESS",e[e.ALPHA=4]="ALPHA"}(t.HSLPieceEnum||(t.HSLPieceEnum={})),function(e){e[e.RED=0]="RED",e[e.GREEN=1]="GREEN",e[e.BLUE=2]="BLUE",e[e.ALPHA=3]="ALPHA"}(t.RGBEnum||(t.RGBEnum={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(26),n=i(6),r=i(43),o=i(7),a=i(123),l=i(41),u=i(124),h=i(22);class d extends s.NamedClass{constructor(){super("Color"),this._alpha=1}set alpha(e){e=Math.min(1,Math.max(0,e)),this._alpha=e}get alpha(){return this._alpha}set red(e){e=Math.min(255,Math.max(0,Math.round(e))),this._red=e}get red(){return this._red}set green(e){e=Math.min(255,Math.max(0,Math.round(e))),this._green=e}get green(){return this._green}set blue(e){e=Math.min(255,Math.max(0,Math.round(e))),this._blue=e}get blue(){return this._blue}set hue(e){e=Math.min(360,Math.max(0,Math.round(e))),this._hue=e}get hue(){return this._hue}set saturation(e){e=Math.min(100,Math.max(0,Math.round(e))),this._saturation=e}get saturation(){return this._saturation}set lightness(e){e=Math.min(100,Math.max(0,Math.round(e))),this._lightness=e}get lightness(){return this._lightness}get luminance(){return n.isNullOrUndefined(this._luminance)&&this._calculateLuminance(),this._luminance}toRgbaString(){return this.toRgbString(!0)}toRgbString(e){let t;return t="rgb"+(e?"a":"")+"("+this._red+", "+this._green+", "+this._blue,e&&(t+=", "+this._alpha),t+=")",t}toHslString(e){let t;return this._hue||this.generateHslValues(),t="hsl"+(e?"a":"")+"("+this._hue+", "+this._saturation+"%, "+this._lightness+"%",e&&(t+=", "+this._alpha),t+=")",t}toHslaString(){return this.toHslString(!0)}toHexString(e){let t;return t="#",t+=r.fullHexString(this._red,2),t+=r.fullHexString(this._green,2),t+=r.fullHexString(this._blue,2),e&&(t+=r.fullHexString(this._alpha,2)),t}generateHslValues(){let e,t,i,s,n,r,o,a,l;if(e=this._red/255,t=this._green/255,i=this._blue/255,n=Math.max(e,t,i),r=Math.min(e,t,i),s=n-r,l=(n+r)/2,n===r)return this._hue=0,this._saturation=0,void(this._lightness=Math.round(100*l));a=l>.5?s/(2-n-r):s/(n+r),n===e?(o=(t-i)/s,t<i&&(o+=6)):o=n===t?(i-e)/s+2:(e-t)/s+4,o/=6,this._hue=Math.round(3600*o)/10,this._saturation=Math.round(1e3*a)/10,this._lightness=Math.round(1e3*l)/10,this._startHue||(this._startHue=this._hue,this._startSaturation=this._saturation,this._startLightness=this._lightness)}generateRgbValues(){let e,t,i,s,n,r,o;for(e=this._hue/360,t=this._saturation/100,i=this._lightness/100,0===t&&(this._red=this._green=this._blue=i,this._red*=255,this._green*=255,this._blue*=255),n=i<.5?i*(1+t):i+t-i*t,s=2*i-n,o=-1;o<=1;o+=1)r=e+-o/3,r<0?r+=1:r>1&&(r-=1),r<1/6?this.updateRgbValue(o+1,255*(s+6*(n-s)*r)):r<.5?this.updateRgbValue(o+1,255*n):r<2/3?this.updateRgbValue(o+1,255*(s+(n-s)*(2/3-r)*6)):this.updateRgbValue(o+1,255*s)}_parseFromHexColor(e,t){let i,s,n,r,a,l;if(a=/^#?(?:[0-9A-Fa-f]{3,4}){1,2}$/,!a.test(e))return!1;for("#"===o.charAt(e,0)&&(e=o.rest(e,1)),l=e.length<6?1:2,i=0;i<e.length;i+=l)n=e.substr(i,l),1===l&&(n+=n),s=parseInt(n,16),this.updateRgbValue(i/l,s),i>4&&(r=!0);return r||(this._alpha=t||1),!0}_parseFromRgbColor(e,t){let i,s,n;if(i=/rgb\((?:([0-9]{1-3}), ?){3}\)/,s=/rgba\((?:([0-9]{1-3}), ?){3}, ?([0-9]{0,1}(?:\.[0-9]+)?)\)/,i.test(e))n=i.exec(e);else{if(!s.test(e))return!1;n=s.exec(e)}return this._red=+n[1],this._green=+n[2],this._blue=+n[3],void 0===n[4]&&void 0===t||(this._alpha=+n[4]||t),!0}_parseFromHslColor(e,t){let i,s,n;if(i=/hsl\(([0-9]{1,3}), ?([0-9]{1,3})%, ?([0-9]{1,3})%\)/,s=/hsla\(([0-9]{1,3}), ?([0-9]{1,3})%, ?([0-9]{1,3})%, ?([0-9]{0,1}(?:\.[0-9]+)?)\)/,i.test(e))n=i.exec(e);else{if(!s.test(e))return!1;n=s.exec(e)}return this._hue=Math.round(10*parseFloat(n[1]))/10,this._saturation=Math.round(10*parseFloat(n[2]))/10,this._lightness=Math.round(10*parseFloat(n[3]))/10,void 0===n[4]&&void 0===t||(this._alpha=parseFloat(n[4])||t),this.generateRgbValues(),!0}_parseColorString(e,t){let i;return i=this._parseFromRgbColor(e,t),!!i||(i=this._parseFromHexColor(e,t),!!i||(i=this._parseFromHslColor(e,t),!!i))}updateRgbValue(e,t){switch(e){case a.RGBEnum.RED:this.red=t;break;case a.RGBEnum.GREEN:this.green=t;break;case a.RGBEnum.BLUE:this.blue=t;break;case a.RGBEnum.ALPHA:this.alpha=t}}updateHslValue(e,t){switch(e){case l.HSLPieceEnum.HUE:this.hue=t;break;case l.HSLPieceEnum.SATURATION:this.saturation=t;break;case l.HSLPieceEnum.LIGHTNESS:this.lightness=t;break;case l.HSLPieceEnum.ALPHA:this.alpha=t}}getNextColor(e,t){var i,s=[];for(this._startHue||this.generateHslValues(),s[0]=e,s[1]=(e+1)%3,s[2]=(e+2)%3,i=0;i<s.length&&this.rotateAppropriateHSLValue(s[i]);i+=1);return this.generateRgbValues(),this.toHexString(t)}rotateAppropriateHSLValue(e){var t,i;switch(e){case l.HSLPieceEnum.SATURATION:t=this.rotateSaturation(),i=this._startSaturation;break;case l.HSLPieceEnum.LIGHTNESS:t=this.rotateLightness(),i=this._startLightness;break;case l.HSLPieceEnum.HUE:t=this.rotateHue(),i=this._startHue}return t===i}rotateHue(){return this._hue=this.rotateHslValue(this._hue,u.HUE_INTERVAL,360),this._hue}rotateSaturation(){return this._saturation=this.rotateHslValue(this._saturation,u.SATURATION_INTERVAL,100,u.SATURATION_LIMITS.max,u.SATURATION_LIMITS.min)}rotateLightness(){return this._lightness=this.rotateHslValue(this._lightness,u.LIGHT_INTERVAL,100,u.LIGHTNESS_LIMITS.max,u.LIGHTNESS_LIMITS.min)}rotateHslValue(e,t,i,s,n){var r;if(r=e+=t,r%=i,!s)return h.roundToPlace(r,10);if(!n&&0!==n)return h.roundToPlace(r,10);for(;r<n||r>s;)r=e+=t,r%=i;return h.roundToPlace(r,10)}getApparentColor(e){let t,i;return t=e._red?e:new c(e),!!t._parsedCorrectly&&(i=1-this._alpha,this._red=Math.round(this._red*this._alpha+t._red*i),this._green=Math.round(this._green*this._alpha+t._green*i),this._blue=Math.round(this._blue*this._alpha+t._blue*i),this._alpha=1,!0)}compare(e,t){var i;return t||(t={hue:1,saturation:.04,lightness:.04,alpha:.04}),e.generateHslValues(),this.generateHslValues(),(i={hue:e._hue-this._hue,saturation:e._saturation-this._saturation,lightness:e._lightness-this._lightness,alpha:e._alpha-this._alpha}).total=0,i.total+=Math.abs(i.hue)*(t.hue||0),i.total+=Math.abs(i.saturation)*(t.saturation||0),i.total+=Math.abs(i.lightness)*(t.lightness||0),i.total+=Math.abs(i.alpha)*(t.alpha||0),i}averageIn(e,t){let i;return e.generateHslValues(),this.generateHslValues(),i={hue:(this._hue+e._hue)/2,saturation:(this._saturation+e._saturation)/2,lightness:(this._lightness+e._lightness)/2,alpha:(this._alpha+e._alpha)/2},t?i:(this._hue=Math.round(i.hue),this._saturation=Math.floor(10*i.saturation)/10,this._lightness=Math.floor(10*i.lightness)/10,this._alpha=Math.floor(10*i.alpha)/10,this)}equals(e){return this.toHexString(!0)===e.toHexString(!0)}isDark(){return this._hue||this.generateHslValues(),this.luminance<=70}isLight(){return this._hue||this.generateHslValues(),this.luminance>70}getLightness(){return this._hue||this.generateHslValues(),this._lightness}_calculateLuminance(){this._red||this.generateRgbValues(),this._luminance=(.2126*this._red+.7152*this._green+.0722*this._blue)/2.55}}t.Color=d;t.RGBColor=class extends d{constructor(e,t,i,s){super(),"string"==typeof e?this._parsedCorrectly=this._parseFromRgbColor(e,t):(this.red=e,this.green=t,this.blue=i,this.alpha=s,this._parsedCorrectly=!0)}getCurrentColor(e){return this.toRgbString(e)}};t.HSLColor=class extends d{constructor(e,t,i,s){super(),"string"==typeof e?this._parsedCorrectly=this._parseFromHslColor(e,t):(this.hue=e,this.saturation=t,this.lightness=i,this.alpha=s,this._parsedCorrectly=!0)}getCurrentColor(e){return this.toHslString(e)}};t.HexColor=class extends d{constructor(e,t){super(),this._parsedCorrectly=this._parseFromHexColor(e)}getCurrentColor(e){return this.toHexString(e)}};class c extends d{constructor(e,t){super(),this._parsedCorrectly=this._parseColorString(e,t)}getCurrentColor(e){return this.toHexString(e)}}t.AnyColor=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padToDigits=function(e,t){let i=e.toString().split("");for(;i.length<t;)i.splice(0,0,"0");return i.join("")},t.fullHexString=function(e,t){let i,s;if(t=t||0,i=e.toString(16),i.length<t)for(s=0;s<t-i.length;s+=1)i="0"+i;return i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(5);t.Tree=class{constructor(e){this._data=e,this._subTrees={}}isLeafNode(){return!s.getNextKey(this._subTrees)}getDepth(){let e=[1];return s.map(this._subTrees,t=>{e.push(t.getDepth()+1)}),Math.max(...e)}toString(){let e=[];s.map(this._subTrees,t=>{e.push(t.toString())});let t=[];return t.push(this._data.toString()),e.length>0&&(t.push("->("),t.push(e.join(",")),t.push(")")),t.join("")}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(1),r=i(32),o=i(0);class a extends s.Drawable{constructor(e,t){super(e),this._targets=[],this.addTarget(t),this._onRender(),this._elems.base&&(this._addEventListeners(),n.addClass(this._elems.base,"draggable"))}get gridSize(){return this._gridSize}set gridSize(e){this._gridSize=e}_addDraggingSignifier(){this._signifier=o.createElement({cls:"dragSignifier",children:[{cls:"dot"},{cls:"dot"},{cls:"dot"},{cls:"dot"},{cls:"dot"},{cls:"dot"},{cls:"dot"},{cls:"dot"},{cls:"dot"}],parent:this._elems.base})}addTarget(e){if(!e)return;let t=this._createDraggableTarget(e);this._targets.push(t)}_updateMousePoint(e){this._currentMousePoint={x:e.clientX,y:e.clientY},this._startMousePoint||(this._startMousePoint=this._currentMousePoint)}_calculateDelta(){if(!this._currentMousePoint)return null;let e={x:this._currentMousePoint.x-this._startMousePoint.x,y:this._currentMousePoint.y-this._startMousePoint.y};return this._gridSize>1&&(e.x=this._normalizeToGrid(e.x,this.gridSize),e.y=this._normalizeToGrid(e.y,this.gridSize)),e}_normalizeToGrid(e,t){let i=Math.abs(e),s=Math.floor(i/t)*t;return i%t>t/2&&(s+=t),e<0&&(s*=-1),s}_onDragStart(e){this._isDragging=!0,a.currentDraggable=this,n.addClass(this._elems.base,"dragging");for(let e of this._targets)n.addClass(e.base,"draggingOver");this._updateMousePoint(e)}_onMove(e){this._isDragging&&this._updateMousePoint(e)}_onDrop(e){if(this._isDragging){l.currentDraggableTarget&&(a.currentDraggable=null,this._startMousePoint=null,this._currentMousePoint=null),this._isDragging=!1,n.removeClass(this._elems.base,"dragging");for(let e of this._targets)n.removeClass(e.base,"draggingOver")}}_onRender(){if(window.requestAnimationFrame(()=>{this._onRender()}),!this._elems.base)return;let e=this._calculateDelta();e&&(r.moveElemRelativePosition(this.base,e),this._startMousePoint.x+=e.x,this._startMousePoint.y+=e.y)}}t.GenericDraggable=a,a._uncoloredStyles={".draggingOver":{cursor:"-webkit-grabbing !important"},".draggable":{position:"absolute !important",cursor:"-webkit-grab",transition:"all ease-in-out .03s",nested:{div:{cursor:"-webkit-grab"},"&.grabbing":{cursor:"-webkit-grabbing",nested:{div:{cursor:"-webkit-grabbing"}}},"&.dragging":{boxShadow:"5px 5px 20px 10px rgba(0,0,0,.2) !important",zIndex:"100",cursor:"-webkit-grabbing",opacity:"1",transformOrigin:"50% 50%",transform:"rotate(0deg)"},".dragSignifier":{display:"flex",position:"absolute",left:"5px",top:"5px",width:"19px",flexWrap:"wrap",opacity:"0.5",nested:{"&:hover":{opacity:"1"},".mobile &":{display:"none"},".dot":{borderRadius:"50%",width:"3px",height:"3px",margin:"1px",backgroundColor:"rgba(0,0,0,.3)",flexShrink:"0"}}}}},".droppable":{cursor:"-webkit-dragging"}};class l extends s.Drawable{constructor(e){super(),this._elems.base=e,this._addEventListeners(),n.addClass(this._elems.base,"droppable")}_createElements(){}_onDragEnter(e){l.currentDraggableTarget=this}_onDragLeave(e){l.currentDraggableTarget===this&&(l.currentDraggableTarget=null)}_onDrop(e){a.currentDraggable&&l.currentDraggableTarget.base.appendChild(a.currentDraggable.base)}}t.DraggableTarget=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(23);class n extends s.Popup{constructor(e,t,i){super(i),this.setTitle(t||"Uh-oh...that wasn't supposed to happen"),this.addContent("","",e),this.addButton("Okay",()=>{this.erase(),this._notifyClose()})}set onClose(e){this._onClose=e}_notifyClose(){this._onClose&&this._onClose()}}t.ErrorPopup=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(4),n=i(3),r=i(0),o=i(1),a=i(5),l=i(37),u=i(11);class h extends s.Field{constructor(e,t){super(e,t)}get _type(){return n.FieldTypeEnum.TOGGLE_BUTTON}get _defaultCls(){return"toggleBtns"}_getUncoloredStyles(){return this._mergeThemes(s.Field._uncoloredStyles,h._uncoloredStyles)}_parseFieldTemplate(e){super._parseFieldTemplate(e),this._options=e.options}_onCreateElements(){this._elems.childrenContainer=r.createSimpleElement("","formChildren","",null,null),this._createOptionsElements(),this._handleStandardLayout()}_flexLayout(){o.addClass(this._elems.base,"flex"),this._createStandardLabel(this._elems.base),this._appendChildren()}_multiLineLayout(){o.addClass(this._elems.base,"multiline"),this._createStandardLabel(this._elems.base),this._appendChildren()}_tableLayout(){this._multiLineLayout()}_appendChildren(){this._elems.base.appendChild(this._elems.childrenContainer),this._elems.postChildrenContainer&&this._elems.base.appendChild(this._elems.postChildrenContainer)}_labelAfterLayout(){o.addClass(this._elems.base,"labelLast"),this._appendChildren(),this._createStandardLabel(this._elems.base)}_updateOptions(e){this._clearOptions(),this._options=e,this._config.options=e,this._createOptionsElements()}_clearOptions(){this._buttons=[],this._elems.childrenContainer.innerHTML=""}_createOptionsElements(){a.map(this._options,e=>{this._createOptionElement(e)})}_createOptionElement(e){let t=r.createElement({id:this._id+"btn"+e.value,cls:"toggleBtn",content:e.label,parent:this._elems.childrenContainer,eventListeners:{click:()=>{this._selectBtn(t,e.value),this._changeEventFired()}}});return this._shouldBeSelected(e)&&this._selectBtn(t,e.value),this._buttons||(this._buttons=[]),this._buttons.push({key:e.value,btn:t}),t}_getValueFromField(){return this._data}update(e,t){!this._testEquality(e)&&super.update(e,t)}_updateUI(e){let t=this._getButtonToUpdate(e);u.wait(100).then(()=>{if(!this._selectBtn)throw console.log("missing _selectBtn: "+this._selectBtn),new Error("missing _select function");this._selectBtn(t,e)})}_getButtonToUpdate(e){let t=l.indexOf(this._buttons,{key:e,btn:null},(e,t)=>this._equalityTest(e,t));if(-1!==t)return this._buttons[t].btn}_equalityTest(e,t){return e.key===t.key}_testEquality(e){return!1}}t.ToggleButtonField=h,h._uncoloredStyles={".toggleBtns .formChildren":{display:"flex",flexWrap:"wrap",marginLeft:"0",marginTop:"5px"},".toggleBtns.flex .formChildren":{},".toggleBtn":{borderRadius:"3px",boxShadow:"1px 1px 4px 2px rgba(0,0,0,.1)",padding:"4px",marginRight:"10px",cursor:"pointer",textAlign:"center",fontSize:"0.8em",border:"1px solid transparent",opacity:"0.7",transition:"all ease-in-out .1s"},".toggleBtn.selected, .toggleBtn:hover":{border:"1px solid <formTheme>",transform:"scale(1.08)"},".toggleBtn.selected":{opacity:"1"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.FORWARD=1]="FORWARD",e[e.BACKWARD=-1]="BACKWARD",e[e.MOVE=0]="MOVE"}(t.DirectionType||(t.DirectionType={}))},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(3),r=i(33),o=i(4),a=i(8),l=i(5),u=i(0),h=i(24),d=i(1);class c extends r.CollapsibleField{constructor(e,t,i){super(e,t),a.isField(t)&&(i=t.children),this._parseChildren(i)}_getUncoloredStyles(){return this._mergeThemes(c._uncoloredStyles,r.CollapsibleField._uncoloredStyles,o.Field._uncoloredStyles)}setThemeColor(e,t,i){super.setThemeColor(e,t),this._children&&(a.isField(this._children)?this._children.setThemeColor(e,t,i):l.map(this._children,s=>{s.setThemeColor(e,t,i)}))}get children(){return this._children}get _defaultCls(){return"kipFormElem section"}get _defaultValue(){return{}}get _type(){return n.FieldTypeEnum.SECTION}_onCreateElements(){this._createCollapsibleTitle(),this._elems.childrenContainer=u.createSimpleElement("","formChildren","",null,null,this._elems.base),this._createStyles(),this._updateClsBasedOnLayout()}_createClonedElement(e){return new c(this._id+e,this)}_parseChildren(e){if(e)if(a.isField(e)){let t=this._parseChild(e);this._children=t}else this._children={},l.map(e,(e,t)=>{let i=this._parseChild(e);this._children[t]=i});else e={}}_parseChild(e){let t=this._cloneFormElement(e);return this._applyColors(t),t.draw(this._elems.childrenContainer),h.formEventHandler.addEventListener(h.FORM_ELEM_CHANGE,{func:e=>{e.context.key===t.id&&window.setTimeout(()=>{this._updateInternalData(!0),this._dispatchChangeEvent(t.id)},0)},target:t,uniqueId:this._id+"|"+t.id}),t}_updateInternalData(e){return s(this,void 0,void 0,(function*(){let t;if(a.isField(this._children))t=yield this._children.save(e);else{t={};let i=l.map(this._children,(i,n)=>s(this,void 0,void 0,(function*(){return this._updateInternalField(n,i,t,e)})));yield Promise.all(i)}return t}))}_updateInternalField(e,t,i,n){return s(this,void 0,void 0,(function*(){return i[e]=yield t.save(n),Promise.resolve()}))}save(e){return s(this,void 0,void 0,(function*(){return this._data=yield this._updateInternalData(e),this._data}))}canSave(){if(a.isField(this._children))return this._children.canSave();{let e={hasErrors:!1,hasMissingRequired:!1};return l.map(this._children,t=>{let i=t.canSave();e.hasErrors=e.hasErrors||i.hasErrors,e.hasMissingRequired=e.hasMissingRequired||i.hasMissingRequired},()=>e.hasErrors&&e.hasMissingRequired),e}}clear(){a.isField(this._children)?this._children.clear():l.map(this._children,(e,t)=>{e.clear()})}focus(){if(!this._children)return!1;if(a.isField(this._children))return this._children.focus();{let e;return l.map(this._children,(t,i)=>{t.focus()&&(e=!0)},()=>e),e}}update(e,t){e&&(a.isField(this._children)?this._children.update(e,t):l.map(this._children,(i,s)=>{i.update(e[s],t)}))}_getValueFromField(){return this._data}_validate(e){return!0}addChildElement(e,t){return!a.isField(this._children)&&(this._children||(this._children={}),this._children[e]=this._parseChild(t),!0)}_updateClsBasedOnLayout(){let e;switch(this._config.layout){case n.FormElementLayoutEnum.FLEX:e="flex";break;case n.FormElementLayoutEnum.TABLE:e="table";break;case n.FormElementLayoutEnum.LABEL_AFTER:case n.FormElementLayoutEnum.MULTILINE:default:e="multiline"}d.addClass(this._elems.childrenContainer,e)}getField(e){if(e===this._id)return this;if(a.isField(this._children))return this._children.getField(e);{let t;return l.map(this._children,i=>{t||(t=i.getField(e))},()=>!!t),t}}}t.SectionField=c,c._uncoloredStyles={".kipFormElem.section":{marginTop:"10px",marginBottom:"5px"},".kipFormElem .sectionHeader":{fontFamily:"OpenSansBold,Segoe UI,Helvetica",fontSize:"1.5em",color:"<formTheme>",fontWeight:"bold"},".kipFormElem .section .sectionHeader, .kipFormElem .array .sectionHeader":{fontSize:"1.2em",color:"<formSubTheme>"},".kipFormElem.section > .formChildren .section.collapsible > .formChildren":{borderLeft:"1px solid <formTheme>",paddingLeft:"20px"},".kipFormElem.section > .formChildren .section > .sectionHeaderContainer.hidden + .formChildren":{borderLeft:"0 solid",paddingLeft:"0"},".kipFormElem.section > .formChildren.flex":{display:"flex",alignItems:"center",marginLeft:"0",nested:{"> .kipFormElem":{width:"auto"}}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.YES=1]="YES",e[e.NO=0]="NO"}(t.YesNoEnum||(t.YesNoEnum={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(84),n=i(17);t.HistoryChain=class{push(e){let t=new s.HistoryNode(e);if(!this._start)return this._start=t,this._end=t,void(this._curNode=t);this._curNode!==this._end&&this._clearToCurIdx(),this._end.next=t,t.previous=this._end,this._end=t,this._curNode=this._end}_clearToCurIdx(){this._end=this._curNode,this._curNode.next=null}navigateBack(){return this._curNode.previous?(window.setTimeout(()=>{this._curNode=this._curNode.previous},0),this._curNode.previous.data):null}navigateForward(){return this._curNode.next?(window.setTimeout(()=>{this._curNode=this._curNode.next},0),this._curNode.next.data):null}updateCurrentState(e){if(!this._curNode)return!1;let t=this._curNode.data,i=n.combineObjects(t,e,!0);return this._curNode.data=i,!0}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(21),n=i(13),r=i(22),o=i(6);class a extends s.SVGElem{constructor(e,t,...i){e&&i.splice(0,0,e),super(t,...i)}_setAttributes(e,t){return e.type="path",e.d="",this._points=t||[],e}_createElements(){this._startPath(this._attributes);let e=!0,t=this._points;for(let i of t)e?(this.moveTo(i),e=!1):i.controls?this.curveTo(i):l(i)?this.arcTo(i):this.lineTo(i);this._attributes.noFinish?this.finishPathWithoutClosing():this.closePath()}_updateExtrema(){this._extrema={max:null,min:null};for(let e of this._points)this._updateExtremaFromPoint(e)}_updateExtremaFromPoint(e){if(!this._extrema.max||!this._extrema.min)return this._extrema.max=n.cloneObject(e),void(this._extrema.min=n.cloneObject(e));e.x<this._extrema.min.x&&(this._extrema.min.x=e.x),e.y<this._extrema.min.y&&(this._extrema.min.y=e.y),e.x>this._extrema.max.x&&(this._extrema.max.x=e.x),e.y>this._extrema.max.y&&(this._extrema.max.y=e.y)}_checkForCurrentPath(){if(!this._elems.base)throw new Error("no path started")}_constructPathAttribute(e,t){let i="";return i=e+this._pointToAttributeString(t)+"\n",i}_pointToAttributeString(e){return e.x+" "+e.y}_addToPathAttribute(e){this._checkForCurrentPath();let t=this._elems.base.getAttribute("d")||"";return t+=e,this._elems.base.setAttribute("d",t),!0}_startPath(e){return super._createElements(this._attributes),this._elems.base}lineTo(e){this._checkForCurrentPath(),this._addToPathAttribute(this._constructPathAttribute("L",e))}moveTo(e){this._checkForCurrentPath(),this._addToPathAttribute(this._constructPathAttribute("M",e))}curveTo(e){let t;this._checkForCurrentPath(),t="C"+this._pointToAttributeString(e.controls[0])+", ",t+=this._pointToAttributeString(e.controls[1])+", ",t+=this._pointToAttributeString(e)+"\n",this._addToPathAttribute(t)}arcTo(e){let t;t="A"+this._pointToAttributeString(e.radius)+" ",t+=e.xRotation+" "+e.largeArc+" "+e.sweepFlag+" ",t+=this._pointToAttributeString(e)+"\n",this._addToPathAttribute(t)}closePath(){this._addToPathAttribute(" Z"),this.finishPathWithoutClosing()}finishPathWithoutClosing(){}_calculatePolygonPoint(e,t,i){return{x:e.x+r.roundToPlace(Math.sin(t)*i,10),y:e.y+r.roundToPlace(-1*Math.cos(t)*i,10)}}}function l(e){return!o.isNullOrUndefined(e.radius)}t.PathElement=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(7);t.UnitTester=class{test(e,t,i,s){s=s||"";let n=this.testEquality(t,i);return this._ui.renderTest({name:e,pass:n,actualResult:t,expectedResult:i,message:s}),n}assert(e,t,i,s){let n=t?i:s;this._ui.renderTest({name:e,pass:t,message:n})}startGroup(e){this._ui.startGroup(e)}startSubGroup(e){this._ui.startSubgroup(e)}_testFunction(e,t,i){this._ui.startSubgroup(t);for(let t=0;t<i.length;t+=1){let s=i[t],n=e.apply(window,s.params);this.test(this._getTestName(s),n,s.result)}}testEquality(e,t){return e.equals?e.equals(t):e===t}_getTestName(e){return e.details?e.details:s.format("({0}) ==> {1}",e.params.join(", "),e.result)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(7);t.TestUI=class{constructor(){}_buildValueString(e){return e.actualResult&&e.expectedResult?e.pass?s.format("'{0}' = '{1}'",e.actualResult,e.expectedResult):s.format("'{0}' != '{1}'",e.actualResult,e.expectedResult):""}_passToString(e){return e?"pass":"fail"}}},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(5),r=i(11);t.Binder=new class{constructor(){this._id=0,this._started=!1,this._boundDetails={},this._startAnimationLoop()}_getNextId(){return this._id+=1,this._id.toString()}bind(e,t,i,s){if(!e||!t)return"";let n=e();r.nextRender().then(()=>t(n));let o={id:this._getNextId(),eval:e,update:t,delete:i||(()=>!1),lastValue:n,equals:s||((e,t)=>e===t)};return this._boundDetails[o.id]=o,o.id}unbind(e){return!!this._boundDetails[e]&&(delete this._boundDetails[e],!0)}_startAnimationLoop(){this._started||this._onFrame()}_onFrame(){return s(this,void 0,void 0,(function*(){return n.map(this._boundDetails,e=>{this._handlingBinding(e)}),r.nextRender().then(()=>this._onFrame())}))}_handlingBinding(e){return s(this,void 0,void 0,(function*(){if(e.delete())return void this.unbind(e.id);let t=e.eval();e.equals(t,e.lastValue)||(e.lastValue=t,e.update(t))}))}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(7),n=i(12),r=i(1),o=i(5),a=i(13),l=i(6),u=i(26);class h extends u.NamedClass{constructor(){super("Stylable"),this._colors={},this._createStyles(),this._hasCreatedStyles=!0,this._registerMediaListeners()}static _buildThemeColorId(e){return s.format("<{0}>",e)}static _containedPlaceholder(e){let t=/<(.+?)>/.exec(e);return t&&t[1]?t[1]:""}static _findAllContainedPlaceholders(e){let t,i=JSON.stringify(e),s=[],n=/<(.+?)>/g;do{if(t=n.exec(i),!t)break;s.push(t[1])}while(t);return s}static _updateAllThemeColors(){o.map(this._themeColors,(e,t)=>{this._updateThemeColor(t)})}static _updateThemeColor(e){let t=a.cloneObject(this._themedStyles[e]||{});t&&(o.map(t,(i,s)=>{i&&(this._updateColorInClassDefinition(i,e),t[s]=i)}),this._createColoredStyles(t,e,!0))}static _updateColorInClassDefinition(e,t){let i=this._themeColors[t];if(!i)return;let s=!1;return o.map(e,(n,r)=>{if("object"==typeof n)return;let o=!1,a=n.split(" ");a.map((e,s)=>{this._containedPlaceholder(e)===t&&(a[s]=e.replace(new RegExp("<?"+t+">?","g"),i),o=!0)}),o?(e[r]=a.join(" "),s=!0):delete e[r]}),s}static _mergeIntoStyles(e){this._pageStyles=this._mergeThemes("",this._pageStyles,e),this._themedStyles=this._mergeColorThemes(e)}static _mergeThemes(e,...t){let i,s=[];for(i of t){let e=this._cleanStyles(i);s.push(e)}return this._combineThemes(e,...s)}static _mergeColorThemes(...e){let t;for(let i of e)t=this._findAllContainedPlaceholders(i);let i={};for(let s of t)i[s]||(this._themedStyles[s]?e.push(this._themedStyles[s]):this._themedStyles[s]={},this._themedStyles[s]=this._mergeThemes(s,...e));return this._themedStyles}static _combineThemes(e,...t){let i={};return t.map(t=>{o.map(t,(t,s)=>{i[s]||(i[s]={}),i[s]=this._mergeDefinition(e,t,i[s]),o.isEmptyObject(i[s])&&delete i[s]})}),i}static _mergeDefinition(e,...t){let i={};for(let s of t)o.map(s,(t,s)=>{let n=this._containedPlaceholder(t);(l.isNullOrUndefined(e)||n===e)&&(i[s]=t)});return i}static _mergeIntoFonts(e){o.map(e,(e,t)=>{this._customPageFonts[t]=e})}static _createStyles(e){let t=h._pageStyles;this._styleElems=this._sharedCreateStyles(t,this._styleElems,e),this._createFontStyles(e)}static _createFontStyles(e){let t=h._customPageFonts;this._customFontElem||(this._customFontElem=n.createStyleElement(!1),document.head.appendChild(this._customFontElem)),this._customFontElem.innerHTML="",o.map(t,(e,t)=>{let i=n.createFontDefinition(t,e,!0);this._customFontElem.innerHTML+=i.innerHTML})}static _createAllColoredStyles(e){this._updateAllThemeColors()}static _createColoredStyles(e,t,i){this._colorStyleElems[t]=this._sharedCreateStyles(e,this._colorStyleElems[t],i)}static _sharedCreateStyles(e,t,i){if(!e)return;let s=0;if(t&&t.length>0)for(let e of t)window.setTimeout(()=>{document.head.removeChild(e)},100);t=[];let r=this._addNewElement(t);return o.map(e,(e,o)=>{let a=n.createClass(o,e,!0,i,!0);a&&(s+=a.innerHTML.length,s>=1e4&&(r=this._addNewElement(t),s=0),r.innerHTML+=a.innerHTML)}),t}static _addNewElement(e){let t=n.createStyleElement(!1);return t.innerHTML='@charset "utf-8";\n',e.push(t),document.head.appendChild(t),t}static _cleanStyles(e,t){let i={};return o.map(e,(e,s)=>{let n,r=s.split(",");if(t)for(let e=0;e<r.length;e+=1){let i=r[e];-1!==i.indexOf("&")?r[e]=i.replace(/&/g,t):r[e]=t+" "+i}for(n of r){let t=this._cleanClassDef(n,e);i=this._combineThemes(null,i,t)}}),i}static _cleanClassDef(e,t){let i={};return i[e]={},o.map(t,(t,s)=>{if("nested"===s){let s=this._cleanStyles(t,e);i=this._combineThemes(null,i,s)}else i[e][s]=t}),i}get _uncoloredStyles(){return this.constructor._uncoloredStyles}get uncoloredStyles(){return this._getUncoloredStyles()}_getUncoloredStyles(){return this.constructor._uncoloredStyles}get _customFonts(){return this.constructor._customFonts}get customFonts(){return this._getCustomFonts()}_getCustomFonts(){return this.constructor._customFonts}_registerMediaListeners(){this._registerMediaListener("print","print"),this._registerMediaListener("(max-width:1200px)","mobile"),this._registerMediaListener("(max-width:1200px) and (min-width:801px)","large"),this._registerMediaListener("(max-width:800px) and (min-width:601px)","medium"),this._registerMediaListener("(max-width:600px) and (min-width:401px)","small"),this._registerMediaListener("(max-width:400px)","tiny")}_registerMediaListener(e,t,i){let s=window.matchMedia(e);s.addListener(e=>{e.matches?r.addClass(i||document.body,t):r.removeClass(i||document.body,t)}),s.matches&&r.addClass(i||document.body,t)}_applyColors(e){o.map(this._colors,(t,i)=>{t&&(e?e.setThemeColor(i,t,!0):this.setThemeColor(i,t,!0))})}setThemeColor(e,t,i){t&&e&&(i&&h._themeColors[e]||h._themeColors[e]!==t&&(h._themeColors[e]=t,h._updateThemeColor(e)))}_buildThemeColorId(e){return h._buildThemeColorId(e)}_mergeThemes(...e){return h._mergeThemes(null,...e)}mergeInStyles(...e){let t=h._mergeThemes(null,...e);return h._mergeIntoStyles(t),h._createStyles(!0),h._createAllColoredStyles(!0),this}_createStyles(e){if(!this.uncoloredStyles)return;if(h._createdStyles[this.constructor.name]&&!e)return;let t=a.cloneObject(this.uncoloredStyles);t=this._cleanStyles(t),h._mergeIntoStyles(t);let i=a.cloneObject(this._customFonts);h._mergeIntoFonts(i),h._createStyles(e),h._createAllColoredStyles(e),h._createdStyles[this.constructor.name]=!0}_cleanStyles(e,t){return h._cleanStyles(e,t)}}t.Stylable=h,h._pageStyles={},h._themedStyles={},h._themeColors={},h._colorStyleElems={},h._customPageFonts={},h._createdStyles={},h._customFonts={}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(18),n=i(10),r=i(9),o=i(13),a=i(62);class l extends s.CanvasElement{constructor(e,t){super(e),this._respondToScale=!1,this._elements=new n.Collection,this._referencePoint=t?{x:t.x,y:t.y}:{x:0,y:0},this._initializeRects()}get type(){return r.ElementType.Group}set referencePoint(e){this.adjustDimensions({x:e.x-this._referencePoint.x,y:e.y-this._referencePoint.y})}get isHoverTarget(){let e=!1;return this._elements.map(t=>{t.isHoverTarget&&(e=!0)}),e}_initializeRects(){this._dimensions={x:this._referencePoint.x,y:this._referencePoint.y,w:0,h:0},this._needsInitialDimensions=!0,super._initializeRects()}_onDraw(e){this._elements.map(e=>{e.draw()})}updateDimensions(e){if(super.updateDimensions(e),this._isOffScreen)return;this._elements.map(t=>{t.updateDimensions(e)})}addElement(e){e.adjustDimensions(this._referencePoint),this._elements.add(e.id,e),e.parent=this,this._canvas&&(e.canvas=this._canvas,this._canvas.needsRedraw=!0),this._updateInternalDimensionsFromElement(e)}_updateInternalDimensionsFromElement(e){let t={x:this._dimensions.x,y:this._dimensions.y,w:this._dimensions.w,h:this._dimensions.h};e.dimensions.x<t.x&&(t.x=e.dimensions.x),e.dimensions.x+e.dimensions.w>t.x+t.w&&(t.w=e.dimensions.x+e.dimensions.w-t.x),e.dimensions.y<t.y&&(t.y=e.dimensions.y),e.dimensions.y+e.dimensions.h>t.y+t.h&&(t.h=e.dimensions.y+e.dimensions.h-t.y),this._dimensions={x:t.x,y:t.y,w:t.w,h:t.h},this._needsInitialDimensions=!1}handleEvent(e,t,i){if(super.handleEvent(e,t,i),!t)return;e!==r.EventTypeEnum.LEAVE&&e!==r.EventTypeEnum.HOVER||this._clearHover(t,i);let s,n=this._findElementsAtPoint(t);for(s of n)s.handleEvent(e,t,i)}_clearHover(e,t){this._elements.map(i=>{i.isHoverTarget&&i.leave(e,t)})}_findElementsAtPoint(e){let t=[];return this._elements.map(i=>{i.isOffScreen||a.isPointContained(e,i.displayDimensions)&&t.push(i)}),t}removeElement(e){return!!this._elements.remove(e)&&(this._canvas.needsRedraw=!0,!0)}_cloneForEffect(e){o.clonePoint(this._referencePoint);let t=new l(e);return this._elements.map(e=>{let i=e._cloneForEffect(e.id+"|e");t.addElement(i)}),t}_scale(e){this._isEffect&&this._elements.map(t=>{t._scale(e)})}adjustDimensions(e){super.adjustDimensions(e),this._referencePoint.x+=e.x,this._referencePoint.y+=e.y,this._elements.map(t=>{t.adjustDimensions(e)})}_setCanvas(e){super._setCanvas(e),this._elements.map(e=>{e.canvas=this._canvas,this._updateInternalDimensionsFromElement(e)})}}t.CanvasGroup=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(9);class n{constructor(e){this._listeners=[],e?(this._fillColor=e.fillColor,this._strokeColor=e.strokeColor,this._font=e.font,this._fontFamily=e.fontFamily,this._fontSize=e.fontSize,this._fontVariant=e.fontVariant,this._strokeSize=e.strokeSize,this._textAlign=e.textAlign):(this._fillColor="#000",this._strokeColor="#000",this._strokeSize=1,this._fontFamily="Helvetica",this._fontSize=40,this._textAlign="left")}get fillColor(){return this._fillColor}set fillColor(e){this._fillColor=e,this._onChange(s.StyleChangeEnum.FILL_COLOR)}get strokeColor(){return this._strokeColor}set strokeColor(e){this._strokeColor=e,this._onChange(s.StyleChangeEnum.STROKE_COLOR)}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this._onChange(s.StyleChangeEnum.FONT_FAMILY)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this._onChange(s.StyleChangeEnum.FONT_VARIANT)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize=e,this._onChange(s.StyleChangeEnum.FONT_SIZE)}get strokeSize(){return this._strokeSize}set strokeSize(e){this._strokeSize=e,this._onChange(s.StyleChangeEnum.STROKE_SIZE)}get textAlign(){return this._textAlign}set textAlign(e){this._textAlign=e,this._onChange(s.StyleChangeEnum.TEXT_ALIGN)}get font(){if(this._font)return this._font;return(this._fontVariant?this._fontVariant+" ":"")+(this._fontSize?this._fontSize+"px ":"")+this._fontFamily}set font(e){this._font=e,this._onChange(s.StyleChangeEnum.FONT)}addStyleChangeListener(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}_onChange(e){if(!this._listeners[e])return;let t;for(t of this._listeners[e])t()}setStyle(e){this._saveOffOldStyle(e),this._applyStyleToContext(e,this)}restoreStyle(e){this._applyStyleToContext(e,this._oldStyle)}_saveOffOldStyle(e){this._oldStyle=new n,this._oldStyle.fillColor=e.fillStyle,this._oldStyle.strokeColor=e.strokeStyle,this._oldStyle.font=e.font,this._oldStyle.strokeSize=e.lineWidth,this._oldStyle.textAlign=e.textAlign}_applyStyleToContext(e,t){e.fillStyle=t.fillColor,e.strokeStyle=t.strokeColor,e.textAlign=t.textAlign,e.font=t.font,e.lineWidth=t.strokeSize}}t.CanvasElementStyle=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(28),n=i(29),r=i(61);function o(e,t){s.toBasicRect(e),s.toBasicRect(t);return!1}function a(e,t){return d(n.globalOffsetLeft(e),n.globalOffsetLeft(t))}function l(e,t){return d(-1*(n.globalOffsetLeft(e)+e.offsetWidth),-1*(n.globalOffsetLeft(t)+t.offsetWidth))}function u(e,t){return d(n.globalOffsetTop(e),n.globalOffsetTop(t))}function h(e,t){return d(-1*(n.globalOffsetTop(e)+e.offsetHeight),-1*(n.globalOffsetTop(t)+t.offsetHeight))}function d(e,t){return e<t?r.SortOrderEnum.CORRECT_ORDER:e>t?r.SortOrderEnum.INCORRECT_ORDER:r.SortOrderEnum.SAME}t.doElementsOverlap=function(e,t){let i,s;return i=e.getBoundingClientRect(),s=t.getBoundingClientRect(),o(i,s)},t.doRectsOverlap=o,t.doBasicRectsOverlap=function(e,t){let i,s;return e.x>=t.x&&e.x<=t.w+t.x&&(i=!0),t.x>=e.x&&t.x<=e.w+e.x&&(i=!0),e.y>=t.y&&e.y<=t.h+t.y&&(s=!0),t.y>=e.y&&t.y<=e.h+e.y&&(s=!0),i&&s},t.findBasicRectIntersection=function(e,t){let i,s=Math.max(e.x,t.x),n=Math.min(e.x+e.w,t.x+t.w),r=Math.max(e.y,t.y);return i={x:s,y:r,w:n-s,h:Math.min(e.y+e.h,t.y+t.h)-r},i},t.compareLeftPosition=a,t.getLeftMost=function(...e){return e.sort(a)[0]},t.compareRightPosition=l,t.getRightMost=function(...e){return e.sort(l)[0]},t.compareTopPosition=u,t.getTopMost=function(...e){return e.sort(u)[0]},t.compareBottomPosition=h,t.getBottomMost=function(...e){return e.sort(h)[0]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(39);t.isIExtrema=function(e){return s.isInterface(e,{min:{x:0,y:0},max:{x:0,y:0}})},t.isClientRect=function(e){return!!s.isInterface(e,{top:1,bottom:1,left:1,right:1,height:1,width:1})},t.isSVGRect=function(e){return!!s.isInterface(e,{x:1,y:1,width:1,height:1})},t.isIBasicRect=function(e){return!!s.isInterface(e,{x:1,y:1,w:1,h:1})},t.isIPoint=function(e){return s.isInterface(e,{x:1,y:1,z:0})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.INCORRECT_ORDER=1]="INCORRECT_ORDER",e[e.SAME=0]="SAME",e[e.CORRECT_ORDER=-1]="CORRECT_ORDER"}(t.SortOrderEnum||(t.SortOrderEnum={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(28);function n(e,t){let i=s.toBasicRect(t);return!(e.x<i.x)&&(!(e.x>i.x+i.w)&&(!(e.y<i.y)&&!(e.y>i.y+i.h)))}function r(e,t){let i,n;return i=s.toBasicRect(e),n=s.toBasicRect(t),!(i.x<n.x)&&(!(i.x+i.w>n.w+n.x)&&(!(i.y<n.y)&&!(i.y+i.h>n.h+n.y)))}t.isWithin=function(e,t,i,s){return s?e<i&&e>t:e<=i&&e>=t},t.isPointContained=n,t.isRectContained=r,t.isElementContained=function(e,t){return r(e.getBoundingClientRect(),e.getBoundingClientRect())},t.isShapeContained=function(e,t){let i;for(i of e)if(!n(i,t))return!1;return!0}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LinkedNode=class{constructor(e){this._data=e,this._previous=null,this._next=null}get data(){return this._data}set data(e){this._data=e}get next(){return this._next}set next(e){this._next=e}get previous(){return this._previous}set previous(e){this._previous=e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(19),n=i(44);class r extends n.Tree{constructor(e){super(e),this._count=1}add(e){switch(this._compare(e)){case o.EQUAL:this._count+=1;break;case o.LESS_THAN:this._addToSubTree("left",e);break;case o.GREATER_THAN:this._addToSubTree("right",e)}}_addToSubTree(e,t){this._subTrees[e]||(this._subTrees[e]=this._createSubTree(t),this._subTrees[e]._parent=this),this._subTrees[e].add(t)}remove(e){switch(this._compare(e)){case o.EQUAL:this._removeMe();break;case o.LESS_THAN:this._removeFromSubTree("left",e);break;case o.GREATER_THAN:this._removeFromSubTree("right",e)}}_removeMe(){let e=this._getRelationToParent();if(!e)return this._removeMeAsTopNode();delete this._parent[e]}_removeMeAsTopNode(){}_removeFromSubTree(e,t){this._subTrees[e]&&this._subTrees[e].remove(t)}exists(e){switch(this._compare(e)){case o.EQUAL:return!0;case o.LESS_THAN:return this._checkSubTreeExists("left",e);case o.GREATER_THAN:return this._checkSubTreeExists("right",e);default:return!1}}_checkSubTreeExists(e,t){return!!this._subTrees[e]&&this._subTrees[e].exists(t)}max(){return this._subTrees.right?this._subTrees.right.max():this._data}min(){return this._subTrees.left?this._subTrees.left.min():this._data}_compare(e){return s.isComparable(e)?this._compareObject(e):this._comparePrimitive(e)}_compareObject(e){if(!e)return o.ERR;let t=this._data;return t?e.equals(t)?o.EQUAL:e.lessThan(t)?o.LESS_THAN:e.greaterThan(t)?o.GREATER_THAN:o.ERR:o.ERR}_comparePrimitive(e){return e<this._data?o.LESS_THAN:e>this._data?o.GREATER_THAN:o.EQUAL}_getRelationToParent(){let e=o.ERR;switch(this._parent&&(e=this._compare(this._parent._data)),e){case o.LESS_THAN:return"right";case o.GREATER_THAN:return"left"}return null}isComplete(){return!this._subTrees.left&&!this._subTrees.right||!!this._subTrees.left&&(!!this._subTrees.right&&(!!this._subTrees.left.isComplete()&&!!this._subTrees.right.isComplete()))}isBalanced(){let e=this._getSideDepth("left"),t=this._getSideDepth("right");return!(Math.abs(e-t)>1)&&(!!this._isSubTreeBalanced("left")&&!!this._isSubTreeBalanced("right"))}_isSubTreeBalanced(e){return!this._subTrees[e]||this._subTrees[e].isBalanced()}_getSideDepth(e){return this._subTrees[e]?this._subTrees[e].getDepth():0}_createSubTree(e){return new r(e)}toString(){let e=[];this._subTrees.left&&e.push(this._subTrees.left),this._subTrees.right&&e.push(this._subTrees.right);let t=[];return t.push(this._data),e.length>0&&(t.push("->("),t.push(e.join(",")),t.push(")")),t.join("")}}var o;t.BinaryTree=r,function(e){e[e.ERR=0]="ERR",e[e.LESS_THAN=1]="LESS_THAN",e[e.EQUAL=2]="EQUAL",e[e.GREATER_THAN=3]="GREATER_THAN"}(o=t.CompareResult||(t.CompareResult={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(45),n=i(1);class r extends s.GenericDraggable{_createElements(){n.addClass(this._elems.base,"draggable"),this._addEventListeners(),this._addDraggingSignifier()}_onDrop(e){this._isDragging&&(super._onDrop(e),n.removeClass(this._elems.base,"dragging"))}_addEventListeners(){this.addEventListener("mousedown",e=>{e.target!==this._elems.base&&e.target!==this._signifier||(this._onDragStart(e),e.preventDefault())}),window.addEventListener("mousemove",e=>{this._onMove(e)}),window.addEventListener("mouseup",e=>{this._onDrop(e)}),window.addEventListener("mouseout",e=>{})}_createDraggableTarget(e){return new o(e)}}t.ClassicDraggable=r;class o extends s.DraggableTarget{_addEventListeners(){this.addEventListener("mouseup",e=>{s.GenericDraggable.currentDraggable&&this._onDrop(e)}),this.addEventListener("mouseover",e=>{this._onDragEnter(e)}),this.addEventListener("mouseout",e=>{this._onDragLeave(e)})}}t.ClassicDraggableTarget=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(67);t.makeDraggable=function(e,t){let i=new s.ExistingHTML5Draggable(e,t.target);return i.overrideFunctions(t),i.gridSize=t.gridSize||1,i.base}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(65),n=i(68);class r extends s.ClassicDraggable{constructor(e,t){super(null,t),this._elems.base=e,this._addEventListeners()}overrideFunctions(e){e.onMove&&(this._overrideFunctions.move=e.onMove)}_onMove(e){if(super._onMove(e),!this._overrideFunctions.move)return;let t=this._calculateDelta();this._overrideFunctions.move(t)}}t.ExistingClassicDraggable=r;class o extends n.HTML5Draggable{constructor(e,t){super(null,t),this._elems.base=e,this._addEventListeners()}overrideFunctions(e){e.onMove&&(this._overrideFunctions.move=e.onMove)}_onMove(e){if(super._onMove(e),!this._overrideFunctions.move)return;let t=this._calculateDelta();this._overrideFunctions.move(t)}}t.ExistingHTML5Draggable=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(45),n=i(1),r=i(0);class o extends s.GenericDraggable{_createElements(){this._elems.base.setAttribute("draggable","true"),n.addClass(this._elems.base,"draggable"),this._addEventListeners(),this._elems.blank=r.createElement({type:"canvas",attr:{width:"1px",height:'1px"'},cls:"blank",parent:document.body})}_createDraggableTarget(e){return new a(e)}_addEventListeners(){this.base.addEventListener("dragstart",e=>{this._onDragStart(e)}),this.base.addEventListener("drag",e=>{this._onMove(e)}),this.base.addEventListener("dragend",e=>{this._onDrop(e)})}_onDragStart(e){super._onDragStart(e),e.dataTransfer.setDragImage(this._elems.blank,0,0),window.setTimeout(()=>{n.addClass(this._elems.base,"dragging")},50)}_onMove(e){0!==e.buttons&&super._onMove(e)}_onDrop(e){super._onDrop(e),n.removeClass(this._elems.base,"dragging")}}t.HTML5Draggable=o;class a extends s.DraggableTarget{_addEventListeners(){this.base.addEventListener("dragover",e=>{this._onDragEnter(e)}),this.base.addEventListener("dragexit",e=>{this._onDragLeave(e)}),this.base.addEventListener("drop",e=>{this._onDrop(e)})}_onDragEnter(e){e.preventDefault(),super._onDragEnter(e)}_onDrop(e){e.preventDefault(),super._onDrop(e)}_onDragLeave(e){e.preventDefault(),super._onDragLeave(e)}}t.HTML5DragTarget=a},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(2),r=i(0),o=i(1),a=i(11),l=i(14);class u extends n.Drawable{constructor(e,t){super(),this._id=e.id,this._display=e.display,this._selectParent=t,this._createElements()}get id(){return this._id}get display(){return this._display}get isFiltered(){return this._isFiltered}get isSelected(){return this._isSelected}_shouldSkipCreateElements(){return!0}_createElements(){this._elems={},this._isFiltered=!0,this._elems.base=r.createElement({id:"opt|"+this._id,cls:"dynamicOption filtered",eventListeners:{click:()=>{console.log("click processed"),this._selectParent.select(this)}}}),this._elems.text=r.createElement({content:this._display,cls:"optText",parent:this._elems.base})}select(){if(this._isFiltered)return!1}hilite(){return!this._isFiltered&&(o.addClass(this._elems.base,"hilite"),this._elems.base.scrollIntoView(),!0)}unhilite(){return o.removeClass(this._elems.base,"hilite"),!0}_filter(){this._isFiltered||(this._isFiltered=!0,l.transition(this._elems.base,{maxHeight:"<height>",padding:"5px"},{maxHeight:"0",padding:"0"},200).then(()=>{o.addClass(this._elems.base,"filtered")}))}_unfilter(){this._isFiltered&&(this._isFiltered=!1,o.removeClass(this._elems.base,"filtered"),l.transition(this._elems.base,{maxHeight:"0",padding:"0"},{maxHeight:"<height>",padding:"5px"},200).then)}tryFilter(e){return s(this,void 0,void 0,(function*(){let t;yield a.nextRender();let i=!1,s=this._display.toLowerCase(),n=this._id.toLowerCase();for(t of e)if(-1===s.indexOf(t)&&-1===n.indexOf(t)){i=!0;break}i?this._filter():this._unfilter()}))}}t.DynamicOption=u,u._uncoloredStyles={".dynamicOption":{overflow:"hidden",cursor:"pointer",padding:"5px",nested:{"&.filtered":{maxHeight:"0",padding:"0"},"&:hover, &.hilite":{backgroundColor:"#eee"}}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNamedClass=function(e,t){if(!t)return!1;let i;return i=e.paddedClassName,!!i&&-1!==i.indexOf(t)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Event=class{constructor(e){this._context=e}get key(){return this._key}get context(){return this._context}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(10),n=i(30),r=i(19);t.EventDefinition=class{constructor(e,t){this._numOfListeners=0,this._name=t,this._key=e,this._listeners=new s.Collection(n.CollectionTypeEnum.ReplaceDuplicateKeys)}addListener(e){e.uniqueId=e.uniqueId||this._key+this._numOfListeners.toString(),this._listeners.add(e.uniqueId,e),this._numOfListeners+=1}removeEventListener(e){e&&this._listeners.remove(e)}notifyListeners(e){this._listeners.map((t,i)=>{t&&(t.target&&!r.equals(t.target,e.context.target)||t.func(e))})}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(72),n=i(10);t.EventHandler=class{constructor(){this._events=new n.Collection}createEvent(e,t){let i=new s.EventDefinition(e,t);return-1!==this._events.add(e,i)}dispatchEvent(e,t){let i=this._events.getValue(t.key);i&&i.notifyListeners(t)}addEventListener(e,t){let i=this._events.getValue(e);i&&("function"==typeof t&&(t={func:t}),i.addListener(t))}removeEventListener(e,t){if(e)if(t){let i=this._events.getValue(t);if(!i)return;i.removeEventListener(e)}else this._events.map(t=>{t.removeEventListener(e)})}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(0);function n(e,t){let i,n;if(!e)return t;if("string"==typeof e)t.innerHTML=e;else if(e.appendChild)t.appendChild(e);else for(n in e.create?(i=s.createElement(e.create),t.appendChild(i)):t.innerHTML=e.content,e.attr)e.attr.hasOwnProperty(n)&&t.setAttribute(n,e.attr[n]);return t}t.createTable=function(e,t,i,r,o){let a,l,u,h,d,c;for(r||(r=i&&i.length||0),a=s.createElement({type:"table",cls:t}),d=0;d<r;d+=1)for(o||(o=i[d].length),l=a.insertRow(-1),c=0;c<o;c+=1)h=i[d][c],u=l.insertCell(-1),n(h,u);return a},t.processCellContents=n,t.addRow=function(e,t,i,s){let r,o,a,l;if(i||0===i||(i=-1),s||0===s||(s=t.length),e&&e.insertRow){for(r=e.insertRow(i),a=0;a<s;a+=1)o=r.insertCell(-1),l=t[a]||"",n(l,o);return r}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(76),n=i(2),r=i(77),o=i(6),a=i(1),l=i(28),u=i(29);class h extends n.Drawable{constructor(e,t,i){e||(e={}),e.cls="tooltip hidden"+(e.cls?" "+e.cls:""),super(e),this._offset=i||{x:0,y:0},this.sourceElement=t}set sourceElement(e){this._sourceElement=e,this._addEventListeners(),window.setTimeout(()=>{this._positionAppropriately()},100)}_addEventListeners(){this._sourceElement&&(this._sourceElement.addEventListener("mouseover",()=>{o.isNullOrUndefined(this._hideTimeout)||window.clearTimeout(this._hideTimeout),this._positionAppropriately(),window.setTimeout(()=>{this.draw(document.body)},100)}),this._sourceElement.addEventListener("mouseout",e=>{e.target!==this._elems.base&&(this._hideTimeout=window.setTimeout(()=>{this.erase()},100))}),this._elems.base.addEventListener("mouseover",()=>{o.isNullOrUndefined(this._hideTimeout)||window.clearTimeout(this._hideTimeout)}),this._elems.base.addEventListener("mouseout",()=>{event.target!==this._sourceElement&&(this._hideTimeout=window.setTimeout(()=>{this.erase()},100))}),a.addClass(this._sourceElement,"tooltipSource"),window.addEventListener("resize",()=>{this._positionAppropriately()}))}_createElements(){}_positionAppropriately(){if(!this._sourceElement)return;let e;this._tooltipRect=l.clientRectToBasicRect(u.measureElement(this._elems.base)),this._sourceRect=l.clientRectToBasicRect(u.measureElement(this._sourceElement));for(let t=r.TooltipPositionType.TOP;t<=r.TooltipPositionType.RIGHT&&(e=this._assignPosition(t),!e);t+=1);this._tooltipRect=null,this._sourceRect=null}_assignPosition(e){let t=this._setXPosition(e),i=this._setYPosition(e);this._tooltipRect.w,this._tooltipRect.h;return-1!==t&&-1!==i&&(this._elems.base.style.left=t+"px",this._elems.base.style.top=i+"px",!0)}_setYPosition(e){switch(e){case r.TooltipPositionType.TOP:return this._sourceRect.y-this._tooltipRect.h-s.TOOLTIP_MARGIN+this._offset.y;case r.TooltipPositionType.BOTTOM:return this._sourceRect.y+this._sourceRect.h+s.TOOLTIP_MARGIN+this._offset.y;case r.TooltipPositionType.LEFT:case r.TooltipPositionType.RIGHT:return this._normalizeY(this._sourceRect.y,this._tooltipRect.h)}return-1}_setXPosition(e){switch(e){case r.TooltipPositionType.TOP:case r.TooltipPositionType.BOTTOM:return this._normalizeX(this._sourceRect.x,this._tooltipRect.w);case r.TooltipPositionType.LEFT:return this._sourceRect.x-this._tooltipRect.w-s.TOOLTIP_MARGIN+this._offset.x;case r.TooltipPositionType.RIGHT:return this._sourceRect.x+this._sourceRect.w+s.TOOLTIP_MARGIN+this._offset.x}return-1}_normalizeX(e,t){return this._normalize(e+this._offset.x,t,0,window.innerWidth)}_normalizeY(e,t){return this._normalize(e+this._offset.y,t,0,window.innerHeight)}_normalize(e,t,i,n){return e<i&&(e=s.TOOLTIP_MARGIN),e+t>n&&(e=n-t-s.TOOLTIP_MARGIN),e<i?-1:e}draw(e){this._elems.base.parentNode||super.draw(e),a.removeClass(this._elems.base,"hidden")}erase(){a.addClass(this._elems.base,"hidden")}}t.Tooltip=h,h._uncoloredStyles={".tooltip":{position:"absolute",left:"0",top:"0",maxWidth:"300px",padding:"3px",boxSizing:"border-box",boxShadow:"1px 1px 4px 2px rgba(0,0,0,.2)",opacity:"1",transition:"all 0.1s ease-in-out",backgroundColor:"#FFF",borderRadius:"3px",fontSize:"0.8em",lineHeight:"120%",nested:{"&.hidden":{opacity:"0",pointerEvents:"none"}}},".tooltipSource":{cursor:"pointer"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOOLTIP_MARGIN=2},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(t.TooltipPositionType||(t.TooltipPositionType={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(47),n=i(6),r=i(1),o=i(20);class a extends s.ToggleButtonField{constructor(e,t){super(e,t)}get _multiSelect(){return!0}get _defaultValue(){return[]}_parseFieldTemplate(e){super._parseFieldTemplate(e),this._selectedBtns=[]}update(e,t){n.isNullOrUndefined(e)||(this.clear(),e.map(e=>{let t=this._getButtonToUpdate(e);this._selectBtn(t,e)}))}_shouldBeSelected(e){return-1!==this._indexOf(e.value)}_createClonedElement(e){return new a(this.id+e,this)}_selectBtn(e,t){if(!e)return;let i=this._selectedBtns.indexOf(e),s=this._indexOf(t);-1!==s&&-1===i||(-1!=i?(-1!==i&&(r.removeClass(e,"selected"),this._selectedBtns.splice(i,1)),-1!==s&&this._data.splice(s,1)):(this._data.push(t),this._selectedBtns.push(e),r.addClass(e,"selected")))}_indexOf(e){let t=-1;for(let i=0;i<this._data.length;i+=1){let s=this._data[i];if(this._equalTo(s,e)){t=i;break}}return t}_equalTo(e,t){switch(typeof e){case"string":case"number":case"boolean":return e===t}return e instanceof Date?o.shortDate(e)===o.shortDate(t):e===t}clear(){this._data=[];for(let e=this._selectedBtns.length-1;e>=0;e-=1){let t=this._selectedBtns[e];r.removeClass(t,"selected"),this._selectedBtns.splice(e,1)}}}t.MultiSelectButtonField=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(3),n=i(8);t.isArrayChildElement=function(e){return!!e&&(!!n.isField(e)&&e.type===s.FieldTypeEnum.ARRAY_CHILD)}},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(3),r=i(33),o=i(4),a=i(0),l=i(49),u=i(48);class h extends l.SectionField{constructor(e,t,i){super(e?e.toString():"",i||{},t)}get _type(){return n.FieldTypeEnum.ARRAY_CHILD}get _defaultValue(){return{}}get _defaultCls(){return"arrayChild"}_getUncoloredStyles(){return this._mergeThemes(h._uncoloredStyles,r.CollapsibleField._uncoloredStyles,o.Field._uncoloredStyles)}_onCreateElements(){this._config.allowReordering&&(this._elems.nextBtn=a.createElement({cls:"next kipBtn",content:"&#x276F;",parent:this._elems.base,eventListeners:{click:()=>{this._changeOrder(u.DirectionType.FORWARD)}}}),this._elems.prevBtn=a.createElement({cls:"prev kipBtn",content:"&#x276E;",parent:this._elems.base,eventListeners:{click:()=>{this._changeOrder(u.DirectionType.BACKWARD)}}})),this._elems.closeBtn=a.createElement({cls:"close kipBtn",content:"&#x2715;",parent:this._elems.base,eventListeners:{click:()=>{this._delete()}}}),this._elems.childrenContainer=a.createSimpleElement("","formChildren","",null,null,this._elems.base)}_createClonedElement(e){return new h(this._id+e,this._children)}_cloneFormElement(e){return super._cloneFormElement(e,"|"+this._id)}_delete(){this._elems.base.parentNode.removeChild(this._elems.base),this._data=null,this._dispatchChangeEvent()}_updateInternalData(e){const t=Object.create(null,{_updateInternalData:{get:()=>super._updateInternalData}});return s(this,void 0,void 0,(function*(){return null===this._data?null:t._updateInternalData.call(this,e)}))}addOrderingListener(e){this._orderlistener=e}_changeOrder(e){this._orderlistener&&this._orderlistener.onChangeOrder(this,e)}}t.ArrayChildField=h,h._uncoloredStyles={".kipFormElem.array .formChildren .kipFormElem.arrayChild":{backgroundColor:"#FFF",borderRadius:"5px",boxShadow:"1px 1px 5px 2px rgba(0,0,0,.1)",padding:"15px",margin:"0",nested:{".mobile.large &":{maxWidth:"calc(50% - 20px)"},".mobile &":{maxWidth:"calc(100% - 20px)"},".arrayChild":{maxWidth:"100%"},".formChildren":{margin:"10px",marginTop:"0"},".kipBtn:not(.new)":{position:"absolute",cursor:"pointer",transition:"all ease-in-out .2",padding:"2px",boxShadow:"none",backgroundColor:"none",color:"#555",opacity:"0.5",nested:{"&.close":{top:"2px",left:"calc(100% - 25px)"},"&.next, &.prev":{color:"<formTheme>",padding:"0",width:"20px",height:"20px",borderRadius:"0",boxShadow:"none",top:"calc(50% - 8px)"},"&.next":{left:"calc(100% - 20px)"},"&.prev":{left:"0"},"&:hover":{transform:"scale(1.1)",opacity:"0.8"}}}}},".formChildren > div.arrayChild:first-child .prev.kipBtn":{display:"none"},".formChildren > div.arrayChild:last-child .next.kipBtn":{display:"none"}}},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(4),r=i(0),o=i(8),a=i(6),l=i(3);class u extends n.Field{get _type(){return l.FieldTypeEnum.FILE_PATH}get _defaultCls(){return"filepath"}get _defaultValue(){return""}_parseFieldTemplate(e){super._parseFieldTemplate(e),this._onSaveCallback=e.onSave,this._attr=e.attr}_onCreateElements(){this._createStandardLabel(this._elems.base),this._elems.display=r.createSimpleElement("","display",this._data,null,null,this._elems.base),this._elems.inputContainer=r.createSimpleElement("","fileContainer","",null,null,this._elems.base),this._elems.input=o.createInputElement(this._id+"|input","","file","",null,null,this._elems.inputContainer),this._elems.inputLabel=o.createLabelForInput("Upload File",this._id+"|input","filepath",this._elems.inputContainer)}_getValueFromField(){if(!a.isNullOrUndefined(this._tempLink))return this._onLinkChange();if(this._files=this._elems.input.files,console.log(this._files),!this._files)return"";return this._files[0].name}_onLinkChange(){let e=this._tempLink;return this._tempLink=null,e}update(e,t){this._data=e,this._elems.display.innerHTML=e,this._elems.input.value=""}save(e){return s(this,void 0,void 0,(function*(){if(!e){if(this._files){if(!this._onSaveCallback)return"";this._data=yield this._onSaveCallback(this._files)}return this._data}}))}_createClonedElement(e){return new u(this.id+e,this)}}t.FilePathField=u,u._uncoloredStyles={".kipFormElem.filepath input[type=file]":{display:"none"},".kipFormElem.filepath label.filepath":{backgroundColor:"<formTheme>",color:"#FFF",borderRadius:"2px",boxShadow:"1px 1px 5px 2px rgba(0,0,0,.1)",padding:"10px",fontSize:"0.7em",cursor:"pointer"},".kipFormElem.filepath .display":{fontSize:"0.6em",whiteSpace:"break"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(23),n=i(50);class r extends s.Popup{constructor(e,t,i){super(i),this._onSelection=t,this.addContent("","",e),this._createButtons()}_createButtons(){this._createButton("Yes",n.YesNoEnum.YES),this._createButton("No",n.YesNoEnum.NO)}_createButton(e,t){this.addButton(e,()=>{this._onSelection&&(this._onSelection(t),this.erase())})}}t.YesNoPopup=r,t.showYesNoForm=function(e,t){new r(e,t).draw(document.body)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(4),n=i(3);class r extends s.Field{get _type(){return n.FieldTypeEnum.NUMBER}get _defaultValue(){return 0}get _defaultCls(){return"number"}_onCreateElements(){this._createStandardLabeledInput(),this._handleStandardLayout()}_getValueFromField(){return+this._elems.input.value}_createClonedElement(e){return new r(this._id+e,this)}}t.NumberField=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HistoryNode=class{constructor(e){this.data=e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(7),n=i(0),r=i(12);t.createSimpleLabeledElement=function(e,t,i,r,o,a,l,u){let h,d,c;if(null!=r&&!("string"==typeof r&&0===s.trim(r).length||u&&0===r))return h={},h.id=e,h.type="div",h.cls=t,h.attr=o,h.children=a,h.parent=l,d={cls:"lbl",content:i,type:"span"},c={cls:"content",content:r,type:"span"},h.children=[d,c],n.createElement(h)},t.createLabeledElement=function(e,t){if(!e||!t)return;let i=n.createElement(e);t.cls=r.buildClassString(t.cls,"lbl");let s=n.createElement(t);return{data:i,lbl:s,wrapper:n.createElement({cls:"wrapper",children:[s,i]})}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(87);class n extends s._Model{serialize(){let e=this.saveData();return JSON.stringify(e)}toString(){return this.serialize()}deserialize(e){try{let t=JSON.parse(e);return this._copyData(t),!0}catch(t){return console.log("non JSON: "+e),!1}}}t.Serializable=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(7),n=i(5),r=i(31),o=i(6),a=i(27);t._Model=class{constructor(e){this.__propertyListeners={},this.__modelListeners=[],this._setDefaultValues(),e&&(e.saveData&&(e=e.saveData()),this._copyData(e))}_setDefaultValues(){}_copyData(e){n.map(e,(e,t)=>{this._copyPiece(t,e)})}_copyPiece(e,t){let i,n="_copy"+(e[0].toUpperCase()+s.rest(e,1));void 0!==t&&(this[n]?this[n](t):a.isUpdatable(this[e])?this[e].update(t):(i=r.isArray(t)?t.slice():r.isObject(t)?JSON.parse(JSON.stringify(t)):t,this._setValue(e,t)))}_copyModelArray(e,t){let i=[];for(let s of e){let e=new t(s);i.push(e)}return i}_copyModelDictionary(e,t){let i={};return n.map(e,(e,s)=>{i[s]=new t(e)}),i}update(e){this._copyData(e)}saveData(){let e={};return n.map(this,(t,i)=>{if("function"==typeof t)return;let n=i;if("_"===n[0]&&(n=s.rest(n,1)),"_modelListeners"===n)return;if("_propertyListeners"===n)return;let r=this._savePiece(n,t);o.isNullOrUndefined(r)||(e[n]=r)}),e}_savePiece(e,t){let i="_save"+(e[0].toUpperCase()+s.rest(e,1));if(this[i])return this[i]();let n=t||this["_"+e];return this._innerSavePiece(n)}_innerSavePiece(e){return e instanceof Array?this._saveArray(e):e&&e.saveData?this._saveModel(e):"object"==typeof e?this._saveObject(e):this._saveSimple(e)}_saveArray(e){let t=[];for(let i of e)t.push(this._innerSavePiece(i));return t}_saveModel(e){return e.saveData()}_saveObject(e){let t={};return n.map(e,(e,i)=>{t[i]=this._innerSavePiece(e)}),t}_saveSimple(e){return e}_setValue(e,t){let i="_"+e,s=this[i];this[i]=t,this._notifyListeners(e,s,t)}_notifyListeners(e,t,i){this._notifyModelListeners(e,t,i),this._notifyPropertyListeners(e,t,i)}_notifyModelListeners(e,t,i){let s=this.__modelListeners;if(s&&0!==s.length)for(let n of s)n&&n(e,i,t)}_notifyPropertyListeners(e,t,i){let s=this.__propertyListeners[e];if(s)for(let e of s)e&&e(i,t)}registerPropertyListener(e,t){this.__propertyListeners[e]||(this.__propertyListeners[e]=[]),this.__propertyListeners[e].push(t)}registerModelListener(e){}unregisterListeners(){this.__propertyListeners={},this.__modelListeners=[]}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(5);t.DataManager=class{constructor(){this._data={},this._populateWithDefaultData()}_populateWithDefaultData(){}_createAndAddDefault(e){this.add(e)}add(e){return!this.contains(e.id)&&(this._data[e.id]=e,!0)}remove(e){if(!this.contains(e))return null;let t=this.get(e);return delete this._data[e],t}contains(e){return!!this._data[e]}clear(){this._data={}}get(e){return this.contains(e)?this._data[e]:null}toArray(){let e=[];return s.map(this._data,t=>{e.push(t)}),e}toDictionary(){let e={};return s.map(this._data,(t,i)=>{e[i]=t}),e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NONE=0]="NONE",e[e.OPACITY=1]="OPACITY",e[e.SLIDE_LEFT=2]="SLIDE_LEFT",e[e.SLIDE_RIGHT=3]="SLIDE_RIGHT",e[e.SLIDE_UP=4]="SLIDE_UP",e[e.SLIDE_DOWN=5]="SLIDE_DOWN"}(t.INavTransitionType||(t.INavTransitionType={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(7),n=i(0);t.ScriptLoader=class{constructor(e){this._scriptURLFormat=e||"{0}"}loadScript(e){let t=s.format(this._scriptURLFormat,e);n.createElement({type:"script",attr:{src:t},parent:document.head})}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanURL=function(){return window.location.href.replace(window.location.search,"")},t.splitParams=function(){let e=window.location.search.replace("?","").split("&"),t=[];for(let i of e){let e=i.split("="),s={key:e[0],val:e[1]};t.push(s)}return t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(0);class r extends s.Drawable{constructor(){super()}_createElements(){this._elems.base=n.createElement({cls:"kipShield"}),this._elems.shieldContent=n.createElement({cls:"shieldContent",parent:this._elems.base}),this._createShieldDetails()}draw(e){e||(e=document.body),this._showElementTimeout=window.setTimeout(()=>{super.draw(e),this._showElementTimeout=null},200)}erase(){this._showElementTimeout?window.clearTimeout(this._showElementTimeout):super.erase()}}t.Shield=r,r._uncoloredStyles={".kipShield":{position:"fixed",backgroundColor:"rgba(0,0,0,0.6)",width:"100%",height:"100%",left:"0",top:"0",zIndex:"100"},".kipShield .shieldContent":{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CHECKMARK=1]="CHECKMARK",e[e.X=2]="X",e[e.PLUS=3]="PLUS"}(t.SVGShapeEnum||(t.SVGShapeEnum={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(35);class r extends s.Drawable{constructor(){super(),this._elems={base:n.createSVGElem({type:"defs"})},this._createElements()}get base(){return this._elems.base}get gradients(){return this._gradients}set gradients(e){this._gradients=e}_shouldSkipCreateElements(){return!0}_createElements(){this._addDropShadow()}_addDropShadow(){let e=n.createSVGElem({type:"filter",id:"dropshadow",attr:{width:"200%",height:"200%",x:"-50%",y:"-50%"},children:[{type:"feGaussianBlur",attr:{in:"SourceAlpha",stdDeviation:"0.5"}},{type:"feOffset",attr:{dx:"0.1",dy:"0.1",result:"offsetblur"}},{type:"feComponentTransfer",children:[{type:"feFuncA",attr:{type:"gamma",exponent:"1.2",amplitude:"0.3"}}]},{type:"feMerge",children:[{type:"feMergeNode"},{type:"feMergeNode",attr:{in:"SourceGraphic"}}]}]});this._elems.base.appendChild(e)}}t.SVGDefinitionsElement=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(21),n=i(10),r=i(93),o=i(13),a=i(52),l=i(97),u=i(98),h=i(99),d=i(102);class c extends s.SVGElem{constructor(e){super(e),this._svgElems=new n.Collection,this._nonScaled=[]}static get _nextId(){return c._lastId+=1,c._lastId.toString()}get nonScaled(){return this._nonScaled}get style(){return this._style}_setAttributes(e){return e.type="g",e}_updateExtrema(e){}_updateExtremaFromChild(e){this._extrema?(e.min.x<this._extrema.min.x&&(this._extrema.min.x=e.min.x),e.min.y<this._extrema.min.y&&(this._extrema.min.y=e.min.y),e.max.x<this._extrema.max.x&&(this._extrema.max.x=e.max.x),e.max.y<this._extrema.max.y&&(this._extrema.max.y=e.max.y)):this._extrema=o.cloneObject(e)}_addChildElement(e,t){e.style.merge(this._style),this._svgElems.add(e.id,e),e.preventScaling&&this._nonScaled.push(e),t||this._updateExtrema(e.extrema),e.addUpdateListener(()=>{this._updateExtremaFromChild(e.extrema),this._notifyUpdateListeners()})}addPath(e,t,i){(i=this._initializeAttributes(i)).noFinish=t;let s=new a.PathElement(e,i);return this._addChildElement(s),s}addRectangle(e,t,i,s,n){n=this._initializeAttributes(n);let r=new l.RectangleElement(e,t,i,s,n);return this._addChildElement(r),r}addCircle(e,t,i){i=this._initializeAttributes(i);let s=new u.CircleElement(e,t,i);return this._addChildElement(s),s}addPerfectArc(e,t,i,s,n,r){r=this._initializeAttributes(r);let o=new h.ArcElement(e,t,i,s,n,r);return this._addChildElement(o),o}addPieSlice(e,t,i,s,n,r){r=this._initializeAttributes(r);let o=new h.PieSliceElement(e,t,i,s,n,r);return this._addChildElement(o),o}addCurve(e,t){t=this._initializeAttributes(t);let i=new h.CurveElement(e,t);return this._addChildElement(i),i}addRegularPolygon(e,t,i,s){s=this._initializeAttributes(s);let n=new h.PolygonElement(e,t,i,s);return this._addChildElement(n),n}addRegularStar(e,t,i,s,n){n=this._initializeAttributes(n);let r=new h.StarElement(e,t,i,s,n);return this._addChildElement(r),r}addText(e,t,i,s){s=this._initializeAttributes(s);let n=new d.TextElement(e,t,i,s);return this._addChildElement(n,!0),window.setTimeout(()=>{this._updateExtrema(n.extrema)},10),n}addFlowableText(e,t,i){return null}addGroup(e){e=this._initializeAttributes(e);let t=new c(e);return this._addChildElement(t),t}addShape(e,t,i,s){switch(t||(t=1),i||(i={x:0,y:0}),e){case r.SVGShapeEnum.CHECKMARK:return this._addCheckShape(t,i,s);case r.SVGShapeEnum.X:return this._addExShape(t,i,s);case r.SVGShapeEnum.PLUS:return this._addPlusShape(t,i,s)}}_addCheckShape(e,t,i){i=this._initializeAttributes(i);let s=new h.CheckElement(null,i,t);return this._addChildElement(s),s}_addExShape(e,t,i){i=this._initializeAttributes(i);let s=new h.ExElement(null,i,t);return this._addChildElement(s),s}_addPlusShape(e,t,i){i=this._initializeAttributes(i);let s=new h.PlusElement(null,i,t);return this._addChildElement(s),s}_initializeAttributes(e){return e||(e={}),e.parent=this._elems.base,e.id||(e.id=c._nextId),e}clear(){this._elems.base.innerHTML="",this._svgElems.clear()}}t.GroupElement=c,c._lastId=0},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(5),n=i(7),r=i(12);t.SVGStyle=class{constructor(e){this.clear(),e&&this.merge(e),this._needsNewString=!0}_setStyle(e,t){this._innerStyle[e]=t,this._needsNewString=!0}set fill(e){this._setStyle("fill",e)}get fill(){return this._innerStyle.fill}set fillOpacity(e){this._setStyle("fillOpacity",e)}get fillOpacity(){return this._innerStyle.fillOpacity}set fontSize(e){this._setStyle("fontSize",e)}get fontSize(){return this._innerStyle.fontSize}set fontWeight(e){this._setStyle("fontWeight",e)}get fontWeight(){return this._innerStyle.fontWeight}set fontFamily(e){this._setStyle("fontFamily",e)}get fontFamily(){return this._innerStyle.fontFamily}set stroke(e){this._setStyle("stroke",e)}get stroke(){return this._innerStyle.stroke}set strokeWidth(e){this._setStyle("strokeWidth",e)}get strokeWidth(){return this._innerStyle.strokeWidth}set strokeOpacity(e){this._setStyle("strokeOpacity",e)}get strokeOpacity(){return this._innerStyle.strokeOpacity}set strokeLinecap(e){this._setStyle("strokeLinecap",e)}get strokeLinecap(){return this._innerStyle.strokeLinecap}set strokeLinejoin(e){this._setStyle("strokeLinejoin",e)}get strokeLinejoin(){return this._innerStyle.strokeLinejoin}set filter(e){"url("!==e.substr(0,4)&&(e="url("+e+")"),this._setStyle("filter",e)}get filter(){return this._innerStyle.filter}set transform(e){this._transform=e}get transform(){return this._transform}set transition(e){this._setStyle("transition",e)}get transition(){return this._innerStyle.transition}set strokeDashArray(e){this._strokeDashArray=e}get strokeDashArray(){return this._strokeDashArray}merge(e){let t=e._innerStyle||e;s.map(t,(e,t)=>{this._innerStyle[t]&&"None"!==this._innerStyle[t]||(this._innerStyle[t]=e)}),this._strokeDashArray||(this._strokeDashArray=t.strokeDashArray),this._transform||(this._transform=t.transform)}clear(){this._innerStyle={fill:"None",stroke:"None"}}assignStyle(e){this._needsNewString&&this._generateStyleString(),e.setAttribute("style",this._generatedStyleString),this._strokeDashArray&&e.setAttribute("stroke-dasharray",this._strokeDashArray),this._transform&&e.setAttribute("transform",this._transform)}_generateStyleString(){this._generatedStyleString="",s.map(this._innerStyle,(e,t)=>{let i=r.getPropertyName(t);this._generatedStyleString+=n.format("{0}: {1};",i,e.toString())})}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(21);class n extends s.SVGElem{constructor(e,t,i,s,n){super(n,e,t,i,s)}_setAttributes(e,t,i,s,n){return e.type="rect",e.x=t,e.y=i,e.width=s,e.height=n,e}_updateExtrema(e){let t={x:e.x,y:e.y,w:e.width,h:e.height};this._extrema=this._basicRectToExtrema(t)}_basicRectToExtrema(e){return{min:{x:e.x,y:e.y},max:{x:e.x+e.w,y:e.y+e.h}}}_checkBasicRectForBadData(e){let t=!1;if(0===e.x||e.x||(t=!0),0===e.y||e.y||(t=!0),0===e.w||e.w||(t=!0),0===e.h||e.h||(t=!0),e.w<0&&(t=!0),e.h<0&&(t=!0),t)throw new Error("invalid basic rectangle values")}}t.RectangleElement=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(21);class n extends s.SVGElem{constructor(e,t,i){super(i,e,t)}_setAttributes(e,t,i){return e.type="circle",e.cx=t.x,e.cy=t.y,e.r=i,e}_updateExtrema(e){this._extrema=this._extremaFromCenterPointAndRadius({x:e.cx,y:e.cy},e.r)}_extremaFromCenterPointAndRadius(e,t){return{max:{x:e.x+t,y:e.y+t},min:{x:e.x-t,y:e.y-t}}}}t.CircleElement=n},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(100)),s(i(224)),s(i(225)),s(i(226)),s(i(15)),s(i(227)),s(i(228)),s(i(101)),s(i(229))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(15),n=i(34);class r extends s.PathExtensionElement{constructor(e,t,i,s,n,r){super(null,r,e,t,i,s,n)}_generatePoints(e,t,i,s,r){let o=this._getAdjustedPoint(e),a=s-i,l=this._calculatePolygonPoint(o,n.degreesToRadians(i),t),u=this._calculatePolygonPoint(o,n.degreesToRadians(s),t),h=[l,{x:u.x,y:u.y,largeArc:a>180?1:0,radius:{x:t,y:t},sweepFlag:r,xRotation:0}];return this._shouldShowRadii()&&h.push(e),h}_getAdjustedPoint(e){let t=this._style.strokeWidth*Math.sqrt(2)||0;return{x:e.x+t,y:e.y+t}}_shouldShowRadii(){return!1}}t.ArcElement=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(15),n=i(34);class r extends s.PathExtensionElement{constructor(e,t,i,s,n){super(null,s,e,t,i,n)}_generatePoints(e,t,i,s){let r=[],o=0,a=n.calculatePolygonInternalAngle(t);for(let s=0;s<t;s+=1){let t=this._calculatePolygonPoint(e,o,i);o+=a,r.push(t)}return r}}t.PolygonElement=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(21),n=i(1);class r extends s.SVGElem{constructor(e,t,i,s){super(s,e,t,i)}get style(){return window.setTimeout(()=>{this._style.assignStyle(this._elems.base),this._originPt||this._notifyUpdateListeners()}),this._style}_setAttributes(e,t,i,s){return e.type="text",e.x=i.x,e.y=i.y,this._text=t,this._originPt=s,e}_createElements(e){super._createElements(e),n.addClass(this._elems.base,"unselectable"),this._elems.base.innerHTML=this._text,this._originPt&&(this._elems.base.style.display="none",window.setTimeout(()=>{this._handleOriginPoint(e),this._elems.base.style.display="default"},10))}_handleOriginPoint(e){let t=this.measureElement(),i={x:e.x-t.w*this._originPt.x,y:e.y-(t.h-2*(e.y-t.y))*this._originPt.y};console.log("box: ("+t.x+", "+t.y+") -> ("+t.w+", "+t.h+")"),this._elems.base.setAttribute("x",i.x.toString()),this._elems.base.setAttribute("y",i.y.toString()),t.x=i.x,t.y=i.y,console.log("box: ("+t.x+", "+t.y+") -> ("+t.w+", "+t.h+")"),this._updateExtrema(t),this._notifyUpdateListeners()}_updateExtremaAndNotifyListeners(e){this._updateExtrema(e)}_updateExtrema(e){let t=this.measureElement();this._extrema={min:{x:t.x,y:t.y},max:{x:t.x+t.w,y:t.y+t.h}}}}t.TextElement=r,r._uncoloredStyles={".unselectable":{userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",khtmlUserSelect:"none",oUserSelect:"none"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(54);class n extends s.TestUI{renderTest(e){let t=this._buildTestString(e);e.pass?console.info(t):console.error(t)}startGroup(e){let t="";for(let i=0;i<e.length+2;i+=1)t+="=";this._currentGroup=e,console.log("\n"+t+"\n "+e+" \n"+t)}startSubgroup(e){let t="";for(let i=0;i<e.length+2;i+=1)t+="-";this._currentSubgroup=e,console.log("\n "+e+" \n"+t)}_buildTestString(e){let t="",i=this._buildValueString(e);return t+=this._passToString(e.pass).toUpperCase(),t+=": ",e.pass||(t+=this._currentGroup?this._currentGroup+" --\x3e ":"",t+=this._currentSubgroup?this._currentSubgroup+" --\x3e ":""),t+=e.name,t+=i?" ["+i+"]":"",t+=e.message?" - "+e.message:"",t}}t.ConsoleUnitTestUI=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(0);class r extends s.Drawable{_createElements(){this._elems={base:n.createElement({cls:"tests"}),groups:[]},this._elems.testContainer=n.createElement({cls:"testContainer",parent:this._elems.base})}addVisualButton(e){n.createElement({cls:"visualTestBtn",parent:this._getParentElement(),children:[{content:e.label,cls:"innerBtn"}],eventListeners:{click:()=>{e.callback()}}})}addTestResult(e){let t=this._getParentElement(),i=n.createElement({cls:"test",parent:t,attr:{title:e.value}});n.createElement({cls:e.passStr,content:e.passStr.toUpperCase(),parent:i}),n.createElement({cls:"name",content:e.name,parent:i}),e.pass||(n.createElement({cls:"err",content:e.value,parent:i}),n.createElement({cls:"message",content:e.message,parent:i}))}startGroup(e){let t=n.createElement({cls:"group",parent:this._elems.testContainer});this._elems.groups.push(t),n.createElement({cls:"groupName",parent:t,content:e})}startSubgroup(e){n.createElement({cls:"functionTitle",content:e,parent:this._getParentElement()})}_getParentElement(){return this._elems.groups[this._elems.groups.length-1]||this._elems.testContainer}}t.UI=r,r._uncoloredStyles={".hidden":{display:"none"},".group":{marginBottom:"10px",display:"#666",borderCollapse:"collapse",width:"20%"},".groupName":{fontSize:"1.6em",color:"#666"},".functionTitle":{fontSize:"1.3em",color:"#888",marginLeft:"5px"},".tests":{marginLeft:"50px",fontFamily:"Segoe UI, Calibri, Helvetica"},".tests .testContainer":{display:"flex",flexWrap:"wrap"},".test":{display:"table-row"},".test > div":{border:"solid transparent",borderWidth:"10px",borderRightWidth:"20px",marginRight:"10px",display:"table-cell"},".test .fail":{color:"rgb(190,50,30)",fontWeight:"bold"},".test .pass":{color:"rgb(50,190,30)",fontWeight:"bold",marginRight:"10px",display:"table-cell"},".test .name":{color:"#333",marginRight:"10px",display:"table-cell"},".test .err":{fontStyle:"italic",color:"#666",fontSize:"0.8em"},".test .message":{color:"#888",marginRight:"10px",display:"table-cell"},".visualTestBtn":{color:"#FFF",padding:"2px 10px",borderRadius:"3px",cursor:"pointer",width:"auto",marginBottom:"8px"},".innerBtn":{backgroundColor:"#06C",display:"inline-block",padding:"2px 10px"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(54),n=i(104);class r extends s.TestUI{constructor(){super(),this._drawable=new n.UI,this._drawable.draw(document.body)}renderTest(e){let t=e;t.value=this._buildValueString(e),t.passStr=this._passToString(e.pass),this._drawable.addTestResult(t)}startGroup(e){this._drawable.startGroup(e)}startSubgroup(e){this._drawable.startSubgroup(e)}addVisualTestButton(e){this._drawable.addVisualButton(e)}}t.HTMLUnitTestUI=r},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(11)),s(i(108)),s(i(109)),s(i(113)),s(i(119)),s(i(121)),s(i(127)),s(i(129)),s(i(130)),s(i(133)),s(i(140)),s(i(142)),s(i(144)),s(i(146)),s(i(148)),s(i(151)),s(i(152)),s(i(155)),s(i(157)),s(i(184)),s(i(186)),s(i(188)),s(i(192)),s(i(194)),s(i(34)),s(i(197)),s(i(198)),s(i(199)),s(i(202)),s(i(204)),s(i(207)),s(i(208)),s(i(210)),s(i(211)),s(i(214)),s(i(216)),s(i(218)),s(i(219)),s(i(220)),s(i(222)),s(i(231)),s(i(232)),s(i(233)),s(i(238))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wait=function(e){return new Promise(t=>window.setTimeout(t,e))},t.nextRender=function(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(55)),s(i(36))},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(110)),s(i(111)),s(i(112))},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(2),r=i(36),o=i(38),a=i(16),l=i(0),u=i(11),h=i(27);class d extends n.Drawable{constructor(e){super(),this._config=e||{},this._updateFunctions={},this._model={},this._createElements()}get config(){return this._getConfig()}set config(e){this._setConfig(e)}get model(){return this._getModel()}set model(e){this._setModel(e)}get updateFunctions(){return this._updateFunctions}set updateFunctions(e){this._updateFunctions=e}_shouldSkipCreateElements(){return!0}_getModel(){let e=JSON.parse(JSON.stringify(this._model));return window.setTimeout(()=>this._onPotentialModelChange(e),0),this._model}_setModel(e){let t=this._model;this._model=e,window.setTimeout(()=>this._onPotentialModelChange(t),0)}_getConfig(){let e=JSON.parse(JSON.stringify(this._config));return u.wait(0).then(()=>this._onPotentialConfigChange(e)),this._config}_setConfig(e){let t=this._config;this._config=e,u.wait(0).then(()=>this._onPotentialConfigChange(t))}_onPotentialConfigChange(e){}_onPotentialModelChange(e){}_bind(e,t){r.bind(()=>this._model?t?this._model[t]:this._model:"",this._createUpdateFunc(e,t),()=>this._shouldDelete(e))}_createUpdateFunc(e,t){return i=>{this._updateFunctions[t]?this._updateFunctions[t](i,e):this._updateFunctions._?this._updateFunctions._(i,e):o.isHTMLElement(e)?this._updateHtmlElement(e,i):h.isUpdatable(e)?this._updateUpdateable(e,i):this._updateBoundView(e,i)}}_updateHtmlElement(e,t){t||(t=""),e.innerHTML=t.toString()}_updateUpdateable(e,t){e.update(t)}_updateBoundView(e,t){e.model=t}setUpdateFunction(e,t){t&&(this._updateFunctions[e]=t)}_shouldDelete(e){return a.isDrawable(e)?!e.base.parentNode:!e.parentNode}erase(){super.erase()}_createElement(e){let t=l.createCustomElement(e,this._elems,e=>this._createElement(e));return e.boundTo&&this._bindElement(t,e),t}_elem(e){return this._createElement(e)}_bindElement(e,t){return s(this,void 0,void 0,(function*(){let i=e;t.key&&t.drawable&&(i=this._elems[t.key]),this._bind(i,t.boundTo)}))}}t.BoundView=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUpdateableView=function(e){return!!e.update}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2);class n extends s.Drawable{constructor(...e){super(),this._createElements(...e)}_shouldSkipCreateElements(){return!0}}t.UpdateableView=n},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(9)),s(i(114)),s(i(18)),s(i(57)),s(i(58)),s(i(115)),s(i(116)),s(i(117)),s(i(118))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(9),r=i(57),o=i(17),a=i(1),l=i(22);class u extends s.Drawable{constructor(e,t){super(),this._id=e||"canvas",this._layers=[],this._needsInitialDimensions=!0,this._reconcileOptions(t),this._initializeRectangles(),this._createElements(),this._addEventListeners()}get relativeView(){return this._relativeView}get zoomFactor(){return this._zoomFactor}set zoomFactor(e){this._zoomFactor=e}get needsRedraw(){return this._needsRedraw}set needsRedraw(e){this._needsRedraw=e}get canvas(){return this._elems.base}get effectCanvas(){return this._elems.effectCanvas}get context(){return this._context}get effectContext(){return this._effectContext}get layers(){return this._layers}set onPreRender(e){this._onPreRender=e}_reconcileOptions(e){e||(e={});let t=this._createDefaultOptions();this._options=o.reconcileOptions(e,t)}_createDefaultOptions(){return{RENDER_RATE:30,ZOOM_DELTA:()=>({x:.03*this._zoomFactor.x,y:.03*this._zoomFactor.y}),SIZE:{width:600,height:450},MAX_ZOOM:{x:15,y:15},MIN_ZOOM:{x:.1,y:.1}}}_initializeRectangles(){this._absoluteDimensions={x:0,y:0,w:this._options.SIZE.width,h:this._options.SIZE.height},this._relativeView={x:0,y:0,w:this._options.SIZE.width,h:this._options.SIZE.height},this._zoomFactor={x:1,y:1}}_shouldSkipCreateElements(){return!0}_createElements(){this._elems={base:this._createCanvas(),effectCanvas:this._createCanvas(!0)},this._context=this._elems.base.getContext("2d"),this._effectContext=this._elems.effectCanvas.getContext("2d")}_createCanvas(e){let t;t=document.createElement("canvas"),t.setAttribute("width",this._options.SIZE.width.toString()),t.setAttribute("height",this._options.SIZE.height.toString());let i="canvas";return e&&(i+=" effects"),a.addClass(t,i),t}draw(e){super.draw(e),e.appendChild(this._elems.effectCanvas),this._needsRedraw=!0}clear(){this._context.clearRect(0,0,this._options.SIZE.width,this._options.SIZE.height),this._effectContext.clearRect(0,0,this._options.SIZE.width,this._options.SIZE.height)}_drawEachElement(){let e;for(e of(this.clear(),this._layers))e&&(e.updateDimensions(this._relativeView),e.draw())}_renderFrame(){this._needsRedraw&&(this._onPreRender&&this._onPreRender(),this._drawEachElement(),this._needsRedraw=!1),window.requestAnimationFrame(()=>{this._renderFrame()})}addElement(e){this._getOrCreateLayer(e.layer).addElement(e),this._updateAbsoluteDimensionsFromElem(e.dimensions),this._needsRedraw=!0}removeElement(e){let t,i;for(i of this._layers)if(i&&(t=i.removeElement(e),t))break;return t}_updateAbsoluteDimensionsFromElem(e){(this._needsInitialDimensions||e.x<this._absoluteDimensions.x)&&(this._absoluteDimensions.x=e.x),e.x+e.w>this._absoluteDimensions.x+this._absoluteDimensions.w&&(this._absoluteDimensions.w=e.x+e.w-this._absoluteDimensions.x),(this._needsInitialDimensions||e.y<this._absoluteDimensions.y)&&(this._absoluteDimensions.y=e.y),e.y+e.h>this._absoluteDimensions.y+this._absoluteDimensions.h&&(this._absoluteDimensions.h=e.y+e.h-this._absoluteDimensions.y),this._needsInitialDimensions=!1}_getOrCreateLayer(e){let t=this._layers[e];return t||(t=new r.CanvasGroup("layer"+e),this._layers[e]=t,t.canvas=this),t}_onMouseWheel(e){let t=e.deltaY;t=Math.abs(t)/t,this.zoom(t)}zoom(e){let t=this._options.ZOOM_DELTA(),i=this._zoomFactor.x+e*t.x;i=l.normalizeValue(i,this._options.MIN_ZOOM.x,this._options.MAX_ZOOM.x);let s=this._zoomFactor.y+e*t.y;s=l.normalizeValue(s,this._options.MIN_ZOOM.y,this._options.MAX_ZOOM.y);let n=this._options.SIZE,r=l.roundToPlace(n.width*(1/i),10);this._zoomFactor.x=i;let o=l.roundToPlace(n.height*(1/s),10);this._zoomFactor.y=s;let a=r-this._relativeView.w,u=o-this._relativeView.h,h={x:this._relativeView.x-a/2,y:this._relativeView.y-u/2,w:this._relativeView.w+a,h:this._relativeView.h+u};this._relativeView=h,this._needsRedraw=!0}changeView(e){this._relativeView=e}_onDrag(e){if(!e)return;let t=this._calculateNewCornerFromDelta(e);this.pan(t)}_calculateNewCornerFromDelta(e){return{x:this._relativeView.x-e.x/this._zoomFactor.x,y:this._relativeView.y-e.y/this._zoomFactor.y}}pan(e){this._relativeView.x=e.x,this._relativeView.y=e.y,this._needsRedraw=!0}_addEventListeners(){window.addEventListener("mousewheel",e=>{this._onMouseWheel(e)}),window.addEventListener("mousedown",e=>{this._elems.base.style.cursor="-webkit-grabbing",this._startDragPoint={x:e.screenX,y:e.screenY}}),window.addEventListener("mousemove",e=>{this._startDragPoint&&(this._deltaDragPoint={x:e.screenX-this._startDragPoint.x,y:e.screenY-this._startDragPoint.y},this._startDragPoint={x:e.screenX,y:e.screenY},this._onDrag(this._deltaDragPoint))}),window.addEventListener("mouseup",()=>{this._startDragPoint=null,this._deltaDragPoint={x:0,y:0},this._elems.base.style.cursor="-webkit-grab"}),this._elems.base.addEventListener("click",e=>{let t={x:e.pageX,y:e.pageY};this._onClick(e,t)}),this._elems.base.addEventListener("mousemove",e=>{let t={x:e.pageX,y:e.pageY};this._onHover(e,t)}),window.requestAnimationFrame(()=>{this._renderFrame()})}_onClick(e,t){this._handleEvent(n.EventTypeEnum.CLICK,t,e)}_onHover(e,t){this._handleEvent(n.EventTypeEnum.HOVER,t,e)}_handleEvent(e,t,i){let s;for(s of this._layers)s&&s.handleEvent(e,t,i)}convertRelativePointToPhysicalPoint(e){let t,i=this._elems.base.offsetLeft,s=this._elems.base.offsetTop,n=this._elems.base.offsetWidth,r=this._elems.base.offsetHeight;return t={x:(e.x-this._relativeView.x)*n/this._relativeView.w+i,y:(e.y-this._relativeView.y)*r/this._relativeView.h+s},t}convertPhysicalPointToRelativePoint(e){let t,i=this._elems.base.offsetLeft,s=this._elems.base.offsetTop,n=this._elems.base.offsetWidth,r=this._elems.base.offsetHeight;return t={x:(e.x-i)*this._relativeView.w/n+this._relativeView.x,y:(e.y-s)*this._relativeView.h/r+this._relativeView.y},t}convertAbsolutePointToRelativePoint(e){let t;return t={x:l.roundToPlace((e.x-this._relativeView.x)*this._zoomFactor.x,10),y:l.roundToPlace((e.y-this._relativeView.y)*this._zoomFactor.y,10)},t}convertRelativePointToAbsolutePoint(e){let t;return t={x:l.roundToPlace(e.x/this._zoomFactor.x+this._relativeView.x,10),y:l.roundToPlace(e.y/this._zoomFactor.y+this._relativeView.y,10)},t}convertAbsoluteRectToRelativeRect(e){let t={x:e.x,y:e.y},i=this.convertAbsolutePointToRelativePoint(t),s={x:e.x+e.w,y:e.y+e.h},n=this.convertAbsolutePointToRelativePoint(s);return{x:i.x,y:i.y,w:n.x-i.x,h:n.y-i.y}}debugRelativeDimensions(){console.log("CANVAS DIMENSIONS:"),console.log(Math.round(this.relativeView.x)+", "+Math.round(this.relativeView.y)),console.log(Math.round(this.relativeView.w)+" x "+Math.round(this.relativeView.h))}}t.HTML5Canvas=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(18),n=i(9),r=i(31),o=i(13);class a extends s.CanvasElement{constructor(e,t,i){let s;super(e),s=r.isNumber(i)?{x:i,y:i}:i,this._dimensions={x:t.x-s.x,y:t.y-s.y,w:2*s.x,h:2*s.y},this._center=t,this._radius=s,this._initializeRects()}get type(){return n.ElementType.Circle}_onDraw(e){e.beginPath(),e.arc(this._displayDimensions.x+this._displayRadius.x,this._displayDimensions.y+this._displayRadius.y,this._displayRadius.x,0,2*Math.PI),e.fill(),this._restoreStyle(e)}updateDimensions(e){super.updateDimensions(e),this._displayRadius={x:this._radius.x*this._canvas.zoomFactor.x,y:this._radius.y*this._canvas.zoomFactor.y}}_debugDimensions(){console.log("CIRCLE:"),console.log("center pt: "+Math.round(this._displayDimensions.x+this._displayRadius.x)+", "+Math.round(this._displayDimensions.y+this._displayRadius.y)),console.log("radius: "+Math.round(this._displayRadius.x)),this._canvas.debugRelativeDimensions()}_cloneForEffect(e){let t={x:this._dimensions.x+this._radius.x,y:this._dimensions.y+this._radius.y},i=o.clonePoint(this._radius);return new a(e,t,i)}_scale(e){this._isEffect&&(super._scale(e),this._radius={x:this._radius.x*e,y:this._radius.y*e})}}t.CircleElement=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(18),n=i(9),r=i(13),o=i(40);class a extends s.CanvasElement{constructor(e,t){super(e),this._initializeRects(),t?(this._points=t,this._updateExtremaFromPoints()):this._points=[]}get type(){return n.ElementType.Path}_initializeRects(){this._dimensions={x:0,y:0,w:0,h:0},super._initializeRects(),this._needsInitialDimensions=!0}addPoint(e){this._points.push(e),this._updateExtremaFromPoint(e)}_updateExtremaFromPoints(){let e;for(e of this._points)this._updateExtremaFromPoint(e)}_updateExtremaFromPoint(e){this._needsInitialDimensions||e.x<this._dimensions.x?this._dimensions.x=e.x:e.x>this._dimensions.x+this._dimensions.w&&(this._dimensions.w=e.x-this._dimensions.x),this._needsInitialDimensions||e.y<this._dimensions.y?this._dimensions.y=e.y:e.y>this._dimensions.y+this._dimensions.h&&(this._dimensions.h=e.y-this._dimensions.y),this._needsInitialDimensions=!1}_onDraw(e){let t;for(t of(e.beginPath(),this._displayPoints))e.lineTo(t.x,t.y);e.closePath(),e.fill()}updateDimensions(e){let t;for(t of(super.updateDimensions(e),this._displayPoints=[],this._points)){let i={x:(t.x-e.x)*this._canvas.zoomFactor.x,y:(t.y-e.y)*this._canvas.zoomFactor.y};this._displayPoints.push(i)}}adjustDimensions(e){if(this._isEffect)return;let t;for(t of(super.adjustDimensions(e),this._points))t.x+=e.x,t.y+=e.y}_cloneForEffect(e){return new a(e,r.clonePointArray(this._points))}_scale(e){if(!this._isEffect)return;let t,i={x:this._dimensions.x+this._dimensions.w/2,y:this._dimensions.y+this._dimensions.h/2},s=[];for(t of this._points){let n=this._scalePoint(t,i,e);s.push(n)}this._points=s,this._updateExtremaFromPoints()}_scalePoint(e,t,i){let s=o.getAngle(t,e),n=o.getDistance(t,e)*i;return o.getEndPoint(t,s,n)}}t.PathElement=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(18),n=i(9),r=i(13);class o extends s.CanvasElement{constructor(e,t){super(e),this._type=n.ElementType.Rectangle,this._borderRadius=0,this._dimensions=t,this._initializeRects()}get type(){return n.ElementType.Rectangle}set borderRadius(e){this._borderRadius=e}_onDraw(e){0===this._borderRadius?this._unroundedRect(e):this._roundedRect(e)}_unroundedRect(e){e.fillRect(this._displayDimensions.x,this._displayDimensions.y,this._displayDimensions.w,this._displayDimensions.h)}_roundedRect(e){e.beginPath();let t=this._displayDimensions,i=this._displayBorderRadius;e.moveTo(t.x+i.x,t.y),e.lineTo(t.x+t.w-i.x,t.y),e.quadraticCurveTo(t.x+t.w,t.y,t.x+t.w,t.y+i.y),e.lineTo(t.x+t.w,t.y+t.h-i.y),e.quadraticCurveTo(t.x+t.w,t.y+t.h,t.x+t.w-i.x,t.y+t.h),e.lineTo(t.x+i.x,t.y+t.h),e.quadraticCurveTo(t.x,t.y+t.h,t.x,t.y+t.h-i.y),e.lineTo(t.x,t.y+i.y),e.quadraticCurveTo(t.x,t.y,t.x+i.x,t.y),e.closePath(),e.fill()}updateDimensions(e){super.updateDimensions(e),this._displayBorderRadius={x:this._borderRadius*this._canvas.zoomFactor.x,y:this._borderRadius*this._canvas.zoomFactor.y}}_cloneForEffect(e){let t=r.cloneRect(this._dimensions);return new o(e,t)}}t.RectangleElement=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(18),n=i(9);class r extends s.CanvasElement{constructor(e,t,i){super(e),this._type=n.ElementType.Text,this._text=t,this._dimensions={x:i.x,y:i.y,w:10,h:10},this._initializeRects(),this._addStyleChangeListener()}get type(){return n.ElementType.Text}set text(e){this._text=e}set fixed(e){this._fixed=e}_setCanvas(e){super._setCanvas(e),this._calculateTextMetrics()}_addStyleChangeListener(){this._style.addStyleChangeListener(n.StyleChangeEnum.FONT_SIZE,()=>{this._dimensions.h=this._style.fontSize})}_calculateTextMetrics(){if(!this._canvas)return;let e=this._canvas.context;this._applyStyle(e);let t=e.measureText(this._text);this._restoreStyle(e),this._dimensions.w=t.width,this._dimensions.h=this.style.fontSize,this._displayDimensions.w=t.width,this._displayDimensions.h=this.style.fontSize}_onDraw(e){e.fillText(this._text,this._displayDimensions.x,this._displayDimensions.y+(this._fixed?this._dimensions.h:this._displayDimensions.h)),this._displayDimensions.w=this._dimensions.w,this._displayDimensions.h=this._dimensions.h}_cloneForEffect(e){let t={x:this._dimensions.x,y:this._dimensions.y};return new r(e,this._text,t)}}t.TextElement=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(120))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t._CodeEvent=class{constructor(){this._listeners=new Map}dispatch(e,t){let i=t;i.target=e,i.name=this._name;let s=[];s=s.concat(this._listeners.get(e)),s=s.concat(this._listeners.get(null));for(let e of s)e&&e(i)}addEventListener(e,t){t||(t=null);let i=this._listeners.get(t);i||(i=[]),i.push(e),this._listeners.set(t,i)}}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(122)),s(i(41)),s(i(42)),s(i(125)),s(i(126))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HUE_INTERVAL=22,t.LIGHT_INTERVAL=20,t.SATURATION_INTERVAL=20,t.SATURATION_LIMITS={max:100,min:20},t.LIGHTNESS_LIMITS={max:80,min:35}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.HUE=1]="HUE",e[e.SATURATION=2]="SATURATION",e[e.LIGHTNESS=3]="LIGHTNESS",e[e.ALPHA=4]="ALPHA"}(t.HSLPiece||(t.HSLPiece={})),function(e){e[e.RED=0]="RED",e[e.GREEN=1]="GREEN",e[e.BLUE=2]="BLUE",e[e.ALPHA=3]="ALPHA"}(t.RGBEnum||(t.RGBEnum={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HUE_INTERVAL=22,t.LIGHT_INTERVAL=20,t.SATURATION_INTERVAL=20,t.SATURATION_LIMITS={max:100,min:20},t.LIGHTNESS_LIMITS={max:80,min:35}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(42),n=i(41);t.GlobalColor=new class{constructor(){this._usedColors={},this._innerColor=new s.HSLColor("hsl(330, 80%, 50%)")}generateColor(e,t){let i=this._usedColors[e]||"";i||(i=this._innerColor.getNextColor(t||n.HSLPieceEnum.HUE));let r=new s.HexColor(i);return e&&(this._usedColors[e]=i),r}getCurrentColor(){return this._innerColor}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(42);t.getApparentColor=function(e,t,i){let n=new s.AnyColor(e,i);return n.getApparentColor(t),n.toHexString()},t.getComplementaryColor=function(e,t){let i;t=t||45;let n=new s.AnyColor(e);return i=n.getLightness(),n.lightness=i<t?95:5,n.generateRgbValues(),n.toRgbaString()},t.hexToRgb=function(e){return new s.HexColor(e).toRgbString()},t.hexToRgba=function(e,t){return new s.HexColor(e,t).toRgbaString()},t.hslToRgb=function(e){return new s.HSLColor(e).toRgbString()},t.hslaToRgba=function(e,t){return new s.HSLColor(e,t).toRgbaString()}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(128))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s;t.CustomizableCommand=class{constructor(e,t){this._onExecute=e,this._onUnexecute=t}execute(e){if(this._state===s.EXECUTED)throw new Error("already performed");if(!this._onExecute)throw new Error("no do action");return this._state=s.EXECUTED,this._onExecute(e)}unexecute(e){if(this._state!==s.EXECUTED)throw new Error("not yet performed");if(!this._onUnexecute)throw new Error("no undo action");return this._state=s.REVERSED,this._onUnexecute(e)}},function(e){e[e.ERR=0]="ERR",e[e.EXECUTED=1]="EXECUTED",e[e.REVERSED=2]="REVERSED"}(s=t.CommandState||(t.CommandState={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(19))},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(131)),s(i(132))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.MAIN_COLOR=0]="MAIN_COLOR",e[e.FONT_COLOR=1]="FONT_COLOR",e[e.SUB_MENU_COLOR=2]="SUB_MENU_COLOR",e[e.SUB_MENU_BORDER=3]="SUB_MENU_BORDER",e[e.SUB_SUB_MENU_COLOR=4]="SUB_SUB_MENU_COLOR",e[e.SUB_SUB_MENU_BORDER=5]="SUB_SUB_MENU_BORDER"}(t.ContextMenuColors||(t.ContextMenuColors={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(10),r=i(0),o=i(5);class a extends s.Drawable{constructor(e,t,i){super({cls:"ctxMenu"}),this._addClassName("ContextMenu"),this._target=e,this._noStyles=t,this._colors=i||{menuBG:"rgba(40,40,40,1)",menuText:"#FFF",menuOptBG:"rgba(40,40,40,.9)",menuBorder:"#777",menuOptNested:"rgba(40,40,40,.85)",menuBorderNested:"#888",menuSelectedText:"#505050",menuSelectedBorder:"#999"},this._options=new n.Collection,this._createElements(),this._addEventListeners()}get base(){return this._elems.base}addOption(e,t,i){if(this._options.hasElement(e.label))return!1;e.elems||(e.elems={}),e.elems.base||(i||(i=this._elems.option_container),e.elems.base=r.createSimpleElement("","ctxOption",e.label,null,null,i),e.elems.base.onclick=e.callback),this._options.add(e.label,e);let s=!0;for(let i of t)this.addSubOption(e,i)||(s=!1);return!!s}addSubOption(e,t){return!!(e.elems||(this._options.hasElement(e.label)||this.addOption(e),e=this._getOption(e.label)))&&(!!e.elems&&(e.elems.sub_menu||this._buildSubMenu(e),void this.addOption(t,[],e.elems.sub_menu)))}_buildSubMenu(e){e.elems.sub_menu=r.createSimpleElement("","subMenu hidden","",null,null,e.elems.base),e.elems.base.innerHTML+="...",this._noStyles&&(e.elems.sub_menu.style.display="none",e.elems.base.addEventListener("mouseover",()=>{e.elems.sub_menu.style.display="block"}),e.elems.base.addEventListener("mouseout",()=>{e.elems.sub_menu.style.display="none"}))}_getOption(e){if(!e)return null;let t=this._options.getElement(e);return t?t.value:null}removeOption(e){let t,i;return i=this._options.remove(e),!!i&&(t=i.value,!!t.elems.base.parentNode&&(t.elems.base.parentNode.removeChild(t.elems.base),!0))}clearOptions(){let e,t;for(this._options.resetLoop(!0);this._options.hasNext(!0);)t=this._options.getNext(!0),t&&(e=t.value,e.elems.base.parentNode&&e.elems.base.parentNode.removeChild(e.elems.base));this._options.clear()}_addEventListeners(){a._windowListenersAdded||(window.addEventListener("contextmenu",()=>{this._hideExistingMenu()}),window.addEventListener("mousedown",()=>{this._hideExistingMenu()}),a._windowListenersAdded),this._target.addEventListener("contextmenu",e=>{let t,i;return this.erase(),!!e.ctrlKey||(e.stopPropagation(),e.preventDefault(),t=e.clientX,i=e.clientY,this.base.style.left=t+"px",this.base.style.top=i+"px",this.draw(document.body),t+this.base.offsetWidth>window.innerWidth&&(t=window.innerWidth-this.base.offsetWidth),i+this.base.offsetHeight>window.innerHeight&&(i=window.innerHeight-this.base.offsetHeight),this.base.style.left=t+"px",this.base.style.top=i+"px",!1)})}_createElements(){this._elems.option_container=r.createSimpleElement("","optionContainer","",null,null,this.base),this._setThemeColors()}_setThemeColors(){o.map(this._colors,(e,t)=>{this.setThemeColor(t,e)})}_hideExistingMenu(){a._showingMenu&&a._showingMenu.base.parentNode&&a._showingMenu.base.parentNode.removeChild(a._showingMenu.base)}}t.ContextMenu=a,a._uncoloredStyles={".ctxMenu":{backgroundColor:"<menuBG>",color:"<menuText>",fontFamily:"'Calibri Light', Helvetica",boxShadow:"1px 1px 3px 2px rgba(0,0,0,.1)",fontSize:"14px",borderRadius:"4px",paddingTop:"2px",paddingBottom:"2px",width:"10%",position:"absolute"},".ctxMenu .subMenu":{backgroundColor:"<menuOptBG>",width:"100%",top:"-2px",boxShadow:"1px 1px 1px 1px rgba(0,0,0,.1)",left:"calc(100% - 1px)",borderLeft:"1px solid <menuBorder>"},".ctxMenu .subMenu .subMenu":{backgroundColor:"<menuOptNested>",borderLeft:"1px solid <menuBorderNested>"},".ctxMenu .ctxOption":{padding:"4px 10px",cursor:"pointer",position:"relative"},".ctxMenu .ctxOption:hover":{backgroundColor:"<menuSelectedText>",color:"<menuOptBG>",borderLeft:"7px solid <menuSelectedBorder>"}}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(134)),s(i(135)),s(i(137))},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(30)),s(i(10))},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(136)),s(i(63))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(63),n=i(19);t.LinkedList=class{constructor(){this._length=0}get length(){return this._length}add(e){return this.insert(e,this._length)}insert(e,t){if(t<0)return!1;if(t>this._length)return!1;let i=new s.LinkedNode(e),n=this._getNodeAtIdx(t),r=this._getNodeAtIdx(t-1);n?(n.previous=i,i.next=n):this._lastNode=i,r?(r.next=i,i.previous=r):this._firstNode=i,this._length+=1}remove(e){let t=this._getNodeAtIdx(e);return t?(t.previous&&(t.previous.next=t.next),t.next&&(t.next.previous=t.previous),this._lastNode===t&&(this._lastNode=t.previous),this._firstNode===t&&(this._firstNode=t.next),this._length-=1,t.data):null}findAndRemove(e){let t=this.getIndex(e);return-1!==t&&!!this.remove(t)}get(e){let t=this._getNodeAtIdx(e);return t?t.data:null}getIndex(e){let t=0,i=this._firstNode;for(;i;){if(this._isEqual(e,i.data))return t;i=i.next,t+=1}return null}contains(e){return-1!==this.getIndex(e)}_getNodeAtIdx(e){return e<0?null:e>=this._length?null:e<this._length/2?this._getNodeAtIdxForward(e):this._getNodeAtIdxBackward(e)}_isEqual(e,t){return n.isEquatable(e)&&n.isEquatable(t)?e.equals(t):e===t}_getNodeAtIdxForward(e){let t=this._firstNode;for(let i=0;i<e;i+=1)t=t.next;return t}_getNodeAtIdxBackward(e){let t=this._lastNode;for(let i=this._length-1;i>e;i-=1)t=t.previous;return t}}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(64)),s(i(138)),s(i(44)),s(i(139))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(64);class n extends s.BinaryTree{constructor(e){super(null),this._root=new s.BinaryTree(e)}get _data(){return this._root._data}set _data(e){}add(e){for(super.add(e);!this.isBalanced();)this._rebalance()}remove(e){for(super.remove(e);!this.isBalanced();)this._rebalance()}_rebalance(){if(console.log(this.toString()),this._rebalanceSubTree("left"),this._rebalanceSubTree("right"),this.isBalanced())return;this._getSideDepth("left")>this._getSideDepth("right")?this._rotate("left"):this._rotate("right")}_rotate(e){let t=this._subTrees[e],i=this._oppositeSide(e);t._parent=this._parent,this._parent=t,t[i]?(this._subTrees[e]=t[i],this._subTrees[e]._parent=this):delete this._subTrees[e],t[i]=this}_oppositeSide(e){switch(e){case"left":return"right";case"right":return"left";default:return null}}_rebalanceSubTree(e){if(!this._isSubTreeBalanced(e))return this._subTrees[e]._rebalance()}_createSubTree(e){return new n(e)}}t.BalancedBinaryTree=n;class r extends s.BinaryTree{constructor(e){super(null),this._tree=new s.BinaryTree(e)}add(e){this._tree.add(e),console.log(this.toString()),this._tree.isBalanced()||(this._rebalance(this._tree),console.log("After Rebalance: "+this.toString()))}remove(e){this._tree.remove(e),this._tree.isBalanced()||this._rebalance(this._tree)}isBalanced(){return this._tree.isBalanced()}isComplete(){return this._tree.isComplete()}isLeafNode(){return this._tree.isLeafNode()}toString(){return this._tree.toString()}getDepth(){return this._tree.getDepth()}_rebalance(e){if(this._rebalanceSubTree(e,"left"),this._rebalanceSubTree(e,"right"),e.isBalanced())return;e._getSideDepth("left")>e._getSideDepth("right")?this._rotate(e,"left"):this._rotate(e,"right")}_rebalanceSubTree(e,t){if(e._subTrees[t]&&!e._subTrees[t].isBalanced())return this._rebalance(e._subTrees[t])}_rotate(e,t){let i=this._oppositeSide(t),s=e._subTrees[t];if(!s)return;let n=e._parent;n?n._subTrees[e._getRelationToParent()]=s:this._tree=s,s._parent=n,e._parent=s,s._subTrees[i]?(e._subTrees[t]=s._subTrees[i],e._subTrees[t]._parent=e):delete e._subTrees[t],s._subTrees[i]=e}_oppositeSide(e){switch(e){case"left":return"right";case"right":return"left";default:return null}}}t.SelfBalancingBinaryTree=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(7),n=i(44);class r extends n.Tree{add(e){0===e.length?this._handleTerminatingWord():this._handleNonTerminatingWord(e)}_handleTerminatingWord(){this._terminates=!0}_handleNonTerminatingWord(e){let t=this._splitWord(e);this._subTrees[t.firstChar]||(this._subTrees[t.firstChar]=new r(t.firstChar)),this._subTrees[t.firstChar].add(t.restOfWord)}remove(e){if(0===e.length)this._terminates=!1;else{let t=this._splitWord(e);if(!this._subTrees[t.firstChar])return;this._subTrees[t.firstChar].remove(t.restOfWord)}}exists(e){if(0===e.length)return this._terminates;let t=this._splitWord(e);return!!this._subTrees[t.firstChar]&&this._subTrees[t.firstChar].exists(t.restOfWord)}_splitWord(e){return{firstChar:e.charAt(0),restOfWord:s.rest(e,1)}}}t.Trie=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(141))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(5);function n(e,t,i){if(t||(t=""),"string"==typeof e||"number"==typeof e||"boolean"==typeof e||e instanceof Date||e instanceof Function)return e.toString();let r=i?"<br>":"\n",o=i?"&nbsp;&nbsp;&nbsp;&nbsp;":"\t",a="";return a+="{",s.map(e,(e,s)=>{a+=r+o+t+s+" : "+n(e,t+o,i)}),a+=r+t+"}\n",a}t.IS_DEBUG=!1,t.printObject=function(e){let t=n(e);console.log(t)},t.getObjectString=n,t.printCallStack=function(){console.log((new Error).stack)},t.debugPoint=function(e){e.z?console.log("3D POINT: ("+e.x+", "+e.y+", "+e.z+")"):console.log("2D POINT: ("+e.x+", "+e.y+")")}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(143)),s(i(65)),s(i(45)),s(i(66)),s(i(67)),s(i(68))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DragEnter=0]="DragEnter",e[e.DragLeave=1]="DragLeave",e[e.Drop=2]="Drop",e[e.Move=3]="Move"}(t.DraggableFunctions||(t.DraggableFunctions={}))},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(16)),s(i(2)),s(i(145))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2);class n extends s.Drawable{constructor(e){super(e)}_createElements(){}}t.SimpleDrawable=n},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(69)),s(i(147))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(10),r=i(69),o=i(30),a=i(0),l=i(1),u=i(14);class h extends s.Drawable{constructor(){super(),this._availableOptions=new n.Collection,this._availableOptions.addType=o.CollectionTypeEnum.ReplaceDuplicateKeys}get value(){return this._value}_createElements(){this._elems={},this._elems.base=a.createElement({cls:"dynamicSelect"}),this._elems.input=a.createElement({type:"input",parent:this._elems.base,eventListeners:{input:e=>{this._onQueryTextChange(e)},keydown:e=>{this._onKeyEvent(e)},blur:e=>{this._onBlur(e)},focus:e=>{this._onFocus(e)}}}),this._elems.clearBtn=a.createElement({cls:"clearBtn",content:"x",parent:this._elems.base,eventListeners:{click:()=>{this._elems.input.value=""}}}),this._elems.drawer=a.createElement({cls:"drawer collapsed",parent:this._elems.base}),this._elems.innerOptions=a.createElement({cls:"innerOptions",parent:this._elems.drawer}),this._elems.loadingIcon=a.createElement({cls:"hidden loading",parent:this._elems.drawer})}_expandDrawer(){l.removeClass(this._elems.drawer,"collapsed"),u.transition(this._elems.drawer,{height:"0",opacity:"0"},{height:"<height>",opacity:"1"},300)}_collapseDrawer(){u.transition(this._elems.drawer,{height:"<height>",opacity:"1"},{height:"0",opacity:"0"},300).then(()=>{l.addClass(this._elems.drawer,"collapsed")})}addOption(e){let t=new r.DynamicOption(e,this);-1!==this._availableOptions.add(t.id,t)&&(this._updateFiltering(this._elems.input.value),this._elems.innerOptions.appendChild(t.base))}addOptions(e){let t;for(t of e)this.addOption(t)}addEventListener(e,t){switch(e){case"select":this._selectListeners||(this._selectListeners=[]),this._selectListeners.push(t);break;case"search":this._searchListeners||(this._searchListeners=[]),this._searchListeners.push(t);break;case"change":this._changeListeners||(this._changeListeners=[]),this._changeListeners.push(t);break;default:super.addEventListener(e,t)}}_notifyChangeListeners(){let e;if(this._changeListeners)for(e of this._changeListeners)e&&e(this._elems.input.value)}_notifySelectListeners(e){let t;if(this._selectListeners)for(t of this._selectListeners)t&&t(e)}_notifySearchListeners(e){let t;if(this._searchListeners)for(t of this._searchListeners)t&&t(e)}_onQueryTextChange(e){let t=this._elems.input.value;this._updateFiltering(t),this._notifyChangeListeners(),this._query(t)}_onKeyEvent(e){let t,i=!1;switch(e.keyCode){case 13:t=this._availableOptions.getCurrent(),t?this.select(t.value):this.search(this._elems.input.value);break;case 38:for(t=this._availableOptions.getCurrent();!1===i&&this._availableOptions.hasNext(!0);){i=this._availableOptions.getNext(!0).value.hilite()}i&&t&&t.value.unhilite();break;case 40:for(t=this._availableOptions.getCurrent();!1===i&&this._availableOptions.hasNext();){i=this._availableOptions.getNext().value.hilite()}i&&t&&t.value.unhilite()}}_onBlur(e){this._collapseDrawer()}_onFocus(e){this._expandDrawer(),this._availableOptions.resetLoop()}select(e){this._collapseDrawer(),this._elems.input.value=e.display,this._value=e.id,this._elems.input.blur(),this._notifySelectListeners(e)}search(e){this._collapseDrawer(),this._elems.input.value=e,this._elems.input.blur(),this._notifySearchListeners(e)}_updateFiltering(e){let t=e.toLowerCase().split(" ");this._availableOptions.map(e=>{e.tryFilter(t)})}_query(e){e!==this._currentQuery&&(this._isQuerying?this._nextQuery=e:e&&(this._currentQuery=e,this._isQuerying=!0,l.removeClass(this._elems.loadingIcon,"hidden"),this._onQuery(e).then(()=>{this._currentQuery="",this._isQuerying=!1,l.addClass(this._elems.loadingIcon,"hidden"),this._nextQuery&&(this._query(this._nextQuery),this._nextQuery="")})))}clear(){this._elems.input.value="",this._updateFiltering(""),this._notifyChangeListeners()}}t.DynamicSelect=h,h._uncoloredStyles={"@keyframes rotate":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},".dynamicSelect":{position:"relative",fontFamily:"Segoe UI, Open Sans, Helvetica",nested:{input:{position:"relative",fontSize:"2em",zIndex:"3"},".clearBtn":{color:"#555",transition:"all ease-in-out .1s",position:"absolute",left:"calc(100% - 25px)",top:"0",width:"20px",height:"20px",fontSize:"20px",cursor:"pointer",transformOrigin:"50% 100%",nested:{"&:hover":{transform:"scale(1.1)"}}},".drawer":{boxShadow:"1px 1px 5px 2px rgba(0,0,0,.2)",color:"<0>",backgroundColor:"#FFF",minWidth:"200px",maxHeight:"300px",overflowY:"auto",position:"absolute",left:"0",top:"3em",display:"inline-block",zIndex:"2",nested:{".loading":{borderRadius:"100%",border:"2px transparent solid",borderTop:"2px #333 solid",animation:"rotate 1s linear infinite",width:"20px",height:"20px",marginLeft:"auto",marginRight:"auto",transition:"height ease-in-out .1s",padding:"5px",nested:{"&.hidden":{display:"none"}}},"&.collapsed":{maxHeight:"0",overflow:"hidden",opacity:"0"}}}}}}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(149)),s(i(150))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(70);t.isEditable=function(e){return s.isNamedClass(e,"Editable")}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(1),r=i(0),o=i(32);class a extends s.Drawable{constructor(e){e||(e={}),e.cls=(e.cls||"")+" editable",e.isMultiline&&(e.cls+=" multiline"),super(e),this._addClassName("Editable"),this.type=e.inputType,this._value=e.value,this._defaultValue=e.defaultValue,this._isMultiline=e.isMultiline,this._addHandlers(e),this._isModifying=!1,this._createElements(),this._addListeners(),this.setThemeColor("editableLightBG",e.lightBg||"rgba(0,0,0,.1)")}get value(){return this._value}set value(e){this._value=e,this._elems.input.value=this.format(e)}_addHandlers(e){this.onValidate=e.onValidate,this.onUpdate=e.onUpdate,this.format=e.onFormat,this.parseContent=e.onParseContent,this._addDefaultFormatHandlers()}_addDefaultFormatHandlers(){this.format||this._addDefaultFormatHandler(),this.parseContent||this._addDefaultParseHandler()}_addDefaultParseHandler(){this.parseContent=function(e){return e}}_addDefaultFormatHandler(){this.format=function(e,t){if(!e){let e="";return t||(e=this._defaultValue||""),e}return e.toString()}}_shouldSkipCreateElements(){return!0}_createElements(){this._elems.base;this._elems.display=r.createElement({cls:"display unselectable",parent:this._elems.base,focusable:!0}),this._elems.input=r.createElement({type:"input",cls:"input hidden",content:"",attr:{type:this.type},parent:this._elems.base}),this._renderDisplayView()}_addListeners(){this._elems.display.addEventListener("click",e=>{this._handleFocusEvent(e)}),this._elems.display.addEventListener("focus",e=>{this._handleFocusEvent(e)}),this._elems.input.addEventListener("keypress",e=>{13===e.keyCode&&(this._isModifying&&!e.shiftKey?(this._save(),e.preventDefault()):this._isMultiline&&e.shiftKey||(e.stopPropagation(),e.preventDefault()))}),this._elems.input.addEventListener("blur",()=>{this._isModifying&&this._save()})}_handleFocusEvent(e){this._isModifying||this.modify()}_save(){let e,t=this._elems.input.value;return e=this._validate(t),e.passed?this._onValidationPassed(t):this._onValidationFailed(e.allowLeave)}_validate(e){let t;return t=this.onValidate?this.onValidate(e):{passed:!0},t}_onValidationFailed(e){return n.addClass(this._elems.input,"error"),e||(o.select(this._elems.input),this._elems.input.focus()),!1}_onValidationPassed(e){return n.removeClass(this._elems.input,"error"),this._value=this.parseContent(e),this.onUpdate&&this.onUpdate(this.value),this._hideElement(this._elems.input),this._showElement(this._elems.display),this._isModifying=!1,this._renderDisplayView(),!0}modify(){if(this._isModifying)return!1;this._isModifying=!0,this._elems.input.value=this.format(this.value,!0);let e=this._elems.display.offsetWidth;return this._elems.input.style.width=e-6+"px",this._hideElement(this._elems.display),this._showElement(this._elems.input),window.setTimeout(()=>o.select(this._elems.input),100),this._elems.input.focus(),!0}focus(){this._handleFocusEvent()}_hideElement(e){n.addClass(e,"hidden")}_showElement(e){n.removeClass(e,"hidden")}_renderDisplayView(){this._elems.display.innerHTML=this.format(this._value)}}t.Editable=a,a._uncoloredStyles={".unselectable":{userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",khtmlUserSelect:"none",oUserSelect:"none"},".editable":{fontFamily:"Open Sans, Segoe UI, Helvetica",fontSize:"1em",cursor:"pointer",nested:{input:{fontFamily:"Open Sans, Segoe UI, Helvetica",fontSize:"1em",backgroundColor:"<editableLightBG>",border:"2px solid #AAA",minWidth:"150px",whiteSpace:"nowrap",nested:{"&:focus":{border:"2px dotted rgba(0,0,0,.4)",outline:"none"},"&.error":{borderColor:"#C30"}}},"&.multiline .input":{whiteSpace:"auto"},".display":{border:"2px solid transparent",nested:{"&:hover":{backgroundColor:"<editableLightBG>"}}},".hidden":{display:"none"}}}}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(71)),s(i(72)),s(i(73))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(153))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(154))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(0),r=i(46);class o extends s.Drawable{constructor(e,t){super(),this._clientId=e,this._domain=t,this._loginListeners=[],this._logoutListeners=[],this._createElements()}get isLoggedIn(){return this._isLoggedIn}set isLoggedIn(e){this._isLoggedIn=e}_shouldSkipCreateElements(){return!0}_createElements(){gapi.load("auth2",()=>{gapi.auth2.init({client_id:this._clientId,hd:this._domain||"gmail.com"}).currentUser.listen(e=>{e.getBasicProfile()})}),this._elems.base=n.createElement({id:"elgoog",cls:"g-signin2"}),window.setTimeout(()=>{gapi.signin2.render("elgoog",{scope:"profile email",longtitle:!1,theme:"light",onsuccess:e=>{this._onSignIn(e)},onfailure:()=>{console.log("error occurred")}})},10)}_onSignIn(e){let t=e.getBasicProfile();if(this._googleProfile&&t.getId()===this._googleProfile.getId())return;this._googleProfile=t;let i=e.getAuthResponse().id_token;this._login(i,()=>{this._onSignedIn()},()=>{this._onSignInFailure()}),window.addEventListener("beforeunload",()=>{this.signOut()})}_onSignedIn(){this._isLoggedIn=!0;for(let e of this._loginListeners)e&&e()}_onSignInFailure(){new r.ErrorPopup("We couldn't log you in securely. Are you supposed to be here?").draw(document.body),this.signOut()}signOut(){gapi.auth2.getAuthInstance().signOut().then(()=>{this._googleProfile=null,this._logout()})}addLoginListener(e){this._loginListeners.push(e)}addLogoutListener(e){this._logoutListeners.push(e)}}t.GoogleLoginButton=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(156))},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(){this._DEFAULT_SIZE=104857600}save(e,t,i){return s(this,void 0,void 0,(function*(){let s=yield this._getFileSystem(),n=yield this._getDirectoryEntry(s,i,!0),r=yield this._createFile(n,e),o=yield this._getFileWriter(r);return yield this._writeFile(o,r,t)}))}load(e,t){return s(this,void 0,void 0,(function*(){let i=yield this._getFileSystem(),s=yield this._getDirectoryEntry(i,t,!1),n=yield this._getFileEntry(s,e),r=yield this._getFile(n);return this._readFile(r)}))}deleteLocalFile(e,t){return s(this,void 0,void 0,(function*(){let i=yield this._getFileSystem(),s=yield this._getDirectoryEntry(i,e,!1),n=yield this._getFileEntry(s,t);return this._deleteFile(n)}))}createDirectory(e){return s(this,void 0,void 0,(function*(){let t=yield this._getFileSystem();return!!(yield this._getDirectoryEntry(t,e,!0))}))}getDirectory(e){return s(this,void 0,void 0,(function*(){let t=yield this._getFileSystem();return yield this._getDirectoryEntry(t,e)}))}getDirectoryContents(e,t){return s(this,void 0,void 0,(function*(){let i=yield this._getFileSystem(),s=yield this._getDirectoryEntry(i,e,t);return yield this._readDirectoryContents(s)}))}_getFileSystem(e,t){return s(this,void 0,void 0,(function*(){if(this._fileSystem&&!e)return Promise.resolve(this._fileSystem);if(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,!requestFileSystem)return Promise.reject("browser doesn't support file system");e||(e=this._DEFAULT_SIZE),t||(t=PERSISTENT),this._fileSystemType=t;let i=yield this._requestQuota(e);return yield this._requestFileSystem(t,i)}))}_requestQuota(e){return new Promise((t,i)=>{try{window.webkitStorageInfo.requestQuota(PERSISTENT,e,e=>{t(e)},e=>{this._handleError(e,i)})}catch(i){t(e)}})}_requestFileSystem(e,t){return new Promise((i,s)=>{requestFileSystem(e,t,e=>{this._fileSystem=e,i(this._fileSystem)},e=>{this._handleError(e,s)})})}_createFile(e,t){return s(this,void 0,void 0,(function*(){return yield this._getFileEntry(e,t,!0)}))}_getFileWriter(e){return new Promise((t,i)=>{e.createWriter(e=>{t(e)},e=>{this._handleError(e,i)})})}_writeFile(e,t,i,s){return new Promise((t,n)=>{e.onwriteend=()=>{0===e.length?(e.seek(0),e.write(i)):t(!0)},e.onerror=e=>{this._handleError(e,n)},s?(e.seek(e.length),e.write(i)):e.truncate(0)})}_getFileEntry(e,t,i){return new Promise((s,n)=>{e.getFile(t,{create:i,exclusive:!1},e=>{s(e)},e=>{this._handleError(e,n)})})}_getFile(e){return new Promise((t,i)=>{e.file(e=>{t(e)},e=>{this._handleError(e,i)})})}_readFile(e){return new Promise((t,i)=>{let s=new FileReader;s.onloadend=e=>{t(s.result)},s.onerror=e=>{this._handleError(e,i)},s.readAsText(e)})}_getDirectoryEntry(e,t,i){return s(this,void 0,void 0,(function*(){t=function(e){let t=0;for(;-1!==e.indexOf("..");)if(e=(e=(e=e.replace(/\.\./g,"")).replace(/\/\//g,"/")).replace(/\\\\/g,"\\"),t+=1,t>1e3)return"";return e}(t);let s=yield this._getFileSystemRoot(e),n=this._splitDirectoryPathPieces(t);for(let e of n)e&&(s=yield this._getSubDirectory(s,e,i));return s}))}_getFileSystemRoot(e){return new Promise((t,i)=>{e||i("No filesystem"),t(e.root)})}_splitDirectoryPathPieces(e){return e?e.split(/[\/\\]/g):[]}_getSubDirectory(e,t,i){return new Promise((s,n)=>{e.getDirectory(t,{create:i},e=>{s(e)},e=>{n(e)})})}_readDirectoryContents(e){return new Promise((t,i)=>{e.createReader().readEntries(e=>{t(e)},e=>{this._handleError(e,i)})})}_deleteFile(e){return new Promise((t,i)=>{e.remove(()=>{t(!0)},e=>{this._handleError(e,i)})})}_handleError(e,t){console.error(e),t&&t(e)}}t._FileStorage=n,t.FileStorage=new n},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(3)),s(i(24)),s(i(8)),s(i(4)),s(i(158)),s(i(161)),s(i(163)),s(i(166)),s(i(171))},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(47)),s(i(159)),s(i(78)),s(i(160))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(78),n=i(0);class r extends s.MultiSelectButtonField{constructor(e,t){super(e,t),r._instances.push(this)}static set options(e){if(!this._options){this._options=e;for(let e of this._instances)e._createAvailableOptions()}}get _defaultCls(){return"toggleBtns expandable"}get _addBtnLabel(){return"+ Add"}_createClonedElement(e){return new this.constructor(this._id+e,this.template)}_getValueFromField(){return this._data}_onCreateElements(){this._elems.base=n.createElement({cls:"optElement"}),this._createAvailableOptions(),this._createInput()}_createAvailableOptions(){if(this._elems.opts?(this._elems.opts.innerHTML="",this._buttons=[]):this._elems.opts=n.createElement({cls:"opts",parent:this._elems.base}),this.constructor._options)for(let e of this.constructor._options){let t=this._createAvailableOption(e);this._elems.opts.appendChild(t)}}_createAvailableOption(e){return this._createOptionElement(e)}_createInput(){let e=n.createElement({cls:"addOptWrapper",parent:this._elems.base});this._addInputField(e),this._addAddButton(e)}_addInputField(e){this._showInputField&&(this._elems.input=n.createElement({cls:"addOpt",type:"input",parent:e,eventListeners:{keydown:e=>{13===e.keyCode&&(this._addNewOption(this._elems.input.value),this._clearInputField())}}}))}_addAddButton(e){this._elems.addBtn=n.createElement({cls:"addBtn",content:this._addBtnLabel,parent:e,attr:{tabindex:"0"},eventListeners:{click:()=>{this._addNewOption(this._elems.input.value),this._clearInputField()},keydown:e=>{13===e.keyCode&&(this._addNewOption(this._elems.input.value),this._clearInputField(),this._elems.input.focus())}}})}_clearInputField(){this._elems.input&&(this._elems.input.value="")}_addNewOption(e){if(e&&this._doesElementAlreadyExist(e))return;let t=this._createNewOption(e),i=this._createAvailableOption(t);this._elems.opts.appendChild(i),this._selectBtn(i,t.value)}update(e,t){this._createAvailableOptions(),super.update(e,t)}}t.ExpandableButtonField=r,r._instances=[],r._uncoloredStyles={".optElement":{whiteSpace:"nowrap",marginTop:"10px",nested:{".opts":{display:"flex",flexGrow:"1",flexWrap:"wrap",width:"100%",nested:{".toggleBtn":{width:"auto"}}},".addOptWrapper":{display:"flex",maxWidth:"300px",fontSize:"1em",marginTop:"10px",nested:{".addOpt":{flexGrow:"1"},".addBtn":{backgroundColor:"<formTheme>",color:"#FFF",padding:"2px 10px",cursor:"pointer",width:"auto",display:"inline-block",whiteSpace:"nowrap",marginLeft:"10px",transition:"all ease-in-out .2",flexShrink:"0",borderRadius:"30px",nested:{"&:hover":{transform:"scale(1.05)"}}}}}}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(47),n=i(1);class r extends s.ToggleButtonField{get _defaultValue(){return null}get _multiSelect(){return!1}_selectBtn(e,t){if(e){if(this._selectedBtn&&n.removeClass(this._selectedBtn,"selected"),this._selectedBtn===e)return this._data=this._defaultValue,void(this._selectedBtn=null);this._data=t,this._selectedBtn=e,n.addClass(e,"selected")}}_createClonedElement(e){return new r(this._id+e,this)}_shouldBeSelected(e){return this._data===e.value}clear(){this._selectedBtn&&(n.removeClass(this._selectedBtn,"selected"),this._selectedBtn=null),this._data=this._defaultValue}}t.SingleSelectButtonField=r},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(48)),s(i(79)),s(i(33)),s(i(80)),s(i(162)),s(i(49))},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(3),r=i(33),o=i(4),a=i(8),l=i(5),u=i(6),h=i(0),d=i(80),c=i(32),_=i(24),p=i(48),m=i(79);class f extends r.CollapsibleField{constructor(e,t,i){super(e,t),a.isField(t)?this._childTemplate=t.childTemplate:this._childTemplate=i,this._children=[]}get _type(){return n.FieldTypeEnum.ARRAY}get _defaultValue(){return[]}get _defaultCls(){return"array"}get childTemplate(){return this._childTemplate}_getUncoloredStyles(){return this._mergeThemes(f._uncoloredStyles,r.CollapsibleField._uncoloredStyles,o.Field._uncoloredStyles)}setThemeColor(e,t,i){super.setThemeColor(e,t),this._children&&0!==this._children.length||(a.isField(this._childTemplate)?this._childTemplate.setThemeColor(e,t,i):l.map(this._childTemplate,s=>{s.setThemeColor(e,t,i)})),l.map(this._children,s=>{s.setThemeColor(e,t,i)})}_parseFieldTemplate(e){super._parseFieldTemplate(e),this._newLabel=e.newLabel||"+ Add New Element",this._allowReordering=e.allowReordering,u.isNullOrUndefined(this._allowReordering)&&(e.allowReordering=!0)}_onCreateElements(){this._createCollapsibleTitle(),this._elems.childrenContainer=h.createElement({cls:"formChildren",parent:this._elems.base}),this._createNewButton(),this._createStyles()}_createNewButton(){this._elems.newButton=h.createElement({cls:"arrayChild new",content:this._newLabel,parent:this._elems.childrenContainer,eventListeners:{click:()=>{this._createNewChild()}}})}_createClonedElement(e){return new f(this._id+e,this)}_getValueFromField(){return this._data}update(e,t){this.clear(),e&&e.map(e=>{this._createNewChild().update(e,t)})}_createNewChild(){let e=this._generateChildElement();return this._addNewChildListeners(e),this._finalizeNewChild(e),e}_generateChildElement(){let e,t=this._children.length;return e=m.isArrayChildElement(this._childTemplate)?this._cloneFormElement(this._childTemplate,this._id+"|"+t.toString()):new d.ArrayChildField(this._id+"|"+t.toString(),this._childTemplate,{allowReordering:this._allowReordering}),e}_finalizeNewChild(e){this._applyColors(e),this._children.push(e),c.removeElement(this._elems.newButton),e.draw(this._elems.childrenContainer),this._elems.childrenContainer.appendChild(this._elems.newButton),window.setTimeout(()=>{e.focus()},300)}_addNewChildListeners(e){e.addOrderingListener(this),_.formEventHandler.addEventListener(_.FORM_ELEM_CHANGE,{func:t=>{t.context.key===e.id&&window.setTimeout(()=>{this._updateInternalData(!0),this._dispatchChangeEvent(e.id)},0)},uniqueId:this.id+"|"+e.id,target:e})}_updateInternalData(e){return s(this,void 0,void 0,(function*(){let t=[],i=[];for(let s of this._children)i.push(this._updateInternalField(s,t,e));return yield Promise.all(i),t}))}_updateInternalField(e,t,i){return s(this,void 0,void 0,(function*(){if(u.isNullOrUndefined(e))return Promise.resolve();let s=yield e.save(i);if(u.isNullOrUndefined(s))return Promise.resolve();t.push(s)}))}save(e){return s(this,void 0,void 0,(function*(){return this._data=yield this._updateInternalData(e),this._data}))}canSave(){let e={hasErrors:!1,hasMissingRequired:!1};return l.map(this._children,t=>{let i=t.canSave();e.hasErrors=e.hasErrors||i.hasErrors,e.hasMissingRequired=e.hasMissingRequired||i.hasMissingRequired},()=>e.hasErrors&&e.hasMissingRequired),e}clear(){this._elems.childrenContainer.innerHTML="",this._children=[]}onChangeOrder(e,t,i){let s;for(let t=0;t<this._children.length;t+=1)this._children[t]===e&&(s=t);let n=u.isNullOrUndefined(i)?s+t:i;n<0&&(n=0),n>=this._children.length&&(n=this._children.length-1),this._children.splice(s,1),this._children.splice(n,0,e);let r=this._elems.childrenContainer.children[s],o=this._elems.childrenContainer.children[n+(t===p.DirectionType.FORWARD?1:0)];this._elems.childrenContainer.removeChild(r),o?this._elems.childrenContainer.insertBefore(r,o):this._elems.childrenContainer.appendChild(r)}focus(){if(!this._children)return!1;for(let e of this._children)if(e&&e.focus())return!0;return!1}getField(e){if(e===this._id)return this;let t;for(let i of this._children){if(t)break;t=i.getField(e)}return t}}t.ArrayField=f,f._uncoloredStyles={".kipFormElem.array":{nested:{"> .formChildren":{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridColumnGap:"10px",gridRowGap:"10px"},".array .formChildren":{gridTemplateColumns:"100%"},"&.collapsed":{nested:{".kipBtn.new":{display:"none"}}},".arrayChild.new":{border:"1px dashed <formSubTheme>",cursor:"pointer",opacity:"0.5",backgroundColor:"#FFF",fontSize:"1.3em",display:"flex",justifyContent:"center",alignItems:"center",color:"<formSubTheme>",userSelect:"none",webkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",nested:{".mobile &":{width:"calc(100% - 20px)"},"&:hover":{opacity:"1"}}}}}}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(81)),s(i(164)),s(i(165))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(4),n=i(3),r=i(8);class o extends s.Field{get _type(){return n.FieldTypeEnum.FILE_UPLOAD}get _defaultCls(){return"file"}get _defaultValue(){return null}_parseFieldTemplate(e){super._parseFieldTemplate(e),this._attr=e.attr}_onCreateElements(){this._createStandardLabel(this._elems.base),this._elems.input=r.createInputElement("","","file",this._data,null,null,this._elems.base)}_getValueFromField(){return this._elems.input.files}_createClonedElement(e){return new o(this.id+e,this)}}t.FileUploadField=o},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(81),r=i(0),o=i(6),a=i(8);class l extends n.FilePathField{get _defaultCls(){return"photopath"}_onCreateElements(){this._elems.photoWrapper=r.createSimpleElement("","photoWrapper","",null,null,this._elems.base),this._elems.display=r.createElement({type:"img",cls:"photo",attr:{src:this._data},parent:this._elems.photoWrapper}),this._elems.overlay=r.createSimpleElement("","photoOverlay","",null,null,this._elems.photoWrapper),this._elems.linkBtn=r.createSimpleElement("","photoBtn link","CHANGE LINK",null,null,this._elems.overlay),this._elems.linkBtn.addEventListener("click",()=>{let e=window.prompt("What should the link be set to?",this._data);e!==this._data&&(o.isNullOrUndefined(e)||(this._tempLink=e,this._changeEventFired()))}),this._elems.input=a.createInputElement(this._id+"|input","photoInput","file","",null,null,this._elems.overlay),this._elems.uploadBtn=a.createLabelForInput("UPLOAD",this._id+"|input","photoBtn upload",this._elems.overlay),this._elems.input.addEventListener("change",()=>{this._changeEventFired(),this._onFileSelected()})}_createClonedElement(e){return new l(this.id+e,this._config)}update(e,t){this._files=null,e||(e=""),this._data=e,this._elems.display.src=e}_onFileSelected(){let e;this._files&&(e=this._files[0],e&&this._readFile(e).then(e=>{this._elems.display.src=e}))}_onLinkChange(){let e=super._onLinkChange();return this._elems.display.src=e,e}clear(){this._data="",this._elems.display.src=""}save(e){return s(this,void 0,void 0,(function*(){if(!e){if(this._files&&this._onSaveCallback){let e=yield this._resizeImages(this._files);this._data=yield this._onSaveCallback(this._files,e)}return this._data}}))}_readFile(e,t){return s(this,void 0,void 0,(function*(){let t=new FileReader;return t.readAsDataURL(e),new Promise(e=>{t.onload=()=>{e(t.result)}})}))}_loadImage(e){return s(this,void 0,void 0,(function*(){let t=new Image;return t.src=e,new Promise(e=>{t.onload=()=>{e(t)}})}))}_renderOnCanvas(e){return s(this,void 0,void 0,(function*(){let t=r.createElement({type:"canvas"});return t.width=this._config.maxSize,t.height=this._config.maxSize,e.width>e.height?t.height=e.height*this._config.maxSize/e.width:e.height>e.width&&(t.width=e.width*this._config.maxSize/e.height),t.getContext("2d").drawImage(e,0,0,t.width,t.height),new Promise(e=>{t.toBlob(t=>{e(t)})})}))}_resizeImages(e){return s(this,void 0,void 0,(function*(){if(!this._config.maxSize)return Promise.resolve([]);let t=[];for(let i=0;i<e.length;i+=1){let s=yield this._resizeImage(e[i],t);t.push(s)}return t}))}_resizeImage(e,t){return s(this,void 0,void 0,(function*(){let t=yield this._readFile(e),i=yield this._loadImage(t);return yield this._renderOnCanvas(i)}))}}t.PhotoPathField=l,l._uncoloredStyles={".kipFormElem.photopath .photoOverlay":{backgroundColor:"rgba(0,0,0,.5)",opacity:"0",transition:".1s opacity ease-in-out",position:"absolute",display:"flex",flexDirection:"column",cursor:"pointer",width:"100%",height:"100%",left:"0",top:"0",justifyContent:"center",alignItems:"center",borderRadius:"100%"},".kipFormElem.photopath .photoWrapper:hover .photoOverlay":{opacity:"1"},".kipFormElem.photopath .photoWrapper":{width:"100px",height:"100px",borderRadius:"50px",border:"1px solid <formTheme>",overflow:"hidden",position:"relative"},".kipFormElem.photopath .photoWrapper img":{width:"100%"},".kipFormElem.photopath .photoWrapper .photoBtn":{width:"100%",backgroundColor:"<formTheme>",color:"#FFF",textAlign:"center",fontSize:"0.7em",cursor:"pointer",marginTop:"6px",opacity:"0.8"},".kipFormElem.photopath .photoWrapper .photoBtn:hover":{opacity:"1"},".kipFormElem.photopath .photoWrapper input[type='file']":{display:"none"}}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(25)),s(i(167)),s(i(168)),s(i(169)),s(i(170))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(25);class n extends s._Form{}t.EmbeddedForm=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(25),n=i(1);class r extends s._Form{_getUncoloredStyles(){return this._mergeThemes(r._uncoloredStyles,s._Form._uncoloredStyles)}_createBase(){let e=super._createBase();return n.addClass(e,"fullscreen"),e}}t.FullScreenForm=r,r._uncoloredStyles={".kipForm.fullscreen":{position:"fixed",left:"0",top:"0",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"<formBackgroundTheme>",nested:{".background":{maxWidth:"1000px",backgroundColor:"#FFF",height:"100%",padding:"15px",boxSizing:"border-box"},".sectionHeaderContainer":{justifyContent:"center",nested:{".sectionHeader":{textAlign:"center"},".caret":{marginLeft:"5px"}}}}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(25),n=i(1);class r extends s._Form{_getUncoloredStyles(){return this._mergeThemes(r._uncoloredStyles,s._Form._uncoloredStyles)}_createBase(){let e=super._createBase();return n.addClass(e,"inline"),e}_createPostForm(){return null}_onFormChange(e){this._isFormChangeForMe(e)&&this.trySave()}}t.InlineForm=r,r._uncoloredStyles={".kipForm.inline":{display:"flex",nested:{".formChildren.flex .kipFormElem":{marginRight:"20px"}}}}},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(25),r=i(1),o=i(0),a=i(11);class l extends n._Form{_getUncoloredStyles(){return this._mergeThemes(l._uncoloredStyles,n._Form._uncoloredStyles)}_createBase(){let e=super._createBase();return r.addClass(e,"popup"),r.addClass(e,"hidden"),this._isHidden=!0,e}_createPreForm(){return this._elems.overlay=o.createElement({cls:"formOverlay",parent:this._elems.base}),super._createPreForm(),this._elems.closeButton=o.createElement({cls:"close kipBtn",content:"&#x2715;",eventListeners:{click:()=>s(this,void 0,void 0,(function*(){yield a.wait(10),this.tryCancel()}))}}),this._createTitle(),this._elems.overlay}_createTitle(){o.createElement({cls:"titleBar",children:[{cls:"formTitle",content:this._config.hideTitle?"":this._config.label},this._elems.closeButton],parent:this._elems.background}),this._config.hideTitle=!0}trySave(){const e=Object.create(null,{trySave:{get:()=>super.trySave}});return s(this,void 0,void 0,(function*(){let t=e.trySave.call(this);return this.hide(),t}))}tryCancel(e){let t=super.tryCancel();return this.hide(),t}show(){this._isHidden&&(r.removeClass(this._elems.base,"hidden"),this._isHidden=!1)}hide(){this._isHidden||(r.addClass(this._elems.base,"hidden"),this._isHidden=!0)}}t.PopupForm=l,l._uncoloredStyles={".kipForm.popup":{position:"fixed",left:"0",top:"0",margin:"0",padding:"0",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",nested:{"&.hidden":{display:"none"},".formOverlay":{position:"absolute",width:"100%",height:"100%",top:"0",left:"0",backgroundColor:"rgba(0,0,0,.6)"},".background":{boxShadow:"1px 1px 8px 3px rgba(0,0,0,.2)",overflow:"hidden",borderRadius:"3px",backgroundColor:"#FFF",minWidth:"40%",maxWidth:"90%",maxHeight:"90%",position:"relative",display:"flex",flexDirection:"column",nested:{".titleBar, .kipBtns":{display:"flex",backgroundColor:"<formSubTheme>",color:"#FFF",padding:"3px 20px",alignItems:"center"},".close.kipBtn":{fontSize:"1.5em"},".formTitle":{flexGrow:"1",fontSize:"1.5em"},".formContent":{overflowY:"auto",padding:"15px",maxWidth:"1000px"},".kipBtns .kipBtn":{backgroundColor:"transparent",border:"1px solid #FFF",fontSize:"1em",color:"#FFF",nested:{"&.primary":{fontSize:"1.2em"}}}}}}}}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(172)),s(i(173)),s(i(174)),s(i(175)),s(i(176)),s(i(83)),s(i(177)),s(i(178)),s(i(179)),s(i(180)),s(i(181)),s(i(182)),s(i(183))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(4),n=i(3),r=i(8),o=i(0);class a extends s.Field{get _type(){return n.FieldTypeEnum.CHECKBOX}get _defaultValue(){return!1}get _defaultCls(){return"check"}get _defaultLayout(){return n.FormElementLayoutEnum.LABEL_AFTER}_getUncoloredStyles(){return this._mergeThemes(a._uncoloredStyles,s.Field._uncoloredStyles)}_onCreateElements(){this._createStandardInput(),this._elems.lbl=r.createLabelForInput("",this._id+"|input","",this._elems.base),this._elems.inputBox=o.createElement({cls:"inputBox",parent:this._elems.lbl,attr:{tabindex:0},eventListeners:{keypress:e=>{13!==e.keyCode&&32!==e.keyCode||(this._elems.input.checked=!this._elems.input.checked)}}}),this._elems.inputInnerBox=o.createElement({cls:"innerInputBox",parent:this._elems.inputBox}),this._elems.innerLbl=o.createSimpleElement("","innerLbl",this._config.label,null,null,this._elems.lbl),this._handleStandardLayout()}_getValueFromField(){return this._elems.input.checked}_createClonedElement(e){return new a(this._id+e,this)}update(e,t){this._data=e,this._elems.input.checked=e}}t.CheckboxField=a,a._uncoloredStyles={'.kipFormElem input[type="checkbox"]':{display:"none",zoom:"1.5",width:"18px",height:"18px",margin:"0",marginRight:"5px",border:"1px solid <formTheme>"},".kipFormElem input[type='checkbox'] + label":{display:"flex"},'.kipFormElem input[type="checkbox"] + label .inputBox':{width:"18px",height:"18px",margin:"0",marginRight:"5px",border:"1px solid <formTheme>",position:"relative",boxSizing:"content-box",flexShrink:"0",marginTop:"4px"},".kipFormElem input[type='checkbox'] + label .inputBox .innerInputBox":{position:"absolute",width:"0",height:"0",left:"9px",top:"9px",backgroundColor:"<formTheme>",transition:"all ease-in-out .1s"},".kipFormElem input[type='checkbox']:checked + label .inputBox .innerInputBox, .kipFormElem input[type='checkbox']:checked + label:hover .inputBox .innerInputBox":{left:"2px",top:"2px",width:"14px",height:"14px"},".kipFormElem input[type='checkbox'] + label:hover .inputBox .innerInputBox":{left:"4px",top:"4px",width:"10px",height:"10px",opacity:"0.7"},".kipFormElem.check input[type='checkbox'] + label .innerLbl":{display:"flex",flexDirection:"column",justifyContent:"center",fontSize:"0.9em",paddingTop:"3px"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(4),n=i(3);class r extends s.Field{get _type(){return n.FieldTypeEnum.COLOR}get _defaultValue(){return"#000000"}get _defaultCls(){return"color"}_onCreateElements(){this._createStandardLabeledInput(),this._handleStandardLayout()}_getValueFromField(){return this._elems.input.value}_createClonedElement(e){return new r(this._id+e,this)}}t.ColorField=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(4),n=i(3),r=i(20);class o extends s.Field{get _type(){return n.FieldTypeEnum.DATE}get _defaultValue(){return null}get _defaultCls(){return"date"}_onCreateElements(){this._createStandardLabeledInput(),this._handleStandardLayout()}_getValueFromField(){let e=this._elems.input.value;return r.inputToDate(e)}_createClonedElement(e){return new o(this._id+e,this)}update(e,t){this._data=e,this._elems.input&&this._data&&(this._elems.input.value=r.inputDateFmt(e))}_testEquality(e){return 0===r.dateDiff(e,this._data)}}t.DateField=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(4),n=i(3),r=i(0),o=i(8),a=i(20);class l extends s.Field{get _type(){return n.FieldTypeEnum.DATE_TIME}get _defaultValue(){return null}get _defaultCls(){return"dateTime"}_onCreateElements(){this._createStandardLabel(this._elems.base),this._elems.inputWrapper=r.createSimpleElement("","inputs","",null,null,this._elems.base);let e=r.createElement({cls:"dateWrapper",parent:this._elems.inputWrapper});r.createSimpleElement("","lbl","Date: ",null,null,e);this._elems.dateInput=o.createInputElement("","dateInput","date",this._data,null,null,e),this._elems.dateInput.addEventListener("change",()=>{this._changeEventFired()});let t=this._data?a.shortTime(this._data):"",i=r.createElement({cls:"timeWrapper",parent:this._elems.inputWrapper});r.createSimpleElement("","lbl","Time: ",null,null,i);this._elems.timeInput=o.createInputElement("","timeInput","time",t,null,null,i),this._elems.timeInput.addEventListener("change",()=>{this._changeEventFired()})}_getValueFromField(){let e=this._elems.timeInput.value,t=this._elems.dateInput.value;return a.inputToDate(t,e)}_createClonedElement(e){return new l(this._id+e,this)}update(e,t){this.clear(),this._data=e,this._data&&(this._elems.dateInput&&(this._elems.dateInput.value=a.inputDateFmt(e)),this._elems.timeInput&&(this._elems.timeInput.value=a.inputTimeFmt(e)))}}t.DateTimeField=l,l._uncoloredStyles={".kipFormElem.dateTime .inputs":{display:"flex",width:"100%",alignItems:"center",flexWrap:"wrap",nested:{".dateWrapper":{marginRight:"10px"}}},".kipFormElem.dateTime .inputs input":{marginRight:"20px",flexGrow:"1",minWidth:"150px"},".kipFormElem.dateTime .inputs .lbl":{flexShrink:"1",maxWidth:"50px",marginTop:"4px"}}},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(4),r=i(3);class o extends n.Field{get _type(){return r.FieldTypeEnum.HIDDEN}get _defaultCls(){return"hidden"}get _defaultValue(){return null}_onCreateElements(){}_getValueFromField(){return this._data}_createClonedElement(e){return new o(this.id+e,this)}save(){return s(this,void 0,void 0,(function*(){return this._data}))}}t.HiddenField=o,o._uncoloredStyles={"kipFormElem.hidden":{display:"none"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(3),n=i(4),r=i(8),o=i(5);class a extends n.Field{get _type(){return s.FieldTypeEnum.SELECT}get _defaultValue(){return null}get _defaultCls(){return"select"}_parseFieldTemplate(e){super._parseFieldTemplate(e),this._options=[],o.map(e.options,(e,t)=>{this._options.push({display:t,value:e})})}_onCreateElements(){let e={};for(let t=0;t<this._options.length;t+=1){let i=this._options[t];e[t]=i.display}this._elems.input=r.createSelectElement(this._id,"input",e),this._createStandardLabel(),this._handleStandardLayout()}_getValueFromField(){let e=this._elems.input.value;return this._options[e]}_createClonedElement(e){return new a(this._id+e,this)}}t.ObjectSelectField=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(4),n=i(3);class r extends s.Field{get _type(){return n.FieldTypeEnum.PASSWORD}get _defaultValue(){return""}get _defaultCls(){return"password"}_onCreateElements(){this._createStandardLabeledInput(!1),this._handleStandardLayout()}_getValueFromField(){return this._elems.input.value}_createClonedElement(e){return new r(this._id+e,this)}}t.PasswordField=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(83),n=i(3),r=i(4),o=i(0);class a extends s.NumberField{get _type(){return n.FieldTypeEnum.PERCENTAGE}get _defaultValue(){return 0}get _defaultCls(){return"percentage"}_getUncoloredStyles(){return this._mergeThemes(a._uncoloredStyles,r.Field._uncoloredStyles)}_createElements(){super._createElements(),o.createElement({cls:"percentageLbl",content:"%",parent:this._elems.base})}_createClonedElement(e){return new a(this._id+e,this)}}t.PercentageField=a,a._uncoloredStyles={".percentage":{nested:{input:{maxWidth:"3em"},".percentageLbl":{color:"#555",fontSize:"1em",marginLeft:"5px",display:"inline-block"}}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(3),n=i(4),r=i(8),o=i(7);class a extends n.Field{get _type(){return s.FieldTypeEnum.SELECT}get _defaultValue(){return null}get _defaultCls(){return"select"}_parseFieldTemplate(e){super._parseFieldTemplate(e),this._options=e.options}_onCreateElements(){this._elems.input=r.createSelectElement(this._id,"input",this._options),this._createStandardLabel(),this._handleStandardLayout()}_getValueFromField(){let e=this._elems.input.value,t=e;return o.isNumeric(e)&&(t=+e),t}_createClonedElement(e){return new a(this._id+e,this)}}t.SelectField=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(4),n=i(3),r=i(8),o=i(6);class a extends s.Field{get _type(){return n.FieldTypeEnum.TEXTAREA}get _defaultValue(){return""}get _defaultCls(){return"textarea"}_onCreateElements(){let e=r.createInputElement(this._id,"input","textarea",this._data);this._config.useGhostText&&(e.placeholder=this._config.label||""),this._elems.input=e,this._createStandardLabel(),this._handleStandardLayout()}_getValueFromField(){let e=this._elems.input.value;return e=e.replace(/\n/g,"<br>"),e=e.replace(/    /g,"&nbsp;&nbsp;&nbsp;&nbsp;"),e}_createClonedElement(e){return new a(this._id+e,this)}update(e,t){o.isNullOrUndefined(e)&&(e=""),this._data=e;let i=e.replace(/<br>/g,"\n");i=i.replace(/\&nbsp;/g," "),this._elems.input.value=i}}t.TextAreaField=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(4),n=i(3);class r extends s.Field{get _type(){return n.FieldTypeEnum.TEXT}get _defaultValue(){return""}get _defaultCls(){return"text"}_onCreateElements(){this._createStandardLabeledInput(!1),this._handleStandardLayout()}_getValueFromField(){return this._elems.input.value}_createClonedElement(e){return new r(this._id+e,this)}}t.TextField=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(4),n=i(3),r=i(20);class o extends s.Field{get _type(){return n.FieldTypeEnum.TIME}get _defaultValue(){return null}get _defaultCls(){return"time"}_onCreateElements(){this._createStandardLabeledInput(),this._handleStandardLayout()}_getValueFromField(){let e=this._elems.input.value;return r.inputToDate("",e)}_createClonedElement(e){return new o(this._id+e,this)}update(e,t){this._data=e,this._elems.input&&this._data&&(this._elems.input.value=r.inputTimeFmt(e))}}t.TimeField=o},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(51)),s(i(84)),s(i(185))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(51);class n extends s.HistoryChain{constructor(){super(),window.addEventListener("keyup",e=>{e.ctrlKey&&90===e.keyCode&&(this._shouldIgnoreEvent(e)||(e.shiftKey?this.redo():this.undo()))})}undo(){let e=this.navigateBack();e&&e.reverseFunction&&e.reverseFunction()}redo(){let e=this.navigateForward();e&&e.forwardFunction&&e.forwardFunction()}}t.UndoChain=n},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(187)),s(i(0)),s(i(85)),s(i(29)),s(i(32)),s(i(74))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(39);t.isIElemDefinition=function(e){return!!s.isInterface(e,{after_content:"",attr:null,before_content:"",children:null,cls:"",content:"",id:"",parent:null,type:""})}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(189)),s(i(190)),s(i(191))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIdentifiableModel=function(e){return!!e&&!!e.id}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(86);class n extends s.Serializable{constructor(e){super(e),e&&e.id?this.constructor._updateLastId(e.id):this._id=this.constructor._generateNewId()}get id(){return this._id}set id(e){this._id=e}static get _prefix(){return""}static _generateNewId(){return this._lastId+=1,this._prefix+this._lastId.toString()}static _updateLastId(e){let t=new RegExp(this._prefix,"g");e=e.replace(t,"");let i=parseInt(e);isNaN(i)?this._lastId+=1:i>this._lastId&&(this._lastId=i)}}t.IdentifiableModel=n,n._lastId=0},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=0;t.generateUniqueID=function(e){return e||(e="id"),s+=1,e+s}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(193))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(1),r=i(0);class o extends s.Drawable{constructor(e){super(),this._src=e,this._createElements()}setThemeColor(e,t,i){super.setThemeColor(e,t,i)}get src(){return this._src}set src(e){e||(e=""),this._src!==e&&(this._src=e,this._clearClasses(),this._elems.img.setAttribute("src",e),this._checkForImageLoad())}_shouldSkipCreateElements(){return!0}_createElements(){r.createElement({key:"base",cls:"imageWrapper"+(this._src?"":" noImage"),children:[{key:"img",type:"img",attr:{src:this._src?this._src:""},eventListeners:{error:()=>this._onError()}}]},this._elems)}_onError(){this.src=""}_checkForImageLoad(){this._doesImageHaveMissingSize()?window.setTimeout(()=>this._checkForImageLoad(),10):(this._measureImage(),this._resize())}_doesImageHaveMissingSize(){return!!this._src&&(!this._elems.img.offsetHeight||!this._elems.img.offsetWidth)}_measureImage(){let e=this._elems.img.offsetWidth,t=this._elems.img.offsetHeight;this._widthToHeightRatio=e/t}_resize(){this._clearClasses(),this._src?this._widthToHeightRatio<1?n.addClass(this._elems.base,"verticalImage"):this._widthToHeightRatio>1?n.addClass(this._elems.base,"horizontalImage"):n.addClass(this._elems.base,"squareImage"):n.addClass(this._elems.base,"noImage")}_clearClasses(){n.removeClass(this._elems.base,"noImage"),n.removeClass(this._elems.base,"verticalImage"),n.removeClass(this._elems.base,"horizontalImage"),n.removeClass(this._elems.base,"squareImage")}}t.ImageElement=o,o._uncoloredStyles={".imageWrapper":{backgroundColor:"<imageElementPrimary>",nested:{"&.verticalImage img":{width:"auto",height:"100%"},"&.horizontalImage img":{width:"100%",height:"auto"},"&.squareImage img":{width:"100%",height:"100%"},"&.noImage":{display:"none",nested:{img:{display:"none"}}}}}}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(195)),s(i(88))},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(88);class r extends n.DataManager{constructor(){super(),this._inFlight={}}_createAndAddDefault(e){let t=this.create(e);this.add(t)}getOrCreate(e){return s(this,void 0,void 0,(function*(){if(!e)throw new Error("no ID provided");let t=this.get(e);return t||(this._inFlight[e]?this._inFlight[e]:(this._inFlight[e]=this._loadAndCreate(e),this._inFlight[e]))}))}_loadAndCreate(e){return s(this,void 0,void 0,(function*(){let t=yield this.load(e);if(!t)throw new Error("no data found for id '"+e+"'");let i=this.create(t);return this.add(i),i}))}}t.AsyncManager=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(40),n=i(12),r=i(0),o=i(29);function a(e,t,i,o,a){let l,u,h,d,c;return u=s.getDistance(e,t),l=s.getAngle(e,t),d={position:"absolute",height:"1px","transform-origin":"0px 0px"},n.createClass(".angledLine",d),h=r.createSimpleElement("","angledLine"),h.style.left=e.x+"px",h.style.top=e.y+"px",h.style.width=u+"px",h.style.transform="rotate("+l+"deg)",i&&i.appendChild(h),o&&(c=r.createSimpleElement("","lbl",o),a&&(c.style.transform="rotate("+-1*l+"deg)",c.style.transformOrigin="(0, 0)"),h.appendChild(c)),h}t.arrangeRadially=function(e,t,i,n){let r,o,a=(n=n||360)-(i=i||0),l=a/t.length,u=0,h={x:e.offsetWidth/2,y:e.offsetHeight/2};for(r of t){let e=Math.max(r.offsetWidth,r.offsetHeight),i=a/t.length,n=180-i,o=e*Math.sin(s.degreesToRadians(n))/Math.sin(s.degreesToRadians(i));o>u&&(u=o)}for(o=0;o<t.length;o+=1){let e=s.getEndPoint(h,i+l*o,u);console.log(e),r=t[o],r.style.left=e.x-r.offsetWidth/2+"px",r.style.top=e.y-r.offsetHeight/2+"px"}},t.drawLine=a,t.updateLine=function(e,t){let i={x:parseInt(e.style.left),y:parseInt(e.style.top)},n=s.getDistance(i,t),r=s.getAngle(i,t);return e.style.width=n+"px",e.style.transform="rotate("+r+"deg)",e},t.connectElements=function(e,t,i,s){let n,r,l,u,h,d,c;return c=o.findCommonParent(e,t),l=o.globalOffsetLeft(e,c)+e.offsetWidth/2,u=o.globalOffsetLeft(t,c)+t.offsetWidth/2,h=o.globalOffsetTop(e,c)+e.offsetHeight/2,d=o.globalOffsetTop(t,c)+t.offsetHeight/2,n={x:l,y:h},r={x:u,y:d},a(n,r,c,i,s)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(87))},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(70)),s(i(26))},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(89)),s(i(200)),s(i(201))},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(10),r=i(89),o=i(51),a=i(14),l=i(27);t.Navigator=class{constructor(){this._views=new n.Collection,this._history=new o.HistoryChain,window.addEventListener("popstate",()=>{this._handleState()}),this._createHeader()}get currentView(){return this._currentView}get history(){return this._history}navigateTo(e,t,i,n){return s(this,void 0,void 0,(function*(){if(i||(i={}),!this._canNavigateAway(i.isCancel))return!1;if(!(yield this._handleCurrentViewOnNavigate(i.isCancel)))return!1;let s=this._views.getValue(e);return!(!s&&!t)&&(s?l.isUpdatable(s)&&this._updateView(s,i):(s=this._createView(t,i),this._views.add(e,s)),this._handleTransition(s),this._currentView=this._views.getElement(e),n||this._updateHistory(e,i),!0)}))}_canNavigateAway(e){return!this._currentView||(!this._currentView.value||!!this._currentView.value.canNavigateAway(e))}_handleCurrentViewOnNavigate(e){return s(this,void 0,void 0,(function*(){if(!this._currentView)return!0;let t=yield this._currentView.value.onNavigateAway(e);if(!t)return!0;let i={navigationPath:null,data:t};return this._history.updateCurrentState(i),!0}))}_createView(e,t){return new e}_updateView(e,t){e.update(t.model,t)}_updateHistory(e,t){let i={navigationPath:e,url:t.url||"",title:t.title||e,data:t};this._pushHistoryState(i),this._history.push(i)}_handleTransition(e){if(e&&this._parent)switch(this._transitionType){case r.INavTransitionType.OPACITY:this._opacityTransition(e);break;default:this._noTransition(e)}}_noTransition(e){this._parent.innerHTML="",e.draw(this._parent)}_opacityTransition(e){a.transition(this._parent,{opacity:"1"},{opacity:"0"},200).then(()=>{this._parent.innerHTML="",e.draw(this._parent),a.transition(this._parent,{opacity:"0"},{opacity:"1"},200)})}_pushHistoryState(e){try{window.history.pushState(e,e.title,e.url)}catch(e){console.warn("Couldn't save history state: "+e)}}_handleState(){let e=window.history.state;e&&this.navigateTo(e.navigationPath,null,e.data)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ApplicationState=class{constructor(){this._models={}}getState(e){return this._models[e]}setState(e,t){this._models[e]=t}clearState(e){delete this._models[e]}}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(61)),s(i(13)),s(i(17)),s(i(203)),s(i(5))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(7),n=i(5);t.stringify=function e(t,i,r){let o=[],a=i?"<br>":"\n",l=i?"&nbsp;&nbsp;&nbsp;&nbsp;":"\t";return r||(r=""),n.map(t,(t,n)=>{let u;switch(typeof t){case"string":u=t;break;case"number":case"boolean":u=t.toString();break;default:if(!t){u=t;break}u=t.hasOwnProperty("toString")?a+t.toString():a+e(t,i,l)}o.push(function(e,t,i){if(i)return function(e,t){return s.format("<b>{0}</b>: {1}{2}",e,t,"<br>")}(e,t);return function(e,t){return s.format("{0}: {1}\n",e,t)}(e,t)}(r+n,u,i))}),o.join("")}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(50)),s(i(46)),s(i(205)),s(i(23)),s(i(206)),s(i(82))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(23),n=i(85);class r extends s.Popup{constructor(e){e?e.cls+=" login":e={cls:"login popup"},super(e)}set loginCallback(e){this._loginCallback=e}_getUncoloredStyles(){return this._mergeThemes(r._uncoloredStyles,s.Popup._uncoloredStyles)}_createElements(){super._createElements();let e=n.createLabeledElement({type:"input",attr:{type:"text"}},{content:"Username"});this._elems.username=e.data,this._elems.content.appendChild(e.wrapper);let t=n.createLabeledElement({type:"input",attr:{type:"password"}},{content:"Password"});this._elems.password=t.data,this._elems.content.appendChild(t.wrapper),this.addButton("Login",()=>{this.erase(),this._loginCallback&&this._loginCallback(this._elems.username.value,this._elems.password.value)}),this.addButton("Cancel",()=>{this.erase()})}erase(){super.erase(),this._elems.username.value="",this._elems.password.value=""}}t.LoginPopup=r,r._uncoloredStyles={".popup.login .wrapper + .wrapper":{marginTop:"10px"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(23),n=i(1),r=i(14);class o extends s.Popup{constructor(e,t,i,s){super(s),n.addClass(this._elems.base,"toast"),this._showFor=i||2e3,t&&this.setTitle(t),this.addContent("","",e),this.addButton("Dismiss",()=>{this.erase()})}_getUncoloredStyles(){return this._mergeThemes(s.Popup._uncoloredStyles,o._uncoloredStyles)}draw(e,t){super.draw(e,t),r.transition(this._elems.frame,{top:"100%"},{top:"calc(100% - <height>)"},300).then(()=>{this._elems.frame.style.top=this._elems.frame.offsetTop+"px"}),window.setTimeout(()=>{this.erase()},this._showFor)}erase(){delete this._elems.frame.style.top,r.transition(this._elems.frame,{top:"calc(100% - <height>)",opacity:"1"},{top:"100%",opacity:"0"},300).then(()=>{super.erase()})}}t.ToastPopup=o,o._uncoloredStyles={".toast":{pointerEvents:"none"},".toast .overlay":{display:"none",pointerEvents:"none"},".toast .closeBtn":{display:"none"},".toast .popupButton":{pointerEvents:"auto"},".toast .frame":{width:"15%",height:"auto",boxSizing:"border-box",left:"85%"}}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(37)),s(i(20)),s(i(43)),s(i(7))},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(209)),s(i(90)),s(i(91))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(90),n=i(91);t.Router=class{route(){this._route(n.cleanURL(),n.splitParams())}_createScriptLoader(){this._loader=new s.ScriptLoader("{0}")}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(86))},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(212)),s(i(213))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(5);t.ajax=function(e){return new Promise((t,i)=>{!function(e,t,i){let n=function(){let e=null;try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return null}}}return e}();n&&(function(e,t,i){e.onreadystatechange=()=>{4===e.readyState&&(!function(e){if(e<200)return!1;if(e>=300)return!1;return!0}(e.status)?i(e.responseText):t(e.responseText))}}(n,(...e)=>t(...e),(...e)=>i(...e)),function(e,{type:t,requestUrl:i,params:n,headerParams:r}){e.open(t,i,!0),function(e,t){if(!t)return;s.map(t,(t,i)=>{e.setRequestHeader(i,t)})}(e,r);let o=null;"POST"===t&&(!function(e,t){let i;i=t instanceof FormData?"multipart/form-data":"application/json";i&&e.setRequestHeader("Content-Type",i)}(e,n),o=n);e.send(o)}(n,e))}(e,t,i)})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(0);t.loadFile=function(e){return new Promise((t,i)=>{this._innerLoadFile(e,t,i)})},t._innerLoadFile=function(e,t,i){let s=new XMLHttpRequest;s.open("GET",e.filename),s.onreadystatechange=()=>{4==s.readyState&&200==s.status?t(s.responseText):404===s.status&&i(s.responseText)},s.send()},t.saveFile=function(e){return new Promise(t=>{!function({filename:e,content:t},i){let n;n="string"==typeof t?new Blob([t],{type:"text/plain"}):t;!function(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(t,"u");else{let i=s.createElement({type:"a",attr:{href:window.URL.createObjectURL(t),download:e}});document.body.appendChild(i),i.click(),document.body.removeChild(i)}}(e,n)}(e)})}},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(215)),s(i(92))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(92),n=i(0);class r extends s.Shield{constructor(e){super(),this._loadingText=e||"Loading...",this._createElements()}_getUncoloredStyles(){return this._mergeThemes(r._uncoloredStyles,s.Shield._uncoloredStyles)}_shouldSkipCreateElements(){return!0}_createShieldDetails(){this._elems.wrapper=n.createElement({cls:"loadingContainer",parent:this._elems.shieldContent}),this._elems.text=n.createElement({cls:"loadingText",content:this._loadingText,parent:this._elems.wrapper}),this._elems.icon=n.createElement({cls:"loadingIcon",parent:this._elems.wrapper})}}t.LoadingShield=r,r._uncoloredStyles={".kipShield loadingContainer":{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},".kipShield .loadingText":{fontFamily:'"OpenSansLight", "Helvetica"',fontSize:"1.4em",color:"#FFF"},".kipShield .loadingIcon":{border:"1px solid transparent",borderTop:"1px solid #FFF",borderRadius:"25px",width:"25px",height:"25px",animation:"rotate infinite linear 1s",margin:"auto"},"@keyframes rotate":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(217))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BucketHelper=new class{bucket(e,t,...i){let s={};if(!e)return s;for(let n of e){let e=t(n,...i);s[e]||(s[e]=[]),s[e].push(n)}return s}},t.bucket=function(e,i,...s){return t.BucketHelper.bucket(e,i,...s)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(27))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(56))},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(221)),s(i(1)),s(i(12)),s(i(14))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THEME_BG_COLOR_CLS="themeBGColor",t.THEME_COLOR_CLS="themeColor",t.THEME_COLOR_HOVER_CLS="themeBGHoverColor"},function(e,t,i){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const n=s(i(93));t.interfaces=n;const r=s(i(94));t.svgDefinitions=r;const o=s(i(223));t.svgDrawable=o;const a=s(i(35));t.svgHelpers=a;const l=s(i(96));t.svgStyle=l;const u=s(i(230));t.elements=u;const h=s(i(99));t.additionalPaths=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(17),r=i(35),o=i(95),a=i(94),l=i(66);class u extends s.Drawable{constructor(e,t){super(),this._bounds=e||{x:0,y:0,w:0,h:0},this._initializeInternalSizing();let i=this._createDefaultOptions();this._options=n.reconcileOptions(t,i),this._createElements(),this._addEventListeners()}get view(){return window.setTimeout(()=>{this._verifyViewMeetsAspectRatio()},0),this._view}set view(e){this._view.x=e.x,this._view.y=e.y,this._view.w=e.w,this._view.h=e.h}get options(){return this._options}get style(){return this._group.style}_shouldSkipCreateElements(){return!0}_initializeInternalSizing(){this._extrema={min:{x:1e6,y:1e6},max:{x:0,y:0}},this._view={x:0,y:0,w:0,h:0}}_createDefaultOptions(){return{gutter:2,auto_resize:!0,zoom_x:.08,zoom_y:.08,pan_x:!0,pan_y:!0,prevent_events:!1}}_createElements(){this._elems.base=r.createSVG({id:this._id,attr:{width:this._bounds.w,height:this._bounds.h}});let e=new a.SVGDefinitionsElement;this._elems.definitions=e.base,this._elems.base.appendChild(this._elems.definitions),this._group=new o.GroupElement({parent:this._elems.base}),this._elems.coreGroup=this._group.base,this._elems.base.appendChild(this._group.base)}_addEventListeners(){this._options.prevent_events||(this.base.addEventListener("wheel",e=>{let t=e.deltaY;t=t>0?1:-1,this._onZoom(t)}),l.makeDraggable(this.base,{target:document.body,onMove:e=>{this._onPan(e)},isNonStandard:!0}))}_onZoom(e){let t=this._options.zoom_x*e,i=this._options.zoom_y*e,s=this._view.w*t,n=this._view.h*i;this._options.zoom_x&&(this._view.x-=s,this._view.w+=2*s),this._options.zoom_y&&(this._view.y-=n,this._view.h+=2*n),this.generateViewboxAttribute(!0)}_onPan(e){this._options.pan_x&&(this._view.x-=this.calculateSVGWidth(e.x)),this._options.pan_y&&(this._view.y-=this.calculateSVGHeight(e.y)),this.generateViewboxAttribute(!0)}set width(e){this._bounds.w=e,this._elems.base.setAttribute("width",e.toString())}set height(e){this._bounds.h=e,this._elems.base.setAttribute("height",e.toString())}generateViewboxAttribute(e){let t="";return this._view.w<0&&(this._view.w=0),this._view.h<0&&(this._view.h=0),t=this._view.x+" "+this._view.y+" "+this._view.w+" "+this._view.h,e&&(this.base.setAttribute("viewbox",t),this.base.setAttribute("viewBox",t)),t}_calculateView(){return this._view.x=this._extrema.min.x-this._options.gutter,this._view.y=this._extrema.min.y-this._options.gutter,this._view.w=this._extrema.max.x-this._extrema.min.x+2*this._options.gutter,this._view.h=this._extrema.max.y-this._extrema.min.y+2*this._options.gutter,this._verifyViewMeetsAspectRatio(),this.generateViewboxAttribute(!0),!0}_verifyViewMeetsAspectRatio(){let e=this._bounds.w/this._bounds.h,t=this._view.w/this._view.h;t<e?this._view.w=this._view.h*e:t>e&&(this._view.h=this._view.w/e)}_updateExtrema(e){e.min.x<this._extrema.min.x&&(this._extrema.min.x=e.min.x),e.min.y<this._extrema.min.y&&(this._extrema.min.y=e.min.y),e.max.x>this._extrema.max.x&&(this._extrema.max.x=e.max.x),e.max.y>this._extrema.max.y&&(this._extrema.max.y=e.max.y),this._options.auto_resize&&this._calculateView()}calculateSVGCoordinates(e){return this._convertCoordinates(e,this._view,this._bounds)}calculateScreenCoordinates(e){return this._convertCoordinates(e,this._bounds,this._view)}_convertCoordinates(e,t,i){let s,n=t.w/i.w,r=t.h/i.h;return s={x:n*(e.x-i.x)+t.x,y:r*(e.y-i.y)+t.y},s}_convertDistance(e,t,i){return e*(t/i)}calculateSVGWidth(e){return this._convertDistance(e,this._view.w,this._bounds.w)}calculateSVGHeight(e){return this._convertDistance(e,this._view.h,this._bounds.h)}calculateScreenWidth(e){return this._convertDistance(e,this._bounds.w,this._view.w)}calculateScreenHeight(e){return this._convertDistance(e,this._bounds.h,this._view.h)}addPath(e,t,i){let s=this._group.addPath(e,t,i);return this._addElementListener(s),s}addRectangle(e,t,i,s,n){let r=this._group.addRectangle(e,t,i,s,n);return this._addElementListener(r),r}addCircle(e,t,i){let s=this._group.addCircle(e,t,i);return this._addElementListener(s),s}addPerfectArc(e,t,i,s,n,r){let o=this._group.addPerfectArc(e,t,i,s,n,r);return this._addElementListener(o),o}addPieSlice(e,t,i,s,n,r){let o=this._group.addPieSlice(e,t,i,s,n,r);return this._addElementListener(o),o}addRegularPolygon(e,t,i,s){let n=this._group.addRegularPolygon(e,t,i,s);return this._addElementListener(n),n}addRegularStar(e,t,i,s,n){let r=this._group.addRegularStar(e,t,i,s,n);return this._addElementListener(r),r}addText(e,t,i,s){let n=this._group.addText(e,t,i,s);return this._addElementListener(n),n}addFlowableText(e,t,i){let s=this._group.addFlowableText(e,t,i);return this._addElementListener(s),s}addGroup(e){let t=this._group.addGroup(e);return this._addElementListener(t),t}addShape(e,t,i,s){let n=this._group.addShape(e,t,i,s);return this._addElementListener(n),n}_addElementListener(e){e.addUpdateListener(()=>{this._updateExtrema(e.extrema)})}_convertPointsToPathPoints(e,t){t||(t=1);let i=[];for(let s of e)s.x*=t,s.y*=t,i.push(s);return i}rotateElement(e,t,i){let s;return i||(s=e.measureElement(),i={x:s.x+s.w/2,y:s.y+s.h/2}),e.base.setAttribute("transform","rotate("+t+", "+i.x+", "+i.y+")"),e}clear(){this._group.clear()}}t.SVGDrawable=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(15);class n extends s.PathExtensionElement{_generatePoints(e){let t=[{x:-.15,y:2.95},{x:1,y:4},{x:1.25,y:4},{x:3,y:.25},{x:2.4,y:0},{x:1,y:3},{x:.3,y:2.3}];for(let i of t)i.x+=e.x,i.y+=e.y;return t}}t.CheckElement=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(15);class n extends s.PathExtensionElement{_generatePoints(){return[]}}t.CurveElement=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(15);class n extends s.PathExtensionElement{_generatePoints(e){let t=[{x:.25,y:.6},{x:1,y:0},{x:2,y:1.1},{x:3,y:0},{x:3.75,y:.6},{x:2.66,y:1.75},{x:3.75,y:2.9},{x:3,y:3.5},{x:2,y:2.5},{x:1,y:3.5},{x:.25,y:2.9},{x:1.33,y:1.75}];for(let i of t)i.x+=e.x,i.y+=e.y;return t}}t.ExElement=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(100);class n extends s.ArcElement{_shouldShowRadii(){return!0}}t.PieSliceElement=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(15);class n extends s.PathExtensionElement{_generatePoints(e){let t=[{x:2,y:2},{x:2,y:0},{x:3,y:0},{x:3,y:2},{x:5,y:2},{x:5,y:3},{x:3,y:3},{x:3,y:5},{x:2,y:5},{x:2,y:3},{x:0,y:3},{x:0,y:2}];for(let i of t)i.x+=e.x,i.y+=e.y;return t}}t.PlusElement=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(101),n=i(34);class r extends s.PolygonElement{constructor(e,t,i,s,n){super(e,t,i,n,s)}_generatePoints(e,t,i,s){let r=0,o=n.calculatePolygonInternalAngle(t)/2,a=[];for(let n=0;n<t;n+=1){let t;t=this._calculatePolygonPoint(e,r,i),r+=o,a.push(t),t=this._calculatePolygonPoint(e,r,s),r+=o,a.push(t)}return a}}t.StarElement=r},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(98)),s(i(95)),s(i(52)),s(i(97)),s(i(21)),s(i(102))},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(77)),s(i(76)),s(i(75))},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(6)),s(i(38)),s(i(39)),s(i(31))},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(53)),s(i(54)),s(i(234)),s(i(236))},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(235)),s(i(103))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(53),n=i(103);class r extends s.UnitTester{get _ui(){return this.__ui?this.__ui:(this.__ui=new n.ConsoleUnitTestUI,this.__ui)}visualTest(e){console.warn(e+" : Visual tests can't be performed through the console")}}t.ConsoleUnitTester=r},function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i(104)),s(i(105)),s(i(237))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(53),n=i(105);class r extends s.UnitTester{get _ui(){return this.__ui?this.__ui:(this.__ui=new n.HTMLUnitTestUI,this.__ui)}visualTest(e,t){this._ui.startSubgroup(e);for(let e of t)this._ui.addVisualTestButton(e)}}t.HTMLUnitTester=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(239))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2);class n extends s.Drawable{update(...e){}canNavigateAway(e){return!0}onNavigateAway(e){return null}}t.View=n}]));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlSGVscGVycy9jc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RyYXdhYmxlL2RyYXdhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL19pbnRlcmZhY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL19maWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvb2JqZWN0SGVscGVycy9uYXZpZ2F0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHlwZUd1YXJkcy9mYWxzZXkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ByaW1pdGl2ZUhlbHBlcnMvc3RyaW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9oZWxwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9jYW52YXMvX2ludGVyZmFjZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFTdHJ1Y3R1cmVzL2NvbGxlY3Rpb24vY29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXN5bmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlSGVscGVycy9zdHlsZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL29iamVjdEhlbHBlcnMvY2xvbmluZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVIZWxwZXJzL3RyYW5zaXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N2Zy9hZGRpdGlvbmFsUGF0aHMvcGF0aEV4dGVuc2lvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZHJhd2FibGUvX3R5cGVndWFyZHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL29iamVjdEhlbHBlcnMvY29tYmluZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FudmFzL2NhbnZhc0VsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBhcmFibGUvY29tcGFyYWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcHJpbWl0aXZlSGVscGVycy9kYXRlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3ZnL2VsZW1lbnRzL3N2Z0VsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hdGhzL21hdGhzLnRzIiwid2VicGFjazovLy8uL3NyYy9wb3B1cHMvcG9wdXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vZXZlbnRIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2Zvcm1zL19mb3JtLnRzIiwid2VicGFjazovLy8uL3NyYy9uYW1lZENsYXNzL25hbWVkQ2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0cnVjdHMvX3R5cGVndWFyZHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hdGhzL3JlY3RDb252ZXJzaW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9odG1sSGVscGVycy9lbGVtZW50UG9zaXRpb25pbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFTdHJ1Y3R1cmVzL2NvbGxlY3Rpb24vX2ludGVyZmFjZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3R5cGVHdWFyZHMvc2ltcGxlR3VhcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2h0bWxIZWxwZXJzL2dlbmVyYWxIZWxwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2NvbXBsZXhGaWVsZHMvX2NvbGxhcHNpYmxlRmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hdGhzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zdmcvc3ZnSGVscGVycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmluZGluZy9oZWxwZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ByaW1pdGl2ZUhlbHBlcnMvYXJyYXlzLnRzIiwid2VicGFjazovLy8uL3NyYy90eXBlR3VhcmRzL2h0bWxHdWFyZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHlwZUd1YXJkcy9pbnRlcmZhY2VHdWFyZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWF0aHMvdHJpZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29sb3IvX2ludGVyZmFjZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbG9yL2NvbG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9wcmltaXRpdmVIZWxwZXJzL251bWJlcnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFTdHJ1Y3R1cmVzL3RyZWVzL3RyZWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RyYWdnYWJsZS9kcmFnZ2FibGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BvcHVwcy9lcnJvclBvcHVwLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2J1dHRvbkZpZWxkcy9fdG9nZ2xlQnV0dG9uRmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vY29tcGxleEZpZWxkcy9faW50ZXJmYWNlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9jb21wbGV4RmllbGRzL3NlY3Rpb25GaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcG9wdXBzL19pbnRlcmZhY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9oaXN0b3J5L2hpc3RvcnkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N2Zy9lbGVtZW50cy9wYXRoRWxlbWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdW5pdFRlc3RzL3Rlc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VuaXRUZXN0cy90ZXN0VWkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JpbmRpbmcvYmluZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9zdHlsYWJsZS9zdHlsYWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FudmFzL2NhbnZhc0dyb3VwLnRzIiwid2VicGFjazovLy8uL3NyYy9jYW52YXMvY2FudmFzU3R5bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hdGhzL292ZXJsYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hdGhzL190eXBlZ3VhcmRzLnRzIiwid2VicGFjazovLy8uL3NyYy9vYmplY3RIZWxwZXJzL19pbnRlcmZhY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9tYXRocy9jb250YWlubWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YVN0cnVjdHVyZXMvbGlua2VkTGlzdC9saW5rZWROb2RlLnRzIiwid2VicGFjazovLy8uL3NyYy9kYXRhU3RydWN0dXJlcy90cmVlcy9iaW5hcnlUcmVlLnRzIiwid2VicGFjazovLy8uL3NyYy9kcmFnZ2FibGUvY2xhc3NpY0RyYWdnYWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZHJhZ2dhYmxlL2RyYWdnYWJsZVdyYXBwZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RyYWdnYWJsZS9leGlzdGluZ0RyYWdnYWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZHJhZ2dhYmxlL2h0bWw1RHJhZ2dhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy9keW5hbWljU2VsZWN0L2R5bmFtaWNPcHRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL25hbWVkQ2xhc3MvX3R5cGVndWFyZHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V2ZW50cy9ldmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXZlbnRzL2V2ZW50RGVmaW5pdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXZlbnRzL2V2ZW50SGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaHRtbEhlbHBlcnMvdGFibGVzLnRzIiwid2VicGFjazovLy8uL3NyYy90b29sdGlwL3Rvb2x0aXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rvb2x0aXAvX2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdG9vbHRpcC9faW50ZXJmYWNlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9idXR0b25GaWVsZHMvbXVsdGlTZWxlY3RCdXR0b25GaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9jb21wbGV4RmllbGRzL190eXBlZ3VhcmRzLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2NvbXBsZXhGaWVsZHMvYXJyYXlDaGlsZEZpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2ZpbGVGaWVsZHMvZmlsZVBhdGhGaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcG9wdXBzL3llc05vUG9wdXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vc2ltcGxlRmllbGRzL251bWJlckZpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy9oaXN0b3J5L2hpc3RvcnlOb2RlLnRzIiwid2VicGFjazovLy8uL3NyYy9odG1sSGVscGVycy9jcmVhdGVTcGVjaWZpY0VsZW1lbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJpYWxpemFibGUvc2VyaWFsaXphYmxlTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL19tb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFuYWdlcnMvZGF0YU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL25hdmlnYXRpb24vX2ludGVyZmFjZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JvdXRpbmcvc2NyaXB0TG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9yb3V0aW5nL3VybC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hpZWxkcy9zaGllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N2Zy9faW50ZXJmYWNlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3ZnL3N2Z0RlZmluaXRpb25zLnRzIiwid2VicGFjazovLy8uL3NyYy9zdmcvZWxlbWVudHMvZ3JvdXBFbGVtZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9zdmcvc3ZnU3R5bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N2Zy9lbGVtZW50cy9yZWN0RWxlbWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3ZnL2VsZW1lbnRzL2NpcmNsZUVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N2Zy9hZGRpdGlvbmFsUGF0aHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N2Zy9hZGRpdGlvbmFsUGF0aHMvYXJjLnRzIiwid2VicGFjazovLy8uL3NyYy9zdmcvYWRkaXRpb25hbFBhdGhzL3BvbHlnb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N2Zy9lbGVtZW50cy90ZXh0RWxlbWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdW5pdFRlc3RzL2NvbnNvbGVUZXN0L2NvbnNvbGVVbml0VGVzdFVpLnRzIiwid2VicGFjazovLy8uL3NyYy91bml0VGVzdHMvaHRtbFRlc3QvaHRtbFVpLnRzIiwid2VicGFjazovLy8uL3NyYy91bml0VGVzdHMvaHRtbFRlc3QvaHRtbFVuaXRUZXN0VWkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9hc3luYy9wcm9taXNlVHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JpbmRpbmcvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JvdW5kVmlld3MvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JvdW5kVmlld3MvYm91bmRWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9ib3VuZFZpZXdzL3R5cGVHdWFyZHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JvdW5kVmlld3MvdXBkYXRlYWJsZVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbnZhcy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FudmFzL2NhbnZhcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FudmFzL2NpcmNsZUVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbnZhcy9wYXRoRWxlbWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FudmFzL3JlY3RhbmdsZUVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbnZhcy90ZXh0RWxlbWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29kZUV2ZW50L2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9jb2RlRXZlbnQvY29kZUV2ZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9jb2xvci9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29sb3IvX2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvXyh3aXApXy9fKHdpcClfY29sb3IvX2ludGVyZmFjZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL18od2lwKV8vXyh3aXApX2NvbG9yL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29sb3IvZ2xvYmFsLnRzIiwid2VicGFjazovLy8uL3NyYy9jb2xvci9oZWxwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21tYW5kcy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbWFuZHMvY29tbWFuZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcGFyYWJsZS9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udGV4dE1lbnUvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRleHRNZW51L19pbnRlcmZhY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250ZXh0TWVudS9jb250ZXh0TWVudS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YVN0cnVjdHVyZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFTdHJ1Y3R1cmVzL2NvbGxlY3Rpb24vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFTdHJ1Y3R1cmVzL2xpbmtlZExpc3QvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFTdHJ1Y3R1cmVzL2xpbmtlZExpc3QvbGlua2VkTGlzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YVN0cnVjdHVyZXMvdHJlZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFTdHJ1Y3R1cmVzL3RyZWVzL3NlbGZCYWxhbmNpbmdUcmVlLnRzIiwid2VicGFjazovLy8uL3NyYy9kYXRhU3RydWN0dXJlcy90cmVlcy90cmllLnRzIiwid2VicGFjazovLy8uL3NyYy9kZWJ1Zy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVidWcvZGVidWcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RyYWdnYWJsZS9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZHJhZ2dhYmxlL19pbnRlcmZhY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9kcmF3YWJsZS9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZHJhd2FibGUvc2ltcGxlRHJhd2FibGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2R5bmFtaWNTZWxlY3QvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2R5bmFtaWNTZWxlY3QvZHluYW1pY1NlbGVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZWRpdGFibGUvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VkaXRhYmxlL190eXBlZ3VhcmRzLnRzIiwid2VicGFjazovLy8uL3NyYy9lZGl0YWJsZS9lZGl0YWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXZlbnRzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9leHRlcm5hbC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXh0ZXJuYWwvZ29vZ2xlQXV0aC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXh0ZXJuYWwvZ29vZ2xlQXV0aC9nb29nbGVMb2dpblZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZpbGVTZXJ2ZXIvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZpbGVTZXJ2ZXIvZmlsZVN5c3RlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9idXR0b25GaWVsZHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vYnV0dG9uRmllbGRzL2V4cGFuZGFibGVCdXR0b25zLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2J1dHRvbkZpZWxkcy9zaW5nbGVTZWxlY3RCdXR0b25GaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9jb21wbGV4RmllbGRzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2NvbXBsZXhGaWVsZHMvYXJyYXlGaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9maWxlRmllbGRzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2ZpbGVGaWVsZHMvZmlsZVVwbG9hZEZpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2ZpbGVGaWVsZHMvcGhvdG9QYXRoRmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vZm9ybXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vZm9ybXMvZW1iZWRkZWRGb3JtLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2Zvcm1zL2Z1bGxTY3JlZW5Gb3JtLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2Zvcm1zL2lubGluZUZvcm0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vZm9ybXMvcG9wdXBGb3JtLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL3NpbXBsZUZpZWxkcy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9zaW1wbGVGaWVsZHMvY2hlY2tib3hGaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9zaW1wbGVGaWVsZHMvY29sb3JGaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9zaW1wbGVGaWVsZHMvZGF0ZUZpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL3NpbXBsZUZpZWxkcy9kYXRlVGltZUZpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL3NpbXBsZUZpZWxkcy9oaWRkZW5GaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9zaW1wbGVGaWVsZHMvb2JqZWN0U2VsZWN0RmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vc2ltcGxlRmllbGRzL3Bhc3N3b3JkRmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vc2ltcGxlRmllbGRzL3BlcmNlbnRhZ2VGaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9zaW1wbGVGaWVsZHMvc2VsZWN0RmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vc2ltcGxlRmllbGRzL3RleHRBcmVhRmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vc2ltcGxlRmllbGRzL3RleHRGaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9zaW1wbGVGaWVsZHMvdGltZUZpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy9oaXN0b3J5L2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9oaXN0b3J5L3VuZG9DaGFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaHRtbEhlbHBlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2h0bWxIZWxwZXJzL190eXBlZ3VhcmRzLnRzIiwid2VicGFjazovLy8uL3NyYy9pZGVudGlmaWFibGUvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2lkZW50aWZpYWJsZS9fdHlwZUd1YXJkcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaWRlbnRpZmlhYmxlL2lkZW50aWZpYWJsZU1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9pZGVudGlmaWFibGUvdW5pcXVlSWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9pbWFnZS9pbWFnZUVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hbmFnZXJzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9tYW5hZ2Vycy9hc3luY01hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hdGhzL2RyYXdDb25uZWN0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbmFtZWRDbGFzcy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbmF2aWdhdGlvbi9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbmF2aWdhdGlvbi9uYXZpZ2F0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbmF2aWdhdGlvbi9uYXZpZ2F0aW9uU3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL29iamVjdEhlbHBlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL29iamVjdEhlbHBlcnMvZm9ybWF0dGluZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcG9wdXBzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9wb3B1cHMvbG9naW5Qb3B1cC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcG9wdXBzL3RvYXN0UG9wdXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ByaW1pdGl2ZUhlbHBlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JvdXRpbmcvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JvdXRpbmcvcm91dGluZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VyaWFsaXphYmxlL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2ZXIvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZlci9hamF4LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2ZXIvZmlsZUlPLnRzIiwid2VicGFjazovLy8uL3NyYy9zaGllbGRzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zaGllbGRzL2xvYWRpbmdTaGllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NvcnRpbmcvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NvcnRpbmcvYnVja2V0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0cnVjdHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxhYmxlL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZUhlbHBlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlSGVscGVycy9fY29uc3RhbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy9zdmcvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N2Zy9zdmdEcmF3YWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3ZnL2FkZGl0aW9uYWxQYXRocy9jaGVjay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3ZnL2FkZGl0aW9uYWxQYXRocy9jdXJ2ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3ZnL2FkZGl0aW9uYWxQYXRocy9leC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3ZnL2FkZGl0aW9uYWxQYXRocy9waWVTbGljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3ZnL2FkZGl0aW9uYWxQYXRocy9wbHVzLnRzIiwid2VicGFjazovLy8uL3NyYy9zdmcvYWRkaXRpb25hbFBhdGhzL3N0YXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N2Zy9lbGVtZW50cy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdG9vbHRpcC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHlwZUd1YXJkcy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdW5pdFRlc3RzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy91bml0VGVzdHMvY29uc29sZVRlc3QvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VuaXRUZXN0cy9jb25zb2xlVGVzdC9jb25zb2xlVGVzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdW5pdFRlc3RzL2h0bWxUZXN0L2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy91bml0VGVzdHMvaHRtbFRlc3QvaHRtbFVuaXRUZXN0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy92aWV3LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY3NzXzEiLCJzdHlsZXNfMSIsImhlbHBlcl8xIiwiX3R5cGVndWFyZHNfMSIsIm5hdmlnYXRlXzEiLCJmYWxzZXlfMSIsImNyZWF0ZUVsZW1lbnQiLCJvYmoiLCJrZXllZEVsZW1zIiwiX2NyZWF0ZUVsZW1lbnRDb3JlIiwicmVjdXJzZVZpYSIsImVsZW0iLCJkcmF3YWJsZSIsImJhc2UiLCJ0eXBlIiwibmFtZXNwYWNlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJfY3JlYXRlU3RhbmRhcmRFbGVtZW50IiwiaWQiLCJzZXRBdHRyaWJ1dGUiLCJfc2V0RWxlbUlkZW50ZmllcnMiLCJjbHMiLCJhZGRDbGFzcyIsIm1hcCIsInNlbGVjdG9yIiwiY3JlYXRlQ2xhc3MiLCJfc2V0RWxlbUNsYXNzIiwiYXR0ciIsIl9pc0ZvY3VzYWJsZSIsImZvY3VzYWJsZSIsInRhYkluZGV4IiwiX25lZWRzVGFiSW5kZXgiLCJ0YWJpbmRleCIsImlzTnVsbE9yVW5kZWZpbmVkIiwicGFpciIsIl9zZXRFbGVtQXR0cmlidXRlIiwidmFsIiwiX3NldEVsZW1BdHRyaWJ1dGVzIiwic3R5bGUiLCJfc2V0RWxlbVN0eWxlIiwiZXZlbnRMaXN0ZW5lcnMiLCJjbGljayIsImtleXByZXNzIiwiY2xpY2tGdW5jIiwiZSIsImtleUNvZGUiLCJwcmV2ZW50RGVmYXVsdCIsInByZXZlbnRGb2N1cyIsIm1vdXNlZG93biIsImJsdXIiLCJtb3VzZXVwIiwiZm9jdXMiLCJsaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJ0b29sdGlwIiwiX3NldEtpcFRvb2x0aXAiLCJiZWZvcmVfY29udGVudCIsImlubmVySFRNTCIsImNvbnRlbnQiLCJib3VuZENvbnRlbnQiLCJuZXdWYWwiLCJfc2V0RWxlbUJhc2VDb250ZW50IiwiY2hpbGRyZW4iLCJpc0RyYXdhYmxlIiwiZHJhdyIsImFwcGVuZENoaWxkIiwiZGVmIiwiY2hpbGQiLCJjb25zb2xlIiwid2FybiIsIl9hZGRFbGVtQ2hpbGRyZW4iLCJhZnRlcl9jb250ZW50IiwiX3NldEVsZW1Qb3N0Q2hpbGRyZW5Db250ZW50IiwicGFyZW50IiwiX2FwcGVuZEVsZW1Ub1BhcmVudCIsImNyZWF0ZVNpbXBsZUVsZW1lbnQiLCJjcmVhdGVDdXN0b21FbGVtZW50IiwiY3JlYXRlU1ZHRWxlbWVudCIsInN0cmluZ3NfMSIsIm9sZENyZWF0ZUNsYXNzIiwibm9BcHBlbmQiLCJhIiwic3R5bGVzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJoZWFkIiwibmV3Q2xhc3MiLCJnZXRBdHRyaWJ1dGUiLCJpbmRleE9mIiwidHJpbSIsInJlbW92ZUNsYXNzIiwib2xkQ2xhc3MiLCJsZW4iLCJyZXBsYWNlIiwiaGFzQ2xhc3MiLCJjdXJfY2xzIiwic2V0UHJvcGVydHkiLCJpdGVtIiwiZm9yY2UiLCJjc3MiLCJzSWR4IiwicnVsZXMiLCJydWxlIiwic3R5bGVTaGVldHMiLCJhbGwiLCJzZWxlY3RvclRleHQiLCJnZXRQcm9wZXJ0eSIsImdldENvbXB1dGVkU3R5bGUiLCJ1bmRlZmluZWQiLCJ3aW5kb3ciLCJnZXRQcm9wZXJ0eVZhbHVlIiwiY3VycmVudFN0eWxlIiwiYWRkSGlkZGVuQ2xhc3MiLCJhZGRVbnNlbGVjdGFibGVDbGFzcyIsInN0eWxhYmxlXzEiLCJjcmVhdGVFbGVtZW50XzEiLCJEcmF3YWJsZSIsIlN0eWxhYmxlIiwiYmFzZUVsZW1UZW1wbGF0ZSIsInN1cGVyIiwidGhpcyIsIl9hZGRDbGFzc05hbWUiLCJfZWxlbXMiLCJfc2hvdWxkU2tpcENyZWF0ZUVsZW1lbnRzIiwiX2NyZWF0ZUVsZW1lbnRzIiwic2V0VGltZW91dCIsIl9yZWdpc3Rlck1lZGlhTGlzdGVuZXJzIiwibWF0Y2hRdWVyeSIsImNsYXNzVG9BcHBseSIsIl9yZWdpc3Rlck1lZGlhTGlzdGVuZXIiLCJib2R5IiwiZWxlbURlZmluaXRpb24iLCJfY3JlYXRlRWxlbWVudCIsIl9oYXNDcmVhdGVkU3R5bGVzIiwiX3JlZnJlc2giLCJfcGFyZW50IiwiX2RyYXdCYXNlIiwiX2FmdGVyRHJhdyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIkZpZWxkVHlwZUVudW0iLCJWYWxpZGF0aW9uVHlwZSIsIkZvcm1FbGVtZW50TGF5b3V0RW51bSIsIkZvcm1TdHlsZU9wdGlvbnMiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiX2ludGVyZmFjZXNfMSIsImRyYXdhYmxlXzEiLCJ0YWJsZXNfMSIsImNvbXBhcmFibGVfMSIsInRvb2x0aXBfMSIsInRyYW5zaXRpb25fMSIsImV2ZW50SGFuZGxlcl8xIiwiaGVscGVyc18xIiwiYXN5bmNfMSIsIkZpZWxkIiwiZGF0YSIsIl9zdGFuZGFyZENscyIsIl9pZCIsIl9oYXNFcnJvcnMiLCJpc0ZpZWxkIiwiX3BhcnNlRmllbGRUZW1wbGF0ZSIsInRlbXBsYXRlIiwiX3R5cGUiLCJfY29uZmlnIiwiTVVMVElMSU5FIiwiX2RhdGEiLCJ1cGRhdGUiLCJpbnB1dCIsImxibENvbnRhaW5lciIsImxibCIsImxhYmVsIiwibGF5b3V0IiwiX2RlZmF1bHRMYXlvdXQiLCJkZWZhdWx0VmFsdWUiLCJfZGVmYXVsdFZhbHVlIiwidmFsaWRhdGlvblR5cGUiLCJLRUVQX0VSUk9SX1ZBTFVFIiwiX3Byb2Nlc3NUZW1wbGF0ZUNsYXNzIiwiX3Byb2Nlc3NSZXF1aXJlZEVsZW1lbnQiLCJfcmVnaXN0ZXJPbk90aGVyQ2hhbmdlTGlzdGVuZXIiLCJidWlsZENsYXNzU3RyaW5nIiwiX2RlZmF1bHRDbHMiLCJyZXF1aXJlZCIsImZvcm1FdmVudEhhbmRsZXIiLCJkaXNwYXRjaEV2ZW50IiwiRk9STV9TQVZBQkxFX0NIQU5HRSIsIkZvcm1TYXZhYmxlRXZlbnQiLCJoYXNFcnJvcnMiLCJoYXNNaXNzaW5nUmVxdWlyZWQiLCJvbk90aGVyQ2hhbmdlIiwiRk9STV9FTEVNX0NIQU5HRSIsImZ1bmMiLCJldiIsIl9oYW5kbGVPdGhlckNoYW5nZSIsIl9vbkNyZWF0ZUVsZW1lbnRzIiwiX3JlZ2lzdGVySW5wdXRMaXN0ZW5lcnMiLCJfY3JlYXRlU3R5bGVzIiwiX2lzSGlkZGVuIiwiX2NoYW5nZUV2ZW50RmlyZWQiLCJfbGFiZWxFbGVtIiwiVEFCTEUiLCJfdGFibGVMYXlvdXQiLCJGTEVYIiwiX2ZsZXhMYXlvdXQiLCJfbXVsdGlMaW5lTGF5b3V0IiwiTEFCRUxfQUZURVIiLCJfbGFiZWxBZnRlckxheW91dCIsImNlbGxzIiwiY2VsbCIsInRhYmxlIiwiY3JlYXRlVGFibGUiLCJfYWRkU3RhbmRhcmRFbGVtc1RvQ29yZSIsImludGVybmFsVXBkYXRlIiwiX2hhc0JsYW5rUmVxdWlyZWRFbGVtcyIsImFsbG93RXZlbnRzIiwiX3Rlc3RFcXVhbGl0eSIsIl9kaXNwYXRjaENoYW5nZUV2ZW50IiwiY2xlYXIiLCJfdXBkYXRlVUkiLCJlcXVhbHMiLCJfY2xlYXJVSSIsInRhcmdldCIsInN1YmtleSIsIkZvcm1FbGVtQ2hhbmdlRXZlbnQiLCJjb250ZXh0IiwiZmllbGRTdGlsbEhhc0ZvY3VzIiwiX2NsZWFyRXJyb3JzIiwiX3Nob3VsZFZhbGlkYXRlQmVmb3JlQmx1ciIsIndhaXQiLCJfZGlzcGF0Y2hTYXZhYmxlQ2hhbmdlRXZlbnQiLCJfZ2V0VmFsdWVGcm9tRmllbGQiLCJfdmFsaWRhdGUiLCJlcnJvclN0cmluZyIsInRpdGxlIiwiZGV0YWlscyIsIl9ydW5WYWxpZGF0aW9uIiwiX29uVmFsaWRhdGlvbkVycm9yIiwib25WYWxpZGF0ZSIsImVyciIsIl91cGRhdGVFcnJvckVsZW0iLCJfdXBkYXRlSW5wdXRPbkVycm9yIiwiZXJyb3IiLCJtc2ciLCJfYnVpbGRWYWxpZGF0aW9uRXJyb3JEaXNwbGF5IiwiQ0xFQVJfRVJST1JfVkFMVUUiLCJOT19CTFVSX1BST0NFU1NFRCIsIlJFU1RPUkVfT0xEX1ZBTFVFIiwidXNlR2hvc3RUZXh0IiwicGxhY2Vob2xkZXIiLCJjcmVhdGVJbnB1dEVsZW1lbnQiLCJlbWJlZEluIiwiY3JlYXRlTGFiZWxGb3JJbnB1dCIsImhlbHBUZXh0IiwiaGVscFRleHRJY29uIiwiVG9vbHRpcCIsInNob3VsZEVtYmVkIiwiX2NyZWF0ZVN0YW5kYXJkSW5wdXQiLCJfY3JlYXRlU3RhbmRhcmRMYWJlbCIsImVsZW1Ub0Nsb25lIiwiYXBwZW5kVG9JRCIsIl9jcmVhdGVDbG9uZWRFbGVtZW50IiwiY29uc3RydWN0b3IiLCJ0cmFuc2l0aW9uIiwiaGVpZ2h0IiwibWF4SGVpZ2h0Iiwib3ZlcmZsb3ciLCJfdW5jb2xvcmVkU3R5bGVzIiwiZm9udFNpemUiLCJ3aWR0aCIsImJveFNpemluZyIsImZvbnRGYW1pbHkiLCJtYXJnaW5Ub3AiLCJwb3NpdGlvbiIsImRpc3BsYXkiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJtaW5IZWlnaHQiLCJtYXhXaWR0aCIsImFsaWduSXRlbXMiLCJwYWRkaW5nVG9wIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJ0ZXh0QWxpZ24iLCJjdXJzb3IiLCJuZXN0ZWQiLCJ0cmFuc2Zvcm0iLCJmb250V2VpZ2h0IiwibWFyZ2luTGVmdCIsImZvbnRTdHlsZSIsIm1hcmdpblJpZ2h0IiwiZ2V0TmV4dEtleSIsImxhc3RLZXkiLCJwcm9wTmFtZSIsIm5leHRLZXkiLCJnZXRLZXlzIiwia2V5cyIsInNwbGljZSIsImNhbGxiYWNrIiwic2hvdWxkUXVpdCIsIm91dCIsImFyciIsInB1c2giLCJjbnQiLCJrZXlDb3VudCIsImlzRW1wdHlPYmplY3QiLCJzdHJDaGVjayIsImNoYXJBdCIsInN0ciIsImlkeCIsInN1YnN0ciIsInJlc3QiLCJzdWJzdHJpbmciLCJpc051bWVyaWMiLCJ0ZXN0IiwicGllY2UiLCJkZWxpbSIsInBjIiwic3BsaXRfYXJyIiwic3BsaXQiLCJhZGRQaWVjZSIsIm5leHRQaWVjZSIsInRpdGxlQ2FzZSIsIndvcmRzIiwidyIsInRvVXBwZXJDYXNlIiwidG9Mb3dlckNhc2UiLCJzZW50ZW5jZUNhc2UiLCJyZXQiLCJzdHJpcFNwYWNlcyIsImZvcm1hdCIsInJlcGxhY2VtZW50cyIsInN0cmluZ0FyciIsIm51bWJlciIsImxvb2tpbmdGb3JOdW1iZXIiLCJjaGFyIiwidG9TdHJpbmciLCJqb2luIiwiYWRkTGVhZGluZ1plcm9lcyIsImNvdW50IiwidW5wYWRkZWQiLCJ6Iiwic3RyaXBIVE1MIiwiZGF0ZXNfMSIsImNyZWF0ZVNlbGVjdE9wdGlvbnMiLCJvcHRpb25zIiwiZGVmYXVsdFNlbGVjdGlvbiIsIm9wdEVsZW1zIiwiX2NyZWF0ZVNlbGVjdE9wdGlvbiIsImRpc2FibGVkIiwiaXNEZWZhdWx0Iiwic2VsZWN0ZWQiLCJjbG9uZVRlbXBsYXRlIiwiY3JlYXRlU2VsZWN0RWxlbWVudCIsIm9wdGlvbkVsZW1zIiwic2VsZWN0IiwiY3JlYXRlTGFiZWxlZENoZWNrYm94IiwiY2hlY2tlZCIsIndyYXBwZXJFbGVtIiwiY2hlY2tib3hEZWYiLCJjaGVja2JveEVsZW0iLCJmb3IiLCJ3cmFwcGVyIiwiY2hlY2tib3giLCJsYWJlbEZvciIsImNyZWF0ZVJhZGlvQnV0dG9ucyIsImVsZW1UeXBlIiwiaW5wdXREYXRlRm10IiwiRWxlbWVudFR5cGUiLCJFdmVudFR5cGVFbnVtIiwiU3R5bGVDaGFuZ2VFbnVtIiwibmFtZWRDbGFzc18xIiwiQ29sbGVjdGlvbiIsIk5hbWVkQ2xhc3MiLCJlcV90ZXN0IiwiX3NvcnRlZERhdGEiLCJBcnJheSIsIl9hZGRUeXBlIiwiQ29sbGVjdGlvblR5cGVFbnVtIiwiSWdub3JlRHVwbGljYXRlS2V5cyIsIl9lcXVhbGl0eVRlc3QiLCJiIiwiYWRkVHlwZSIsIl9pdGVyYXRpb24iLCJzb3J0ZWRJZHgiLCJza2lwU29ydGVkUHVzaCIsIm9yaWdJZHgiLCJfcmVtb3ZlRWxlbWVudEJ5S2V5IiwiX3JlbW92ZUVsZW1lbnRCeVZhbHVlIiwiX3Jlc2V0U29ydGVkS2V5cyIsIl9maW5kRWxlbWVudCIsInN0YXJ0RnJvbSIsImVuZFdpdGgiLCJ0bXAiLCJrIiwic29ydF9mdW5jIiwic1RlbXAiLCJhX3RtcCIsImJfdG1wIiwic29ydCIsIm1hcEZ1bmMiLCJyZXNldExvb3AiLCJoYXNOZXh0IiwiZ2V0TmV4dCIsImdldEluZGV4IiwicmV2ZXJzZSIsImlkZW50aWZpZXIiLCJnZXRFbGVtZW50IiwicGFyYW0iLCJvdXRTdHIiLCJvdGhlciIsIm1pc21hdGNoIiwiX19leHBvcnQiLCJmb3JjZU92ZXJyaWRlIiwic2tpcEV4aXN0aW5nU2VsZWN0b3IiLCJzdHlsZVN0cmluZyIsImdlbmVyYXRlQ29udGVudEZvckNTU0NsYXNzIiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiX2FkZENsYXNzVG9FbGVtIiwiY3NzUnVsZSIsIl9nZXRFeGlzdGluZ1NlbGVjdG9yIiwiX2dldENTU1J1bGUiLCJpc0dlbmVyYXRpbmdBbmltYXRpb24iLCJwcm9wZXJ0eVZhbHVlIiwicHJvcGVydHlOYW1lIiwicFZhbHVlIiwicE5hbWUiLCJfZ2VuZXJhdGVBbmltYXRpb25DbGFzcyIsImdldFByb3BlcnR5TmFtZSIsIl9nZW5lcmF0ZVNpbXBsZVZhbHVlIiwiX2dlbmVyYXRlQ1NTU3RyaW5nQ29udGVudCIsImZpbmRFeGlzdGluZyIsImpzRnJpZW5kbHlOYW1lIiwiY2hhcnMiLCJjbGFzc2VzIiwib3V0Q2xzIiwiY3JlYXRlRm9udERlZmluaXRpb24iLCJmb250TmFtZSIsInNyY0ZpbGVzIiwic3JjIiwic3JjRmlsZSIsInVybCIsImNvbWJpbmVfMSIsImNsb25lUG9pbnQiLCJwb2ludCIsIngiLCJ5IiwiY2xvbmVSZWN0IiwicmVjdCIsImgiLCJjbG9uZVBvaW50QXJyYXkiLCJwb2ludHMiLCJwdCIsImNsb25lIiwiY2xvbmVPYmplY3QiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJzaGFsbG93Q2xvbmVPYmplY3QiLCJjb21iaW5lT2JqZWN0cyIsIlRyYW5zaXRpb25Db250cm9sbGVyIiwiX2xhc3RDbHNJZCIsIl9nZW5lcmF0ZWRDbGFzc2VzIiwidGltZSIsInN0YXJ0TmFtZSIsIl9nZXRDbGFzcyIsInN0YXJ0IiwiZW5kIiwiZW5kTmFtZSIsIl9hbmltYXRlIiwiY2xhc3NEZWYiLCJfcmVwbGFjZVBsYWNlaG9sZGVycyIsInN0ckRlZiIsIl9nZW5lcmF0ZVJhbmRvbUNsYXNzTmFtZSIsIl9jcmVhdGVUcmFuc2l0aW9uQ2xhc3MiLCJjbGFzc05hbWUiLCJfc3R5bGVFbGVtIiwiX2NyZWF0ZVN0eWxlRWxlbSIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm5leHRSZW5kZXIiLCJkZWxheSIsIl9yZW1vdmVFbmRDbGFzcyIsImVsZW1lbnQiLCJzdGFydFN0eWxlIiwiZW5kU3R5bGUiLCJwYXRoRWxlbWVudF8xIiwiUGF0aEV4dGVuc2lvbkVsZW1lbnQiLCJQYXRoRWxlbWVudCIsImFkZGxBcmdzIiwicHRzIiwiX2dlbmVyYXRlUG9pbnRzIiwiX3NldEF0dHJpYnV0ZXMiLCJpc0RyYXdhYmxlRWxlbWVudCIsIm9iakEiLCJvYmpCIiwiZGVlcCIsIm9ialRvQ29tYmluZSIsIm91dHB1dE9iaiIsIl9fcHJvdG9fXyIsIl9sb29wVGhydSIsInJlY29uY2lsZU9wdGlvbnMiLCJkZWZhdWx0cyIsIm9wdCIsImNhbnZhc1N0eWxlXzEiLCJvdmVybGFwXzEiLCJDYW52YXNFbGVtZW50IiwiaXNFZmZlY3QiLCJfbGF5ZXIiLCJfaXNFZmZlY3QiLCJfZXZlbnRGdW5jdGlvbnMiLCJfc3R5bGUiLCJDYW52YXNFbGVtZW50U3R5bGUiLCJjYW52YXMiLCJfc2V0Q2FudmFzIiwiZ3JwIiwibGF5ZXIiLCJfaXNPZmZTY3JlZW4iLCJfZGltZW5zaW9ucyIsImRpbSIsIl9zZXREaW1lbnNpb25zIiwiX2Rpc3BsYXlEaW1lbnNpb25zIiwiX2lzSG92ZXJUYXJnZXQiLCJzZXRTdHlsZSIsInJlc3RvcmVTdHlsZSIsInRyYW5zZm9ybURldGFpbHMiLCJfY2xvbmVGb3JFZmZlY3QiLCJfY2xvbmVTdHlsZSIsImZpbGxDb2xvciIsInNjYWxlIiwiX3NjYWxlIiwiYWRkRWxlbWVudCIsInNjYWxlQW10IiwibmV3V2lkdGgiLCJ4T2Zmc2V0IiwibmV3SGVpZ2h0IiwieU9mZnNldCIsImNhbnZhc0RpbWVuc2lvbnMiLCJfY2FudmFzIiwiY29udmVydEFic29sdXRlUmVjdFRvUmVsYXRpdmVSZWN0IiwiX3NldElzT2ZmU2NyZWVuIiwiYWRqdXN0UHQiLCJlZmZlY3RDb250ZXh0IiwiX2FwcGx5U3R5bGUiLCJfb25EcmF3IiwiX3Jlc3RvcmVTdHlsZSIsIl9pc0RyYXduIiwiZG9CYXNpY1JlY3RzT3ZlcmxhcCIsIm5lZWRzUmVkcmF3IiwiZXZlbnRUeXBlIiwiZXZlbnRGdW5jIiwibGlzdCIsImhhbmRsZUV2ZW50IiwiQ0xJQ0siLCJEQkxfQ0xJQ0siLCJSX0NMSUNLIiwiSE9WRVIiLCJMRUFWRSIsIktFWV9QUkVTUyIsIkZPQ1VTIiwiQkxVUiIsInJlbW92ZUVsZW1lbnQiLCJzaG93IiwiaGlkZSIsImxvZyIsIk1hdGgiLCJyb3VuZCIsImRlYnVnUmVsYXRpdmVEaW1lbnNpb25zIiwiX2RlYnVnRGltZW5zaW9ucyIsImlzRXF1YXRhYmxlIiwiaXNDb21wYXJhYmxlIiwiY29tcCIsImxlc3NUaGFuIiwiZ3JlYXRlclRoYW4iLCJvcmlnIiwiY29tcGFyaXNvbiIsImxlc3NlclRoYW4iLCJudW1iZXJzXzEiLCJkYXRlRGlmZiIsInNpZ25lZCIsImluY2x1ZGVUaW1lIiwicmV0dXJuTWlsbGkiLCJtcyIsImRpZmYiLCJjbGVhclRpbWVJbmZvIiwiZ2V0VG9kYXkiLCJpbmNsdWRlX3RpbWUiLCJEYXRlIiwiZGF0ZSIsImNsZWFyVFoiLCJvdXREYXRlIiwiZGF0ZVN0ciIsInNob3J0RGF0ZSIsImR0IiwieXIiLCJnZXRTaG9ydFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJzaG9ydFRpbWUiLCJ3aXRoRXh0cmEiLCJtaW4iLCJtaW5fc3RyIiwiaG91cnMiLCJoYWxmIiwiZ2V0TWludXRlcyIsImdldEhvdXJzIiwiaXNMZWFwWWVhciIsInllYXIiLCJnZXRGdWxsWWVhciIsImlzU2FtZURhdGUiLCJkYXRlQSIsImRhdGVCIiwiX3VwZGF0ZURhdGVEaWZmZXJlbmNlcyIsImRpdmlzb3IiLCJzdGFydEtleSIsImVuZEtleSIsImRpdmlkZW5kIiwicmVtYWluZGVyIiwicXVvdGllbnQiLCJmbG9vciIsIl9jcmVhdGVQbHVyYWxTdHJpbmciLCJhbW91bnQiLCJzaW5ndWxhciIsInBsdXJhbCIsIkluY2x1c2l2aXR5RW51bSIsIm1vbnRoRGlmZiIsImluY2x1c2l2aXR5IiwieWVhckRpZmYiLCJidXNpbmVzc0RhdGVEaWZmIiwiZGF5T2ZXZWVrIiwiZGlyIiwiZ2V0RGF5Iiwid2Vla2VuZERheXMiLCJhYnMiLCJpbnB1dFRvRGF0ZSIsImlEdCIsImlUaW1lIiwiZHRBcnIiLCJ0aW1lQXJyIiwic2V0SG91cnMiLCJzZXRNaW51dGVzIiwiaW5wdXRUaW1lRm10IiwiaW5jbHVkZVNlY29uZHMiLCJwYWRUb0RpZ2l0cyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwiZ2V0U2Vjb25kcyIsInNob3J0RGF0ZVRpbWUiLCJ3aXRoX2V4dHJhIiwic3RvcHdhdGNoRGlzcGxheSIsIm1pbGxpIiwibm9MZWFkaW5nWmVyb3MiLCJub0JsYW5rcyIsInNlY19zdHIiLCJocl9zdHIiLCJkYXlzIiwidXBkYXRlZFN0b3B3YXRjaERpc3BsYXkiLCJkaWZmcyIsInJlbWFpbmluZyIsIm1pbGxpc2Vjb25kcyIsIl9yZXRyaWV2ZUNvdW50c0Zyb21NaWxsaSIsInNob3dNaWxsaSIsImFkZFRvRGF0ZSIsImNvdW50cyIsInNldE1pbGxpc2Vjb25kcyIsImdldE1pbGxpc2Vjb25kcyIsInNldFNlY29uZHMiLCJzZXREYXRlIiwibW9udGhzIiwic2V0TW9udGgiLCJ5ZWFycyIsInNldEZ1bGxZZWFyIiwiZ2V0TW9udGhOYW1lIiwic2hvcnQiLCJnZXREYXlPZldlZWsiLCJnZXRMZW5ndGhPZk1vbnRoSW5EYXlzIiwiaXNXZWVrZW5kIiwiaXNUb2RheSIsImdldERpc3BsYXlEdXJhdGlvbiIsImNvbGxlY3Rpb25fMSIsInN2Z1N0eWxlXzEiLCJzdmdIZWxwZXJzXzEiLCJTVkdFbGVtIiwiYXR0cmlidXRlcyIsIl9sYXN0TGlzdGVuZXJJZCIsIlNWR1N0eWxlIiwic3ZnU3R5bGUiLCJfYXR0cmlidXRlcyIsIl91cGRhdGVFeHRyZW1hQW5kTm90aWZ5TGlzdGVuZXJzIiwiX29uVXBkYXRlTGlzdGVuZXJzIiwiX25leHRMaXN0ZW5lcklkIiwiYWRkIiwiZXh0cmVtYSIsImFzc2lnblN0eWxlIiwiX3ByZXZlbnRTY2FsaW5nIiwiX2V4dHJlbWEiLCJFcnJvciIsImNyZWF0ZVNWR0VsZW0iLCJ1bnNjYWxhYmxlIiwiYm94IiwiZ2V0QkJveCIsIl91cGRhdGVFeHRyZW1hIiwiX25vdGlmeVVwZGF0ZUxpc3RlbmVycyIsIm1lYXN1cmVFbGVtZW50Iiwibm9ybWFsaXplVmFsdWUiLCJtYXgiLCJib3VuZGVkUmFuZG9tTnVtYmVyIiwiaXNFeGNsdXNpdmUiLCJyYW5kb20iLCJyb3VuZFRvUGxhY2UiLCJudW0iLCJwbGFjZSIsInNpbXBsZUd1YXJkXzEiLCJQb3B1cCIsInRoZW1lQ29sb3IiLCJzZXRUaGVtZUNvbG9yIiwiY29sb3JJZCIsIm5vUmVwbGFjZSIsIl9jcmVhdGVPdmVybGF5IiwiX2NyZWF0ZUZyYW1lIiwiX2NyZWF0ZVRpdGxlIiwiX2NyZWF0ZUNsb3NlQnV0dG9uIiwiX2NyZWF0ZUNvbnRlbnRFbGVtZW50IiwiX2NyZWF0ZUJ1dHRvbkNvbnRhaW5lciIsIm92ZXJsYXkiLCJlcmFzZSIsImZyYW1lIiwiY2xvc2VCdG4iLCJidXR0b25Db250YWluZXIiLCJwYXJhbTEiLCJpc1N0cmluZyIsIkhUTUxFbGVtZW50IiwibGVmdCIsInRvcCIsImp1c3RpZnlDb250ZW50IiwiekluZGV4IiwiYm94U2hhZG93IiwiYm9yZGVyVG9wIiwicGFkZGluZyIsIm92ZXJmbG93WSIsIm1hcmdpbkJvdHRvbSIsInBhZGRpbmdCb3R0b20iLCJldmVudF8xIiwiRXZlbnQiLCJGb3JtRXZlbnRIYW5kbGVyIiwiRXZlbnRIYW5kbGVyIiwiY3JlYXRlRXZlbnQiLCJlcnJvclBvcHVwXzEiLCJ5ZXNOb1BvcHVwXzEiLCJzZWN0aW9uRmllbGRfMSIsIl9Gb3JtIiwib3B0cyIsIl9vblNhdmUiLCJfb25DYW5jZWwiLCJfaGFzQ2hhbmdlcyIsIl9jYW5TYXZlVHJhY2tlciIsIl9jb2xvcnMiLCJmb3JtQmFja2dyb3VuZFRoZW1lIiwiZm9ybVRoZW1lIiwiZm9ybVN1YlRoZW1lIiwiY29sb3JzIiwiX2FwcGx5Q29sb3JzIiwiZiIsImhhc0NoYW5nZXMiLCJlbGVtcyIsIl9jcmVhdGVCYXNlIiwiX2NyZWF0ZVByZUZvcm0iLCJfY3JlYXRlRm9ybUNvbnRhaW5lciIsIl9jcmVhdGVDb3JlU2VjdGlvbiIsIl9jcmVhdGVQb3N0Rm9ybSIsImhpZGVUaXRsZSIsInVuY29sbGFwc2libGUiLCJjb3JlU2VjdGlvbiIsIlNlY3Rpb25GaWVsZCIsIl9hZGRFdmVudEhhbmRsZXJzIiwiZm9ybUNvbnRhaW5lciIsImJhY2tncm91bmQiLCJidG5zIiwidHJ5U2F2ZSIsInRyeUNhbmNlbCIsImFkZGxCdXR0b25zIiwiX2NyZWF0ZUJ1dHRvbnMiLCJfY3JlYXRlQnV0dG9uIiwiYnRuIiwiZXZlbnQiLCJfaGFuZGxlRm9ybUNoYW5nZSIsInVuaXF1ZUlkIiwiX2hhbmRsZVNhdmFiaWxpdHlDaGFuZ2UiLCJfb25Gb3JtQ2hhbmdlIiwiX2lzRm9ybUNoYW5nZUZvck1lIiwic2F2ZUJ1dHRvbiIsImNhblNhdmUiLCJfZW5hYmxlU2F2ZSIsIl9kaXNhYmxlU2F2ZSIsIl9nZXRDYW5ub3RTYXZlTWVzc2FnZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNhdmUiLCJfbm90aWZ5U2F2ZSIsIl9zYXZlIiwiX3Nob3dDYW5ub3RTYXZlTWVzc2FnZSIsInBvcHVwIiwiRXJyb3JQb3B1cCIsIlllc05vUG9wdXAiLCJyZXNwb25zZSIsIlllc05vRW51bSIsIllFUyIsIl9jYW5jZWwiLCJfbm90aWZ5Q2FuY2VsIiwiaWdub3JlVW5zYXZlZENoYW5nZXMiLCJfY2FuY2VsQ29uZmlybWF0aW9uIiwibW9kZWwiLCJmb3JtRWxlbSIsImFkZENoaWxkRWxlbWVudCIsImdldEZpZWxkIiwiZmxleERpcmVjdGlvbiIsImZsZXhTaHJpbmsiLCJmbGV4R3JvdyIsIm9wYWNpdHkiLCJtYXJnaW4iLCJhcnJheXNfMSIsImNsYXNzTmFtZXMiLCJfY2xhc3NfbmFtZXMiLCJzbGljZSIsImNsYXNzX25hbWUiLCJjb250YWlucyIsImlzVXBkYXRhYmxlIiwic3ZnUmVjdFRvQmFzaWNSZWN0IiwiY2xpZW50UmVjdFRvQmFzaWNSZWN0Iiwic2Nyb2xsWCIsInNjcm9sbFkiLCJjbGllbnRSZWN0VG9TaGFwZSIsInN2Z1JlY3RUb1NoYXBlIiwidG9CYXNpY1JlY3QiLCJpc0lCYXNpY1JlY3QiLCJpc0NsaWVudFJlY3QiLCJpc1NWR1JlY3QiLCJnbG9iYWxPZmZzZXRMZWZ0IiwidXNlU3RhbmRhcmRQYXJlbnQiLCJfYXV4R2xvYmFsT2Zmc2V0IiwiZ2xvYmFsT2Zmc2V0VG9wIiwiZ2xvYmFsT2Zmc2V0cyIsIm9mZnNldCIsIm9mZnNldFBhcmVudCIsImdldFNjcm9sbFBvc2l0aW9uIiwicGFnZVhPZmZzZXQiLCJzY3JvbGxMZWZ0IiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJhZGRlZCIsIm9yaWdPcGFjaXR5IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZmluZENvbW1vblBhcmVudCIsImVsZW1fYSIsImVsZW1fYiIsInBhcmVudF9hIiwicGFyZW50X2IiLCJtb3ZlUmVsVG9FbGVtIiwicmVmIiwibm9fbW92ZSIsIm9mZnNldF9tZSIsIm9mZnNldF90aGVtIiwiZHgiLCJkeSIsImlzSW5ET00iLCJpc051bWJlciIsImlzQm9vbGVhbiIsImlzRnVuY3Rpb24iLCJpc0FycmF5IiwiaXNPYmplY3QiLCJodG1sR3VhcmRfMSIsImlzQ2hpbGQiLCJyb290IiwicmVtb3ZlU3ViY2xhc3NGcm9tQWxsRWxlbWVudHMiLCJzdWJjbHMiLCJleGNlcHRpb24iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiaXNDaGlsZEV2ZW50VGFyZ2V0IiwiYXBwZW5kQ2hpbGRyZW4iLCJraWRzIiwiY2xlYXJDaGlsZHJlbiIsIm1vdmVFbGVtUmVsYXRpdmVQb3NpdGlvbiIsImRpc3RhbmNlIiwicGFyc2VJbnQiLCJyZXNldFBhZ2VGb2N1cyIsIm9sZFRhYkluZGV4IiwiaHRtbEVsZW0iLCJpc1NlbGVjdGFibGUiLCJyYW5nZSIsImNyZWF0ZVJhbmdlIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwic2VsZWN0aW9uIiwiZ2V0U2VsZWN0aW9uIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJIVE1MX1RBQiIsImVuY29kZUZvckhUTUwiLCJkZWNvZGVGcm9tSFRNTCIsIlJlZ0V4cCIsInJlcGxhY2VFbGVtV2l0aEVsZW0iLCJlbGVtVG9SZXBsYWNlIiwicmVwbGFjZW1lbnQiLCJuZXh0Q2hpbGQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImlzVmlzaWJsZSIsIl9maWVsZF8xIiwiQ29sbGFwc2libGVGaWVsZCIsIl9pc0NvbGxhcHNlZCIsImlzRXhwYW5kZWQiLCJ0aXRsZUNscyIsInRpdGxlQ29udGFpbmVyIiwiX29uQ2FyZXRDbGlja2VkIiwiY29sbGFwc2VFbGVtIiwiZXhwYW5kIiwiY29sbGFwc2UiLCJfaXNUcmFuc2l0aW9uaW5nIiwiY2hpbGRyZW5Db250YWluZXIiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJjcmVhdGVTVkciLCJ2ZXJzaW9uIiwidmlld2JveCIsInByZXNlcnZlQXNwZWN0UmF0aW8iLCJiaW5kZXJfMSIsImV2YWxGdW5jIiwidXBkYXRlRnVuYyIsImRlbGV0ZUZ1bmMiLCJlcXVhbHNGdW5jIiwiQmluZGVyIiwiZXF1YWxpdHlGdW5jdGlvbiIsInJlbW92ZUVsZW1Gcm9tQXJyIiwiZXF1YWwiLCJvdXRBcnIiLCJpc0hUTUxFbGVtZW50IiwiaXNJbnRlcmZhY2UiLCJmdWxsX2ltcCIsInByb3AiLCJyZXFfbWF0Y2giLCJoYXNfZXh0cmEiLCJtYXRoc18xIiwiZGVncmVlc1RvUmFkaWFucyIsImRlZyIsIlBJIiwicmFkaWFuc1RvRGVncmVlcyIsInJhZCIsImdldEVuZFBvaW50Iiwic3RhcnRQb2ludCIsImNvcyIsInNpbiIsImdldENlbnRyYWxQb2ludCIsImdldEFuZ2xlIiwicV9zaWduIiwicV9hbmciLCJhbmdsZSIsImF0YW4iLCJnZXREaXN0YW5jZSIsInNxcnQiLCJjYWxjdWxhdGVQb2x5Z29uSW50ZXJuYWxBbmdsZSIsIm51bWJlck9mU2lkZXMiLCJIU0xQaWVjZUVudW0iLCJSR0JFbnVtIiwiX2ludGVyZmFjZXNfMiIsImNvbnN0YW50c18xIiwiQ29sb3IiLCJfYWxwaGEiLCJfcmVkIiwiX2dyZWVuIiwiX2JsdWUiLCJfaHVlIiwiX3NhdHVyYXRpb24iLCJfbGlnaHRuZXNzIiwiX2x1bWluYW5jZSIsIl9jYWxjdWxhdGVMdW1pbmFuY2UiLCJ0b1JnYlN0cmluZyIsIndpdGhfYWxwaGEiLCJnZW5lcmF0ZUhzbFZhbHVlcyIsInRvSHNsU3RyaW5nIiwiZnVsbEhleFN0cmluZyIsImciLCJkZWx0YSIsImh1ZSIsInNhdHVyYXRpb24iLCJsaWdodG5lc3MiLCJfc3RhcnRIdWUiLCJfc3RhcnRTYXR1cmF0aW9uIiwiX3N0YXJ0TGlnaHRuZXNzIiwicSIsInVwZGF0ZVJnYlZhbHVlIiwiaGV4IiwiYWxwaGEiLCJjb2wiLCJhX2luY2x1ZGVkIiwiaF9yZWciLCJpbmMiLCJyZ2IiLCJyZ2JfcmVnIiwicmdiYV9yZWciLCJtYXRjaCIsImV4ZWMiLCJoc2wiLCJoc2xfcmVnIiwiaHNsYV9yZWciLCJwYXJzZUZsb2F0IiwiZ2VuZXJhdGVSZ2JWYWx1ZXMiLCJzdWNjZXNzIiwiX3BhcnNlRnJvbVJnYkNvbG9yIiwiX3BhcnNlRnJvbUhleENvbG9yIiwiX3BhcnNlRnJvbUhzbENvbG9yIiwidmFsdWVUeXBlIiwiUkVEIiwicmVkIiwiR1JFRU4iLCJncmVlbiIsIkJMVUUiLCJibHVlIiwiQUxQSEEiLCJIVUUiLCJTQVRVUkFUSU9OIiwiTElHSFRORVNTIiwiZmlyc3RSb3RhdGUiLCJ3aXRoQWxwaGEiLCJ0b0N5Y2xlIiwicm90YXRlQXBwcm9wcmlhdGVIU0xWYWx1ZSIsInRvSGV4U3RyaW5nIiwicm90YXRlU2F0dXJhdGlvbiIsInJvdGF0ZUxpZ2h0bmVzcyIsInJvdGF0ZUh1ZSIsInJvdGF0ZUhzbFZhbHVlIiwiSFVFX0lOVEVSVkFMIiwiU0FUVVJBVElPTl9JTlRFUlZBTCIsIlNBVFVSQVRJT05fTElNSVRTIiwiTElHSFRfSU5URVJWQUwiLCJMSUdIVE5FU1NfTElNSVRTIiwic3RhcnRWYWwiLCJtb2RCeSIsImJhY2tDb2xvciIsImFudGlBbHBoYSIsIkFueUNvbG9yIiwiX3BhcnNlZENvcnJlY3RseSIsIm90aGVyX2NvbG9yIiwibXVsdGlwbGllcnMiLCJ0b3RhbCIsIm5vX21lcmdlIiwiYXZncyIsImx1bWluYW5jZSIsIlJHQkNvbG9yIiwicmVkT3JSZ2JTdHJpbmciLCJncmVlbk9yQWxwaGEiLCJIU0xDb2xvciIsImh1ZU9ySHNsU3RyaW5nIiwic2F0dXJhdGlvbk9yQWxwaGEiLCJIZXhDb2xvciIsImhleFN0cmluZyIsImNvbG9yU3RyaW5nIiwiX3BhcnNlQ29sb3JTdHJpbmciLCJ0b1BhZCIsIm51bWJlck9mRGlnaXRzIiwib3V0SGV4U3RyaW5nIiwiVHJlZSIsIl9zdWJUcmVlcyIsImRlcHRocyIsInRyZWUiLCJnZXREZXB0aCIsInN1YlRyZWVzIiwic3ViVHJlZSIsImdlbmVyYWxIZWxwZXJzXzEiLCJHZW5lcmljRHJhZ2dhYmxlIiwiX3RhcmdldHMiLCJhZGRUYXJnZXQiLCJfb25SZW5kZXIiLCJfYWRkRXZlbnRMaXN0ZW5lcnMiLCJfZ3JpZFNpemUiLCJfc2lnbmlmaWVyIiwiZHJhZ2dhYmxlVGFyZ2V0IiwiX2NyZWF0ZURyYWdnYWJsZVRhcmdldCIsIl9jdXJyZW50TW91c2VQb2ludCIsImNsaWVudFgiLCJjbGllbnRZIiwiX3N0YXJ0TW91c2VQb2ludCIsIl9ub3JtYWxpemVUb0dyaWQiLCJncmlkU2l6ZSIsImFic1ZhbHVlIiwiX2lzRHJhZ2dpbmciLCJjdXJyZW50RHJhZ2dhYmxlIiwiX3VwZGF0ZU1vdXNlUG9pbnQiLCJEcmFnZ2FibGVUYXJnZXQiLCJjdXJyZW50RHJhZ2dhYmxlVGFyZ2V0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiX2NhbGN1bGF0ZURlbHRhIiwiZmxleFdyYXAiLCJzcmNFbGVtIiwicG9wdXBfMSIsInNldFRpdGxlIiwiYWRkQ29udGVudCIsImFkZEJ1dHRvbiIsIl9ub3RpZnlDbG9zZSIsIl9vbkNsb3NlIiwiVG9nZ2xlQnV0dG9uRmllbGQiLCJUT0dHTEVfQlVUVE9OIiwiX21lcmdlVGhlbWVzIiwiX29wdGlvbnMiLCJfY3JlYXRlT3B0aW9uc0VsZW1lbnRzIiwiX2hhbmRsZVN0YW5kYXJkTGF5b3V0IiwiX2FwcGVuZENoaWxkcmVuIiwicG9zdENoaWxkcmVuQ29udGFpbmVyIiwiX2NsZWFyT3B0aW9ucyIsIl9idXR0b25zIiwiX2NyZWF0ZU9wdGlvbkVsZW1lbnQiLCJfc2VsZWN0QnRuIiwiX3Nob3VsZEJlU2VsZWN0ZWQiLCJfZ2V0QnV0dG9uVG9VcGRhdGUiLCJEaXJlY3Rpb25UeXBlIiwiX2NvbGxhcHNpYmxlRmllbGRfMSIsImNvbmZpZyIsIl9wYXJzZUNoaWxkcmVuIiwiX2NoaWxkcmVuIiwiU0VDVElPTiIsIl9jcmVhdGVDb2xsYXBzaWJsZVRpdGxlIiwiX3VwZGF0ZUNsc0Jhc2VkT25MYXlvdXQiLCJfcGFyc2VDaGlsZCIsIl9jbG9uZUZvcm1FbGVtZW50IiwiX3VwZGF0ZUludGVybmFsRGF0YSIsImludGVybmFsT25seSIsInByb21pc2VzIiwiX3VwZGF0ZUludGVybmFsRmllbGQiLCJjaGlsZENhblNhdmUiLCJpc0ZvY3VzZWQiLCJib3JkZXJMZWZ0IiwicGFkZGluZ0xlZnQiLCJoaXN0b3J5Tm9kZV8xIiwiSGlzdG9yeUNoYWluIiwibm9kZSIsIkhpc3RvcnlOb2RlIiwiX3N0YXJ0IiwiX2VuZCIsIl9jdXJOb2RlIiwiX2NsZWFyVG9DdXJJZHgiLCJwcmV2aW91cyIsIm5ld1N0YXRlIiwiY3VyU3RhdGUiLCJjb21iaW5lZFN0YXRlIiwic3ZnRWxlbWVudF8xIiwiY2xvbmluZ18xIiwiX3BvaW50cyIsIl9zdGFydFBhdGgiLCJmaXJzdFB0IiwicGF0aFB0IiwibW92ZVRvIiwiY29udHJvbHMiLCJjdXJ2ZVRvIiwiX2lzQXJjUG9pbnQiLCJhcmNUbyIsImxpbmVUbyIsIm5vRmluaXNoIiwiZmluaXNoUGF0aFdpdGhvdXRDbG9zaW5nIiwiY2xvc2VQYXRoIiwiX3VwZGF0ZUV4dHJlbWFGcm9tUG9pbnQiLCJwcmVmaXgiLCJfcG9pbnRUb0F0dHJpYnV0ZVN0cmluZyIsInN1ZmZpeCIsIl9jaGVja0ZvckN1cnJlbnRQYXRoIiwiX2FkZFRvUGF0aEF0dHJpYnV0ZSIsIl9jb25zdHJ1Y3RQYXRoQXR0cmlidXRlIiwicmFkaXVzIiwieFJvdGF0aW9uIiwibGFyZ2VBcmMiLCJzd2VlcEZsYWciLCJjZW50ZXJQdCIsImN1cnJlbnRBbmdsZSIsIlVuaXRUZXN0ZXIiLCJhY3R1YWxSZXN1bHQiLCJleHBlY3RlZFJlc3VsdCIsIm1lc3NhZ2UiLCJwYXNzIiwidGVzdEVxdWFsaXR5IiwiX3VpIiwicmVuZGVyVGVzdCIsInRydWVNZXNzYWdlIiwiZmFsc2VNZXNzYWdlIiwiZ3JvdXBOYW1lIiwic3RhcnRHcm91cCIsInN1Ymdyb3VwTmFtZSIsInN0YXJ0U3ViZ3JvdXAiLCJmdW5jVG9UZXN0IiwidGVzdHMiLCJ0ZXN0RGV0YWlscyIsInBhcmFtcyIsIl9nZXRUZXN0TmFtZSIsIlRlc3RVSSIsIl9zdGFydGVkIiwiX2JvdW5kRGV0YWlscyIsIl9zdGFydEFuaW1hdGlvbkxvb3AiLCJsYXN0VmFsdWUiLCJfZ2V0TmV4dElkIiwiZXZhbCIsImRlbGV0ZSIsIl9vbkZyYW1lIiwiX2hhbmRsaW5nQmluZGluZyIsInVuYmluZCIsImZsYXRTdHlsZXMiLCJwbGFjZWhvbGRlclJlZ2V4IiwiX3RoZW1lQ29sb3JzIiwidGhlbWVDb2xvcklkIiwiX3VwZGF0ZVRoZW1lQ29sb3IiLCJhZmZlY3RlZFN0eWxlcyIsIl90aGVtZWRTdHlsZXMiLCJfdXBkYXRlQ29sb3JJbkNsYXNzRGVmaW5pdGlvbiIsIl9jcmVhdGVDb2xvcmVkU3R5bGVzIiwicmVwbGFjZWRBbnkiLCJyZXBsYWNlZCIsInZhbEFycmF5IiwiX2NvbnRhaW5lZFBsYWNlaG9sZGVyIiwiX3BhZ2VTdHlsZXMiLCJfbWVyZ2VDb2xvclRoZW1lcyIsInBsYWNlaG9sZGVyVG9NYXRjaCIsImZsYXRTdHlsZSIsIl9jbGVhblN0eWxlcyIsIl9jb21iaW5lVGhlbWVzIiwicGxhY2Vob2xkZXJzIiwiX2ZpbmRBbGxDb250YWluZWRQbGFjZWhvbGRlcnMiLCJoYW5kbGVkUGxhY2Vob2xkZXJzIiwidGhlbWVzIiwicGFnZVN0eWxlcyIsIl9tZXJnZURlZmluaXRpb24iLCJkZWZpbml0aW9ucyIsIm1lcmdlZERlZiIsImZvbnRzIiwiZm9udERlZiIsIl9jdXN0b21QYWdlRm9udHMiLCJfc3R5bGVFbGVtcyIsIl9zaGFyZWRDcmVhdGVTdHlsZXMiLCJfY3JlYXRlRm9udFN0eWxlcyIsIl9jdXN0b21Gb250RWxlbSIsInRtcEVsZW0iLCJfdXBkYXRlQWxsVGhlbWVDb2xvcnMiLCJfY29sb3JTdHlsZUVsZW1zIiwibmV3RWxlbSIsIl9hZGROZXdFbGVtZW50IiwiY3NzRGVjbGFyYXRpb24iLCJsYXN0U2VsZWN0b3IiLCJvdXRTdHlsZXMiLCJzdWJDbHMiLCJuZXdTZWxlY3RvcnMiLCJuZXdTZWxlY3RvciIsImNhbGN1bGF0ZWRTdHlsZXMiLCJfY2xlYW5DbGFzc0RlZiIsInRvcFN0eWxlcyIsInN1Ym5lc3RlZFN0eWxlcyIsIl9nZXRVbmNvbG9yZWRTdHlsZXMiLCJfY3VzdG9tRm9udHMiLCJfZ2V0Q3VzdG9tRm9udHMiLCJtZWRpYVF1ZXJ5RnVuYyIsIm1hdGNoTWVkaWEiLCJhZGRMaXN0ZW5lciIsIm1lZGlhIiwibWF0Y2hlcyIsIm90aGVyRWxlbSIsIl9idWlsZFRoZW1lQ29sb3JJZCIsIm1lcmdlZFRoZW1lcyIsIl9tZXJnZUludG9TdHlsZXMiLCJfY3JlYXRlQWxsQ29sb3JlZFN0eWxlcyIsInVuY29sb3JlZFN0eWxlcyIsIl9jcmVhdGVkU3R5bGVzIiwidG1wU3R5bGVzIiwiY3VzdG9tRm9udHMiLCJfbWVyZ2VJbnRvRm9udHMiLCJjYW52YXNFbGVtZW50XzEiLCJjb250YWlubWVudF8xIiwiQ2FudmFzR3JvdXAiLCJyZWZQb2ludCIsIl9yZXNwb25kVG9TY2FsZSIsIl9lbGVtZW50cyIsIl9yZWZlcmVuY2VQb2ludCIsIl9pbml0aWFsaXplUmVjdHMiLCJHcm91cCIsInJlZlB0IiwiYWRqdXN0RGltZW5zaW9ucyIsImlzSG92ZXJUYXJnZXQiLCJfbmVlZHNJbml0aWFsRGltZW5zaW9ucyIsInZpc2libGVXaW5kb3ciLCJ1cGRhdGVEaW1lbnNpb25zIiwiX3VwZGF0ZUludGVybmFsRGltZW5zaW9uc0Zyb21FbGVtZW50IiwicmVsRGltIiwiZGltZW5zaW9ucyIsIl9jbGVhckhvdmVyIiwiX2ZpbmRFbGVtZW50c0F0UG9pbnQiLCJyZWxhdGl2ZVBvaW50IiwiZWwiLCJsZWF2ZSIsImlzT2ZmU2NyZWVuIiwiaXNQb2ludENvbnRhaW5lZCIsImRpc3BsYXlEaW1lbnNpb25zIiwicmVtb3ZlIiwiY2xvbmVkR3JwIiwiX2xpc3RlbmVycyIsIl9maWxsQ29sb3IiLCJfc3Ryb2tlQ29sb3IiLCJzdHJva2VDb2xvciIsIl9mb250IiwiZm9udCIsIl9mb250RmFtaWx5IiwiX2ZvbnRTaXplIiwiX2ZvbnRWYXJpYW50IiwiZm9udFZhcmlhbnQiLCJfc3Ryb2tlU2l6ZSIsInN0cm9rZVNpemUiLCJfdGV4dEFsaWduIiwiX29uQ2hhbmdlIiwiRklMTF9DT0xPUiIsIlNUUk9LRV9DT0xPUiIsImZhbWlseSIsIkZPTlRfRkFNSUxZIiwidmFyaWFudCIsIkZPTlRfVkFSSUFOVCIsInNpemUiLCJGT05UX1NJWkUiLCJTVFJPS0VfU0laRSIsImFsaWduIiwiVEVYVF9BTElHTiIsIkZPTlQiLCJjaGFuZ2VUeXBlIiwiX3NhdmVPZmZPbGRTdHlsZSIsIl9hcHBseVN0eWxlVG9Db250ZXh0IiwiX29sZFN0eWxlIiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJyZWN0Q29udmVyc2lvbl8xIiwiZWxlbWVudFBvc2l0aW9uaW5nXzEiLCJkb1JlY3RzT3ZlcmxhcCIsInJlY3QxIiwicmVjdDIiLCJjb21wYXJlTGVmdFBvc2l0aW9uIiwiZWxlbUEiLCJlbGVtQiIsIl9jb21wYXJlUG9zaXRpb24iLCJjb21wYXJlUmlnaHRQb3NpdGlvbiIsImNvbXBhcmVUb3BQb3NpdGlvbiIsImNvbXBhcmVCb3R0b21Qb3NpdGlvbiIsInBvc0EiLCJwb3NCIiwiU29ydE9yZGVyRW51bSIsIkNPUlJFQ1RfT1JERVIiLCJJTkNPUlJFQ1RfT1JERVIiLCJTQU1FIiwiZG9FbGVtZW50c092ZXJsYXAiLCJlbGVtMSIsImVsZW0yIiwieF9vdmVybGFwIiwieV9vdmVybGFwIiwiZmluZEJhc2ljUmVjdEludGVyc2VjdGlvbiIsIm1pbl94IiwibWF4X3giLCJtaW5feSIsImdldExlZnRNb3N0IiwiZ2V0UmlnaHRNb3N0IiwiZ2V0VG9wTW9zdCIsImdldEJvdHRvbU1vc3QiLCJpbnRlcmZhY2VHdWFyZF8xIiwiaXNJRXh0cmVtYSIsImJvdHRvbSIsInJpZ2h0IiwiaXNJUG9pbnQiLCJpc1JlY3RDb250YWluZWQiLCJjb250YWluZXIiLCJpc1dpdGhpbiIsIm5vbl9pbmNsdXNpdmUiLCJpc0VsZW1lbnRDb250YWluZWQiLCJpc1NoYXBlQ29udGFpbmVkIiwic2hhcGUiLCJib3VuZHMiLCJMaW5rZWROb2RlIiwiX3ByZXZpb3VzIiwiX25leHQiLCJ0cmVlXzEiLCJCaW5hcnlUcmVlIiwiX2NvdW50IiwiX2NvbXBhcmUiLCJDb21wYXJlUmVzdWx0IiwiRVFVQUwiLCJMRVNTX1RIQU4iLCJfYWRkVG9TdWJUcmVlIiwiR1JFQVRFUl9USEFOIiwiX2NyZWF0ZVN1YlRyZWUiLCJfcmVtb3ZlTWUiLCJfcmVtb3ZlRnJvbVN1YlRyZWUiLCJzaWRlT2ZQYXJlbnQiLCJfZ2V0UmVsYXRpb25Ub1BhcmVudCIsIl9yZW1vdmVNZUFzVG9wTm9kZSIsIl9jaGVja1N1YlRyZWVFeGlzdHMiLCJleGlzdHMiLCJfY29tcGFyZU9iamVjdCIsIl9jb21wYXJlUHJpbWl0aXZlIiwiRVJSIiwibXlWYWx1ZSIsImNvbXBhcmVkVG9QYXJlbnQiLCJpc0NvbXBsZXRlIiwibGVmdERlcHRoIiwiX2dldFNpZGVEZXB0aCIsInJpZ2h0RGVwdGgiLCJfaXNTdWJUcmVlQmFsYW5jZWQiLCJpc0JhbGFuY2VkIiwiZHJhZ2dhYmxlXzEiLCJDbGFzc2ljRHJhZ2dhYmxlIiwiX2FkZERyYWdnaW5nU2lnbmlmaWVyIiwiX29uRHJvcCIsIl9vbkRyYWdTdGFydCIsIl9vbk1vdmUiLCJDbGFzc2ljRHJhZ2dhYmxlVGFyZ2V0IiwiX29uRHJhZ0VudGVyIiwiX29uRHJhZ0xlYXZlIiwiZXhpc3RpbmdEcmFnZ2FibGVfMSIsIm1ha2VEcmFnZ2FibGUiLCJkcmciLCJFeGlzdGluZ0hUTUw1RHJhZ2dhYmxlIiwib3ZlcnJpZGVGdW5jdGlvbnMiLCJjbGFzc2ljRHJhZ2dhYmxlXzEiLCJodG1sNURyYWdnYWJsZV8xIiwiRXhpc3RpbmdDbGFzc2ljRHJhZ2dhYmxlIiwiaGFuZGxlcnMiLCJvbk1vdmUiLCJfb3ZlcnJpZGVGdW5jdGlvbnMiLCJtb3ZlIiwiSFRNTDVEcmFnZ2FibGUiLCJibGFuayIsIkhUTUw1RHJhZ1RhcmdldCIsImRhdGFUcmFuc2ZlciIsInNldERyYWdJbWFnZSIsImJ1dHRvbnMiLCJEeW5hbWljT3B0aW9uIiwiX2Rpc3BsYXkiLCJfc2VsZWN0UGFyZW50IiwiX2lzRmlsdGVyZWQiLCJfaXNTZWxlY3RlZCIsInRleHQiLCJzY3JvbGxJbnRvVmlldyIsIndvcmQiLCJub3RGb3VuZCIsIl9maWx0ZXIiLCJfdW5maWx0ZXIiLCJpc05hbWVkQ2xhc3MiLCJ0ZXN0X25hbWUiLCJwYWRkZWRDbGFzc05hbWUiLCJfY29udGV4dCIsIl9rZXkiLCJFdmVudERlZmluaXRpb24iLCJfbnVtT2ZMaXN0ZW5lcnMiLCJfbmFtZSIsIlJlcGxhY2VEdXBsaWNhdGVLZXlzIiwibGlzdGVuZXJEYXRhIiwiZXZlbnREZWZpbml0aW9uXzEiLCJfZXZlbnRzIiwiZXZ0IiwiZXZ0RGVmIiwiZ2V0VmFsdWUiLCJub3RpZnlMaXN0ZW5lcnMiLCJ1bmlxdWVJRCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwcm9jZXNzQ2VsbENvbnRlbnRzIiwidGFibGVJRCIsInRhYmxlQ2xhc3MiLCJlbGVtZW50cyIsInJvd051bSIsImNvbE51bSIsInRibCIsInJvdyIsInJJZHgiLCJjSWR4IiwiaW5zZXJ0Um93IiwiaW5zZXJ0Q2VsbCIsImFkZFJvdyIsIl9jb25zdGFudHNfMSIsInNvdXJjZUVsZW0iLCJfb2Zmc2V0Iiwic291cmNlRWxlbWVudCIsIl9zb3VyY2VFbGVtZW50IiwiX3Bvc2l0aW9uQXBwcm9wcmlhdGVseSIsIl9oaWRlVGltZW91dCIsImNsZWFyVGltZW91dCIsImZvdW5kU3VjY2Vzc2Z1bFBvc2l0aW9uIiwiX3Rvb2x0aXBSZWN0IiwiX3NvdXJjZVJlY3QiLCJUb29sdGlwUG9zaXRpb25UeXBlIiwiVE9QIiwiUklHSFQiLCJfYXNzaWduUG9zaXRpb24iLCJfc2V0WFBvc2l0aW9uIiwiX3NldFlQb3NpdGlvbiIsIlRPT0xUSVBfTUFSR0lOIiwiQk9UVE9NIiwiTEVGVCIsIl9ub3JtYWxpemVZIiwiX25vcm1hbGl6ZVgiLCJfbm9ybWFsaXplIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwicG9zIiwibGluZUhlaWdodCIsInBvaW50ZXJFdmVudHMiLCJfdG9nZ2xlQnV0dG9uRmllbGRfMSIsIk11bHRpU2VsZWN0QnV0dG9uRmllbGQiLCJfc2VsZWN0ZWRCdG5zIiwiX2luZGV4T2YiLCJzZWxlY3RlZElkeCIsImRhdGFJZHgiLCJvdXRJZHgiLCJfZXF1YWxUbyIsImRhdGFBIiwiZGF0YUIiLCJpc0FycmF5Q2hpbGRFbGVtZW50IiwiQVJSQVlfQ0hJTEQiLCJBcnJheUNoaWxkRmllbGQiLCJhbGxvd1Jlb3JkZXJpbmciLCJuZXh0QnRuIiwiX2NoYW5nZU9yZGVyIiwiRk9SV0FSRCIsInByZXZCdG4iLCJCQUNLV0FSRCIsIl9kZWxldGUiLCJfc3VwZXIiLCJvcmRlckxpc3RlbmVyIiwiX29yZGVybGlzdGVuZXIiLCJkaXJlY3Rpb24iLCJvbkNoYW5nZU9yZGVyIiwiRmlsZVBhdGhGaWVsZCIsIkZJTEVfUEFUSCIsIl9vblNhdmVDYWxsYmFjayIsIm9uU2F2ZSIsIl9hdHRyIiwiaW5wdXRDb250YWluZXIiLCJpbnB1dExhYmVsIiwiX3RlbXBMaW5rIiwiX29uTGlua0NoYW5nZSIsIl9maWxlcyIsImZpbGVzIiwid2hpdGVTcGFjZSIsInByb21wdCIsIm9uU2VsZWN0aW9uIiwiX29uU2VsZWN0aW9uIiwiTk8iLCJzaG93WWVzTm9Gb3JtIiwib25TZWxlY3QiLCJOdW1iZXJGaWVsZCIsIk5VTUJFUiIsIl9jcmVhdGVTdGFuZGFyZExhYmVsZWRJbnB1dCIsImNyZWF0ZVNpbXBsZUxhYmVsZWRFbGVtZW50Iiwic2tpcFplcm8iLCJjTGJsIiwiY0NvbnRlbnQiLCJjcmVhdGVMYWJlbGVkRWxlbWVudCIsImRhdGFFbGVtIiwibGFiZWxFbGVtIiwiX21vZGVsXzEiLCJTZXJpYWxpemFibGUiLCJfTW9kZWwiLCJzYXZlRGF0YSIsInNlcmlhbGl6ZSIsInBhcnNlZERhdGEiLCJfY29weURhdGEiLCJkYXRhVG9Db3B5IiwiX19wcm9wZXJ0eUxpc3RlbmVycyIsIl9fbW9kZWxMaXN0ZW5lcnMiLCJfc2V0RGVmYXVsdFZhbHVlcyIsIl9jb3B5UGllY2UiLCJzYXZhYmxlVmFsdWUiLCJjb3B5RnVuY05hbWUiLCJfc2V0VmFsdWUiLCJkaWN0IiwiZm10S2V5Iiwib3V0VmFsIiwiX3NhdmVQaWVjZSIsInNhdmVGdW5jTmFtZSIsIl9pbm5lclNhdmVQaWVjZSIsIl9zYXZlQXJyYXkiLCJfc2F2ZU1vZGVsIiwiX3NhdmVPYmplY3QiLCJfc2F2ZVNpbXBsZSIsInByaXZhdGVOYW1lIiwiY3VycmVudFZhbHVlIiwiX25vdGlmeUxpc3RlbmVycyIsIm9sZFZhbCIsIl9ub3RpZnlNb2RlbExpc3RlbmVycyIsIl9ub3RpZnlQcm9wZXJ0eUxpc3RlbmVycyIsImxpc3RlbmVycyIsIkRhdGFNYW5hZ2VyIiwiX3BvcHVsYXRlV2l0aERlZmF1bHREYXRhIiwiZGF0dW0iLCJJTmF2VHJhbnNpdGlvblR5cGUiLCJTY3JpcHRMb2FkZXIiLCJfc2NyaXB0VVJMRm9ybWF0Iiwic2NyaXB0IiwiZm9ybWF0dGVkVVJMIiwiY2xlYW5VUkwiLCJsb2NhdGlvbiIsImhyZWYiLCJzZWFyY2giLCJzcGxpdFBhcmFtcyIsInNwbGl0UCIsIlNoaWVsZCIsInNoaWVsZENvbnRlbnQiLCJfY3JlYXRlU2hpZWxkRGV0YWlscyIsIl9zaG93RWxlbWVudFRpbWVvdXQiLCJTVkdTaGFwZUVudW0iLCJTVkdEZWZpbml0aW9uc0VsZW1lbnQiLCJfZ3JhZGllbnRzIiwiX2FkZERyb3BTaGFkb3ciLCJmaWx0ZXIiLCJpbiIsInN0ZERldmlhdGlvbiIsImV4cG9uZW50IiwiYW1wbGl0dWRlIiwicmVjdEVsZW1lbnRfMSIsImNpcmNsZUVsZW1lbnRfMSIsImFkZGl0aW9uYWxQYXRoc18xIiwidGV4dEVsZW1lbnRfMSIsIkdyb3VwRWxlbWVudCIsIl9zdmdFbGVtcyIsIl9ub25TY2FsZWQiLCJfbGFzdElkIiwiY2hpbGRFeHRyZW1hIiwic2tpcFVwZGF0ZUV4dHJlbWEiLCJtZXJnZSIsInByZXZlbnRTY2FsaW5nIiwiYWRkVXBkYXRlTGlzdGVuZXIiLCJfdXBkYXRlRXh0cmVtYUZyb21DaGlsZCIsIl9pbml0aWFsaXplQXR0cmlidXRlcyIsInBhdGgiLCJfYWRkQ2hpbGRFbGVtZW50IiwiUmVjdGFuZ2xlRWxlbWVudCIsImNpcmNsZSIsIkNpcmNsZUVsZW1lbnQiLCJzdGFydERlZyIsImVuZERlZyIsImFyYyIsIkFyY0VsZW1lbnQiLCJwaWVTbGljZSIsIlBpZVNsaWNlRWxlbWVudCIsImN1cnZlIiwiQ3VydmVFbGVtZW50Iiwic2lkZXMiLCJwb2x5Z29uIiwiUG9seWdvbkVsZW1lbnQiLCJudW1iZXJPZlBvaW50cyIsImlubmVyUmFkaXVzIiwic3RhciIsIlN0YXJFbGVtZW50Iiwib3JpZ2luUHQiLCJ0eHQiLCJUZXh0RWxlbWVudCIsInNoYXBlVHlwZSIsIkNIRUNLTUFSSyIsIl9hZGRDaGVja1NoYXBlIiwiWCIsIl9hZGRFeFNoYXBlIiwiUExVUyIsIl9hZGRQbHVzU2hhcGUiLCJjaGVja21hcmsiLCJDaGVja0VsZW1lbnQiLCJleEVsZW0iLCJFeEVsZW1lbnQiLCJwbHVzU3ltYm9sIiwiUGx1c0VsZW1lbnQiLCJfbmV4dElkIiwiX25lZWRzTmV3U3RyaW5nIiwiX2lubmVyU3R5bGUiLCJmaWxsIiwiX3NldFN0eWxlIiwid2VpZ2h0Iiwic3Ryb2tlIiwibGluZWNhcCIsImxpbmVqb2luIiwiX3RyYW5zZm9ybSIsImRhc2hBcnJheSIsIl9zdHJva2VEYXNoQXJyYXkiLCJtYXBwYWJsZSIsInN0cm9rZURhc2hBcnJheSIsIl9nZW5lcmF0ZVN0eWxlU3RyaW5nIiwiX2dlbmVyYXRlZFN0eWxlU3RyaW5nIiwicHJvcFZhbHVlIiwiZm9ybWF0dGVkUHJvcE5hbWUiLCJfYmFzaWNSZWN0VG9FeHRyZW1hIiwiY2VudGVyIiwiY3giLCJjeSIsIl9leHRyZW1hRnJvbUNlbnRlclBvaW50QW5kUmFkaXVzIiwicGF0aEV4dGVuc2lvbl8xIiwic3RhcnREZWdyZWUiLCJlbmREZWdyZWUiLCJhZGp1c3RlZFBvaW50IiwiX2dldEFkanVzdGVkUG9pbnQiLCJhbmdsZURpZmYiLCJfY2FsY3VsYXRlUG9seWdvblBvaW50IiwiX3Nob3VsZFNob3dSYWRpaSIsImFkanVzdCIsInN0cm9rZVdpZHRoIiwiY3VyQW5nbGUiLCJpbnRBbmdsZSIsIl9vcmlnaW5QdCIsIl90ZXh0IiwiX2hhbmRsZU9yaWdpblBvaW50IiwibmV3UHQiLCJ1c2VyU2VsZWN0IiwiTW96VXNlclNlbGVjdCIsIldlYmtpdFVzZXJTZWxlY3QiLCJraHRtbFVzZXJTZWxlY3QiLCJvVXNlclNlbGVjdCIsInRlc3RVaV8xIiwiQ29uc29sZVVuaXRUZXN0VUkiLCJfYnVpbGRUZXN0U3RyaW5nIiwiaW5mbyIsImhlYWRlclN0ciIsIl9jdXJyZW50R3JvdXAiLCJfY3VycmVudFN1Ymdyb3VwIiwiX2J1aWxkVmFsdWVTdHJpbmciLCJfcGFzc1RvU3RyaW5nIiwiVUkiLCJncm91cHMiLCJ0ZXN0Q29udGFpbmVyIiwiX2dldFBhcmVudEVsZW1lbnQiLCJncm91cCIsInBhc3NTdHIiLCJib3JkZXJDb2xsYXBzZSIsImJvcmRlcldpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsImh0bWxVaV8xIiwiSFRNTFVuaXRUZXN0VUkiLCJfZHJhd2FibGUiLCJleHRlbmRlZFJlc3VsdHMiLCJhZGRUZXN0UmVzdWx0IiwiYWRkVmlzdWFsQnV0dG9uIiwidGltZUluTXMiLCJfdHlwZWd1YXJkc18yIiwiQm91bmRWaWV3IiwiX3VwZGF0ZUZ1bmN0aW9ucyIsIl9tb2RlbCIsIl9nZXRDb25maWciLCJfc2V0Q29uZmlnIiwiX2dldE1vZGVsIiwiX3NldE1vZGVsIiwib2xkTW9kZWwiLCJfb25Qb3RlbnRpYWxNb2RlbENoYW5nZSIsIm9sZENvbmZpZyIsIl9vblBvdGVudGlhbENvbmZpZ0NoYW5nZSIsIl9jcmVhdGVVcGRhdGVGdW5jIiwiX3Nob3VsZERlbGV0ZSIsIl91cGRhdGVIdG1sRWxlbWVudCIsIl91cGRhdGVVcGRhdGVhYmxlIiwiX3VwZGF0ZUJvdW5kVmlldyIsImJvdW5kVG8iLCJfYmluZEVsZW1lbnQiLCJib3VuZEVsZW0iLCJfYmluZCIsImlzVXBkYXRlYWJsZVZpZXciLCJVcGRhdGVhYmxlVmlldyIsImFkZGxQYXJhbXMiLCJjYW52YXNHcm91cF8xIiwiSFRNTDVDYW52YXMiLCJfbGF5ZXJzIiwiX3JlY29uY2lsZU9wdGlvbnMiLCJfaW5pdGlhbGl6ZVJlY3RhbmdsZXMiLCJfcmVsYXRpdmVWaWV3IiwiX3pvb21GYWN0b3IiLCJ6b29tIiwiX25lZWRzUmVkcmF3IiwiZWZmZWN0Q2FudmFzIiwiX2VmZmVjdENvbnRleHQiLCJwcmVSZW5kZXIiLCJfb25QcmVSZW5kZXIiLCJ1c2VyT3B0aW9ucyIsIl9jcmVhdGVEZWZhdWx0T3B0aW9ucyIsIlJFTkRFUl9SQVRFIiwiWk9PTV9ERUxUQSIsIlNJWkUiLCJNQVhfWk9PTSIsIk1JTl9aT09NIiwiX2Fic29sdXRlRGltZW5zaW9ucyIsIl9jcmVhdGVDYW52YXMiLCJnZXRDb250ZXh0IiwiaXNGb3JFZmZlY3RzIiwiY2xlYXJSZWN0IiwiX2RyYXdFYWNoRWxlbWVudCIsIl9yZW5kZXJGcmFtZSIsIl9nZXRPckNyZWF0ZUxheWVyIiwiX3VwZGF0ZUFic29sdXRlRGltZW5zaW9uc0Zyb21FbGVtIiwiYWRkZWREaW1lbnNpb25zIiwibGF5ZXJJZHgiLCJkZWx0YVkiLCJ6b29tRGVsdGEiLCJ6b29tWERlbHRhIiwiem9vbVlEZWx0YSIsInBoeXNpY2FsRGltIiwid2lkdGhEZWx0YSIsImhlaWdodERlbHRhIiwibmV3VmlldyIsIm5ld0Rpc3BsYXkiLCJuZXdDb3JuZXIiLCJfY2FsY3VsYXRlTmV3Q29ybmVyRnJvbURlbHRhIiwicGFuIiwiY29ybmVyUG9pbnQiLCJfb25Nb3VzZVdoZWVsIiwiX3N0YXJ0RHJhZ1BvaW50Iiwic2NyZWVuWCIsInNjcmVlblkiLCJfZGVsdGFEcmFnUG9pbnQiLCJfb25EcmFnIiwicGFnZVgiLCJwYWdlWSIsIl9vbkNsaWNrIiwiX29uSG92ZXIiLCJfaGFuZGxlRXZlbnQiLCJyZWxhdGl2ZVB0IiwiY2FudmFzTGVmdCIsImNhbnZhc1RvcCIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwicGh5c2ljYWxQdCIsImFic29sdXRlUHQiLCJhYnNvbHV0ZVJlY3QiLCJsZWZ0VG9wQ29ybmVyIiwicmVsTGVmdFRvcENvcm5lciIsImNvbnZlcnRBYnNvbHV0ZVBvaW50VG9SZWxhdGl2ZVBvaW50IiwicmlnaHRCb3R0b21Db3JuZXIiLCJyZWxSaWdodEJvdHRvbUNvcm5lciIsInJlbGF0aXZlVmlldyIsInRlbXAiLCJfY2VudGVyIiwiX3JhZGl1cyIsIkNpcmNsZSIsImJlZ2luUGF0aCIsIl9kaXNwbGF5UmFkaXVzIiwiem9vbUZhY3RvciIsInRyaWdfMSIsIl91cGRhdGVFeHRyZW1hRnJvbVBvaW50cyIsIlBhdGgiLCJfZGlzcGxheVBvaW50cyIsImRpc3BsYXlQb2ludCIsInRtcFBvaW50cyIsInRtcFB0IiwiX3NjYWxlUG9pbnQiLCJuZXdEaXN0YW5jZSIsIlJlY3RhbmdsZSIsIl9ib3JkZXJSYWRpdXMiLCJiUmFkIiwiX3Vucm91bmRlZFJlY3QiLCJfcm91bmRlZFJlY3QiLCJmaWxsUmVjdCIsIl9kaXNwbGF5Qm9yZGVyUmFkaXVzIiwicXVhZHJhdGljQ3VydmVUbyIsIlRleHQiLCJfYWRkU3R5bGVDaGFuZ2VMaXN0ZW5lciIsImZpeGVkIiwiX2ZpeGVkIiwiX2NhbGN1bGF0ZVRleHRNZXRyaWNzIiwiYWRkU3R5bGVDaGFuZ2VMaXN0ZW5lciIsIm1ldHJpY3MiLCJtZWFzdXJlVGV4dCIsImZpbGxUZXh0IiwiX0NvZGVFdmVudCIsIk1hcCIsImRpc3BhdGNoRGF0YSIsImNvbmNhdCIsImNiIiwic2V0IiwiSFNMUGllY2UiLCJjb2xvcl8xIiwiR2xvYmFsQ29sb3IiLCJfdXNlZENvbG9ycyIsIl9pbm5lckNvbG9yIiwiY29sb3JTdHIiLCJnZXROZXh0Q29sb3IiLCJnZXRBcHBhcmVudENvbG9yIiwiZnJvbnRDb2xvciIsImdldENvbXBsZW1lbnRhcnlDb2xvciIsImN1dG9mZiIsImdldExpZ2h0bmVzcyIsInRvUmdiYVN0cmluZyIsImhleFRvUmdiIiwiaGV4VG9SZ2JhIiwiaHNsVG9SZ2IiLCJoc2xhVG9SZ2JhIiwiQ29tbWFuZFN0YXRlIiwiQ3VzdG9taXphYmxlQ29tbWFuZCIsIm9uRXhlY3V0ZSIsIm9uVW5leGVjdXRlIiwiX29uRXhlY3V0ZSIsIl9vblVuZXhlY3V0ZSIsIl9zdGF0ZSIsIkVYRUNVVEVEIiwiUkVWRVJTRUQiLCJDb250ZXh0TWVudUNvbG9ycyIsIkNvbnRleHRNZW51Iiwibm9TdHlsZXMiLCJfdGFyZ2V0IiwiX25vU3R5bGVzIiwibWVudUJHIiwibWVudVRleHQiLCJtZW51T3B0QkciLCJtZW51Qm9yZGVyIiwibWVudU9wdE5lc3RlZCIsIm1lbnVCb3JkZXJOZXN0ZWQiLCJtZW51U2VsZWN0ZWRUZXh0IiwibWVudVNlbGVjdGVkQm9yZGVyIiwic3ViT3B0aW9ucyIsImhhc0VsZW1lbnQiLCJvcHRpb25fY29udGFpbmVyIiwib25jbGljayIsInN1Yl9zdWNjZXNzIiwic19vcHQiLCJhZGRTdWJPcHRpb24iLCJzcmNPcHRpb24iLCJzdWJPcHRpb24iLCJhZGRPcHRpb24iLCJfZ2V0T3B0aW9uIiwic3ViX21lbnUiLCJfYnVpbGRTdWJNZW51IiwiaUNvbCIsIl93aW5kb3dMaXN0ZW5lcnNBZGRlZCIsIl9oaWRlRXhpc3RpbmdNZW51IiwicG9zX3giLCJwb3NfeSIsImN0cmxLZXkiLCJzdG9wUHJvcGFnYXRpb24iLCJfc2V0VGhlbWVDb2xvcnMiLCJfc2hvd2luZ01lbnUiLCJsaW5rZWROb2RlXzEiLCJMaW5rZWRMaXN0IiwiX2xlbmd0aCIsImluc2VydCIsIm5ld05vZGUiLCJuZXh0Tm9kZSIsIl9nZXROb2RlQXRJZHgiLCJwcmV2Tm9kZSIsIl9sYXN0Tm9kZSIsIl9maXJzdE5vZGUiLCJjdXJOb2RlIiwiX2lzRXF1YWwiLCJfZ2V0Tm9kZUF0SWR4Rm9yd2FyZCIsIl9nZXROb2RlQXRJZHhCYWNrd2FyZCIsImJpbmFyeVRyZWVfMSIsIkJhbGFuY2VkQmluYXJ5VHJlZSIsIl9yb290IiwiX3JlYmFsYW5jZSIsIl9yZWJhbGFuY2VTdWJUcmVlIiwiX3JvdGF0ZSIsIm9wcG9zaXRlU2lkZSIsIl9vcHBvc2l0ZVNpZGUiLCJTZWxmQmFsYW5jaW5nQmluYXJ5VHJlZSIsIl90cmVlIiwiaXNMZWFmTm9kZSIsInNpZGUiLCJuZXdSb290IiwiVHJpZSIsIl9oYW5kbGVUZXJtaW5hdGluZ1dvcmQiLCJfaGFuZGxlTm9uVGVybWluYXRpbmdXb3JkIiwiX3Rlcm1pbmF0ZXMiLCJzcGxpdFdvcmQiLCJfc3BsaXRXb3JkIiwiZmlyc3RDaGFyIiwicmVzdE9mV29yZCIsImdldE9iamVjdFN0cmluZyIsImlzSHRtbCIsIkZ1bmN0aW9uIiwibmV3TGluZSIsInRhYiIsIm91dHB1dFN0ciIsIklTX0RFQlVHIiwicHJpbnRPYmplY3QiLCJwcmludENhbGxTdGFjayIsInN0YWNrIiwiZGVidWdQb2ludCIsIkRyYWdnYWJsZUZ1bmN0aW9ucyIsIlNpbXBsZURyYXdhYmxlIiwiZHluYW1pY09wdGlvbl8xIiwiRHluYW1pY1NlbGVjdCIsIl9hdmFpbGFibGVPcHRpb25zIiwiX3ZhbHVlIiwiX29uUXVlcnlUZXh0Q2hhbmdlIiwia2V5ZG93biIsIl9vbktleUV2ZW50IiwiX29uQmx1ciIsIl9vbkZvY3VzIiwiY2xlYXJCdG4iLCJkcmF3ZXIiLCJpbm5lck9wdGlvbnMiLCJsb2FkaW5nSWNvbiIsIm9wdGlvbiIsIl91cGRhdGVGaWx0ZXJpbmciLCJfc2VsZWN0TGlzdGVuZXJzIiwiX3NlYXJjaExpc3RlbmVycyIsIl9jaGFuZ2VMaXN0ZW5lcnMiLCJzZWxlY3RlZE9wdGlvbiIsImN1clRleHQiLCJfbm90aWZ5Q2hhbmdlTGlzdGVuZXJzIiwiX3F1ZXJ5IiwiZm91bmROZXh0IiwiZ2V0Q3VycmVudCIsImhpbGl0ZSIsInVuaGlsaXRlIiwiX2NvbGxhcHNlRHJhd2VyIiwiX2V4cGFuZERyYXdlciIsIl9ub3RpZnlTZWxlY3RMaXN0ZW5lcnMiLCJzZWFyY2hTdHIiLCJfbm90aWZ5U2VhcmNoTGlzdGVuZXJzIiwidHJ5RmlsdGVyIiwicXVlcnlUZXh0IiwiX2N1cnJlbnRRdWVyeSIsIl9pc1F1ZXJ5aW5nIiwiX25leHRRdWVyeSIsIl9vblF1ZXJ5IiwibWluV2lkdGgiLCJhbmltYXRpb24iLCJpc0VkaXRhYmxlIiwiRWRpdGFibGUiLCJpc011bHRpbGluZSIsImlucHV0VHlwZSIsIl9pc011bHRpbGluZSIsIl9hZGRIYW5kbGVycyIsIl9pc01vZGlmeWluZyIsIl9hZGRMaXN0ZW5lcnMiLCJsaWdodEJnIiwib25VcGRhdGUiLCJvbkZvcm1hdCIsInBhcnNlQ29udGVudCIsIm9uUGFyc2VDb250ZW50IiwiX2FkZERlZmF1bHRGb3JtYXRIYW5kbGVycyIsIl9hZGREZWZhdWx0Rm9ybWF0SGFuZGxlciIsIl9hZGREZWZhdWx0UGFyc2VIYW5kbGVyIiwiZm9yRWRpdCIsIl9yZW5kZXJEaXNwbGF5VmlldyIsIl9oYW5kbGVGb2N1c0V2ZW50Iiwic2hpZnRLZXkiLCJtb2RpZnkiLCJ2YWxpZGF0ZWQiLCJwYXNzZWQiLCJfb25WYWxpZGF0aW9uUGFzc2VkIiwiX29uVmFsaWRhdGlvbkZhaWxlZCIsImFsbG93TGVhdmUiLCJfaGlkZUVsZW1lbnQiLCJfc2hvd0VsZW1lbnQiLCJvdXRsaW5lIiwiYm9yZGVyQ29sb3IiLCJHb29nbGVMb2dpbkJ1dHRvbiIsImNsaWVudElkIiwiZG9tYWluIiwiX2NsaWVudElkIiwiX2RvbWFpbiIsIl9sb2dpbkxpc3RlbmVycyIsIl9sb2dvdXRMaXN0ZW5lcnMiLCJfaXNMb2dnZWRJbiIsImdhcGkiLCJsb2FkIiwiYXV0aDIiLCJpbml0IiwiY2xpZW50X2lkIiwiaGQiLCJjdXJyZW50VXNlciIsImxpc3RlbiIsInVzZXIiLCJnZXRCYXNpY1Byb2ZpbGUiLCJzaWduaW4yIiwicmVuZGVyIiwiX29uU2lnbkluIiwiZ29vZ2xlVXNlciIsInByb2ZpbGUiLCJfZ29vZ2xlUHJvZmlsZSIsImdldElkIiwiaWRfdG9rZW4iLCJnZXRBdXRoUmVzcG9uc2UiLCJfbG9naW4iLCJfb25TaWduZWRJbiIsIl9vblNpZ25JbkZhaWx1cmUiLCJzaWduT3V0IiwiZ2V0QXV0aEluc3RhbmNlIiwiX2xvZ291dCIsIl9GaWxlU3RvcmFnZSIsIl9ERUZBVUxUX1NJWkUiLCJmaWxlTmFtZSIsImRpcmVjdG9yeVBhdGgiLCJmcyIsIl9nZXRGaWxlU3lzdGVtIiwiZGlyRW50cnkiLCJfZ2V0RGlyZWN0b3J5RW50cnkiLCJmaWxlIiwiX2NyZWF0ZUZpbGUiLCJmdyIsIl9nZXRGaWxlV3JpdGVyIiwiX3dyaXRlRmlsZSIsImZpbGVFbnRyeSIsIl9nZXRGaWxlRW50cnkiLCJfZ2V0RmlsZSIsIl9yZWFkRmlsZSIsIl9kZWxldGVGaWxlIiwiZGlyZWN0b3J5TmFtZSIsIl9yZWFkRGlyZWN0b3J5Q29udGVudHMiLCJfZmlsZVN5c3RlbSIsInJlcXVlc3RGaWxlU3lzdGVtIiwid2Via2l0UmVxdWVzdEZpbGVTeXN0ZW0iLCJQRVJTSVNURU5UIiwiX2ZpbGVTeXN0ZW1UeXBlIiwicXVvdGFTaXplIiwiX3JlcXVlc3RRdW90YSIsIl9yZXF1ZXN0RmlsZVN5c3RlbSIsIndlYmtpdFN0b3JhZ2VJbmZvIiwicmVxdWVzdFF1b3RhIiwiZ3JhbnRlZEJ5dGVzIiwiX2hhbmRsZUVycm9yIiwiY3JlYXRlV3JpdGVyIiwid3JpdGVyIiwiZW50cnkiLCJhcHBlbmQiLCJvbndyaXRlZW5kIiwic2VlayIsIndyaXRlIiwib25lcnJvciIsInRydW5jYXRlIiwiZ2V0RmlsZSIsImV4Y2x1c2l2ZSIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWRlbmQiLCJyZWFkQXNUZXh0IiwiZmlsZVN5c3RlbSIsImxvb3BDbnQiLCJfY2xlYW5EaXJlY3RvcnkiLCJjdXJEaXIiLCJfZ2V0RmlsZVN5c3RlbVJvb3QiLCJwYXRoUGllY2VzIiwiX3NwbGl0RGlyZWN0b3J5UGF0aFBpZWNlcyIsInBhdGhQaWVjZSIsIl9nZXRTdWJEaXJlY3RvcnkiLCJkaXJlY3RvcnlFbnRyeSIsInN1YlBhdGgiLCJnZXREaXJlY3RvcnkiLCJjcmVhdGVSZWFkZXIiLCJyZWFkRW50cmllcyIsImVudHJpZXMiLCJGaWxlU3RvcmFnZSIsIm11bHRpU2VsZWN0QnV0dG9uRmllbGRfMSIsIkV4cGFuZGFibGVCdXR0b25GaWVsZCIsIl9pbnN0YW5jZXMiLCJpbnN0YW5jZSIsIl9jcmVhdGVBdmFpbGFibGVPcHRpb25zIiwiYXBwZW5kVG9JZCIsIl9jcmVhdGVJbnB1dCIsIm9wdEVsZW0iLCJfY3JlYXRlQXZhaWxhYmxlT3B0aW9uIiwiaW5wdXRXcmFwcGVyIiwiX2FkZElucHV0RmllbGQiLCJfYWRkQWRkQnV0dG9uIiwiX3Nob3dJbnB1dEZpZWxkIiwia2V5RXZlbnQiLCJfYWRkTmV3T3B0aW9uIiwiX2NsZWFySW5wdXRGaWVsZCIsImFkZEJ0biIsIl9hZGRCdG5MYWJlbCIsIl9kb2VzRWxlbWVudEFscmVhZHlFeGlzdCIsIl9jcmVhdGVOZXdPcHRpb24iLCJTaW5nbGVTZWxlY3RCdXR0b25GaWVsZCIsIl9zZWxlY3RlZEJ0biIsImFycmF5Q2hpbGRGaWVsZF8xIiwiQXJyYXlGaWVsZCIsIl9jaGlsZFRlbXBsYXRlIiwiY2hpbGRUZW1wbGF0ZSIsIkFSUkFZIiwiX25ld0xhYmVsIiwibmV3TGFiZWwiLCJfYWxsb3dSZW9yZGVyaW5nIiwiX2NyZWF0ZU5ld0J1dHRvbiIsIm5ld0J1dHRvbiIsIl9jcmVhdGVOZXdDaGlsZCIsIl9nZW5lcmF0ZUNoaWxkRWxlbWVudCIsIl9hZGROZXdDaGlsZExpc3RlbmVycyIsIl9maW5hbGl6ZU5ld0NoaWxkIiwiYWRkT3JkZXJpbmdMaXN0ZW5lciIsImNoaWxkRGF0YSIsImN1cklkeCIsIm5leHRJZHgiLCJjaGlsZEVsZW0iLCJncmlkVGVtcGxhdGVDb2x1bW5zIiwiZ3JpZENvbHVtbkdhcCIsImdyaWRSb3dHYXAiLCJ3ZWJraXRVc2VyU2VsZWN0IiwibXNVc2VyU2VsZWN0IiwiRmlsZVVwbG9hZEZpZWxkIiwiRklMRV9VUExPQUQiLCJmaWxlUGF0aEZpZWxkXzEiLCJQaG90b1BhdGhGaWVsZCIsInBob3RvV3JhcHBlciIsImxpbmtCdG4iLCJsaW5rVVJMIiwidXBsb2FkQnRuIiwiX29uRmlsZVNlbGVjdGVkIiwicGhvdG9VUkwiLCJsaW5rIiwiYmxvYnMiLCJfcmVzaXplSW1hZ2VzIiwiZGVmZXIiLCJmaWxlUmVhZGVyIiwicmVhZEFzRGF0YVVSTCIsIm9ubG9hZCIsImRhdGFVcmwiLCJpbWciLCJJbWFnZSIsImN2cyIsIm1heFNpemUiLCJkcmF3SW1hZ2UiLCJ0b0Jsb2IiLCJibG9iIiwib3V0RmlsZXMiLCJmSWR4IiwiX3Jlc2l6ZUltYWdlIiwiX2xvYWRJbWFnZSIsIl9yZW5kZXJPbkNhbnZhcyIsIl9mb3JtXzEiLCJFbWJlZGRlZEZvcm0iLCJGdWxsU2NyZWVuRm9ybSIsIklubGluZUZvcm0iLCJQb3B1cEZvcm0iLCJjbG9zZUJ1dHRvbiIsIkNoZWNrYm94RmllbGQiLCJDSEVDS0JPWCIsImlucHV0Qm94IiwiaW5wdXRJbm5lckJveCIsImlubmVyTGJsIiwiQ29sb3JGaWVsZCIsIkNPTE9SIiwiRGF0ZUZpZWxkIiwiREFURSIsIm5ld0RhdGUiLCJEYXRlVGltZUZpZWxkIiwiREFURV9USU1FIiwiZGF0ZVdyYXBwZXIiLCJkYXRlSW5wdXQiLCJ0aW1lVmFsIiwidGltZVdyYXBwZXIiLCJ0aW1lSW5wdXQiLCJ0aW1lU3RyIiwiSGlkZGVuRmllbGQiLCJISURERU4iLCJPYmplY3RTZWxlY3RGaWVsZCIsIlNFTEVDVCIsInNsaW1PcHRpb25zIiwib0lkeCIsIlBhc3N3b3JkRmllbGQiLCJQQVNTV09SRCIsIm51bWJlckZpZWxkXzEiLCJQZXJjZW50YWdlRmllbGQiLCJQRVJDRU5UQUdFIiwiU2VsZWN0RmllbGQiLCJ2IiwiVGV4dEFyZWFGaWVsZCIsIlRFWFRBUkVBIiwiZGlzcGxheVN0ciIsIlRleHRGaWVsZCIsIlRFWFQiLCJUaW1lRmllbGQiLCJUSU1FIiwiaGlzdG9yeV8xIiwiVW5kb0NoYWluIiwiX3Nob3VsZElnbm9yZUV2ZW50IiwicmVkbyIsInVuZG8iLCJ1bmRvYWJsZSIsIm5hdmlnYXRlQmFjayIsInJldmVyc2VGdW5jdGlvbiIsIm5hdmlnYXRlRm9yd2FyZCIsImZvcndhcmRGdW5jdGlvbiIsImlzSUVsZW1EZWZpbml0aW9uIiwiaXNJZGVudGlmaWFibGVNb2RlbCIsInNlcmlhbGl6YWJsZU1vZGVsXzEiLCJJZGVudGlmaWFibGVNb2RlbCIsIl91cGRhdGVMYXN0SWQiLCJfZ2VuZXJhdGVOZXdJZCIsIl9wcmVmaXgiLCJsYXN0SWQiLCJwcmVmaXhSZWciLCJsYXN0TnVtZXJpY0lkIiwiaXNOYU4iLCJnZW5lcmF0ZVVuaXF1ZUlEIiwiSW1hZ2VFbGVtZW50IiwiX3NyYyIsIl9jbGVhckNsYXNzZXMiLCJfY2hlY2tGb3JJbWFnZUxvYWQiLCJfb25FcnJvciIsIl9kb2VzSW1hZ2VIYXZlTWlzc2luZ1NpemUiLCJfbWVhc3VyZUltYWdlIiwiX3Jlc2l6ZSIsIl93aWR0aFRvSGVpZ2h0UmF0aW8iLCJkYXRhTWFuYWdlcl8xIiwiQXN5bmNNYW5hZ2VyIiwiX2luRmxpZ2h0IiwiX2xvYWRBbmRDcmVhdGUiLCJkcmF3TGluZSIsImhvc3QiLCJsYmxOb1JvdGF0ZSIsImRpdiIsImxibEVsZW0iLCJhcnJhbmdlUmFkaWFsbHkiLCJjZW50cmFsRUxlbSIsImZyaW5nZUVsZW1zIiwibWluQW5nbGUiLCJtYXhBbmdsZSIsImF2YWlsYWJsZUFuZ2xlIiwiZGVsdGFBbmdsZSIsIm1heERpc3RhbmNlIiwiY2VudHJhbFBvaW50IiwiZWxlbVJhZGl1cyIsImNlbnRyYWxBbmdsZSIsImludGVybmFsQW5nbGUiLCJhcHByb3ByaWF0ZURpc3RhbmNlIiwidXBkYXRlTGluZSIsImxpbmUiLCJjb25uZWN0RWxlbWVudHMiLCJzdGFydF9lbGVtIiwiZW5kX2VsZW0iLCJzdGFydF9wb2ludCIsImVuZF9wb2ludCIsInhfMSIsInhfMiIsInlfMSIsInlfMiIsIk5hdmlnYXRvciIsIl92aWV3cyIsIl9oaXN0b3J5IiwiX2hhbmRsZVN0YXRlIiwiX2NyZWF0ZUhlYWRlciIsIl9jdXJyZW50VmlldyIsIm5hdmlnYXRpb25QYXRoIiwiYWRkbERhdGEiLCJmcm9tSGlzdG9yeU5hdmlnYXRpb24iLCJfY2FuTmF2aWdhdGVBd2F5IiwiaXNDYW5jZWwiLCJfaGFuZGxlQ3VycmVudFZpZXdPbk5hdmlnYXRlIiwidmlldyIsIl91cGRhdGVWaWV3IiwiX2NyZWF0ZVZpZXciLCJfaGFuZGxlVHJhbnNpdGlvbiIsIl91cGRhdGVIaXN0b3J5IiwiY2FuTmF2aWdhdGVBd2F5IiwibmF2QXdheURhdGEiLCJvbk5hdmlnYXRlQXdheSIsImhpc3RvcnlTdGF0ZSIsInVwZGF0ZUN1cnJlbnRTdGF0ZSIsImhpc3RvcnkiLCJfcHVzaEhpc3RvcnlTdGF0ZSIsIl90cmFuc2l0aW9uVHlwZSIsIk9QQUNJVFkiLCJfb3BhY2l0eVRyYW5zaXRpb24iLCJfbm9UcmFuc2l0aW9uIiwicHVzaFN0YXRlIiwic3RhdGUiLCJuYXZpZ2F0ZVRvIiwiQXBwbGljYXRpb25TdGF0ZSIsIl9tb2RlbHMiLCJhc0h0bWwiLCJuZXdMaW5lQ2hhciIsInRhYkNoYXIiLCJ2YWxTdHIiLCJfZm9ybWF0UHJvcGVydHlBc0hUTUwiLCJfZm9ybWF0UHJvcGVydHlBc1BsYWluVGV4dCIsIl9mb3JtYXQiLCJjcmVhdGVTcGVjaWZpY0VsZW1lbnRzXzEiLCJMb2dpblBvcHVwIiwiX2xvZ2luQ2FsbGJhY2siLCJ1c2VybmFtZUVsZW1zIiwidXNlcm5hbWUiLCJwYXNzd29yZEVsZW1zIiwicGFzc3dvcmQiLCJUb2FzdFBvcHVwIiwic2hvd0ZvciIsIl9zaG93Rm9yIiwic2NyaXB0TG9hZGVyXzEiLCJ1cmxfMSIsIlJvdXRlciIsIl9yb3V0ZSIsIl9sb2FkZXIiLCJhamF4IiwiYWpheERldGFpbHMiLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJBY3RpdmVYT2JqZWN0IiwiX2dldFhtbFJlcXVlc3RPYmplY3QiLCJzdWNjZXNzQ2IiLCJlcnJvckNiIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlQ29kZSIsIl9pc1ZhbGlkUmVzcG9uc2UiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJfYXNzaWduWG1sUmVxdWVzdENhbGxiYWNrcyIsInJlcXVlc3RVcmwiLCJoZWFkZXJQYXJhbXMiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsIl9hZGRIZWFkZXJEYXRhIiwidXJsUGFyYW1zIiwicmVxSGVhZGVyVHlwZSIsIkZvcm1EYXRhIiwiX3NldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwiX3NlbmRYbWxSZXF1ZXN0IiwiX2lubmVyQWpheCIsImxvYWRGaWxlIiwiZmlsZURldGFpbHMiLCJfaW5uZXJMb2FkRmlsZSIsImZpbGVuYW1lIiwic2F2ZUZpbGUiLCJCbG9iIiwibmF2aWdhdG9yIiwibXNTYXZlT3JPcGVuQmxvYiIsIm1zU2F2ZUJsb2IiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJfZ2VuZXJhdGVEb3dubG9hZCIsIl9pbm5lclNhdmVGaWxlIiwic2hpZWxkXzEiLCJMb2FkaW5nU2hpZWxkIiwibG9hZGluZ1RleHQiLCJfbG9hZGluZ1RleHQiLCJpY29uIiwiZnJvbSIsInRvIiwiQnVja2V0SGVscGVyIiwidGhpbmdzIiwiZ2V0QnVja2V0IiwiYnVja2V0IiwiVEhFTUVfQkdfQ09MT1JfQ0xTIiwiVEhFTUVfQ09MT1JfQ0xTIiwiVEhFTUVfQ09MT1JfSE9WRVJfQ0xTIiwiX19pbXBvcnRTdGFyIiwibW9kIiwiaW50ZXJmYWNlcyIsInN2Z0RlZmluaXRpb25zIiwic3ZnRHJhd2FibGUiLCJzdmdIZWxwZXJzIiwiYWRkaXRpb25hbFBhdGhzIiwiZ3JvdXBFbGVtZW50XzEiLCJzdmdEZWZpbml0aW9uc18xIiwiZHJhZ2dhYmxlV3JhcHBlcl8xIiwiU1ZHRHJhd2FibGUiLCJfYm91bmRzIiwiX2luaXRpYWxpemVJbnRlcm5hbFNpemluZyIsIl92ZXJpZnlWaWV3TWVldHNBc3BlY3RSYXRpbyIsIl92aWV3IiwiX2dyb3VwIiwiZ3V0dGVyIiwiYXV0b19yZXNpemUiLCJ6b29tX3giLCJ6b29tX3kiLCJwYW5feCIsInBhbl95IiwicHJldmVudF9ldmVudHMiLCJkZWZzIiwiY29yZUdyb3VwIiwiX29uWm9vbSIsIl9vblBhbiIsImlzTm9uU3RhbmRhcmQiLCJ4QW10IiwieUFtdCIsInhVbml0IiwieVVuaXQiLCJnZW5lcmF0ZVZpZXdib3hBdHRyaWJ1dGUiLCJjYWxjdWxhdGVTVkdXaWR0aCIsImNhbGN1bGF0ZVNWR0hlaWdodCIsInZfYm94IiwiZXhwZWN0ZWRSYXRpbyIsImN1cnJlbnRSYXRpbyIsIl9jYWxjdWxhdGVWaWV3IiwiX2NvbnZlcnRDb29yZGluYXRlcyIsIm51bWVyYXRvciIsImRlbm9taW5hdG9yIiwieF9yYXRpbyIsInlfcmF0aW8iLCJtZWFzdXJlIiwiX2NvbnZlcnREaXN0YW5jZSIsImFkZFBhdGgiLCJfYWRkRWxlbWVudExpc3RlbmVyIiwiYWRkUmVjdGFuZ2xlIiwiYWRkQ2lyY2xlIiwiYWRkUGVyZmVjdEFyYyIsImFkZFBpZVNsaWNlIiwiYWRkUmVndWxhclBvbHlnb24iLCJhZGRSZWd1bGFyU3RhciIsImFkZFRleHQiLCJhZGRGbG93YWJsZVRleHQiLCJhZGRHcm91cCIsImFkZFNoYXBlIiwicGF0aFBvaW50cyIsImRlZ3JlZSIsInJvdGF0ZUFyb3VuZCIsImFyY18xIiwicG9seWdvbl8xIiwidGVzdF8xIiwiY29uc29sZVVuaXRUZXN0VWlfMSIsIkNvbnNvbGVVbml0VGVzdGVyIiwiX191aSIsImh0bWxVbml0VGVzdFVpXzEiLCJIVE1MVW5pdFRlc3RlciIsImFkZFZpc3VhbFRlc3RCdXR0b24iLCJWaWV3Il0sIm1hcHBpbmdzIjoiNkRBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBMERmLE9BckRBRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9B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T0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLElBQ3REMmIsRUFBUyxFQUFRLE1BQ2pCQSxFQUFTLEVBQVEsTUFDakJBLEVBQVMsRUFBUSxPLDZCQ05qQmxjLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxJQUN0RCxNQUFNNjlFLEVBQVMsRUFBUSxJQUNqQkksRUFBbUIsRUFBUSxLQVNqQyxNQUFNQyxVQUF1QkwsRUFBTzV5QyxXQUNoQyxVQUNJLE9BQUl4aUMsS0FBS3UxRSxLQUNFdjFFLEtBQUt1MUUsTUFFaEJ2MUUsS0FBS3UxRSxLQUFPLElBQUlDLEVBQWlCcHdCLGVBQzFCcGxELEtBQUt1MUUsTUFFaEIsV0FBV3Z0RSxFQUFPMnFDLEdBQ2QzeUMsS0FBSzhpQyxJQUFJTyxjQUFjcjdCLEdBQ3ZCLElBQUssSUFBSXVpQixLQUFPb29CLEVBQ1ozeUMsS0FBSzhpQyxJQUFJNHlDLG9CQUFvQm5yRCxJQUl6Q24wQixFQUFRcS9FLGVBQWlCQSxHLDZCQ3ZCekJ6K0UsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLElBSHRELFNBQWtCYixHQUNkLElBQUssSUFBSTBCLEtBQUsxQixFQUFRTixFQUFRK0IsZUFBZUMsS0FBSWhDLEVBQVFnQyxHQUFLMUIsRUFBRTBCLElBR3BFOGEsQ0FBUyxFQUFRLE8sNkJDSmpCbGMsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLElBQ3RELE1BQU1rTCxFQUFhLEVBQVEsR0FTM0IsTUFBTWt6RSxVQUFhbHpFLEVBQVc3QyxTQU0xQixVQUFVNmpDLElBU1YsZ0JBQWdCeW5DLEdBRVosT0FBTyxFQVFYLGVBQWVBLEdBRVgsT0FBTyxNQUdmOTBFLEVBQVF1L0UsS0FBT0EiLCJmaWxlIjoidG9vbGtpcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMDYpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjc3NfMSA9IHJlcXVpcmUoXCIuLi9zdHlsZUhlbHBlcnMvY3NzXCIpO1xuY29uc3Qgc3R5bGVzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL3N0eWxlc1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gcmVxdWlyZShcIi4uL2JpbmRpbmcvaGVscGVyXCIpO1xuY29uc3QgX3R5cGVndWFyZHNfMSA9IHJlcXVpcmUoXCIuLi9kcmF3YWJsZS9fdHlwZWd1YXJkc1wiKTtcbmNvbnN0IG5hdmlnYXRlXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9uYXZpZ2F0ZVwiKTtcbmNvbnN0IGZhbHNleV8xID0gcmVxdWlyZShcIi4uL3R5cGVHdWFyZHMvZmFsc2V5XCIpO1xuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBQVUJMSUMgRlVOQ1RJT05TIEZPUiBDUkVBVElORyBFTEVNRU5UU1xuLyoqXG4gKiBjcmVhdGVTaW1wbGVFbGVtZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGVzIGEgZGl2IGVsZW1lbnQgd2l0aCB0aGUgcHJvdmlkZWQgaWQsIGNsYXNzLCBjb250ZW50LCBhbmQgYXR0cmlidXRlcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgSUQgdG8gYXNzaWduIHRoZSBlbGVtZW50IHtvcHRpb25hbH1cbiAqIEBwYXJhbSB7c3RyaW5nfSBjbHMgLSBUaGUgY2xhc3MgdG8gYXNzaWduIHRoZSBlbGVtZW50IHtvcHRpb25hbH1cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IC0gV2hhdCB0byBpbmNsdWRlIGFzIHRoZSBjb250ZW50cyBvZiB0aGUgZGl2IHtvcHRpb25hbH1cbiAqIEBwYXJhbSB7YXJyfSBhdHRyIC0gQW4gYXJyYXkgb2Yga2V5LXZhbHVlIHBhaXJzIHRoYXQgc2V0cyBhbGwgb3RoZXIgYXR0cmlidXRlcyBmb3IgdGhlIGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIGNyZWF0ZWQgZWxlbWVudCwgd2l0aCBhbGwgc3BlY2lmaWVkIHBhcmFtZXRlcnMgaW5jbHVkZWQuXG4gKlxuICovXG5mdW5jdGlvbiBjcmVhdGVTaW1wbGVFbGVtZW50KGlkLCBjbHMsIGNvbnRlbnQsIGF0dHIsIGNoaWxkcmVuLCBwYXJlbnQpIHtcbiAgICBsZXQgb2JqO1xuICAgIG9iaiA9IHt9O1xuICAgIG9iai5pZCA9IGlkOyAvLyBTZXQgdGhlIGVsZW1lbnQncyBJRFxuICAgIG9iai50eXBlID0gXCJkaXZcIjsgLy8gU2V0IHRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gY3JlYXRlXG4gICAgb2JqLmNvbnRlbnQgPSBjb250ZW50OyAvLyBTZXQgd2hhdCB0aGUgY29udGVudCBvZiB0aGUgZWxlbWVudCBzaG91bGQgYmVcbiAgICBvYmouY2xzID0gY2xzOyAvLyBTZXQgdGhlIGFwcHJvcHJpYXRlIENTUyBjbGFzcyBmb3IgdGhlIGVsZW1lbnRcbiAgICBvYmouYXR0ciA9IGF0dHI7IC8vIFNldCBhIGxpc3Qgb2YgYXR0cmlidXRlcyBmb3IgdGhlIGVsZW1lbnRcbiAgICBvYmouY2hpbGRyZW4gPSBjaGlsZHJlbjsgLy8gQXR0YWNoIGNoaWxkcmVuIHRvIHRvIHRoZSBlbGVtZW50XG4gICAgb2JqLnBhcmVudCA9IHBhcmVudDsgLy8gQXR0YWNoIHRoZSBjcmVhdGVkIGVsZW1lbnQgdG8gdGhlIGFwcHJvcHJpYXRlIHBhcmVudFxuICAgIC8vIFVzZSBvdXIgc3RhbmRhcmQgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGVsZW1lbnRzXG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQob2JqKTtcbn1cbmV4cG9ydHMuY3JlYXRlU2ltcGxlRWxlbWVudCA9IGNyZWF0ZVNpbXBsZUVsZW1lbnQ7XG47XG4vKipcbiAqIGNyZWF0ZUVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlcyBhbiBIVE1MIGVsZW1lbnQgd2l0aCB0aGUgYXR0cmlidXRlcyB0aGF0IGFyZSBwYXNzZWQgaW4gdGhyb3VnaCB0aGVcbiAqIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gICBvYmogICAgICAgICAgICAgVGhlIG9iamVjdCB0byBiYXNlIHRoZSBlbGVtZW50IG9mZiBvZlxuICogQHBhcmFtICAgW2tleWVkRWxlbXNdICAgIElmIHByb3ZpZGVkLCB0aGUgZWxlbWVudHMgdGhhdCB3ZXJlIGNyZWF0ZWQgd2l0aCBhIGtleVxuICpcbiAqIEByZXR1cm5zIFRoZSBIVE1MIGVsZW1lbnQgd2l0aCBhbGwgYXR0cmlidXRlcyBzcGVjaWZpZWQgYnkgdGhlIG9iamVjdFxuICovXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KG9iaiwga2V5ZWRFbGVtcykge1xuICAgIGlmICghb2JqKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIF9jcmVhdGVFbGVtZW50Q29yZShvYmosIGtleWVkRWxlbXMpO1xufVxuZXhwb3J0cy5jcmVhdGVFbGVtZW50ID0gY3JlYXRlRWxlbWVudDtcbi8qKlxuICogY3JlYXRlQ3VzdG9tRWxlbWVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlcyBhbiBIVE1MIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGF0dHJpYnV0ZXMsIGJ1dCBhbGxvd3MgZm9yXG4gKiBhZGRpdGlvbmFsIHByb2Nlc3Npbmcgb24gdGhlIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIG9iaiAgICAgICAgICAgVGhlIG9iamVjdCB0byBiYXNlIHRoZSBlbGVtZW50IG9mZiBvZlxuICogQHBhcmFtIGtleWVkRWxlbXMgICAgSWYgcHJvdmlkZWQsIHRoZSBlbGVtZW50cyB0aGF0IHdlcmUgY3JlYXRlZCB2aWEgYSBrZXlcbiAqIEBwYXJhbSByZWN1cnNlVmlhICAgIFRoZSBjdXN0b20gZnVuY3Rpb24gd2Ugc2hvdWxkIHJlY3Vyc2UgdGhyb3VnaFxuICpcbiAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ3VzdG9tRWxlbWVudChvYmosIGtleWVkRWxlbXMsIHJlY3Vyc2VWaWEpIHtcbiAgICBpZiAoIW9iaikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBfY3JlYXRlRWxlbWVudENvcmUob2JqLCBrZXllZEVsZW1zLCByZWN1cnNlVmlhKTtcbn1cbmV4cG9ydHMuY3JlYXRlQ3VzdG9tRWxlbWVudCA9IGNyZWF0ZUN1c3RvbUVsZW1lbnQ7XG4vKipcbiAqIGNyZWF0ZVNWR0VsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY3JlYXRlIGEgU1ZHIGVsZW1lbnQgc3BlY2lmaWNhbGx5XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNWR0VsZW1lbnQob2JqLCBrZXllZEVsZW1zKSB7XG4gICAgaWYgKCFvYmopIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIW9iai5uYW1lc3BhY2UpIHtcbiAgICAgICAgb2JqLm5hbWVzcGFjZSA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbiAgICB9XG4gICAgcmV0dXJuIF9jcmVhdGVFbGVtZW50Q29yZShvYmosIGtleWVkRWxlbXMpO1xufVxuZXhwb3J0cy5jcmVhdGVTVkdFbGVtZW50ID0gY3JlYXRlU1ZHRWxlbWVudDtcbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gSU5URVJOQUwgRlVOQ1RJT05TIEZPUiBDUkVBVElORyBFTEVNRU5UU1xuLyoqXG4gKiBfY3JlYXRlRWxlbWVudENvcmVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY3JlYXRlIGEgRE9NIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGRldGFpbHNcbiAqL1xuZnVuY3Rpb24gX2NyZWF0ZUVsZW1lbnRDb3JlKG9iaiwga2V5ZWRFbGVtcywgcmVjdXJzZVZpYSkge1xuICAgIGxldCBlbGVtO1xuICAgIGxldCBkcmF3YWJsZTtcbiAgICBpZiAob2JqLmRyYXdhYmxlKSB7XG4gICAgICAgIGRyYXdhYmxlID0gbmV3IG9iai5kcmF3YWJsZSgpO1xuICAgICAgICBlbGVtID0gZHJhd2FibGUuYmFzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVsZW0gPSBfY3JlYXRlU3RhbmRhcmRFbGVtZW50KG9iaik7XG4gICAgfVxuICAgIC8vIG1ha2Ugc3VyZSB3ZSBjYW4gcmVjdXJzZSBlZmZlY3RpdmVseVxuICAgIGlmICghcmVjdXJzZVZpYSkge1xuICAgICAgICByZWN1cnNlVmlhID0gX2NyZWF0ZUVsZW1lbnRDb3JlO1xuICAgIH1cbiAgICAvLyBzZXQgYXR0cmlidXRlcyBvZiB0aGUgZWxlbWVudFxuICAgIF9zZXRFbGVtSWRlbnRmaWVycyhlbGVtLCBvYmosIGtleWVkRWxlbXMsIGRyYXdhYmxlKTtcbiAgICBfc2V0RWxlbUNsYXNzKGVsZW0sIG9iaik7XG4gICAgX3NldEVsZW1BdHRyaWJ1dGVzKGVsZW0sIG9iaik7XG4gICAgX3NldEVsZW1TdHlsZShlbGVtLCBvYmopO1xuICAgIF9zZXRFdmVudExpc3RlbmVycyhlbGVtLCBvYmopO1xuICAgIF9zZXRLaXBUb29sdGlwKGVsZW0sIG9iaik7XG4gICAgLy8gc2V0IGNvbnRlbnQgb2YgdGhlIGVsZW1lbnRcbiAgICBfc2V0RWxlbUJhc2VDb250ZW50KGVsZW0sIG9iaik7XG4gICAgX2FkZEVsZW1DaGlsZHJlbihlbGVtLCBvYmosIGtleWVkRWxlbXMsIHJlY3Vyc2VWaWEpO1xuICAgIF9zZXRFbGVtUG9zdENoaWxkcmVuQ29udGVudChvYmosIGVsZW0pO1xuICAgIC8vIGFwcGVuZCB0aGUgZWxlbWVudCB0byBhbiBhcHByb3ByaWF0ZSBwYXJlbnRcbiAgICBfYXBwZW5kRWxlbVRvUGFyZW50KG9iaiwgZWxlbSk7XG4gICAgcmV0dXJuIGVsZW07XG59XG4vKipcbiAqIF9jcmVhdGVTdGFuZGFyZEVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY3JlYXRlIHRoZSBhcHByb3Byb2F0ZSB0eXBlIG9mIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gX2NyZWF0ZVN0YW5kYXJkRWxlbWVudChvYmopIHtcbiAgICBsZXQgZWxlbTtcbiAgICBsZXQgdHlwZSA9IG9iai50eXBlIHx8IFwiZGl2XCI7XG4gICAgaWYgKG9iai5uYW1lc3BhY2UpIHtcbiAgICAgICAgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhvYmoubmFtZXNwYWNlLCB0eXBlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gZWxlbTtcbn1cbi8qKlxuICogX3NldEVsZW1JZGVudGlmaWVyc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBhc3NpZ24gYW4gSUQgdG8gdGhpcyBlbGVtZW50LCBhbmQgYWRkIGl0IHRvIHRoZSBrZXllZCBhcnJheSBpZiBhcHByb3ByaWF0ZVxuICovXG5mdW5jdGlvbiBfc2V0RWxlbUlkZW50ZmllcnMoZWxlbSwgb2JqLCBrZXllZEVsZW1zLCBkcmF3YWJsZSkge1xuICAgIC8vIHNldCB0aGUgaWQgb24gdGhlIG5ld2x5IGNyZWF0ZWQgb2JqZWN0XG4gICAgaWYgKG9iai5pZCkge1xuICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZShcImlkXCIsIG9iai5pZCk7XG4gICAgfVxuICAgIC8vIGlmIHRoZXJlIGlzIGEga2V5LCBhZGQgdGhpcyBlbGVtZW50IHRvIHRoZSBrZXllZCBlbGVtZW50c1xuICAgIGlmIChvYmoua2V5ICYmIGtleWVkRWxlbXMpIHtcbiAgICAgICAgaWYgKGRyYXdhYmxlKSB7XG4gICAgICAgICAgICBrZXllZEVsZW1zW29iai5rZXldID0gZHJhd2FibGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBrZXllZEVsZW1zW29iai5rZXldID0gZWxlbTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogX3NldEVsZW1DbGFzc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBzZXQgdGhlIENTUyBjbGFzcyBvZiB0aGlzIGVsZW1lbnQgKGluY2x1ZGluZyBjcmVhdGluZyBpdCBpZiBpdCBkb2Vzbid0XG4gKiBleGlzdClcbiAqL1xuZnVuY3Rpb24gX3NldEVsZW1DbGFzcyhlbGVtLCBvYmopIHtcbiAgICBpZiAoIW9iai5jbHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBDaGVjayB0aGF0IHRoZSBjbGFzcyBpcyBhIHN0cmluZyBiZWZvcmUgc2V0dGluZyBpdFxuICAgIGlmICh0eXBlb2Ygb2JqLmNscyA9PT0gdHlwZW9mIFwic3RyaW5nXCIpIHtcbiAgICAgICAgY3NzXzEuYWRkQ2xhc3MoZWxlbSwgb2JqLmNscyk7XG4gICAgICAgIC8vIElmIGl0J3MgYW4gb2JqZWN0LCB3ZSBuZWVkIHRvIGNyZWF0ZSB0aGUgY2xhc3MoZXMpIGZpcnN0XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBvYmouY2xzID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIG5hdmlnYXRlXzEubWFwKG9iai5jbHMsICh2YWx1ZSwgc2VsZWN0b3IpID0+IHtcbiAgICAgICAgICAgIHN0eWxlc18xLmNyZWF0ZUNsYXNzKHNlbGVjdG9yLCB2YWx1ZSk7XG4gICAgICAgICAgICBjc3NfMS5hZGRDbGFzcyhlbGVtLCBzZWxlY3Rvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gQVRUUklCVVRFIFNQRUNJRklDXG4vKipcbiAqIF9zZXRFbGVtQXR0cmlidXRlc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBzZXQgYW55IGFkZGl0aW9uYWwgYXR0cmlidXRlcyBmb3IgdGhlIGVsZW1lbnQgdGhhdCBhcmVuJ3QgZGVmaW5lZCBhcyBjb21tb25cbiAqIGVub3VnaCB0byBiZSBvbiB0aGUgYmFzZSBlbGVtIGRlZmluaXRpb25cbiAqL1xuZnVuY3Rpb24gX3NldEVsZW1BdHRyaWJ1dGVzKGVsZW0sIG9iaikge1xuICAgIC8vIGlmIHdlIGRvbid0IGhhdmUgYW4gYXR0cmlidXRlcyBhcnJheSwgd2Ugd2FudCBvbmVcbiAgICBpZiAoIW9iai5hdHRyKSB7XG4gICAgICAgIG9iai5hdHRyID0ge307XG4gICAgfVxuICAgIC8vIGhhbmRsZSBhY2Nlc3NpYmlsaXR5IG9uIGVsZW1lbnRzIHRoYXQgY2FuIGJlIHNlbGVjdGVkXG4gICAgaWYgKF9pc0ZvY3VzYWJsZShvYmopKSB7XG4gICAgICAgIG9iai5mb2N1c2FibGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoX25lZWRzVGFiSW5kZXgob2JqKSkge1xuICAgICAgICBvYmouYXR0ci50YWJpbmRleCA9IDA7XG4gICAgfVxuICAgIC8vIGxvb3Agb3ZlciBhbGwgb2YgdGhlIGF0dHJpYnV0ZXNcbiAgICBuYXZpZ2F0ZV8xLm1hcChvYmouYXR0ciwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgaWYgKGZhbHNleV8xLmlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZS5rZXkpIHtcbiAgICAgICAgICAgIGxldCBwYWlyID0gdmFsdWU7XG4gICAgICAgICAgICBfc2V0RWxlbUF0dHJpYnV0ZShlbGVtLCBwYWlyLmtleSwgcGFpci52YWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3NldEVsZW1BdHRyaWJ1dGUoZWxlbSwga2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogX2lzRm9jdXNhYmxlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNoZWNrcyBpZiB0aGlzIGVsZW1lbnQgc2hvdWxkIGJlIGFibGUgdG8gcmVjZWl2ZSBmb2N1c1xuICovXG5mdW5jdGlvbiBfaXNGb2N1c2FibGUob2JqKSB7XG4gICAgaWYgKCFmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChvYmouZm9jdXNhYmxlKSkge1xuICAgICAgICByZXR1cm4gb2JqLmZvY3VzYWJsZTtcbiAgICB9XG4gICAgaWYgKCFvYmouZXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIW9iai5ldmVudExpc3RlbmVycy5jbGljaykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBfbmVlZHNUYWJJbmRleFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjaGVjayBpZiB0aGlzIGVsZW1lbnQgc2hvdWxkIGJlIGdldHRpbmcgYSB0YWIgaW5kZXggdmFsdWVcbiAqL1xuZnVuY3Rpb24gX25lZWRzVGFiSW5kZXgob2JqKSB7XG4gICAgaWYgKCFfaXNGb2N1c2FibGUob2JqKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChvYmouYXR0ci50YWJJbmRleCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBfc2V0RWxlbUF0dHJpYnV0ZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBzZXRzIHRoZSBhY3R1YWwgY29udGVudHMgb2YgYSBwYXJ0aWN1bGFyIGF0dHJpYnV0ZVxuICovXG5mdW5jdGlvbiBfc2V0RWxlbUF0dHJpYnV0ZShlbGVtLCBrZXksIHZhbHVlKSB7XG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgLy8gdmFsdWUgZ2V0cyBzcGVjaWFsIGhhbmRsaW5nXG4gICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgZWxlbS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIGV2ZXJ5dGhpbmcgZWxzZSBnb2VzIHRocm91Z2ggc2V0IGF0dHJpYnV0ZVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vKipcbiAqIF9zZXRFbGVtU3R5bGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogc2V0IHRoZSBhcHByb3ByaWF0ZSBlbGVtZW50LWxldmVsIHN0eWxlcyBmb3IgdGhpcyBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIF9zZXRFbGVtU3R5bGUoZWxlbSwgb2JqKSB7XG4gICAgaWYgKCFvYmouc3R5bGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBuYXZpZ2F0ZV8xLm1hcChvYmouc3R5bGUsICh2YWwsIGtleSkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlW2tleV0gPSB2YWw7XG4gICAgfSk7XG59XG4vKipcbiAqIF9zZXRFdmVudExpc3RlbmVyc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBnbyB0aHJvdWdoIGFueSByZWdpc3RlcmVkIGV2ZW50IGxpc3RlbmVycyBvbiB0aGlzIGVsZW1lbnQgYW5kIGFzc2lnbiB0aGVtXG4gKi9cbmZ1bmN0aW9uIF9zZXRFdmVudExpc3RlbmVycyhlbGVtLCBvYmopIHtcbiAgICBpZiAoIW9iai5ldmVudExpc3RlbmVycykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGlmIHRoaXMgaXMgYW4gYWNjZXNzaWJsZSBvYmplY3QgYW5kIGl0IGNhbiB0YWtlIGZvY3VzLCBhZGQga2V5YmFvcmQgbGlzdGVuZXJzIHRvb1xuICAgIGlmIChvYmouZm9jdXNhYmxlICYmIG9iai5ldmVudExpc3RlbmVycy5jbGljayAmJiAhb2JqLmV2ZW50TGlzdGVuZXJzLmtleXByZXNzKSB7XG4gICAgICAgIGxldCBjbGlja0Z1bmMgPSBvYmouZXZlbnRMaXN0ZW5lcnMuY2xpY2s7XG4gICAgICAgIG9iai5ldmVudExpc3RlbmVycy5rZXlwcmVzcyA9IChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlICE9PSAxMyAmJiBlLmtleUNvZGUgIT09IDMyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xpY2tGdW5jKGUpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9O1xuICAgICAgICBsZXQgcHJldmVudEZvY3VzID0gZmFsc2U7XG4gICAgICAgIG9iai5ldmVudExpc3RlbmVycy5tb3VzZWRvd24gPSAoZSkgPT4ge1xuICAgICAgICAgICAgcHJldmVudEZvY3VzID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsZW0uYmx1cigpO1xuICAgICAgICB9O1xuICAgICAgICBvYmouZXZlbnRMaXN0ZW5lcnMubW91c2V1cCA9IChlKSA9PiB7XG4gICAgICAgICAgICBwcmV2ZW50Rm9jdXMgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgb2JqLmV2ZW50TGlzdGVuZXJzLmZvY3VzID0gKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChwcmV2ZW50Rm9jdXMpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZWxlbS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBsb29wIHRocm91Z2ggYWxsIGxpc3RlbmVycyB0byBhZGQgdGhlbSB0byB0aGUgZWxlbWVudFxuICAgIG5hdmlnYXRlXzEubWFwKG9iai5ldmVudExpc3RlbmVycywgKGxpc3RlbmVyLCBrZXkpID0+IHtcbiAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKGtleSwgbGlzdGVuZXIpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBfc2V0S2lwVG9vbHRpcFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBzZXQgYSBtb3JlIFVJLWZvY3VzZWQgdG9vbHRpcCBvbiBhIHBhcnRpY3VsYXIgZWxlbWVudFxuICovXG5mdW5jdGlvbiBfc2V0S2lwVG9vbHRpcChlbGVtLCBvYmopIHtcbiAgICBpZiAoIW9iai50b29sdGlwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gRklYTUU6IGRvbid0IGhhdmUgY2lyY3VsYXIgcmVmZXJlbmNlXG4gICAgLy9uZXcgVG9vbHRpcCh7IGNvbnRlbnQ6IG9iai50b29sdGlwIH0sIGVsZW0gYXMgSFRNTEVsZW1lbnQpO1xufVxuLyoqXG4gKiBfc2V0RWxlbUJhc2VDb250ZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHNldCB0aGUgaW5pdGlhbCBjb250ZW50IG9mIHRoZSBlbGVtZW50LCB3aGljaCB3aWxsIGJlIHJlbmRlcmVkIGJlZm9yZSBhbnlcbiAqIGNoaWxkcmVuIGFyZSBhZGRlZFxuICovXG5mdW5jdGlvbiBfc2V0RWxlbUJhc2VDb250ZW50KGVsZW0sIG9iaikge1xuICAgIC8vIFNldCB0aGUgZmlyc3QgYml0IG9mIGNvbnRlbnQgaW4gdGhlIGVsZW1lbnQgKGd1YXJhbnRlZWQgdG8gY29tZSBiZWZvcmUgY2hpbGRyZW4pXG4gICAgaWYgKG9iai5iZWZvcmVfY29udGVudCkge1xuICAgICAgICBlbGVtLmlubmVySFRNTCA9IG9iai5iZWZvcmVfY29udGVudDtcbiAgICB9XG4gICAgLy8gQWxzbyBjaGVjayBmb3IganVzdCBwbGFpbiBcIkNvbnRlbnRcIlxuICAgIGlmIChvYmouY29udGVudCkge1xuICAgICAgICBlbGVtLmlubmVySFRNTCArPSBvYmouY29udGVudDtcbiAgICB9XG4gICAgLy8gYWxzbyBjaGVjayBmb3IgYm91bmQgY29udGVudDsgaWYgd2UgZmluZCBpdCwgYWRkIG91ciBvd24gY29udGVudCB1cGRhdGVyXG4gICAgaWYgKG9iai5ib3VuZENvbnRlbnQpIHtcbiAgICAgICAgZWxlbS5pbm5lckhUTUwgPSBoZWxwZXJfMS5iaW5kKG9iai5ib3VuZENvbnRlbnQsIChuZXdWYWwpID0+IHtcbiAgICAgICAgICAgIGVsZW0uaW5uZXJIVE1MID0gbmV3VmFsO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIF9hZGRFbGVtQ2hpbGRyZW5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogYWRkIGFueSBhcHByb3ByaWF0ZSBjaGlsZHJlbiB0byB0aGlzIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gX2FkZEVsZW1DaGlsZHJlbihlbGVtLCBvYmosIGtleWVkRWxlbXMsIHJlY3Vyc2VWaWEpIHtcbiAgICBpZiAoIW9iai5jaGlsZHJlbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGxvb3AgdGhyb3VnaCBlYWNoIGNoaWxkXG4gICAgZm9yIChsZXQgYyBvZiBvYmouY2hpbGRyZW4pIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZXJlIGlzIGEgY2hpbGRcbiAgICAgICAgaWYgKCFjKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJjYW5ub3QgYXBwZW5kIG5vbi1leGlzdGVudCBjaGlsZCBlbGVtZW50XCIpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIGNoaWxkIGlzIGEgZHJhd2FibGUsIGRyYXcgaXQgb24gdGhlIGJhc2VcbiAgICAgICAgaWYgKChfdHlwZWd1YXJkc18xLmlzRHJhd2FibGUoYykpKSB7XG4gICAgICAgICAgICBjLmRyYXcoZWxlbSk7XG4gICAgICAgICAgICAvLyBpZiB0aGUgY2hpbGQgaXMgYWxyZWFkeSBhbiBlbGVtZW50LCBqdXN0IGFkZCBpdFxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMuc2V0QXR0cmlidXRlKSB7XG4gICAgICAgICAgICBlbGVtLmFwcGVuZENoaWxkKGMpO1xuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCByZWN1cnNlIHRvIGNyZWF0ZSB0aGlzIGNoaWxkXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgZGVmID0gYztcbiAgICAgICAgICAgIGlmIChvYmoubmFtZXNwYWNlKSB7XG4gICAgICAgICAgICAgICAgZGVmLm5hbWVzcGFjZSA9IG9iai5uYW1lc3BhY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSByZWN1cnNlVmlhKGRlZiwga2V5ZWRFbGVtcyk7XG4gICAgICAgICAgICBlbGVtLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogX3NldEVsZW1Qb3N0Q2hpbGRyZW5Db250ZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGlmIHRoZXJlIGlzIGNvbnRlbnQgc3BlY2lmaWVkIGFmdGVyIGNoaWxkcmVuLCBzZXQgaXQgaGVyZVxuICovXG5mdW5jdGlvbiBfc2V0RWxlbVBvc3RDaGlsZHJlbkNvbnRlbnQob2JqLCBlbGVtKSB7XG4gICAgaWYgKCFvYmouYWZ0ZXJfY29udGVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsZW0uaW5uZXJIVE1MICs9IG9iai5hZnRlcl9jb250ZW50O1xufVxuLyoqXG4gKiBfYXBwZW5kRWxlbVRvUGFyZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGFkZCB0aGlzIGVsZW1lbnQgdG8gYSBwYXJlbnQgZWxlbWVudFxuICovXG5mdW5jdGlvbiBfYXBwZW5kRWxlbVRvUGFyZW50KG9iaiwgZWxlbSkge1xuICAgIGlmICghb2JqLnBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIG9iai5wYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbSk7XG59XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi9wcmltaXRpdmVIZWxwZXJzL3N0cmluZ3NcIik7XG5jb25zdCBfdHlwZWd1YXJkc18xID0gcmVxdWlyZShcIi4uL2RyYXdhYmxlL190eXBlZ3VhcmRzXCIpO1xuLyoqXG4gKiBhZGRDbGFzc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQWxsb3dzIGEgdXNlciB0byBzYWZlbHkgYWRkIGEgQ1NTIGNsYXNzIHRvIGFuIGVsZW1lbnQncyBleGlzdGluZyBsaXN0IG9mIENTUyBjbGFzc2VzXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSAgIGVsZW0gICAgICBUaGUgZWxlbWVudCB0aGF0IHNob3VsZCBoYXZlIGl0cyBjbGFzcyB1cGRhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgIG5ld0NsYXNzICBUaGUgY2xhc3MgdG8gYWRkIHRoZSBlbGVtZW50XG4gKlxuICovXG5mdW5jdGlvbiBhZGRDbGFzcyhlbGVtLCBuZXdDbGFzcykge1xuICAgIGxldCBjbHM7XG4gICAgbGV0IGU7XG4gICAgaWYgKCFlbGVtIHx8ICFuZXdDbGFzcylcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIEhhbmRsZSBEcmF3YWJsZXMgYmVpbmcgcGFzc2VkIGluXG4gICAgaWYgKF90eXBlZ3VhcmRzXzEuaXNEcmF3YWJsZShlbGVtKSkge1xuICAgICAgICBlID0gZWxlbS5iYXNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZSA9IGVsZW07XG4gICAgfVxuICAgIC8vIFN0aWxsIHN1cG9ydCBzZXR0aW5nIHRoZSBjbGFzcyBpZiB0aGUgY2xhc3MgaXMgbm90IG9yaWdpbmFsbHkgc2V0XG4gICAgY2xzID0gZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICBpZiAoIWNscykge1xuICAgICAgICBlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIG5ld0NsYXNzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjbHMgPSBcIiBcIiArIGNscyArIFwiIFwiO1xuICAgIGlmIChjbHMuaW5kZXhPZihcIiBcIiArIG5ld0NsYXNzICsgXCIgXCIpID09PSAtMSkge1xuICAgICAgICBjbHMgPSBjbHMgKyBuZXdDbGFzcztcbiAgICAgICAgZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBzdHJpbmdzXzEudHJpbShjbHMpKTtcbiAgICB9XG59XG5leHBvcnRzLmFkZENsYXNzID0gYWRkQ2xhc3M7XG47XG4vKipcbiAqIHJlbW92ZUNsYXNzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBbGxvd3MgYSB1c2VyIHRvIHNhZmVseSByZW1vdmUgYSBDU1MgY2xhc3MgdG8gYW4gZWxlbWVudCdzIGV4aXN0aW5nIGxpc3Qgb2YgQ1NTIGNsYXNzZXNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW0gICAgICBUaGUgZWxlbWVudCB0aGF0IHNob3VsZCBoYXZlIGl0cyBjbGFzcyB1cGRhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICBuZXdDbGFzcyAgVGhlIGNsYXNzIHRvIHJlbW92ZSBmcm9tIHRoZSBlbGVtZW50XG4gKlxuICovXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtLCBvbGRDbGFzcykge1xuICAgIDtcbiAgICBsZXQgY2xzO1xuICAgIGxldCBsZW47XG4gICAgbGV0IGU7XG4gICAgLy8gUXVpdCBpZiB3ZSdyZSBtaXNzaW5nIHNvbWV0aGluZ1xuICAgIGlmICghZWxlbSB8fCAhb2xkQ2xhc3MpXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBIYW5kbGUgRHJhd2FibGVzIGJlaW5nIHBhc3NlZCBpblxuICAgIGlmIChfdHlwZWd1YXJkc18xLmlzRHJhd2FibGUoZWxlbSkpIHtcbiAgICAgICAgZSA9IGVsZW0uYmFzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGUgPSBlbGVtO1xuICAgIH1cbiAgICAvLyBQdWxsIG91dCB0aGUgQ1NTIGNsYXNzXG4gICAgY2xzID0gXCIgXCIgKyBlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpICsgXCIgXCI7XG4gICAgbGVuID0gY2xzLmxlbmd0aDtcbiAgICBjbHMgPSBjbHMucmVwbGFjZShcIiBcIiArIG9sZENsYXNzICsgXCIgXCIsIFwiIFwiKTtcbiAgICAvLyBPbmx5IHJlc2V0IHRoZSBjbGFzcyBhdHRyaWJ1dGUgaWYgaXQgYWN0dWFsbHkgY2hhbmdlZFxuICAgIGlmIChjbHMubGVuZ3RoICE9PSBsZW4pIHtcbiAgICAgICAgZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBzdHJpbmdzXzEudHJpbShjbHMpKTtcbiAgICB9XG59XG5leHBvcnRzLnJlbW92ZUNsYXNzID0gcmVtb3ZlQ2xhc3M7XG47XG4vKipcbiAqIGhhc0NsYXNzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDaGVja3Mgd2hldGhlciBhIHByb3ZpZGVkIEhUTUwgZWxlbWVudCBoYXMgYSBDU1MgY2xhc3MgYXBwbGllZFxuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9ICBlbGVtICBUaGUgZWxlbWVudCB0byBjaGVja1xuICogQHBhcmFtICB7U3RyaW5nfSAgICAgICBjbHMgICBUaGUgQ1NTIGNsYXNzIHRvIGNoZWNrIGZvclxuICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgICAgICBUcnVlIGlmIHRoZSBlbGVtZW50IGhhcyB0aGUgQ1NTIGNsYXNzIGFwcGxpZWQ7IGZhbHNlIG90aGVyd2lzZVxuICpcbiAqL1xuZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbSwgY2xzKSB7XG4gICAgbGV0IGU7XG4gICAgbGV0IGN1cl9jbHM7XG4gICAgaWYgKCFlbGVtKVxuICAgICAgICByZXR1cm47XG4gICAgLy8gSGFuZGxlIERyYXdhYmxlcyBiZWluZyBwYXNzZWQgaW5cbiAgICBpZiAoX3R5cGVndWFyZHNfMS5pc0RyYXdhYmxlKGVsZW0pKSB7XG4gICAgICAgIGUgPSBlbGVtLmJhc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlID0gZWxlbTtcbiAgICB9XG4gICAgLy8gR3JhYiB0aGUgY3VycmVudCBDU1MgY2xhc3MgYW5kIGNoZWNrIGlmIHRoZSBwYXNzZWQtaW4gY2xhc3MgaXMgcHJlc2VudFxuICAgIGN1cl9jbHMgPSBcIiBcIiArIGUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgKyBcIiBcIjtcbiAgICBpZiAoY3VyX2Nscy5pbmRleE9mKFwiIFwiICsgY2xzICsgXCIgXCIpID09PSAtMSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy5oYXNDbGFzcyA9IGhhc0NsYXNzO1xuO1xuLyoqXG4gKiBzZXRQcm9wZXJ0eVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU2V0cyB0aGUgQ1NTIGRlZmluaXRpb24gZm9yIGEgZ2l2ZW4gY2xhc3MgYW5kIGF0dHJpYnV0ZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xzICAgLSBUaGUgY2xhc3MgdG8gY2hhbmdlXG4gKiBAcGFyYW0ge3N0cmluZ30gaXRlbSAgLSBUaGUgYXR0cmlidXRlIHdpdGhpbiB0aGUgY2xhc3MgdG8gdXBkYXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsICAgLSBUaGUgbmV3IHZhbHVlIHRvIHNldCB0aGUgYXR0cmlidXRlIHRvXG4gKiBAcGFyYW0ge2Jvb2x9IGZvcmNlICAgLSBJZiB0cnVlLCB3aWxsIGNyZWF0ZSB0aGUgQ1NTIGF0dHJpYnV0ZSBldmVuIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAqXG4gKiBAcmV0dXJuIHtib29sfSBUcnVlIGlmIHRoZSBDU1Mgd2FzIHN1Y2Nlc3NmdWxseSBzZXQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5mdW5jdGlvbiBzZXRQcm9wZXJ0eShjbHMsIGl0ZW0sIHZhbCwgZm9yY2UpIHtcbiAgICBsZXQgaTtcbiAgICBsZXQgY3NzO1xuICAgIGxldCBzSWR4O1xuICAgIGxldCBydWxlcztcbiAgICBsZXQgcnVsZTtcbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIG9mIHRoZSBzdHlsZXNoZWV0cyB3ZSBoYXZlIGF2YWlsYWJsZVxuICAgIGZvciAoc0lkeCA9IDA7IHNJZHggPCBkb2N1bWVudC5zdHlsZVNoZWV0cy5sZW5ndGg7IHNJZHggKz0gMSkge1xuICAgICAgICAvLyBQdWxsIGluIHRoZSBhcHByb3ByaWF0ZSBpbmRleCBmb3IgdGhlIGJyb3dzZXIgd2UncmUgdXNpbmdcbiAgICAgICAgY3NzID0gZG9jdW1lbnQuYWxsID8gJ3J1bGVzJyA6ICdjc3NSdWxlcyc7IC8vY3Jvc3MgYnJvd3NlclxuICAgICAgICBydWxlcyA9IGRvY3VtZW50LnN0eWxlU2hlZXRzW3NJZHhdW2Nzc107XG4gICAgICAgIC8vIElmIHdlIGhhdmUgcnVsZXMgdG8gbG9vcCBvdmVyLi4uXG4gICAgICAgIGlmIChydWxlcykge1xuICAgICAgICAgICAgLy8gLi4uIGxvb3AgdGhyb3VnaCB0aGVtIGFuZCBjaGVjayBpZiB0aGV5IGFyZSB0aGUgY2xhc3Mgd2UgYXJlIGxvb2tpbmcgZm9yXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBydWxlID0gcnVsZXNbaV07XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIG1hdGNoIG9uIHRoZSBjbGFzcy4uLlxuICAgICAgICAgICAgICAgIGlmIChydWxlLnNlbGVjdG9yVGV4dCA9PT0gY2xzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uLiBhbmQgdGhlIGNsYXNzIGhhcyB0aGUgaXRlbSB3ZSdyZSBsb29raW5nIGZvciAuLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKChydWxlLnN0eWxlW2l0ZW1dKSB8fCAoZm9yY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLy4uLiBzZXQgaXQgdG8gb3VyIG5ldyB2YWx1ZSwgYW5kIHJldHVybiB0cnVlLlxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZS5zdHlsZVtpdGVtXSA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJldHVybiBmYWxzZSBpZiB3ZSBkaWRuJ3QgY2hhbmdlIGFueXRoaW5nXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5zZXRQcm9wZXJ0eSA9IHNldFByb3BlcnR5O1xuO1xuLyoqXG4gKiBnZXRQcm9wZXJ0eVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogR3JhYnMgdGhlIHZhbHVlIG9mIGEgZ2l2ZW4gQ1NTIGNsYXNzJ3MgYXR0cmlidXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNscyAgLSBUaGUgQ1NTIGNsYXNzIHRvIGxvb2sgd2l0aGluXG4gKiBAcGFyYW0ge3N0cmluZ30gaXRlbSAtIFRoZSBhdHRyaWJ1dGUgd2Ugd2FudCB0byBncmFiIHRoZSB2YWx1ZSBmb3JcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB2YWx1ZSBvZiB0aGF0IHBhcnRpY3VsYXIgQ1NTIGNsYXNzJ3MgYXR0cmlidXRlXG4gKi9cbmZ1bmN0aW9uIGdldFByb3BlcnR5KGNscywgaXRlbSkge1xuICAgIGxldCBpO1xuICAgIGxldCBjc3M7XG4gICAgbGV0IHNJZHg7XG4gICAgbGV0IHJ1bGVzO1xuICAgIGxldCBydWxlO1xuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgb2YgdGhlIHN0eWxlc2hlZXRzIHdlIGhhdmUgYXZhaWxhYmxlXG4gICAgZm9yIChzSWR4ID0gMDsgc0lkeCA8IGRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aDsgc0lkeCArPSAxKSB7XG4gICAgICAgIC8vIFB1bGwgaW4gdGhlIGFwcHJvcHJpYXRlIGluZGV4IGZvciB0aGUgYnJvd3NlciB3ZSdyZSB1c2luZ1xuICAgICAgICBjc3MgPSBkb2N1bWVudC5hbGwgPyAncnVsZXMnIDogJ2Nzc1J1bGVzJzsgLy9jcm9zcyBicm93c2VyXG4gICAgICAgIHJ1bGVzID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbc0lkeF1bY3NzXTtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbiBpbmRleC4uLlxuICAgICAgICBpZiAocnVsZXMpIHtcbiAgICAgICAgICAgIC8vIC4uLiBsb29wIHRocm91Z2ggYWxsIGFuZCBjaGVjayBmb3IgdGhlIGFjdHVhbCBjbGFzc1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgcnVsZSA9IHJ1bGVzW2ldO1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIGZpbmQgdGhlIGNsYXNzLi4uXG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUuc2VsZWN0b3JUZXh0ID09PSBjbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi4uIHJldHVybiB3aGF0IHRoZSBpdGVtIGlzIHNldCB0byAoaWYgYW55dGhpbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAocnVsZS5zdHlsZVtpdGVtXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJldHVybiBhIGJsYW5rIHN0cmluZyBpZiBpdCBjb3VsZG4ndCBiZSBmb3VuZFxuICAgIHJldHVybiBcIlwiO1xufVxuZXhwb3J0cy5nZXRQcm9wZXJ0eSA9IGdldFByb3BlcnR5O1xuO1xuLyoqXG4gKiBvbGRDcmVhdGVDbGFzc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGRlcHJlY2F0ZWRcbiAqIENyZWF0ZXMgYSBDU1MgY2xhc3MgYW5kIGFkZHMgaXQgdG8gdGhlIHN0eWxlIG9mIHRoZSBkb2N1bWVudFxuICogQHBhcmFtICB7c3RyaW5nfSAgICAgIHNlbGVjdG9yICAgQ1NTIHNlbGVjdG9yIHRvIHVzZSB0byBkZWZpbmUgd2hhdCBlbGVtZW50cyBnZXQgdGhpcyBzdHlsZVxuICogQHBhcmFtICB7YW55fSAgICAgICAgIGF0dHIgICAgICAgQXJyYXkgb2YgY3NzIGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgY2xhc3NcbiAqIEBwYXJhbSAge2Jvb2xlYW59ICAgICBbbm9BcHBlbmRdIFRydWUgaWYgd2Ugc2hvdWxkbid0IGFjdHVhbGx5IGFkZCB0aGUgY2xhc3MgdG8gdGhlIGRvY3VtbWVudCB5ZXRcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSAgICAgICAgICAgIFRoZSBDU1Mgc3R5bGUgdGFnIHRoYXQgd2FzIGNyZWF0ZWRcbiAqL1xuZnVuY3Rpb24gb2xkQ3JlYXRlQ2xhc3Moc2VsZWN0b3IsIGF0dHIsIG5vQXBwZW5kKSB7XG4gICAgbGV0IGNscztcbiAgICBsZXQgYTtcbiAgICBsZXQgc3R5bGVzO1xuICAgIC8vIEdyYWIgdGhlIHN0eWxlIG5vZGUgb2YgdGhpcyBkb2N1bWVudCAob3IgY3JlYXRlIGl0IGlmIGl0IGRvZXNuJ3QgZXhpc3QpXG4gICAgc3R5bGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHlsZVwiKTtcbiAgICBpZiAobm9BcHBlbmQgfHwgc3R5bGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2xzID0gc3R5bGVzWzBdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2xzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICBjbHMuaW5uZXJIVE1MID0gXCJcIjtcbiAgICB9XG4gICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBhdHRyaWJ1dGVzIHdlIHdlcmUgcGFzc2VkIGluIHRvIGNyZWF0ZSB0aGUgY2xhc3NcbiAgICBjbHMuaW5uZXJIVE1MICs9IFwiXFxuXCIgKyBzZWxlY3RvciArIFwiIHtcXG5cIjtcbiAgICBmb3IgKGEgaW4gYXR0cikge1xuICAgICAgICBpZiAoYXR0ci5oYXNPd25Qcm9wZXJ0eShhKSkge1xuICAgICAgICAgICAgaWYgKGF0dHJbYV0ua2V5KSB7XG4gICAgICAgICAgICAgICAgY2xzLmlubmVySFRNTCArPSBcIlxcdFwiICsgYXR0clthXS5rZXkgKyBcIjogXCIgKyBhdHRyW2FdLnZhbCArIFwiO1xcblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xzLmlubmVySFRNTCArPSBcIlxcdFwiICsgYSArIFwiIDogXCIgKyBhdHRyW2FdICsgXCI7XFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xzLmlubmVySFRNTCArPSBcIlxcbn1cIjtcbiAgICAvLyBBcHBlbmQgdGhlIGNsYXNzIHRvIHRoZSBoZWFkIG9mIHRoZSBkb2N1bWVudFxuICAgIGlmICghbm9BcHBlbmQpIHtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChjbHMpO1xuICAgIH1cbiAgICAvLyBSZXR1cm4gdGhlIHN0eWxlIG5vZGVcbiAgICByZXR1cm4gY2xzO1xufVxuZXhwb3J0cy5vbGRDcmVhdGVDbGFzcyA9IG9sZENyZWF0ZUNsYXNzO1xuLyoqXG4gKiBnZXRDb21wdXRlZFN0eWxlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBHZXRzIHRoZSBjb21wdXRlZCBzdHlsZSBvZiBhIGdpdmVuIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtIC0gVGhlIGVsZW1lbnQgd2UgYXJlIGdldHRpbmcgdGhlIHN0eWxlIG9mXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0ciAtIElmIHBhc3NlZCBpbiwgdGhlIGF0dHJpYnV0ZSB0byBncmFiIGZyb20gdGhlIGVsZW1lbnQncyBzdHlsZVxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gRWl0aGVyIHRoZSBwYXJ0aWN1bGFyIHZhbHVlIGZvciB0aGUgcGFzc2VkIGluIGF0dHJpYnV0ZSwgb3IgdGhlIHdob2xlIHN0eWxlIGFycmF5LlxuICovXG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKGVsZW0sIGF0dHIpIHtcbiAgICBsZXQgc3R5bGU7XG4gICAgbGV0IGU7XG4gICAgLy8gSGFuZGxlIERyYXdhYmxlcyBiZWluZyBwYXNzZWQgaW5cbiAgICBpZiAoZWxlbS5kcmF3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZSA9IGVsZW0uYmFzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGUgPSBlbGVtO1xuICAgIH1cbiAgICAvLyBVc2UgdGhlIGxpYnJhcnkgZnVuY3Rpb24gb24gdGhlIHdpbmRvdyBmaXJzdFxuICAgIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuICAgICAgICBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUpO1xuICAgICAgICBpZiAoYXR0cikge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmdldFByb3BlcnR5VmFsdWUoYXR0cik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhhdCBkb2Vzbid0IHdvcmssIG1heWJlIGl0J3MgdGhyb3VnaCB0aGUgY3VycmVudFN0eWxlIHByb3BlcnR5XG4gICAgfVxuICAgIGVsc2UgaWYgKGUuY3VycmVudFN0eWxlKSB7XG4gICAgICAgIHN0eWxlID0gZS5jdXJyZW50U3R5bGU7XG4gICAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGVbYXR0cl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnRzLmdldENvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlO1xuLyoqIGFkZHMgYSBnZW5lcmljIGhpZGRlbiBjbGFzcyB0byB0aGUgZG9jdW1lbnQgKi9cbmZ1bmN0aW9uIGFkZEhpZGRlbkNsYXNzKCkge1xuICAgIGxldCBjbHM7XG4gICAgY2xzID0ge1xuICAgICAgICBcImRpc3BsYXlcIjogXCJub25lXCJcbiAgICB9O1xuICAgIG9sZENyZWF0ZUNsYXNzKFwiLmhpZGRlblwiLCBjbHMpO1xufVxuZXhwb3J0cy5hZGRIaWRkZW5DbGFzcyA9IGFkZEhpZGRlbkNsYXNzO1xuLyoqIEFkZHMgdGhlIFwidW5zZWxlY3RhYmxlXCIgY2xhc3MgZGVmaW5pdGlvbiB0byB0aGUgZG9jdW1lbnQgKi9cbmZ1bmN0aW9uIGFkZFVuc2VsZWN0YWJsZUNsYXNzKCkge1xuICAgIGxldCBjbHM7XG4gICAgY2xzID0ge1xuICAgICAgICBcInVzZXItc2VsZWN0XCI6IFwibm9uZVwiLFxuICAgICAgICBcIi1tb3otdXNlci1zZWxlY3RcIjogXCJub25lXCIsXG4gICAgICAgIFwiLXdlYmtpdC11c2VyLXNlbGVjdFwiOiBcIm5vbmVcIixcbiAgICAgICAgXCJraHRtbC11c2VyLXNlbGVjdFwiOiBcIm5vbmVcIixcbiAgICAgICAgXCJvLXVzZXItc2VsZWN0XCI6IFwibm9uZVwiXG4gICAgfTtcbiAgICByZXR1cm4gb2xkQ3JlYXRlQ2xhc3MoXCIudW5zZWxlY3RhYmxlXCIsIGNscywgdHJ1ZSk7XG59XG5leHBvcnRzLmFkZFVuc2VsZWN0YWJsZUNsYXNzID0gYWRkVW5zZWxlY3RhYmxlQ2xhc3M7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHN0eWxhYmxlXzEgPSByZXF1aXJlKFwiLi4vc3R5bGFibGUvc3R5bGFibGVcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyBEcmF3YWJsZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlcyBhIGNsaWVudC1zaWRlIHJlcHJlc2VudGF0aW9uIG9mIGEgcGFydGljdWxhciBET00gZWxlbWVudFxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0Mi4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgRHJhd2FibGUgZXh0ZW5kcyBzdHlsYWJsZV8xLlN0eWxhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8qKlxuICAgICAqIERyYXdhYmxlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSBhIERyYXdhYmxlIGVsZW1lbnRcbiAgICAgKiBAcGFyYW1cdGJhc2VFbGVtVGVtcGxhdGVcdElmIHByb3ZpZGVkLCB0aGUgdGVtcGxhdGUgdXBvbiB3aGljaCB0byBjcmVhdGUgdGhlIGJhc2UgZWxlbWVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGJhc2VFbGVtVGVtcGxhdGUpIHtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBib3RoIHRoZSBzdHlsYWJsZSBwYXJ0cyBvZiB0aGlzIGFuZCB0aGUgXG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2FkZENsYXNzTmFtZShcIkRyYXdhYmxlXCIpO1xuICAgICAgICAvLyBpbml0aWFsaXplIG91ciBlbGVtZW50c1xuICAgICAgICB0aGlzLl9lbGVtcyA9IHt9O1xuICAgICAgICAvLyBIYW5kbGUgd2hlbiB3ZSBhcmUgcGFzc2VkIGFuIGVsZW1lbnQgdG8gZm9ybSB0aGUgYmFzZSBvZiBcbiAgICAgICAgaWYgKGJhc2VFbGVtVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLmJhc2UgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudChiYXNlRWxlbVRlbXBsYXRlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayB0aGF0IHdlIGhhdmUgZW5vdWdoIGRhdGEgdG8gY3JlYXRlIGVsZW1lbnRzXG4gICAgICAgIGlmICh0aGlzLl9zaG91bGRTa2lwQ3JlYXRlRWxlbWVudHMoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFjdHVhbGx5IGNyZWF0ZSB0aGUgZWxlbWVudHMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY2xhc3NcbiAgICAgICAgdGhpcy5fY3JlYXRlRWxlbWVudHMoKTtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcmVnaXN0ZXJNZWRpYUxpc3RlbmVycygpO1xuICAgICAgICB9LCAxMDApO1xuICAgIH1cbiAgICAvKiogZXhwb3NlIHRoZSBiYXNlIGVsZW1lbnQgZXh0ZXJuYWxseSBmb3IgYW55b25lIHdobyBuZWVkcyBpdCAqL1xuICAgIGdldCBiYXNlKCkgeyByZXR1cm4gdGhpcy5fZWxlbXMuYmFzZTsgfVxuICAgIC8qKlxuICAgICAqIF9yZWdpc3Rlck1lZGlhTGlzdGVuZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogUmVwbGFjZSB0aGUgc3R5bGFibGUgZGVmYXVsdCByZWdpc3Rlck1lZGlhTGlzdGVuZXIgdG8gdHJ5IHRvIGFwcGx5IGZpcnN0IHRvXG4gICAgICogb3VyIGJhc2UgZWxlbWVudCwgdGhlbiB0aGUgZG9jdW1lbnQgYXMgYSB3aG9sZVxuICAgICAqL1xuICAgIF9yZWdpc3Rlck1lZGlhTGlzdGVuZXIobWF0Y2hRdWVyeSwgY2xhc3NUb0FwcGx5KSB7XG4gICAgICAgIGlmICghdGhpcy5fZWxlbXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5fcmVnaXN0ZXJNZWRpYUxpc3RlbmVyKG1hdGNoUXVlcnksIGNsYXNzVG9BcHBseSwgdGhpcy5fZWxlbXMuYmFzZSk7XG4gICAgICAgIHN1cGVyLl9yZWdpc3Rlck1lZGlhTGlzdGVuZXIobWF0Y2hRdWVyeSwgY2xhc3NUb0FwcGx5LCBkb2N1bWVudC5ib2R5KTtcbiAgICB9XG4gICAgX2NyZWF0ZUVsZW1lbnQoZWxlbURlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KGVsZW1EZWZpbml0aW9uLCB0aGlzLl9lbGVtcyk7XG4gICAgfVxuICAgIF9lbGVtKGVsZW1EZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVFbGVtZW50KGVsZW1EZWZpbml0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBGdW5jdGlvbiB0byBkZXRlcm1pbmUgd2hldGhlciB3ZSBzaG91bGQgc2tpcCB0aGUgY3JlYXRlRWxlbWVudHMuIFVzZWZ1bCBpblxuICAgICAqIGNhc2VzIHdoZXJlIGRhdGEgbmVlZHMgdG8gYmUgcHJlc2VudCBpbiB0aGUgY2xhc3MgYmVmb3JlIGVsZW1lbnRzIGNhbiBiZVxuICAgICAqIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VHJ1ZSBpZiB3ZSBzaG91bGRuJ3QgY3JlYXRlIGVsZW1lbnRzXG4gICAgICovXG4gICAgX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50cygpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgLyoqXG4gICAgICogZHJhd1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBEcmF3cyB0aGUgZWxlbWVudCBvZiB0aGlzIERyYXdhYmxlICYgYWxsIGNoaWxkcmVuICsgc2libGluZ3NcbiAgICAgKiBAcGFyYW0gXHRwYXJlbnQgIFx0VGhlIGVsZW1lbnQgdGhpcyBEcmF3YWJsZSBzaG91bGQgYmUgYWRkZWQgdG9cbiAgICAgKiBAcGFyYW0gXHRmb3JjZSBcdFx0VHJ1ZSBpZiB3ZSBuZWVkIHRvIHJlbW92ZSAmIHJlZHJhdyB0aGlzIGVsZW1lbnRcbiAgICAgKi9cbiAgICBkcmF3KHBhcmVudCwgZm9yY2UpIHtcbiAgICAgICAgLy8gUXVpdCBpZiB3ZSBkb24ndCBoYXZlIGFueXRoaW5nIHRvIGRyYXdcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtcyB8fCAhdGhpcy5fZWxlbXMuYmFzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faGFzQ3JlYXRlZFN0eWxlcykge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhdyhwYXJlbnQsIGZvcmNlKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlZnJlc2ggb3VyIGNvbnRlbnRzXG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgLy8gU2F2ZSBvZmYgdGhpcyBwYXJlbnQgJiBxdWl0IGlmIHRoZXJlIGlzIG5vIHBhcmVudFxuICAgICAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQgfHwgdGhpcy5fcGFyZW50O1xuICAgICAgICBpZiAoIXRoaXMuX3BhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIERyYXcgdGhlIGJhc2UgZWxlbWVudFxuICAgICAgICB0aGlzLl9kcmF3QmFzZSgpO1xuICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIHRvdWNocG9pbnQgZm9yIHJlZnJlc2hpbmcgYWZ0ZXIgdGhlIGRyYXcgc3RlcFxuICAgICAgICB0aGlzLl9hZnRlckRyYXcoKTtcbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIF9kcmF3QmFzZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBEcmF3cyBhIERyYXdhYmxlIG9yIEhUTUwgRWxlbWVudFxuICAgICAqIEBwYXJhbVx0Zm9yY2VcdElmIHRydWUsIGVyYXNlcyBhbmQgcmVkcmF3cyB0aGUgYmFzZSBlbGVtZW50XG4gICAgICovXG4gICAgX2RyYXdCYXNlKGZvcmNlKSB7XG4gICAgICAgIC8vIGdyYWIgdGhlIGJhc2UgaGVscGVyXG4gICAgICAgIGxldCBiYXNlID0gdGhpcy5fZWxlbXMuYmFzZTtcbiAgICAgICAgLy8gSWYgd2UgYXJlIHJlZHJhd2luZyBvciBoYXZlIG5ldmVyIGRyYXduIHRoZSBlbGVtZW50LCBkbyBzb1xuICAgICAgICBpZiAoZm9yY2UgfHwgKCFiYXNlLnBhcmVudE5vZGUpKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgZmlyc3QgZnJvbSB0aGUgcGFyZW50IGlmIHdlIG5lZWQgdG9cbiAgICAgICAgICAgIGlmIChmb3JjZSAmJiBiYXNlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICBiYXNlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYmFzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIHBhcmVudCwgcXVpdFxuICAgICAgICAgICAgaWYgKCF0aGlzLl9wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBZGQgYmFjayB0byB0aGUgcGFyZW50XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnQuYXBwZW5kQ2hpbGQoYmFzZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogZXJhc2VcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogUmVtb3ZlIHRoaXMgZHJhd2FibGUgZnJvbSB0aGUgY2FudmFzXG4gICAgICovXG4gICAgZXJhc2UoKSB7XG4gICAgICAgIGxldCBiYXNlID0gdGhpcy5fZWxlbXMuYmFzZTtcbiAgICAgICAgaWYgKCFiYXNlIHx8ICFiYXNlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBiYXNlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYmFzZSk7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBfcmVmcmVzaFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBPdmVycmlkYWJsZSBmdW5jdGlvbiB0aGF0IHJlZnJlc2hlcyB0aGUgVUkgb2YgdGhpcyBEcmF3YWJsZS4gRG9lcyBub3RcbiAgICAgKiBndWFyYW50ZWUgdGhhdCB0aGUgZWxlbWVudCBoYXMgYmVlbiBkcmF3bi5cbiAgICAgKi9cbiAgICBfcmVmcmVzaCgpIHsgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBfYWZ0ZXJEcmF3XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIE92ZXJyaWRhYmxlIGZ1bmN0aW9uIHRvIG1ha2Ugc3VyZSB3ZSBjYW4gYWRqdXN0IHNpemVzIHNob3VsZCB3ZSBuZWVkIHRvXG4gICAgICovXG4gICAgX2FmdGVyRHJhdygpIHsgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBfb25SZXNpemVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogT3ZlcnJpZGFibGUgZnVuY3Rpb24gdG8gYWRqdXN0IHdoZW4gdGhlIHNjcmVlbiByZXNpemVzXG4gICAgICovXG4gICAgX29uUmVzaXplKCkgeyB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIGFkZEV2ZW50TGlzdGVuZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGVscGVyIHRvIGFkZCBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIGJhc2UgZWxlbWVudFxuICAgICAqIEBwYXJhbVx0dHlwZVx0XHRUeXBlIG9mIGV2ZW50IHRvIGxpc3RlbiB0b1xuICAgICAqIEBwYXJhbVx0bGlzdGVuZXJcdFRoZSBsaXN0ZW5lciB0byBhcHBseSB1cG9uIHRoaXMgZXZlbnRcbiAgICAgKi9cbiAgICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcik7XG4gICAgfVxufVxuZXhwb3J0cy5EcmF3YWJsZSA9IERyYXdhYmxlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLy4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIEVOVU1TXG4vKiogdHlwZSBvZiB0aGUgZWxlbWVudCAqL1xudmFyIEZpZWxkVHlwZUVudW07XG4oZnVuY3Rpb24gKEZpZWxkVHlwZUVudW0pIHtcbiAgICBGaWVsZFR5cGVFbnVtW0ZpZWxkVHlwZUVudW1bXCJURVhUXCJdID0gMV0gPSBcIlRFWFRcIjtcbiAgICBGaWVsZFR5cGVFbnVtW0ZpZWxkVHlwZUVudW1bXCJOVU1CRVJcIl0gPSAyXSA9IFwiTlVNQkVSXCI7XG4gICAgRmllbGRUeXBlRW51bVtGaWVsZFR5cGVFbnVtW1wiREFURVwiXSA9IDNdID0gXCJEQVRFXCI7XG4gICAgRmllbGRUeXBlRW51bVtGaWVsZFR5cGVFbnVtW1wiVElNRVwiXSA9IDRdID0gXCJUSU1FXCI7XG4gICAgRmllbGRUeXBlRW51bVtGaWVsZFR5cGVFbnVtW1wiREFURV9USU1FXCJdID0gNV0gPSBcIkRBVEVfVElNRVwiO1xuICAgIEZpZWxkVHlwZUVudW1bRmllbGRUeXBlRW51bVtcIlNFTEVDVFwiXSA9IDZdID0gXCJTRUxFQ1RcIjtcbiAgICBGaWVsZFR5cGVFbnVtW0ZpZWxkVHlwZUVudW1bXCJDSEVDS0JPWFwiXSA9IDddID0gXCJDSEVDS0JPWFwiO1xuICAgIEZpZWxkVHlwZUVudW1bRmllbGRUeXBlRW51bVtcIlRFWFRBUkVBXCJdID0gOF0gPSBcIlRFWFRBUkVBXCI7XG4gICAgRmllbGRUeXBlRW51bVtGaWVsZFR5cGVFbnVtW1wiQVJSQVlcIl0gPSA5XSA9IFwiQVJSQVlcIjtcbiAgICBGaWVsZFR5cGVFbnVtW0ZpZWxkVHlwZUVudW1bXCJBUlJBWV9DSElMRFwiXSA9IDEwXSA9IFwiQVJSQVlfQ0hJTERcIjtcbiAgICBGaWVsZFR5cGVFbnVtW0ZpZWxkVHlwZUVudW1bXCJUT0dHTEVfQlVUVE9OXCJdID0gMTFdID0gXCJUT0dHTEVfQlVUVE9OXCI7XG4gICAgRmllbGRUeXBlRW51bVtGaWVsZFR5cGVFbnVtW1wiQ1VTVE9NXCJdID0gMTJdID0gXCJDVVNUT01cIjtcbiAgICBGaWVsZFR5cGVFbnVtW0ZpZWxkVHlwZUVudW1bXCJTRUNUSU9OXCJdID0gMTNdID0gXCJTRUNUSU9OXCI7XG4gICAgRmllbGRUeXBlRW51bVtGaWVsZFR5cGVFbnVtW1wiSElEREVOXCJdID0gMTRdID0gXCJISURERU5cIjtcbiAgICBGaWVsZFR5cGVFbnVtW0ZpZWxkVHlwZUVudW1bXCJGSUxFX1VQTE9BRFwiXSA9IDE1XSA9IFwiRklMRV9VUExPQURcIjtcbiAgICBGaWVsZFR5cGVFbnVtW0ZpZWxkVHlwZUVudW1bXCJGSUxFX1BBVEhcIl0gPSAxNl0gPSBcIkZJTEVfUEFUSFwiO1xuICAgIEZpZWxkVHlwZUVudW1bRmllbGRUeXBlRW51bVtcIkNPTE9SXCJdID0gMTddID0gXCJDT0xPUlwiO1xuICAgIEZpZWxkVHlwZUVudW1bRmllbGRUeXBlRW51bVtcIlBFUkNFTlRBR0VcIl0gPSAxOF0gPSBcIlBFUkNFTlRBR0VcIjtcbiAgICBGaWVsZFR5cGVFbnVtW0ZpZWxkVHlwZUVudW1bXCJQQVNTV09SRFwiXSA9IDE5XSA9IFwiUEFTU1dPUkRcIjtcbn0pKEZpZWxkVHlwZUVudW0gPSBleHBvcnRzLkZpZWxkVHlwZUVudW0gfHwgKGV4cG9ydHMuRmllbGRUeXBlRW51bSA9IHt9KSk7XG47XG52YXIgVmFsaWRhdGlvblR5cGU7XG4oZnVuY3Rpb24gKFZhbGlkYXRpb25UeXBlKSB7XG4gICAgVmFsaWRhdGlvblR5cGVbVmFsaWRhdGlvblR5cGVbXCJLRUVQX0VSUk9SX1ZBTFVFXCJdID0gMV0gPSBcIktFRVBfRVJST1JfVkFMVUVcIjtcbiAgICBWYWxpZGF0aW9uVHlwZVtWYWxpZGF0aW9uVHlwZVtcIlJFU1RPUkVfT0xEX1ZBTFVFXCJdID0gMl0gPSBcIlJFU1RPUkVfT0xEX1ZBTFVFXCI7XG4gICAgVmFsaWRhdGlvblR5cGVbVmFsaWRhdGlvblR5cGVbXCJDTEVBUl9FUlJPUl9WQUxVRVwiXSA9IDNdID0gXCJDTEVBUl9FUlJPUl9WQUxVRVwiO1xuICAgIFZhbGlkYXRpb25UeXBlW1ZhbGlkYXRpb25UeXBlW1wiTk9fQkxVUl9QUk9DRVNTRURcIl0gPSA0XSA9IFwiTk9fQkxVUl9QUk9DRVNTRURcIjtcbn0pKFZhbGlkYXRpb25UeXBlID0gZXhwb3J0cy5WYWxpZGF0aW9uVHlwZSB8fCAoZXhwb3J0cy5WYWxpZGF0aW9uVHlwZSA9IHt9KSk7XG4vKiogb3B0aW9ucyBmb3IgbGF5b3V0ICovXG52YXIgRm9ybUVsZW1lbnRMYXlvdXRFbnVtO1xuKGZ1bmN0aW9uIChGb3JtRWxlbWVudExheW91dEVudW0pIHtcbiAgICBGb3JtRWxlbWVudExheW91dEVudW1bRm9ybUVsZW1lbnRMYXlvdXRFbnVtW1wiTVVMVElMSU5FXCJdID0gMF0gPSBcIk1VTFRJTElORVwiO1xuICAgIEZvcm1FbGVtZW50TGF5b3V0RW51bVtGb3JtRWxlbWVudExheW91dEVudW1bXCJUQUJMRVwiXSA9IDFdID0gXCJUQUJMRVwiO1xuICAgIEZvcm1FbGVtZW50TGF5b3V0RW51bVtGb3JtRWxlbWVudExheW91dEVudW1bXCJGTEVYXCJdID0gMl0gPSBcIkZMRVhcIjtcbiAgICBGb3JtRWxlbWVudExheW91dEVudW1bRm9ybUVsZW1lbnRMYXlvdXRFbnVtW1wiTEFCRUxfQUZURVJcIl0gPSAzXSA9IFwiTEFCRUxfQUZURVJcIjtcbn0pKEZvcm1FbGVtZW50TGF5b3V0RW51bSA9IGV4cG9ydHMuRm9ybUVsZW1lbnRMYXlvdXRFbnVtIHx8IChleHBvcnRzLkZvcm1FbGVtZW50TGF5b3V0RW51bSA9IHt9KSk7XG47XG52YXIgRm9ybVN0eWxlT3B0aW9ucztcbihmdW5jdGlvbiAoRm9ybVN0eWxlT3B0aW9ucykge1xuICAgIEZvcm1TdHlsZU9wdGlvbnNbRm9ybVN0eWxlT3B0aW9uc1tcIkVNQkVEREVEXCJdID0gMV0gPSBcIkVNQkVEREVEXCI7XG4gICAgRm9ybVN0eWxlT3B0aW9uc1tGb3JtU3R5bGVPcHRpb25zW1wiUE9QVVBcIl0gPSAyXSA9IFwiUE9QVVBcIjtcbiAgICBGb3JtU3R5bGVPcHRpb25zW0Zvcm1TdHlsZU9wdGlvbnNbXCJJTkxJTkVcIl0gPSAzXSA9IFwiSU5MSU5FXCI7XG4gICAgRm9ybVN0eWxlT3B0aW9uc1tGb3JtU3R5bGVPcHRpb25zW1wiRlVMTFNDUkVFTlwiXSA9IDRdID0gXCJGVUxMU0NSRUVOXCI7XG59KShGb3JtU3R5bGVPcHRpb25zID0gZXhwb3J0cy5Gb3JtU3R5bGVPcHRpb25zIHx8IChleHBvcnRzLkZvcm1TdHlsZU9wdGlvbnMgPSB7fSkpO1xuLy8jZW5kcmVnaW9uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IGRyYXdhYmxlXzEgPSByZXF1aXJlKFwiLi4vZHJhd2FibGUvZHJhd2FibGVcIik7XG5jb25zdCBmYWxzZXlfMSA9IHJlcXVpcmUoXCIuLi90eXBlR3VhcmRzL2ZhbHNleVwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCB0YWJsZXNfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy90YWJsZXNcIik7XG5jb25zdCBjb21wYXJhYmxlXzEgPSByZXF1aXJlKFwiLi4vY29tcGFyYWJsZS9jb21wYXJhYmxlXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG5jb25zdCB0b29sdGlwXzEgPSByZXF1aXJlKFwiLi4vdG9vbHRpcC90b29sdGlwXCIpO1xuY29uc3QgdHJhbnNpdGlvbl8xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy90cmFuc2l0aW9uXCIpO1xuY29uc3Qgc3R5bGVzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL3N0eWxlc1wiKTtcbmNvbnN0IGV2ZW50SGFuZGxlcl8xID0gcmVxdWlyZShcIi4vZXZlbnRIYW5kbGVyXCIpO1xuY29uc3QgaGVscGVyc18xID0gcmVxdWlyZShcIi4vaGVscGVyc1wiKTtcbmNvbnN0IGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vYXN5bmNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdEZpZWxkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBhYnN0cmFjdCBpbXBsZW1lbnRhdGlvbiBvZiBhIGZvcm0gZWxlbWVudCB0byBiZSB1c2VkIGluIHRoZSBmb3JtIGxpYnJhcnlcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb25cdDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIEZpZWxkIGV4dGVuZHMgZHJhd2FibGVfMS5EcmF3YWJsZSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDT05TVFJVQ1QgQSBGSUVMRFxuICAgIC8qKlxuICAgICAqIEZvcm1FbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSBhIEZvcm0gRWxlbWVudFxuICAgICAqIEBwYXJhbSAgIGlkICAgICAgVGhlIElEIG9mIHRoZSBlbGVtZW50OyBzaG91bGQgYmUgdW5pcXVlIGluIHRoZSBmb3JtXG4gICAgICogQHBhcmFtICAgZGF0YSAgICBhIHRlbXBsYXRlIG9yIGV4aXN0aW5nIGZvcm0gZWxlbWVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkLCBkYXRhKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgICAgIC8vI3JlZ2lvbiBDT05TVEFOVFNcbiAgICAgICAgLyoqIHN0b3JlIHRoZSBzdGFuZGFyZCBjbGFzcyBmb3IgYWxsIGZvcm0gZWxlbWVudHMgKi9cbiAgICAgICAgdGhpcy5fc3RhbmRhcmRDbHMgPSBcImtpcEZvcm1FbGVtXCI7XG4gICAgICAgIHRoaXMuX2FkZENsYXNzTmFtZShcIkZvcm1FbGVtZW50XCIpO1xuICAgICAgICB0aGlzLl9pZCA9IGlkO1xuICAgICAgICB0aGlzLl9oYXNFcnJvcnMgPSBmYWxzZTtcbiAgICAgICAgLy8gIHBhcnNlIHRoZSB0ZW1wbGF0ZSBmb3IgdGhpcyBlbGVtZW50XG4gICAgICAgIGlmIChoZWxwZXJzXzEuaXNGaWVsZChkYXRhKSkge1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VGaWVsZFRlbXBsYXRlKGRhdGEudGVtcGxhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VGaWVsZFRlbXBsYXRlKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NyZWF0ZUVsZW1lbnRzKCk7XG4gICAgfVxuICAgIGdldCBpZCgpIHsgcmV0dXJuIHRoaXMuX2lkOyB9XG4gICAgZ2V0IHR5cGUoKSB7IHJldHVybiB0aGlzLl90eXBlOyB9XG4gICAgZ2V0IHRlbXBsYXRlKCkgeyByZXR1cm4gdGhpcy5fY29uZmlnOyB9XG4gICAgZ2V0IF9kZWZhdWx0TGF5b3V0KCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5Gb3JtRWxlbWVudExheW91dEVudW0uTVVMVElMSU5FOyB9XG4gICAgZ2V0IGRhdGEoKSB7IHJldHVybiB0aGlzLl9kYXRhOyB9XG4gICAgc2V0IGRhdGEoZGF0YSkgeyB0aGlzLnVwZGF0ZShkYXRhLCBmYWxzZSk7IH0gLy8gVE9ETzogZXZhbHVhdGUgaWYgd2UnZCBldmVyIG5lZWQgdG8gZmlyZSBldmVudHMgaGVyZVxuICAgIGdldCBoYXNFcnJvcnMoKSB7IHJldHVybiB0aGlzLl9oYXNFcnJvcnM7IH1cbiAgICAvKiogaW5wdXQgZWxlbWVudCAqL1xuICAgIGdldCBpbnB1dCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtcy5pbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1zLmlucHV0O1xuICAgIH1cbiAgICAvKiogYWxsb3cgZm9yIGxhYmVsIG9yIGxhYmVsIGNvbnRhaW5lcnMgdG8gYmUgdXNlZCAqL1xuICAgIGdldCBfbGFiZWxFbGVtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbXMubGJsQ29udGFpbmVyIHx8IHRoaXMuX2VsZW1zLmxibDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoYW5kbGUgZWxlbWVudCBjcmVhdGlvbiBhdCBvdXIgb3duIHBhY2VcbiAgICAgKi9cbiAgICBfc2hvdWxkU2tpcENyZWF0ZUVsZW1lbnRzKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gUEFSU0UgVEVNUExBVEVcbiAgICAvKipcbiAgICAgKiBfcGFyc2VGaWVsZFRlbXBsYXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHBhcnNlIHRoZSB0ZW1wbGF0ZSBmb3IgdGhpcyBwYXJ0aWN1bGFyIGZpZWxkXG4gICAgICovXG4gICAgX3BhcnNlRmllbGRUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAgICAgICAvLyBlbnN1cmUgdGVtcGxhdGUgaXMgbmV2ZXIgbnVsbFxuICAgICAgICBpZiAoZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQodGVtcGxhdGUpKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIC8vIHNhdmUgb2ZmIHRoZSB0ZW1wbGF0ZVxuICAgICAgICB0aGlzLl9jb25maWcgPSB0ZW1wbGF0ZTtcbiAgICAgICAgLy8gc2V0IGFwcHJvcHJpYXRlIGRlZmF1bHRzIG9uIHRoZSB0ZW1wbGF0ZVxuICAgICAgICBpZiAoIXRlbXBsYXRlLmxhYmVsKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZS5sYWJlbCA9IHRoaXMuX2lkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGVtcGxhdGUubGF5b3V0KSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZS5sYXlvdXQgPSB0aGlzLl9kZWZhdWx0TGF5b3V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGVtcGxhdGUuZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZS5kZWZhdWx0VmFsdWUgPSB0aGlzLl9kZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHRoYXQgd2UgY2hlY2sgZm9yIHZhbGlkIGZhbHNleSB2YWx1ZXNcbiAgICAgICAgaWYgKGZhbHNleV8xLmlzTnVsbE9yVW5kZWZpbmVkKHRlbXBsYXRlLnZhbHVlKSkge1xuICAgICAgICAgICAgdGVtcGxhdGUudmFsdWUgPSB0ZW1wbGF0ZS5kZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZhbHNleV8xLmlzTnVsbE9yVW5kZWZpbmVkKHRlbXBsYXRlLnZhbGlkYXRpb25UeXBlKSkge1xuICAgICAgICAgICAgdGVtcGxhdGUudmFsaWRhdGlvblR5cGUgPSBfaW50ZXJmYWNlc18xLlZhbGlkYXRpb25UeXBlLktFRVBfRVJST1JfVkFMVUU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIG91ciBzcGVjaWFsIGNhc2VzXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NUZW1wbGF0ZUNsYXNzKCk7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NSZXF1aXJlZEVsZW1lbnQoKTtcbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJPbk90aGVyQ2hhbmdlTGlzdGVuZXIoKTtcbiAgICAgICAgLy8gc2V0IG91ciBkYXRhIHRvIGJlIHRoZSBkZWZhdWx0IHZhbHVlXG4gICAgICAgIHRoaXMuX2RhdGEgPSB0ZW1wbGF0ZS5kZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9wcm9jZXNzVGVtcGxhdGVDbGFzc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBnZW5lcmF0ZSB0aGUgYXBwcm9wcmlhdGUgY2xhc3MgZm9yIHRoaXMgZWxlbWVudFxuICAgICAqL1xuICAgIF9wcm9jZXNzVGVtcGxhdGVDbGFzcygpIHtcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gdGhpcy5fY29uZmlnO1xuICAgICAgICB0ZW1wbGF0ZS5jbHMgPSBzdHlsZXNfMS5idWlsZENsYXNzU3RyaW5nKHRoaXMuX3N0YW5kYXJkQ2xzLCAvLyBjbGFzcyBmb3IgYWxsIGZvcm0gZWxlbWVudHNcbiAgICAgICAgdGhpcy5fZGVmYXVsdENscywgLy8gY2xhc3MgZm9yIHRoaXMgcGFydGljdWxhciBmb3JtIGVsZW1lbnRcbiAgICAgICAgdGVtcGxhdGUuY2xzLCAvLyBjbGFzcyBzcGVjaWZpZWQgaW4gdGVtcGxhdGVcbiAgICAgICAgdGVtcGxhdGUucmVxdWlyZWQgPyBcInJlcXVpcmVkXCIgOiBcIlwiIC8vIHJlcXVpcmVkIGNsYXNzIChpZiBhcHByb3ByaWF0ZSlcbiAgICAgICAgKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3Byb2Nlc3NSZXF1aXJlZEVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogaWYgdGhpcyBlbGVtZW50IGlzIHJlcXVpcmVkLCBpbmRpY2F0ZSB0aGF0IHdlJ3JlIG5vdCByZWFkeSB0byBzYXZlIGlmIHdlXG4gICAgICogZG9uJ3QgeWV0IGhhdmUgZGF0YVxuICAgICAqL1xuICAgIF9wcm9jZXNzUmVxdWlyZWRFbGVtZW50KCkge1xuICAgICAgICAvLyBxdWl0IGlmIHRoaXMgZWxlbWVudCBpc24ndCByZXF1aXJlZCwgb3IgaWYgd2UgYWxyZWFkeSBoYXZlIGEgdmFsdWVcbiAgICAgICAgaWYgKCF0aGlzLl9jb25maWcucmVxdWlyZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIG90aGVyd2lzZSwgc2VuZCBhIG1lc3NhZ2UgdGhhdCB0aGlzIGVsZW1lbnQgaXMgbm90IHJlYWR5IHRvIHNhdmVcbiAgICAgICAgZXZlbnRIYW5kbGVyXzEuZm9ybUV2ZW50SGFuZGxlci5kaXNwYXRjaEV2ZW50KGV2ZW50SGFuZGxlcl8xLkZPUk1fU0FWQUJMRV9DSEFOR0UsIG5ldyBldmVudEhhbmRsZXJfMS5Gb3JtU2F2YWJsZUV2ZW50KHtcbiAgICAgICAgICAgIGhhc0Vycm9yczogZmFsc2UsXG4gICAgICAgICAgICBoYXNNaXNzaW5nUmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVnaXN0ZXJPbk90aGVyQ2hhbmdlTGlzdGVuZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogbGlzdGVuIGZvciBvdGhlciBmaWVsZHMgY2hhbmdpbmcsIGlmIGEgbGlzdGVuZXIgd2FzIHByb3ZpZGVkIGluIHRoZVxuICAgICAqIHRlbXBsYXRlXG4gICAgICovXG4gICAgX3JlZ2lzdGVyT25PdGhlckNoYW5nZUxpc3RlbmVyKCkge1xuICAgICAgICAvLyBkb24ndCBhZGQgYSBsaXN0ZW5lciBpZiB0aGVyZSdzIG5vdGhpbmcgdG8gbGlzdGVuIHRvXG4gICAgICAgIGlmICghdGhpcy5fY29uZmlnLm9uT3RoZXJDaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBldmVudEhhbmRsZXJfMS5mb3JtRXZlbnRIYW5kbGVyLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRIYW5kbGVyXzEuRk9STV9FTEVNX0NIQU5HRSwge1xuICAgICAgICAgICAgZnVuYzogKGV2KSA9PiB7IHRoaXMuX2hhbmRsZU90aGVyQ2hhbmdlKGV2KTsgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDUkVBVEUgRUxFTUVOVFNcbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY3JlYXRlcyBhbGwgZWxlbWVudHMgZm9yIHRoaXMgaW5wdXRcbiAgICAgKi9cbiAgICBfY3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIC8vIGdlbmVyYXRlIHRoZSBlbGVtZW50cyB0aGF0IGFyZSBzaGFyZWQgYmV0d2VlbiBhbGwgZm9ybSBlbGVtZW50c1xuICAgICAgICBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IHRoaXMuX2NvbmZpZy5jbHMsXG4gICAgICAgICAgICBrZXk6IFwiYmFzZVwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IFt7XG4gICAgICAgICAgICAgICAgICAgIGNsczogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiZXJyb3JcIlxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH0sIHRoaXMuX2VsZW1zKTtcbiAgICAgICAgLy8gTGV0IHRoZSBjaGlsZCBoYW5kbGUgYWN0dWFsbHkgY3JlYXRpbmcgdGhlIGVsZW1lbnRzIHRoYXQgbWFrZSBcbiAgICAgICAgLy8gdXAgdGhlIHNwZWNpZmljIG5hdHVyZSBvZiB0aGUgZWxlbWVudFxuICAgICAgICB0aGlzLl9vbkNyZWF0ZUVsZW1lbnRzKCk7XG4gICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBjaGFuZ2UgbGlzdGVuZXIgaWYgd2UgY3JlYXRlZCBvbmVcbiAgICAgICAgaWYgKHRoaXMuX2VsZW1zLmlucHV0KSB7XG4gICAgICAgICAgICB0aGlzLl9yZWdpc3RlcklucHV0TGlzdGVuZXJzKHRoaXMuX2VsZW1zLmlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBnZW5lcmF0ZSB0aGUgc3R5bGVzIGZvciB0aGUgZWxlbWVudCBcbiAgICAgICAgLy8gKHdlIG5lZWQgdG8gZG8gdGhpcyBtYW51YWxseSBiZWNhdXNlIGZvcm0gZWxlbWVudHMgYXJlbid0IFxuICAgICAgICAvLyAgRHJhd2FibGUgZWxlbWVudHMpXG4gICAgICAgIHRoaXMuX2NyZWF0ZVN0eWxlcygpO1xuICAgICAgICAvLyBkZXRlY3Qgd2hldGhlciB0aGUgZWxlbWVudCBzdGFydHMgaGlkZGVuXG4gICAgICAgIGlmIChjc3NfMS5oYXNDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImhpZGRlblwiKSkge1xuICAgICAgICAgICAgdGhpcy5faXNIaWRkZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9yZWdpc3RlcklucHV0TGlzdGVuZXJzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZSB0aGUgbGlzdGVuZXJzIHRoYXQgcGF5IGF0dGVudGlvbiB0byB3aGVuIGNvbnRlbnQgaW4gdGhlIGZvcm0gaGFzXG4gICAgICogdXBkYXRlZFxuICAgICAqL1xuICAgIF9yZWdpc3RlcklucHV0TGlzdGVuZXJzKGlucHV0KSB7XG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VFdmVudEZpcmVkKHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VFdmVudEZpcmVkKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYWRkU3RhbmRhcmRFbGVtc1RvQ29yZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBhZGQgY3JlYXRlZCBlbGVtZW50cyB0byB0aGUgYXBwcm9wcmlhdGUgcGFyZW50XG4gICAgICovXG4gICAgX2FkZFN0YW5kYXJkRWxlbXNUb0NvcmUoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UuYXBwZW5kQ2hpbGQodGhpcy5fbGFiZWxFbGVtKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtcy5pbnB1dCk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEFORExFIExBWU9VVCBPRiBFTEVNRU5UU1xuICAgIC8qKlxuICAgICAqIF9oYW5kbGVTdGFuZGFyZExheW91dFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoZWxwZXIgdG8gaGFuZGxlIGFuIGVsZW1lbnRzIGxheW91dCBiYXNlZCBvbiB0aGVpciBjb25maWdcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGxheW91dCB3YXMgdmFsaWQ7IGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIF9oYW5kbGVTdGFuZGFyZExheW91dCgpIHtcbiAgICAgICAgbGV0IGwgPSBfaW50ZXJmYWNlc18xLkZvcm1FbGVtZW50TGF5b3V0RW51bTtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9jb25maWcubGF5b3V0KSB7XG4gICAgICAgICAgICAvLyBsYWJlbCBkaXNwbGF5cyBpbiB0YWJsZSBjZWxsLCBlbGVtbnQgaW4gb3RoZXIgdGFibGUgY2VsbFxuICAgICAgICAgICAgY2FzZSBsLlRBQkxFOlxuICAgICAgICAgICAgICAgIHRoaXMuX3RhYmxlTGF5b3V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAvLyBsYWJlbCBkaXNwbGF5cyBiZWZvcmUgZWxlbWVudCBpbmxpbmVcbiAgICAgICAgICAgIGNhc2UgbC5GTEVYOlxuICAgICAgICAgICAgICAgIHRoaXMuX2ZsZXhMYXlvdXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGxhYmVsIGRpc3BsYXlzIGxpbmUgYWJvdmUgZWxlbWVudFxuICAgICAgICAgICAgY2FzZSBsLk1VTFRJTElORTpcbiAgICAgICAgICAgICAgICB0aGlzLl9tdWx0aUxpbmVMYXlvdXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGxhYmVsIGRpc3BsYXlzIGFmdGVyIHRoZSBpbnB1dFxuICAgICAgICAgICAgY2FzZSBsLkxBQkVMX0FGVEVSOlxuICAgICAgICAgICAgICAgIHRoaXMuX2xhYmVsQWZ0ZXJMYXlvdXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICogX3RhYmxlTGF5b3V0XG4gICAgKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAqIGRyYXdzIGVsZW1lbnRzIGluIGEgdGFibGUgZm9ybWF0XG4gICAgKi9cbiAgICBfdGFibGVMYXlvdXQoKSB7XG4gICAgICAgIC8vIGJ1aWxkIHRoZSBjZWxscyB0aGF0IHdpbGwgaG9sZCB0aGUgZWxlbWVudHNcbiAgICAgICAgbGV0IGNlbGxzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjsgaSArPSAxKSB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRkXCIsXG4gICAgICAgICAgICAgICAgY2xzOiBcImZybUNlbFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNlbGxzW2ldID0gY2VsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgdGhlIGxhYmVsIGFuZCB0aGUgaW5wdXQgdG8gdGhlIHRhYmxlIGNlbGxzXG4gICAgICAgIGlmICh0aGlzLl9sYWJlbEVsZW0pIHtcbiAgICAgICAgICAgIGNlbGxzWzBdLmFwcGVuZENoaWxkKHRoaXMuX2xhYmVsRWxlbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2VsZW1zLmlucHV0KSB7XG4gICAgICAgICAgICBjZWxsc1sxXS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtcy5pbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBhY3R1YWwgdGFibGUgZWxlbWVudCAmIGFkZCBpdCB0byB0aGUgY29yZSBlbGVtZW50XG4gICAgICAgIHRoaXMuX2VsZW1zLnRhYmxlID0gdGFibGVzXzEuY3JlYXRlVGFibGUoXCJcIiwgXCJcIiwgY2VsbHMpO1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1zLnRhYmxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2ZsZXhMYXlvdXRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogaGFuZGxlIGEgZmxleCBsYXlvdXQgb2YgbGFiZWw6IGVsZW1cbiAgICAgKi9cbiAgICBfZmxleExheW91dCgpIHtcbiAgICAgICAgdGhpcy5fYWRkU3RhbmRhcmRFbGVtc1RvQ29yZSgpO1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImZsZXhcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9tdWx0aUxpbmVMYXlvdXRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogaGFuZGxlIGEgbXVsdGlsaW5lIGxheW91dCBvZiBsYWJlbCBvbiB0b3Agb2YgaW5wdXRcbiAgICAgKi9cbiAgICBfbXVsdGlMaW5lTGF5b3V0KCkge1xuICAgICAgICB0aGlzLl9hZGRTdGFuZGFyZEVsZW1zVG9Db3JlKCk7XG4gICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwibXVsdGlsaW5lXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfbGFiZWxBZnRlckxheW91dFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoYW5kbGUgZGlzcGxheWluZyB0aGUgbGFiZWwgZWxlbWVudCBhZnRlciB0aGUgaW5wdXRcbiAgICAgKi9cbiAgICBfbGFiZWxBZnRlckxheW91dCgpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtcy5pbnB1dCk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UuYXBwZW5kQ2hpbGQodGhpcy5fbGFiZWxFbGVtKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBTQVZFIFRISVMgRklFTERcbiAgICAvKipcbiAgICAgKiBzYXZlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGhhbmRsZSBzYXZpbmcgdGhlIGRhdGEgZnJvbSB0aGlzIGZvcm1cbiAgICAgKiBAcmV0dXJucyBUaGUgZGF0YSBjb250YWluZWQgd2l0aGluIHRoaXMgZm9ybSBlbGVtZW50XG4gICAgICovXG4gICAgc2F2ZShpbnRlcm5hbFVwZGF0ZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjYW5TYXZlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIERldGVybWluZXMgd2hldGhlciB0aGlzIGVsZW1lbnQgaGFzIHRoZSBvcHRpb24gZm9yIHNhdmluZ1xuICAgICAqXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGlzIGVsZW1lbnQgaXMgcHJlcGFyZWQgdG8gc2F2ZVxuICAgICAqL1xuICAgIGNhblNhdmUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoYXNFcnJvcnM6IHRoaXMuX2hhc0Vycm9ycyxcbiAgICAgICAgICAgIGhhc01pc3NpbmdSZXF1aXJlZDogdGhpcy5faGFzQmxhbmtSZXF1aXJlZEVsZW1zKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2hhc0JsYW5rUmVxdWlyZWRFbGVtc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDaGVjayBpZiB0aGlzIGVsZW1lbnQgaGFzIGFueSBtaXNpc25nIHJlcXVpcmVkIGVsZW1lbnRzXG4gICAgICovXG4gICAgX2hhc0JsYW5rUmVxdWlyZWRFbGVtcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jb25maWcucmVxdWlyZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGF0YSAhPT0gdGhpcy5fY29uZmlnLmRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIERBVEEgTUFOQUdFTUVOVFxuICAgIC8qKlxuICAgICAqIHVwZGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoYW5kbGUgc2V0dGluZyBkYXRhIHByb2dyYW1tYXRpY2FsbHlcbiAgICAgKiBAcGFyYW0gICBkYXRhICAgIFRoZSBkYXRhIHRvIHBvcHVsYXRlIGluIHRoaXMgZmllbGRcbiAgICAgKi9cbiAgICB1cGRhdGUoZGF0YSwgYWxsb3dFdmVudHMpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkLCBhbmQgaWYgc28sIG5vdGlmeSBvdGhlcnNcbiAgICAgICAgbGV0IGNoYW5nZWQgPSAhdGhpcy5fdGVzdEVxdWFsaXR5KGRhdGEpO1xuICAgICAgICBpZiAoY2hhbmdlZCAmJiBhbGxvd0V2ZW50cykge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4geyB0aGlzLl9kaXNwYXRjaENoYW5nZUV2ZW50KCk7IH0sIDApO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNsZWFyIHRoZSBmb3JtIGFoZWFkIG9mIHRpbWVcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAvLyBpZiB0aGVyZSdzIG5vIGRhdGEsIGdyYWIgdGhlIGRlZmF1bHQgdmFsdWUgZnJvbSB0aGUgY29uZmlnXG4gICAgICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChkYXRhKSkge1xuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NvbmZpZy5kZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHRoZSBkYXRhIGFuZCB1cGRhdGUgdGhlIFVJXG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLl91cGRhdGVVSShkYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3Rlc3RFcXVhbGl0eVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBkZXRlcm1pbmUgaWYgdGhlIG5ldyB2YWx1ZSBpcyB0aGUgc2FtZSBhcyB0aGUgY3VycmVudCB2YWx1ZVxuICAgICAqL1xuICAgIF90ZXN0RXF1YWxpdHkoZGF0YSkge1xuICAgICAgICByZXR1cm4gY29tcGFyYWJsZV8xLmVxdWFscyhkYXRhLCB0aGlzLl9kYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3VwZGF0ZVVJXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHVwZGF0ZSB0aGUgVUkgZWxlbWVudHMgdG8gaGF2ZSB0aGUgcmlnaHQgZGF0YSwgd2hlbiB0aGUgZGF0YSBoYXMgY2hhbmdlZFxuICAgICAqL1xuICAgIF91cGRhdGVVSShkYXRhKSB7XG4gICAgICAgIGlmICghdGhpcy5fZWxlbXMuaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZSA9IGRhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jbGVhclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiByZXNldCB0aGUgZm9ybSB0byBpdHMgZGVmYXVsdCB2YWx1ZXNcbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IHRoaXMuX2NvbmZpZy5kZWZhdWx0VmFsdWU7XG4gICAgICAgIHRoaXMuX2NsZWFyVUkoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NsZWFyVUlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY2xlYXIgb3V0IHRoZSBmb3JtIGVsZW1lbnRcbiAgICAgKi9cbiAgICBfY2xlYXJVSSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtcy5pbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlID0gdGhpcy5fY29uZmlnLmRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBFVkVOVCBIQU5ETElOR1xuICAgIC8qKlxuICAgICAqIGZvY3VzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFNldCBmb2N1cyB0byB0aGUgaW5wdXQgb2YgdGhpcyBmb3JtIGVsZW1lbnRcbiAgICAgKi9cbiAgICBmb2N1cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtcy5pbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAqIF9kaXNwYXRjaFNhdmFibGVDaGFuZ2VFdmVudFxuICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICogbGV0IGFueSBsaXN0ZW5lcnMga25vdyB0aGF0IHdlIHVwZGF0ZWQgdGhlIHNhdmFibGUgc3RhdHVzIG9mIHRoaXMgZWxlbWVudFxuICAgICovXG4gICAgX2Rpc3BhdGNoU2F2YWJsZUNoYW5nZUV2ZW50KCkge1xuICAgICAgICBldmVudEhhbmRsZXJfMS5mb3JtRXZlbnRIYW5kbGVyLmRpc3BhdGNoRXZlbnQoZXZlbnRIYW5kbGVyXzEuRk9STV9TQVZBQkxFX0NIQU5HRSwgbmV3IGV2ZW50SGFuZGxlcl8xLkZvcm1TYXZhYmxlRXZlbnQoe1xuICAgICAgICAgICAgdGFyZ2V0OiB0aGlzXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2Rpc3BhdGNoQ2hhbmdlRXZlbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogbGV0IGFueSBsaXN0ZW5lcnMga25vdyB0aGF0IHdlIHVwZGF0ZWQgb3VyIHN0dWZmXG4gICAgICovXG4gICAgX2Rpc3BhdGNoQ2hhbmdlRXZlbnQoc3Via2V5KSB7XG4gICAgICAgIGV2ZW50SGFuZGxlcl8xLmZvcm1FdmVudEhhbmRsZXIuZGlzcGF0Y2hFdmVudChldmVudEhhbmRsZXJfMS5GT1JNX0VMRU1fQ0hBTkdFLCBuZXcgZXZlbnRIYW5kbGVyXzEuRm9ybUVsZW1DaGFuZ2VFdmVudCh7XG4gICAgICAgICAgICBrZXk6IHRoaXMuX2lkLFxuICAgICAgICAgICAgc3Via2V5OiBzdWJrZXksXG4gICAgICAgICAgICBkYXRhOiB0aGlzLl9kYXRhLFxuICAgICAgICAgICAgdGFyZ2V0OiB0aGlzXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2hhbmRsZU90aGVyQ2hhbmdlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHdyYXBwZXIgYXJvdW5kIG91ciBsaXN0ZW5lciB0byBlbnN1cmUgdGhlIGRhdGEgZ2V0cyBwYXJzZWQgYXBwcm9wcmlhdGVseVxuICAgICAqL1xuICAgIF9oYW5kbGVPdGhlckNoYW5nZShldikge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbmZpZy5vbk90aGVyQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY29uZmlnLm9uT3RoZXJDaGFuZ2UoZXYuY29udGV4dC5rZXksIGV2LmNvbnRleHQuZGF0YSwgdGhpcyk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEFORExFIFVTRVIgQ0hBTkdFUyBUTyBUSEUgRklFTERcbiAgICAvKipcbiAgICAgKiBfY2hhbmdlRXZlbnRGaXJlZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoYW5kbGUgd2hlbiB0aGUgaW5wdXQgZWxlbWVudCBoYXMgY2hhbmdlZCBpbiBvcmRlciB0byBraWNrIG9mZiB0aGVcbiAgICAgKiB2YWxpZGF0aW9uIHByb2Nlc3NcbiAgICAgKi9cbiAgICBfY2hhbmdlRXZlbnRGaXJlZChmaWVsZFN0aWxsSGFzRm9jdXMpIHtcbiAgICAgICAgLy8gY2xlYXIgb3V0IGFueSBjdXJyZW50IGVycm9yc1xuICAgICAgICB0aGlzLl9jbGVhckVycm9ycygpO1xuICAgICAgICAvLyBpZiB3ZSBkb24ndCB2YWxpZGF0ZSB1bnRpbCB0aGUgZmllbGQgaGFzIGxvc3QgZm9jdXMsIGNvbnRpbnVlIG9uXG4gICAgICAgIGlmIChmaWVsZFN0aWxsSGFzRm9jdXMgJiYgIXRoaXMuX3Nob3VsZFZhbGlkYXRlQmVmb3JlQmx1cigpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm90aWZ5IGxpc3RlbmVycyB0aGF0IHNvbWV0aGluZyB0aGF0IG1pZ2h0IGFmZmVjdCBzYXZhYmlsaXR5IGhhcyBvY2N1cnJlZFxuICAgICAgICBhc3luY18xLndhaXQoMCkudGhlbigoKSA9PiB0aGlzLl9kaXNwYXRjaFNhdmFibGVDaGFuZ2VFdmVudCgpKTtcbiAgICAgICAgLy8gZ3JhYiAmIHZhbGlkYXRlIHRoZSBkYXRhIGZyb20gdGhlIGZpZWxkXG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2dldFZhbHVlRnJvbUZpZWxkKGZpZWxkU3RpbGxIYXNGb2N1cyk7XG4gICAgICAgIGlmICh0aGlzLl90ZXN0RXF1YWxpdHkodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZhbGlkYXRpb25SZXN1bHQgPSB0aGlzLl92YWxpZGF0ZSh2YWx1ZSk7XG4gICAgICAgIGlmICghdmFsaWRhdGlvblJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdGlmeSBldmVudCBsaXN0ZW5lcnMgdGhhdCBzb21ldGhpbmcgaGFzIHN1Y2Nlc3NmdWxseSBjaGFuZ2VkXG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoQ2hhbmdlRXZlbnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3Nob3VsZFZhbGlkYXRlQmVmb3JlQmx1clxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBkZXRlcm1pbmUgd2hldGhlciB2YWxpZGF0aW9uIHNob3VsZCBvY2N1ciBvbiBldmVyeSBjaGFuZ2UsIG9yIHdoZXRoZXIgaXRcbiAgICAgKiBzaG91bGQgb25seSBvY2N1ciB1cG9uIG1vdmluZyBmb2N1cyBhd2F5IGZyb20gdGhlIGZpZWxkXG4gICAgICovXG4gICAgX3Nob3VsZFZhbGlkYXRlQmVmb3JlQmx1cigpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFZBTElEQVRJT05cbiAgICAvKipcbiAgICAgKiBfdmFsaWRhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogdmFsaWRhdGUgdGhhdCB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGlzIGZpZWxkIGlzIGFwcHJvcHJpYXRlXG4gICAgICogQHBhcmFtICAgdmFsdWUgICBkYXRhIHdlIGFyZSB2YWxpZGF0aW5nXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsaWRhdGlvbiBzdWNjZWVkZWQsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIF92YWxpZGF0ZSh2YWx1ZSkge1xuICAgICAgICAvLyBzcGluIHVwIHRoZSBvYmplY3QgdGhhdCB3aWxsIGdldCB1cGRhdGVkIGlmIHRoZSB2YWxpZGF0aW9uIGVuY291bnRlcnMgYW4gZXJyb3JcbiAgICAgICAgbGV0IGVycm9yU3RyaW5nID0ge1xuICAgICAgICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICAgICAgICBkZXRhaWxzOiBcIlwiXG4gICAgICAgIH07XG4gICAgICAgIC8vIHJ1biB0aHJvdWdoIG91ciBjdXN0b20gdmFsaWRhdGlvblxuICAgICAgICBsZXQgdmFsaWRhdGlvblJlc3VsdCA9IHRoaXMuX3J1blZhbGlkYXRpb24odmFsdWUsIGVycm9yU3RyaW5nKTtcbiAgICAgICAgLy8gaWYgdmFsaWRhdGlvbiBzdWNjZWVkZWQsIHNldCBvdXIgZGF0YSB0byB0aGUgcGFzc2VkLWluIHZhbHVlXG4gICAgICAgIGlmICh2YWxpZGF0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgc2hvdyB0aGUgYXBwcm9wcmlhdGUgZXJyb3Igc3RhdGVcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX29uVmFsaWRhdGlvbkVycm9yKGVycm9yU3RyaW5nKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcnVuVmFsaWRhdGlvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiAgcnVucyB0aGUgdXNlci1kZWZpbmVkIHZhbGlkYXRpb24gZnVuY3Rpb24gJiByZXR1cm5zIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBfcnVuVmFsaWRhdGlvbihkYXRhLCBlcnJvclN0cmluZykge1xuICAgICAgICAvLyBydW4gaXQgdGhyb3VnaCB0aGUgdXNlci1kZWZpbmVkIGV2YWwgZnVuY3Rpb25cbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5vblZhbGlkYXRlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NvbmZpZy5vblZhbGlkYXRlKGRhdGEsIGVycm9yU3RyaW5nKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIG1hZGUgaXQgdGhpcyBmYXIsIGVpdGhlciB0aGVyZSB3YXMgbm8gdmFsaWRhdGlvbiwgb3IgaXQgc3VjY2VlZGVkXG4gICAgICAgIHRoaXMuX2hhc0Vycm9ycyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBFUlJPUiBIQU5ETElOR1xuICAgIC8qKlxuICAgICAqIF9vblZhbGlkYXRpb25FcnJvclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiB0YWtlIGFuIGFjdGlvbiBiYXNlZCBvbiB2YWxpZGF0aW9uIGZhaWxpbmcsIHRha2luZyBpbnRvIGNvbnNpZGVyYXRpb25cbiAgICAgKiB0aGUgdmFsaWRhdGlvbiB0eXBlIG9mIHRoaXMgZmllbGRcbiAgICAgKi9cbiAgICBfb25WYWxpZGF0aW9uRXJyb3IoZXJyKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUVycm9yRWxlbShlcnIpO1xuICAgICAgICB0aGlzLl91cGRhdGVJbnB1dE9uRXJyb3IoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3VwZGF0ZUVycm9yRWxlbVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiB1cGRhdGUgdGhlIGVycm9yIGVsZW1lbnQgb2YgdGhpcyBmaWVsZCB0byBzaG93IHRoZSBhcHByb3ByaWF0ZSBtZXNzYWdlXG4gICAgICovXG4gICAgX3VwZGF0ZUVycm9yRWxlbShlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtcy5lcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtc2cgPSB0aGlzLl9idWlsZFZhbGlkYXRpb25FcnJvckRpc3BsYXkoZXJyKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuZXJyb3IuaW5uZXJIVE1MID0gbXNnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfdXBkYXRlSW5wdXRPbkVycm9yXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHVwZGF0ZSB0aGUgaW5wdXQgZWxlbWVudCB3aGVuIGEgdmFsaWRhdGlvbiBhdHRlbXB0IGZhaWxlZFxuICAgICAqL1xuICAgIF91cGRhdGVJbnB1dE9uRXJyb3IoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZWxlbXMuaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgIHN3aXRjaCAodGhpcy5fY29uZmlnLnZhbGlkYXRpb25UeXBlKSB7XG4gICAgICAgICAgICBjYXNlIF9pbnRlcmZhY2VzXzEuVmFsaWRhdGlvblR5cGUuQ0xFQVJfRVJST1JfVkFMVUU6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9jb25maWcuZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18xLlZhbGlkYXRpb25UeXBlLktFRVBfRVJST1JfVkFMVUU6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5WYWxpZGF0aW9uVHlwZS5OT19CTFVSX1BST0NFU1NFRDpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5fZWxlbXMuaW5wdXQuZm9jdXMoKTsgfSwgMTApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18xLlZhbGlkYXRpb25UeXBlLlJFU1RPUkVfT0xEX1ZBTFVFOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fZGF0YTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9jb25maWcuZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9idWlsZFZhbGlkYXRpb25FcnJvckRpc3BsYXlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogZ2VuZXJhdGUgdGhlIGVycm9yIG1lc3NhZ2UgYmFzZWQgb24gdGhlIGVycm9yIGRldGFpbHMgcmV0dXJuZWQgYnkgdGhlXG4gICAgICogdmFsaWRhdGlvbiBmdW5jdGlvblxuICAgICAqL1xuICAgIF9idWlsZFZhbGlkYXRpb25FcnJvckRpc3BsYXkoZXJyKSB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJJbnZhbGlkIGRhdGFcIjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbXNnO1xuICAgICAgICBtc2cgPSBlcnIudGl0bGUgPyBlcnIudGl0bGUgKyBcIjogXCIgOiBcIlVoLW9oOiBcIjtcbiAgICAgICAgbXNnICs9IGVyci5kZXRhaWxzIHx8ICh0aGlzLl9pZCArIFwiJ3MgZGF0YSBjb3VsZG4ndCBiZSBzYXZlZFwiKTtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NsZWFyRXJyb3JzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNsZWFyIGFsbCBvZiB0aGUgZXJyb3JzXG4gICAgICpcbiAgICAgKi9cbiAgICBfY2xlYXJFcnJvcnMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9lbGVtcy5lcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fZWxlbXMuZXJyb3IuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFNUQU5EQVJEIEVMRU1FTlQgQ1JFQVRJT05cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlU3RhbmRhcmRJbnB1dFxuICAgICAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqICBjcmVhdGUgYSBzdGFuZGFyZCBpbnB1dCBiYXNlZCBvbiB0aGUgZm9ybSB0eXBlXG4gICAgICovXG4gICAgX2NyZWF0ZVN0YW5kYXJkSW5wdXQoKSB7XG4gICAgICAgIGxldCBhdHRyID0ge307XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcudXNlR2hvc3RUZXh0KSB7XG4gICAgICAgICAgICBhdHRyLnBsYWNlaG9sZGVyID0gdGhpcy5fY29uZmlnLmxhYmVsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0ID0gaGVscGVyc18xLmNyZWF0ZUlucHV0RWxlbWVudCh0aGlzLl9pZCArIFwifGlucHV0XCIsIFwiaW5wdXRcIiwgX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtW3RoaXMudHlwZV0sIHRoaXMuX2RhdGEsIGF0dHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlU3RhbmRhcmRMYWJlbFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiAgY3JlYXRlIGEgc3RhbmRhcmQgbGFiZWwgZm9yIHRoZSBpbnB1dFxuICAgICAqL1xuICAgIF9jcmVhdGVTdGFuZGFyZExhYmVsKGVtYmVkSW4pIHtcbiAgICAgICAgbGV0IGxibCA9IHRoaXMuX2NvbmZpZy5sYWJlbDtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy51c2VHaG9zdFRleHQpIHtcbiAgICAgICAgICAgIGxibCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWxlbXMubGJsQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImxhYmVsQ29udGFpbmVyXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IGVtYmVkSW5cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmxibCA9IGhlbHBlcnNfMS5jcmVhdGVMYWJlbEZvcklucHV0KGxibCwgdGhpcy5faWQsIFwibGJsXCIsIHRoaXMuX2VsZW1zLmxibENvbnRhaW5lcik7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcuaGVscFRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLmhlbHBUZXh0SWNvbiA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInNwYW5cIixcbiAgICAgICAgICAgICAgICBjbHM6IFwiaGVscFRleHRJY29uXCIsXG4gICAgICAgICAgICAgICAgY29udGVudDogXCI/XCIsXG4gICAgICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5sYmxDb250YWluZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGV0IHRvb2x0aXAgPSBuZXcgdG9vbHRpcF8xLlRvb2x0aXAoeyBjb250ZW50OiB0aGlzLl9jb25maWcuaGVscFRleHQgfSwgdGhpcy5fZWxlbXMuaGVscFRleHRJY29uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlU3RhbmRhcmRMYWJlbGVkSW5wdXRcbiAgICAgKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjcmVhdGUgYW4gaW5wdXQgZmllbGQgd2l0aCBhIGxhYmVsLCBiYXNlZCBvbiB0aGUgZm9ybSB0eXBlXG4gICAgICovXG4gICAgX2NyZWF0ZVN0YW5kYXJkTGFiZWxlZElucHV0KHNob3VsZEVtYmVkKSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVN0YW5kYXJkSW5wdXQoKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlU3RhbmRhcmRMYWJlbCgoc2hvdWxkRW1iZWQgPyB0aGlzLl9lbGVtcy5pbnB1dCA6IG51bGwpKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDTE9ORSBBTiBFTEVNRU5UXG4gICAgLyoqXG4gICAgICogX2Nsb25lRm9ybUVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogd3JhcHBlciBhcm91bmQgdGhlIGNsb25pbmcgbWV0aG9kIHNvIHdlIGRvbid0IHJ1biBpbnRvIHByb3RlY3Rpb24gaXNzdWVzXG4gICAgICovXG4gICAgX2Nsb25lRm9ybUVsZW1lbnQoZWxlbVRvQ2xvbmUsIGFwcGVuZFRvSUQpIHtcbiAgICAgICAgaWYgKCFhcHBlbmRUb0lEKSB7XG4gICAgICAgICAgICBhcHBlbmRUb0lEID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbVRvQ2xvbmUuX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JRCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVDbG9uZWRFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZXMgYSBuZXcgdmVyc2lvbiBvZiB0aGUgc2FtZSBmb3JtIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIGFwcGVuZFRvSUQgIElEIHRvIGFkZCB0byB0aGUgY3VycmVudCBlbGVtIElEIHdoZW4gY2xvbmluZyAodG9cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICBhdm9pZCBpZCBjb25mbGljdHMpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgY2xvbmVkIGZvcm0gZWxlbWVudFxuICAgICAqL1xuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX2lkICsgYXBwZW5kVG9JRCwgdGhpcy5fY29uZmlnKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBHRVQgRUxFTUVOVFMgQUZURVIgQ1JFQVRJT05cbiAgICBnZXRGaWVsZChpZCkge1xuICAgICAgICBpZiAoaWQgPT09IHRoaXMuX2lkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBIQU5ETEUgU0hPV0lORyBPUiBISURJTkcgVEhFIEZJRUxEXG4gICAgLyoqXG4gICAgICogc2hvd1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBlbnN1cmUgdGhhdCB0aGlzIGZpZWxkIGlzIHNob3duXG4gICAgICovXG4gICAgc2hvdygpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNIaWRkZW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pc0hpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICB5aWVsZCB0cmFuc2l0aW9uXzEudHJhbnNpdGlvbih0aGlzLl9lbGVtcy5iYXNlLCB7IGhlaWdodDogXCIwXCIgfSwgeyBoZWlnaHQ6IFwiPGhlaWdodD5cIiB9LCAyMDApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogaGlkZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBlbnN1cmUgdGhhdCB0aGlzIGZpZWxkIGlzbid0IHNob3duXG4gICAgICovXG4gICAgaGlkZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0hpZGRlbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2lzSGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHlpZWxkIHRyYW5zaXRpb25fMS50cmFuc2l0aW9uKHRoaXMuX2VsZW1zLmJhc2UsIHsgbWF4SGVpZ2h0OiBcIjxoZWlnaHQ+XCIsIG92ZXJmbG93OiBcImhpZGRlblwiIH0sIHsgbWF4SGVpZ2h0OiBcIjAgIWltcG9ydGFudFwiLCBvdmVyZmxvdzogXCJoaWRkZW5cIiB9LCAyMDApO1xuICAgICAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJoaWRkZW5cIik7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuRmllbGQgPSBGaWVsZDtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG4vKiogcGxhY2Vob2xkZXIgZm9yIGluZGl2aWR1YWwgQ1NTIHN0eWxlcyAqL1xuRmllbGQuX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi5raXBGb3JtRWxlbSwgLmtpcEZvcm1FbGVtIGlucHV0LCAua2lwRm9ybUVsZW0gc2VsZWN0LCAua2lwRm9ybUVsZW0gdGV4dGFyZWFcIjoge1xuICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICBmb250RmFtaWx5OiBcIlNlZ29lIFVJLCBPcGVuIFNhbnMsIEhlbHZldGljYVwiLFxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW1cIjoge1xuICAgICAgICBtYXJnaW5Ub3A6IFwiMTBweFwiLFxuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5oaWRkZW5cIjoge1xuICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgICAgICAvLyBUT0RPOiBhbGxvdyBmb3IgdHJhbnNpdGlvbnNcbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtIGlucHV0LCAua2lwRm9ybUVsZW0gdGV4dGFyZWEsIC5raXBGb3JtRWxlbSBzZWxlY3RcIjoge1xuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNDQ0NcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjNweFwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbSB0ZXh0YXJlYVwiOiB7XG4gICAgICAgIG1pbkhlaWdodDogXCIxMDBweFwiLFxuICAgICAgICBtYXhXaWR0aDogXCIxMDAlXCJcbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtIC5sYWJlbENvbnRhaW5lclwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbSAuaGVscFRleHRJY29uXCI6IHtcbiAgICAgICAgd2lkdGg6IFwiMTlweFwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTlweFwiLFxuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICBwYWRkaW5nVG9wOiBcIjRweFwiLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiPGZvcm1TdWJUaGVtZT5cIixcbiAgICAgICAgY29sb3I6IFwiI0ZGRlwiLFxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjAuOGVtXCIsXG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgZm9udEZhbWlseTogXCJTcGVjaWFsRWxpdGVcIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICBcIiY6aG92ZXJcIjoge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogXCJzY2FsZSgxLjEpXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0gLmxibFwiOiB7XG4gICAgICAgIGZvbnRTaXplOiBcIjAuOWVtXCIsXG4gICAgICAgIGNvbG9yOiBcIiM2NjZcIixcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5yZXF1aXJlZCAubGJsXCI6IHt9LFxuICAgIFwiLmtpcEZvcm1FbGVtLnJlcXVpcmVkIC5sYmw6YWZ0ZXJcIjoge1xuICAgICAgICBjb250ZW50OiAnXCIqXCInLFxuICAgICAgICBjb2xvcjogXCI8Zm9ybVN1YlRoZW1lPlwiLFxuICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgbWFyZ2luTGVmdDogXCIycHhcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0gLmVycm9yXCI6IHtcbiAgICAgICAgY29sb3I6IFwiI0MzMFwiLFxuICAgICAgICBmb250U2l6ZTogXCIwLjdlbVwiLFxuICAgICAgICBmb250U3R5bGU6IFwiaXRhbGljXCJcbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtLmZsZXhcIjoge1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICBcIj4gZGl2Om5vdCguZXJyb3IpLCA+IGxhYmVsLCA+IHNwYW4sID4gaW5wdXRcIjoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogXCIxMHB4XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0ubXVsdGlsaW5lXCI6IHtcbiAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICBcImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0XCI6IHtcbiAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiNXB4XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogbWFwXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBMb29wIHRocm91Z2ggYWxsIGtleXMgaW4gYW4gb2JqZWN0IG9yIGFycmF5IGFuZCBwZXJmb3JtIGFuIGFjdGlvbiBvbiBlYWNoXG4gKiBlbGVtZW50LiBTaW1pbGFyIHRvIEFycmF5Lm1hcC5cbiAqXG4gKiBAcGFyYW0gICBvYmplY3QgICAgICBUaGUgb2JqZWN0IHRvIGxvb3AgdGhyb3VnaFxuICogQHBhcmFtICAgY2FsbGJhY2sgICAgV2hhdCB0byBkbyB3aXRoIGVhY2ggZWxlbWVudFxuICogQHBhcmFtICAgc2hvdWxkUXVpdCAgRnVuY3Rpb24gdG8gZXZhbHVhdGUgd2hldGhlciB3ZSBhcmUgZG9uZSBsb29waW5nXG4gKi9cbmZ1bmN0aW9uIG1hcChvYmplY3QsIGNhbGxiYWNrLCBzaG91bGRRdWl0KSB7XG4gICAgbGV0IG91dCA9IFtdO1xuICAgIGlmICghb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8vIFVzZSB0aGUgZGVmYXVsdCBtYXAgZnVuY3Rpb24gaWYgYXZhaWxhYmxlXG4gICAgaWYgKG9iamVjdC5tYXApIHtcbiAgICAgICAgbGV0IGRvbmU7XG4gICAgICAgIG9iamVjdC5tYXAoKHZhbHVlLCBrZXksIGFycikgPT4ge1xuICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gY2FsbGJhY2sodmFsdWUsIGtleSwgYXJyKTtcbiAgICAgICAgICAgIG91dC5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgcXVpdCBjb25kaXRpb24sIHRlc3QgaXQgJiBxdWl0IGlmIGFwcHJvcHJpYXRlXG4gICAgICAgICAgICBpZiAoIXNob3VsZFF1aXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2hvdWxkUXVpdCgpKSB7XG4gICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBPdGhlcndpc2UsIGRvIGEgc3RhbmRhcmQgb2JqZWN0IG1hcFxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IGNudCA9IDA7XG4gICAgICAgIGxldCBrZXk7XG4gICAgICAgIC8vIERvIGl0IHNhZmVseSB3aXRoIHRoZSBhcHByb3ByaWF0ZSBjaGVja3NcbiAgICAgICAgZm9yIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gY2FsbGJhY2sob2JqZWN0W2tleV0sIGtleSwgY250KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNudCArPSAxO1xuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYSBxdWl0IGNvbmRpdGlvbiwgdGVzdCBpdCAmIHF1aXQgaWYgYXBwcm9wcmlhdGVcbiAgICAgICAgICAgICAgICBpZiAoIXNob3VsZFF1aXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzaG91bGRRdWl0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnRzLm1hcCA9IG1hcDtcbi8qKlxuICogZ2V0TmV4dEtleVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogR3JhYiB0aGUgbmV4dCBrZXllZCBlbGVtZW50IGluIGFuIG9iamVjdC4gVGhpcyBpcyB0ZXJyaWJseSB1bi1wZXJmb3JtYW50IGluXG4gKiBhbGwgYnV0IHRoZSBmaXJzdCBrZXkgY2FzZS5cbiAqXG4gKiBAcGFyYW0gICBvYmplY3QgICAgVGhlIG9iamVjdCB0byBnZXQgdGhlIGtleSBmcm9tXG4gKiBAcGFyYW0gICBsYXN0S2V5ICAgSWYgcHJvdmlkZWQsIHRoZSBrZXkgYmVmb3JlIHRoZSBrZXkgd2UncmUgbG9va2luZyBmb3JcbiAqXG4gKiBAcmV0dXJucyBUaGUgbmV4dCBrZXkgZm9yIHRoaXMgZWxlbWVudFxuICovXG5mdW5jdGlvbiBnZXROZXh0S2V5KG9iamVjdCwgbGFzdEtleSkge1xuICAgIGxldCBwcm9wTmFtZTtcbiAgICBsZXQgbmV4dEtleSA9ICghbGFzdEtleSk7XG4gICAgZm9yIChwcm9wTmFtZSBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIGlmIChuZXh0S2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3BOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocHJvcE5hbWUgPT09IGxhc3RLZXkpIHtcbiAgICAgICAgICAgICAgICBuZXh0S2V5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbn1cbmV4cG9ydHMuZ2V0TmV4dEtleSA9IGdldE5leHRLZXk7XG4vKipcbiAqIGdldEtleXNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHJldHVybiB0aGUga2V5cyBhc3NvY2lhdGVkIHdpdGggdGhlIHNwZWNpZmllZCBvYmplY3Q7IHdyYXBwZXIgYXJvdW5kXG4gKiBPYmplY3Qua2V5cywgYnV0IGFsc28gZmlsdGVycyBvdXQga2V5cyB0aGF0IGFyZW4ndFxuICovXG5mdW5jdGlvbiBnZXRLZXlzKG9iamVjdCkge1xuICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KSB8fCBbXTtcbiAgICAvLyByZW1vdmUgYW55IGtleXMgdGhhdCBkb24ndCBiZWxvbmcgZGlyZWN0bHkgdG8gdGhpcyBvYmplY3RzXG4gICAgZm9yIChsZXQgaSA9IGtleXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgbGV0IGtleSA9IGtleXNbaV07XG4gICAgICAgIGlmICghb2JqZWN0Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIGtleXMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xufVxuZXhwb3J0cy5nZXRLZXlzID0gZ2V0S2V5cztcbi8qKlxuICoga2V5Q291bnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGRldGVybWluZSB0aGUgbnVtYmVyIG9mIHVuaXF1ZSBrZXlzIG9uIHRoZSBzcGVjaWZpZWQgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGtleUNvdW50KG9iamVjdCkge1xuICAgIHJldHVybiBnZXRLZXlzKG9iamVjdCkubGVuZ3RoO1xufVxuZXhwb3J0cy5rZXlDb3VudCA9IGtleUNvdW50O1xuLyoqXG4gKiBpc0VtcHR5T2JqZWN0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDaGVja3MgaWYgdGhlIHNwZWNpZmllZCBvYmplY3QgZG9lc24ndCBoYXZlIGFueSBrZXlzXG4gKiBAcmV0dXJucyBUcnVlIGlmIG5vIHVuaXF1ZSBrZXlzIGFyZSBvbiB0aGlzIG9iamVjdFxuICovXG5mdW5jdGlvbiBpc0VtcHR5T2JqZWN0KG9iamVjdCkge1xuICAgIHJldHVybiAoIWdldE5leHRLZXkob2JqZWN0KSk7XG59XG5leHBvcnRzLmlzRW1wdHlPYmplY3QgPSBpc0VtcHR5T2JqZWN0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIGlzTnVsbE9yVW5kZWZpbmVkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgZGF0YSBwYXNzZWQgaW4gaGFzIHZhbHVlXG4gKlxuICogQHBhcmFtICAgdmFsdWUgICBUaGUgdmFsdWUgdG8gY2hlY2sgZm9yIG51bGwgLyB1bmRlZmluZWRcbiAqXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSB2YWx1ZSBpcyBudWxsIG9yIHVuZGVmaW5lZFxuICovXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZCh2YWx1ZSwgc3RyQ2hlY2spIHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoc3RyQ2hlY2sgJiYgdmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG4vKipcbiAqIHBpZWNlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEdldHMgYSBwaWVjZSBvZiBhIGRlbGltaXRlZCBzdHJpbmdcbiAqXG4gKiBAcGFyYW0gXHRzdHIgXHRcdFRoZSBzdHJpbmcgdG8gZ3JhYiBhIHBpZWNlIGZyb21cbiAqIEBwYXJhbSBcdGRlbGltIFx0VGhlIGNoYXJhY3RlciAob3IgY2hhcmFjdGVycykgdGhhdCBhcmUgZGVsaW1pdGluZyB0aGUgc3RyaW5nXG4gKiBAcGFyYW0gXHRwaWVjZSBcdFRoZSBwaWVjZSBudW1iZXIgdG8gZ2V0LiBEZWZhdWx0cyB0byAxIGlmIG5vdCBwYXNzZWQgaW4uXG4gKlxuICogQHJldHVybiBUaGUgc3BlY2lmaWVkIHBpZWNlIG9mIHRoZSBzdHJpbmcsIFwiXCIgaWYgaXQgZG9lc24ndCBleGlzdFxuICovXG5mdW5jdGlvbiBwaWVjZShzdHIsIGRlbGltLCBwYyA9IDEpIHtcbiAgICBsZXQgc3BsaXRfYXJyO1xuICAgIHNwbGl0X2FyciA9IHN0ci5zcGxpdChkZWxpbSk7XG4gICAgcmV0dXJuIHNwbGl0X2FycltwY10gfHwgXCJcIjtcbn1cbmV4cG9ydHMucGllY2UgPSBwaWVjZTtcbjtcbi8qKlxuICogYWRkUGllY2VcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQWRkIGEgbmV3IHBpZWNlIHRvIGEgZGVsaW1pdGVkIHN0cmluZywgYWRkaW5nIHRoZSBhcHByb3ByaWF0ZSBkZWxpbWl0ZXIgaWZcbiAqIGFwcHJvcHJpYXRlIHRvIGRvIHNvXG4gKlxuICogQHBhcmFtXHRzdHJcdFx0XHRUaGUgc3RyaW5nIHRvIGFkZCBhIHBpZWNlIHRvXG4gKiBAcGFyYW1cdG5leHRQaWVjZVx0VGhlIG5leHQgcGllY2UgdG8gYWRkIHRvIHRoZSBzdHJpbmdcbiAqIEBwYXJhbVx0ZGVsaW1cdFx0RGVsaW1pdGVyIHRvIHVzZSB0byBzZXBhcmF0ZSBwaWVjZXNcbiAqXG4gKiBAcmV0dXJuc1x0VGhlIHBpZWNlZC10b2dldGhlciBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gYWRkUGllY2Uoc3RyLCBuZXh0UGllY2UsIGRlbGltKSB7XG4gICAgaWYgKHN0ci5sZW5ndGggPiAwKSB7XG4gICAgICAgIHN0ciArPSBkZWxpbTtcbiAgICB9XG4gICAgcmV0dXJuIHN0ciArIG5leHRQaWVjZTtcbn1cbmV4cG9ydHMuYWRkUGllY2UgPSBhZGRQaWVjZTtcbi8qKlxuICogdGl0bGVDYXNlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENhcGl0YWxpemVzIHRoZSBmaXJzdCBsZXR0ZXIgb2YgZWFjaCB3b3JkIG9mIGEgZ2l2ZW4gc3RyaW5nLCBhbmQgY29udmVydHMgYWxsIGVsc2UgdG8gbG93ZXJjYXNlXG4gKlxuICogQHBhcmFtIFx0c3RyICAgXHRUaGUgc3RyaW5nIHRvIGNvbnZlcnQgdG8gdGl0bGUgY2FzZVxuICogQHBhcmFtIFx0ZGVsaW0gXHRXaGF0IHNlcGFyYXRlcyB0aGUgZGlmZmVyZW50IHdvcmRzIGluIHRoaXMgc3RyaW5nXG4gKlxuICogQHJldHVybnMgVGhlIHN0cmluZywgbm93IGluIHRpdGxlIGNhc2VcbiAqL1xuZnVuY3Rpb24gdGl0bGVDYXNlKHN0ciwgZGVsaW0gPSBcIiBcIikge1xuICAgIGxldCB3b3JkcztcbiAgICBsZXQgdztcbiAgICBsZXQgb3V0O1xuICAgIG91dCA9IFwiXCI7XG4gICAgd29yZHMgPSBzdHIuc3BsaXQoZGVsaW0pO1xuICAgIGZvciAodyA9IDA7IHcgPCB3b3Jkcy5sZW5ndGg7IHcgKz0gMSkge1xuICAgICAgICBpZiAodyAhPT0gMCkge1xuICAgICAgICAgICAgb3V0ICs9IGRlbGltO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSBjaGFyQXQod29yZHNbd10sIDApLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIG91dCArPSByZXN0KHdvcmRzW3ddLCAxKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0cy50aXRsZUNhc2UgPSB0aXRsZUNhc2U7XG47XG4vKipcbiAqIHNlbnRlbmNlQ2FzZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDYXBpdGFsaXplcyB0aGUgZmlyc3QgbGV0dGVyIG9mIGEgZ2l2ZW4gc3RyaW5nLCBhbmQgY29udmVydHMgdGhlIHJlc3QgdG9cbiAqIGxvd2VyY2FzZVxuICpcbiAqIEBwYXJhbSBcdHN0ciAgIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBzdHJpbmcsIG5vdyBpbiBzZW50ZW5jZSBjYXNlXG4gKi9cbmZ1bmN0aW9uIHNlbnRlbmNlQ2FzZShzdHIpIHtcbiAgICBsZXQgb3V0O1xuICAgIG91dCA9IGNoYXJBdChzdHIsIDApLnRvVXBwZXJDYXNlKCk7XG4gICAgb3V0ICs9IHJlc3Qoc3RyLCAxKS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnRzLnNlbnRlbmNlQ2FzZSA9IHNlbnRlbmNlQ2FzZTtcbjtcbi8qKlxuICogY2hhckF0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFNsaWdodGx5IG1vcmUgbWVtb3JhYmxlIHdheSB0byBnZXQgYSBjaGFyYWN0ZXIgYXQgYSBnaXZlbiBwb3NpdGlvbiBpbiBhXG4gKiBzdHJpbmdcbiAqXG4gKiBAcGFyYW0gXHRzdHIgXHRUaGUgc3RyaW5nIHRvIHRha2UgdGhlIGNoYXJhY3RlciBvdXQgb2ZcbiAqIEBwYXJhbSBcdGlkeCBcdFdoYXQgaW5kZXggb2YgdGhlIHN0cmluZyB0byBnZXQgdGhlIGNoYXJhY3RlciBvZlxuICpcbiAqIEByZXR1cm4gVGhlIGNoYXJhY3RlciBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uXG4gKi9cbmZ1bmN0aW9uIGNoYXJBdChzdHIsIGlkeCkge1xuICAgIHJldHVybiBzdHIuc3Vic3RyKGlkeCwgMSk7XG59XG5leHBvcnRzLmNoYXJBdCA9IGNoYXJBdDtcbjtcbi8qKlxuICogcmVzdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBHZXRzIHRoZSBzdWJzdHJpbmcgb2YgYSBzdHJpbmcgc3RhcnRpbmcgZnJvbSBhIGdpdmVuIGluZGV4XG4gKlxuICogQHBhcmFtIFx0c3RyIFx0VGhlIHN0cmluZyB0byBnZXQgdGhlIHN1YnN0cmluZyBvZlxuICogQHBhcmFtIFx0aWR4IFx0V2hhdCBpbmRleCB0byBzdGFydCB0aGUgc3Vic3RyaW5nIGF0XG4gKlxuICogQHJldHVybiBUaGUgcmVzdCBvZiB0aGUgc3RyaW5nIGFmdGVyIHRoZSBwcm92aWRlZCBpbmRleFxuICovXG5mdW5jdGlvbiByZXN0KHN0ciwgaWR4KSB7XG4gICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoaWR4LCBzdHIubGVuZ3RoKTtcbn1cbmV4cG9ydHMucmVzdCA9IHJlc3Q7XG47XG4vKipcbiAqIHRyaW1cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVHJpbXMgYWxsIHdoaXRlIHNwYWNlIG9mZiBvZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0gXHRzdHIgXHRUaGUgc3RyaW5nIHRvIHRyaW1cbiAqXG4gKiBAcmV0dXJuIFRoZSB0cmltbWVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiB0cmltKHN0cikge1xuICAgIGxldCByZXQ7XG4gICAgcmV0ID0gc3RyLnJlcGxhY2UoL15cXHMqL2csIFwiXCIpOyAvLyBSZXBsYWNlIHdoaXRlIHNwYWNlIGF0IHRoZSBiZWdpbm5pbmdcbiAgICByZXQgPSByZXQucmVwbGFjZSgvXFxzKj8kL2csIFwiXCIpOyAvLyBSZXBsYWNlIHdoaXRlIHNwYWNlIGF0IHRoZSBlbmRcbiAgICByZXR1cm4gcmV0O1xufVxuZXhwb3J0cy50cmltID0gdHJpbTtcbjtcbi8qKlxuICogc3RyaXBTcGFjZXNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUmVtb3ZlIGFsbCBzcGFjZXMgZnJvbSB0aGUgcHJvdmlkZWQgc3RyaW5nXG4gKlxuICogQHBhcmFtIFx0c3RyXHRUaGUgc3RyaW5nIHRvIHN0cmlwXG4gKlxuICogQHJldHVybnNcdFRoZSBzdHJpcHBlZCBzdHJpbmdzXG4gKi9cbmZ1bmN0aW9uIHN0cmlwU3BhY2VzKHN0cikge1xuICAgIGxldCByZXQ7XG4gICAgcmV0ID0gc3RyLnJlcGxhY2UoL1xccy9nLCBcIlwiKTtcbiAgICByZXQgPSByZXQucmVwbGFjZSgvXFwmbmJzcFxcOy9nLCBcIlwiKTtcbiAgICByZXR1cm4gcmV0O1xufVxuZXhwb3J0cy5zdHJpcFNwYWNlcyA9IHN0cmlwU3BhY2VzO1xuLyoqXG4gKiBmb3JtYXRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVGFrZSBhIHN0cmluZyB3aXRoIHBsYWNlaG9sZGVycyBhbmQgcmVwbGFjZXMgdGhlbSB3aXRoIHRoZSBwcm92aWRlZFxuICogcGFyYW1ldGVyc1xuICpcbiAqIEBwYXJhbSBcdHN0ciBcdFx0XHRcdFx0VGhlIHN0cmluZyB0byBtYWtlIHJlcGxhY2VtZW50cyB3aXRoaW5cbiAqIEBwYXJhbVx0XHRyZXBsYWNlbWVudHNcdFRoZSBzdHJpbmdzIHRoYXQgc2hvdWxkIHJlcGxhY2UgdGhlIHBsYWNlaG9sZGVyc1xuICpcbiAqIEByZXR1cm5zXHRUaGUgc3RyaW5nIHdpdGggcmVwbGFjZW1lbnRzIG1hZGVcbiAqL1xuZnVuY3Rpb24gZm9ybWF0KHN0ciwgLi4ucmVwbGFjZW1lbnRzKSB7XG4gICAgbGV0IHN0cmluZ0FyciA9IHN0ci5zcGxpdChcIlwiKTtcbiAgICAvLyBtYWtlIHN1cmUgd2UgaGF2ZSBhbiBhcnJheSB0byBhdm9pZCBudWxsIHJlZmVyZW5jZXNcbiAgICBpZiAoIXJlcGxhY2VtZW50cykge1xuICAgICAgICByZXBsYWNlbWVudHMgPSBbXTtcbiAgICB9XG4gICAgbGV0IG51bWJlciA9IFwiXCI7XG4gICAgbGV0IGxvb2tpbmdGb3JOdW1iZXIgPSBmYWxzZTtcbiAgICAvLyBMb29wIHRocm91Z2ggZWFjaCBsZXR0ZXIgaW4gdGhlIGFycmF5XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgc3RyaW5nQXJyLmxlbmd0aDsgaWR4ICs9IDEpIHtcbiAgICAgICAgbGV0IGNoYXIgPSBzdHJpbmdBcnJbaWR4XTtcbiAgICAgICAgLy8gT3B0aW9uIDE6IGEgYmFja3NsYXNoIG1lYW5zIHdlIHNob3VsZCBza2lwIHRoZSBuZXh0IGNoYXJhY3RlclxuICAgICAgICBpZiAoY2hhciA9PT0gXCJcXFxcXCIpIHtcbiAgICAgICAgICAgIHN0cmluZ0FycltpZHhdID0gXCJcIjtcbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT3B0aW9uIDI6IGEgbGVmdCBicmFjZSBtZWFucyB3ZSBzaG91bGQgc3RhcnQgbG9va2luZyBmb3IgYSBudW1iZXJcbiAgICAgICAgZWxzZSBpZiAoY2hhciA9PT0gXCJ7XCIpIHtcbiAgICAgICAgICAgIGxvb2tpbmdGb3JOdW1iZXIgPSB0cnVlOyAvLyBzdGFydCBsb29raW5nIGZvciBhIG51bWJlclxuICAgICAgICAgICAgc3RyaW5nQXJyW2lkeF0gPSBcIlwiOyAvLyByZXBsYWNlIHRoZSBicmFjZSB3aXRoIGEgYmxhbmsgc3RyaW5nXG4gICAgICAgIH1cbiAgICAgICAgLy8gT3B0aW9uIDM6IGEgcmlnaHQgYnJhY2Ugc2hvdWxkIGJlIHJlcGxhY2VkIHdpdGggd2hhdGV2ZXIgaXMgaW4gdGhlIHJlcGxhY2VtZW50cyBhcnJheVxuICAgICAgICBlbHNlIGlmIChjaGFyID09PSBcIn1cIiAmJiBsb29raW5nRm9yTnVtYmVyKSB7XG4gICAgICAgICAgICBzdHJpbmdBcnJbaWR4XSA9ICghZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQocmVwbGFjZW1lbnRzWytudW1iZXJdKSA/IHJlcGxhY2VtZW50c1srbnVtYmVyXS50b1N0cmluZygpIDogXCJ7XCIgKyBudW1iZXIgKyBcIn1cIik7XG4gICAgICAgICAgICBsb29raW5nRm9yTnVtYmVyID0gZmFsc2U7XG4gICAgICAgICAgICBudW1iZXIgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9wdGlvbiA0OiBhIG51bWVyaWMgY2hhcmFjdGVyIHdoZW4gd2UncmUgbG9va2luZyBmb3IgYSBudW1iZXJcbiAgICAgICAgZWxzZSBpZiAoaXNOdW1lcmljKGNoYXIpICYmIGxvb2tpbmdGb3JOdW1iZXIpIHtcbiAgICAgICAgICAgIG51bWJlciArPSBjaGFyO1xuICAgICAgICAgICAgc3RyaW5nQXJyW2lkeF0gPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9wdGlvbiA1OiB3ZSB3ZXJlIGxvb2tpbmcgZm9yIGEgbnVtYmVyIGJ1dCBkaWRuJ3QgZmluZCBvbmVcbiAgICAgICAgZWxzZSBpZiAobG9va2luZ0Zvck51bWJlcikge1xuICAgICAgICAgICAgbG9va2luZ0Zvck51bWJlciA9IGZhbHNlO1xuICAgICAgICAgICAgbnVtYmVyID0gXCJcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyaW5nQXJyLmpvaW4oXCJcIik7XG59XG5leHBvcnRzLmZvcm1hdCA9IGZvcm1hdDtcbi8qKlxuICogaXNOdW1lcmljXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENoZWNrcyBpZiBhIHN0cmluZyBjYW4gYmUgcGFyc2VkIGludG8gYW4gaW50ZWdlciBudW1iZXJcbiAqIEBwYXJhbSBcdHN0ciBcdFRoZSBzdHJpbmcgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zXHRUcnVlIGlmIHRoaXMgaXMgYW4gaW50ZWdlciBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gaXNOdW1lcmljKHN0cikge1xuICAgIHJldHVybiAvXlswLTldKyQvLnRlc3Qoc3RyKTtcbn1cbmV4cG9ydHMuaXNOdW1lcmljID0gaXNOdW1lcmljO1xuLyoqXG4gKiBhZGRMZWFkaW5nWmVyb3NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQWRkcyBhIG51bWJlciBvZiBsZWFkaW5nIHplcm9lcyBiZWZvcmUgYSBudW1iZXJcbiAqXG4gKiBAcGFyYW0gICBjb3VudCAgIFRoZSBudW1iZXIgb2YgemVyb2VzIHRvIGFkZFxuICogQHBhcmFtICAgbnVtcyAgICBUaGUgbnVtYmVycyB0byBhZGQgemVyb2VzIHRvXG4gKlxuICogQHJldHVybnMgQWxsIHplcm8tcGFkZGVkIG51bWJlcnMgdGhhdCB3ZXJlIHBhc3NlZCBpblxuICovXG5mdW5jdGlvbiBhZGRMZWFkaW5nWmVyb2VzKGNvdW50LCB1bnBhZGRlZCkge1xuICAgIDtcbiAgICBsZXQgb3V0O1xuICAgIGlmICh0eXBlb2YgdW5wYWRkZWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgb3V0ID0gdW5wYWRkZWQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvdXQgPSB1bnBhZGRlZC50b1N0cmluZygpO1xuICAgIH1cbiAgICAvLyBMb29wIHRocm91Z2ggdGhlIG51bWJlciBvZiB6ZXJvcyB3ZSBuZWVkIHRvIGFkZCBhbmQgYWRkIHRoZW1cbiAgICBsZXQgejtcbiAgICBmb3IgKHogPSBvdXQubGVuZ3RoOyB6IDwgY291bnQ7IHogKz0gMSkge1xuICAgICAgICBvdXQgPSBcIjBcIiArIG91dDtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydHMuYWRkTGVhZGluZ1plcm9lcyA9IGFkZExlYWRpbmdaZXJvZXM7XG47XG4vKipcbiAqIHN0cmlwSFRNTFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBSZW1vdmUgSFRNTCB0YWdzIGZyb20gYSBwYXJ0aWN1bGFyIHN0cmluZ1xuICogQHBhcmFtIFx0c3RyXHRcdFN0cmluZyB0byByZW1vdmUgdGFncyBmcm9tXG4gKlxuICogQHJldHVybnNcdFRoZSBzdHJpbmcgc3RyaXBwZWQgb2YgSFRNTFxuICovXG5mdW5jdGlvbiBzdHJpcEhUTUwoc3RyKSB7XG4gICAgbGV0IG91dDtcbiAgICBvdXQgPSBzdHIucmVwbGFjZSgvXFw8Lio/XFw+L2csIFwiXCIpO1xuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnRzLnN0cmlwSFRNTCA9IHN0cmlwSFRNTDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IG5hdmlnYXRlXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9uYXZpZ2F0ZVwiKTtcbmNvbnN0IGRhdGVzXzEgPSByZXF1aXJlKFwiLi4vcHJpbWl0aXZlSGVscGVycy9kYXRlc1wiKTtcbmZ1bmN0aW9uIGNsb25lVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICBsZXQgdGVtcCA9IHtcbiAgICAgICAgdmFsdWU6IHRlbXBsYXRlLnZhbHVlLFxuICAgICAgICBwb3NpdGlvbjogdGVtcGxhdGUucG9zaXRpb24sXG4gICAgICAgIHJlcXVpcmVkOiB0ZW1wbGF0ZS5yZXF1aXJlZCxcbiAgICAgICAgb25WYWxpZGF0ZTogdGVtcGxhdGUub25WYWxpZGF0ZSxcbiAgICAgICAgb25PdGhlckNoYW5nZTogdGVtcGxhdGUub25PdGhlckNoYW5nZSxcbiAgICAgICAgbGFiZWw6IHRlbXBsYXRlLmxhYmVsLFxuICAgICAgICBjbHM6IHRlbXBsYXRlLmNscyxcbiAgICAgICAgbGF5b3V0OiB0ZW1wbGF0ZS5sYXlvdXRcbiAgICB9O1xuICAgIHJldHVybiB0ZW1wO1xufVxuZXhwb3J0cy5jbG9uZVRlbXBsYXRlID0gY2xvbmVUZW1wbGF0ZTtcbi8qKlxuICogY3JlYXRlU2VsZWN0RWxlbWVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlcyBhIHNlbGVjdCBlbGVtZW50IHdpdGggYXNzb2NpYXRlZCBvcHRpb25zXG4gKiBAcGFyYW0gaWQgLSBJRCB0byB1c2UgZm9yIHRoZSBzZWxlY3QgZWxlbWVudFxuICogQHBhcmFtIGNscyAtIHRoZSBDU1MgY2xhc3MgdG8gdXNlIHRvIHN0eWxlIHRoaXMgc2VsZWN0IGJveFxuICogQHBhcmFtIG9wdGlvbnMgLSBXaGF0IG9wdGlvbnMgc2hvdWxkIGJlIGluY2x1ZGVkIGluIHRoZSBzZWxlY3QgYm94XG4gKiBAcGFyYW0gZGVmYXVsdFNlbGVjdGlvbiAtIFdoYXQgc2hvdWxkIGJlIHNlbGVjdGVkIGJ5IGRlZmF1bHRcbiAqXG4gKiBAdmVyc2lvbiAxLjAuMlxuICovXG5mdW5jdGlvbiBjcmVhdGVTZWxlY3RFbGVtZW50KGlkLCBjbHMsIG9wdGlvbnMsIGRlZmF1bHRTZWxlY3Rpb24pIHtcbiAgICAvLyB0dXJuIHRoZSBvcHRpb24gYXJyYXkgaW50byBzb21ldGhpbmcgdGhlIGNyZWF0ZUVsZW1lbnQgZnVuY3Rpb24gd2lsbCB1bmRlcnN0YW5kXG4gICAgbGV0IG9wdGlvbkVsZW1zID0gY3JlYXRlU2VsZWN0T3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0U2VsZWN0aW9uKTtcbiAgICAvLyBpZiB0aGVyZSdzIG5vIGRlZmF1bHQsIHNldCB0aGUgZGVmYXVsdCB0byBiZSAtMVxuICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChkZWZhdWx0U2VsZWN0aW9uKSkge1xuICAgICAgICBkZWZhdWx0U2VsZWN0aW9uID0gLTE7XG4gICAgfVxuICAgIC8vIGNyZWF0ZSB0aGUgZ2VuZXJhbCBkZWZpbml0aW9uIGZvciB0aGUgc2VsZWN0IGVsZW1lbnRcbiAgICBsZXQgc2VsZWN0ID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICBpZDogaWQsXG4gICAgICAgIGNsczogY2xzLFxuICAgICAgICB0eXBlOiBcInNlbGVjdFwiLFxuICAgICAgICBjaGlsZHJlbjogb3B0aW9uRWxlbXNcbiAgICB9KTtcbiAgICBpZiAoIWZhbHNleV8xLmlzTnVsbE9yVW5kZWZpbmVkKGRlZmF1bHRTZWxlY3Rpb24pKSB7XG4gICAgICAgIHNlbGVjdC52YWx1ZSA9IGRlZmF1bHRTZWxlY3Rpb24udG9TdHJpbmcoKTtcbiAgICB9XG4gICAgLy8gcmV0dXJuIHRoZSBjcmVhdGVkIHNlbGVjdCBib3hcbiAgICByZXR1cm4gc2VsZWN0O1xufVxuZXhwb3J0cy5jcmVhdGVTZWxlY3RFbGVtZW50ID0gY3JlYXRlU2VsZWN0RWxlbWVudDtcbi8qKlxuICogY3JlYXRlU2VsZWN0T3B0aW9uc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY3JlYXRlIG9wdGlvbnMgdGhhdCB3aWxsIHNpdCBpbiBhIHNlbGVjdCBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNlbGVjdE9wdGlvbnMob3B0aW9ucywgZGVmYXVsdFNlbGVjdGlvbikge1xuICAgIGxldCBvcHRFbGVtcyA9IFtdO1xuICAgIC8vIGlmIHRoZXJlJ3Mgbm8gZGVmYXVsdCwgYWRkIGEgZGVmYXVsdCBibGFuayBvcHRpb24gYmVmb3JlIGFueXRoaW5nIGVsc2VcbiAgICBpZiAoZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQoZGVmYXVsdFNlbGVjdGlvbikpIHtcbiAgICAgICAgbGV0IGRlZiA9IF9jcmVhdGVTZWxlY3RPcHRpb24oXCItLSBzZWxlY3QgYW4gb3B0aW9uIC0tXCIsIC0xLCB0cnVlKTtcbiAgICAgICAgZGVmLmF0dHIuZGlzYWJsZWQgPSBcInRydWVcIjtcbiAgICAgICAgb3B0RWxlbXMucHVzaChjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudChkZWYpKTtcbiAgICB9XG4gICAgbmF2aWdhdGVfMS5tYXAob3B0aW9ucywgKGxibCwgdmFsdWUpID0+IHtcbiAgICAgICAgbGV0IGRlZiA9IF9jcmVhdGVTZWxlY3RPcHRpb24obGJsLCB2YWx1ZSwgdmFsdWUgPT09IGRlZmF1bHRTZWxlY3Rpb24pO1xuICAgICAgICBvcHRFbGVtcy5wdXNoKGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KGRlZikpO1xuICAgIH0pO1xuICAgIHJldHVybiBvcHRFbGVtcztcbn1cbmV4cG9ydHMuY3JlYXRlU2VsZWN0T3B0aW9ucyA9IGNyZWF0ZVNlbGVjdE9wdGlvbnM7XG4vKipcbiAqIF9jcmVhdGVTZWxlY3RPcHRpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhIHNpbmdsZSBzZWxlY3Qgb3B0aW9uXG4gKlxuICogQHBhcmFtICAgbGFiZWwgICAgICAgTGFiZWwgdG8gc2hvdyBmb3IgdGhlIG9wdGlvblxuICogQHBhcmFtICAgdmFsdWUgICAgICAgVmFsdWUgdGhlIG9wdGlvbiBpcyBsaW5rZWQgdG9cbiAqIEBwYXJhbSAgIGlzRGVmYXVsdCAgIFRydWUgaWYgdGhlIG9wdGlvbiBzaG91bGQgYmUgc2VsZWN0ZWQgYnkgZGVmYXVsdFxuICpcbiAqIEByZXR1cm5zIFRoZSBkZWZpbml0aW9uIHRoYXQgd2lsbCBjcmVhdGUgdGhpcyBvcHRpb25cbiAqL1xuZnVuY3Rpb24gX2NyZWF0ZVNlbGVjdE9wdGlvbihsYWJlbCwgdmFsdWUsIGlzRGVmYXVsdCkge1xuICAgIGxldCBkZWYgPSB7XG4gICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgIGF0dHI6IHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50OiBsYWJlbFxuICAgIH07XG4gICAgaWYgKGlzRGVmYXVsdCkge1xuICAgICAgICBkZWYuYXR0ci5zZWxlY3RlZCA9IFwidHJ1ZVwiO1xuICAgIH1cbiAgICByZXR1cm4gZGVmO1xufVxuO1xuLyoqXG4gKiBDcmVhdGVzIGEgY2hlY2tib3ggZWxlbWVudCAmIGEgd3JhcHBlciBhcm91bmQgaXRcbiAqIEBwYXJhbSBpZCAtIElEIHRvIHVzZSBmb3IgdGhlIGNoZWNrYm94XG4gKiBAcGFyYW0gY2xzIC0gdGhlIENTUyBjbGFzcyB0byBzdHlsZSB0aGlzIGNoZWNrYm94XG4gKiBAcGFyYW0gbGJsIC0gV2hhdCBsYWJlbCB0byB1c2UgZm9yIHRoaXMgY2hlY2tib3hcbiAqIEBwYXJhbSBjaGVja2VkIC0gVHJ1ZSBpZiB0aGUgY2hlY2tib3ggc2hvdWxkIGJlIGNoZWNrZWRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTGFiZWxlZENoZWNrYm94KGlkLCBjbHMsIGxibCwgY2hlY2tlZCkge1xuICAgIC8vIGNyZWF0ZSB0aGUgd3JhcHBlciB0byBob2xkIHRoZSBjaGVja2JveCArIGxhYmVsXG4gICAgbGV0IHdyYXBwZXJFbGVtID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoaWQgKyBcInx3cmFwcGVyXCIsIGNscyArIFwifHdyYXBwZXJcIik7XG4gICAgLy8gY3JlYXRlIHRoZSBjaGVja2JveCBpdHNlbGZcbiAgICBsZXQgY2hlY2tib3hEZWYgPSB7XG4gICAgICAgIHR5cGU6IFwiaW5wdXRcIixcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICBjbHM6IGNscyxcbiAgICAgICAgYXR0cjoge1xuICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgY2hlY2tlZDogY2hlY2tlZC50b1N0cmluZygpLFxuICAgICAgICAgICAgbmFtZTogaWRcbiAgICAgICAgfSxcbiAgICAgICAgcGFyZW50OiB3cmFwcGVyRWxlbVxuICAgIH07XG4gICAgbGV0IGNoZWNrYm94RWxlbSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KGNoZWNrYm94RGVmKTtcbiAgICAvLyBjcmVhdGUgdGhlIGxhYmVsIGZvciB0aGUgY2hlY2tib3hcbiAgICBsZXQgbGJsRWxlbSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIGNscyArIFwifGxibFwiLCBsYmwsIHsgZm9yOiBpZCB9LCBudWxsLCB3cmFwcGVyRWxlbSk7XG4gICAgLy8gcmV0dXJuIHRoZSB3cmFwcGVyICsgdGhlIGNoZWNrYm94XG4gICAgcmV0dXJuIHtcbiAgICAgICAgd3JhcHBlcjogd3JhcHBlckVsZW0sXG4gICAgICAgIGNoZWNrYm94OiBjaGVja2JveEVsZW1cbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVMYWJlbGVkQ2hlY2tib3ggPSBjcmVhdGVMYWJlbGVkQ2hlY2tib3g7XG4vKiogY3JlYXRlcyBhIGxhYmVsIHRoYXQgd2lsbCBiZSBjbGlja2FibGUgdG8gc2VsZWN0IGFuIGFzc29jaWF0ZWQgaW5wdXQgKi9cbmZ1bmN0aW9uIGNyZWF0ZUxhYmVsRm9ySW5wdXQobGJsLCBsYWJlbEZvciwgY2xzLCBlbWJlZEluLCBhdHRyKSB7XG4gICAgaWYgKCFhdHRyKSB7XG4gICAgICAgIGF0dHIgPSB7fTtcbiAgICB9XG4gICAgYXR0ci5mb3IgPSBsYWJlbEZvcjtcbiAgICBsZXQgbGJsRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgdHlwZTogXCJsYWJlbFwiLFxuICAgICAgICBjbHM6IGNscyxcbiAgICAgICAgYXR0cjogYXR0cixcbiAgICAgICAgY29udGVudDogbGJsLFxuICAgICAgICBwYXJlbnQ6IGVtYmVkSW5cbiAgICB9KTtcbiAgICByZXR1cm4gbGJsRWxlbWVudDtcbn1cbmV4cG9ydHMuY3JlYXRlTGFiZWxGb3JJbnB1dCA9IGNyZWF0ZUxhYmVsRm9ySW5wdXQ7XG5mdW5jdGlvbiBjcmVhdGVSYWRpb0J1dHRvbnMoKSB7XG4gICAgLy9UT0RPOiBJTVBMRU1FTlRcbn1cbmV4cG9ydHMuY3JlYXRlUmFkaW9CdXR0b25zID0gY3JlYXRlUmFkaW9CdXR0b25zO1xuLyoqXG4gKiBDcmVhdGUgYW4gaW5wdXQgZWxlbWVudFxuICogQHBhcmFtIGlkXG4gKiBAcGFyYW0gY2xzXG4gKiBAcGFyYW0gdHlwZVxuICogQHBhcmFtIHZhbHVlXG4gKiBAcGFyYW0gYXR0clxuICogQHBhcmFtIGNoaWxkcmVuXG4gKiBAcGFyYW0gcGFyZW50XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0RWxlbWVudChpZCwgY2xzLCB0eXBlLCB2YWx1ZSwgYXR0ciwgY2hpbGRyZW4sIHBhcmVudCkge1xuICAgIGxldCBlbGVtVHlwZSA9IFwiaW5wdXRcIjtcbiAgICAvLyBoYW5kbGUgdGhlIHR5cGVcbiAgICB0eXBlID0gdHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICh0eXBlID09PSBcInRleHRhcmVhXCIpIHtcbiAgICAgICAgdHlwZSA9IFwiXCI7XG4gICAgICAgIGVsZW1UeXBlID0gXCJ0ZXh0YXJlYVwiO1xuICAgIH1cbiAgICAvLyB1cGRhdGUgdGhlIGF0dHJpYnV0ZSBhcnJheVxuICAgIGF0dHIgPSBhdHRyIHx8IHt9O1xuICAgIGF0dHIudHlwZSA9IHR5cGU7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlID09PSBcImNoZWNrYm94XCIgfHwgdHlwZSA9PT0gXCJyYWRpb1wiKSB7XG4gICAgICAgICAgICBhdHRyLmNoZWNrZWQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSBcImRhdGVcIikge1xuICAgICAgICAgICAgYXR0ci52YWx1ZSA9IGRhdGVzXzEuaW5wdXREYXRlRm10KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF0dHIudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBjcmVhdGUgdGhlIGFwcHJvcHJpYXRlIGVsZW1lbnRcbiAgICBsZXQgZWxlbSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgdHlwZTogZWxlbVR5cGUsXG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgY2xzOiBjbHMsXG4gICAgICAgIGF0dHI6IGF0dHIsXG4gICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbixcbiAgICAgICAgcGFyZW50OiBwYXJlbnRcbiAgICB9KTtcbiAgICAvLyByZXR1cm4gdGhlIGVsZW1lbnRcbiAgICByZXR1cm4gZWxlbTtcbn1cbmV4cG9ydHMuY3JlYXRlSW5wdXRFbGVtZW50ID0gY3JlYXRlSW5wdXRFbGVtZW50O1xuLyoqXG4gKiBpc0ZpZWxkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBkZXRlcm1pbmUgd2hldGhlciBhIHBhcnRpY3VsYXIgcGFyYW1ldGVyIGlzIGEgZm9ybSBlbGVtZW50XG4gKiBAcGFyYW0gZWxlbSAtIEVpdGhlciBhIEZvcm1FbGVtZW50IG9yIGEgRm9ybVRlbXBsYXRlXG4gKiBAcmV0dXJucyBUcnVlIGlmIGVsZW0gaXMgYSBmb3JtIEVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gaXNGaWVsZChlbGVtKSB7XG4gICAgaWYgKCFlbGVtKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChlbGVtLmlkICE9PSB1bmRlZmluZWQpICYmXG4gICAgICAgIChlbGVtLnR5cGUgIT09IHVuZGVmaW5lZCkgJiZcbiAgICAgICAgKGVsZW0udGVtcGxhdGUgIT09IHVuZGVmaW5lZCk7XG59XG5leHBvcnRzLmlzRmllbGQgPSBpc0ZpZWxkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG47XG4vKipcbiAqIEVsZW1lbnRUeXBlXG4gKlxuICogVGhlIHR5cGUgb2YgZWxlbWVudCB3ZSdyZSBkcmF3aW5nXG4gKlxuICovXG52YXIgRWxlbWVudFR5cGU7XG4oZnVuY3Rpb24gKEVsZW1lbnRUeXBlKSB7XG4gICAgRWxlbWVudFR5cGVbRWxlbWVudFR5cGVbXCJSZWN0YW5nbGVcIl0gPSAwXSA9IFwiUmVjdGFuZ2xlXCI7XG4gICAgRWxlbWVudFR5cGVbRWxlbWVudFR5cGVbXCJUZXh0XCJdID0gMV0gPSBcIlRleHRcIjtcbiAgICBFbGVtZW50VHlwZVtFbGVtZW50VHlwZVtcIkNpcmNsZVwiXSA9IDJdID0gXCJDaXJjbGVcIjtcbiAgICBFbGVtZW50VHlwZVtFbGVtZW50VHlwZVtcIlBhdGhcIl0gPSAzXSA9IFwiUGF0aFwiO1xuICAgIEVsZW1lbnRUeXBlW0VsZW1lbnRUeXBlW1wiR3JvdXBcIl0gPSA0XSA9IFwiR3JvdXBcIjtcbn0pKEVsZW1lbnRUeXBlID0gZXhwb3J0cy5FbGVtZW50VHlwZSB8fCAoZXhwb3J0cy5FbGVtZW50VHlwZSA9IHt9KSk7XG4vKipcbiAqIEV2ZW50VHlwZUVudW1cbiAqXG4gKiBIYW5kbGUgYWxsIG9mIHRoZSBldmVudHMgd2UgbWlnaHQgbmVlZFxuICpcbiAqL1xudmFyIEV2ZW50VHlwZUVudW07XG4oZnVuY3Rpb24gKEV2ZW50VHlwZUVudW0pIHtcbiAgICBFdmVudFR5cGVFbnVtW0V2ZW50VHlwZUVudW1bXCJDTElDS1wiXSA9IDBdID0gXCJDTElDS1wiO1xuICAgIEV2ZW50VHlwZUVudW1bRXZlbnRUeXBlRW51bVtcIkhPVkVSXCJdID0gMV0gPSBcIkhPVkVSXCI7XG4gICAgRXZlbnRUeXBlRW51bVtFdmVudFR5cGVFbnVtW1wiTEVBVkVcIl0gPSAyXSA9IFwiTEVBVkVcIjtcbiAgICBFdmVudFR5cGVFbnVtW0V2ZW50VHlwZUVudW1bXCJSX0NMSUNLXCJdID0gM10gPSBcIlJfQ0xJQ0tcIjtcbiAgICBFdmVudFR5cGVFbnVtW0V2ZW50VHlwZUVudW1bXCJEQkxfQ0xJQ0tcIl0gPSA0XSA9IFwiREJMX0NMSUNLXCI7XG4gICAgRXZlbnRUeXBlRW51bVtFdmVudFR5cGVFbnVtW1wiS0VZX1BSRVNTXCJdID0gNV0gPSBcIktFWV9QUkVTU1wiO1xuICAgIEV2ZW50VHlwZUVudW1bRXZlbnRUeXBlRW51bVtcIkZPQ1VTXCJdID0gNl0gPSBcIkZPQ1VTXCI7XG4gICAgRXZlbnRUeXBlRW51bVtFdmVudFR5cGVFbnVtW1wiQkxVUlwiXSA9IDddID0gXCJCTFVSXCI7XG59KShFdmVudFR5cGVFbnVtID0gZXhwb3J0cy5FdmVudFR5cGVFbnVtIHx8IChleHBvcnRzLkV2ZW50VHlwZUVudW0gPSB7fSkpO1xuO1xudmFyIFN0eWxlQ2hhbmdlRW51bTtcbihmdW5jdGlvbiAoU3R5bGVDaGFuZ2VFbnVtKSB7XG4gICAgU3R5bGVDaGFuZ2VFbnVtW1N0eWxlQ2hhbmdlRW51bVtcIkZJTExfQ09MT1JcIl0gPSAwXSA9IFwiRklMTF9DT0xPUlwiO1xuICAgIFN0eWxlQ2hhbmdlRW51bVtTdHlsZUNoYW5nZUVudW1bXCJTVFJPS0VfQ09MT1JcIl0gPSAxXSA9IFwiU1RST0tFX0NPTE9SXCI7XG4gICAgU3R5bGVDaGFuZ2VFbnVtW1N0eWxlQ2hhbmdlRW51bVtcIkZPTlRfRkFNSUxZXCJdID0gMl0gPSBcIkZPTlRfRkFNSUxZXCI7XG4gICAgU3R5bGVDaGFuZ2VFbnVtW1N0eWxlQ2hhbmdlRW51bVtcIkZPTlRfVkFSSUFOVFwiXSA9IDNdID0gXCJGT05UX1ZBUklBTlRcIjtcbiAgICBTdHlsZUNoYW5nZUVudW1bU3R5bGVDaGFuZ2VFbnVtW1wiRk9OVF9TSVpFXCJdID0gNF0gPSBcIkZPTlRfU0laRVwiO1xuICAgIFN0eWxlQ2hhbmdlRW51bVtTdHlsZUNoYW5nZUVudW1bXCJTVFJPS0VfU0laRVwiXSA9IDVdID0gXCJTVFJPS0VfU0laRVwiO1xuICAgIFN0eWxlQ2hhbmdlRW51bVtTdHlsZUNoYW5nZUVudW1bXCJURVhUX0FMSUdOXCJdID0gNl0gPSBcIlRFWFRfQUxJR05cIjtcbiAgICBTdHlsZUNoYW5nZUVudW1bU3R5bGVDaGFuZ2VFbnVtW1wiRk9OVFwiXSA9IDddID0gXCJGT05UXCI7XG59KShTdHlsZUNoYW5nZUVudW0gPSBleHBvcnRzLlN0eWxlQ2hhbmdlRW51bSB8fCAoZXhwb3J0cy5TdHlsZUNoYW5nZUVudW0gPSB7fSkpO1xuO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBuYW1lZENsYXNzXzEgPSByZXF1aXJlKFwiLi4vLi4vbmFtZWRDbGFzcy9uYW1lZENsYXNzXCIpO1xuY29uc3QgY29tcGFyYWJsZV8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBhcmFibGUvY29tcGFyYWJsZVwiKTtcbmNvbnN0IHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi8uLi9wcmltaXRpdmVIZWxwZXJzL3N0cmluZ3NcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdENvbGxlY3Rpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEtlZXAgdHJhY2sgb2YgYSBzZXQgb2YgaXRlbXMgaW4gYm90aCBrZXktYmFzZWQgaW5kaWNlcyBhbmQgc29ydGFibGUgZm9ybWF0c1xuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0My4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQ29sbGVjdGlvbiBleHRlbmRzIG5hbWVkQ2xhc3NfMS5OYW1lZENsYXNzIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENPTlNUUlVDVE9SXG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGVzIHRoZSBjb2xsZWN0aW9uXG4gICAgICogQHBhcmFtICByZXBsYWNlIFx0XHRUcnVlIGlmIHdlIHNob3VsZCBvdmVycmlkZSB0aGUgdmFsdWVzIGluIHRoZSBsaXN0XG4gICAgICogQHJldHVybiBDb2xsZWN0aW9uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHlwZSwgZXFfdGVzdCkge1xuICAgICAgICBzdXBlcihcIkNvbGxlY3Rpb25cIik7XG4gICAgICAgIC8vIEluaXRpYWxpemUgb3VyIGFycmF5c1xuICAgICAgICB0aGlzLl9kYXRhID0ge307XG4gICAgICAgIHRoaXMuX3NvcnRlZERhdGEgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgLy8gU3RvcmUgd2hldGhlciB3ZSBzaG91bGQgYmUgcmVwbGFjaW5nXG4gICAgICAgIHRoaXMuX2FkZFR5cGUgPSB0eXBlIHx8IF9pbnRlcmZhY2VzXzEuQ29sbGVjdGlvblR5cGVFbnVtLklnbm9yZUR1cGxpY2F0ZUtleXM7XG4gICAgICAgIHRoaXMuX2VxdWFsaXR5VGVzdCA9IGVxX3Rlc3Q7XG4gICAgICAgIGlmICghdGhpcy5fZXF1YWxpdHlUZXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9lcXVhbGl0eVRlc3QgPSAoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGEgPT09IGIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIGFsbG93IHJldHJpZXZhbCBvZiBhIHNldCBvZiBrZXlzICovXG4gICAgZ2V0IGtleXMoKSB7IHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9kYXRhKTsgfVxuICAgIHNldCBhZGRUeXBlKGFkZFR5cGUpIHsgdGhpcy5fYWRkVHlwZSA9IGFkZFR5cGU7IH1cbiAgICBnZXQgaXRlcmF0aW9uKCkgeyByZXR1cm4gdGhpcy5faXRlcmF0aW9uOyB9XG4gICAgLyoqIGdldCB0aGUgY3VycmVudCBudW1iZXIgb2YgZWxlbWVudHMgaW4gb3VyIGNvbGxlY3Rpb24gKi9cbiAgICBnZXQgbGVuZ3RoKCkgeyByZXR1cm4gdGhpcy5fc29ydGVkRGF0YS5sZW5ndGg7IH1cbiAgICBzZXQgZXF1YWxpdHlUZXN0KHRlc3QpIHsgdGhpcy5fZXF1YWxpdHlUZXN0ID0gdGVzdDsgfVxuICAgIDtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEFERCBBTiBFTEVNRU5UXG4gICAgLyoqXG4gICAgICogYWRkRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGRzIGFuIGVsZW1lbnQgdG8gdGhlIGNvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0gXHRrZXkgIFx0VGhlIGtleSB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gXHR2YWwgXHRUaGUgZWxlbWVudCB0byBhZGQgdG8gb3VyIGNvbGxlY3Rpb25cbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBlbGVtZW50IHdhcyBzdWNjZXNzZnVsbHkgYWRkZWRcbiAgICAgKi9cbiAgICBhZGQoa2V5LCB2YWwpIHtcbiAgICAgICAgbGV0IGlkeDtcbiAgICAgICAgbGV0IGVsZW07XG4gICAgICAgIGxldCBzb3J0ZWRJZHg7XG4gICAgICAgIGxldCBza2lwU29ydGVkUHVzaDtcbiAgICAgICAgLy8gVmVyaWZ5IHRoYXQgdGhlcmUgaXNuJ3QgYW55dGhpbmcgY3VycmVudGx5IGxpbmtlZCB0byB0aGlzIGtleVxuICAgICAgICBpZiAoKHRoaXMuX2FkZFR5cGUgPT09IF9pbnRlcmZhY2VzXzEuQ29sbGVjdGlvblR5cGVFbnVtLklnbm9yZUR1cGxpY2F0ZUtleXMpICYmICh0aGlzLl9kYXRhW2tleV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgYWxyZWFkeSBoYXZlIGRhdGEsIHdlIGRvbid0IG5lZWQgdG8gYWRkIHRoaXMga2V5IHRvIG91ciBzb3J0ZWQgaW5kZXggYWdhaW5cbiAgICAgICAgaWYgKHRoaXMuX2RhdGFba2V5XSkge1xuICAgICAgICAgICAgc2tpcFNvcnRlZFB1c2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdyYWIgdGhlIHNwb3QgdGhhdCB0aGlzIGVsZW1lbnQgd2lsbCBiZSBhZGRlZCB0byBpbiBvdXIgc29ydGVkIGluZGV4XG4gICAgICAgIHNvcnRlZElkeCA9IHRoaXMuX3NvcnRlZERhdGEubGVuZ3RoO1xuICAgICAgICAvLyBDcmVhdGUgb3VyIG5ldyBvYmplY3RcbiAgICAgICAgZWxlbSA9IHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgdmFsdWU6IHZhbCxcbiAgICAgICAgICAgIHNvcnRlZElkeDogc29ydGVkSWR4LFxuICAgICAgICAgICAgb3JpZ0lkeDogc29ydGVkSWR4XG4gICAgICAgIH07XG4gICAgICAgIC8vIElmIHRoZXJlIGlzbid0IGFueXRoaW5nIGluIHRoaXMgaW5kZXggKG9yIHdlIHNob3VsZCByZXBsYWNlIGl0KSwgc2F2ZSBvdXIgbmV3IHZhbHVlXG4gICAgICAgIHRoaXMuX2RhdGFba2V5XSA9IGVsZW07XG4gICAgICAgIC8vIFB1c2ggdG8gb3VyIHNvcnRlZCBpbmRleCBpZiBuZWVkZWRcbiAgICAgICAgaWYgKCFza2lwU29ydGVkUHVzaCkge1xuICAgICAgICAgICAgdGhpcy5fc29ydGVkRGF0YS5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvcnRlZElkeDtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBIQU5ETEUgUkVNT1ZJTkdcbiAgICAvKipcbiAgICAgKiByZW1vdmVFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNvbWJpbmF0aW9uIGZ1bmN0aW9uIHRvIGhhbmRsZSBhbGwgb3ZlcmxvYWRzXG4gICAgICovXG4gICAgcmVtb3ZlKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlRWxlbWVudEJ5S2V5KGtleSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlbW92ZUVsZW1lbnRCeVZhbHVlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHJlbW92ZSB0aGUgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIHByb3ZpZGVkIGVsZW1lbnRcbiAgICAgKi9cbiAgICByZW1vdmVFbGVtZW50QnlWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlRWxlbWVudEJ5VmFsdWUodmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVtb3ZlRWxlbWVudEJ5S2V5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHJlbW92ZXMgYW4gZWxlbWVudCBieSBrZXlcbiAgICAgKi9cbiAgICBfcmVtb3ZlRWxlbWVudEJ5S2V5KGtleSkge1xuICAgICAgICBsZXQgZWxlbTtcbiAgICAgICAgZWxlbSA9IHRoaXMuX2RhdGFba2V5XTtcbiAgICAgICAgaWYgKCFlbGVtKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIHRoZSBzb3J0ZWQgYXJyYXlcbiAgICAgICAgdGhpcy5fc29ydGVkRGF0YS5zcGxpY2UoZWxlbS5zb3J0ZWRJZHgsIDEpO1xuICAgICAgICAvLyBSZXNldCBzb3J0ZWQga2V5cyBmb3IgYWxsIG90aGVycyBpbiB0aGUgYXJyYXlcbiAgICAgICAgdGhpcy5fcmVzZXRTb3J0ZWRLZXlzKGVsZW0uc29ydGVkSWR4KTtcbiAgICAgICAgLy8gUmVtb3ZlIGZyb20gdGhlIGFjdHVhbCBkYXRhIGFycmF5XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9kYXRhW2tleV07XG4gICAgICAgIC8vIFJldHVybiB0aGUgZ3JhYmJlZCBkYXRhXG4gICAgICAgIHJldHVybiBlbGVtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVtb3ZlRWxlbWVudEJ5SW5kZXhcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogcmVtb3ZlcyBhbiBlbGVtZW50IGJ5IGluZGV4XG4gICAgICovXG4gICAgX3JlbW92ZUVsZW1lbnRCeUluZGV4KGlkeCkge1xuICAgICAgICBsZXQga2V5O1xuICAgICAgICBpZiAoKGlkeCA+PSB0aGlzLmxlbmd0aCkgfHwgKGlkeCA8IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBrZXkgPSB0aGlzLl9zb3J0ZWREYXRhW2lkeF07XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW1vdmVFbGVtZW50QnlLZXkoa2V5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3JlbW92ZUVsZW1lbnRCeVZhbHVlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHJlbW92ZXMgYW4gZWxlbWVudCBieSBtYXRjaGluZyB0aGUgZWxlbWVudCB0byB0aGUgcHJvdmlkZWQgZWxlbWVudFxuICAgICAqL1xuICAgIF9yZW1vdmVFbGVtZW50QnlWYWx1ZSh2YWwpIHtcbiAgICAgICAgbGV0IGU7XG4gICAgICAgIGUgPSB0aGlzLl9maW5kRWxlbWVudCh2YWwpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlRWxlbWVudEJ5S2V5KGUgJiYgZS5rZXkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjbGVhclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjbGVhciBvdXQgYWxsIGVsZW1lbnRzIHdpdGhpbiB0aGUgY29sbGVjdGlvblxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9kYXRhID0ge307XG4gICAgICAgIHRoaXMuX3NvcnRlZERhdGEgPSBbXTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBIQU5ETEUgU09SVElOR1xuICAgIC8qKlxuICAgICAqIF9yZXNldFNvcnRlZEtleXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRW5zdXJlIHRoYXQgdGhlIGtleSBzdG9yZWQgd2l0aCB0aGUgZWxlbWVudCBtYXRjaGVzIGl0cyBsb2NhdGlvbiBpbiB0aGVcbiAgICAgKiBzb3J0ZWQgYXJyYXlcbiAgICAgKi9cbiAgICBfcmVzZXRTb3J0ZWRLZXlzKHN0YXJ0RnJvbSwgZW5kV2l0aCkge1xuICAgICAgICAvLyBTZXQgc29tZSBkZWZhdWx0c1xuICAgICAgICBpZiAoIXN0YXJ0RnJvbSkge1xuICAgICAgICAgICAgc3RhcnRGcm9tID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWVuZFdpdGggJiYgKGVuZFdpdGggIT09IDApKSB7XG4gICAgICAgICAgICBlbmRXaXRoID0gdGhpcy5fc29ydGVkRGF0YS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0RnJvbSA+IGVuZFdpdGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRGcm9tID4gZW5kV2l0aCkge1xuICAgICAgICAgICAgbGV0IHRtcCA9IHN0YXJ0RnJvbTtcbiAgICAgICAgICAgIHN0YXJ0RnJvbSA9IGVuZFdpdGg7XG4gICAgICAgICAgICBlbmRXaXRoID0gdG1wO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlO1xuICAgICAgICBsZXQgaztcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0RnJvbTsgaSA8IGVuZFdpdGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgayA9IHRoaXMuX3NvcnRlZERhdGFbaV07XG4gICAgICAgICAgICBpZiAoIWspXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBlID0gdGhpcy5fZGF0YVtrXTtcbiAgICAgICAgICAgIGlmICghZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGUuc29ydGVkSWR4ID0gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBzb3J0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFNvcnRzIHRoZSBjb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIFx0c29ydF9mdW5jICAgXHRUaGUgZnVuY3Rpb24gd2Ugc2hvdWxkIHVzZSB0byBzb3J0XG4gICAgICovXG4gICAgc29ydChzb3J0X2Z1bmMpIHtcbiAgICAgICAgbGV0IHNUZW1wO1xuICAgICAgICAvLyBHZW5lcmF0ZSBvdXIgd3JhcHBlciBzb3J0IGZ1bmN0aW9uIHRvIGd1YXJhbnRlZSB3ZSBoYXZlIHRoZSByZWFsIGVsZW1lbnRzXG4gICAgICAgIC8vIHNlbnQgdG8gdGhlIHBhc3NlZC1pbiBzb3J0IGZ1bmN0aW9uXG4gICAgICAgIHNUZW1wID0gKChhLCBiKSA9PiB7XG4gICAgICAgICAgICBsZXQgYV90bXA7XG4gICAgICAgICAgICBsZXQgYl90bXA7XG4gICAgICAgICAgICBhX3RtcCA9IHRoaXMuX2RhdGFbYV07XG4gICAgICAgICAgICBiX3RtcCA9IHRoaXMuX2RhdGFbYl07XG4gICAgICAgICAgICByZXR1cm4gc29ydF9mdW5jKGFfdG1wLCBiX3RtcCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTb3J0IHRoZSBkYXRhIGFwcHJvcHJpYXRlbHlcbiAgICAgICAgdGhpcy5fc29ydGVkRGF0YS5zb3J0KHNUZW1wKTtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIHVwZGF0ZSBvdXIgaW5kaWNlcyBhcHByb3ByaWF0ZWx5XG4gICAgICAgIHRoaXMuX3Jlc2V0U29ydGVkS2V5cygpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIExPT1BJTkcgT1ZFUiBUSEUgQ09MTEVDVElPTlxuICAgIC8qKlxuICAgICAqIG1hcFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoYW5kbGUgbG9vcGluZyB0aHJvdWdoIHRoZSBjb2xsZWN0aW9uIHRvIGdldCBlYWNoIGVsZW1lbnRcbiAgICAgKi9cbiAgICBtYXAobWFwRnVuYykge1xuICAgICAgICBpZiAoIW1hcEZ1bmMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2V0TG9vcCgpO1xuICAgICAgICB3aGlsZSAodGhpcy5oYXNOZXh0KCkpIHtcbiAgICAgICAgICAgIGxldCBwYWlyID0gdGhpcy5nZXROZXh0KCk7XG4gICAgICAgICAgICBpZiAoIXBhaXIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHBhaXIudmFsdWU7XG4gICAgICAgICAgICBsZXQga2V5ID0gcGFpci5rZXk7XG4gICAgICAgICAgICBsZXQgaWR4ID0gdGhpcy5nZXRJbmRleChrZXkpO1xuICAgICAgICAgICAgbWFwRnVuYyh2YWx1ZSwga2V5LCBpZHgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXRMb29wKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlc2V0TG9vcFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBSZXNldHMgb3VyIGl0ZXJhdGlvbiBjb3VudGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdHJldmVyc2VcdFx0SWYgdHJ1ZSwgbG9vcHMgdGhyb3VnaCBiYWNrd2FyZHNcbiAgICAgKi9cbiAgICByZXNldExvb3AocmV2ZXJzZSkge1xuICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgdGhpcy5faXRlcmF0aW9uID0gKHRoaXMubGVuZ3RoICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRpb24gPSAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBoYXNOZXh0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENoZWNrcyBpZiB3ZSBoYXZlIGEgbmV4dCBlbGVtZW50IGF2YWlsYWJsZSBmb3IgZ2V0dGluZ1xuICAgICAqIEBwYXJhbSBcdHJldmVyc2UgXHRUcnVlIGlmIHdlIHNob3VsZCBsb29wIGJhY2t3YXJkc1xuICAgICAqXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGVyZSBpcyBhIG5leHQgZWxlbWVudCBhdmFpbGFibGVcbiAgICAgKi9cbiAgICBoYXNOZXh0KHJldmVyc2UpIHtcbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIHJldHVybiAoKHRoaXMuX2l0ZXJhdGlvbiAtIDEpID49IDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICgodGhpcy5faXRlcmF0aW9uICsgMSkgPCB0aGlzLl9zb3J0ZWREYXRhLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0TmV4dFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBGaW5kcyB0aGUgbmV4dCBlbGVtZW50IGluIG91ciBsb29wXG4gICAgICogQHBhcmFtIFx0cmV2ZXJzZSBcdFRydWUgaWYgd2Ugc2hvdWxkIGxvb3AgYmFja3dhcmRzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgZWxlbWVudCBuZXh0IGluIG91ciBhcnJheVxuICAgICAqL1xuICAgIGdldE5leHQocmV2ZXJzZSkge1xuICAgICAgICAvLyBHcmFiIHRoZSBuZXh0IGFwcHJvcHJpYXRlIGluZGV4XG4gICAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRpb24gLT0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2l0ZXJhdGlvbiArPSAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdldCB0aGUgZGF0YSBmcm9tIHRoYXQgaW5kZXhcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFbdGhpcy5fc29ydGVkRGF0YVt0aGlzLl9pdGVyYXRpb25dXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0Q3VycmVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBHcmFiIHRoZSBjdXJyZW50IHNlbGVjdGVkIGVsZW1lbnRcbiAgICAgKi9cbiAgICBnZXRDdXJyZW50KCkge1xuICAgICAgICBpZiAodGhpcy5faXRlcmF0aW9uID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFbdGhpcy5fc29ydGVkRGF0YVt0aGlzLl9pdGVyYXRpb25dXTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBPVVRQVVQgVE8gQVJSQVlcbiAgICAvKipcbiAgICAgKiB0b0FycmF5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFJldHVybiBhIHNvcnRlZCBhcnJheSBvZiB0aGUgZWxlbWVudHMgaW4gdGhpcyBjb2xsZWN0aW9uXG4gICAgICovXG4gICAgdG9BcnJheSgpIHtcbiAgICAgICAgbGV0IGFycjtcbiAgICAgICAgbGV0IGtleTtcbiAgICAgICAgZm9yIChrZXkgb2YgdGhpcy5fc29ydGVkRGF0YSkge1xuICAgICAgICAgICAgYXJyLnB1c2godGhpcy5fZGF0YVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB0b1ZhbHVlQXJyYXlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR2V0IGFuIGFycmF5IG9mIGp1c3QgdGhlIHZhbHVlcyBpbiB0aGlzIGNvbGxlY3Rpb25cbiAgICAgKi9cbiAgICB0b1ZhbHVlQXJyYXkoKSB7XG4gICAgICAgIGxldCBhcnIgPSBbXTtcbiAgICAgICAgdGhpcy5tYXAoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBhcnIucHVzaCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXRFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGludGVybmFsIGZ1bmN0aW9uIHRvIGdldCBhbiBlbGVtZW50IHRocm91Z2ggYW4gaWRlbnRmaWVyXG4gICAgICovXG4gICAgZ2V0RWxlbWVudChpZGVudGlmaWVyKSB7XG4gICAgICAgIGxldCBvdXQ7XG4gICAgICAgIC8vIEhhbmRsZSB0aGUgcGFyYW0gYmVpbmcgYSBrZXlcbiAgICAgICAgaWYgKHR5cGVvZiBpZGVudGlmaWVyID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBvdXQgPSB0aGlzLl9kYXRhW2lkZW50aWZpZXJdO1xuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBwYXJtIGJlaW5nIGluZGV4XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGlkZW50aWZpZXIgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGlmICgoaWRlbnRpZmllciA8IDApIHx8IChpZGVudGlmaWVyID4gdGhpcy5fc29ydGVkRGF0YS5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgPSB0aGlzLl9kYXRhW3RoaXMuX3NvcnRlZERhdGFbaWRlbnRpZmllcl1dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGdldFZhbHVlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEdldCB0aGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQga2V5IG9yIGluZGV4XG4gICAgICogQHJldHVybnNcdFRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBpZGVudGlmaWVyXG4gICAgICovXG4gICAgZ2V0VmFsdWUoaWRlbnRpZmllcikge1xuICAgICAgICBsZXQgcGFpcjtcbiAgICAgICAgcGFpciA9IHRoaXMuZ2V0RWxlbWVudChpZGVudGlmaWVyKTtcbiAgICAgICAgaWYgKCFwYWlyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFpci52YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0SW5kZXhcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR2V0IHRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIHNwZWNpZmllZCBrZXkgLyB2YWx1ZVxuICAgICAqIEBwYXJhbSBcdHBhcmFtIFx0VGhlIGtleSBvciB2YWx1ZSB0byBtYXRjaFxuICAgICAqIEByZXR1cm5zIFRoZSBpbmRleCBvZiB0aGUgYXBwcm9wcmlhdGUgZWxlbWVudFxuICAgICAqL1xuICAgIGdldEluZGV4KHBhcmFtKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZGF0YVtwYXJhbV0gJiYgdGhpcy5fZGF0YVtwYXJhbV0uc29ydGVkSWR4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBlO1xuICAgICAgICAgICAgZSA9IHRoaXMuX2ZpbmRFbGVtZW50KHBhcmFtKTtcbiAgICAgICAgICAgIHJldHVybiAoZSAmJiBlLnNvcnRlZElkeCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBGSU5EIEFOIEVMRU1FTlQgQlkgSVRTIFZBTFVFXG4gICAgLyoqXG4gICAgICogX2ZpbmRFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEZpbmQgdGhlIGFzc29jaWF0ZWQgZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWVcbiAgICAgKi9cbiAgICBfZmluZEVsZW1lbnQodmFsKSB7XG4gICAgICAgIGxldCBrZXk7XG4gICAgICAgIGxldCBlbGVtO1xuICAgICAgICAvLyBsb29wIG92ZXIgZXZlcnl0aGluZyBpbiBvdXIgZGF0YSBhcnJheVxuICAgICAgICBmb3IgKGtleSBpbiB0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGF0YS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgZWxlbSA9IHRoaXMuX2RhdGFba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZXF1YWxpdHlUZXN0KGVsZW0udmFsdWUsIHZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXRLZXlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogUmV0cmlldmUgdGhlIGtleSBmb3IgdGhlIGVsZW1lbnQgbG9jYXRlZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IG9yIHdpdGggdGhlXG4gICAgICogc3BlY2lmaWVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQHBhcmFtXHRUaGUgaW5kZXggb3IgdmFsdWUgdG8gbWF0Y2ggb25cbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUaGUgYXBwcm9wcmlhdGUga2V5IGZvciB0aGUgYXNzb2NpYXRlZCBlbGVtZW50XG4gICAgICovXG4gICAgZ2V0S2V5KHBhcmFtKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zb3J0ZWREYXRhW3BhcmFtXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBlO1xuICAgICAgICAgICAgZSA9IHRoaXMuX2ZpbmRFbGVtZW50KHBhcmFtKTtcbiAgICAgICAgICAgIHJldHVybiAoZSAmJiBlLmtleSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogaGFzRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBWZXJpZnkgaWYgYW4gZWxlbWVudCBleGlzdHMgaW5zaWRlIHRoaXMgY29sbGVjdGlvblxuICAgICAqIEByZXR1cm5zXHRUcnVlIGlmIHRoZSBlbGVtZW50IGlzIGZvdW5kIGluIHRoaXMgY29sbGVjdGlvblxuICAgICAqL1xuICAgIGhhc0VsZW1lbnQocGFyYW0pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuICghIXRoaXMuX2RhdGFbcGFyYW1dKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgcGFyYW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAoKCEhdGhpcy5fc29ydGVkRGF0YVtwYXJhbV0pICYmICghIXRoaXMuX2RhdGFbdGhpcy5fc29ydGVkRGF0YVtwYXJhbV1dKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZpbmRFbGVtZW50KHBhcmFtKSAhPT0gbnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBIRUxQRVJTXG4gICAgLyoqXG4gICAgICogdG9TdHJpbmdcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogVHVybnMgdGhpcyBjb2xsZWN0aW9uIGludG8gYSBodW1hbiByZWFkYWJsZSBzdHJpbmdcbiAgICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IG91dFN0ciA9IFwiXCI7XG4gICAgICAgIHRoaXMubWFwKChlbGVtLCBrZXksIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKG91dFN0ci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgb3V0U3RyICs9IFwiLCBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dFN0ciArPSBzdHJpbmdzXzEuZm9ybWF0KFwiezB9ID0+IHsxfVwiLCBrZXksIGVsZW0udG9TdHJpbmcoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0U3RyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBlcXVhbHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRGV0ZXJtaW5zIGlmIHRoaXMgQ29sbGVjdGlvbiBpcyBlcXVhbCBpbiB2YWx1ZSB0byBhbm90aGVyIENvbGxlY3Rpb25cbiAgICAgKiBAcmV0dXJuc1x0VHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIGNvbGxlY3Rpb24gaXMgYSBtYXRjaCBmb3Igb3VyIG93blxuICAgICAqL1xuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICAvLyBxdWljayBjaGVjazogZGV0ZXJtaW5lIGlmIHRoZSBsZW5ndGhzIGFyZSBtaXNtYXRjaGVkXG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCAhPT0gb3RoZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHNvcnRlZCBhcnJheSBpcyBtaXNtYXRjaGVkXG4gICAgICAgIGlmICh0aGlzLl9zb3J0ZWREYXRhLmxlbmd0aCAhPT0gb3RoZXIuX3NvcnRlZERhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IG91ciBrZXkgYXJyYXlzIG1hdGNoXG4gICAgICAgIGxldCBtaXNtYXRjaCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1hcCgoZWxlbSwga2V5LCBpZHgpID0+IHtcbiAgICAgICAgICAgIC8vIGNoZWNrIHRoYXQgdGhpcyBrZXkgZXhpc3RzIGluIHRoZSBvdGhlciBjb2xsZWN0aW9uXG4gICAgICAgICAgICBpZiAoIW90aGVyLl9kYXRhW2tleV0pIHtcbiAgICAgICAgICAgICAgICBtaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgaWYgdGhlIHR3byBlbGVtZW50cyBhcmUgZXF1YWxcbiAgICAgICAgICAgIGlmICghY29tcGFyYWJsZV8xLmVxdWFscyhlbGVtLCBvdGhlci5fZGF0YVtrZXldLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG1pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHF1aXQgaWYgd2Ugd2VyZSBtaXNtYXRjaGVkXG4gICAgICAgIGlmIChtaXNtYXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIG1hZGUgaXQgdGhpcyBmYXIsIHdlIHNob3VsZCBjb25zaWRlciB0aGUgY29sbGVjdGlvbnMgdGhlIHNhbWVcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZXhwb3J0cy5Db2xsZWN0aW9uID0gQ29sbGVjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3Byb21pc2VUeXBlc1wiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi9wcmltaXRpdmVIZWxwZXJzL3N0cmluZ3NcIik7XG5jb25zdCBuYXZpZ2F0ZV8xID0gcmVxdWlyZShcIi4uL29iamVjdEhlbHBlcnMvbmF2aWdhdGVcIik7XG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIEhBTkRMRSBUSEUgQ0xBU1MgQ1JFQVRJT05cbi8qKlxuICogY3JlYXRlQ2xhc3NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhIENTUyBjbGFzcyBmcm9tIGEgc2VsZWN0b3IgJiBzZXQgb2YgYXR0cmlidXRlc1xuICpcbiAqIEBwYXJhbSAgIHNlbGVjdG9yICAgICAgICBUaGUgQ1NTIHNlbGVjdG9yIHdlIHNob3VsZCB1c2UgZm9yIHRoaXMgY2xhc3NcbiAqIEBwYXJhbSAgIGF0dHIgICAgICAgICAgICBBdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlXG4gKiBAcGFyYW0gICBub0FwcGVuZCAgICAgICAgSWYgdHJ1ZSwgZG9lc24ndCBhZGQgdGhlIHN0eWxlIGNsYXNzIHRvIHRoZSBkb2N1bWVudFxuICogQHBhcmFtICAgZm9yY2VPdmVycmlkZSAgIElmIHRydWUsIHJlcGxhY2VzIHRoZSBjbGFzcyBldmVuIGlmIGl0IGFscmVhZHkgZXhpc3RzXG4gKlxuICogQHJldHVybnMgVGhlIGNyZWF0ZWQgc3R5bGUgZWxlbWVudFxuICovXG5mdW5jdGlvbiBjcmVhdGVDbGFzcyhzZWxlY3RvciwgYXR0ciwgbm9BcHBlbmQsIGZvcmNlT3ZlcnJpZGUsIHNraXBFeGlzdGluZ1NlbGVjdG9yKSB7XG4gICAgLy8gZ2VuZXJhdGUgdGhlIGNvbnRlbnRzIG9mIHRoZSBjbGFzcyB0byBjcmVhdGVkXG4gICAgbGV0IHN0eWxlU3RyaW5nID0gZ2VuZXJhdGVDb250ZW50Rm9yQ1NTQ2xhc3Moc2VsZWN0b3IsIGF0dHIsIHNraXBFeGlzdGluZ1NlbGVjdG9yKTtcbiAgICAvLyBJZiB3ZSBjcmVhdGVkIGFuIGVtcHR5IGNsYXNzLCBqdXN0IHJldHVybiBub3RoaW5nXG4gICAgaWYgKCFzdHlsZVN0cmluZyAmJiAhZm9yY2VPdmVycmlkZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gYWRkIHRoZSBjbGFzcyB0byBhbiBlbGVtZW50ICYgcmV0dXJuIGl0XG4gICAgcmV0dXJuIF9hZGRDbGFzc1RvRWxlbShzdHlsZVN0cmluZywgbm9BcHBlbmQpO1xufVxuZXhwb3J0cy5jcmVhdGVDbGFzcyA9IGNyZWF0ZUNsYXNzO1xuLyoqXG4gKiBnZW5lcmF0ZUNvbnRlbnRGb3JDU1NDbGFzc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlIHRoZSBpbm5lciBIVE1MIGZvciB0aGUgQ1NTIGNsYXNzIHRoYXQgd2lsbCBiZSB1c2VkIGZvciB0aGlzIHN0eWxlc2V0XG4gKiBAcGFyYW0gICBzZWxlY3RvciAgICAgICAgICAgICAgICBDU1Mgc2VsZWN0b3JcbiAqIEBwYXJhbSAgIGF0dHIgICAgICAgICAgICAgICAgICAgIFByb3BlcnRpZXMgKyB2YWx1ZXMgdG8gdXNlIGZvciBjbGFzc1xuICogQHBhcmFtICAgc2tpcEV4aXN0aW5nU2VsZWN0b3IgICAgVHJ1ZSBpZiB3ZSBzaG91bGQgbm90IGFkZCB0byBhbiBleGlzdGluZyBzZWxlY3RvclxuICpcbiAqIEByZXR1cm5zIEFwcHJvcHJpYXRlIGNvbnRlbnQgZm9yIHRoZSBDU1MgY2xhc3Mgc3BlY2lmaWVkIGJ5IHRoZSBkZWZpbml0aW9uXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlQ29udGVudEZvckNTU0NsYXNzKHNlbGVjdG9yLCBhdHRyLCBza2lwRXhpc3RpbmdTZWxlY3Rvcikge1xuICAgIC8vIGdlbmVyYXRlIHRoZSBzdHlsZSBzdHJpbmcgZnJvbSBvdXIgYXR0cmlidXRlc1xuICAgIGxldCBzdHlsZVN0cmluZyA9IF9nZW5lcmF0ZUNTU1N0cmluZ0NvbnRlbnQoc2VsZWN0b3IsIGF0dHIsIHNraXBFeGlzdGluZ1NlbGVjdG9yKTtcbiAgICAvLyBhcyBsb25nIGFzIHdlIGhhdmUgc29tZSB2YWx1ZSwgZm9ybWF0IGl0IGFwcHJvcHJpYXRlbHkgYXMgYSBjbGFzc1xuICAgIGlmIChzdHlsZVN0cmluZykge1xuICAgICAgICBzdHlsZVN0cmluZyA9IHN0cmluZ3NfMS5mb3JtYXQoXCJcXG57MH0gXFxcXHtcXG57MX1cXG5cXFxcfVwiLCBzZWxlY3Rvciwgc3R5bGVTdHJpbmcpO1xuICAgICAgICAvLyBhbGxvdyBmb3IgaXJyZWd1bGFyIGZvcm1hdGlvbnMsIGxpa2UgbWVkaWEgcXVlcmllc1xuICAgICAgICBpZiAoc2VsZWN0b3IuaW5kZXhPZihcIntcIikgIT09IC0xKSB7XG4gICAgICAgICAgICBzdHlsZVN0cmluZyArPSBcIlxcbn1cIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3R5bGVTdHJpbmc7XG59XG5leHBvcnRzLmdlbmVyYXRlQ29udGVudEZvckNTU0NsYXNzID0gZ2VuZXJhdGVDb250ZW50Rm9yQ1NTQ2xhc3M7XG4vKipcbiAqIF9nZW5lcmF0ZUNTU1N0cmluZ0NvbnRlbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSB0aGUgc3RyaW5nIHRoYXQgd2lsbCBhY3R1YWxseSBmaWxsIHRoZSBDU1MgY2xhc3NcbiAqL1xuZnVuY3Rpb24gX2dlbmVyYXRlQ1NTU3RyaW5nQ29udGVudChzZWxlY3RvciwgYXR0ciwgc2tpcEV4aXN0aW5nU2VsZWN0b3IpIHtcbiAgICAvLyBJZiB0aGlzIHN0eWxlIGFscmVhZHkgZXhpc3RzLCBhcHBlbmQgdG8gaXRcbiAgICBsZXQgY3NzUnVsZSA9IF9nZXRDU1NSdWxlKHNlbGVjdG9yLCBza2lwRXhpc3RpbmdTZWxlY3Rvcik7XG4gICAgLy8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBpcyBhbiBhbmltYXRpb25cbiAgICBsZXQgaXNHZW5lcmF0aW5nQW5pbWF0aW9uID0gKHNlbGVjdG9yLmluZGV4T2YoXCJAa2V5ZnJhbWVzXCIpICE9PSAtMSk7XG4gICAgLy8gaW5pdGlhbGl6ZSB0byBudWxsIHN0cmluZ1xuICAgIGxldCBzdHlsZVN0cmluZyA9IFwiXCI7XG4gICAgLy8gbG9vcCB0aHJvdWdoIGFsbCBvZiB0aGUgcHJvcGVydGllcyBhbmQgZ2VuZXJhdGUgYXBwcm9wcmlhdGUgdmFsdWUgc3RyaW5nc1xuICAgIG5hdmlnYXRlXzEubWFwKGF0dHIsIChwcm9wZXJ0eVZhbHVlLCBwcm9wZXJ0eU5hbWUpID0+IHtcbiAgICAgICAgLy8gcXVpdCBpZiB0aGlzIHJ1bGUgaGFzIGFscmVhZHkgYmVlbiBhZGRlZCBmb3IgdGhpcyBzZWxlY3RvclxuICAgICAgICBpZiAoY3NzUnVsZS5zdHlsZVtwcm9wZXJ0eU5hbWVdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gZ2VuZXJhdGUgdGhlIGFwcHJvcHJpYXRlIHZhbHVlIHN0cmluZ1xuICAgICAgICBpZiAoaXNHZW5lcmF0aW5nQW5pbWF0aW9uKSB7XG4gICAgICAgICAgICBzdHlsZVN0cmluZyArPSBfZ2VuZXJhdGVBbmltYXRpb25DbGFzcyhwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3R5bGVTdHJpbmcgKz0gX2dlbmVyYXRlU2ltcGxlVmFsdWUocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzdHlsZVN0cmluZztcbn1cbi8qKlxuICogX2dldENTU1J1bGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEdldCBhbiBleGlzdGluZyBzZWxlY3Rvciwgb3Igc3BpbiB1cCBhIG5ldyBDU1MgUnVsZSB0byB1c2UgaW4gb3VyIGNsYXNzIGRlZlxuICovXG5mdW5jdGlvbiBfZ2V0Q1NTUnVsZShzZWxlY3Rvciwgc2tpcEV4aXN0aW5nU2VsZWN0b3IpIHtcbiAgICBsZXQgY3NzUnVsZTtcbiAgICBpZiAoIXNraXBFeGlzdGluZ1NlbGVjdG9yKSB7XG4gICAgICAgIGNzc1J1bGUgPSBfZ2V0RXhpc3RpbmdTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgfVxuICAgIGlmICghY3NzUnVsZSkge1xuICAgICAgICBjc3NSdWxlID0geyBzdHlsZToge30gfTtcbiAgICB9XG4gICAgcmV0dXJuIGNzc1J1bGU7XG59XG4vKipcbiAqIF9nZW5lcmF0ZUFuaW1hdGlvbkNsYXNzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGUgdGhlIGNvbnRlbnQgbmVlZGVkIHRvIGhhbmRsZSBhIENTUyBhbmltYXRpb25cbiAqL1xuZnVuY3Rpb24gX2dlbmVyYXRlQW5pbWF0aW9uQ2xhc3MocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgbGV0IHN0eWxlU3RyaW5nID0gXCJcIjtcbiAgICAvLyBsb29wIHRocm91Z2ggdGhlIG5lc3RlZCB2YWx1ZXMgb2YgdGhlIGFuaW1hdGlvblxuICAgIG5hdmlnYXRlXzEubWFwKHByb3BlcnR5VmFsdWUsIChwVmFsdWUsIHBOYW1lKSA9PiB7XG4gICAgICAgIGlmICghcFZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3R5bGVTdHJpbmcgKz0gXCJcXHRcXHRcIiArIHBOYW1lICsgXCIgOiBcIiArIHBWYWx1ZSArIFwiO1xcblwiO1xuICAgIH0pO1xuICAgIC8vIGFwcHJvcHJpYXRlbHkgd3JhcCB0aGUgYW5pbWF0aW9uIGlmIHdlIGhhdmUgYW55dGhpbmcgdG8gd3JhcFxuICAgIGlmIChzdHlsZVN0cmluZykge1xuICAgICAgICBzdHlsZVN0cmluZyA9IHN0cmluZ3NfMS5mb3JtYXQoXCJcXHR7MH0gXFxcXHtcXG57MX1cXFxcfVwiLCBwcm9wZXJ0eU5hbWUsIHN0eWxlU3RyaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlU3RyaW5nO1xufVxuLyoqXG4gKiBfZ2VuZXJhdGVTaW1wbGVWYWx1ZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlIHRoZSBjb250ZW50IGZvciBhIHNpbXBsZSBDU1MgcHJvcGVydHkgOiB2YWx1ZSBwYWlyXG4gKi9cbmZ1bmN0aW9uIF9nZW5lcmF0ZVNpbXBsZVZhbHVlKHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSkge1xuICAgIHJldHVybiBzdHJpbmdzXzEuZm9ybWF0KFwiXFx0ezB9IDogezF9O1xcblwiLCBnZXRQcm9wZXJ0eU5hbWUocHJvcGVydHlOYW1lKSwgcHJvcGVydHlWYWx1ZSk7XG59XG4vKipcbiAqIF9hZGRDbGFzc1RvRWxlbVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQWRkIHRoZSBhcHByb3ByaWF0ZSBjbGFzcyB0byB0aGVcbiAqL1xuZnVuY3Rpb24gX2FkZENsYXNzVG9FbGVtKGNvbnRlbnQsIG5vQXBwZW5kKSB7XG4gICAgLy8gQXBwZW5kIHRoZSBjbGFzcyB0byB0aGUgaGVhZCBvZiB0aGUgZG9jdW1lbnRcbiAgICBsZXQgY2xzID0gY3JlYXRlU3R5bGVFbGVtZW50KCFub0FwcGVuZCk7XG4gICAgY2xzLmlubmVySFRNTCArPSBjb250ZW50O1xuICAgIC8vIGFkZCB0aGUgbm9kZSB0byB0aGUgZG9jdW1lbnQgaWYgYXBwcm9wcmlhdGVcbiAgICBpZiAoIW5vQXBwZW5kICYmICFjbHMucGFyZW50Tm9kZSkge1xuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGNscyk7XG4gICAgfVxuICAgIC8vIFJldHVybiB0aGUgc3R5bGUgbm9kZVxuICAgIHJldHVybiBjbHM7XG59XG4vKipcbiAqIF9jcmVhdGVTdHlsZUVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSB0aGUgZWxlbWVudCB0aGF0IHdpbGwgdGhlbiBiZSBhZGRlZCB0byB0aGUgZG9jdW1lbnRcbiAqIEBwYXJhbSAgIGZpbmRFeGlzdGluZyAgICBJZiB0cnVlLCByZXR1cm5zIHRoZSBmaXJzdCBleGlzdGluZyBzdHlsZSB0YWcgaW4gdGhlIGRvY3VtZW50XG4gKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBzdHlsZSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudChmaW5kRXhpc3RpbmcpIHtcbiAgICBsZXQgc3R5bGVzO1xuICAgIGxldCBjbHM7XG4gICAgLy8gdHJ5IHRvIGZpbmQgYW4gZXhpc3RpbmcgdGFnIGlmIHJlcXVlc3RlZFxuICAgIGlmIChmaW5kRXhpc3RpbmcpIHtcbiAgICAgICAgc3R5bGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHlsZVwiKTtcbiAgICAgICAgaWYgKHN0eWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjbHMgPSBzdHlsZXNbMF07XG4gICAgICAgICAgICByZXR1cm4gY2xzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNscyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICByZXR1cm4gY2xzO1xufVxuZXhwb3J0cy5jcmVhdGVTdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQ7XG4vKipcbiAqIGdldFByb3BlcnR5TmFtZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogZ3JhYiB0aGUgYXBwcm9wcmlhdGUgcHJvcGVydHkgbmFtZSBmb3IgdGhlIENTUyBjbGFzc1xuICogQHBhcmFtICAganNGcmllbmRseU5hbWUgICAgICBUaGUgSlMgdmVyc2lvbiBvZiBhIENTUyBwcm9wZXJ0eSBuYW1lLCB1c3VhbGx5IGluIGNhbWVsLWNhc2VcbiAqIEByZXR1cm5zIFRoZSBDU1MgdmVyc2lvbiBvZiB0aGUgcHJvcGVydHkgbmFtZVxuICovXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eU5hbWUoanNGcmllbmRseU5hbWUpIHtcbiAgICBpZiAoanNGcmllbmRseU5hbWUudG9Mb3dlckNhc2UoKSA9PT0ganNGcmllbmRseU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGpzRnJpZW5kbHlOYW1lO1xuICAgIH1cbiAgICBsZXQgY2hhcnMgPSBqc0ZyaWVuZGx5TmFtZS5zcGxpdChcIlwiKTtcbiAgICBsZXQgY2hhcjtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjaGFycy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGNoYXIgPSBjaGFyc1tpZHhdO1xuICAgICAgICBpZiAoY2hhci50b0xvd2VyQ2FzZSgpICE9PSBjaGFyKSB7XG4gICAgICAgICAgICBjaGFyc1tpZHhdID0gXCItXCIgKyBjaGFyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNoYXJzLmpvaW4oXCJcIik7XG59XG5leHBvcnRzLmdldFByb3BlcnR5TmFtZSA9IGdldFByb3BlcnR5TmFtZTtcbi8qKlxuICogYnVpbGRDbGFzc1N0cmluZ1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQnVpbGRzIHRoZSBzdHJpbmcgdmVyc2lvbiBvZiBhIGNsYXNzbmFtZSwgb3V0IG9mIG11bHRpcGxlIGNsYXNzZXNcbiAqXG4gKiBAcGFyYW0gICBjbGFzc2VzICAgICBMaXN0IG9mIGFsbCBjbGFzc2VzIHRoYXQgc2hvdWxkIGJlIGNvbWJpbmVkIGludG8gYVxuICogICAgICAgICAgICAgICAgICAgICAgc2luZ2xlIGNsYXNzIG5hbWVcbiAqXG4gKiBAcmV0dXJucyBUaGUgZnVsbCBjbGFzcyBuYW1lXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkQ2xhc3NTdHJpbmcoLi4uY2xhc3Nlcykge1xuICAgIGxldCBvdXRDbHMgPSBcIlwiO1xuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNsYXNzZXMubGVuZ3RoOyBpZHggKz0gMSkge1xuICAgICAgICBpZiAoIWNsYXNzZXNbaWR4XSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgb3V0Q2xzID0gc3RyaW5nc18xLmFkZFBpZWNlKG91dENscywgY2xhc3Nlc1tpZHhdLCBcIiBcIik7XG4gICAgfVxuICAgIHJldHVybiBvdXRDbHM7XG59XG5leHBvcnRzLmJ1aWxkQ2xhc3NTdHJpbmcgPSBidWlsZENsYXNzU3RyaW5nO1xuLyoqXG4gKiBfZ2V0RXhpc3RpbmdTZWxlY3RvclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ2hlY2tzIHRvIGZpbmQgYW4gYWxyZWFkeS1leGlzdGluZyB2ZXJzaW9uIG9mIHRoaXMgcGFydGljdWxhciBzZWxlY3Rvciwgc29cbiAqIHRoYXQgdGhlIGRlZmluaXRpb25zIGNhbiBiZSBjb21iaW5lZFxuICpcbiAqIEBwYXJhbSAgIHNlbGVjdG9yICAgIFNlbGVjdG9yIHRvIGZpbmRcbiAqXG4gKiBAcmV0dXJucyBBc3NvY2lhdGVkIHN0eWxlcyB3aXRoIHRoaXMgc2VsZWN0b3JcbiAqL1xuZnVuY3Rpb24gX2dldEV4aXN0aW5nU2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgICBsZXQgY3NzO1xuICAgIGxldCBydWxlcztcbiAgICBsZXQgcnVsZTtcbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIG9mIHRoZSBzdHlsZXNoZWV0cyB3ZSBoYXZlIGF2YWlsYWJsZVxuICAgIGZvciAobGV0IHNJZHggPSAwOyBzSWR4IDwgZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoOyBzSWR4ICs9IDEpIHtcbiAgICAgICAgLy8gUHVsbCBpbiB0aGUgYXBwcm9wcmlhdGUgaW5kZXggZm9yIHRoZSBicm93c2VyIHdlJ3JlIHVzaW5nXG4gICAgICAgIGNzcyA9IGRvY3VtZW50LmFsbCA/ICdydWxlcycgOiAnY3NzUnVsZXMnOyAvL2Nyb3NzIGJyb3dzZXJcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJ1bGVzID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbc0lkeF1bY3NzXTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBoYXZlIGFuIGluZGV4Li4uXG4gICAgICAgIGlmIChydWxlcykge1xuICAgICAgICAgICAgLy8gLi4uIGxvb3AgdGhyb3VnaCBhbGwgYW5kIGNoZWNrIGZvciB0aGUgYWN0dWFsIGNsYXNzXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgcnVsZSA9IHJ1bGVzW2ldO1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIGZpbmQgdGhlIGNsYXNzLi4uXG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUuc2VsZWN0b3JUZXh0ID09PSBzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnVsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIGNyZWF0ZUZvbnREZWZpbml0aW9uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBZGRzIGEgZm9udCB0byB0aGUgQ1NTIHN0eWxlc1xuICpcbiAqIEBwYXJhbSAgIGZvbnROYW1lICAgIFRoZSByZWZlcmVuY2FibGUgbmFtZSBmb3IgdGhlIGZvbnRcbiAqIEBwYXJhbSAgIHNyY0ZpbGVzICAgIFRoZSBzb3VyY2UgZmlsZXMgZm9yIHRoaXMgZm9udFxuICpcbiAqIEByZXR1cm5zIFRoZSB1cGRhdGVkIHN0eWxlIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRm9udERlZmluaXRpb24oZm9udE5hbWUsIHNyY0ZpbGVzLCBub0FwcGVuZCwgZm9yY2VPdmVycmlkZSkge1xuICAgIGxldCBzcmMgPSBbXTtcbiAgICBmb3IgKGxldCBzcmNGaWxlIG9mIHNyY0ZpbGVzKSB7XG4gICAgICAgIHNyYy5wdXNoKHN0cmluZ3NfMS5mb3JtYXQoXCJ1cmwoezB9KSBmb3JtYXQoezF9KVwiLCBzcmNGaWxlLnVybCwgc3JjRmlsZS5mb3JtYXQpKTtcbiAgICB9XG4gICAgbGV0IGF0dHIgPSB7XG4gICAgICAgIGZvbnRGYW1pbHk6IGZvbnROYW1lLFxuICAgICAgICBzcmM6IHNyYy5qb2luKFwiLFwiKVxuICAgIH07XG4gICAgcmV0dXJuIGNyZWF0ZUNsYXNzKFwiQGZvbnQtZmFjZVwiLCBhdHRyLCBub0FwcGVuZCwgZm9yY2VPdmVycmlkZSk7XG59XG5leHBvcnRzLmNyZWF0ZUZvbnREZWZpbml0aW9uID0gY3JlYXRlRm9udERlZmluaXRpb247XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbWJpbmVfMSA9IHJlcXVpcmUoXCIuL2NvbWJpbmVcIik7XG5mdW5jdGlvbiBjbG9uZVJlY3QocmVjdCkge1xuICAgIGxldCBvdXQgPSB7XG4gICAgICAgIHg6IHJlY3QueCxcbiAgICAgICAgeTogcmVjdC55LFxuICAgICAgICB3OiByZWN0LncsXG4gICAgICAgIGg6IHJlY3QuaFxuICAgIH07XG4gICAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydHMuY2xvbmVSZWN0ID0gY2xvbmVSZWN0O1xuZnVuY3Rpb24gY2xvbmVQb2ludChwb2ludCkge1xuICAgIGxldCBvdXQgPSB7XG4gICAgICAgIHg6IHBvaW50LngsXG4gICAgICAgIHk6IHBvaW50LnlcbiAgICB9O1xuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnRzLmNsb25lUG9pbnQgPSBjbG9uZVBvaW50O1xuZnVuY3Rpb24gY2xvbmVQb2ludEFycmF5KHBvaW50cykge1xuICAgIGxldCBvdXQgPSBbXTtcbiAgICBsZXQgcHQ7XG4gICAgZm9yIChwdCBvZiBwb2ludHMpIHtcbiAgICAgICAgbGV0IGNsb25lID0gY2xvbmVQb2ludChwdCk7XG4gICAgICAgIG91dC5wdXNoKGNsb25lKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydHMuY2xvbmVQb2ludEFycmF5ID0gY2xvbmVQb2ludEFycmF5O1xuLyoqXG4gKiBjbG9uZU9iamVjdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogR2VuZXJpYyBmdW5jdGlvbiB0byB0cnkgdG8gY2xvbmUgYW55IG9iamVjdCwgdXNpbmcgSlNPTiBzdHJpbmdpZnkgKyBwYXJzZVxuICogQHBhcmFtIFx0b2JqXHRcdFRoZSBvYmplY3QgdG8gY2xvbmVcbiAqXG4gKiBAcmV0dXJuc1x0VGhlIGNsb25lZCBlbGVtZW50c1xuICovXG5mdW5jdGlvbiBjbG9uZU9iamVjdChvYmopIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcbn1cbmV4cG9ydHMuY2xvbmVPYmplY3QgPSBjbG9uZU9iamVjdDtcbmZ1bmN0aW9uIHNoYWxsb3dDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgICByZXR1cm4gY29tYmluZV8xLmNvbWJpbmVPYmplY3RzKHt9LCBvYmplY3QpO1xufVxuZXhwb3J0cy5zaGFsbG93Q2xvbmVPYmplY3QgPSBzaGFsbG93Q2xvbmVPYmplY3Q7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbmF2aWdhdGVfMSA9IHJlcXVpcmUoXCIuLi9vYmplY3RIZWxwZXJzL25hdmlnYXRlXCIpO1xuY29uc3QgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9hc3luY1wiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4vY3NzXCIpO1xuY29uc3Qgc3R5bGVzXzEgPSByZXF1aXJlKFwiLi9zdHlsZXNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdFRyYW5zaXRpb25Db250cm9sbGVyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBrZWVwIHRyYWNrIG9mIHRoZSB0cmFuc2l0aW9ucyB0aGF0IGhhdmUgYmVlbiBwZXJmb3JtZWQgJiBtYW5hZ2UgZ2VuZXJhdGluZ1xuICogbmV3IG9uZXNcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb25cdDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIF9UcmFuc2l0aW9uQ29udHJvbGxlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgICAgIC8vI3JlZ2lvbiBQUk9QRVJUSUVTXG4gICAgICAgIC8qKiB0aGUgbGFzdCBpZGVudGlmaWVyIHdlIHVzZWQgZm9yIGEgZ2VuZXJhdGVkIGNsYXNzICovXG4gICAgICAgIHRoaXMuX2xhc3RDbHNJZCA9IDA7XG4gICAgICAgIC8qKiBhbGwgY2xhc3NlcyB0aGF0IHdlJ3ZlIGFscmVhZHkgZ2VuZXJhdGVkOyBrZXkgaXMgdGhlIHN0cmluZyB2ZXJzaW9uIG9mIHRoZSBjbGFzcywgdmFsdWUgaXMgdGhlIGNsYXNzIElEICovXG4gICAgICAgIHRoaXMuX2dlbmVyYXRlZENsYXNzZXMgPSB7fTtcbiAgICAgICAgLy8jZW5kcmVnaW9uXG4gICAgICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gUFVCTElDIE1FVEhPRFNcbiAgICAvKipcbiAgICAgKiB0cmFuc2l0aW9uXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGFkZCBhIHRyYW5zaXRpb25hcnkgY2xhc3MgdG8gdGhlIHNwZWNpZmllZCBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0gICBkZXRhaWxzICAgICBvYmplY3QgY29udGFpbmluZyBkZXRhaWxzIGFib3V0IHRoZSB0cmFuc2l0aW9uIHRvIGJlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyAgICAgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgb25jZSB0aGUgdHJhbnNpdGlvbiBpcyBvdmVyXG4gICAgICovXG4gICAgdHJhbnNpdGlvbihkZXRhaWxzKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAoIWRldGFpbHMuZWxlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIm5vIGVsZW1lbnRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRldGFpbHMudGltZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIm5vIHRpbWVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBnZXQgb3IgZ2VuZXJhdGUgdGhlIHN0YXJ0aW5nIGNsYXNzXG4gICAgICAgICAgICBsZXQgc3RhcnROYW1lID0gdGhpcy5fZ2V0Q2xhc3MoZGV0YWlscy5zdGFydCwgZGV0YWlscy5lbGVtKTtcbiAgICAgICAgICAgIC8vIGdldCBvciBnZW5lcmF0ZSB0aGUgZW5kaW5nIGNsYXNzXG4gICAgICAgICAgICBpZiAoIWRldGFpbHMuZW5kLnRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBkZXRhaWxzLmVuZC50cmFuc2l0aW9uID0gXCJhbGwgZWFzZS1pbi1vdXQgXCIgKyAoZGV0YWlscy50aW1lIC8gMTAwMCkgKyBcInNcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBlbmROYW1lID0gdGhpcy5fZ2V0Q2xhc3MoZGV0YWlscy5lbmQsIGRldGFpbHMuZWxlbSk7XG4gICAgICAgICAgICAvLyBhY3R1YWxseSBhbmltYXRlIHRoZSB0cmFuc2l0aW9uXG4gICAgICAgICAgICB5aWVsZCB0aGlzLl9hbmltYXRlKGRldGFpbHMsIHN0YXJ0TmFtZSwgZW5kTmFtZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB0cmFuc2l0aW9uUHJvb2VydHlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogVE9ET1xuICAgICAqL1xuICAgIHRyYW5zaXRpb25Qcm9wZXJ0eShkZXRhaWxzKSB7XG4gICAgICAgIC8vVE9ET1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJub3QgaW1wbGVtZW50ZWRcIik7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ0xBU1MgTkFNSU5HXG4gICAgLyoqXG4gICAgICogX2dldENsYXNzTmFtZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBnZXRzIGFuIGV4aXN0aW5nIGNsYXNzIG5hbWUgaWYgb25lIGV4aXN0cyBmb3IgdGhpcyBzdHlsZSBjb25maWc7IG90aGVyd2lzZVxuICAgICAqIGNyZWF0ZXMgYSBuZXcgZ2VuZXJhdGVkIGNsYXNzIG5hbWVcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIGNsYXNzRGVmICAgIHRoZSBzdHlsZSB0aGF0IHdpbGwgYmUgZ2VuZXJhdGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgZXhpc3RpbmcgY2xhc3MgbmFtZSBvciBhIG5ldyBjbGFzcyBuYW1lIGZvciB0aGlzIHN0eWxlXG4gICAgICovXG4gICAgX2dldENsYXNzKGNsYXNzRGVmLCBlbGVtKSB7XG4gICAgICAgIC8vIGdldCB0aGUgYWJzb2x1dGUgdmVyc2lvbiBvZiB0aGlzIGNsYXNzIGRlZmluaXRpb25cbiAgICAgICAgY2xhc3NEZWYgPSB0aGlzLl9yZXBsYWNlUGxhY2Vob2xkZXJzKGNsYXNzRGVmLCBlbGVtKTtcbiAgICAgICAgLy8gdHVybiB0aGUgY2xhc3MgaW50byBhIHN0cmluZywgdG8gY2hlY2sgaXQgYWdhaW5zdCBvdXIgZXhpc3RpbmcgY2xhc3Nlc1xuICAgICAgICBsZXQgc3RyRGVmID0gSlNPTi5zdHJpbmdpZnkoY2xhc3NEZWYpLnJlcGxhY2UoLyAvZywgXCJcIik7XG4gICAgICAgIC8vIHJldHVybiB0aGUgZXhpc3RpbmcgY2xhc3MgaWYgd2UgaGF2ZSBvbmUgdGhhdCdzIGEgbWF0Y2hcbiAgICAgICAgaWYgKHRoaXMuX2dlbmVyYXRlZENsYXNzZXNbc3RyRGVmXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dlbmVyYXRlZENsYXNzZXNbc3RyRGVmXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvdGhlcndpc2UsIGdlbmVyYXRlIGEgbmV3IGNsYXNzXG4gICAgICAgIGxldCBuYW1lID0gdGhpcy5fZ2VuZXJhdGVSYW5kb21DbGFzc05hbWUoKTtcbiAgICAgICAgdGhpcy5fZ2VuZXJhdGVkQ2xhc3Nlc1tzdHJEZWZdID0gbmFtZTtcbiAgICAgICAgdGhpcy5fY3JlYXRlVHJhbnNpdGlvbkNsYXNzKG5hbWUsIGNsYXNzRGVmLCBlbGVtKTtcbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuICAgIF9nZW5lcmF0ZVJhbmRvbUNsYXNzTmFtZSgpIHtcbiAgICAgICAgdGhpcy5fbGFzdENsc0lkICs9IDE7XG4gICAgICAgIHJldHVybiBcImdlbmNsc1wiICsgdGhpcy5fbGFzdENsc0lkO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBUUkFOU0lUSU9OIENMQVNTRVNcbiAgICAvKipcbiAgICAgKiBfY3JlYXRlVHJhbnNpdGlvbkNsYXNzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGEgQ1NTIGNsYXNzIHRoYXQgd2lsbCBiZSBvbmUgZW5kIG9mIGEgdHJhbnNpdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtICAgY2xhc3NOYW1lICAgU2VsZWN0b3IgdG8gdXNlIGZvciB0aGUgY2xhc3NcbiAgICAgKiBAcGFyYW0gICBjbGFzc0RlZiAgICBEZWZpbml0aW9uIGZvciB0aGUgY2xhc3NcbiAgICAgKiBAcGFyYW0gICBlbGVtICAgICAgICBFbGVtZW50IHRoaXMgY2xhc3Mgd2lsbCBiZSBhcHBsaWVkIHRvXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgdXBkYXRlZCBDU1MgY2xhc3NcbiAgICAgKi9cbiAgICBfY3JlYXRlVHJhbnNpdGlvbkNsYXNzKGNsYXNzTmFtZSwgY2xhc3NEZWYsIGVsZW0pIHtcbiAgICAgICAgLy8gY3JlYXRlIG91ciBzdHlsZSBlbGVtZW50IGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgaWYgKCF0aGlzLl9zdHlsZUVsZW0pIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVN0eWxlRWxlbSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGdlbmVyYXRlIHRoZSBuZXcgY29udGVudHMgZm9yIG91ciBzdHlsZSB0YWdcbiAgICAgICAgdGhpcy5fc3R5bGVFbGVtLmlubmVySFRNTCArPSBzdHlsZXNfMS5nZW5lcmF0ZUNvbnRlbnRGb3JDU1NDbGFzcyhcIi5cIiArIGNsYXNzTmFtZSwgY2xhc3NEZWYsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVwbGFjZVBsYWNlaG9sZGVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBlbnN1cmUgdGhhdCB3ZSByZXBsYWNlIGFueSBwbGFjZWhvbGRlcnMgYWNjZXB0ZWQgaW4gdHJhbnNpdGlvbiBjbGFzc2VzIHdpdGhcbiAgICAgKiB0aGUgcmVhbCBtZWFzdXJlbWVudFxuICAgICAqL1xuICAgIF9yZXBsYWNlUGxhY2Vob2xkZXJzKGNsYXNzRGVmLCBlbGVtKSB7XG4gICAgICAgIG5hdmlnYXRlXzEubWFwKGNsYXNzRGVmLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwiPHdpZHRoPlwiLCAoZWxlbS5vZmZzZXRXaWR0aCArIDEpICsgXCJweFwiKTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcIjxoZWlnaHQ+XCIsIGVsZW0ub2Zmc2V0SGVpZ2h0ICsgXCJweFwiKTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcIjxsZWZ0PlwiLCBlbGVtLm9mZnNldExlZnQgKyBcInB4XCIpO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwiPHRvcD5cIiwgZWxlbS5vZmZzZXRUb3AgKyBcInB4XCIpO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwiPHJpZ2h0PlwiLCAoZWxlbS5vZmZzZXRMZWZ0ICsgZWxlbS5vZmZzZXRXaWR0aCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwiPGJvdHRvbT5cIiwgKGVsZW0ub2Zmc2V0VG9wICsgZWxlbS5vZmZzZXRIZWlnaHQpICsgXCJweFwiKTtcbiAgICAgICAgICAgIGNsYXNzRGVmW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGFzc0RlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZVN0eWxlRWxlbVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjcmVhdGVzIGEgc2hhcmVkIHN0eWxlIHRhZyBmb3IgdGhpcyBjbGFzcywgc28gdGhhdCB3ZSBjYW4gY29udGludWUgdG8gYWRkXG4gICAgICogdG8gaXRcbiAgICAgKi9cbiAgICBfY3JlYXRlU3R5bGVFbGVtKCkge1xuICAgICAgICB0aGlzLl9zdHlsZUVsZW0gPSBzdHlsZXNfMS5jcmVhdGVTdHlsZUVsZW1lbnQoZmFsc2UpO1xuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuX3N0eWxlRWxlbSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQUNUVUFMTFkgQU5JTUFURVxuICAgIC8qKlxuICAgICAqIF9hbmltYXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGFkZCBjbGFzc2VzIGluIHRoZSBhcHByb3ByaWF0ZSB0aW1lZnJhbWVcbiAgICAgKi9cbiAgICBfYW5pbWF0ZShkZXRhaWxzLCBzdGFydE5hbWUsIGVuZE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHlpZWxkIGFzeW5jXzEubmV4dFJlbmRlcigpOyAvLyBlbnN1cmUgdGhlIGNsYXNzIGV4aXN0c1xuICAgICAgICAgICAgY3NzXzEuYWRkQ2xhc3MoZGV0YWlscy5lbGVtLCBzdGFydE5hbWUpOyAvLyBzdGFydCBieSBhZGRpbmcgdGhlIHN0YXJ0IGNsYXNzXG4gICAgICAgICAgICB5aWVsZCBhc3luY18xLndhaXQoZGV0YWlscy5kZWxheSB8fCAwKTsgLy8gd2FpdCBmb3IgdGhlIGRlbGF5IHRvIGNvbXBsZXRlXG4gICAgICAgICAgICBjc3NfMS5hZGRDbGFzcyhkZXRhaWxzLmVsZW0sIGVuZE5hbWUpOyAvLyBhZGQgdGhlIGVuZCBjbGFzcyB0byBzdGFydCB0aGUgdHJhbnNpdGlvblxuICAgICAgICAgICAgeWllbGQgYXN5bmNfMS53YWl0KGRldGFpbHMudGltZSk7IC8vIHdhaXQgZm9yIHRoZSB0cmFuc2l0aW9uIHRvIGNvbXBsZXRlXG4gICAgICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyhkZXRhaWxzLmVsZW0sIHN0YXJ0TmFtZSk7IC8vIHJlbW92ZSB0aGUgc3RhcnQgY2xhc3NcbiAgICAgICAgICAgIHlpZWxkIGFzeW5jXzEubmV4dFJlbmRlcigpOyAvLyBhbmQgd2FpdCB1bnRpbCB0aGUgbmV4dCBmcmFtZVxuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBlbmQgY2xhc3MgYWZ0ZXIgdGhlIGNhbGxlciBoYXMgaGFkIHRpbWUgdG8gYXBwbHkgdGhlIHBlcm1hbmVudCBzdGF0ZVxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlRW5kQ2xhc3MoZGV0YWlscy5lbGVtLCBlbmROYW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9yZW1vdmVFbmRDbGFzc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiByZW1vdmUgdGhlIGVuZC1zdGF0ZSBjbGFzc1xuICAgICAqL1xuICAgIF9yZW1vdmVFbmRDbGFzcyhlbGVtLCBlbmROYW1lKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB5aWVsZCBhc3luY18xLndhaXQoMTApO1xuICAgICAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3MoZWxlbSwgZW5kTmFtZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuVHJhbnNpdGlvbkNvbnRyb2xsZXIgPSBuZXcgX1RyYW5zaXRpb25Db250cm9sbGVyKCk7XG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNIT1JURU5FRCBBQ0NFU1Ncbi8qKlxuICogdHJhbnNpdGlvblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBUcmFuc2l0aW9uIGFuIGVsZW1lbnQgdG8gYSBwYXJ0aWN1bGFyIHN0eWxlLCB0aGVuIGFsZXJ0IHRoZSBjYWxsZXIgdGhhdFxuICogaXQgaGFzIGNvbXBsZXRlZFxuICpcbiAqIEBwYXJhbSAgIGVsZW1lbnQgICAgIFRoZSBlbGVtZW50IHRvIHRyYW5zaXRpb25cbiAqIEBwYXJhbSAgIHN0YXJ0U3R5bGUgIElmIG5lZWRlZCwgYW55IHNwZWNpZmljIG5ldyBhdHRyaWJ1dGVzIHRoYXQgYXJlIG5lZWRlZCBmb3IgdGhpcyBvYmplY3RcbiAqIEBwYXJhbSAgIGVuZFN0eWxlICAgIFRoZSBzdHlsZSB3ZSBzaG91bGQgZW5kIHVwIHdpdGhcbiAqIEBwYXJhbSAgIHRpbWUgICAgICAgIEhvdyBsb25nIHRoaXMgdHJhbnNpdGlvbiBzaG91bGQgdGFrZVxuICogQHBhcmFtICAgZGVsYXkgICAgICAgSG93IGxvbmcgdGhpcyB0cmFuc2l0aW9uIHNob3VsZCBiZSBkZWxheWVkXG4gKlxuICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHdpbGwgYmUgY2FsbGVkIGFmdGVyIHRyYW5zaXRpb24gY29tcGxldGVzXG4gKi9cbmZ1bmN0aW9uIHRyYW5zaXRpb24oZWxlbWVudCwgc3RhcnRTdHlsZSwgZW5kU3R5bGUsIHRpbWUsIGRlbGF5KSB7XG4gICAgcmV0dXJuIGV4cG9ydHMuVHJhbnNpdGlvbkNvbnRyb2xsZXIudHJhbnNpdGlvbih7XG4gICAgICAgIGVsZW06IGVsZW1lbnQsXG4gICAgICAgIHN0YXJ0OiBzdGFydFN0eWxlLFxuICAgICAgICBlbmQ6IGVuZFN0eWxlLFxuICAgICAgICB0aW1lOiB0aW1lLFxuICAgICAgICBkZWxheTogZGVsYXkgfHwgMFxuICAgIH0pO1xufVxuZXhwb3J0cy50cmFuc2l0aW9uID0gdHJhbnNpdGlvbjtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgcGF0aEVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9lbGVtZW50cy9wYXRoRWxlbWVudFwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0UGF0aEV4dGVuc2lvbkVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgUGF0aEV4dGVuc2lvbkVsZW1lbnQgZXh0ZW5kcyBwYXRoRWxlbWVudF8xLlBhdGhFbGVtZW50IHtcbiAgICAvKipcbiAgICAgKiBfc2V0QXR0cmlidXRlc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGQgYSBob29rIHRvIGFsbG93IGNoaWxkIGVsZW1lbnRzIHRvIGdlbmVyYXRlIHRoZWlyIG93biBzZXQgb2YgcG9pbnRzXG4gICAgICogQHBhcmFtIFx0YXR0ciBcdFx0QXR0cmlidXRlcyBmb3IgdGhlIFNWRyBlbGVtZW50XG4gICAgICogQHBhcmFtIFx0YWRkbEFyZ3MgXHRBbnl0aGluZyBlbHNlIHRoaXMgcGFydGljdWxhciBwYXRoIGNhcmVzIGFib3V0XG4gICAgICovXG4gICAgX3NldEF0dHJpYnV0ZXMoYXR0ciwgLi4uYWRkbEFyZ3MpIHtcbiAgICAgICAgbGV0IHB0cyA9IHRoaXMuX2dlbmVyYXRlUG9pbnRzLmFwcGx5KHRoaXMsIGFkZGxBcmdzKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLl9zZXRBdHRyaWJ1dGVzKGF0dHIsIHB0cyk7XG4gICAgfVxufVxuZXhwb3J0cy5QYXRoRXh0ZW5zaW9uRWxlbWVudCA9IFBhdGhFeHRlbnNpb25FbGVtZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogY2hlY2sgaWYgdGhlIGVsZW1lbnQgaW1wbGVtZW50cyB0aGUgZHJhd2FibGUgY2xhc3MgKi9cbmZ1bmN0aW9uIGlzRHJhd2FibGUodGVzdCkge1xuICAgIHJldHVybiAhIXRlc3QuZHJhdztcbn1cbmV4cG9ydHMuaXNEcmF3YWJsZSA9IGlzRHJhd2FibGU7XG4vKiogY2hlY2sgaWYgdGhlIGVsZW1lbnQgaXMgb25lIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSBkcmF3YWJsZSBiYXNlICovXG5mdW5jdGlvbiBpc0RyYXdhYmxlRWxlbWVudCh0ZXN0KSB7XG4gICAgcmV0dXJuICghISh0ZXN0LmFwcGVuZENoaWxkKSk7XG59XG5leHBvcnRzLmlzRHJhd2FibGVFbGVtZW50ID0gaXNEcmF3YWJsZUVsZW1lbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG5hdmlnYXRlXzEgPSByZXF1aXJlKFwiLi9uYXZpZ2F0ZVwiKTtcbmNvbnN0IGZhbHNleV8xID0gcmVxdWlyZShcIi4uL3R5cGVHdWFyZHMvZmFsc2V5XCIpO1xuLyoqXG4gKiBjb21iaW5lT2JqZWN0c1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVGFrZSB0d28gc2VwYXJhdGUgb2JqZWN0cyBhbmQgY29tYmluZSB0aGVtIGludG8gb25lXG4gKlxuICogQHBhcmFtICAgb2JqQSAgICBGaXJzdCBvYmplY3QgdG8gY29tYmluZVxuICogQHBhcmFtICAgb2JqQiAgICBTZWNvbmQgb2JqZWN0IHRvIGNvbWJpbmU7IHdpbGwgb3ZlcnJpZGUgQSBpbiBjYXNlcyBvZiBjb25mbGljdFxuICogQHBhcmFtICAgZGVlcCAgICBUcnVlIGlmIHRoaXMgc2hvdWxkIGJlIHJlY3Vyc2l2ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBjb21iaW5lZCBvYmplY3RcbiAqL1xuZnVuY3Rpb24gY29tYmluZU9iamVjdHMob2JqQSwgb2JqQiwgZGVlcCkge1xuICAgIGxldCByZXQ7XG4gICAgbGV0IHRtcDtcbiAgICBsZXQgbG9vcFRocnU7XG4gICAgcmV0ID0gb2JqQSB8fCB7fTtcbiAgICAvLyBXcml0ZSB0aGUgYXJyYXkgY29waWVzIGZvciBCXG4gICAgaWYgKG9iakIpIHtcbiAgICAgICAgX2xvb3BUaHJ1KG9iakIsIHJldCwgZGVlcCk7XG4gICAgfVxuICAgIC8vIFJldHVybiB0aGUgYXBwcm9wcmlhdGUgb3V0cHV0IGFycmF5XG4gICAgcmV0dXJuIHJldDtcbn1cbmV4cG9ydHMuY29tYmluZU9iamVjdHMgPSBjb21iaW5lT2JqZWN0cztcbi8qKlxuICogX2xvb3BUaHJ1XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb21iaW5lIGFuIG9iamVjdCBpbnRvIGFuIG91dHB1dCBhcnJheVxuICpcbiAqIEBwYXJhbSAgIG9ialRvQ29tYmluZSAgVGhlIG9iamVjdCB0byBtZXJnZSBpbnRvIHRoZSBvdXRwdXRcbiAqIEBwYXJhbSAgIG91dHB1dE9iaiAgICAgVGhlIG9iamVjdCB0byBvdXRwdXRcbiAqIEBwYXJhbSAgIGRlZXAgICAgICAgICAgVHJ1ZSBpZiB3ZSBzaG91bGQgcmVjdXJzZSBvbiB0aGlzIG9iamVjdFxuICpcbiAqIEByZXR1cm5zIFRoZSBtZXJnZWQgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIF9sb29wVGhydShvYmpUb0NvbWJpbmUsIG91dHB1dE9iaiwgZGVlcCkge1xuICAgIGlmICghb2JqVG9Db21iaW5lKSB7XG4gICAgICAgIHJldHVybiBvdXRwdXRPYmo7XG4gICAgfVxuICAgIGlmIChvYmpUb0NvbWJpbmUuX19wcm90b19fKSB7XG4gICAgICAgIG91dHB1dE9iai5fX3Byb3RvX18gPSBPYmplY3QuY3JlYXRlKG9ialRvQ29tYmluZS5fX3Byb3RvX18pO1xuICAgIH1cbiAgICAvLyBMb29wIHRocnUgZWFjaCBrZXkgaW4gdGhlIGFycmF5XG4gICAgbmF2aWdhdGVfMS5tYXAob2JqVG9Db21iaW5lLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAvLyBza2lwIGFueSB2YWx1ZXMgdGhhdCBhcmVuJ3Qgc2V0XG4gICAgICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBkb2luZyBhIGRlZXAgY29weSwgbWFrZSBzdXJlIHdlIHJlY3Vyc2VcbiAgICAgICAgaWYgKGRlZXAgJiYgKHR5cGVvZiAodmFsdWUpID09PSBcIm9iamVjdFwiKSkge1xuICAgICAgICAgICAgbGV0IHRtcCA9IG91dHB1dE9ialtrZXldO1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUncyBub3RoaW5nIHRvIG1lcmdlLCBqdXN0IHRha2UgdGhlIGV4aXN0aW5nIG9iamVjdFxuICAgICAgICAgICAgaWYgKCF0bXApIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRPYmpba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRtcCA9IGNvbWJpbmVPYmplY3RzKHRtcCwgdmFsdWUsIGRlZXApO1xuICAgICAgICAgICAgb3V0cHV0T2JqW2tleV0gPSB0bXA7XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UgY29weSBkaXJlY3RseVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0T2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiByZWNvbmNpbGVPcHRpb25zXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBUYWtlcyBpbiB0d28gZGlmZmVyZW50IG9wdGlvbiBvYmplY3RzICYgcmVjb25jaWxlcyB0aGUgb3B0aW9ucyBiZXR3ZWVuIHRoZW1cbiAqXG4gKiBAcGFyYW0gICBvcHRpb25zICAgIFRoZSB1c2VyLWRlZmluZWQgc2V0IG9mIG9wdGlvblxuICogQHBhcmFtICAgZGVmYXVsdHMgICBUaGUgZGVmYXVsdCBvcHRpb25zXG4gKlxuICogQHJldHVybnMgVGhlIHJlY29uY2lsZWQgb3B0aW9uIGxpc3RcbiAqL1xuZnVuY3Rpb24gcmVjb25jaWxlT3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0cykge1xuICAgIGxldCBrZXk7XG4gICAgbGV0IG9wdDtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICA7XG4gICAgZm9yIChrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIG9wdCA9IG9wdGlvbnNba2V5XTtcbiAgICAgICAgICAgIGlmICgob3B0ID09PSB1bmRlZmluZWQpIHx8IChvcHQgPT09IG51bGwpKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uc1trZXldID0gZGVmYXVsdHNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3B0aW9ucztcbn1cbmV4cG9ydHMucmVjb25jaWxlT3B0aW9ucyA9IHJlY29uY2lsZU9wdGlvbnM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IGNhbnZhc1N0eWxlXzEgPSByZXF1aXJlKFwiLi9jYW52YXNTdHlsZVwiKTtcbmNvbnN0IG92ZXJsYXBfMSA9IHJlcXVpcmUoXCIuLi9tYXRocy9vdmVybGFwXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIENhbnZhc0VsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNyZWF0ZSBhIGNhbnZhcyBlbGVtZW50XG4gKiBAdmVyc2lvbiAxLjFcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBDYW52YXNFbGVtZW50IHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgYSBjYW52YXMgZWxlbWVudFxuICAgICAqXG4gICAgICogQHBhcmFtXHRpZFx0XHRcdFRoZSB1bmlxdWUgSUQgZm9yIHRoaXNcbiAgICAgKiBAcGFyYW0gXHRpc0VmZmVjdCBcdElmIHRydWUsIHRyZWF0cyB0aGlzIGVsZW1lbnQgYXMgYW4gZWZmZWN0XG4gICAgICpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpZCwgaXNFZmZlY3QpIHtcbiAgICAgICAgLyoqIGxheWVyIGF0IHdoaWNoIHRoZSBlbGVtZW50IHNob3VsZCBhcHBlYXIuIERlZmF1bHRzIHRvIDEgKi9cbiAgICAgICAgdGhpcy5fbGF5ZXIgPSAxO1xuICAgICAgICB0aGlzLl9pZCA9IGlkO1xuICAgICAgICB0aGlzLl9pc0VmZmVjdCA9IGlzRWZmZWN0O1xuICAgICAgICB0aGlzLl9ldmVudEZ1bmN0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLl9zdHlsZSA9IG5ldyBjYW52YXNTdHlsZV8xLkNhbnZhc0VsZW1lbnRTdHlsZSgpO1xuICAgIH1cbiAgICBnZXQgaWQoKSB7IHJldHVybiB0aGlzLl9pZDsgfVxuICAgIHNldCBjYW52YXMoY2FudmFzKSB7IHRoaXMuX3NldENhbnZhcyhjYW52YXMpOyB9XG4gICAgc2V0IHBhcmVudChncnApIHsgdGhpcy5fcGFyZW50ID0gZ3JwOyB9XG4gICAgZ2V0IHN0eWxlKCkgeyByZXR1cm4gdGhpcy5fc3R5bGU7IH1cbiAgICBzZXQgc3R5bGUocykgeyB0aGlzLl9zdHlsZSA9IHM7IH1cbiAgICBnZXQgbGF5ZXIoKSB7IHJldHVybiB0aGlzLl9sYXllcjsgfVxuICAgIHNldCBsYXllcihsYXllcikgeyB0aGlzLl9sYXllciA9IGxheWVyOyB9XG4gICAgZ2V0IGlzT2ZmU2NyZWVuKCkgeyByZXR1cm4gdGhpcy5faXNPZmZTY3JlZW47IH1cbiAgICBnZXQgZGltZW5zaW9ucygpIHsgcmV0dXJuIHRoaXMuX2RpbWVuc2lvbnM7IH1cbiAgICBzZXQgZGltZW5zaW9ucyhkaW0pIHsgdGhpcy5fc2V0RGltZW5zaW9ucyhkaW0pOyB9XG4gICAgZ2V0IGRpc3BsYXlEaW1lbnNpb25zKCkgeyByZXR1cm4gdGhpcy5fZGlzcGxheURpbWVuc2lvbnM7IH1cbiAgICBnZXQgaXNIb3ZlclRhcmdldCgpIHsgcmV0dXJuIHRoaXMuX2lzSG92ZXJUYXJnZXQ7IH1cbiAgICBzZXQgaXNIb3ZlclRhcmdldCh2YWx1ZSkgeyB0aGlzLl9pc0hvdmVyVGFyZ2V0ID0gdmFsdWU7IH1cbiAgICBnZXQgaXNIaWRkZW4oKSB7IHJldHVybiB0aGlzLl9pc0hpZGRlbjsgfVxuICAgIC8qKlxuICAgICAqIF9pbml0aWFsaXplUmVjdHNcbiAgICAgKlxuICAgICAqIGNyZWF0ZSB0aGUgaW5pdGlhbCBkaXNwbGF5IHJlY3RhbmdsZVxuICAgICAqXG4gICAgICovXG4gICAgX2luaXRpYWxpemVSZWN0cygpIHtcbiAgICAgICAgdGhpcy5fZGlzcGxheURpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLl9kaW1lbnNpb25zLngsXG4gICAgICAgICAgICB5OiB0aGlzLl9kaW1lbnNpb25zLnksXG4gICAgICAgICAgICB3OiB0aGlzLl9kaW1lbnNpb25zLncsXG4gICAgICAgICAgICBoOiB0aGlzLl9kaW1lbnNpb25zLmhcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2FwcGx5U3R5bGVcbiAgICAgKlxuICAgICAqIHVwZGF0ZSB0aGUgY29udGV4dCB0byB1c2UgdGhpcyBlbGVtZW50J3Mgc3R5bGVcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0Y29udGV4dFx0XHRUaGUgQ2FudmFzIGNvbnRleHQgdG8gZHJhdyBvblxuICAgICAqXG4gICAgICovXG4gICAgX2FwcGx5U3R5bGUoY29udGV4dCkge1xuICAgICAgICB0aGlzLl9zdHlsZS5zZXRTdHlsZShjb250ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3Jlc3RvcmVTdHlsZVxuICAgICAqXG4gICAgICogc2V0IHRoZSBjb250ZXh0IHN0eWxlIGJhY2sgdG8gd2hhdCBpdCBvcmlnaW5hbGx5IHdhc1xuICAgICAqXG4gICAgICogQHBhcmFtXHRjb250ZXh0XG4gICAgICpcbiAgICAgKi9cbiAgICBfcmVzdG9yZVN0eWxlKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5fc3R5bGUucmVzdG9yZVN0eWxlKGNvbnRleHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB0cmFuc2Zvcm1cbiAgICAgKlxuICAgICAqIGhhbmRsZSBhIHRlbXBvcmFyeSB0cmFuc2Zvcm0gZm9yIHRoZSBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHR0cmFuc2Zvcm1EZXRhaWxzXG4gICAgICpcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm0odHJhbnNmb3JtRGV0YWlscykge1xuICAgICAgICAvLyB3ZSBuZWVkIGEgY2FudmFzIG9iamVjdCB0byBoYXZlIGJlZW4gYXNzaWduZWRcbiAgICAgICAgaWYgKCF0aGlzLl9wYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBjcmVhdGUgYSBjbG9uZSBvZiB0aGlzIGVsZW1lbnRcbiAgICAgICAgbGV0IGNsb25lID0gdGhpcy5fY2xvbmVGb3JFZmZlY3QodGhpcy5pZCArIFwifGVcIik7XG4gICAgICAgIGNsb25lLl9pc0VmZmVjdCA9IHRydWU7XG4gICAgICAgIGNsb25lLl9sYXllciA9IHRoaXMuX2xheWVyO1xuICAgICAgICBjbG9uZS5zdHlsZSA9IHRoaXMuX2Nsb25lU3R5bGUoKTtcbiAgICAgICAgLy8gYXBwbHkgdGhlIGFwcHJvcHJpYXRlIHRyYW5zZm9ybWF0aW9ucyB0byB0aGF0IGVsZW1lbnRcbiAgICAgICAgaWYgKHRyYW5zZm9ybURldGFpbHMuY29sb3IpIHtcbiAgICAgICAgICAgIGNsb25lLl9zdHlsZS5maWxsQ29sb3IgPSB0cmFuc2Zvcm1EZXRhaWxzLmNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGx5IHRoZSBzY2FsZSB0cmFuc2Zvcm1hdGlvblxuICAgICAgICBpZiAodHJhbnNmb3JtRGV0YWlscy5zY2FsZSkge1xuICAgICAgICAgICAgY2xvbmUuX3NjYWxlKHRyYW5zZm9ybURldGFpbHMuc2NhbGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCB0aGUgY2xvbmVkIGVsZW1lbnQgdG8gdGhlIHNhbWUgbGF5ZXIgd2UncmUgb25cbiAgICAgICAgdGhpcy5fcGFyZW50LmFkZEVsZW1lbnQoY2xvbmUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2xvbmVTdHlsZVxuICAgICAqXG4gICAgICogY29weSBzdHlsZSBmcm9tIG9uZSBlbGVtIGZvciB1c2UgaW4gYW5vdGhlclxuICAgICAqXG4gICAgICogQHJldHVybnNcbiAgICAgKlxuICAgICAqL1xuICAgIF9jbG9uZVN0eWxlKCkge1xuICAgICAgICByZXR1cm4gbmV3IGNhbnZhc1N0eWxlXzEuQ2FudmFzRWxlbWVudFN0eWxlKHRoaXMuX3N0eWxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3NjYWxlXG4gICAgICpcbiAgICAgKiBzdGFuZGFyZCBzY2FsZSBhbGdvcml0aG1cbiAgICAgKiBAcGFyYW1cdHNjYWxlQW10XG4gICAgICpcbiAgICAgKiAqL1xuICAgIF9zY2FsZShzY2FsZUFtdCkge1xuICAgICAgICAvLyBUaGlzIGlzIG9ubHkgYWxsb3dlZCBmb3IgZWZmZWN0IGVsZW1lbnRzXG4gICAgICAgIGlmICghdGhpcy5faXNFZmZlY3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIHdpZHRoIG9mZnNldCBhbmQgdmFsdWVcbiAgICAgICAgbGV0IG5ld1dpZHRoID0gc2NhbGVBbXQgKiB0aGlzLl9kaW1lbnNpb25zLnc7XG4gICAgICAgIGxldCB4T2Zmc2V0ID0gKG5ld1dpZHRoIC0gdGhpcy5fZGltZW5zaW9ucy53KSAvIDI7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IG9mZnNldCBhbmQgdmFsdWVcbiAgICAgICAgbGV0IG5ld0hlaWdodCA9IHNjYWxlQW10ICogdGhpcy5fZGltZW5zaW9ucy5oO1xuICAgICAgICBsZXQgeU9mZnNldCA9IChuZXdIZWlnaHQgLSB0aGlzLl9kaW1lbnNpb25zLmgpIC8gMjtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBkaW1lbnNpb25zIHRvIGJlIGFwcHJvcHJpYXRlIGZvciB0aGlzIHNjYWxpbmcgZWxlbWVudFxuICAgICAgICB0aGlzLl9kaW1lbnNpb25zID0ge1xuICAgICAgICAgICAgeDogdGhpcy5fZGltZW5zaW9ucy54IC0geE9mZnNldCxcbiAgICAgICAgICAgIHk6IHRoaXMuX2RpbWVuc2lvbnMueSAtIHlPZmZzZXQsXG4gICAgICAgICAgICB3OiBuZXdXaWR0aCxcbiAgICAgICAgICAgIGg6IG5ld0hlaWdodFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGVEaW1lbnNpb25zXG4gICAgICpcbiAgICAgKiB1cGRhdGUgdGhlIGludGVybmFsIGRpbWVuc2lvbnMgb2YgdGhlIGVsZW1lbnRcbiAgICAgKiBAcGFyYW1cdGNhbnZhc0RpbWVuc2lvbnNcbiAgICAgKlxuICAgICAqL1xuICAgIHVwZGF0ZURpbWVuc2lvbnMoY2FudmFzRGltZW5zaW9ucykge1xuICAgICAgICB0aGlzLl9kaXNwbGF5RGltZW5zaW9ucyA9IHRoaXMuX2NhbnZhcy5jb252ZXJ0QWJzb2x1dGVSZWN0VG9SZWxhdGl2ZVJlY3QodGhpcy5fZGltZW5zaW9ucyk7XG4gICAgICAgIC8vIFVwZGF0ZSBvdXIgdHJhY2tpbmcgdmFyaWFibGUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgXG4gICAgICAgIC8vIHdlIHNob3VsZCBiZSBzaG93aW5nIHRoaXMgZWxlbWVudFxuICAgICAgICB0aGlzLl9zZXRJc09mZlNjcmVlbihjYW52YXNEaW1lbnNpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRqdXN0RGltZW5zaW9uc1xuICAgICAqXG4gICAgICogc2hpZnQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGVsZW1lbnQgYmFzZWQgb24gdGhlIHJlZmVyZW5jZSBwb2ludFxuICAgICAqIEBwYXJhbVx0YWRqdXN0UHRcbiAgICAgKlxuICAgICAqICovXG4gICAgYWRqdXN0RGltZW5zaW9ucyhhZGp1c3RQdCkge1xuICAgICAgICBpZiAodGhpcy5faXNFZmZlY3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kaW1lbnNpb25zLnggKz0gYWRqdXN0UHQueDtcbiAgICAgICAgdGhpcy5fZGltZW5zaW9ucy55ICs9IGFkanVzdFB0Lnk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGRyYXdcbiAgICAgKlxuICAgICAqIGFic3RyYWN0IG1ldGhvZCB0aGF0IGVhY2ggY2hpbGQgZWxlbWVudCB3aWxsIGltcGxlbWVudFxuICAgICAqXG4gICAgICovXG4gICAgZHJhdygpIHtcbiAgICAgICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgd2UncmUgb2Zmc2NyZWVuIG9yIGRvbid0IGhhdmUgYSBjYW52YXNcbiAgICAgICAgaWYgKHRoaXMuX2lzT2ZmU2NyZWVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYW52YXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faXNIaWRkZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgdGhlIGNvbnRleHQgZnJvbSB0aGUgY2FudmFzLCBhcyBhcHByb3ByaWF0ZSBmb3IgdGhpcyBwYXJ0aWN1bGFyIGVsZW1lbnRcbiAgICAgICAgbGV0IGNvbnRleHQ7XG4gICAgICAgIGlmICghdGhpcy5faXNFZmZlY3QpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzLl9jYW52YXMuY29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzLl9jYW52YXMuZWZmZWN0Q29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcHBseVN0eWxlKGNvbnRleHQpOyAvLyBTZXQgdGhlIGFwcHJvcHJpYXRlIHN0eWxlXG4gICAgICAgIHRoaXMuX29uRHJhdyhjb250ZXh0KTsgLy8gQ2FsbCBvbiB0aGUgY2hpbGQgY2xhc3MgdG8gZHJhdyB0aGVpciBzcGVjaWZpYyBzdHVmZlxuICAgICAgICB0aGlzLl9yZXN0b3JlU3R5bGUoY29udGV4dCk7IC8vIFJlc3RvcmUgb3JpZ2luYWwgc3R5bGVcbiAgICAgICAgdGhpcy5faXNEcmF3biA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zZXRJc09mZlNjcmVlblxuICAgICAqXG4gICAgICogZGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBlbGVtZW50IGlzIG9mZiBzY3JlZW5cbiAgICAgKiBAcGFyYW1cdGNhbnZhc0RpbWVuc2lvbnNcbiAgICAgKlxuICAgICAqICovXG4gICAgX3NldElzT2ZmU2NyZWVuKGNhbnZhc0RpbWVuc2lvbnMpIHtcbiAgICAgICAgdGhpcy5faXNPZmZTY3JlZW4gPSAhb3ZlcmxhcF8xLmRvQmFzaWNSZWN0c092ZXJsYXAoY2FudmFzRGltZW5zaW9ucywgdGhpcy5fZGltZW5zaW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zZXREaW1lbnNpb25zXG4gICAgICpcbiAgICAgKiBhbGxvdyBvdXRzaWRlcnMgdG8gdXBkYXRlIHRoZSBpbnRlcm5hbCBzZXQgb2YgZGltZW5zaW9ucyBmb3IgdGhpcyBlbGVtZW50XG4gICAgICogQHBhcmFtXHRkaW1cbiAgICAgKlxuICAgICAqL1xuICAgIF9zZXREaW1lbnNpb25zKGRpbSkge1xuICAgICAgICB0aGlzLl9kaW1lbnNpb25zID0gZGltO1xuICAgICAgICBpZiAodGhpcy5fY2FudmFzKSB7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMubmVlZHNSZWRyYXcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zZXRDYW52YXNcbiAgICAgKlxuICAgICAqIFNldCBvdXIgaW50ZXJuYWwgY2FudmFzXG4gICAgICogQHBhcmFtIGNhbnZhc1xuICAgICAqXG4gICAgICovXG4gICAgX3NldENhbnZhcyhjYW52YXMpIHtcbiAgICAgICAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gRVZFTlQgSEFORExJTkcgRk9SIENBTlZBUyBFTEVNRU5UU1xuICAgIC8qKiBjb2xsZWN0IGV2ZW50IGxpc3RlbmVycyAqL1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBldmVudEZ1bmMpIHtcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLl9ldmVudEZ1bmN0aW9uc1tldmVudFR5cGVdO1xuICAgICAgICBpZiAoIWxpc3QpIHtcbiAgICAgICAgICAgIGxpc3QgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50RnVuY3Rpb25zW2V2ZW50VHlwZV0gPSBsaXN0O1xuICAgICAgICB9XG4gICAgICAgIGxpc3QucHVzaChldmVudEZ1bmMpO1xuICAgIH1cbiAgICAvKiogaGFuZGxlIGNsaWNrIGV2ZW50cyAqL1xuICAgIGNsaWNrKHB0LCBlKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnQoX2ludGVyZmFjZXNfMS5FdmVudFR5cGVFbnVtLkNMSUNLLCBwdCwgZSk7XG4gICAgfVxuICAgIC8qKiBoYW5kbGUgZG91YmxlIGNsaWNrcyAqL1xuICAgIGRvdWJsZUNsaWNrKHB0LCBlKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnQoX2ludGVyZmFjZXNfMS5FdmVudFR5cGVFbnVtLkRCTF9DTElDSywgcHQsIGUpO1xuICAgIH1cbiAgICAvKiogaGFuZGxlIHRoZSByaWdodCBjbGljayAqL1xuICAgIHJpZ2h0Q2xpY2socHQsIGUpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVFdmVudChfaW50ZXJmYWNlc18xLkV2ZW50VHlwZUVudW0uUl9DTElDSywgcHQsIGUpO1xuICAgIH1cbiAgICAvKiogaGFuZGxlIHdoZW4gdGhlIG1vdXNlIGVudGVycyB0aGUgZWxlbWVudCAqL1xuICAgIGhvdmVyKHB0LCBlKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnQoX2ludGVyZmFjZXNfMS5FdmVudFR5cGVFbnVtLkhPVkVSLCBwdCwgZSk7XG4gICAgfVxuICAgIC8qKiBoYW5kbGUgd2hlbiB0aGUgbW91c2UgbGVhdmVzIHRoZSBlbGVtZW50ICovXG4gICAgbGVhdmUocHQsIGUpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVFdmVudChfaW50ZXJmYWNlc18xLkV2ZW50VHlwZUVudW0uTEVBVkUsIHB0LCBlKTtcbiAgICB9XG4gICAgLyoqIGhhbmRsZSB0aGUga2V5cHJlc3MgZXZlbnQgKi9cbiAgICBrZXlQcmVzcyhwdCwgZSkge1xuICAgICAgICB0aGlzLmhhbmRsZUV2ZW50KF9pbnRlcmZhY2VzXzEuRXZlbnRUeXBlRW51bS5LRVlfUFJFU1MsIHB0LCBlKTtcbiAgICB9XG4gICAgLyoqIGhhbmRsZSB0aGUgZm9jdXMgZXZlbnQgKi9cbiAgICBmb2N1cyhwdCwgZSkge1xuICAgICAgICB0aGlzLmhhbmRsZUV2ZW50KF9pbnRlcmZhY2VzXzEuRXZlbnRUeXBlRW51bS5GT0NVUywgcHQsIGUpO1xuICAgIH1cbiAgICAvKiogaGFuZGxlIHRoZSBibHVyIGV2ZW50ICovXG4gICAgYmx1cihwdCwgZSkge1xuICAgICAgICB0aGlzLmhhbmRsZUV2ZW50KF9pbnRlcmZhY2VzXzEuRXZlbnRUeXBlRW51bS5CTFVSLCBwdCwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGhhbmRsZUV2ZW50XG4gICAgICpcbiAgICAgKiBnZW5lcmljIGhhbmRsZXIgZm9yIGFsbCBldmVudHNcbiAgICAgKlxuICAgICAqL1xuICAgIGhhbmRsZUV2ZW50KGV2ZW50VHlwZSwgcHQsIGUpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGFwcGx5IHByb3BlcnRpZXMgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZXJlIGFyZSBhZGRpdGlvbmFsIGhhbmRsZXJzXG4gICAgICAgIGlmICgoZXZlbnRUeXBlID09PSBfaW50ZXJmYWNlc18xLkV2ZW50VHlwZUVudW0uQkxVUikgfHwgKGV2ZW50VHlwZSA9PT0gX2ludGVyZmFjZXNfMS5FdmVudFR5cGVFbnVtLkxFQVZFKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudC5yZW1vdmVFbGVtZW50KHRoaXMuaWQgKyBcInxlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faXNIb3ZlclRhcmdldCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50VHlwZSA9PT0gX2ludGVyZmFjZXNfMS5FdmVudFR5cGVFbnVtLkhPVkVSKSB7XG4gICAgICAgICAgICB0aGlzLl9pc0hvdmVyVGFyZ2V0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgdGhlIGV2ZW50IHRvIHRoZSBsaXN0XG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5fZXZlbnRGdW5jdGlvbnNbZXZlbnRUeXBlXTtcbiAgICAgICAgaWYgKCFsaXN0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIGFsbCBvZiB0aGUgY2FsbGJhY2tzXG4gICAgICAgIGxldCBmdW5jO1xuICAgICAgICBmb3IgKGZ1bmMgb2YgbGlzdCkge1xuICAgICAgICAgICAgZnVuYyhwdCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIGNhbnZhcywgdGVsbCBpdCB0byByZWRyYXdcbiAgICAgICAgaWYgKCF0aGlzLl9jYW52YXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5uZWVkc1JlZHJhdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIEhJREUgQU5EIFNIT1cgVEhFIEVMRU1FTlRcbiAgICAvKipcbiAgICAgKiBzd2FwVmlzaWJpbHR5XG4gICAgICpcbiAgICAgKiBDaGFuZ2Ugd2hldGhlciB0aGlzIGVsZW1lbnQgaXMgaGlkZGVuIG9yIHNob3duXG4gICAgICpcbiAgICAgKi9cbiAgICBzd2FwVmlzaWJpbGl0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzSGlkZGVuKSB7XG4gICAgICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGhpZGVcbiAgICAgKlxuICAgICAqIEhpZGUgdGhpcyBlbGVtZW50XG4gICAgICpcbiAgICAgKi9cbiAgICBoaWRlKCkge1xuICAgICAgICBpZiAodGhpcy5faXNIaWRkZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0hpZGRlbiA9IHRydWU7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5uZWVkc1JlZHJhdyA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNob3dcbiAgICAgKlxuICAgICAqIFNob3cgdGhpcyBlbGVtZW50IGlmIGl0IHdhcyBoaWRkZW5cbiAgICAgKlxuICAgICAqL1xuICAgIHNob3coKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNIaWRkZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0hpZGRlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jYW52YXMubmVlZHNSZWRyYXcgPSB0cnVlO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gREVCVUdHSU5HIEZVTkNUSU9OU1xuICAgIC8qKlxuICAgICAqIF9kZWJ1Z0RpbWVuc2lvbnNcbiAgICAgKlxuICAgICAqIGRpc3BsYXkgZGltZW5zaW9ucyBmb3IgZGVidWdnaW5nIHB1cnBvc2VzXG4gICAgICpcbiAgICAgKi9cbiAgICBfZGVidWdEaW1lbnNpb25zKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNBTlZBUyBFTEVNOiBcIiArIHRoaXMuX2lkKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ4OiBcIiArIE1hdGgucm91bmQodGhpcy5fZGlzcGxheURpbWVuc2lvbnMueCkgKyBcIiAoZnJvbSBcIiArIHRoaXMuX2RpbWVuc2lvbnMueCArIFwiKVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ5OiBcIiArIE1hdGgucm91bmQodGhpcy5fZGlzcGxheURpbWVuc2lvbnMueSkgKyBcIiAoZnJvbSBcIiArIHRoaXMuX2RpbWVuc2lvbnMueSArIFwiKVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ3OiBcIiArIE1hdGgucm91bmQodGhpcy5fZGlzcGxheURpbWVuc2lvbnMudykgKyBcIiAoZnJvbSBcIiArIHRoaXMuX2RpbWVuc2lvbnMudyArIFwiKVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJoOiBcIiArIE1hdGgucm91bmQodGhpcy5fZGlzcGxheURpbWVuc2lvbnMuaCkgKyBcIiAoZnJvbSBcIiArIHRoaXMuX2RpbWVuc2lvbnMuaCArIFwiKVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJcXG5wYXJlbnQ6IFwiICsgKHRoaXMuX3BhcmVudCA/IHRoaXMuX3BhcmVudC5pZCA6IFwibm9uZVwiKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiPT09XFxuXCIpO1xuICAgICAgICBpZiAodGhpcy5fY2FudmFzKSB7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMuZGVidWdSZWxhdGl2ZURpbWVuc2lvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcIm9mZnNjcmVlbj8gXCIgKyB0aGlzLl9pc09mZlNjcmVlbik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG5cXG5cIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGRlYnVnRGltZW5zaW9uc1xuICAgICAqXG4gICAgICogcHVibGljIGZ1bmN0aW9uIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXNcbiAgICAgKlxuICAgICAqL1xuICAgIGRlYnVnRGltZW5zaW9ucygpIHtcbiAgICAgICAgdGhpcy5fZGVidWdEaW1lbnNpb25zKCk7XG4gICAgfVxufVxuZXhwb3J0cy5DYW52YXNFbGVtZW50ID0gQ2FudmFzRWxlbWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIEhFTFBFUiBGVU5DVElPTlNcbi8qKlxuICogZXF1YWxzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBEZXRlcm1pbmVzIGlmIHR3byBlbGVtZW50cyBvZiB0aGUgc2FtZSB0eXBlIGNhbiBiZSBjb25zaWRlcmVkIGVxdWFsXG4gKlxuICogQHBhcmFtICAgb3JpZyAgICAgICAgVGhlIGZpcnN0IGVsZW0gdG8gZXhhbWluZVxuICogQHBhcmFtICAgY29tcGFyaXNvbiAgVGhlIHNlY29uZCBlbGVtIHRvIGV4YW1pbmVcbiAqXG4gKiBUcnVlIGlmIHRoZSB0d28gZWxlbWVudHMgY2FuIGJlIGNvbnNpZGVyZWQgZXF1YWxcbiAqL1xuZnVuY3Rpb24gZXF1YWxzKG9yaWcsIGNvbXBhcmlzb24pIHtcbiAgICAvLyBIYW5kbGUgdGhlIGVxdWF0YWJsZSBjYXNlXG4gICAgaWYgKGlzRXF1YXRhYmxlKG9yaWcpKSB7XG4gICAgICAgIHJldHVybiBvcmlnLmVxdWFscyhjb21wYXJpc29uKTtcbiAgICB9XG4gICAgLy8gb3RoZXJ3aXNlIGRpcmVjdGx5IGNvbXBhcmUgdGhlIHZhbHVlc1xuICAgIHJldHVybiAob3JpZyA9PT0gY29tcGFyaXNvbik7XG59XG5leHBvcnRzLmVxdWFscyA9IGVxdWFscztcbi8qKlxuICogbGVzc2VyVGhhblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQHBhcmFtIFx0b3JpZyBcdFx0VGhlIGVsZW1lbnQgdG8gY2hlY2sgZm9yIGJlaW5nIGxlc3MgdGhhbiB0aGUgb3RoZXJcbiAqIEBwYXJhbSBcdGNvbXBhcmlzb24gXHRUaGUgZWxlbWVudCB0byBjaGVjayBmb3IgYmVpbmcgZ3JlYXRlciB0aGFuIHRoZSBvdGhlclxuICpcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGZpcnN0IGVsZW1lbnQgaXMgbGVzc2VyIHRoYW4gdGhlIHNlY29uZFxuICovXG5mdW5jdGlvbiBsZXNzZXJUaGFuKG9yaWcsIGNvbXBhcmlzb24pIHtcbiAgICBpZiAoaXNDb21wYXJhYmxlKG9yaWcpKSB7XG4gICAgICAgIHJldHVybiBvcmlnLmxlc3NlclRoYW4oY29tcGFyaXNvbik7XG4gICAgfVxuICAgIHJldHVybiAob3JpZyA8IGNvbXBhcmlzb24pO1xufVxuZXhwb3J0cy5sZXNzZXJUaGFuID0gbGVzc2VyVGhhbjtcbi8qKlxuICogZ3JlYXRoZXJUaGFuXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAcGFyYW0gXHRvcmlnIFx0XHRUaGUgZWxlbWVudCB0byBjaGVjayBmb3IgYmVpbmcgZ3JlYXRlciB0aGFuIHRoZSBvdGhlclxuICogQHBhcmFtIFx0Y29tcGFyaXNvbiBcdFRoZSBlbGVtZW50IHRvIGNoZWNrIGZvciBiZWluZyBsZXNzZXIgdGhhbiB0aGUgb3RoZXJcbiAqXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBmaXJzdCBlbGVtZW50IGlzIGdyZWF0ZXIgdGhhbiB0aGUgc2Vjb25kXG4gKi9cbmZ1bmN0aW9uIGdyZWF0ZXJUaGFuKG9yaWcsIGNvbXBhcmlzb24pIHtcbiAgICBpZiAoaXNDb21wYXJhYmxlKG9yaWcpKSB7XG4gICAgICAgIHJldHVybiBvcmlnLmdyZWF0ZXJUaGFuKGNvbXBhcmlzb24pO1xuICAgIH1cbiAgICByZXR1cm4gKG9yaWcgPiBjb21wYXJpc29uKTtcbn1cbmV4cG9ydHMuZ3JlYXRlclRoYW4gPSBncmVhdGVyVGhhbjtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gVFlQRSBHVUFSRFNcbi8qKlxuICogaXNFcXVhdGFibGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGRldGVybWluZSBpZiB0aGUgc3BlY2lmaWVkIG9iamVjdCBjYW4gYmUgY2F0ZWdvcml6ZWQgYXMgZXF1YXRhYmxlXG4gKi9cbmZ1bmN0aW9uIGlzRXF1YXRhYmxlKG9iaikge1xuICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChvYmopKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG9iai5lcXVhbHMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuaXNFcXVhdGFibGUgPSBpc0VxdWF0YWJsZTtcbi8qKlxuICogaXNDb21wYXJhYmxlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBkZXRlcm1pbmUgaWYgdGhlIHNwZWNpZmllZCBvYmplY3QgY2FuIGJlIGNhdGVnb3JpemVkIGFzIGNvbXBhcmFibGVcbiAqL1xuZnVuY3Rpb24gaXNDb21wYXJhYmxlKG9iaikge1xuICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChvYmopKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IGNvbXAgPSBvYmo7XG4gICAgaWYgKGNvbXAubGVzc1RoYW4gJiYgY29tcC5ncmVhdGVyVGhhbiAmJiBjb21wLmVxdWFscykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5pc0NvbXBhcmFibGUgPSBpc0NvbXBhcmFibGU7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG51bWJlcnNfMSA9IHJlcXVpcmUoXCIuL251bWJlcnNcIik7XG5jb25zdCBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi9zdHJpbmdzXCIpO1xuLyoqXG4gKiBkYXRlRGlmZlxuICpcbiAqXHRGaW5kcyB0aGUgZGlmZmVyZW5jZSBpbiBkYXlzIGJldHdlZW4gdHdvIGRhdGUgb2JqZWN0c1xuICpcbiAqXHRAcGFyYW0gXHRhIFx0XHRcdFx0VGhlIGZpcnN0IGRhdGUgdG8gY29tcGFyZVxuICpcdEBwYXJhbSBcdGIgXHRcdFx0XHRUaGUgc2Vjb25kIGRhdGUgdG8gY29tcGFyZVxuICpcdEBwYXJhbSBcdHNpZ25lZFx0XHRcdElmIHRydWUsIHdpbGwgdGFrZSB0aGUgZGlmZmVyZW5jZSBpbiBvcmRlclxuICpcdFx0XHRcdFx0XHRcdFx0cGFzc2VkIGluIChlLmcuIEEgLSBCKVxuICpcdEBwYXJhbSBcdGluY2x1ZGVUaW1lIFx0SWYgdHJ1ZSwgd2lsbCB0YWtlIHRoZSBtcyBkaWZmZXJlbmNlIGluc3RlYWQgb2ZcbiAqXHRcdFx0XHRcdFx0XHRcdHRoZSBkYXkgZGlmZmVyZW5jZVxuICogIEBwYXJhbSBcdHJldHVybk1pbGxpXHRcdElmIHRydWUsIHJldHVybnMgYSB2YWx1ZSBpbiBtaWxsaXNlY29uZHMgZXZlbiBpZlxuICogXHRcdFx0XHRcdFx0XHRcdG1pbGxpc2Vjb25kcyB3ZXJlbid0IGNvbXBhcmVkXG4gKlxuICogQHJldHVybnNcdFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gZGF0ZXNcbiAqXG4gKiovXG5mdW5jdGlvbiBkYXRlRGlmZihhLCBiLCBzaWduZWQsIGluY2x1ZGVUaW1lLCByZXR1cm5NaWxsaSkge1xuICAgIGxldCBtcztcbiAgICBsZXQgZGlmZjtcbiAgICBsZXQgZGlyO1xuICAgIG1zID0gKDEwMDAgKiA2MCAqIDYwICogMjQpO1xuICAgIC8vIGNsZWFyIHRpbWUgZGF0YSBpZiB3ZSBkb24ndCBjYXJlIGFib3V0IGl0XG4gICAgaWYgKCFpbmNsdWRlVGltZSkge1xuICAgICAgICBhID0gY2xlYXJUaW1lSW5mbyhhLCB0cnVlKTtcbiAgICAgICAgYiA9IGNsZWFyVGltZUluZm8oYiwgdHJ1ZSk7XG4gICAgfVxuICAgIC8vIGNhbGN1bGF0ZSB0aGUgZGF0ZSBkaWZmIGluIG1pbGxpc2Vjb25kc1xuICAgIGlmICgoYSA+IGIpIHx8IHNpZ25lZCkge1xuICAgICAgICBkaWZmID0gKGEgLSBiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRpZmYgPSAoYiAtIGEpO1xuICAgIH1cbiAgICAvLyBpZiB3ZSBkb24ndCB3YW50IHRoZSByZXNwb25zZSBpbiBtaWxsaXNlY29uZHMsIHJldHVybiB0aGUgZGF5cyB2YWx1ZSAoaW5jbHVkaW5nIGZyYWN0aW9uYWwgY29tcG9uZW50IGlmIGFwcHJvcHJpYXRlKVxuICAgIGlmICghcmV0dXJuTWlsbGkpIHtcbiAgICAgICAgZGlmZiA9IGRpZmYgLyBtcztcbiAgICB9XG4gICAgcmV0dXJuIGRpZmY7XG59XG5leHBvcnRzLmRhdGVEaWZmID0gZGF0ZURpZmY7XG47XG52YXIgSW5jbHVzaXZpdHlFbnVtO1xuKGZ1bmN0aW9uIChJbmNsdXNpdml0eUVudW0pIHtcbiAgICBJbmNsdXNpdml0eUVudW1bSW5jbHVzaXZpdHlFbnVtW1wiRVhDTFVTSVZFXCJdID0gLTFdID0gXCJFWENMVVNJVkVcIjtcbiAgICBJbmNsdXNpdml0eUVudW1bSW5jbHVzaXZpdHlFbnVtW1wiREVGQVVMVFwiXSA9IDBdID0gXCJERUZBVUxUXCI7XG4gICAgSW5jbHVzaXZpdHlFbnVtW0luY2x1c2l2aXR5RW51bVtcIklOQ0xVU0lWRVwiXSA9IDFdID0gXCJJTkNMVVNJVkVcIjtcbn0pKEluY2x1c2l2aXR5RW51bSA9IGV4cG9ydHMuSW5jbHVzaXZpdHlFbnVtIHx8IChleHBvcnRzLkluY2x1c2l2aXR5RW51bSA9IHt9KSk7XG4vKipcbiAqIG1vbnRoRGlmZlxuICpcbiAqIERldGVybWluZSBob3cgZmFyIGFwYXJ0IChpbiBtb250aHMpXG4gKiBAcGFyYW1cdGFcdFx0XHRcdFRoZSBmaXJzdCBkYXRlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbVx0Ylx0XHRcdFx0VGhlIHNlY29uZCBkYXRlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbVx0c2lnbmVkXHRcdFx0SWYgdHJ1ZVxuICogQHBhcmFtXHRpbmNsdXNpdml0eVx0XHRTaG91bGQgdGhpcyBkaWZmIGJlIGluY2x1c2l2ZSBvciBleGNsdXNpdmVcbiAqXG4gKi9cbmZ1bmN0aW9uIG1vbnRoRGlmZihhLCBiLCBzaWduZWQsIGluY2x1c2l2aXR5KSB7XG4gICAgbGV0IG1vbnRoRGlmZjtcbiAgICBsZXQgeWVhckRpZmY7XG4gICAgaWYgKChhID4gYikgfHwgc2lnbmVkKSB7XG4gICAgICAgIG1vbnRoRGlmZiA9IChhLmdldE1vbnRoKCkpIC0gKGIuZ2V0TW9udGgoKSk7IC8vIDMtMTIgPSAtOW1vXG4gICAgICAgIHllYXJEaWZmID0gKGEuZ2V0RnVsbFllYXIoKSkgLSAoYi5nZXRGdWxsWWVhcigpKTsgLy8gMTggLSAxNyA9IDF5clxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbW9udGhEaWZmID0gKGIuZ2V0TW9udGgoKSkgLSAoYS5nZXRNb250aCgpKTtcbiAgICAgICAgeWVhckRpZmYgPSAoYi5nZXRGdWxsWWVhcigpKSAtIChhLmdldEZ1bGxZZWFyKCkpO1xuICAgIH1cbiAgICBsZXQgZGlmZiA9IHllYXJEaWZmICogMTIgKyBtb250aERpZmY7XG4gICAgZGlmZiArPSAraW5jbHVzaXZpdHk7XG4gICAgcmV0dXJuIGRpZmY7IC8vIDEgKiAxMiAtIDkgPT4gM1xufVxuZXhwb3J0cy5tb250aERpZmYgPSBtb250aERpZmY7XG4vKipcbiAqIGdldFRvZGF5XG4gKlxuICogR3JhYnMgdGhlIGN1cnJlbnQgZGF5LCBkZWZhdWx0IHdpdGhvdXQgYW55IHRpbWUgZGF0YVxuICogQHBhcmFtIFx0aW5jbHVkZV90aW1lXHRUcnVlIGlmIHdlIHNob3VsZG4ndCBleGNsdWRlIHRpbWUgZGF0YVxuICogQHJldHVybnMgVG9kYXkncyBkYXRlXG4gKlxuICovXG5mdW5jdGlvbiBnZXRUb2RheShpbmNsdWRlX3RpbWUpIHtcbiAgICA7XG4gICAgbGV0IHJldDtcbiAgICByZXQgPSBuZXcgRGF0ZSgpO1xuICAgIGlmIChpbmNsdWRlX3RpbWUpXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgLy8gQ2xlYXIgb3V0IHRpbWUgZGF0YVxuICAgIHJldCA9IGNsZWFyVGltZUluZm8ocmV0KTtcbiAgICByZXR1cm4gcmV0O1xufVxuZXhwb3J0cy5nZXRUb2RheSA9IGdldFRvZGF5O1xuO1xuLyoqXG4gKiBjbGVhclRpbWVJbmZvXG4gKlxuICogQ2xlYXIgb3V0IGFsbCB0aW1lIGluZm8gYXNzb2NpYXRlZCB3aXRoIHRoZSBkYXRlLCBpbmNsdWRpbmcgdGhlIHRpbWV6b25lXG4gKiBAcGFyYW0gZGF0ZSAtIHRoZSBvcmlnaW5hbCBkYXRlIHRvIGNsZWFyIGRhdGEgZnJvbVxuICogQHJldHVybnMgVGhlIHRpbWUtYWdub3N0aWMgZGF0ZVxuICpcbiAqL1xuZnVuY3Rpb24gY2xlYXJUaW1lSW5mbyhkYXRlLCBjbGVhclRaKSB7XG4gICAgbGV0IGRhdGVTdHIgPSBzaG9ydERhdGUoZGF0ZSk7XG4gICAgbGV0IG91dERhdGU7XG4gICAgaWYgKGNsZWFyVFopIHtcbiAgICAgICAgb3V0RGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHIgKyBcIiAwMDowMFpcIik7IC8vIENvbnZlcnQgdG8gdGhpcyB0aW1lem9uZSBhbmQgdG8gdGhlIHBhcnRpY3VsYXIgZGF0ZVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3V0RGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHIpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0RGF0ZTtcbn1cbmV4cG9ydHMuY2xlYXJUaW1lSW5mbyA9IGNsZWFyVGltZUluZm87XG4vKipcbiAqIGJ1c2luZXNzRGF0ZURpZmZcbiAqXG4gKiBDb21wYXJlcyB0d28gZGF0ZXMgdG8gZGV0ZXJtaW5lIHRoZSBidXNpbmVzcyBkYXkgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZW1cbiAqIEBwYXJhbSBcdGEgXHRcdFx0XHRUaGUgZmlyc3QgZGF0ZSB0byBjb21wYXJlXG4gKiBAcGFyYW0gXHRiIFx0XHRcdFx0VGhlIHNlY29uZCBkYXRlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSBcdHNpZ25lZCBcdFx0XHRUcnVlIGlmIHdlIHNob3VsZCBjb21wYXJlIHRoZSBkYXRlcyBpbiBvcmRlclxuICogXHRcdFx0XHRcdFx0XHRcdChlLmcuIERhdGUgQSAtIERhdGUgQilcbiAqIEBwYXJhbSBcdGluY2x1ZGVUaW1lIFx0SWYgdHJ1ZSwgYWxzbyBjb21wYXJlcyB0aGUgdGltZVxuICogQHBhcmFtIFx0cmV0dXJuTWlsbGkgXHRSZXR1cm5zIHRoZSBkYXRlIGRpZmZlcmVuY2UgaW4gbWlsbGlzZWNvbmRzXG4gKiBcdFx0XHRcdFx0XHRcdFx0aW5zdGVhZCBvZiBkYXlzXG4gKiBAcmV0dXJucyBUaGUgYnVzaW5lc3MtZGF0ZSBkaWZmIGJldHdlZW4gdGhlIDIgZGF0ZXNcbiAqXG4gKi9cbmZ1bmN0aW9uIGJ1c2luZXNzRGF0ZURpZmYoYSwgYiwgc2lnbmVkLCBpbmNsdWRlVGltZSwgcmV0dXJuTWlsbGkpIHtcbiAgICA7XG4gICAgbGV0IGRpZmY7XG4gICAgbGV0IGRheU9mV2VlaztcbiAgICBsZXQgZGlyO1xuICAgIGxldCBpZHg7XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBzdGFuZGFyZCBkYXRlXG4gICAgZGlmZiA9IGRhdGVEaWZmKGEsIGIsIHNpZ25lZCwgaW5jbHVkZVRpbWUsIHJldHVybk1pbGxpKTtcbiAgICAvLyBHcmFiIHRoZSAybmQgZGF5IG9mIHRoZSB3ZWVrLCBiZWNhdXNlIHdlIHNraXAgdGhlIGZpcnN0IGRheVxuICAgIGRheU9mV2VlayA9IChiID4gYSA/IGEuZ2V0RGF5KCkgOiBiLmdldERheSgpKSArIDE7XG4gICAgZGF5T2ZXZWVrICU9IDc7XG4gICAgaWYgKGRheU9mV2VlayA8IDApIHtcbiAgICAgICAgZGF5T2ZXZWVrID0gNjtcbiAgICB9XG4gICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBkYXlzIGJldHdlZW4gdGhlIHR3byBkYXRlcyBhbmQgcHVsbCBvdXQgYW55IHdlZWtlbmQgZGF5c1xuICAgIGxldCB3ZWVrZW5kRGF5cyA9IDA7XG4gICAgZm9yIChpZHggPSAwOyBpZHggPCBNYXRoLmFicyhkaWZmKTsgaWR4ICs9IDEpIHtcbiAgICAgICAgLy8gSWYgdGhpcyBkYXkgaXMgYSB3ZWVrZW5kLCBhZGQgaXQgdG8gdGhlICMgb2Ygd2Vla2VuZCBkYXlzXG4gICAgICAgIGlmIChkYXlPZldlZWsgPT09IDAgfHwgZGF5T2ZXZWVrID09PSA2KSB7XG4gICAgICAgICAgICB3ZWVrZW5kRGF5cyArPSAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIGdyYWIgdGhlIG5leHQgZGF5LCBiYXNlZCBvbiB0aGUgZGF0ZSBkaXJlY3Rpb25cbiAgICAgICAgZGF5T2ZXZWVrICs9IDE7XG4gICAgICAgIGRheU9mV2VlayAlPSA3O1xuICAgICAgICBpZiAoZGF5T2ZXZWVrIDwgMCkge1xuICAgICAgICAgICAgZGF5T2ZXZWVrID0gNjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBkZXRlcm1pbmUgaWYgd2UgbmVlZCB0byBhZGQgb3Igc3VidHJhY3QgdG8gY2hhbmdlIHRoZSBkYXRlc1xuICAgIGlmIChkaWZmIDwgMCkge1xuICAgICAgICBkaXIgPSAtMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRpciA9IDE7XG4gICAgfVxuICAgIHJldHVybiBkaWZmIC0gKHdlZWtlbmREYXlzICogZGlyKTtcbn1cbmV4cG9ydHMuYnVzaW5lc3NEYXRlRGlmZiA9IGJ1c2luZXNzRGF0ZURpZmY7XG47XG4vKipcbiAqIHNob3J0RGF0ZVxuICpcbiAqIEdldHMgdGhlIGRpc3BsYXkgc3RyaW5nIG9mIHRoZSBkYXRlIGluIGEgc2hvcnQgZm9ybWF0IChNTS9ERC9ZWVlZKVxuICogQHBhcmFtIFx0ZHQgXHRUaGUgZGF0ZSB0byBnZXQgdGhlIHNob3J0IGRhdGUgZm9yXG4gKiBAcmV0dXJuc1x0VGhlIHNob3J0IHZlcnNpb24gb2YgdGhpcyBkYXRlXG4gKlxuICovXG5mdW5jdGlvbiBzaG9ydERhdGUoZHQpIHtcbiAgICA7XG4gICAgaWYgKCFkdCkge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgbGV0IHlyO1xuICAgIHlyID0gZ2V0U2hvcnRZZWFyKGR0KTtcbiAgICByZXR1cm4gKGR0LmdldE1vbnRoKCkgKyAxKSArIFwiL1wiICsgZHQuZ2V0RGF0ZSgpICsgXCIvXCIgKyB5cjtcbn1cbmV4cG9ydHMuc2hvcnREYXRlID0gc2hvcnREYXRlO1xuO1xuLyoqXG4gKiBpbnB1dERhdGVGbXRcbiAqXG4gKiBDb252ZXJ0cyB0aGUgZGF0ZSBpbnRvIHRoZSBmb3JtYXQgdXNlZCBieSBkYXRlIGlucHV0c1xuICogQHBhcmFtIHtEYXRlfSBkdCAtIFRoZSBkYXRlIHRvIGNvbnZlcnRcbiAqXG4gKi9cbmZ1bmN0aW9uIGlucHV0RGF0ZUZtdChkdCkge1xuICAgIDtcbiAgICBsZXQgbTtcbiAgICBsZXQgZDtcbiAgICBsZXQgeTtcbiAgICB5ID0gZHQuZ2V0RnVsbFllYXIoKTtcbiAgICBtID0gKGR0LmdldE1vbnRoKCkgKyAxKTtcbiAgICBpZiAobSA8IDEwKVxuICAgICAgICBtID0gXCIwXCIgKyBtO1xuICAgIGQgPSArZHQuZ2V0RGF0ZSgpO1xuICAgIGlmIChkIDwgMTApXG4gICAgICAgIGQgPSBcIjBcIiArIGQ7XG4gICAgcmV0dXJuIChkdC5nZXRGdWxsWWVhcigpICsgXCItXCIgKyBtICsgXCItXCIgKyBkKTtcbn1cbmV4cG9ydHMuaW5wdXREYXRlRm10ID0gaW5wdXREYXRlRm10O1xuO1xuLy8gSW5wdXRUb0RhdGVcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqXG4gKiBUYWtlcyBhIHN0cmluZyByZXR1cm5lZCBieSBhbiBpbnB1dCBmaWVsZCBmb3IgYSBkYXRlIGFuZCBjb252ZXJ0cyBpdCB0byBhIEpTIGRhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBpRHQgLSBUaGUgZGF0ZSBzdHJpbmcgdG8gY29udmVydCAoaWYgYXZhaWxhYmxlKVxuICogQHBhcmFtIHtzdHJpbmd9IGlUaW1lIC0gVGhlIHRpbWUgc3RyaW5nIHRvIGNvbnZlcnQgKGlmIGF2YWlsYWJsZSlcbiAqL1xuZnVuY3Rpb24gaW5wdXRUb0RhdGUoaUR0LCBpVGltZSkge1xuICAgIGxldCBvdXREYXRlO1xuICAgIC8vIEhhbmRsZSB0aGUgaW5wdXQgZGF0ZSBzdHJpbmdcbiAgICBpZiAoaUR0KSB7XG4gICAgICAgIGxldCBkdEFyciA9IGlEdC5zcGxpdChcIi1cIik7XG4gICAgICAgIG91dERhdGUgPSBuZXcgRGF0ZSgrZHRBcnJbMF0sICtkdEFyclsxXSAtIDEsICtkdEFyclsyXSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlUaW1lKSB7XG4gICAgICAgIG91dERhdGUgPSBnZXRUb2RheSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3V0RGF0ZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBvdXREYXRlO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgdGhlIGlucHV0IHRpbWUgc3RyaW5nXG4gICAgaWYgKGlUaW1lKSB7XG4gICAgICAgIGxldCB0aW1lQXJyID0gaVRpbWUuc3BsaXQoXCI6XCIpO1xuICAgICAgICBvdXREYXRlLnNldEhvdXJzKCt0aW1lQXJyWzBdKTtcbiAgICAgICAgb3V0RGF0ZS5zZXRNaW51dGVzKCt0aW1lQXJyWzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dERhdGU7XG59XG5leHBvcnRzLmlucHV0VG9EYXRlID0gaW5wdXRUb0RhdGU7XG47XG4vKipcbiAqIEdldHMgdGhlIGRpc3BsYXkgc3RyaW5nIG9mIHRoZSB0aW1lIGluIGEgc2hvcnQgZm9ybWF0IChISDpNTSlcbiAqIEBwYXJhbSB7RGF0ZX0gZHQgLSBUaGUgZGF0ZSB0byBleHRyYWN0IHRoZSB0aW1lIGZyb21cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gd2l0aEV4dHJhIC0gSWYgdHJ1ZSwgd2lsbCBkaXNwbGF5IGFzIEhIOk1NIEFNL1BNIGluc3RlYWQgb2YgbWlsaXRhcnkgdGltZVxuICovXG5mdW5jdGlvbiBzaG9ydFRpbWUoZHQsIHdpdGhFeHRyYSkge1xuICAgIDtcbiAgICBsZXQgbWluO1xuICAgIGxldCBtaW5fc3RyO1xuICAgIGxldCBob3VycztcbiAgICBsZXQgaGFsZjtcbiAgICAvL0dldCB0aGUgbWludXRlcyB2YWx1ZSBmb3IgdGhlIGN1cnJlbnQgZGF0ZVxuICAgIG1pbiA9ICtkdC5nZXRNaW51dGVzKCk7XG4gICAgaG91cnMgPSArZHQuZ2V0SG91cnMoKTtcbiAgICBoYWxmID0gXCJcIjtcbiAgICAvL1dlIG5lZWQgdG8gcGFkIG1pbnV0ZXMgdG8gZ2V0IGEgcmVjb2duaXphYmxlIHRpbWUgZm9ybWF0XG4gICAgaWYgKG1pbiA8IDEwKSB7XG4gICAgICAgIG1pbl9zdHIgPSBcIjBcIiArIG1pbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG1pbl9zdHIgPSBtaW4udG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKHdpdGhFeHRyYSkge1xuICAgICAgICBoYWxmID0gXCIgQU1cIjtcbiAgICAgICAgaWYgKGhvdXJzID49IDEyKVxuICAgICAgICAgICAgaGFsZiA9IFwiIFBNXCI7XG4gICAgICAgIGlmIChob3VycyA+IDEyKVxuICAgICAgICAgICAgaG91cnMgLT0gMTI7XG4gICAgICAgIGlmIChob3VycyA9PT0gMCkge1xuICAgICAgICAgICAgaG91cnMgPSAxMjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvL1JldHVybiB1bnBhZGRlZCBob3VycyAoYnV0IGluIG1pbGl0YXJ5IHRpbWUpIGFuZCBwYWRkZWQgbWludXRlcy5cbiAgICByZXR1cm4gaG91cnMgKyBcIjpcIiArIG1pbl9zdHIgKyBoYWxmO1xufVxuZXhwb3J0cy5zaG9ydFRpbWUgPSBzaG9ydFRpbWU7XG47XG5mdW5jdGlvbiBpbnB1dFRpbWVGbXQodGltZSwgaW5jbHVkZVNlY29uZHMpIHtcbiAgICBsZXQgb3V0ID0gW107XG4gICAgbGV0IGhvdXJzID0gdGltZS5nZXRIb3VycygpO1xuICAgIG91dC5wdXNoKG51bWJlcnNfMS5wYWRUb0RpZ2l0cyhob3VycywgMikpO1xuICAgIGxldCBtaW51dGVzID0gdGltZS5nZXRNaW51dGVzKCk7XG4gICAgb3V0LnB1c2gobnVtYmVyc18xLnBhZFRvRGlnaXRzKG1pbnV0ZXMsIDIpKTtcbiAgICBpZiAoaW5jbHVkZVNlY29uZHMpIHtcbiAgICAgICAgbGV0IHNlY29uZHMgPSB0aW1lLmdldFNlY29uZHMoKTtcbiAgICAgICAgb3V0LnB1c2gobnVtYmVyc18xLnBhZFRvRGlnaXRzKHNlY29uZHMsIDIpKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dC5qb2luKFwiOlwiKTtcbn1cbmV4cG9ydHMuaW5wdXRUaW1lRm10ID0gaW5wdXRUaW1lRm10O1xuLyoqXG4gKiBHZXRzIHRoZSBkaXNwbGF5IHN0cmluZyBmb3IgYSBkYXRlIGFuZCB0aW1lXG4gKiBAcGFyYW0ge0RhdGV9IGR0IC0gVGhlIGRhdGUgdG8gZXh0cmFjdCB0aGUgZm9ybWF0dGVkIHN0cmluZyBmcm9tXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHdpdGhFeHRyYSAtIElmIHRydWUsIHVzZXMgQU0vUE0gZm9ybWF0IGluc3RlYWQgb2YgbWlsaXRhcnkgdGltZS5cbiAqL1xuZnVuY3Rpb24gc2hvcnREYXRlVGltZShkdCwgd2l0aF9leHRyYSkge1xuICAgIHJldHVybiBzaG9ydERhdGUoZHQpICsgXCIgXCIgKyBzaG9ydFRpbWUoZHQsIHdpdGhfZXh0cmEpO1xufVxuZXhwb3J0cy5zaG9ydERhdGVUaW1lID0gc2hvcnREYXRlVGltZTtcbjtcbmZ1bmN0aW9uIHN0b3B3YXRjaERpc3BsYXkobWlsbGksIG5vTGVhZGluZ1plcm9zLCBub0JsYW5rcykge1xuICAgIGxldCBzZWNvbmRzO1xuICAgIGxldCBtaW51dGVzO1xuICAgIGxldCBob3VycztcbiAgICBsZXQgZGF5cztcbiAgICBsZXQgYXJyO1xuICAgIGxldCBzZWNfc3RyO1xuICAgIGxldCBtaW5fc3RyO1xuICAgIGxldCBocl9zdHI7XG4gICAgLy8gQWRkIHRoZSBsZWFkaW5nIHplcm9zIGlmIGFwcHJvcHJpYXRlXG4gICAgaWYgKCFub0xlYWRpbmdaZXJvcykge1xuICAgICAgICBzZWNfc3RyID0gc3RyaW5nc18xLmFkZExlYWRpbmdaZXJvZXMoMiwgc2Vjb25kcyk7XG4gICAgICAgIG1pbl9zdHIgPSBzdHJpbmdzXzEuYWRkTGVhZGluZ1plcm9lcygyLCBtaW51dGVzKTtcbiAgICAgICAgaHJfc3RyID0gc3RyaW5nc18xLmFkZExlYWRpbmdaZXJvZXMoMiwgaG91cnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2VjX3N0ciA9IHNlY29uZHMudG9TdHJpbmcoKTtcbiAgICAgICAgbWluX3N0ciA9IG1pbnV0ZXMudG9TdHJpbmcoKTtcbiAgICAgICAgaHJfc3RyID0gaG91cnMudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIGRheXMgKyBcIkQgIFwiICsgaHJfc3RyICsgXCI6XCIgKyBtaW5fc3RyICsgXCI6XCIgKyBzZWNfc3RyICsgXCIgJ1wiICsgbWlsbGk7XG59XG5leHBvcnRzLnN0b3B3YXRjaERpc3BsYXkgPSBzdG9wd2F0Y2hEaXNwbGF5O1xuO1xuZnVuY3Rpb24gX3JldHJpZXZlQ291bnRzRnJvbU1pbGxpKG1pbGxpKSB7XG4gICAgbGV0IG91dCA9IHt9O1xuICAgIGxldCByZW1haW5pbmcgPSBtaWxsaTtcbiAgICBvdXQuZGF5cyA9IE1hdGguZmxvb3IocmVtYWluaW5nIC8gKDI0ICogNjAgKiA2MCAqIDEwMDApKTtcbiAgICByZW1haW5pbmcgLT0gKG91dC5kYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCk7XG4gICAgb3V0LmhvdXJzID0gTWF0aC5mbG9vcihyZW1haW5pbmcgLyAoNjAgKiA2MCAqIDEwMDApKTtcbiAgICByZW1haW5pbmcgLT0gKG91dC5ob3VycyAqIDYwICogNjAgKiAxMDAwKTtcbiAgICBvdXQubWludXRlcyA9IE1hdGguZmxvb3IocmVtYWluaW5nIC8gKDYwICogMTAwMCkpO1xuICAgIHJlbWFpbmluZyAtPSAob3V0Lm1pbnV0ZXMgKiA2MCAqIDEwMDApO1xuICAgIG91dC5zZWNvbmRzID0gTWF0aC5mbG9vcihyZW1haW5pbmcgLyAxMDAwKTtcbiAgICByZW1haW5pbmcgLT0gKG91dC5zZWNvbmRzICogMTAwMCk7XG4gICAgb3V0Lm1pbGxpc2Vjb25kcyA9IHJlbWFpbmluZztcbiAgICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gdXBkYXRlZFN0b3B3YXRjaERpc3BsYXkobWlsbGksIG9wdGlvbnMpIHtcbiAgICBsZXQgZGlmZnMgPSBfcmV0cmlldmVDb3VudHNGcm9tTWlsbGkobWlsbGkpO1xuICAgIGxldCBvdXQgPSBbXTtcbiAgICBpZiAoZGlmZnMuZGF5cykge1xuICAgICAgICBvdXQucHVzaChkaWZmcy5kYXlzICsgXCIgZGF5c1wiKTtcbiAgICB9XG4gICAgaWYgKGRpZmZzLmhvdXJzKSB7XG4gICAgICAgIG91dC5wdXNoKGRpZmZzLmhvdXJzICsgXCIgaG91cnNcIik7XG4gICAgfVxuICAgIGlmIChkaWZmcy5taW51dGVzKSB7XG4gICAgICAgIG91dC5wdXNoKGRpZmZzLm1pbnV0ZXMgKyBcIiBtaW51dGVzXCIpO1xuICAgIH1cbiAgICBpZiAoZGlmZnMuc2Vjb25kcykge1xuICAgICAgICBvdXQucHVzaChkaWZmcy5zZWNvbmRzICsgXCIgc2Vjb25kc1wiKTtcbiAgICB9XG4gICAgaWYgKGRpZmZzLm1pbGxpc2Vjb25kcyAmJiBvcHRpb25zLnNob3dNaWxsaSkge1xuICAgICAgICBvdXQucHVzaChkaWZmcy5taWxsaXNlY29uZHMgKyBcIiBtc1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dC5qb2luKFwiIFwiKTtcbn1cbmV4cG9ydHMudXBkYXRlZFN0b3B3YXRjaERpc3BsYXkgPSB1cGRhdGVkU3RvcHdhdGNoRGlzcGxheTtcbmZ1bmN0aW9uIGFkZFRvRGF0ZShkYXRlLCBjb3VudHMpIHtcbiAgICBpZiAoY291bnRzLm1pbGxpc2Vjb25kcykge1xuICAgICAgICBkYXRlLnNldE1pbGxpc2Vjb25kcyhkYXRlLmdldE1pbGxpc2Vjb25kcygpICsgY291bnRzLm1pbGxpc2Vjb25kcyk7XG4gICAgfVxuICAgIGlmIChjb3VudHMuc2Vjb25kcykge1xuICAgICAgICBkYXRlLnNldFNlY29uZHMoZGF0ZS5nZXRTZWNvbmRzKCkgKyBjb3VudHMuc2Vjb25kcyk7XG4gICAgfVxuICAgIGlmIChjb3VudHMubWludXRlcykge1xuICAgICAgICBkYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgKyBjb3VudHMubWludXRlcyk7XG4gICAgfVxuICAgIGlmIChjb3VudHMuaG91cnMpIHtcbiAgICAgICAgZGF0ZS5zZXRIb3VycyhkYXRlLmdldEhvdXJzKCkgKyBjb3VudHMuaG91cnMpO1xuICAgIH1cbiAgICBpZiAoY291bnRzLmRheXMpIHtcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgY291bnRzLmRheXMpO1xuICAgIH1cbiAgICBpZiAoY291bnRzLm1vbnRocykge1xuICAgICAgICBkYXRlLnNldE1vbnRoKGRhdGUuZ2V0TW9udGgoKSArIGNvdW50cy5tb250aHMpO1xuICAgIH1cbiAgICBpZiAoY291bnRzLnllYXJzKSB7XG4gICAgICAgIGRhdGUuc2V0RnVsbFllYXIoZGF0ZS5nZXRGdWxsWWVhcigpICsgY291bnRzLnllYXJzKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGU7XG59XG5leHBvcnRzLmFkZFRvRGF0ZSA9IGFkZFRvRGF0ZTtcbjtcbi8qKlxuICogZ2V0cyB0aGUgbmFtZSBvZiB0aGUgbW9udGggZ2l2ZW4gYSBwYXJ0aWN1bGFyIGRhdGVcbiAqIEBwYXJhbSBkYXRlIC0gdGhlIGRhdGUgdG8gZ2V0IHRoZSBtb250aCBmcm9tXG4gKiBAcGFyYW0gW3Nob3J0XSAtIElmIHRydWUsIHJldHVybnMgdGhlIHNob3J0IHZlcnNpb24gb2YgdGhlIG1vbnRoIG5hbWVcbiAqIEByZXR1cm5zIHN0cmluZyBvZiBtb250aCBuYW1lXG4gKi9cbmZ1bmN0aW9uIGdldE1vbnRoTmFtZShkYXRlLCBzaG9ydCkge1xuICAgIHN3aXRjaCAoZGF0ZS5nZXRNb250aCgpKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGlmIChzaG9ydClcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJKYW5cIjtcbiAgICAgICAgICAgIHJldHVybiBcIkphbnVhcnlcIjtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIkZlYlwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiRmVicnVhcnlcIjtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIk1hclwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiTWFyY2hcIjtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIkFwclwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiQXByaWxcIjtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgcmV0dXJuIFwiTWF5XCI7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIGlmIChzaG9ydClcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJKdW5cIjtcbiAgICAgICAgICAgIHJldHVybiBcIkp1bmVcIjtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIkp1bFwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiSnVseVwiO1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICBpZiAoc2hvcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiQXVnXCI7XG4gICAgICAgICAgICByZXR1cm4gXCJBdWd1c3RcIjtcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIlNlcHRcIjtcbiAgICAgICAgICAgIHJldHVybiBcIlNlcHRlbWJlclwiO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICBpZiAoc2hvcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiT2N0XCI7XG4gICAgICAgICAgICByZXR1cm4gXCJPY3RvYmVyXCI7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICBpZiAoc2hvcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiTm92XCI7XG4gICAgICAgICAgICByZXR1cm4gXCJOb3ZlbWJlclwiO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIkRlY1wiO1xuICAgICAgICAgICAgcmV0dXJuIFwiRGVjZW1iZXJcIjtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG59XG5leHBvcnRzLmdldE1vbnRoTmFtZSA9IGdldE1vbnRoTmFtZTtcbjtcbi8qKlxuICogZ2V0RGF5T2ZXZWVrXG4gKlxuICogR2V0IHRoZSBuYW1lIG9mIGEgZGF5IG9mIHRoZSB3ZWVrXG4gKiBAcGFyYW0gXHRkYXRlIFx0dGhlIGRhdGUgdG8gZ3JhYiB0aGUgZC5vLncuIGZyb21cbiAqIEBwYXJhbSBcdHNob3J0IFx0SWYgdHJ1ZSwgcmV0dXJucyB0aGUgc2hvcnQgdmVyc2lvbiBvZiB0aGUgbW9udGggbmFtZVxuICogQHJldHVybnMgc3RyaW5nIG9mIGRheS1vZi13ZWVrIG5hbWVcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldERheU9mV2VlayhkYXRlLCBzaG9ydCkge1xuICAgIDtcbiAgICBzd2l0Y2ggKGRhdGUuZ2V0RGF5KCkpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIlN1blwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiU3VuZGF5XCI7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGlmIChzaG9ydClcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJNb25cIjtcbiAgICAgICAgICAgIHJldHVybiBcIk1vbmRheVwiO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBpZiAoc2hvcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiVHVlc1wiO1xuICAgICAgICAgICAgcmV0dXJuIFwiVHVlc2RheVwiO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBpZiAoc2hvcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiV2VkXCI7XG4gICAgICAgICAgICByZXR1cm4gXCJXZWRuZXNkYXlcIjtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIlRodXJzXCI7XG4gICAgICAgICAgICByZXR1cm4gXCJUaHVyc2RheVwiO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICBpZiAoc2hvcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiRnJpXCI7XG4gICAgICAgICAgICByZXR1cm4gXCJGcmlkYXlcIjtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIlNhdFwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiU2F0dXJkYXlcIjtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG59XG5leHBvcnRzLmdldERheU9mV2VlayA9IGdldERheU9mV2VlaztcbjtcbmZ1bmN0aW9uIGdldExlbmd0aE9mTW9udGhJbkRheXMoZGF0ZSkge1xuICAgIGlmICghZGF0ZSkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGxldCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICBzd2l0Y2ggKG1vbnRoKSB7XG4gICAgICAgIGNhc2UgMDogLy8gSkFOVUFSWVxuICAgICAgICBjYXNlIDI6IC8vIE1BUkNIXG4gICAgICAgIGNhc2UgNDogLy8gTUFZXG4gICAgICAgIGNhc2UgNjogLy8gSlVMWVxuICAgICAgICBjYXNlIDc6IC8vIEFVR1VTVFxuICAgICAgICBjYXNlIDk6IC8vIE9DVE9CRVJcbiAgICAgICAgY2FzZSAxMTogLy8gREVDRU1CRVJcbiAgICAgICAgICAgIHJldHVybiAzMTtcbiAgICAgICAgY2FzZSAxOiAvLyBGRUJSVUFSWVxuICAgICAgICAgICAgaWYgKGlzTGVhcFllYXIoZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMjk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMjg7XG4gICAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gMzA7XG4gICAgfVxufVxuZXhwb3J0cy5nZXRMZW5ndGhPZk1vbnRoSW5EYXlzID0gZ2V0TGVuZ3RoT2ZNb250aEluRGF5cztcbmZ1bmN0aW9uIGlzTGVhcFllYXIoZGF0ZSkge1xuICAgIGlmICghZGF0ZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIC8vIGxlYXAgeWVhcnMgYXJlIGFsd2F5cyBkaXZpc2JsZSBieSA0XG4gICAgaWYgKHllYXIgJSA0ICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gYnV0IG9ubHkgY2VudHVyeSBtYXJrZXJzIHRoYXQgYXJlIGRpdmlzaWJsZSBieSA0MDAgYXJlIGxlYXAgeWVhcnNcbiAgICBpZiAoKHllYXIgJSAxMDAgPT09IDApICYmICh5ZWFyICUgNDAwICE9PSAwKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy5pc0xlYXBZZWFyID0gaXNMZWFwWWVhcjtcbi8qKiBncmFiIHRoZSBzaG9ydCB2ZXJzaW9uIG9mIHRoZSB5ZWFyICovXG5mdW5jdGlvbiBnZXRTaG9ydFllYXIoZGF0ZSkge1xuICAgIHJldHVybiAoK2RhdGUuZ2V0RnVsbFllYXIoKSAlIDEwMCk7XG59XG5leHBvcnRzLmdldFNob3J0WWVhciA9IGdldFNob3J0WWVhcjtcbmZ1bmN0aW9uIGlzV2Vla2VuZChkYXRlKSB7XG4gICAgbGV0IGRheU9mV2VlayA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgaWYgKGRheU9mV2VlayA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIFNVTkRBWVxuICAgIGlmIChkYXlPZldlZWsgPT09IDYpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSAvLyBTQVRVUkRBWVxuICAgIHJldHVybiBmYWxzZTsgLy8gRVZFUllUSElORyBFTFNFXG59XG5leHBvcnRzLmlzV2Vla2VuZCA9IGlzV2Vla2VuZDtcbmZ1bmN0aW9uIGlzVG9kYXkoZGF0ZSkge1xuICAgIGxldCB0b2RheSA9IGdldFRvZGF5KCk7XG4gICAgbGV0IGNsb25lRGF0ZSA9IGNsZWFyVGltZUluZm8oZGF0ZSk7XG4gICAgcmV0dXJuIGlzU2FtZURhdGUodG9kYXksIGNsb25lRGF0ZSk7XG59XG5leHBvcnRzLmlzVG9kYXkgPSBpc1RvZGF5O1xuZnVuY3Rpb24gaXNTYW1lRGF0ZShkYXRlQSwgZGF0ZUIpIHtcbiAgICBpZiAoc2hvcnREYXRlKGRhdGVBKSA9PT0gc2hvcnREYXRlKGRhdGVCKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5pc1NhbWVEYXRlID0gaXNTYW1lRGF0ZTtcbi8qKlxuICogZ2V0RGlzcGxheUR1cmF0aW9uXG4gKlxuICogQ3JlYXRlIGEgZGlzcGxheSBzdHJpbmcgZm9yIGEgdGltZSBkdXJhdGlvblxuICogQHBhcmFtIFx0Y291bnRzXHRUaGUgZHVyYXRpb24gdG8gc3RyaW5naWZ5XG4gKiBAcmV0dXJuc1x0VGhlIGRpc3BsYXkgZHVyYXRpb24gc3RyaW5nXG4gKlxuICovXG5mdW5jdGlvbiBnZXREaXNwbGF5RHVyYXRpb24oY291bnRzKSB7XG4gICAgLy8gdXBkYXRlIHVwIHRvIHRoZSBoaWdoZXN0IGF2YWlsYWJsZSByYW5nZSBmb3IgZGF0ZXNcbiAgICBfdXBkYXRlRGF0ZURpZmZlcmVuY2VzKDEwMDAsIGNvdW50cywgXCJtaWxsaXNlY29uZHNcIiwgXCJzZWNvbmRzXCIpO1xuICAgIF91cGRhdGVEYXRlRGlmZmVyZW5jZXMoNjAsIGNvdW50cywgXCJzZWNvbmRzXCIsIFwibWludXRlc1wiKTtcbiAgICBfdXBkYXRlRGF0ZURpZmZlcmVuY2VzKDYwLCBjb3VudHMsIFwibWludXRlc1wiLCBcImhvdXJzXCIpO1xuICAgIF91cGRhdGVEYXRlRGlmZmVyZW5jZXMoMjQsIGNvdW50cywgXCJob3Vyc1wiLCBcImRheXNcIik7XG4gICAgX3VwZGF0ZURhdGVEaWZmZXJlbmNlcygzMCwgY291bnRzLCBcImRheXNcIiwgXCJtb250aHNcIik7XG4gICAgX3VwZGF0ZURhdGVEaWZmZXJlbmNlcygxMiwgY291bnRzLCBcIm1vbnRoc1wiLCBcInllYXJzXCIpO1xuICAgIC8vIGNyZWF0ZSB0aGUgc3RyaW5nIGJhc2VkIG9uIHRoZSBjb3VudHNcbiAgICBsZXQgb3V0ID0gW107XG4gICAgaWYgKGNvdW50cy55ZWFycykge1xuICAgICAgICBvdXQucHVzaChfY3JlYXRlUGx1cmFsU3RyaW5nKGNvdW50cy55ZWFycywgXCJ5ZWFyXCIpKTtcbiAgICB9XG4gICAgaWYgKGNvdW50cy5tb250aHMpIHtcbiAgICAgICAgb3V0LnB1c2goX2NyZWF0ZVBsdXJhbFN0cmluZyhjb3VudHMubW9udGhzLCBcIm1vbnRoXCIpKTtcbiAgICB9XG4gICAgaWYgKGNvdW50cy5kYXlzKSB7XG4gICAgICAgIG91dC5wdXNoKF9jcmVhdGVQbHVyYWxTdHJpbmcoY291bnRzLmRheXMsIFwiZGF5XCIpKTtcbiAgICB9XG4gICAgaWYgKGNvdW50cy5ob3Vycykge1xuICAgICAgICBvdXQucHVzaChfY3JlYXRlUGx1cmFsU3RyaW5nKGNvdW50cy5ob3VycywgXCJob3VyXCIpKTtcbiAgICB9XG4gICAgaWYgKGNvdW50cy5taW51dGVzKSB7XG4gICAgICAgIG91dC5wdXNoKF9jcmVhdGVQbHVyYWxTdHJpbmcoY291bnRzLm1pbnV0ZXMsIFwibWludXRlXCIpKTtcbiAgICB9XG4gICAgaWYgKGNvdW50cy5zZWNvbmRzKSB7XG4gICAgICAgIG91dC5wdXNoKF9jcmVhdGVQbHVyYWxTdHJpbmcoY291bnRzLnNlY29uZHMsIFwic2Vjb25kXCIpKTtcbiAgICB9XG4gICAgaWYgKGNvdW50cy5taWxsaXNlY29uZHMpIHtcbiAgICAgICAgb3V0LnB1c2goX2NyZWF0ZVBsdXJhbFN0cmluZyhjb3VudHMubWlsbGlzZWNvbmRzLCBcIm1pbGxpc2Vjb25kXCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dC5qb2luKFwiIFwiKTtcbn1cbmV4cG9ydHMuZ2V0RGlzcGxheUR1cmF0aW9uID0gZ2V0RGlzcGxheUR1cmF0aW9uO1xuZnVuY3Rpb24gX3VwZGF0ZURhdGVEaWZmZXJlbmNlcyhkaXZpc29yLCBvdXQsIHN0YXJ0S2V5LCBlbmRLZXkpIHtcbiAgICBpZiAoIW91dFtzdGFydEtleV0pIHtcbiAgICAgICAgb3V0W3N0YXJ0S2V5XSA9IDA7XG4gICAgfVxuICAgIGlmICghb3V0W2VuZEtleV0pIHtcbiAgICAgICAgb3V0W2VuZEtleV0gPSAwO1xuICAgIH1cbiAgICBsZXQgZGl2aWRlbmQgPSBvdXRbc3RhcnRLZXldO1xuICAgIGxldCByZW1haW5kZXIgPSBkaXZpZGVuZCAlIGRpdmlzb3I7XG4gICAgbGV0IHF1b3RpZW50ID0gTWF0aC5mbG9vcihkaXZpZGVuZCAvIGRpdmlzb3IpO1xuICAgIG91dFtzdGFydEtleV0gPSByZW1haW5kZXI7XG4gICAgb3V0W2VuZEtleV0gKz0gcXVvdGllbnQ7XG4gICAgcmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIF9jcmVhdGVQbHVyYWxTdHJpbmcoYW1vdW50LCBzaW5ndWxhciwgcGx1cmFsKSB7XG4gICAgaWYgKGFtb3VudCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gYW1vdW50ICsgXCIgXCIgKyBzaW5ndWxhcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghcGx1cmFsKSB7XG4gICAgICAgICAgICBwbHVyYWwgPSBzaW5ndWxhciArIFwic1wiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbW91bnQgKyBcIiBcIiArIHBsdXJhbDtcbiAgICB9XG59XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRyYXdhYmxlXzEgPSByZXF1aXJlKFwiLi4vLi4vZHJhd2FibGUvZHJhd2FibGVcIik7XG5jb25zdCBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vLi4vZGF0YVN0cnVjdHVyZXMvY29sbGVjdGlvbi9jb2xsZWN0aW9uXCIpO1xuY29uc3Qgc3ZnU3R5bGVfMSA9IHJlcXVpcmUoXCIuLi9zdmdTdHlsZVwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uLy4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vLi4vcHJpbWl0aXZlSGVscGVycy9zdHJpbmdzXCIpO1xuY29uc3Qgc3ZnSGVscGVyc18xID0gcmVxdWlyZShcIi4uL3N2Z0hlbHBlcnNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBTVkdFbGVtXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGVzIGFuIGVsZW1lbnQgb24gYW4gU1ZHIERyYXdhYmxlXG4gKiBAdmVyc2lvbiAxLjFcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBTVkdFbGVtIGV4dGVuZHMgZHJhd2FibGVfMS5EcmF3YWJsZSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBTVkcgZWxlbWVudFxuICAgICAqIEBwYXJhbSAgIGF0dHJpYnV0ZXMgIFRoZSBhdHRyaWJ1dGVzIHRvIGNyZWF0ZSB0aGlzIGVsZW1lbnQgd2l0aFxuICAgICAqXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYXR0cmlidXRlcywgLi4uYWRkbEFyZ3MpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLy8jcmVnaW9uIERFTEVHRUFURVNcbiAgICAgICAgLyoqIGtlZXAgdHJhY2sgb2YgdGhlIGxhc3QgbGlzdGVuZXIgSUQgdXNlZCAqL1xuICAgICAgICB0aGlzLl9sYXN0TGlzdGVuZXJJZCA9IDA7XG4gICAgICAgIC8vIGluaXRpYWxpemUgdGhlIGF0dHJpYnV0ZXMgaWYgdGhleSB3ZXJlbid0IGluY2x1ZGVkXG4gICAgICAgIGlmICghYXR0cmlidXRlcykge1xuICAgICAgICAgICAgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIC8vIGluaXRpYWxpemUgdGhlIHN0eWxlXG4gICAgICAgIHRoaXMuX3N0eWxlID0gbmV3IHN2Z1N0eWxlXzEuU1ZHU3R5bGUoYXR0cmlidXRlcy5zdmdTdHlsZSk7XG4gICAgICAgIC8vIHNlbmQgYWxsIGFyZ3VtZW50cyB0byB0aGUgX3NldEF0dHJpYnV0ZXMgZnVuY3Rpb25cbiAgICAgICAgdGhpcy5fYXR0cmlidXRlcyA9IHRoaXMuX3NldEF0dHJpYnV0ZXMoYXR0cmlidXRlcywgLi4uYWRkbEFyZ3MpO1xuICAgICAgICAvLyBjcmVhdGUgdGhlIGVsZW1lbnRzXG4gICAgICAgIHRoaXMuX2NyZWF0ZUVsZW1lbnRzKHRoaXMuX2F0dHJpYnV0ZXMpO1xuICAgICAgICAvLyBoYW5kbGUgdXBkYXRpbmcgdGhlIGV4dHJlbWUgcG9pbnRzIG9mIHRoaXMgZWxlbWVudFxuICAgICAgICB0aGlzLl91cGRhdGVFeHRyZW1hQW5kTm90aWZ5TGlzdGVuZXJzKHRoaXMuX2F0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICAvKiogZ2VuZXJhdGUgdGhlIG5leHQgbGlzdGVuZXIgSUQgKi9cbiAgICBnZXQgX25leHRMaXN0ZW5lcklkKCkge1xuICAgICAgICB0aGlzLl9sYXN0TGlzdGVuZXJJZCArPSAxO1xuICAgICAgICByZXR1cm4gdGhpcy5fbGFzdExpc3RlbmVySWQudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqIGFkZCBhIG5ldyBsaXN0ZW5lciAqL1xuICAgIGFkZFVwZGF0ZUxpc3RlbmVyKGxpc3RlbmVyLCBpZCkge1xuICAgICAgICBpZiAoIXRoaXMuX29uVXBkYXRlTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB0aGlzLl9vblVwZGF0ZUxpc3RlbmVycyA9IG5ldyBjb2xsZWN0aW9uXzEuQ29sbGVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgIGlkID0gdGhpcy5fbmV4dExpc3RlbmVySWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb25VcGRhdGVMaXN0ZW5lcnMuYWRkKGlkLCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKiBub3RpZnkgbGlzdGVuZXJzIG9mIGEgY2hhbmdlICovXG4gICAgX25vdGlmeVVwZGF0ZUxpc3RlbmVycygpIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9vblVwZGF0ZUxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5leHRyZW1hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zY2FsZSgxKTtcbiAgICAgICAgICAgIHRoaXMuX29uVXBkYXRlTGlzdGVuZXJzLm1hcCgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIFBST1BFUlRJRVNcbiAgICAvKiogdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBlbGVtZW50ICovXG4gICAgZ2V0IGlkKCkgeyByZXR1cm4gdGhpcy5fYXR0cmlidXRlcy5pZDsgfVxuICAgIHNldCBpZChpZCkgeyB0aGlzLl9hdHRyaWJ1dGVzLmlkID0gaWQ7IH1cbiAgICBnZXQgc3R5bGUoKSB7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlLmFzc2lnblN0eWxlKHRoaXMuX2VsZW1zLmJhc2UpO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlO1xuICAgIH1cbiAgICBnZXQgYmFzZSgpIHsgcmV0dXJuIHRoaXMuX2VsZW1zLmJhc2U7IH1cbiAgICBnZXQgcHJldmVudFNjYWxpbmcoKSB7IHJldHVybiB0aGlzLl9wcmV2ZW50U2NhbGluZzsgfVxuICAgIGdldCBleHRyZW1hKCkgeyByZXR1cm4gdGhpcy5fZXh0cmVtYTsgfVxuICAgIC8qKlxuICAgICAqIF9zaG91bGRTa2lwQ3JlYXRlRWxlbWVudHNcbiAgICAgKlxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHdlIHNob3VsZCBhbGxvdyBlbGVtZW50cyB0byBiZSBkcmF3biBhcyBwYXJ0IG9mIHRoZVxuICAgICAqIGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVHJ1ZSwgc2luY2Ugd2UgYWx3YXlzIG5lZWQgYXR0cmlidXRlc1xuICAgICAqXG4gICAgICovXG4gICAgX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVFbGVtZW50c1xuICAgICAqXG4gICAgICogQ3JlYXRlIHRoZSBlbGVtZW50cyB0aGF0IG1ha2UgdXAgdGhpcyBTVkcgRWxlbWVudFxuICAgICAqXG4gICAgICogQHBhcmFtICAgYXR0cmlidXRlcyAgQXR0cmlidXRlcyBmb3IgdGhpcyBlbGVtZW50XG4gICAgICpcbiAgICAgKi9cbiAgICBfY3JlYXRlRWxlbWVudHMoYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoIWF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vIGF0dHJpYnV0ZXMgcHJvdmlkZWQgZm9yIFNWRyBFbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRldGVybWluZSB0aGUgdHlwZSBvZiB0aGUgU1ZHIGVsZW1lbnRcbiAgICAgICAgbGV0IHR5cGUgPSBhdHRyaWJ1dGVzLnR5cGU7XG4gICAgICAgIGRlbGV0ZSBhdHRyaWJ1dGVzLnR5cGU7XG4gICAgICAgIC8vIGlmIGEgY2xhc3Mgd2FzIHByb3ZpZGVkLCB1c2UgaXRcbiAgICAgICAgbGV0IGNscyA9IGF0dHJpYnV0ZXMuY2xzIHx8IFwiXCI7XG4gICAgICAgIGRlbGV0ZSBhdHRyaWJ1dGVzLmNscztcbiAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgbm8gZGF0YSB3YXMgcHJvdmlkZWRcbiAgICAgICAgaWYgKHR5cGUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vIFNWRyBlbGVtZW50IHR5cGUgcHJvdmlkZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhcmVudCA9IGF0dHJpYnV0ZXMucGFyZW50O1xuICAgICAgICBkZWxldGUgYXR0cmlidXRlcy5wYXJlbnQ7XG4gICAgICAgIC8vIFRPRE86IHRha2UgZnVsbCBhZHZhbnRhZ2Ugb2YgdGhlIGNyZWF0ZSBtZXRob2RcbiAgICAgICAgbGV0IGVsZW0gPSBzdmdIZWxwZXJzXzEuY3JlYXRlU1ZHRWxlbSh7IHR5cGU6IHR5cGUsIGF0dHI6IGF0dHJpYnV0ZXMgfSk7XG4gICAgICAgIGlmIChjbHMpIHtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKGVsZW0sIGNscyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWxlbXMgPSB7fTtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZSA9IGVsZW07XG4gICAgICAgIC8vIEFkZCB0byB0aGUgYXBwcm9wcmlhdGUgcGFyZW50XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0cmFjayB0aGF0IHRoaXMgZWxlbWVudCBzaG91bGQgYmUgbm9uLXNjYWxpbmdcbiAgICAgICAgdGhpcy5fcHJldmVudFNjYWxpbmcgPSBhdHRyaWJ1dGVzLnVuc2NhbGFibGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIG1lYXN1cmVFbGVtZW50XG4gICAgICpcbiAgICAgKiBNZWFzdXJlcyBhbiBlbGVtZW50IGluIHRoZSBTVkcgY2FudmFzXG4gICAgICogQHBhcmFtICAgZWxlbWVudCBcdFRoZSBlbGVtZW50IHRvIG1lYXN1cmVcbiAgICAgKiBAcmV0dXJucyBUaGUgZGltZW5zaW9ucyBvZiB0aGUgZWxlbWVudCwgaW4gU1ZHIGNvb3JkaW5hdGVzXG4gICAgICpcbiAgICAgKi9cbiAgICBtZWFzdXJlRWxlbWVudCgpIHtcbiAgICAgICAgbGV0IGJveDtcbiAgICAgICAgbGV0IGFkZGVkUGFyZW50O1xuICAgICAgICAvL1RPRE86IGRldGVybWluZSBpZiB3ZSBuZWVkIHRvIGJlIHNtYXJ0ZXIgYWJvdXQgdGhpc1xuICAgICAgICAvLyBBZGQgb3VyIGJhc2UgZWxlbWVudCB0byB0aGUgdmlldyBpZiBpdCBkb2Vzbid0IGhhdmUgYW55dGhpbmdcbiAgICAgICAgLy8gaWYgKCF0aGlzLmJhc2UucGFyZW50Tm9kZSkge1xuICAgICAgICAvLyBcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5iYXNlKTtcbiAgICAgICAgLy8gXHRhZGRlZFBhcmVudCA9IHRydWU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gR2V0IHRoZSBib3VuZGluZyBib3ggZm9yIGVsZW1lbnRcbiAgICAgICAgYm94ID0gdGhpcy5fZWxlbXMuYmFzZS5nZXRCQm94KCk7XG4gICAgICAgIC8vIElmIHdlIGhhZCB0byBhZGQgdGhlIGJhc2UgZWxlbWVudCB0byB0aGUgZG9jdW1lbnQsIHJlbW92ZSBpdFxuICAgICAgICAvLyBpZiAoYWRkZWRQYXJlbnQpIHtcbiAgICAgICAgLy8gXHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuYmFzZSk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gQnVpbGQgb3VyIHJldHVybiByZWN0YW5nbGVcbiAgICAgICAgbGV0IHJlY3QgPSB7XG4gICAgICAgICAgICB4OiBib3gueCxcbiAgICAgICAgICAgIHk6IGJveC55LFxuICAgICAgICAgICAgdzogYm94LndpZHRoLFxuICAgICAgICAgICAgaDogYm94LmhlaWdodFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmVjdDtcbiAgICB9XG4gICAgX3VwZGF0ZUV4dHJlbWFBbmROb3RpZnlMaXN0ZW5lcnMoYXR0cmlidXRlcykge1xuICAgICAgICB0aGlzLl91cGRhdGVFeHRyZW1hKGF0dHJpYnV0ZXMpO1xuICAgICAgICB0aGlzLl9ub3RpZnlVcGRhdGVMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgc2NhbGUoc2NhbGVBbXQpIHtcbiAgICAgICAgbGV0IGJveCA9IHRoaXMubWVhc3VyZUVsZW1lbnQoKTtcbiAgICAgICAgdGhpcy5zdHlsZS50cmFuc2Zvcm0gPSBzdHJpbmdzXzEuZm9ybWF0KFwidHJhbnNsYXRlKHswfSx7MX0pIHNjYWxlKHsyfSkgdHJhbnNsYXRlKHszfSx7NH0pXCIsIGJveC54ICsgKGJveC53IC8gMiksIGJveC55ICsgKGJveC5oIC8gMiksIHNjYWxlQW10LCAtMSAqIChib3gueCArIChib3gudyAvIDIpKSwgLTEgKiAoYm94LnkgKyAoYm94LmggLyAyKSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuU1ZHRWxlbSA9IFNWR0VsZW07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogX25vcm1hbGl6ZVZhbHVlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBtYWtlIHN1cmUgYSB2YWx1ZSBpcyBub3QgcGFzdCB0aGUgcmVsZXZhbnQgZXh0cmVtYVxuICpcbiAqIEBwYXJhbVx0dmFsXHRcdFRoZSB2YWx1ZSB0byBub3JtYWxpemVcbiAqIEBwYXJhbVx0bWluICAgICBUaGUgbWluaW11bSB0aGlzIHZhbHVlIGNhbiBiZVxuICogQHBhcmFtICAgbWF4ICAgICBUaGUgbWF4aW11bSB0aGlzIHZhbHVlIGNhbiBiZVxuICpcbiAqIEByZXR1cm5zIFRoZSBub3JtYWxpemVkIHZhbHVlXG4gKlxuICovXG5mdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWwsIG1pbiwgbWF4KSB7XG4gICAgaWYgKHZhbCA8IG1pbikge1xuICAgICAgICB2YWwgPSBtaW47XG4gICAgfVxuICAgIGlmICh2YWwgPiBtYXgpIHtcbiAgICAgICAgdmFsID0gbWF4O1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xufVxuZXhwb3J0cy5ub3JtYWxpemVWYWx1ZSA9IG5vcm1hbGl6ZVZhbHVlO1xuLyoqXG4gKiBib3VuZGVkUmFuZG9tTnVtYmVyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBGaW5kIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIHR3byB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0gICBtYXggICAgICAgICAgICAgVGhlIG1heGltdW0gdmFsdWUgYWNjZXB0ZWRcbiAqIEBwYXJhbSAgIG1pbiAgICAgICAgICAgICBUaGUgbWluaW11biB2YWx1ZSBhY2NlcHRlZC4gRGVmYXVsdHMgdG8gMFxuICogQHBhcmFtICAgaXNFeGNsdXNpdmUgICAgIFRydWUgaWYgd2Ugc2hvdWxkIG5vdCBpbmNsdWRlIHRoZSBtYXgvbWluIHZhbHVlc1xuICpcbiAqIEByZXR1cm5zIEEgcmFuZG9tIG51bWJlciBmaXR0aW5nIHRoZXNlIHBhcmFtZXRlcnNcbiAqXG4gKi9cbmZ1bmN0aW9uIGJvdW5kZWRSYW5kb21OdW1iZXIobWF4LCBtaW4sIGlzRXhjbHVzaXZlKSB7XG4gICAgaWYgKCFtaW4pIHtcbiAgICAgICAgbWluID0gMDtcbiAgICB9XG4gICAgLy8gbWFrZSBzdXJlIHdlIGNhbiBoYW5kbGUgdGhlIGluY2x1c2l2aXR5XG4gICAgaWYgKGlzRXhjbHVzaXZlKSB7XG4gICAgICAgIG1pbiArPSAxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWF4ICs9IDE7XG4gICAgfVxuICAgIHJldHVybiBtaW4gKyAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpKTtcbn1cbmV4cG9ydHMuYm91bmRlZFJhbmRvbU51bWJlciA9IGJvdW5kZWRSYW5kb21OdW1iZXI7XG4vKipcbiAqIHJvdW5kVG9QbGFjZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogSGVscGVyIGZ1bmN0aW9uIHRvIHJvdW5kIGEgbnVtYmVyIHRvIGEgcGFydGljdWxhciBwbGFjZVxuICpcbiAqIEBwYXJhbSAgIG51bSAgICAgVGhlIG51bWJlciB0byByb3VuZFxuICogQHBhcmFtICAgcGxhY2UgICBBIG11bHRpcGxlIG9mIDEwIHRoYXQgaW5kaWNhdGVzIHRoZSBkZWNpbWFsIHBsYWNlIHRvIHJvdW5kXG4gKiAgICAgICAgICAgICAgICAgIHRvLiBJLmUuLCBwYXNzaW5nIGluIDEwMCB3b3VsZCByb3VuZCB0byB0aGUgaHVuZHJlZHRoc1xuICogICAgICAgICAgICAgICAgICBwbGFjZVxuICpcbiAqIEByZXR1cm5zIFRoZSByb3VuZGVkIG51bWJlclxuICpcbiAqL1xuZnVuY3Rpb24gcm91bmRUb1BsYWNlKG51bSwgcGxhY2UpIHtcbiAgICByZXR1cm4gKE1hdGgucm91bmQobnVtICogcGxhY2UpIC8gcGxhY2UpO1xufVxuZXhwb3J0cy5yb3VuZFRvUGxhY2UgPSByb3VuZFRvUGxhY2U7XG47XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRyYXdhYmxlXzEgPSByZXF1aXJlKFwiLi4vZHJhd2FibGUvZHJhd2FibGVcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCBzaW1wbGVHdWFyZF8xID0gcmVxdWlyZShcIi4uL3R5cGVHdWFyZHMvc2ltcGxlR3VhcmRcIik7XG5jb25zdCBfdHlwZWd1YXJkc18xID0gcmVxdWlyZShcIi4uL2RyYXdhYmxlL190eXBlZ3VhcmRzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIFBvcHVwXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBHZW5lcmljIGNsYXNzIHRvIHNob3cgZGF0YSBpbiBhIHBvcHVwIGZvcm1cbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgUG9wdXAgZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBBIFBPUFVQIEZPUk1cbiAgICAvKipcbiAgICAgKiBQb3B1cFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGVzIGEgbmV3IHBvcHVwIGZvcm1cbiAgICAgKiBAcGFyYW0gXHRvYmogXHRJZiBpbmNsdWRlZCwgY29udGFpbnMgaW5mbyBvbiBob3cgdG8gY3JlYXRlIHRoaXMgcG9wdXBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvYmopIHtcbiAgICAgICAgaWYgKCFvYmopIHtcbiAgICAgICAgICAgIG9iaiA9IHsgY2xzOiBcInBvcHVwXCIgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5jbHMgPSAob2JqLmNscyB8fCBcIlwiKSArIFwiIHBvcHVwXCI7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIob2JqKTtcbiAgICAgICAgaWYgKG9iai50aGVtZUNvbG9yKSB7XG4gICAgICAgICAgICB0aGlzLnNldFRoZW1lQ29sb3IoXCJwb3B1cFRoZW1lXCIsIG9iai50aGVtZUNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VGhlbWVDb2xvcihcInBvcHVwVGhlbWVcIiwgXCIjMDZGXCIsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFRoZW1lQ29sb3IoY29sb3JJZCwgY29sb3IsIG5vUmVwbGFjZSkge1xuICAgICAgICBzdXBlci5zZXRUaGVtZUNvbG9yKGNvbG9ySWQsIGNvbG9yLCBub1JlcGxhY2UpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBFTEVNRU5UU1xuICAgIC8qKlxuICAgICAqIF9jcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGVzIGFsbCBvZiB0aGUgZWxlbWVudHMgbmVlZGVkIGZvciB0aGlzIHBvcHVwXG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9jcmVhdGVPdmVybGF5KCk7IC8vIEJHIGxheWVyIHRvIHNoaWVsZCB0aGUgcmVzdCBvZiB0aGUgcGFnZSBmcm9tIHRoaXMgcG9wdXBcbiAgICAgICAgdGhpcy5fY3JlYXRlRnJhbWUoKTsgLy8gVGhlIGZyYW1lIGhvc3RpbmcgdGhlIHBvcHVwIGNvbnRlbnRcbiAgICAgICAgdGhpcy5fY3JlYXRlVGl0bGUoKTsgLy8gY3JlYXRlIHRoZSBlbGVtIHRoYXQgd2lsbCBiZWNvbWUgdGhlIHRpdGxlIG9mIHRoZSBmb3JtXG4gICAgICAgIHRoaXMuX2NyZWF0ZUNsb3NlQnV0dG9uKCk7IC8vIEJ1dHRvbiB0byBjbG9zZSB0aGUgZm9ybVxuICAgICAgICB0aGlzLl9jcmVhdGVDb250ZW50RWxlbWVudCgpOyAvLyBFbGVtZW50IHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0byBzaG93IGRhdGEgaW4gdGhlIHBvcHVwXG4gICAgICAgIHRoaXMuX2NyZWF0ZUJ1dHRvbkNvbnRhaW5lcigpOyAvLyBjcmVhdGUgdGhlIGNvbnRhaW5lciBmb3IgdGhlIGJ1dHRvbnNcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZU92ZXJsYXlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlcyB0aGUgb3ZlcmxheSBmb3IgdGhlIHBvcHVwIHRvIHNoaWVsZCB0aGUgcmVzdCBvZiB0aGUgcGFnZVxuICAgICAqL1xuICAgIF9jcmVhdGVPdmVybGF5KCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5vdmVybGF5ID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJvdmVybGF5XCIpO1xuICAgICAgICB0aGlzLl9lbGVtcy5vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVyYXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1zLm92ZXJsYXkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRnJhbWVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIHRoZSBmcmFtZSBvZiB0aGUgcG9wdXBcbiAgICAgKi9cbiAgICBfY3JlYXRlRnJhbWUoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmZyYW1lID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJmcmFtZVwiKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtcy5mcmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVUaXRsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIHRpdGxlIG9mIHRoZSBwb3B1cFxuICAgICAqL1xuICAgIF9jcmVhdGVUaXRsZSgpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMudGl0bGUgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7IGNsczogXCJwb3B1cFRpdGxlXCIsIHBhcmVudDogdGhpcy5fZWxlbXMuZnJhbWUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVDbG9zZUJ1dHRvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIGNsb3NlIGJ1dHRvbiBmb3IgdGhlIGZvcm1cbiAgICAgKi9cbiAgICBfY3JlYXRlQ2xvc2VCdXR0b24oKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmNsb3NlQnRuID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJjbG9zZUJ0blwiLCBcIlwiLCBudWxsLCBbeyBjb250ZW50OiBcInhcIiwgY2xzOiBcInhcIiB9XSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVyYXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtcy5jbG9zZUJ0bik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVDb250ZW50RWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIGVsZW1lbnQgdGFodCB3aWxsIGhvbGQgYWxsIGNvbnRlbnQgZm9yIHRoZSBwb3B1cFxuICAgICAqL1xuICAgIF9jcmVhdGVDb250ZW50RWxlbWVudCgpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMuY29udGVudCA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwiY29udGVudFwiKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbXMuY29udGVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVCdXR0b25Db250YWluZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIHRoZSBjb250YWluZXIgdGhhdCB3aWxsIGhvbGQgYnV0dG9uc1xuICAgICAqL1xuICAgIF9jcmVhdGVCdXR0b25Db250YWluZXIoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJ1dHRvbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHsgY2xzOiBcImJ1dHRvbkNvbnRhaW5lclwiLCBwYXJlbnQ6IHRoaXMuX2VsZW1zLmZyYW1lIH0pO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFNFVCBUSEUgVElUTEVcbiAgICAvKipcbiAgICAgKiBzZXRUaXRsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBTZXRzIHRoZSB0aXRsZSBmb3IgdGhlIHBvcHVwXG4gICAgICogQHBhcmFtIFx0dGl0bGVcdFdoYXQgdG8gc2V0IGFzIHRoZSB0aXRsZVxuICAgICAqL1xuICAgIHNldFRpdGxlKHRpdGxlKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLnRpdGxlLmlubmVySFRNTCA9IHRpdGxlO1xuICAgICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLnRpdGxlLCBcImhhc0NvbnRlbnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyh0aGlzLl9lbGVtcy50aXRsZSwgXCJoYXNDb250ZW50XCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZENvbnRlbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWxsb3dzIHRoZSB1c2VyIHRvIGFkZCBjb250ZW50IHRvIHRoZSBwb3B1cFxuICAgICAqIFNlZSBpbmRpdmlkdWFsIHRhZ3MgZm9yIHBhcmFtIGluZm9cbiAgICAgKiBAcGFyYW1cdHBhcmFtMVxuICAgICAqIEBwYXJhbVx0Y2xzXG4gICAgICogQHBhcmFtXHRjb250ZW50XG4gICAgICovXG4gICAgYWRkQ29udGVudChwYXJhbTEsIGNscywgY29udGVudCkge1xuICAgICAgICBsZXQgZWxlbTtcbiAgICAgICAgLy8gQ3JlYXRlIGFuIEhUTUxFbGVtZW50IGlmIG9uZSB3YXNuJ3QgcGFzc2VkIGluXG4gICAgICAgIGlmIChzaW1wbGVHdWFyZF8xLmlzU3RyaW5nKHBhcmFtMSkpIHtcbiAgICAgICAgICAgIGVsZW0gPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlU2ltcGxlRWxlbWVudChwYXJhbTEsIGNscywgY29udGVudCk7XG4gICAgICAgICAgICAvLyBJZiBhIERyYXdhYmxlIHdhcyBwYXNzZWQgaW4sIGdyYWIgaXRzIEhUTUwgZWxlbWVudFxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF90eXBlZ3VhcmRzXzEuaXNEcmF3YWJsZShwYXJhbTEpKSB7XG4gICAgICAgICAgICBlbGVtID0gcGFyYW0xLmJhc2U7XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIGp1c3QgdGFrZSB0aGUgSFRNTEVsZW1lbnQgdGhhdCB3YXMgcGFzc2VkIGluXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW0xIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW0gPSBwYXJhbTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQocGFyYW0xKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBRdWl0IGlmIHdlIGRvbid0IGhhdmUgYW4gZWxlbWVudCBhdCB0aGlzIHBvaW50XG4gICAgICAgIGlmICghZWxlbSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCB0aGUgZWxlbWVudCB0byBvdXIgY29udGVudCBjb250YWluZXJcbiAgICAgICAgdGhpcy5fZWxlbXMuY29udGVudC5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2xlYXJDb250ZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENsZWFycyBhbGwgY29udGVudCBvdXQgb2YgdGhlIGZvcm1cbiAgICAgKi9cbiAgICBjbGVhckNvbnRlbnQoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmNvbnRlbnQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBBREQgQlVUVE9OU1xuICAgIC8qKlxuICAgICAqIGFkZEJ1dHRvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGRzIGEgYnV0dG9uIHRvIHRoZSBwb3B1cFxuICAgICAqIEBwYXJhbSBcdGxhYmVsIFx0XHRUaGUgbGFiZWwgdG8gdXNlIGZvciB0aGUgYnV0dG9uXG4gICAgICogQHBhcmFtIFx0Y2FsbGJhY2sgXHRXaGF0IHRvIGRvIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkXG4gICAgICovXG4gICAgYWRkQnV0dG9uKGxhYmVsLCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgYnRuRWxlbSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHsgY2xzOiBcInBvcHVwQnV0dG9uXCIsIHBhcmVudDogdGhpcy5fZWxlbXMuYnV0dG9uQ29udGFpbmVyLCBjb250ZW50OiBsYWJlbCB9KTtcbiAgICAgICAgYnRuRWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5Qb3B1cCA9IFBvcHVwO1xuLy8jZW5kcmVnaW9uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBTVFlMRVNcbi8qKiBzdHlsZXMgdG8gcmVuZGVyIHRoZSBwb3B1cCB3aXRoICovXG5Qb3B1cC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLm92ZXJsYXlcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgwLDAsMCwuNilcIixcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgbGVmdDogXCIwXCIsXG4gICAgICAgIHRvcDogXCIwXCIsXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICB9LFxuICAgIFwiLnBvcHVwXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICBmb250RmFtaWx5OiBcIlNlZ29lIFVJLCBPcGVuU2FucywgSGVsdmV0aWNhXCIsXG4gICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgbGVmdDogXCIwXCIsXG4gICAgICAgIHRvcDogXCIwXCIsXG4gICAgICAgIHpJbmRleDogXCI1XCIsXG4gICAgfSxcbiAgICBcIi5mcmFtZVwiOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjRkZGXCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCIzcHhcIixcbiAgICAgICAgYm94U2hhZG93OiBcIjFweCAxcHggNXB4IDJweCByZ2JhKDAsMCwwLC4yKVwiLFxuICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgIGJvcmRlclRvcDogXCIxMHB4IHNvbGlkIDxwb3B1cFRoZW1lPlwiLFxuICAgICAgICBwYWRkaW5nOiBcIjEwcHhcIixcbiAgICAgICAgbWF4SGVpZ2h0OiBcIjkwJVwiLFxuICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiXG4gICAgfSxcbiAgICBcIi5wb3B1cCAucG9wdXBUaXRsZVwiOiB7XG4gICAgICAgIGZvbnRTaXplOiBcIjEuM2VtXCIsXG4gICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiXG4gICAgfSxcbiAgICBcIi5wb3B1cCAucG9wdXBUaXRsZS5oYXNDb250ZW50XCI6IHtcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjVweFwiXG4gICAgfSxcbiAgICBcIi5wb3B1cCAuY29udGVudFwiOiB7XG4gICAgICAgIGZvbnRTaXplOiBcIjAuOWVtXCJcbiAgICB9LFxuICAgIFwiLnBvcHVwIC5idXR0b25Db250YWluZXJcIjoge1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgbWFyZ2luVG9wOiBcIjhweFwiLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJmbGV4LWVuZFwiXG4gICAgfSxcbiAgICBcIi5wb3B1cCAuYnV0dG9uQ29udGFpbmVyIC5wb3B1cEJ1dHRvblwiOiB7XG4gICAgICAgIHBhZGRpbmc6IFwiMnB4IDEwcHhcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIjxwb3B1cFRoZW1lPlwiLFxuICAgICAgICBjb2xvcjogXCIjRkZGXCIsXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiMTVweFwiLFxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiMzBweFwiLFxuICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCBlYXNlLWluLW91dCAuMXNcIlxuICAgIH0sXG4gICAgXCIucG9wdXAgLmJ1dHRvbkNvbnRhaW5lciAucG9wdXBCdXR0b246aG92ZXJcIjoge1xuICAgICAgICB0cmFuc2Zvcm06IFwic2NhbGUoMS4xKVwiXG4gICAgfSxcbiAgICBcIi5wb3B1cCAuY2xvc2VCdG5cIjoge1xuICAgICAgICB3aWR0aDogXCIxNnB4XCIsXG4gICAgICAgIGhlaWdodDogXCIxNnB4XCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI4cHhcIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgbGVmdDogXCJjYWxjKDEwMCUgLSA3cHgpXCIsXG4gICAgICAgIHRvcDogXCItMTVweFwiLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI0RERFwiLFxuICAgICAgICBib3hTaGFkb3c6IFwiMXB4IDFweCA1cHggMnB4IHJnYmEoMCwwLDAsLjEpXCIsXG4gICAgICAgIGNvbG9yOiBcIiMzMzNcIixcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCBlYXNlLWluLW91dCAuMXNcIlxuICAgIH0sXG4gICAgXCIucG9wdXAgLmNsb3NlQnRuIC54XCI6IHtcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogXCIycHhcIlxuICAgIH0sXG4gICAgXCIucG9wdXAgLmNsb3NlQnRuOmhvdmVyXCI6IHtcbiAgICAgICAgdHJhbnNmb3JtOiBcInNjYWxlKDEuMSlcIlxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGV2ZW50XzEgPSByZXF1aXJlKFwiLi4vZXZlbnRzL2V2ZW50XCIpO1xuY29uc3QgZXZlbnRIYW5kbGVyXzEgPSByZXF1aXJlKFwiLi4vZXZlbnRzL2V2ZW50SGFuZGxlclwiKTtcbi8qKlxuICogQGNsYXNzXHRGb3JtRWxlbUNoYW5nZUV2ZW50XG4gKlxuICogUmVnaXN0ZXJzIHRoZSBmb3JtIGVsZW1lbnQgY2hhbmdlIGV2ZW50IGZvciB0eXBlIHNhZmV0eVxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4wLjBcbiAqXG4gKi9cbmNsYXNzIEZvcm1FbGVtQ2hhbmdlRXZlbnQgZXh0ZW5kcyBldmVudF8xLkV2ZW50IHtcbiAgICBnZXQgX2tleSgpIHsgcmV0dXJuIGV4cG9ydHMuRk9STV9FTEVNX0NIQU5HRTsgfVxufVxuZXhwb3J0cy5Gb3JtRWxlbUNoYW5nZUV2ZW50ID0gRm9ybUVsZW1DaGFuZ2VFdmVudDtcbi8qKlxuICogQGNsYXNzXHRGb3JtU2F2YWJsZUV2ZW50XG4gKlxuICogUmVnaXN0ZXJzIHRoZSBldmVudCB0aGF0IGZpcmVzIHdoZW4gYSBmb3JtIGlzIHNhdmFibGVcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqXG4gKi9cbmNsYXNzIEZvcm1TYXZhYmxlRXZlbnQgZXh0ZW5kcyBldmVudF8xLkV2ZW50IHtcbiAgICBnZXQgX2tleSgpIHsgcmV0dXJuIGV4cG9ydHMuRk9STV9TQVZBQkxFX0NIQU5HRTsgfVxufVxuZXhwb3J0cy5Gb3JtU2F2YWJsZUV2ZW50ID0gRm9ybVNhdmFibGVFdmVudDtcbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gRVZFTlQgSEFORExFUiBGT1IgRk9STVNcbi8vIGNyZWF0ZSBhIHBhcnRpY3VsYXIgZXZlbnQgZm9yIGFsbCBmb3JtIGNoYW5nZSBldmVudHNcbmV4cG9ydHMuRk9STV9FTEVNX0NIQU5HRSA9IFwiZm9ybWVsZW1jaGFuZ2VcIjtcbmV4cG9ydHMuRk9STV9TQVZBQkxFX0NIQU5HRSA9IFwiZm9ybXNhdmFibGVjaGFuZ2VcIjtcbi8qKiBnZW5lcmF0ZSB0aGUgY2xhc3MgdGhhdCB3aWxsIGhhbmRsZSBhbGwgb2YgdGhlIGZvcm0gZXZlbnQgaGFuZGxpbmcgKi9cbmNsYXNzIEZvcm1FdmVudEhhbmRsZXIgZXh0ZW5kcyBldmVudEhhbmRsZXJfMS5FdmVudEhhbmRsZXIge1xufVxuZXhwb3J0cy5mb3JtRXZlbnRIYW5kbGVyID0gbmV3IEZvcm1FdmVudEhhbmRsZXIoKTtcbmV4cG9ydHMuZm9ybUV2ZW50SGFuZGxlci5jcmVhdGVFdmVudChleHBvcnRzLkZPUk1fRUxFTV9DSEFOR0UsIFwiRm9ybSBFbGVtZW50IENoYW5nZWRcIik7XG5leHBvcnRzLmZvcm1FdmVudEhhbmRsZXIuY3JlYXRlRXZlbnQoZXhwb3J0cy5GT1JNX1NBVkFCTEVfQ0hBTkdFLCBcIkZvcm0gU2F2YWJsZSBDaGFuZ2VcIik7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tYmluZV8xID0gcmVxdWlyZShcIi4uLy4uL29iamVjdEhlbHBlcnMvY29tYmluZVwiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi8uLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY29uc3QgZXZlbnRIYW5kbGVyXzEgPSByZXF1aXJlKFwiLi4vZXZlbnRIYW5kbGVyXCIpO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi4vLi4vc3R5bGVIZWxwZXJzL2Nzc1wiKTtcbmNvbnN0IGVycm9yUG9wdXBfMSA9IHJlcXVpcmUoXCIuLi8uLi9wb3B1cHMvZXJyb3JQb3B1cFwiKTtcbmNvbnN0IHllc05vUG9wdXBfMSA9IHJlcXVpcmUoXCIuLi8uLi9wb3B1cHMveWVzTm9Qb3B1cFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vLi4vcG9wdXBzL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgZHJhd2FibGVfMSA9IHJlcXVpcmUoXCIuLi8uLi9kcmF3YWJsZS9kcmF3YWJsZVwiKTtcbmNvbnN0IHNlY3Rpb25GaWVsZF8xID0gcmVxdWlyZShcIi4uL2NvbXBsZXhGaWVsZHMvc2VjdGlvbkZpZWxkXCIpO1xuY2xhc3MgX0Zvcm0gZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIElOSVRJQUxJWkFUSU9OXG4gICAgY29uc3RydWN0b3Iob3B0cywgY2hpbGRyZW4pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLy8jZW5kcmVnaW9uXG4gICAgICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgICAgICAvLyNyZWdpb24gREVMRUdBVEVTXG4gICAgICAgIC8qKiBoYW5kbGUgd2hlbiB0aGUgdXNlciBzYXZlcyB0aGUgZm9ybSAqL1xuICAgICAgICB0aGlzLl9vblNhdmUgPSBbXTtcbiAgICAgICAgLyoqIGhhbmRsZSB3aGVuIHRoZSB1c2VyIGNob29zZXMgdG8gY2FuY2VsICovXG4gICAgICAgIHRoaXMuX29uQ2FuY2VsID0gW107XG4gICAgICAgIHRoaXMuX2hhc0NoYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2FuU2F2ZVRyYWNrZXIgPSB7IGhhc01pc3NpbmdSZXF1aXJlZDogZmFsc2UsIGhhc0Vycm9yczogZmFsc2UgfTtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gb3B0cyB8fCB7fTtcbiAgICAgICAgdGhpcy5fYWRkQ2xhc3NOYW1lKFwiRm9ybVwiKTtcbiAgICAgICAgdGhpcy5fY29sb3JzID0gY29tYmluZV8xLmNvbWJpbmVPYmplY3RzKHsgZm9ybUJhY2tncm91bmRUaGVtZTogXCIjRkZGXCIsIGZvcm1UaGVtZTogXCIjRUZDNTAwXCIsIGZvcm1TdWJUaGVtZTogXCIjNDQ0XCIgfSwgdGhpcy5fY29uZmlnLmNvbG9ycyB8fCB7fSk7XG4gICAgICAgIHRoaXMuX2FwcGx5Q29sb3JzKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUVsZW1lbnRzKGNoaWxkcmVuKTtcbiAgICB9XG4gICAgcmVnaXN0ZXJTYXZlSGFuZGxlcihmKSB7IHRoaXMuX29uU2F2ZS5wdXNoKGYpOyB9XG4gICAgX25vdGlmeVNhdmUoZGF0YSkge1xuICAgICAgICBpZiAoIXRoaXMuX29uU2F2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGQgb2YgdGhpcy5fb25TYXZlKSB7XG4gICAgICAgICAgICBkKGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZ2lzdGVyQ2FuY2VsSGFuZGxlcihmKSB7IHRoaXMuX29uQ2FuY2VsLnB1c2goZik7IH1cbiAgICBfbm90aWZ5Q2FuY2VsKGhhc0NoYW5nZXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vbkNhbmNlbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGQgb2YgdGhpcy5fb25DYW5jZWwpIHtcbiAgICAgICAgICAgIGQoaGFzQ2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBUSEVNSU5HXG4gICAgc2V0VGhlbWVDb2xvcihjb2xvcklkLCBjb2xvciwgbm9SZXBsYWNlKSB7XG4gICAgICAgIHN1cGVyLnNldFRoZW1lQ29sb3IoY29sb3JJZCwgY29sb3IsIG5vUmVwbGFjZSk7XG4gICAgfVxuICAgIF9nZXRVbmlxdWVUaGVtZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkZvcm1cIjtcbiAgICB9XG4gICAgX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50cygpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBFTEVNRU5UU1xuICAgIF9jcmVhdGVFbGVtZW50cyhlbGVtcykge1xuICAgICAgICB0aGlzLl9lbGVtcyA9IHt9O1xuICAgICAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVByZUZvcm0oKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlRm9ybUNvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLl9jcmVhdGVDb3JlU2VjdGlvbihlbGVtcyk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVBvc3RGb3JtKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVCYXNlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGdlbmVyYXRlIGEgYmFzZSBvZiB0aGUgZm9ybVxuICAgICAqL1xuICAgIF9jcmVhdGVCYXNlKCkge1xuICAgICAgICBsZXQgY2xzID0gXCJraXBGb3JtXCI7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcuY2xzKSB7XG4gICAgICAgICAgICBjbHMgKz0gXCIgXCIgKyB0aGlzLl9jb25maWcuY2xzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IGNscyxcbiAgICAgICAgICAgIHR5cGU6IFwiZm9ybVwiLFxuICAgICAgICAgICAgaWQ6IHRoaXMuX2NvbmZpZy5pZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1zLmJhc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVDb3JlRWxlbVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjcmVhdGUgdGhlIGNvcmUgc2VjdGlvbiB0aGF0IHdpbGwgZGlzcGxheSBhbGwgb2Ygb3VyIGRhdGFcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIG9wdGlvbnMgICAgIHRoZSBvcHRpb25zIHRoYXQgYXJlIHBhc3NlZCBpbiBmb3IgdGhlIGdlbmVyYWwgZm9ybVxuICAgICAqIEBwYXJhbSAgIGVsZW1zICAgICAgIEVsZW1lbnRzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGZvcm1cbiAgICAgKlxuICAgICAqL1xuICAgIF9jcmVhdGVDb3JlU2VjdGlvbihlbGVtcykge1xuICAgICAgICAvLyBjcmVhdGUgdGhlIHRlbXBsYXRlIHRoYXQgd2lsbCByZW5kZXIgdGhlIHNlY3Rpb25cbiAgICAgICAgbGV0IHRlbXBsYXRlID0ge1xuICAgICAgICAgICAgbGFiZWw6IHRoaXMuX2NvbmZpZy5sYWJlbCxcbiAgICAgICAgICAgIGNsczogdGhpcy5fY29uZmlnLmNscyxcbiAgICAgICAgICAgIGxheW91dDogdGhpcy5fY29uZmlnLmxheW91dCxcbiAgICAgICAgICAgIGhpZGVUaXRsZTogdGhpcy5fY29uZmlnLmhpZGVUaXRsZSxcbiAgICAgICAgICAgIHVuY29sbGFwc2libGU6ICF0aGlzLl9jb25maWcuaGlkZVRpdGxlXG4gICAgICAgIH07XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgY29yZSBzZWN0aW9uXG4gICAgICAgIHRoaXMuX2VsZW1zLmNvcmVTZWN0aW9uID0gbmV3IHNlY3Rpb25GaWVsZF8xLlNlY3Rpb25GaWVsZCh0aGlzLl9pZCwgdGVtcGxhdGUsIGVsZW1zKTtcbiAgICAgICAgdGhpcy5fYXBwbHlDb2xvcnModGhpcy5fZWxlbXMuY29yZVNlY3Rpb24pO1xuICAgICAgICB0aGlzLl9hZGRFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIC8vIGFkZCB0aGUgc2VjdGlvbiB0byB0aGUgb3ZlcmFsbCBmb3JtIFVJXG4gICAgICAgIHRoaXMuX2VsZW1zLmNvcmVTZWN0aW9uLmRyYXcodGhpcy5fZWxlbXMuZm9ybUNvbnRhaW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVQcmVGb3JtXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGhhbmRsZSBnZW5lcmF0aW5nIHRoZSBhc3BlY3RzIG9mIHRoZSBmb3JtIHRoYXQgYXJlIHJlbmRlcmVkIGJlZm9yZSB0aGVcbiAgICAgKiBjb250ZW50LiBPdmVycmlkYWJsZSBieSBjaGlsZCBjbGFzc2VzXG4gICAgICovXG4gICAgX2NyZWF0ZVByZUZvcm0oKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhY2tncm91bmQgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwiYmFja2dyb3VuZFwiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbXMuYmFja2dyb3VuZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUZvcm1Db250YWluZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogZ2VuZXJhdGUgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGFjdHVhbGx5IGVuY29tcGFzcyB0aGUgZm9ybS4gT3ZlcnJpZGFibGUgYnlcbiAgICAgKiBjaGlsZCBjbGFzc2VzXG4gICAgICovXG4gICAgX2NyZWF0ZUZvcm1Db250YWluZXIoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmZvcm1Db250YWluZXIgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwiZm9ybUNvbnRlbnRcIixcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuYmFja2dyb3VuZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1zLmZvcm1Db250YWluZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVQb3N0Rm9ybVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBnZW5lcmF0ZSBhbnkgZWxlbWVudHMgdGhhdCB3aWxsIGFwcGVhciBhZnRlciB0aGUgY29yZSBzZWN0aW9uIG9mIHRoZSBmb3JtLlxuICAgICAqIE92ZXJyaWRhYmxlIGJ5IGNoaWxkIGNsYXNzZXNcbiAgICAgKi9cbiAgICBfY3JlYXRlUG9zdEZvcm0oKSB7XG4gICAgICAgIGxldCBidG5zID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiU2F2ZVwiLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLnRyeVNhdmUoKSxcbiAgICAgICAgICAgICAgICBjbHM6IFwic2F2ZSBwcmltYXJ5XCIsXG4gICAgICAgICAgICAgICAga2V5OiBcInNhdmVCdXR0b25cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIkNhbmNlbFwiLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7IHRoaXMudHJ5Q2FuY2VsKCk7IH0sXG4gICAgICAgICAgICAgICAgY2xzOiBcImNhbmNlbCB0ZXJ0aWFyeVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcuYWRkbEJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ0bnMuc3BsaWNlKDEsIDAsIC4uLnRoaXMuX2NvbmZpZy5hZGRsQnV0dG9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUJ1dHRvbnMoYnRucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVCdXR0b25zXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGdlbmVyYXRlIHRoZSBidXR0b25zIHRoYXQgc2hvdWxkIGJlIHZpc2libGUgaW4gdGhpcyBmb3JtXG4gICAgICovXG4gICAgX2NyZWF0ZUJ1dHRvbnMoYnRucykge1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgYiBvZiBidG5zKSB7XG4gICAgICAgICAgICBpZiAoIWIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy5fY3JlYXRlQnV0dG9uKGIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImtpcEJ0bnNcIixcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuYmFja2dyb3VuZCxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUJ1dHRvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBnZW5lcmF0ZSBhIHNwZWNpZmljIGJ1dHRvbiB3aXRoIHRoZSBwcm92aWRlZCBkZWZpbml0aW9uXG4gICAgICovXG4gICAgX2NyZWF0ZUJ1dHRvbihidG4pIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGtleTogYnRuLmtleSB8fCBcIlwiLFxuICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgIGNsczogXCJraXBCdG4gXCIgKyAoYnRuLmNscyA/IGJ0bi5jbHMgOiBcIiBzZWNvbmRhcnlcIiksXG4gICAgICAgICAgICBjb250ZW50OiBidG4uZGlzcGxheSxcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzOiB7XG4gICAgICAgICAgICAgICAgY2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bi5jYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLl9lbGVtcyk7XG4gICAgfVxuICAgIF9hZGRFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICAvLyBhZGQgdGhlIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBzZWN0aW9uIGNoYW5naW5nXG4gICAgICAgIGV2ZW50SGFuZGxlcl8xLmZvcm1FdmVudEhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcihldmVudEhhbmRsZXJfMS5GT1JNX0VMRU1fQ0hBTkdFLCB7XG4gICAgICAgICAgICBmdW5jOiAoZXZlbnQpID0+IHRoaXMuX2hhbmRsZUZvcm1DaGFuZ2UoZXZlbnQpLFxuICAgICAgICAgICAgdW5pcXVlSWQ6IHRoaXMuX2lkICsgXCJ8Zm9ybVwiXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBoYW5kbGUgd2hlbiB0aGUgZm9ybSBiZWNvbWVzIHNhdmFibGUgb3Igbm9uLXNhdmFibGVcbiAgICAgICAgZXZlbnRIYW5kbGVyXzEuZm9ybUV2ZW50SGFuZGxlci5hZGRFdmVudExpc3RlbmVyKGV2ZW50SGFuZGxlcl8xLkZPUk1fU0FWQUJMRV9DSEFOR0UsIHtcbiAgICAgICAgICAgIGZ1bmM6IChldmVudCkgPT4gdGhpcy5faGFuZGxlU2F2YWJpbGl0eUNoYW5nZShldmVudClcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ0hBTkdFIEhBTkRMSU5HXG4gICAgX2hhbmRsZUZvcm1DaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgLy8gbGlzdGVuIG9ubHkgYXQgdGhlIGdsb2JhbCBsZXZlbCB0byB0aGlzIGV2ZW50XG4gICAgICAgIGxldCBrZXkgPSBldmVudC5jb250ZXh0LmtleTtcbiAgICAgICAgaWYgKGtleSAhPT0gdGhpcy5faWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBjYWxsIGludG8gdGhlIGNoaWxkIGhhbmRsaW5nIG9uY2UgaXQncyBkZXRlcm1pbmVkIHdlXG4gICAgICAgIC8vIGNhcmUgYWJvdXQgdGhpcyBwYXJ0aWN1bGFyIGV2ZW50XG4gICAgICAgIHRoaXMuX29uRm9ybUNoYW5nZShldmVudCk7XG4gICAgfVxuICAgIF9vbkZvcm1DaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0Zvcm1DaGFuZ2VGb3JNZShldmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYXNDaGFuZ2VzID0gdHJ1ZTtcbiAgICB9XG4gICAgX2lzRm9ybUNoYW5nZUZvck1lKGV2ZW50KSB7XG4gICAgICAgIGxldCBrZXkgPSBldmVudC5jb250ZXh0LmtleTtcbiAgICAgICAgaWYgKGtleSAhPT0gdGhpcy5faWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBTQVZBQklMSVRZIENIQU5HRVxuICAgIF9oYW5kbGVTYXZhYmlsaXR5Q2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5fZWxlbXMuc2F2ZUJ1dHRvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjYW5TYXZlID0gdGhpcy5jYW5TYXZlKCk7XG4gICAgICAgIGlmICghY2FuU2F2ZSkge1xuICAgICAgICAgICAgdGhpcy5fZGlzYWJsZVNhdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZVNhdmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZGlzYWJsZVNhdmUoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLnNhdmVCdXR0b24udGl0bGUgPSB0aGlzLl9nZXRDYW5ub3RTYXZlTWVzc2FnZSgpO1xuICAgICAgICB0aGlzLl9lbGVtcy5zYXZlQnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuc2F2ZUJ1dHRvbiwgXCJkaXNhYmxlZFwiKTtcbiAgICB9XG4gICAgX2VuYWJsZVNhdmUoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLnNhdmVCdXR0b24udGl0bGUgPSBcIlwiO1xuICAgICAgICB0aGlzLl9lbGVtcy5zYXZlQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyh0aGlzLl9lbGVtcy5zYXZlQnV0dG9uLCBcImRpc2FibGVkXCIpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBTQVZJTkdcbiAgICAvKipcbiAgICAgKiBnZXREYXRhXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGVuc3VyZSB0aGF0IHdlIGFyZSByZXRyaWV2aW5nIHRoZSBkYXRhIHdpdGhpbiB0aGUgZm9ybSB3aXRob3V0IGFjdHVhbGx5XG4gICAgICogcnVubmluZyB0aGUgc2F2ZSBoYW5kbGVyc1xuICAgICAqL1xuICAgIGdldERhdGEoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZWxlbXMuY29yZVNlY3Rpb24uc2F2ZSh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zYXZlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogU2F2ZXMgZGF0YSBpbiB0aGUgZm9ybVxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgd2lsbCByZXRyaWV2ZSB0aGUgZGF0YSBjb250YWluZWQgaW4gdGhlIGZvcm1cbiAgICAgKi9cbiAgICBfc2F2ZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBkYXRhID0geWllbGQgdGhpcy5fZWxlbXMuY29yZVNlY3Rpb24uc2F2ZSgpO1xuICAgICAgICAgICAgLy8gQWxlcnQgYW55IGxpc3RlbmVycyBvZiB0aGlzIHBhcnRpY3VsYXIgZm9ybSB0aGF0IFxuICAgICAgICAgICAgLy8gdGhlIGRhdGEgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgICAgICAgdGhpcy5fbm90aWZ5U2F2ZShkYXRhKTtcbiAgICAgICAgICAgIHRoaXMuX2hhc0NoYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdHJ5U2F2ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEF0dGVtcHQgdG8gc2F2ZSB0aGUgZm9ybVxuICAgICAqL1xuICAgIHRyeVNhdmUoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyBoYW5kbGUgaWYgd2UgY2FuJ3Qgc2F2ZVxuICAgICAgICAgICAgaWYgKCF0aGlzLmNhblNhdmUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3dDYW5ub3RTYXZlTWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgcmV0cmlldmUgdGhlIHNhdmUgZGF0YSBmcm9tIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNvcmUgZWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMuX3NhdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jYW5TYXZlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ2hlY2sgd2l0aCBvdXIgZWxlbWVudHMgdGhhdCB3ZSBhcmUgYWJsZSB0byBzYXZlXG4gICAgICovXG4gICAgY2FuU2F2ZSgpIHtcbiAgICAgICAgdGhpcy5fY2FuU2F2ZVRyYWNrZXIgPSB0aGlzLl9lbGVtcy5jb3JlU2VjdGlvbi5jYW5TYXZlKCk7XG4gICAgICAgIGlmICh0aGlzLl9jYW5TYXZlVHJhY2tlci5oYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY2FuU2F2ZVRyYWNrZXIuaGFzTWlzc2luZ1JlcXVpcmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zaG93Q2Fubm90U2F2ZU1lc3NhZ2VcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogU2hvdyBwb3B1cCBpbmRpY2F0aW5nIHdoeSB3ZSBjb3VsZG4ndCBzYXZlIHRoaXMgZm9ybVxuICAgICAqL1xuICAgIF9zaG93Q2Fubm90U2F2ZU1lc3NhZ2UoKSB7XG4gICAgICAgIGxldCBtc2cgPSB0aGlzLl9nZXRDYW5ub3RTYXZlTWVzc2FnZSgpO1xuICAgICAgICBpZiAoIW1zZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwb3B1cCA9IG5ldyBlcnJvclBvcHVwXzEuRXJyb3JQb3B1cChtc2csIFwiQ291bGRuJ3QgU2F2ZVwiKTtcbiAgICAgICAgcG9wdXAuc2V0VGhlbWVDb2xvcihcInBvcHVwVGhlbWVcIiwgdGhpcy5fY29sb3JzLmZvcm1UaGVtZSk7XG4gICAgICAgIHBvcHVwLmRyYXcoZG9jdW1lbnQuYm9keSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9nZXRDYW5ub3RTYXZlTWVzc2FnZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBEZXRlcm1pbmUgd2hhdCBtZXNzYWdlIHRvIHNob3cgYXMgdG8gd2h5IHRoZSBmb3JtIGNhbm5vdCBiZSBzYXZlZFxuICAgICAqL1xuICAgIF9nZXRDYW5ub3RTYXZlTWVzc2FnZSgpIHtcbiAgICAgICAgbGV0IG1zZyA9IFwiXCI7XG4gICAgICAgIGlmICh0aGlzLl9jYW5TYXZlVHJhY2tlci5oYXNFcnJvcnMgJiYgdGhpcy5fY2FuU2F2ZVRyYWNrZXIuaGFzTWlzc2luZ1JlcXVpcmVkKSB7XG4gICAgICAgICAgICBtc2cgPSBcIlRoaXMgZm9ybSBoYXMgbWlzc2luZyBkYXRhIGFuZCBlcnJvcnM7IGNvcnJlY3QgZXJyb3JzIGFuZCBmaWxsIGluIGFsbCByZXF1aXJlZCBmaWVsZHMgYmVmb3JlIHNhdmluZy5cIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9jYW5TYXZlVHJhY2tlci5oYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIG1zZyA9IFwiVGhlcmUgYXJlIHNvbWUgZXJyb3JzIGluIHlvdXIgZm9ybTsgY29ycmVjdCB0aGVtIGJlZm9yZSBzYXZpbmcuXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fY2FuU2F2ZVRyYWNrZXIuaGFzTWlzc2luZ1JlcXVpcmVkKSB7XG4gICAgICAgICAgICBtc2cgPSBcIlRoZXJlIGFyZSBzb21lIGZpZWxkcyB3aXRoIG1pc3NpbmcgZGF0YTsgZmlsbCB0aGVtIGluIGJlZm9yZSBzYXZpbmcuXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBIQU5ETEUgQ0FOQ0VMSU5HXG4gICAgLyoqXG4gICAgICogX2NhbmNlbENvbmZpcm1hdGlvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgaW5mb3JtaW5nIHRoZSB1c2VyIHRoYXQgdGhleSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyBiZWZvcmUgY2FuY2VsbGluZ1xuICAgICAqL1xuICAgIF9jYW5jZWxDb25maXJtYXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNDaGFuZ2VzKSB7XG4gICAgICAgICAgICBsZXQgcG9wdXAgPSBuZXcgeWVzTm9Qb3B1cF8xLlllc05vUG9wdXAoXCJZb3UgaGF2ZSB1bnNhdmVkIGNoYW5nZXMuIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjYW5jZWw/XCIsIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSA9PT0gX2ludGVyZmFjZXNfMS5ZZXNOb0VudW0uWUVTKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcG9wdXAuc2V0VGhlbWVDb2xvcihcInBvcHVwVGhlbWVcIiwgdGhpcy5fY29sb3JzLmZvcm1UaGVtZSk7XG4gICAgICAgICAgICBwb3B1cC5kcmF3KGRvY3VtZW50LmJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NhbmNlbFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDYW5jZWwgdGhlIGZvcm0gYW5kIGFueSBjaGFuZ2VzIHdpdGhpbiBpdFxcXG4gICAgICovXG4gICAgX2NhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9ub3RpZnlDYW5jZWwodGhpcy5faGFzQ2hhbmdlcyk7XG4gICAgICAgIHRoaXMuX2hhc0NoYW5nZXMgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdHJ5Q2FuY2VsXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFB1YmxpYyBjYWxsIHRvIGF0dGVtcHQgdG8gY2FuY2VsIGFsbCBkYXRhIHdpdGhpbiBhIGZvcm07IHByb21wdHMgdGhlIHVzZXIgdG9cbiAgICAgKiB2ZXJpZnkgY2FuY2VsbGluZyBpZiB0aGVyZSBhcmUgYW55IHVuc2F2ZWQgZWxlbWVudHMgdW5sZXNzIG90aGVyd2lzZVxuICAgICAqIHNwZWNpZmllZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIGlnbm9yZVVuc2F2ZWRDaGFuZ2VzICAgIElmIHRydWUsIGRvZXNuJ3QgcHJvbXB0IHRoZSB1c2VyIHRvIGNvbmZpcm1cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0IHVuc2F2ZWQgYXNwZWN0cyB3b24ndCBiZSBzYXZlZFxuICAgICAqXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZm9ybSB3YXMgc3VjY2Vzc2Z1bGx5IGNhbmNlbGVkXG4gICAgICovXG4gICAgdHJ5Q2FuY2VsKGlnbm9yZVVuc2F2ZWRDaGFuZ2VzKSB7XG4gICAgICAgIGlmICghdGhpcy5faGFzQ2hhbmdlcyB8fCBpZ25vcmVVbnNhdmVkQ2hhbmdlcykge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNob3cgdGhlIHBvcHVwXG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxDb25maXJtYXRpb24oKTtcbiAgICAgICAgICAgIC8vIHRlbGwgdGhlIGNhbGxlciB0aGF0IHRoZXkgc2hvdWxkIHdhaXQgZm9yIHRoZSBjYW5jZWwgbGlzdGVuZXJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENMRUFSSU5HIEFORCBVUERBVElORyBEQVRBXG4gICAgLyoqXG4gICAgICogY2xlYXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY2xlYXJzIGFsbCBkYXRhIG91dCBvZiB0aGUgZm9ybVxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5jb3JlU2VjdGlvbi5jbGVhcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogdXBkYXRlIHRoZSBkYXRhIGluIHRoZSBmb3JtIHRvIG1hdGNoIGEgcGFydGljdWxhciBkYXRhIHNldFxuICAgICAqXG4gICAgICogQHBhcmFtICAgbW9kZWwgICAgICAgICAgIFRoZSBkYXRhIHRvIHVwZGF0ZSB0aGUgZm9ybSB3aXRoXG4gICAgICogQHBhcmFtICAgYWxsb3dFdmVudHMgICAgIElmIHRydWUsIGFsc28gZmlyZXMgY2hhbmdlIGV2ZW50cyBhcyBhIHJlc3VsdCBvZlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgdXBkYXRlXG4gICAgICovXG4gICAgdXBkYXRlKG1vZGVsLCBhbGxvd0V2ZW50cykge1xuICAgICAgICB0aGlzLl9lbGVtcy5jb3JlU2VjdGlvbi51cGRhdGUobW9kZWwsIGFsbG93RXZlbnRzKTtcbiAgICAgICAgdGhpcy5faGFzQ2hhbmdlcyA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFRSQUNLIENIQU5HRVNcbiAgICAvKiBUT0RPOiBhY3R1YWxseSBpbXBsZW1lbnQgY2hhbmdlIGNvbnRyb2xcbiAgICAqL1xuICAgIHVuZG8oKSB7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9XG4gICAgcmVkbygpIHtcbiAgICB9XG4gICAgX3RyYWNrQ2hhbmdlcygpIHtcbiAgICAgICAgLy8gVE9ET1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFVTQUJJTElUWVxuICAgIC8qKlxuICAgICogZm9jdXNcbiAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAqIEdpdmVzIGZvY3VzIHRvIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgY2FuIHRha2UgZm9jdXNcbiAgICAqL1xuICAgIGZvY3VzKCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5jb3JlU2VjdGlvbi5mb2N1cygpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENIQU5HRSBUSEUgRk9STSBESVNQTEFZXG4gICAgLy8gVE9ETzogQWxsb3cgY2hhbmdpbmcgb2YgdGhlIGZvcm0gYWZ0ZXIgaXQncyBiZWVuIGNyZWF0ZWRcbiAgICAvKipcbiAgICAgKiBhZGRGb3JtRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGRzIGEgZm9ybSBlbGVtZW50IHRvIG91ciBmb3JtIGFmdGVyIGl0J3MgYmVlbiBpbml0aWFsaXplZFxuICAgICAqL1xuICAgIGFkZEZvcm1FbGVtZW50KGtleSwgZm9ybUVsZW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1zLmNvcmVTZWN0aW9uLmFkZENoaWxkRWxlbWVudChrZXksIGZvcm1FbGVtKTtcbiAgICB9XG4gICAgZ2V0RmllbGQoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1zLmNvcmVTZWN0aW9uLmdldEZpZWxkKGlkKTtcbiAgICB9XG59XG5leHBvcnRzLl9Gb3JtID0gX0Zvcm07XG4vLy4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuX0Zvcm0uX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi5raXBGb3JtXCI6IHtcbiAgICAgICAgZm9udEZhbWlseTogXCJPcGVuIFNhbnMsU2Vnb2UgVUkgTGlnaHQsSGVsdmV0aWNhXCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICBmb250V2VpZ2h0OiBcIjEwMFwiLFxuICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgIFwiLmJhY2tncm91bmRcIjoge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIi5mb3JtQ29udGVudFwiOiB7XG4gICAgICAgICAgICAgICAgZmxleFNocmluazogXCIxXCIsXG4gICAgICAgICAgICAgICAgZmxleEdyb3c6IFwiMVwiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZzogXCI1cHhcIixcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLmtpcEJ0blwiOiB7XG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBcIjAuN1wiLFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IFwiYWxsIGVhc2UtaW4tb3V0IC4xc1wiLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiT3BlbiBTYW5zLFNlZ29lIFVJIExpZ2h0LEhlbHZldGljYVwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgICAgICAgICBcIiY6aG92ZXI6bm90KC5kaXNhYmxlZClcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogXCIxXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCImLmRpc2FibGVkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJub3QtYWxsb3dlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogXCIwLjRcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLmtpcEJ0bnNcIjoge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93LXJldmVyc2VcIixcbiAgICAgICAgICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgXCIua2lwQnRuXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiM3B4IDE1cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogXCI1cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIzcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiJi5wcmltYXJ5XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIjxmb3JtVGhlbWU+XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNGRkZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCImLnNlY29uZGFyeVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgPGZvcm1UaGVtZT5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiPGZvcm1UaGVtZT5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCImLnRlcnRpYXJ5XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCA8Zm9ybVN1YlRoZW1lPlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCI8Zm9ybVN1YlRoZW1lPlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiYnV0dG9uXCI6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBhcnJheXNfMSA9IHJlcXVpcmUoXCIuLi9wcmltaXRpdmVIZWxwZXJzL2FycmF5c1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE5hbWVkQ2xhc3NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEEgY2xhc3MgdGhhdCBjb250YWlucyBhIHNldCBvZiBuYW1lcyB0aGF0IGFwcGx5IHRvIHRoaXMgY2xhc3MuIFVzZWQgZm9yXG4gKiBlYXNpZXIgdHlwaW5nLlxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgTmFtZWRDbGFzcyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5hbWVkIGNsYXNzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQHBhcmFtXHRjbGFzc05hbWVzXHRcdFRoZSBpbml0aWFsIGNsYXNzIG5hbWUgdG8gYXNzaWduXG4gICAgICpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciguLi5jbGFzc05hbWVzKSB7XG4gICAgICAgIHRoaXMuX2NsYXNzX25hbWVzID0gY2xhc3NOYW1lcztcbiAgICB9XG4gICAgZ2V0IGNsYXNzTmFtZSgpIHtcbiAgICAgICAgbGV0IHRtcE5hbWVzID0gdGhpcy5fY2xhc3NfbmFtZXMuc2xpY2UoKTtcbiAgICAgICAgcmV0dXJuIHRtcE5hbWVzLnJldmVyc2UoKS5qb2luKFwiOjpcIik7XG4gICAgfVxuICAgIGdldCBwYWRkZWRDbGFzc05hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGFzc19uYW1lcy5qb2luKFwiIDwtLSBcIik7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBfYWRkQ2xhc3NOYW1lXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWRkcyBhIG5ldyBsYXllciB0byBvdXIgY2xhc3MgbmFtZVxuICAgICAqXG4gICAgICogQHBhcmFtXHRjbGFzc19uYW1lXHRcdFRoZSBuZXcgY2xhc3MgbmFtZSB0byBhZGRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUcnVlIGlmIHdlIGFkZGVkIHRoZSBjbGFzcyBuYW1lXG4gICAgICovXG4gICAgX2FkZENsYXNzTmFtZShjbGFzc19uYW1lKSB7XG4gICAgICAgIGlmIChhcnJheXNfMS5jb250YWlucyh0aGlzLl9jbGFzc19uYW1lcywgY2xhc3NfbmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jbGFzc19uYW1lcy5wdXNoKGNsYXNzX25hbWUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5leHBvcnRzLk5hbWVkQ2xhc3MgPSBOYW1lZENsYXNzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAgKiBpc1VwZGF0YWJsZVxuICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgKiBEZXRlcm1pbmUgaWYgdGhpcyBvYmplY3QgaGFzIGFuIHVwZGF0ZSBtZXRob2RcbiAgKiBAcGFyYW0gdGVzdFxuICAqL1xuZnVuY3Rpb24gaXNVcGRhdGFibGUodGVzdCkge1xuICAgIGlmICghdGVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiAhISh0ZXN0LnVwZGF0ZSk7XG59XG5leHBvcnRzLmlzVXBkYXRhYmxlID0gaXNVcGRhdGFibGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF90eXBlZ3VhcmRzXzEgPSByZXF1aXJlKFwiLi9fdHlwZWd1YXJkc1wiKTtcbi8qKlxuICogY2xpZW50UmVjdFRvU2hhcGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb252ZXJ0cyBhIENsaWVudCBSZWN0IHRvIGEgYmFzaWMgc2hhcGVcbiAqXG4gKiBAcGFyYW0gXHRyZWN0IFx0VGhlIHJlY3RhbmdsZSB0byBjb252ZXJ0XG4gKlxuICogQHJldHVybnMgVGhlIGFycmF5IG9mIHBvaW50cyB0aGF0IG1ha2UgdXAgdGhpcyBzaGFwZVxuICovXG5mdW5jdGlvbiBjbGllbnRSZWN0VG9TaGFwZShyZWN0KSB7XG4gICAgbGV0IG91dDtcbiAgICBvdXQgPSBuZXcgQXJyYXkoKTtcbiAgICAvLyBUb3AtbGVmdCBjb3JuZXJcbiAgICBvdXRbMF0gPSB7XG4gICAgICAgIHg6IHJlY3QubGVmdCxcbiAgICAgICAgeTogcmVjdC50b3BcbiAgICB9O1xuICAgIC8vIFRvcC1yaWdodCBjb3JuZXJcbiAgICBvdXRbMV0gPSB7XG4gICAgICAgIHg6IHJlY3QubGVmdCArIHJlY3Qud2lkdGgsXG4gICAgICAgIHk6IHJlY3QudG9wXG4gICAgfTtcbiAgICAvLyBCb3R0b20tcmlnaHQgY29ybmVyXG4gICAgb3V0WzJdID0ge1xuICAgICAgICB4OiByZWN0LmxlZnQgKyByZWN0LndpZHRoLFxuICAgICAgICB5OiByZWN0LnRvcCArIHJlY3QuaGVpZ2h0XG4gICAgfTtcbiAgICAvLyBCb3R0b20tbGVmdCBjb3JuZXJcbiAgICBvdXRbM10gPSB7XG4gICAgICAgIHg6IHJlY3QubGVmdCxcbiAgICAgICAgeTogcmVjdC50b3AgKyByZWN0LmhlaWdodFxuICAgIH07XG4gICAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydHMuY2xpZW50UmVjdFRvU2hhcGUgPSBjbGllbnRSZWN0VG9TaGFwZTtcbi8qKlxuICogc3ZnUmVjdFRvU2hhcGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb252ZXJ0cyBhIFNWRyBSZWN0IHRvIGEgYmFzaWMgc2hhcGVcbiAqXG4gKiBAcGFyYW0gXHRyZWN0IFx0VGhlIHJlY3RhbmdsZSB0byBjb252ZXJ0XG4gKlxuICogQHJldHVybnMgVGhlIGFycmF5IG9mIHBvaW50cyB0aGF0IG1ha2UgdXAgdGhpcyBzaGFwZVxuICovXG5mdW5jdGlvbiBzdmdSZWN0VG9TaGFwZShyZWN0KSB7XG4gICAgbGV0IG91dDtcbiAgICBvdXQgPSBuZXcgQXJyYXkoKTtcbiAgICAvLyBUb3AtbGVmdCBjb3JuZXJcbiAgICBvdXRbMF0gPSB7XG4gICAgICAgIHg6IHJlY3QueCxcbiAgICAgICAgeTogcmVjdC55XG4gICAgfTtcbiAgICAvLyBUb3AtcmlnaHQgY29ybmVyXG4gICAgb3V0WzFdID0ge1xuICAgICAgICB4OiByZWN0LnggKyByZWN0LndpZHRoLFxuICAgICAgICB5OiByZWN0LnlcbiAgICB9O1xuICAgIC8vIEJvdHRvbS1yaWdodCBjb3JuZXJcbiAgICBvdXRbMl0gPSB7XG4gICAgICAgIHg6IHJlY3QueCArIHJlY3Qud2lkdGgsXG4gICAgICAgIHk6IHJlY3QueSArIHJlY3QuaGVpZ2h0XG4gICAgfTtcbiAgICAvLyBCb3R0b20tbGVmdCBjb3JuZXJcbiAgICBvdXRbM10gPSB7XG4gICAgICAgIHg6IHJlY3QueCxcbiAgICAgICAgeTogcmVjdC55ICsgcmVjdC5oZWlnaHRcbiAgICB9O1xuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnRzLnN2Z1JlY3RUb1NoYXBlID0gc3ZnUmVjdFRvU2hhcGU7XG4vKipcbiAqIHN2Z1JlY3RUb0Jhc2ljUmVjdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvbnZlcnQgYSBTVkcgcmVjdGFuZ2xlIHRvIGEgYmFzaWMgcmVjdGFuZ2xlXG4gKlxuICogQHBhcmFtIFx0cmVjdCBcdFRoZSByZWN0YW5nbGUgdG8gY29udmVydFxuICpcbiAqIEByZXR1cm5zIFRoZSByZXN1bHRpbmcgSUJhc2ljUmVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGFzc2VkIGluIHJlY3RcbiAqL1xuZnVuY3Rpb24gc3ZnUmVjdFRvQmFzaWNSZWN0KHJlY3QpIHtcbiAgICBsZXQgb3V0O1xuICAgIG91dCA9IHtcbiAgICAgICAgeDogcmVjdC54LFxuICAgICAgICB5OiByZWN0LnksXG4gICAgICAgIHc6IHJlY3Qud2lkdGgsXG4gICAgICAgIGg6IHJlY3QuaGVpZ2h0XG4gICAgfTtcbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0cy5zdmdSZWN0VG9CYXNpY1JlY3QgPSBzdmdSZWN0VG9CYXNpY1JlY3Q7XG47XG4vKipcbiAqIGNsaWVudFJlY3RUb0Jhc2ljUmVjdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvbnZlcnQgYSBjbGllbnQgcmVjdGFuZ2xlIHRvIGEgYmFzaWMgcmVjdGFuZ2xlXG4gKlxuICogQHBhcmFtIFx0cmVjdCBcdFRoZSByZWN0YW5nbGUgdG8gY29udmVydFxuICpcbiAqIEByZXR1cm5zIFRoZSByZXN1bHRpbmcgSUJhc2ljUmVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGFzc2VkIGluIHJlY3RcbiAqL1xuZnVuY3Rpb24gY2xpZW50UmVjdFRvQmFzaWNSZWN0KHJlY3QpIHtcbiAgICBsZXQgb3V0O1xuICAgIG91dCA9IHtcbiAgICAgICAgeDogcmVjdC5sZWZ0ICsgd2luZG93LnNjcm9sbFgsXG4gICAgICAgIHk6IHJlY3QudG9wICsgd2luZG93LnNjcm9sbFksXG4gICAgICAgIHc6IHJlY3Qud2lkdGgsXG4gICAgICAgIGg6IHJlY3QuaGVpZ2h0XG4gICAgfTtcbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0cy5jbGllbnRSZWN0VG9CYXNpY1JlY3QgPSBjbGllbnRSZWN0VG9CYXNpY1JlY3Q7XG4vKipcbiAqIHRvQmFzaWNSZWN0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ29udmVydHMgYW55IHN1cHBvcnRlZCByZWN0YW5nbGUgdG8gYSBiYXNpYyByZWN0YW5nbGVcbiAqXG4gKiBAcGFyYW0gXHRyZWN0IFx0VGhlIHJlY3RhbmdsZSB0byBjb252ZXJ0XG4gKlxuICogQHJldHVybnMgVGhlIGJhc2ljIHJlY3QgdmVyc2lvbiBvZiB0aGlzIGNsaWVudCAvIHN2ZyByZWN0XG4gKi9cbmZ1bmN0aW9uIHRvQmFzaWNSZWN0KHJlY3QpIHtcbiAgICBsZXQgcjtcbiAgICBpZiAoX3R5cGVndWFyZHNfMS5pc0lCYXNpY1JlY3QocmVjdCkpIHtcbiAgICAgICAgciA9IHJlY3Q7XG4gICAgfVxuICAgIGVsc2UgaWYgKF90eXBlZ3VhcmRzXzEuaXNDbGllbnRSZWN0KHJlY3QpKSB7XG4gICAgICAgIHIgPSBjbGllbnRSZWN0VG9CYXNpY1JlY3QocmVjdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKF90eXBlZ3VhcmRzXzEuaXNTVkdSZWN0KHJlY3QpKSB7XG4gICAgICAgIHIgPSBzdmdSZWN0VG9CYXNpY1JlY3QocmVjdCk7XG4gICAgfVxuICAgIHJldHVybiByO1xufVxuZXhwb3J0cy50b0Jhc2ljUmVjdCA9IHRvQmFzaWNSZWN0O1xuO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIENBTENVTEFURSBPRkZTRVQgRlVOQ1RJT05TXG4vKipcbiAqIEdsb2JhbE9mZnNldExlZnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEdldHMgdGhlIG9mZnNldCBsZWZ0IG9mIHRoaXMgZWxlbWVudCBpbiByZWZlcmVuY2UgdG8gdGhlIGVudGlyZSBwYWdlXG4gKlxuICogQHBhcmFtICAgZWxlbSAgICBUaGUgZWxlbWVudCB0byBnZXQgdGhlIG9mZnNldCBvZlxuICogQHBhcmFtICAgcGFyZW50ICBUaGUgcGFyZW50IGVsZW1lbnQgdG8gdXNlIGFzIHRoZSByZWZlcmVuY2UuIElmIG5vdFxuICogICAgICAgICAgICAgICAgICBpbmNsdWRlZCwgaXQgdXNlcyB0aGUgZG9jdW1lbnQuYm9keSBhcyB0aGUgcmVmZXJlbmNlXG4gKlxuICogQHJldHVybnMgVGhlIGdsb2JhbCBvZmZzZXQgb2YgdGhlIGVsZW1lbXQgZnJvbSB0aGUgbGVmdCBvZiB0aGUgcGFnZSAob3JcbiAqICAgICAgICAgIHBhcmVudCwgaWYgaW5jbHVkZWQpXG4gKlxuICovXG5mdW5jdGlvbiBnbG9iYWxPZmZzZXRMZWZ0KGVsZW0sIHBhcmVudCwgdXNlU3RhbmRhcmRQYXJlbnQpIHtcbiAgICByZXR1cm4gX2F1eEdsb2JhbE9mZnNldChlbGVtLCBcIm9mZnNldExlZnRcIiwgcGFyZW50LCB1c2VTdGFuZGFyZFBhcmVudCk7XG59XG5leHBvcnRzLmdsb2JhbE9mZnNldExlZnQgPSBnbG9iYWxPZmZzZXRMZWZ0O1xuO1xuLyoqXG4gKiBHbG9iYWxPZmZzZXRUb3BcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEdldHMgdGhlIG9mZnNldCB0b3Agb2YgdGhpcyBlbGVtZW50IGluIHJlZmVyZW5jZSB0byB0aGUgZW50aXJlIHBhZ2VcbiAqXG4gKiBAcGFyYW0gICBlbGVtICAgVGhlIGVsZW1lbnQgdG8gZ2V0IHRoZSBvZmZzZXQgb2ZcbiAqIEBwYXJhbSAgIHBhcmVudCBUaGUgcGFyZW50IGVsZW1lbnQgdG8gdXNlIGFzIHRoZSByZWZlcmVuY2UuIElmIG5vdFxuICogICAgICAgICAgICAgICAgIGluY2x1ZGVkLCBpdCB1c2VzIHRoZSBkb2N1bWVudC5ib2R5IGFzIHRoZSByZWZlcmVuY2VcbiAqXG4gKiBAcmV0dXJucyBUaGUgZ2xvYmFsIG9mZnNldCBvZiB0aGUgZWxlbWVtdCBmcm9tIHRoZSB0b3Agb2YgdGhlIHBhZ2UgKG9yXG4gKiAgICAgICAgICBwYXJlbnQsIGlmIGluY2x1ZGVkKVxuICpcbiAqL1xuZnVuY3Rpb24gZ2xvYmFsT2Zmc2V0VG9wKGVsZW0sIHBhcmVudCwgdXNlU3RhbmRhcmRQYXJlbnQpIHtcbiAgICByZXR1cm4gX2F1eEdsb2JhbE9mZnNldChlbGVtLCBcIm9mZnNldFRvcFwiLCBwYXJlbnQsIHVzZVN0YW5kYXJkUGFyZW50KTtcbn1cbmV4cG9ydHMuZ2xvYmFsT2Zmc2V0VG9wID0gZ2xvYmFsT2Zmc2V0VG9wO1xuO1xuLyoqXG4gKiBHbG9iYWxPZmZzZXRzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBHZXRzIGJvdGggdGhlIGxlZnQgYW5kIHRvcCBvZmZzZXRcbiAqXG4gKiBAcGFyYW0gICBlbGVtICAgIFRoZSBlbGVtZW50IHRvIGdldCB0aGUgb2Zmc2V0cyBmb3JcbiAqIEBwYXJhbSAgIHBhcmVudCAgVGhlIGVsZW1lbnQgdG8gdXNlIGFzIHRoZSByZWZlcmVuY2UgZnJhbWVcbiAqXG4gKiBAcmV0dXJucyBPYmplY3Qgd2l0aCB0aGUga2V5cyBcImxlZnRcIiBhbmQgXCJ0b3BcIlxuICpcbiAqL1xuZnVuY3Rpb24gZ2xvYmFsT2Zmc2V0cyhlbGVtLCBwYXJlbnQsIHVzZVN0YW5kYXJkUGFyZW50KSB7XG4gICAgO1xuICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IGdsb2JhbE9mZnNldExlZnQoZWxlbSwgcGFyZW50LCB1c2VTdGFuZGFyZFBhcmVudCksXG4gICAgICAgIHRvcDogZ2xvYmFsT2Zmc2V0VG9wKGVsZW0sIHBhcmVudCwgdXNlU3RhbmRhcmRQYXJlbnQpXG4gICAgfTtcbn1cbmV4cG9ydHMuZ2xvYmFsT2Zmc2V0cyA9IGdsb2JhbE9mZnNldHM7XG47XG4vKipcbiAqICBfYXV4R2xvYmFsT2Zmc2V0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGEgZ2xvYmFsIG9mZnNldFxuICpcbiAqIEBwYXJhbSAgIGVsZW0gICAgVGhlIGVsZW1lbnQgdG8gZ2V0IHRoZSBnbG9iYWwgb2Zmc2V0IGZvclxuICogQHBhcmFtICAgdHlwZSAgICBUaGUgdHlwZSBvZiBvZmZzZXQgd2Ugc2hvdWxkIGxvb2sgYXQgKGVpdGhlciBcIm9mZnNldFRvcFwiXG4gKiAgICAgICAgICAgICAgICAgIG9yIFwib2Zmc2V0V2lkdGhcIilcbiAqIEBwYXJhbSAgIHBhcmVudCAgVGhlIHBhcmVudCB0byB1c2UgYXMgdGhlIHJlZmVyZW5jZSBmcmFtZS4gVXNlcyBkb2N1bWVudC5cbiAqICAgICAgICAgICAgICAgICAgYm9keSBieSBkZWZhdWx0IHtvcHRpb25hbH1cbiAqXG4gKiBAcmV0dXJuIFRoZSBzcGVjaWZpZWQgb2Zmc2V0IGZvciB0aGUgZWxlbWVudFxuICpcbiAqL1xuZnVuY3Rpb24gX2F1eEdsb2JhbE9mZnNldChlbGVtLCB0eXBlLCBwYXJlbnQsIHVzZVN0YW5kYXJkUGFyZW50KSB7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgLy8gUmVjdXJzaXZlbHkgbG9vcCB1bnRpbCB3ZSBubyBsb25nZXIgaGF2ZSBhIHBhcmVudFxuICAgIHdoaWxlIChlbGVtICYmIChlbGVtICE9PSBwYXJlbnQpKSB7XG4gICAgICAgIGlmIChlbGVtW3R5cGVdKSB7XG4gICAgICAgICAgICBvZmZzZXQgKz0gZWxlbVt0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlU3RhbmRhcmRQYXJlbnQpIHtcbiAgICAgICAgICAgIGVsZW0gPSBlbGVtLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtID0gZWxlbS5vZmZzZXRQYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbn1cbjtcbi8qKlxuICogZ2V0U2Nyb2xsUG9zaXRpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERldGVybWluZXMgaG93IGZhciB3ZSBoYXZlIHNjcm9sbGVkIGRvd24gdGhlIHBhZ2VcbiAqXG4gKiBAcmV0dXJucyBUaGUgcG9pbnQgb2YgdGhlIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uXG4gKlxuICovXG5mdW5jdGlvbiBnZXRTY3JvbGxQb3NpdGlvbigpIHtcbiAgICBsZXQgb3V0ID0ge1xuICAgICAgICB4OiAod2luZG93LnBhZ2VYT2Zmc2V0KSA/IHdpbmRvdy5wYWdlWE9mZnNldCA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCxcbiAgICAgICAgeTogKHdpbmRvdy5wYWdlWU9mZnNldCkgPyB3aW5kb3cucGFnZVlPZmZzZXQgOiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcFxuICAgIH07XG4gICAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydHMuZ2V0U2Nyb2xsUG9zaXRpb24gPSBnZXRTY3JvbGxQb3NpdGlvbjtcbi8qKlxuICogbWVhc3VyZUVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE1lYXN1cmVzIGhvdyBsYXJnZSBhbiBlbGVtZW50IGlzIHdoZW4gcmVuZGVyZWQgb24gdGhlIGRvY3VtZW50XG4gKiBAcGFyYW0gICAgIGVsZW0gICAgVGhlIGVsZW1lbnQgdG8gbWVhc3VyZVxuICogQHBhcmFtICAgICBwYXJlbnQgIFRoZSBwYXJlbnQgZWxlbWVudCB0byByZW5kZXIgdGhpcyB3aXRoaW5cbiAqIEByZXR1cm5zICAgVGhlIGNsaWVudCByZWN0IGZvciB0aGUgZWxlbWVudFxuICpcbiAqL1xuZnVuY3Rpb24gbWVhc3VyZUVsZW1lbnQoZWxlbSwgcGFyZW50KSB7XG4gICAgbGV0IGFkZGVkID0gZmFsc2U7XG4gICAgLy8gYWRkIHRvIHRoZSBkb2N1bWVudCBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gICAgaWYgKCFlbGVtLnBhcmVudE5vZGUpIHtcbiAgICAgICAgYWRkZWQgPSB0cnVlO1xuICAgICAgICAvLyBzYXZlIG9mZiB0aGUgb3BhY2l0eSBvcmlnaW5hbGx5LCB0aGVuIHNldCBpdCB0byAwXG4gICAgICAgIGxldCBvcmlnT3BhY2l0eSA9IGVsZW0uc3R5bGUub3BhY2l0eTtcbiAgICAgICAgZWxlbS5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsgZWxlbS5zdHlsZS5vcGFjaXR5ID0gb3JpZ09wYWNpdHk7IH0pO1xuICAgICAgICAvLyBhZGQgdGhlIGVsZW1lbnQgdG8gdGhlIHBhcmVudFxuICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgcGFyZW50ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgfVxuICAgIC8vIG1lYXN1cmUgdGhlIGVsZW1lbnQgb24gdGhlIHBhcmVudFxuICAgIGxldCByZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAoYWRkZWQpIHtcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVjdDtcbn1cbmV4cG9ydHMubWVhc3VyZUVsZW1lbnQgPSBtZWFzdXJlRWxlbWVudDtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gUkVMQVRJVkUgVE8gT1RIRVIgRUxFTSBGVU5DVElPTlNcbi8qKlxuICogZmluZENvbW1vblBhcmVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRmluZHMgdGhlIGNsb3Nlc3Qgc2hhcmVkIHBhcmVudCBiZXR3ZWVuIHR3byBhcmJpdHJhcnkgZWxlbWVudHNcbiAqXG4gKiBAcGFyYW0gICBlbGVtX2EgICAgVGhlIGZpcnN0IGVsZW1lbnQgdG8gZmluZCB0aGUgc2hhcmVkIHBhcmVudCBmb3JcbiAqIEBwYXJhbSAgIGVsZW1fYiAgICBUaGUgc2Vjb25kIGVsZW1lbnQgdG8gZmluZCB0aGUgc2hhcmVkIHBhcmVudCBmb3JcbiAqXG4gKiBAcmV0dXJucyBUaGUgY2xvc2VzdCBzaGFyZWQgcGFyZW50LCBvciB1bmRlZmluZWQgaWYgaXQgZG9lc24ndCBleGlzdCBvclxuICogICAgICAgICAgYW4gZXJyb3Igb2NjdXJyZWQuXG4gKlxuICovXG5mdW5jdGlvbiBmaW5kQ29tbW9uUGFyZW50KGVsZW1fYSwgZWxlbV9iKSB7XG4gICAgbGV0IHBhcmVudF9hO1xuICAgIGxldCBwYXJlbnRfYjtcbiAgICAvLyBJZiBlb3RoZXIgZWxlbWVudCBkb2Vzbid0IGV4aXN0LCBubyBwb2ludCBpbiBnb2luZyBmdXJ0aGVyXG4gICAgaWYgKCFlbGVtX2EgfHwgIWVsZW1fYilcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAvLyBTZXQgdXAgdGhlIHNvdXJjZSBwYXJlbnQsIGFuZCBxdWl0IGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICBwYXJlbnRfYSA9IGVsZW1fYTtcbiAgICAvLyBTZXQgdXAgdGhlIHJlZmVyZW5jZSBwYXJlbnQgYW5kIHF1aXQgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgIHBhcmVudF9iID0gZWxlbV9iO1xuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgcGFyZW50cyBvZiB0aGUgc291cmNlIGVsZW1lbnRcbiAgICB3aGlsZSAocGFyZW50X2EpIHtcbiAgICAgICAgLy8gQW5kIGFsbCBvZiB0aGUgcGFyZW50cyBvZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnRcbiAgICAgICAgd2hpbGUgKHBhcmVudF9iKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGV5IGFyZSB0aGUgc2FtZSBwYXJlbnQsIHdlIGhhdmUgZm91bmQgb3VyIHBhcmVudCBub2RlXG4gICAgICAgICAgICBpZiAocGFyZW50X2EgPT09IHBhcmVudF9iKVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRfYTtcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgaW5jcmVtZW50IHRoZSBwYXJlbnQgb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50XG4gICAgICAgICAgICBwYXJlbnRfYiA9IHBhcmVudF9iLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5jcmVtZW50IHRoZSBzb3VyY2UgcGFyZW50IGFuZCByZXNldCB0aGUgcmVmZXJlbmNlIHBhcmVudFxuICAgICAgICBwYXJlbnRfYSA9IHBhcmVudF9hLnBhcmVudE5vZGU7XG4gICAgICAgIHBhcmVudF9iID0gZWxlbV9iO1xuICAgIH1cbiAgICAvLyByZXR1cm4gdW5kZWZpbmVkIGlmIHdlIG5ldmVyIGZvdW5kIGEgbWF0Y2hcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0cy5maW5kQ29tbW9uUGFyZW50ID0gZmluZENvbW1vblBhcmVudDtcbjtcbi8qKlxuICogbW92ZVJlbFRvRWxlbWVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogTW92ZXMgYSBnaXZlbiBlbGVtZW50IHRvIGEgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICpcbiAqIFRoaXMgaXMgZm9yIGNhc2VzIHdoZXJlIHlvdSBoYXZlIHR3byBlbGVtZW50cyB3aXRoIGRpZmZlcmVudCBwYXJlbnRzLCBhbmRcbiAqIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhhdCBlbGVtZW50IEEgaXMgc29tZSBudW1iZXIgb2YgcGl4ZWxzIGluIHNvbWVcbiAqIGRpcmVjdGlvbiBjb21wYXJlZCB0byBlbGVtZW50IEIuXG4gKlxuICogQHBhcmFtICAgZWxlbSAgICBUaGUgZWxlbWVudCB0byBtb3ZlXG4gKiBAcGFyYW0gICByZWYgICAgIFRoZSBlbGVtZW50IHRvIHVzZSBhcyB0aGUgcmVmZXJlbmNlIGVsZW1lbnRcbiAqIEBwYXJhbSAgIHggICAgICAgVGhlIHggb2Zmc2V0IHRvIGdpdmUgdGhpcyBlbGVtZW50LCByZWxhdGl2ZSB0byB0aGUgcmVmZXJlbmNlXG4gKiBAcGFyYW0gICB5ICAgICAgIFRoZSB5IG9mZnNldCB0byBnaXZlIHRoaXMgZWxlbWVudCwgcmVsYXRpdmUgdG8gdGhlIHJlZmVyZW5jZVxuICogQHBhcmFtICAgbm9fbW92ZSBJZiBzZXQgdG8gZmFsc2UsIG9ubHkgcmV0dXJucyB0aGUgb2Zmc2V0X3ggYW5kIG9mZnNldF95IHRoYXRcbiAqICAgICAgICAgICAgICAgICAgdGhlIGVsZW1lbnQgd291bGQgaGF2ZSB0byBiZSBtb3ZlZCB7b3B0aW9uYWx9XG4gKlxuICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGtleXMgeCBhbmQgeSwgc2V0IHRvIHRoZSBvZmZzZXQgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAqXG4gKi9cbmZ1bmN0aW9uIG1vdmVSZWxUb0VsZW0oZWxlbSwgcmVmLCB4LCB5LCBub19tb3ZlKSB7XG4gICAgbGV0IG9mZnNldF9tZTtcbiAgICBsZXQgb2Zmc2V0X3RoZW07XG4gICAgbGV0IGR4O1xuICAgIGxldCBkeTtcbiAgICAvLyBGaW5kIHRoZSBvZmZzZXRzIGdsb2JhbGx5IGZvciBlYWNoIGVsZW1lbnRcbiAgICBvZmZzZXRfbWUgPSBnbG9iYWxPZmZzZXRzKGVsZW0pO1xuICAgIG9mZnNldF90aGVtID0gZ2xvYmFsT2Zmc2V0cyhlbGVtKTtcbiAgICAvLyBGaW5kIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlaXIgZ2xvYmFsIG9mZnNldHNcbiAgICBkeCA9IChvZmZzZXRfdGhlbS5sZWZ0ICsgeCkgLSBvZmZzZXRfbWUubGVmdDtcbiAgICBkeSA9IChvZmZzZXRfdGhlbS50b3AgKyB5KSAtIG9mZnNldF9tZS50b3A7XG4gICAgLy8gQWRqdXN0IHRoZSBlbGVtZW50IHRvIHRoZSBwb3NpdGlvbiBzcGVjaWZpZWRcbiAgICBpZiAoIW5vX21vdmUpIHtcbiAgICAgICAgZWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgZWxlbS5zdHlsZS5sZWZ0ID0gZHggKyBcInB4XCI7XG4gICAgICAgIGVsZW0uc3R5bGUudG9wID0gZHkgKyBcInB4XCI7XG4gICAgfVxuICAgIC8vIEFsd2F5cyByZXR1cm4gdGhlIG9mZnNldCB3ZSBhc3NpZ25lZCB0aGlzIGVsZW1lbnQuXG4gICAgcmV0dXJuIHsgeDogZHgsIHk6IGR5IH07XG59XG5leHBvcnRzLm1vdmVSZWxUb0VsZW0gPSBtb3ZlUmVsVG9FbGVtO1xuO1xuZnVuY3Rpb24gaXNJbkRPTShlbGVtKSB7XG4gICAgbGV0IHBhcmVudE5vZGUgPSBlbGVtLnBhcmVudE5vZGU7XG4gICAgd2hpbGUgKHBhcmVudE5vZGUpIHtcbiAgICAgICAgaWYgKHBhcmVudE5vZGUgPT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuaXNJbkRPTSA9IGlzSW5ET007XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29sbGVjdGlvblR5cGVFbnVtXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBLZWVwcyB0cmFjayBvZiB0aGUgZGlmZmVyZW50IHdheXMgd2UgY2FuIGFkZCB0byBhIGNvbGxlY3Rpb25cbiAqL1xudmFyIENvbGxlY3Rpb25UeXBlRW51bTtcbihmdW5jdGlvbiAoQ29sbGVjdGlvblR5cGVFbnVtKSB7XG4gICAgQ29sbGVjdGlvblR5cGVFbnVtW0NvbGxlY3Rpb25UeXBlRW51bVtcIlJlcGxhY2VEdXBsaWNhdGVLZXlzXCJdID0gMV0gPSBcIlJlcGxhY2VEdXBsaWNhdGVLZXlzXCI7XG4gICAgQ29sbGVjdGlvblR5cGVFbnVtW0NvbGxlY3Rpb25UeXBlRW51bVtcIklnbm9yZUR1cGxpY2F0ZUtleXNcIl0gPSAyXSA9IFwiSWdub3JlRHVwbGljYXRlS2V5c1wiO1xufSkoQ29sbGVjdGlvblR5cGVFbnVtID0gZXhwb3J0cy5Db2xsZWN0aW9uVHlwZUVudW0gfHwgKGV4cG9ydHMuQ29sbGVjdGlvblR5cGVFbnVtID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBpc1N0cmluZ1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ2hlY2sgaWYgdGhlIGVsZW1lbnQgaXMgYSBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodGVzdCkge1xuICAgIHJldHVybiAodHlwZW9mIHRlc3QgPT09IFwic3RyaW5nXCIpO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuLyoqXG4gKiBpc051bWJlclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY2hlY2sgaWYgdGhlIGVsZW1lbnQgaXMgYSBudW1iZXJcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodGVzdCkge1xuICAgIHJldHVybiAodHlwZW9mIHRlc3QgPT09IFwibnVtYmVyXCIpO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuLyoqIGlzQm9vbGVhblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY2hlY2sgaWYgdGhlIGVsZW1lbnQgaXMgYSBib29sZWFuXG4gKi9cbmZ1bmN0aW9uIGlzQm9vbGVhbih0ZXN0KSB7XG4gICAgcmV0dXJuICh0eXBlb2YgdGVzdCA9PT0gXCJib29sZWFuXCIpO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG4vKipcbiAqIGlzRnVuY3Rpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNoZWNrIGlmIHRoZSBlbGVtZW50IGlzIGEgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih0ZXN0KSB7XG4gICAgcmV0dXJuICh0eXBlb2YgdGVzdCA9PT0gXCJmdW5jdGlvblwiKTtcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4vKipcbiAgKiBpc0FycmF5XG4gICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAqIENoZWNrIGlmIHNvbWUgZGF0YSBpcyBhbiBhcnJheVxuICAqIEBwYXJhbSAgIHRlc3QgIFRoZSBkYXRhIHRvIGNoZWNrXG4gICogQHJldHVybnMgVHJ1ZSAod2l0aCB0eXBlIHNhZmV0eSkgaWYgdGhlIGRhdGEgaXMgYW4gYXJyYXlcbiAgKi9cbmZ1bmN0aW9uIGlzQXJyYXkodGVzdCkge1xuICAgIHJldHVybiAodGVzdCBpbnN0YW5jZW9mIEFycmF5KTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG4vKipcbiAgKiBpc09iamVjdFxuICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgKiBDaGVja3MgaWYgc29tZSBkYXRhIGlzIGEgY29tcGxleCBvYmplY3RcbiAgKiBAcGFyYW0gICB0ZXN0ICBUaGUgZGF0YSB0byBjaGVja1xuICAqIEByZXR1cm5zIFRydWUgKHdpdGggdHlwZSBzYWZldHkpIGlmIHRoZSBkYXRhIGlzIGFuIG9iamVjdFxuICAqXG4gICovXG5mdW5jdGlvbiBpc09iamVjdCh0ZXN0KSB7XG4gICAgcmV0dXJuICh0eXBlb2YgdGVzdCA9PT0gdHlwZW9mIHt9KTtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL2Nzc1wiKTtcbmNvbnN0IGh0bWxHdWFyZF8xID0gcmVxdWlyZShcIi4uL3R5cGVHdWFyZHMvaHRtbEd1YXJkXCIpO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG4vKipcbiAqIHJlbW92ZVN1YmNsYXNzRnJvbUFsbEVsZW5lbnRzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBbGxvd3MgeW91IHRvIGVhc2lseSByZW1vdmUgYSBzdWJjbGFzcyBmcm9tIGFsbCBlbGVtZW50cyB0aGF0IGhhdmUgYSBjZXJ0YWluXG4gKiBtYWluIGNsYXNzLiBVc2VmdWwgZm9yIHRoaW5ncyBsaWtlIGJ1dHRvbiBzZWxlY3Rpb25cbiAqXG4gKiBAcGFyYW0gICBjbHMgICAgICAgVGhlIG1haW4gY2xhc3MgdG8gZmluZCBhbGwgZWxlbWVudHMgb2ZcbiAqIEBwYXJhbSAgIHN1YmNscyAgICBUaGUgc3ViIGNsYXNzIHRvIHJlbW92ZSBmcm9tIGFsbCBvZiB0aG9zZSBlbGVtZW50c1xuICogQHBhcmFtICAgZXhjZXB0aW9uIElmIG5lZWRlZCwgYSBzaW5nbGUgZWxlbWVudCB0aGF0IHNob3VsZFxuICogICAgICAgICAgICAgICAgICAgIG5vdCBoYXZlIGl0cyBzdWJjbGFzcyByZW1vdmVkLlxuICpcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlU3ViY2xhc3NGcm9tQWxsRWxlbWVudHMoY2xzLCBzdWJjbHMsIGV4Y2VwdGlvbikge1xuICAgIGxldCBlbGVtcztcbiAgICBsZXQgZTtcbiAgICBsZXQgZWxlbTtcbiAgICBlbGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xzKTtcbiAgICBmb3IgKGUgPSAwOyBlIDwgZWxlbXMubGVuZ3RoOyBlICs9IDEpIHtcbiAgICAgICAgZWxlbSA9IGVsZW1zW2VdO1xuICAgICAgICAvLyBPbmx5IHJlbW92ZSBpdCBpZiBpdCBpc24ndCB0aGUgZXhjZXB0aW9uXG4gICAgICAgIGlmIChlbGVtICE9PSBleGNlcHRpb24pIHtcbiAgICAgICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKGVsZW0sIHN1YmNscyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLnJlbW92ZVN1YmNsYXNzRnJvbUFsbEVsZW1lbnRzID0gcmVtb3ZlU3ViY2xhc3NGcm9tQWxsRWxlbWVudHM7XG47XG4vKipcbiAqIGFkZFJlc2l6aW5nRWxlbWVudCAoVU5JTVBMRU1FTlRFRClcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEFkZHMgYW4gZWxlbWVudCB0byB0aGUgZG9jdW1lbnQgdGhhdCBzaG91bGQgcmVzaXplIHdpdGggdGhlIGRvY3VtZW50XG4gKlxuICogQHBhcmFtICAgZWxlbSAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCBzaG91bGQgcmVzaXplXG4gKiBAcGFyYW0gICBmaXhlZFJhdGlvICBJZiBwcm92aWRlZCwga2VlcHMgdGhlIGltYWdlIGF0IHRoaXMgZml4ZWQgcmF0aW8gb2YgdzpoIGF0IGFsbCBkb2N1bWVudCBzaXplc1xuICogQHBhcmFtICAgZm9yY2VJbml0VyAgT3B0aW9uYWxseSBmb3JjZSB0aGUgaW5pdGlhbCB3aWR0aCB0byBhIGNlcnRhaW4gdmFsdWVcbiAqIEBwYXJhbSAgIGZvcmNlSW5pdEggIE9wdGlvbmFsbHkgZm9yY2UgdGhlIGluaXRpYWwgaGVpZ2h0IHRvIGEgY2VydGFpbiB2YWx1ZVxuICpcbiAqL1xuZnVuY3Rpb24gYWRkUmVzaXppbmdFbGVtZW50KGVsZW0sIGZpeGVkUmF0aW8sIGZvcmNlSW5pdFcsIGZvcmNlSW5pdEgpIHtcbiAgICAvLyBUT0RPOiBpbXBsZW1lbnRcbn1cbjtcbi8qKlxuICogcmVzaXplRWxlbWVudCAoVU5JTVBMRU1FTlRFRClcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFJlc2l6ZXMgYW4gZWxlbWVudCB0byBiZSB0aGUgc2FtZSByYXRpbyBhcyBpdCBwcmV2aW91c2x5IHdhc1xuICogQHBhcmFtICAgb2JqICAgVGhlIGVsZW1lbnQgdG8gcmVzaXplXG4gKlxuICovXG5mdW5jdGlvbiByZXNpemVFbGVtZW50KG9iaikge1xuICAgIC8vIFRPRE86IGltcGxlbWVudFxufVxuO1xuLyoqXG4qIGlzQ2hpbGRFdmVudFRhcmdldFxuKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qIENoZWNrcyBpZiBhIGNoaWxkIG9mIHRoZSBjdXJyZW50IHRhc2sgaXMgYmVpbmcgdGFyZ2V0ZWQgYnkgdGhlIGV2ZW50XG4qXG4qIEBwYXJhbSAgIGV2ICAgIFRoZSBldmVudCB0aGF0IGlzIGJlaW5nIHRyaWdnZXJlZFxuKiBAcGFyYW0gICByb290ICBUaGUgcGFyZW50IHRvIGNoZWNrIGZvclxuKlxuKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBldmVudCBpcyBiZWluZyB0cmlnZ2VyZWQgb24gYSBjaGlsZCBlbGVtZW50IG9mIHRoZVxuKiAgICAgICAgICByb290IGVsZW1lbnQsIGZhbHNlIG90aGVyd2lzZVxuKlxuKi9cbmZ1bmN0aW9uIGlzQ2hpbGRFdmVudFRhcmdldChldiwgcm9vdCkge1xuICAgIDtcbiAgICByZXR1cm4gaXNDaGlsZChyb290LCBldi50YXJnZXQpO1xufVxuZXhwb3J0cy5pc0NoaWxkRXZlbnRUYXJnZXQgPSBpc0NoaWxkRXZlbnRUYXJnZXQ7XG47XG4vKipcbiAqIGlzQ2hpbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENoZWNrcyBpZiBhbiBlbGVtZW50IGlzIGEgY2hpbGQgb2YgdGhlIHByb3ZpZGVkIHBhcmVudCBlbGVtZW50XG4gKlxuICogQHBhcmFtICAgcm9vdCAgICBUaGUgcGFyZW50IHRvIGNoZWNrIGZvclxuICogQHBhcmFtICAgY2hpbGQgICBUaGUgZWxlbWVudCB0byBjaGVjayBmb3IgYmVpbmcgYSBjaGlsZCBvZiB0aGUgcm9vdCBub2RlXG4gKiBAcGFyYW0gICBsZXZlbHMgIFRoZSBtYXhpbXVtIG51bWJlciBvZiBsYXllcnMgdGhhdCB0aGUgY2hpbGQgY2FuIGJlXG4gKiAgICAgICAgICAgICAgICAgIHNlcGFyYXRlZCBmcm9tIGl0cyBwYXJlbnQuIElnbm9yZWQgaWYgbm90IHNldC5cbiAqXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBjaGlsZCBoYXMgdGhlIHJvb3QgYXMgYSBwYXJlbnRcbiAqXG4gKi9cbmZ1bmN0aW9uIGlzQ2hpbGQocm9vdCwgY2hpbGQpIHtcbiAgICA7XG4gICAgbGV0IHBhcmVudDtcbiAgICBwYXJlbnQgPSBjaGlsZDtcbiAgICAvLyBMb29wIHRocm91Z2ggdGlsIHdlIGVpdGhlciBoYXZlIGEgbWF0Y2ggb3IgcmFuIG91dCBvZiBwYXJlbnRzXG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICBpZiAocGFyZW50ID09PSByb290KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmlzQ2hpbGQgPSBpc0NoaWxkO1xuO1xuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBBREQgT1IgUkVNT1ZFIEFMTCBDSElMRFJFTlxuLyoqXG4gKiBhcHBlbmRDaGlsZHJlblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQXBwZW5kcyBhbiBhcmJpdHJhcnkgbnVtYmVyIG9mIGNoaWxkcmVuIHRvIHRoZSBzcGVjaWZpZWQgcGFyZW50IG5vZGUuIExvb3BzXG4gKiB0aHJvdWdoIGFsbCBtZW1iZXJzIG9mIHRoZSBhcmd1bWVudCBsaXN0IHRvIGdldCB0aGUgYXBwcm9wcmlhdGUgY2hpbGRyZW5cbiAqIHRvIGFkZC5cbiAqXG4gKiBAcGFyYW0gICBwYXJlbnQgIFRoZSBwYXJlbnQgZWxlbWVudCB0byBhZGQgY2hpbGRyZW4gdG9cbiAqIEBwYXJhbSAgIGtpZHMgICAgQW55IGNoaWxkcmVuIHRoYXQgc2hvdWxkIGJlIGFwcGVuZGVkXG4gKi9cbmZ1bmN0aW9uIGFwcGVuZENoaWxkcmVuKHBhcmVudCwgLi4ua2lkcykge1xuICAgIDtcbiAgICBsZXQgaWR4O1xuICAgIGZvciAoaWR4ID0gMDsgaWR4IDwga2lkcy5sZW5ndGg7IGlkeCArPSAxKSB7XG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChraWRzW2lkeF0pO1xuICAgIH1cbn1cbmV4cG9ydHMuYXBwZW5kQ2hpbGRyZW4gPSBhcHBlbmRDaGlsZHJlbjtcbi8qKlxuICogY2xlYXJDaGlsZHJlblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogcmVtb3ZlIGFsbCBjaGlsZHJlbiBmcm9tIHRoZSBzcGVjaWZpZWQgcGFyZW50IGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY2xlYXJDaGlsZHJlbihwYXJlbnQpIHtcbiAgICBmb3IgKGxldCBpZHggPSBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaWR4ID49IDA7IGlkeCAtPSAxKSB7XG4gICAgICAgIGxldCBjaGlsZCA9IHBhcmVudC5jaGlsZHJlbltpZHhdO1xuICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH1cbn1cbmV4cG9ydHMuY2xlYXJDaGlsZHJlbiA9IGNsZWFyQ2hpbGRyZW47XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vKipcbiAqIG1vdmVFbGVtUmVsYXRpdmVQb3NpdGlvblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogTW92ZXMgYW4gZWxlbWVudCBhIHJlbGF0aXZlIGFub3VudFxuICpcbiAqIEBwYXJhbSAgIGVsZW0gICAgICBUaGUgZWxlbWVudCB0byBtb3ZlXG4gKiBAcGFyYW0gICBkaXN0YW5jZSAgVGhlIHJlbGF0aXZlIGRpc3RhbmNlIHRvIG1vdmVcbiAqXG4gKi9cbmZ1bmN0aW9uIG1vdmVFbGVtUmVsYXRpdmVQb3NpdGlvbihlbGVtLCBkaXN0YW5jZSkge1xuICAgIGxldCB0b3AgPSBwYXJzZUludChlbGVtLnN0eWxlLnRvcCkgfHwgMDtcbiAgICBsZXQgbGVmdCA9IHBhcnNlSW50KGVsZW0uc3R5bGUubGVmdCkgfHwgMDtcbiAgICBlbGVtLnN0eWxlLnRvcCA9ICh0b3AgKyBkaXN0YW5jZS55KSArIFwicHhcIjtcbiAgICBlbGVtLnN0eWxlLmxlZnQgPSAobGVmdCArIGRpc3RhbmNlLngpICsgXCJweFwiO1xufVxuZXhwb3J0cy5tb3ZlRWxlbVJlbGF0aXZlUG9zaXRpb24gPSBtb3ZlRWxlbVJlbGF0aXZlUG9zaXRpb247XG4vKipcbiAqIHJlc2V0UGFnZUZvY3VzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBSZXNldCB3aGVyZSBjdXJyZW50IGZvY3VzIGlzIHRvIHRoZSB0b3Agb2YgdGhlIHBhZ2VcbiAqXG4gKi9cbmZ1bmN0aW9uIHJlc2V0UGFnZUZvY3VzKCkge1xuICAgIGxldCBvbGRUYWJJbmRleCA9IC0xO1xuICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChkb2N1bWVudC5ib2R5LnRhYkluZGV4KSkge1xuICAgICAgICBvbGRUYWJJbmRleCA9IGRvY3VtZW50LmJvZHkudGFiSW5kZXg7XG4gICAgfVxuICAgIGRvY3VtZW50LmJvZHkudGFiSW5kZXggPSAwO1xuICAgIGRvY3VtZW50LmJvZHkuZm9jdXMoKTtcbiAgICBkb2N1bWVudC5ib2R5LnRhYkluZGV4ID0gb2xkVGFiSW5kZXg7XG59XG5leHBvcnRzLnJlc2V0UGFnZUZvY3VzID0gcmVzZXRQYWdlRm9jdXM7XG4vKipcbiAqIHJlbW92ZUVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFJlbW92ZSBhbiBlbGVtZW50IGZyb20gdGhlIERPTVxuICogQHBhcmFtICAgZWxlbSAgICBUaGUgZWxlbWVudCB0byByZW1vdmVcbiAqXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZWxlbSkge1xuICAgIGlmICghZWxlbS5wYXJlbnROb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW0pO1xufVxuZXhwb3J0cy5yZW1vdmVFbGVtZW50ID0gcmVtb3ZlRWxlbWVudDtcbi8qKlxuICogc2VsZWN0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTZWxlY3RzIHRoZSBjb250ZW50cyBvZiBhbiBIVE1MIGVsZW1lbnQsIHdoZXRoZXIgYW4gaW5wdXQgb3IgYVxuICogY29udGVudC1lZGl0YWJsZSBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSAgIGh0bWxFbGVtICAgIFRoZSBlbGVtZW50IHRvIHNlbGVjdCB0aGUgY29udGVudHMgb2ZcbiAqXG4gKi9cbmZ1bmN0aW9uIHNlbGVjdChodG1sRWxlbSkge1xuICAgIC8vIGVsZW1lbnRzIHRoYXQgaGF2ZSBzZWxlY3QgYnVpbHQgaW4gYXJlIGVhc3k6IGp1c3QgdXNlIHRoZWlyIGZ1bmN0aW9uXG4gICAgaWYgKGh0bWxHdWFyZF8xLmlzU2VsZWN0YWJsZShodG1sRWxlbSkpIHtcbiAgICAgICAgaHRtbEVsZW0uc2VsZWN0KCk7XG4gICAgICAgIC8vIGNvbnRlLWVkaXRhYmxlIGFyZWFzIGFyZSB0cmlja2llcjsgdXNlIHNvbWUgcmFuZ2UgbG9naWMgXG4gICAgICAgIC8vICh0YWtlbiBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzYxMzkxMDcvcHJvZ3JhbW1hdGljYWxseS1zZWxlY3QtdGV4dC1pbi1hLWNvbnRlbnRlZGl0YWJsZS1odG1sLWVsZW1lbnQpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBnZXQgdGhlIHJhbmdlIG9mIHRoZSBlbGVtZW50XG4gICAgICAgIGxldCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhodG1sRWxlbSk7XG4gICAgICAgIC8vIHNldCB0aGUgd2luZG93IHNlbGVjdGlvbiB0byBiZSB0aGUgcmFuZ2UgZm9yIHRoZSBlbGVtZW50XG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICB9XG59XG5leHBvcnRzLnNlbGVjdCA9IHNlbGVjdDtcbmV4cG9ydHMuSFRNTF9UQUIgPSBcIiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwO1wiO1xuLyoqXG4gKiBlbmNvZGVGb3JIVE1MXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBFbmNvZGUgYSBzdHJpbmcgc28gdGhhdCBpdCBjYW4gcmVuZGVyIGFwcHJvcHJpYXRlbHkgaW4gSFRNTCBjb250ZXh0c1xuICogQHBhcmFtICAgZGF0YSAgICBUaGUgZGF0YSB0byBlbmNvZGVcbiAqIEByZXR1cm5zIFRoZSBlbmNvZGVkIGRhdGFcbiAqXG4gKi9cbmZ1bmN0aW9uIGVuY29kZUZvckhUTUwoZGF0YSkge1xuICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoLyYvZywgXCImYW1wO1wiKTtcbiAgICBkYXRhID0gZGF0YS5yZXBsYWNlKC88L2csIFwiJmx0O1wiKTtcbiAgICBkYXRhID0gZGF0YS5yZXBsYWNlKC8+L2csIFwiJmd0O1wiKTtcbiAgICAvLyB3aGl0ZXNwYWNlXG4gICAgZGF0YSA9IGRhdGEucmVwbGFjZSgvXFxcXG4vZywgXCI8YnI+XCIpO1xuICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoL1xcXFx0L2csIGV4cG9ydHMuSFRNTF9UQUIpO1xuICAgIHJldHVybiBkYXRhO1xufVxuZXhwb3J0cy5lbmNvZGVGb3JIVE1MID0gZW5jb2RlRm9ySFRNTDtcbi8qKlxuICogZGVjb2RlRnJvbUhUTUxcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEZyb20gYW4gSFRNTC1yZW5kZXJhYmxlIHN0cmluZywgY29udmVydCBiYWNrIHRvIHN0YW5kYXJkIHN0cmluZ3NcbiAqIEBwYXJhbSAgIGRhdGEgICAgVGhlIHN0cmluZyB0byB1bmVuY29kZVxuICogQHJldHVybnMgVGhlIGRlY29kZWQgZGF0YVxuICovXG5mdW5jdGlvbiBkZWNvZGVGcm9tSFRNTChkYXRhKSB7XG4gICAgZGF0YSA9IGRhdGEucmVwbGFjZSgvJmFtcDsvZywgXCImXCIpO1xuICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoLyZsdDsvZywgXCI8XCIpO1xuICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoLyZndDsvZywgXCI+XCIpO1xuICAgIC8vIHNvbWUgdW5jb21tb24gYnV0IHBvc3NpYmxlIGNvbnRyb2wgY2hhcmFjdGVyc1xuICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoLyZxdW90Oy9nLCBcIlxcXCJcIik7XG4gICAgZGF0YSA9IGRhdGEucmVwbGFjZSgvJmFwb3M7L2csIFwiJ1wiKTtcbiAgICAvLyB3aGl0ZXNwYWNlIHJlcGxhY2VtZW50c1xuICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoLzxicj4vZywgXCJcXG5cIik7XG4gICAgZGF0YSA9IGRhdGEucmVwbGFjZShuZXcgUmVnRXhwKGV4cG9ydHMuSFRNTF9UQUIsIFwiZ1wiKSwgXCJcXHRcIik7XG4gICAgZGF0YSA9IGRhdGEucmVwbGFjZSgvJm5ic3A7L2csIFwiIFwiKTtcbiAgICByZXR1cm4gZGF0YTtcbn1cbmV4cG9ydHMuZGVjb2RlRnJvbUhUTUwgPSBkZWNvZGVGcm9tSFRNTDtcbi8qKlxuICogcmVwbGFjZUVsZW1XaXRoRWxlbVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogcmVwbGFjZSBhIHBhcnRpY3VsYXIgZWxlbWVudCB3aXRoIGFub3RoZXIgaW4gdGhlIERPTVxuICpcbiAqIEBwYXJhbSAgIGVsZW1Ub1JlcGxhY2UgICBUaGUgZWxlbWVudCB0byByZW1vdmVcbiAqIEBwYXJhbSAgIHJlcGxhY2VtZW50ICAgICBUaGUgZWxlbWVudCB0byByZXBsYWNlIHdpdGhcbiAqL1xuZnVuY3Rpb24gcmVwbGFjZUVsZW1XaXRoRWxlbShlbGVtVG9SZXBsYWNlLCByZXBsYWNlbWVudCkge1xuICAgIGlmICghZWxlbVRvUmVwbGFjZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZ3JhYiB0aGUgY3VycmVudCByZWZlcmVuY2VzIHRoYXQgd2UnbGwgbmVlZCB0byBwcm9wZXJseSByZXBsYWNlXG4gICAgbGV0IG5leHRDaGlsZCA9IGVsZW1Ub1JlcGxhY2UubmV4dFNpYmxpbmc7XG4gICAgbGV0IHBhcmVudCA9IGVsZW1Ub1JlcGxhY2UucGFyZW50Tm9kZTtcbiAgICAvLyByZW1vdmUgdGhlIGN1cnJlbnQgZWxlbWVudCBhbmQgYWRkIG91ciBuZXcgb25lXG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1Ub1JlcGxhY2UpO1xuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUocmVwbGFjZW1lbnQsIG5leHRDaGlsZCk7XG59XG5leHBvcnRzLnJlcGxhY2VFbGVtV2l0aEVsZW0gPSByZXBsYWNlRWxlbVdpdGhFbGVtO1xuLyoqXG4gKiBpc1Zpc2libGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGRldGVybWluZSBpZiBhIHBhcnRpY3VsYXIgZWxlbWVudCBpcyB2aXNpYmxlIHRvIHRoZSBlbmQgdXNlclxuICogQHBhcmFtICAgZWxlbSAgICBUaGUgZWxlbWVudCB0byBjaGVja1xuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZWxlbWVudCBpcyB2aXNpYmxlOyBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZnVuY3Rpb24gaXNWaXNpYmxlKGVsZW0pIHtcbiAgICBpZiAoZWxlbS5vZmZzZXRXaWR0aCAhPT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGVsZW0ub2Zmc2V0SGVpZ2h0ICE9PSAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmlzVmlzaWJsZSA9IGlzVmlzaWJsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uLy4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG5jb25zdCBjc3NfMSA9IHJlcXVpcmUoXCIuLi8uLi9zdHlsZUhlbHBlcnMvY3NzXCIpO1xuY29uc3QgdHJhbnNpdGlvbl8xID0gcmVxdWlyZShcIi4uLy4uL3N0eWxlSGVscGVycy90cmFuc2l0aW9uXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIENvbGxhcHNpYmxlRmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhIGNvbGxhcHNpYmxlIGVsZW1lbnQgb2YgdGhlIGZvcm1cbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjFcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQ29sbGFwc2libGVGaWVsZCBleHRlbmRzIF9maWVsZF8xLkZpZWxkIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBFTEVNRU5UU1xuICAgIF9wYXJzZUZpZWxkVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgc3VwZXIuX3BhcnNlRmllbGRUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICAgIHRoaXMuX2lzQ29sbGFwc2VkID0gKCF0ZW1wbGF0ZS5pc0V4cGFuZGVkICYmICF0ZW1wbGF0ZS5oaWRlVGl0bGUgJiYgIXRlbXBsYXRlLnVuY29sbGFwc2libGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlQ29sbGFwc2libGVUaXRsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIHRpdGxlIGZvciBhIGNvbGxhcHNpYmxlIHNlY3Rpb24gJiBhc3NvY2lhdGVkIGljb25zXG4gICAgICovXG4gICAgX2NyZWF0ZUNvbGxhcHNpYmxlVGl0bGUoKSB7XG4gICAgICAgIGxldCB0aXRsZUNscyA9IFwic2VjdGlvbkhlYWRlckNvbnRhaW5lclwiO1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmhpZGVUaXRsZSkge1xuICAgICAgICAgICAgdGl0bGVDbHMgKz0gXCIgaGlkZGVuXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWxlbXMudGl0bGVDb250YWluZXIgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IHRpdGxlQ2xzLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlLFxuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lcnM6IHtcbiAgICAgICAgICAgICAgICBjbGljazogKCkgPT4geyB0aGlzLl9vbkNhcmV0Q2xpY2tlZCgpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy50aXRsZSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwic2VjdGlvbkhlYWRlclwiLCB0aGlzLl9jb25maWcubGFiZWwsIG51bGwsIG51bGwsIHRoaXMuX2VsZW1zLnRpdGxlQ29udGFpbmVyKTtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy51bmNvbGxhcHNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWxlbXMuY29sbGFwc2VFbGVtID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJjYXJldFwiLCBcIlxcdTI1QjVcIiwgbnVsbCwgbnVsbCwgdGhpcy5fZWxlbXMudGl0bGVDb250YWluZXIpO1xuICAgICAgICAvLyBhZGQgYSB0cmFja2luZyBjbGFzcyB0byB0aGUgY29yZSBlbGVtZW50XG4gICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiY29sbGFwc2libGVcIik7XG4gICAgICAgIC8vIHN0YXJ0IGNvbGxhcHNlZFxuICAgICAgICBpZiAodGhpcy5faXNDb2xsYXBzZWQpIHtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiY29sbGFwc2VkXCIpO1xuICAgICAgICAgICAgdGhpcy5faXNDb2xsYXBzZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBFWFBBTkQgKyBDT0xMQVBTRVxuICAgIC8qKlxuICAgICAqIF9vbkNhcmV0Q2xpY2tlZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgdGhlIGV4cGFuZC9jb2xsYXBzZSBpY29uIGJlaW5nIGNsaWNrZWRcbiAgICAgKi9cbiAgICBfb25DYXJldENsaWNrZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcudW5jb2xsYXBzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pc0NvbGxhcHNlZCkge1xuICAgICAgICAgICAgdGhpcy5leHBhbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29sbGFwc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBjb2xsYXBzZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgY29sbGFwc2luZyB0aGUgc2VjdGlvblxuICAgICAqL1xuICAgIGNvbGxhcHNlKCkge1xuICAgICAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faXNDb2xsYXBzZWQgPSB0cnVlO1xuICAgICAgICB0cmFuc2l0aW9uXzEudHJhbnNpdGlvbih0aGlzLl9lbGVtcy5jaGlsZHJlbkNvbnRhaW5lciwgeyBoZWlnaHQ6IFwiPGhlaWdodD5cIiwgb3ZlcmZsb3c6IFwiaGlkZGVuXCIgfSwgeyBoZWlnaHQ6IFwiMFwiLCBvdmVyZmxvdzogXCJoaWRkZW5cIiB9LCA1MDApLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJjb2xsYXBzZWRcIik7XG4gICAgICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGV4cGFuZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgZXhwYW5kaW5nIHRoZSBzZWN0aW9uXG4gICAgICovXG4gICAgZXhwYW5kKCkge1xuICAgICAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faXNDb2xsYXBzZWQgPSBmYWxzZTtcbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJjb2xsYXBzZWRcIik7XG4gICAgICAgIHRyYW5zaXRpb25fMS50cmFuc2l0aW9uKHRoaXMuX2VsZW1zLmNoaWxkcmVuQ29udGFpbmVyLCB7IGhlaWdodDogXCIwXCIsIG92ZXJmbG93OiBcImhpZGRlblwiIH0sIHsgaGVpZ2h0OiBcIjxoZWlnaHQ+XCIgfSwgNTAwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkNvbGxhcHNpYmxlRmllbGQgPSBDb2xsYXBzaWJsZUZpZWxkO1xuLyoqIHN0eWxlIGNvbGxhcHNpYmxlIHNlY3Rpb25zICovXG5Db2xsYXBzaWJsZUZpZWxkLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIua2lwRm9ybUVsZW0uY29sbGFwc2libGUgLmZvcm1DaGlsZHJlblwiOiB7fSxcbiAgICBcIi5raXBGb3JtRWxlbS5jb2xsYXBzaWJsZS5jb2xsYXBzZWQgLmZvcm1DaGlsZHJlblwiOiB7XG4gICAgICAgIGhlaWdodDogXCIwXCIsXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5jb2xsYXBzaWJsZSAuc2VjdGlvbkhlYWRlckNvbnRhaW5lclwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMTBweCAxMHB4XCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIHdpZHRoOiBcImNhbGMoMTAwJSArIDIwcHgpXCIsXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiLTEwcHhcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjMwcHhcIixcbiAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICBcIiYuaGlkZGVuXCI6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5jb2xsYXBzaWJsZSAuY2FyZXRcIjoge1xuICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IFwiNTAlIDUwJVwiLFxuICAgICAgICB3aWR0aDogXCIuOGVtXCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCBlYXNlLWluLW91dCAuMXNcIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgY29sb3I6IFwiPGZvcm1TdWJUaGVtZT5cIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0uY29sbGFwc2libGUuY29sbGFwc2VkIC5jYXJldFwiOiB7XG4gICAgICAgIHRyYW5zZm9ybTogXCJyb3RhdGUoMTgwZGVnKVwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5jb2xsYXBzaWJsZSAuc2VjdGlvbkhlYWRlckNvbnRhaW5lcjpob3ZlclwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDAsMCwwLC4wNSlcIlxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9fdHlwZWd1YXJkc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb250YWlubWVudFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kcmF3Q29ubmVjdGlvblwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9tYXRoc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9vdmVybGFwXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3JlY3RDb252ZXJzaW9uXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3RyaWdcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBmaWxlIEZ1bmN0aW9ucyB0aGF0IGFsbG93IGZvciBlYXNpZXIgY3JlYXRpb24gb2YgU1ZHIGVsZW1lbnRzXG4gKiBAYXV0aG9yIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wXG4gKiBAc2luY2UgMS4xXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhbiBTVkcgcGFyZW50IHRoYXQgY2FuIGJlIGFkZGVkIHRvIGR5bmFtaWNhbGx5XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGlkICAgICAgVGhlIElEIGZvciB0aGUgU1ZHIGVsZW1lbnQgY3JlYXRlZFxuICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoICAgVGhlIHdpZHRoIGF0IHdoaWNoIHRoZSBTVkcgc2hvdWxkIGRpc3BsYXkge29wdGlvbmFsOiAwfVxuICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCAgVGhlIGhlaWdodCBhdCB3aGljaCB0aGUgU1ZHIHNob3VsZCBkaXNwbGF5IHtvcHRpb25hbDogMH1cbiAqIEBwYXJhbSB7U3RyaW5nfSB2aWV3ICAgIFRoZSB2aWV3Qm94IHBhcmFtZXRlciB0aGF0IHNob3VsZCBiZSBzZXQgZm9yIHRoZSBjcmVhdGVkIGVsZW1lbnQge29wdGlvbmFsOiBcIjAgMCAwIDBcIn1cbiAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50IFRoZSBjb250ZW50cyBvZiB0aGUgU1ZHIHRoYXQgc2hvdWxkIGRpc3BsYXllZCB7b3B0aW9uYWw6IFwiXCJ9XG4gKlxuICogQHJldHVybnMge1NWR0VsZW1lbnR9IFRoZSBTVkcgZWxlbWVudCB0aGF0IHdhcyBjcmVhdGVkXG4gKi9cbi8vZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNWRyAoaWQ6IHN0cmluZywgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlciwgdmlldz86IHN0cmluZywgY29udGVudD86IHN0cmluZywgYXNwZWN0Pzogc3RyaW5nKSA6IFNWR0VsZW1lbnQge1xuZnVuY3Rpb24gY3JlYXRlU1ZHKGRlZikge1xuICAgIHRyeSB7XG4gICAgICAgIGRlZi5uYW1lc3BhY2UgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XG4gICAgICAgIGRlZi50eXBlID0gXCJzdmdcIjtcbiAgICAgICAgaWYgKCFkZWYuYXR0cikge1xuICAgICAgICAgICAgZGVmLmF0dHIgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBkZWYuYXR0ci52ZXJzaW9uID0gXCIxLjFcIjtcbiAgICAgICAgaWYgKCFkZWYuYXR0ci53aWR0aCkge1xuICAgICAgICAgICAgZGVmLmF0dHIud2lkdGggPSBcIjBcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlZi5hdHRyLmhlaWdodCkge1xuICAgICAgICAgICAgZGVmLmF0dHIuaGVpZ2h0ID0gXCIwXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWYuYXR0ci52aWV3Ym94KSB7XG4gICAgICAgICAgICBkZWYuYXR0ci52aWV3Ym94ID0gXCIwIDAgMCAwXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWYuYXR0ci5wcmVzZXJ2ZUFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgICBkZWYuYXR0ci5wcmVzZXJ2ZUFzcGVjdFJhdGlvID0gXCJ4TWluWU1pbiBtZWV0XCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTVkdFbGVtZW50KGRlZik7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInN2ZyBjcmVhdGlvbiBmYWlsZWRcIik7XG4gICAgfVxufVxuZXhwb3J0cy5jcmVhdGVTVkcgPSBjcmVhdGVTVkc7XG47XG4vKipcbiAqIENyZWF0ZXMgYSBwaWVjZSBvZiBhbiBTVkcgZHJhd2luZ1xuICpcbiAqIEBwYXJhbSBcdHR5cGVcdFdoYXQgdHlwZSBvZiBTVkcgZWxlbWVudCB3ZSBhcmUgZHJhd2luZ1xuICogQHBhcmFtIFx0YXR0ciBcdEFuIG9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMgb2YgYXR0cmlidXRlcyB0byBzZXQgZm9yIHRoaXMgZWxlbWVudFxuICpcbiAqIEByZXR1cm5zIFRoZSBlbGVtZW50IHRvIGJlIGFkZGVkIHRvIHRoZSBTVkcgZHJhd2luZ1xuICovXG5mdW5jdGlvbiBjcmVhdGVTVkdFbGVtKGRlZikge1xuICAgIHRyeSB7XG4gICAgICAgIGRlZi5uYW1lc3BhY2UgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50XzEuY3JlYXRlU1ZHRWxlbWVudChkZWYpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIGNyZWF0aW5nIFNWRyBlbGVtZW50XCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5leHBvcnRzLmNyZWF0ZVNWR0VsZW0gPSBjcmVhdGVTVkdFbGVtO1xuO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBiaW5kZXJfMSA9IHJlcXVpcmUoXCIuL2JpbmRlclwiKTtcbi8qKlxuICogYmluZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBUaWVzIGEgcGFydGljdWxhciBwaWVjZSBvZiBkYXRhIHRvIGFuIHVwZGF0ZSBmdW5jdGlvbiwgc28gdGhhdCBpZiB0aGVcbiAqIHZhbHVlIGNoYW5nZXMsIHRoZSB1cGRhdGUgZnVuY3Rpb24gY2FuIGJlIGV4ZWN1dGVkXG4gKlxuICogQHBhcmFtIFx0ZXZhbEZ1bmMgXHRGdW5jdGlvbiB0byBncmFiIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHZhbHVlXG4gKiBAcGFyYW0gXHR1cGRhdGVGdW5jIFx0RnVuY3Rpb24gdG8gY2FsbCB1cG9uIHRoZSB2YWx1ZSBjaGFuZ2luZ1xuICpcbiAqIEByZXR1cm5zXHRUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgdmFsdWVcbiAqL1xuZnVuY3Rpb24gYmluZChldmFsRnVuYywgdXBkYXRlRnVuYywgZGVsZXRlRnVuYywgZXF1YWxzRnVuYykge1xuICAgIGxldCBpZCA9IGJpbmRlcl8xLkJpbmRlci5iaW5kKGV2YWxGdW5jLCB1cGRhdGVGdW5jLCBkZWxldGVGdW5jLCBlcXVhbHNGdW5jKTtcbiAgICBpZiAoIWlkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZXZhbEZ1bmMoKTtcbn1cbmV4cG9ydHMuYmluZCA9IGJpbmQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogY29udGFpbnNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERldGVybWluZSB3aGV0aGVyIGEgcGFydGljdWxhciBlbGVtZW50IGlzIGNvbnRhaW5lZCBpbiBhbiBhcnJheVxuICogQHBhcmFtIFx0YXJyXHRcdFRoZSBhcnJheSB0byBjaGVja1xuICogQHBhcmFtIFx0dmFsdWUgXHRUaGUgdmFsdWUgdG8gY2hlY2sgZm9yXG4gKlxuICogQHJldHVybnNcdFRydWUgaWYgdGhlIHZhbHVlIGlzIGNvbnRhaW5lZCBpbiB0aGUgYXJyYXlcbiAqL1xuZnVuY3Rpb24gY29udGFpbnMoYXJyLCB2YWx1ZSwgZXF1YWxpdHlGdW5jdGlvbikge1xuICAgIHJldHVybiAoaW5kZXhPZihhcnIsIHZhbHVlLCBlcXVhbGl0eUZ1bmN0aW9uKSAhPT0gLTEpO1xufVxuZXhwb3J0cy5jb250YWlucyA9IGNvbnRhaW5zO1xuLyoqXG4gKiBpbmRleE9mXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBGaW5kIHRoZSBpbmRleCBvZiBhIHBhcnRpY3VsYXIgdmFsdWUgaW4gdGhlIGFycmF5XG4gKiBAcGFyYW1cdGFyclx0XHRUaGUgYXJyYXkgdG8gc2VhcmNoXG4gKiBAcGFyYW1cdHZhbHVlXHRUaGUgdmFsdWUgdG8gbG9vayBmb3JcbiAqXG4gKiBAcmV0dXJuc1x0VGhlIGZpcnN0IGluZGV4IG9mIHRoZSB2YWx1ZSBpbiB0aGUgYXJyYXkgb3IgLTEgaWYgaXQgZG9lc24ndCBleGlzdFxuICovXG5mdW5jdGlvbiBpbmRleE9mKGFyciwgdmFsdWUsIGVxdWFsaXR5RnVuY3Rpb24pIHtcbiAgICBpZiAoIWFycikge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGFyci5sZW5ndGg7IGlkeCArPSAxKSB7XG4gICAgICAgIGlmIChlcXVhbGl0eUZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZXF1YWxpdHlGdW5jdGlvbihhcnJbaWR4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcnJbaWR4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBpZHg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuZXhwb3J0cy5pbmRleE9mID0gaW5kZXhPZjtcbi8qKlxuKiByZW1vdmVFbGVtRnJvbUFyclxuKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qIEZpbmRzICYgcmVtb3ZlcyBhbiBlbGVtZW50IGZyb20gdGhlIGFycmF5IGlmIGl0IGV4aXN0cy5cbiogQHBhcmFtICAgYXJyICAgICBUaGUgYXJyYXkgdG8gcmVtb3ZlIGZyb21cbiogQHBhcmFtICAgZWxlbSAgICBUaGUgZWxlbWVudCB0byByZW1vdmVcbiogQHBhcmFtICAgZXF1YWwgICBUaGUgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIHRvIHRlc3QgZm9yIGVxdWFsaXR5XG4qXG4qIEByZXR1cm5zIFRoZSB1cGRhdGVkIGFycmF5XG4qL1xuZnVuY3Rpb24gcmVtb3ZlRWxlbUZyb21BcnIoYXJyLCBlbGVtLCBlcXVhbCkge1xuICAgIGxldCBpZHg7XG4gICAgbGV0IG91dEFycjtcbiAgICAvLyBJZiB3ZSBkaWRuJ3QgZ2V0IGEgZnVuY3Rpb24gdG8gdGVzdCBmb3IgZXF1YWxpdHksIHNldCBpdCB0byB0aGUgZGVmYXVsdFxuICAgIGlmICghZXF1YWwpIHtcbiAgICAgICAgZXF1YWwgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKGEgPT09IGIpOyB9O1xuICAgIH1cbiAgICAvLyBMb29wIHRocm91Z2ggdGhlIGFycmF5IGFuZCByZW1vdmUgYWxsIGVxdWFsIGVsZW1lbnRzXG4gICAgZm9yIChpZHggPSAoYXJyLmxlbmd0aCAtIDEpOyBpZHggPj0gMDsgaWR4IC09IDEpIHtcbiAgICAgICAgaWYgKGVxdWFsKGFycltpZHhdLCBlbGVtKSkge1xuICAgICAgICAgICAgb3V0QXJyID0gYXJyLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRBcnI7XG59XG5leHBvcnRzLnJlbW92ZUVsZW1Gcm9tQXJyID0gcmVtb3ZlRWxlbUZyb21BcnI7XG47XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF90eXBlZ3VhcmRzXzEgPSByZXF1aXJlKFwiLi4vZHJhd2FibGUvX3R5cGVndWFyZHNcIik7XG4vKipcbiAqIGlzSFRNTEVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNoZWNrIGlmIHRoZSBlbGVtZW50IGlzIGFuIEhUTUwgZWxlbWVudFxuICovXG5mdW5jdGlvbiBpc0hUTUxFbGVtZW50KHRlc3QpIHtcbiAgICBpZiAoIXRlc3QpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoX3R5cGVndWFyZHNfMS5pc0RyYXdhYmxlKHRlc3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICghIXRlc3QuYXBwZW5kQ2hpbGQpO1xufVxuZXhwb3J0cy5pc0hUTUxFbGVtZW50ID0gaXNIVE1MRWxlbWVudDtcbmZ1bmN0aW9uIGlzU2VsZWN0YWJsZSh0ZXN0KSB7XG4gICAgcmV0dXJuICEhdGVzdC5zZWxlY3Q7XG59XG5leHBvcnRzLmlzU2VsZWN0YWJsZSA9IGlzU2VsZWN0YWJsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBpc0ludGVyZmFjZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogZ2VuZXJpYyBmdW5jdGlvbiB0byBjaGVjayBpZiBhIGdpdmVuIG9iamVjdCBpbXBsZW1lbnRzIGEgcGFydGljdWxhciBpbnRlcmZhY2VcbiAqL1xuZnVuY3Rpb24gaXNJbnRlcmZhY2UodGVzdCwgZnVsbF9pbXApIHtcbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIG9mIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBmdWxsIGludGVyZmFjZSBpbXBsZW1lbnRhdGlvbiAmIG1ha2Ugc3VyZSBhdCBsZWFzdCBvbmUgcmVxdWlyZWQgZWxlbSBpcyBwb3B1bGF0ZWQgaW4gdGhlIHRlc3RcbiAgICBsZXQgcHJvcDtcbiAgICBsZXQgcmVxX21hdGNoID0gdHJ1ZTtcbiAgICBsZXQgdmFsO1xuICAgIGZvciAocHJvcCBpbiBmdWxsX2ltcCkge1xuICAgICAgICBpZiAoZnVsbF9pbXAuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgIHZhbCA9IGZ1bGxfaW1wW3Byb3BdO1xuICAgICAgICAgICAgaWYgKHZhbCAmJiAodGVzdFtwcm9wXSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgICAgIHJlcV9tYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghcmVxX21hdGNoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gTm93IGxvb3AgdGhyb3VnaCBhbGwgcHJvcGVydGllcyBvbiB0aGUgdGVzdCB0byBtYWtlIHN1cmUgdGhlcmUgYXJlbid0IGV4dHJhIHByb3BzXG4gICAgbGV0IGhhc19leHRyYSA9IGZhbHNlO1xuICAgIGZvciAocHJvcCBpbiB0ZXN0KSB7XG4gICAgICAgIGlmICh0ZXN0Lmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgICAgICBpZiAoZnVsbF9pbXBbcHJvcF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGhhc19leHRyYSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICghaGFzX2V4dHJhKTtcbn1cbmV4cG9ydHMuaXNJbnRlcmZhY2UgPSBpc0ludGVyZmFjZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbWF0aHNfMSA9IHJlcXVpcmUoXCIuL21hdGhzXCIpO1xuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBDT05WRVJTSU9OU1xuLyoqXG4gKiBkZWdyZXNzVG9SYWRpYW5zXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ29udmVydHMgZGVncmVlcyB0byB0aGUgZXF1aXZhbGVudCByYWRpYW5zIG1lYXN1cmU9XG4gKlxuICovXG5mdW5jdGlvbiBkZWdyZWVzVG9SYWRpYW5zKGRlZykge1xuICAgIGxldCByZXN1bHQgPSAoKE1hdGguUEkgKiBkZWcpIC8gMTgwKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5kZWdyZWVzVG9SYWRpYW5zID0gZGVncmVlc1RvUmFkaWFucztcbi8qKlxuICogcmFkaWFuc1RvRGVncmVlc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY29udmVydHMgcmFkaWFucyBvdmVyIHRvIHRoZSBkZWdyZWUgZXF1aXZhbGVudFxuICovXG5mdW5jdGlvbiByYWRpYW5zVG9EZWdyZWVzKHJhZCkge1xuICAgIGxldCByZXN1bHQgPSAoMTgwICogcmFkKSAvIE1hdGguUEk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMucmFkaWFuc1RvRGVncmVlcyA9IHJhZGlhbnNUb0RlZ3JlZXM7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vKipcbiAqIGdldEVuZFBvaW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ2FsY3VsYXRlIHdoZXJlIGEgcGFydGljdWxhciB2ZWN0b3Igd2lsbCBlbmQsIGdpdmVuIHRoZSBzdGFydCBwb2ludCwgZGlzdGFuY2UsIGFuZCBhbmdsZVxuICpcbiAqIEBwYXJhbSBcdHN0YXJ0UG9pbnQgXHR3aGVyZSB0aGUgdmVjdG9yIG9yaWdpbmF0ZXNcbiAqIEBwYXJhbSBcdGRlZyBcdFx0dGhlIGRlZ3JlZSBvZiBhbmdsZVxuICogQHBhcmFtIFx0ZGlzdGFuY2VcdGhvdyBmYXIgdGhlIHZlY3RvciBzaG91bGQgZXh0ZW5kXG4gKlxuICovXG5mdW5jdGlvbiBnZXRFbmRQb2ludChzdGFydFBvaW50LCBkZWcsIGRpc3RhbmNlKSB7XG4gICAgbGV0IHJhZCA9IGRlZ3JlZXNUb1JhZGlhbnMoZGVnKTtcbiAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICB4OiAoTWF0aC5jb3MocmFkKSAqIGRpc3RhbmNlKSArIHN0YXJ0UG9pbnQueCxcbiAgICAgICAgeTogKE1hdGguc2luKHJhZCkgKiBkaXN0YW5jZSkgKyBzdGFydFBvaW50LnlcbiAgICB9O1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLmdldEVuZFBvaW50ID0gZ2V0RW5kUG9pbnQ7XG4vKipcbiAqIGdldENlbnRyYWxQb2ludFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY2xhY3VsYXRlIHRoZSBtaWQgcG9pbnQgYmV0d2VlbiB0d28gc3BlY2lmaWVkIHBvaW50c1xuICovXG5mdW5jdGlvbiBnZXRDZW50cmFsUG9pbnQoZWxlbSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IGVsZW0ub2Zmc2V0TGVmdCArIChlbGVtLm9mZnNldFdpZHRoIC8gMiksXG4gICAgICAgIHk6IGVsZW0ub2Zmc2V0VG9wICsgKGVsZW0ub2Zmc2V0V2lkdGggLyAyKVxuICAgIH07XG59XG5leHBvcnRzLmdldENlbnRyYWxQb2ludCA9IGdldENlbnRyYWxQb2ludDtcbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIENBTENVTEFUSU9OIEZVTkNUSU9OU1xuLyoqXG4gKiBnZXRBbmdsZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEZpbmRzIHRoZSBhbmdsZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhcnQgLSBUaGUgb3JpZ2luIHBvaW50IG9mIGFuIGFuZ2xlXG4gKiBAcGFyYW0ge051bWJlcn0gc3RhcnQueCAtIFRoZSB4IHBvc2l0aW9uIG9mIHRoZSBvcmlnaW4gcG9pbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydC55IC0gVGhlIHkgcG9zaXRpb24gb2YgdGhlIG9yaWdpbiBwb2ludFxuICogQHBhcmFtIHtPYmplY3R9IGVuZCAtIFRoZSBkZXN0aW5hdGlvbiBwb2ludCBvZiBhbiBhbmdsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGVuZC54IC0gVGhlIHggcG9zaXRpb24gb2YgdGhlIGVuZCBwb2ludFxuICogQHBhcmFtIHtOdW1iZXJ9IGVuZC55IC0gVGhlIHkgcG9zaXRpb24gb2YgdGhlIGVuZCBwb2ludFxuICpcbiAqIEByZXR1cm4ge051bWJlcn0gVGhlIGFuZ2xlIChpbiBkZWdyZWVzKSBiZXR3ZWVuIHRoZSB0d28gcG9pbnRzXG4gKi9cbmZ1bmN0aW9uIGdldEFuZ2xlKHN0YXJ0LCBlbmQpIHtcbiAgICA7XG4gICAgbGV0IGR4O1xuICAgIGxldCBkeTtcbiAgICBsZXQgcV9zaWduO1xuICAgIGxldCBxX2FuZztcbiAgICBsZXQgYW5nbGU7XG4gICAgZHggPSAoZW5kLnggLSBzdGFydC54KTtcbiAgICBkeSA9IChlbmQueSAtIHN0YXJ0LnkpO1xuICAgIC8vIERvbid0IGRpdmlkZSBieSB6ZXJvXG4gICAgaWYgKGR4ID09PSAwKVxuICAgICAgICByZXR1cm4gKGR5IDwgMCkgPyAyNzAgOiA5MDtcbiAgICAvLyBIYW5kbGUgaG9yaXpvbnRhbHMgdG9vXG4gICAgaWYgKGR5ID09PSAwKVxuICAgICAgICByZXR1cm4gKGR4IDwgMCkgPyAxODAgOiAwO1xuICAgIC8vIEF0YW4gcmVxdWlyZXMgdGhhdCBhbGwgZWxlbWVudHMgYXJlIHBvc2l0aXZlXG4gICAgcV9zaWduID0gKChkeCAqIGR5KSA+IDApID8gMSA6IC0xO1xuICAgIHFfYW5nID0gKGR4IDwgMCkgPyBNYXRoLlBJIDogMDtcbiAgICBhbmdsZSA9IE1hdGguYXRhbihNYXRoLmFicyhkeSkgLyBNYXRoLmFicyhkeCkpO1xuICAgIGFuZ2xlID0gKChhbmdsZSAqIHFfc2lnbikgKyBxX2FuZyk7XG4gICAgcmV0dXJuIChhbmdsZSAqICgxODAgLyBNYXRoLlBJKSk7XG59XG5leHBvcnRzLmdldEFuZ2xlID0gZ2V0QW5nbGU7XG47XG4vKipcbiAqIGdldERpc3RhbmNlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRmluZHMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHR3byBwcm92aWRlZCBwb2ludHNcbiAqXG4gKiBAcGFyYW0gXHRzdGFydCBcdFRoZSBmaXJzdCBlbmRwb2ludCBvZiB0aGUgc2VnbWVudCB3ZSBhcmUgbWVhc3VyaW5nXG4gKiBAcGFyYW0gXHRlbmQgXHRUaGUgc2Vjb25kIGVucG9pbnQgb2YgdGhlIHNlZ21lbnQgd2UgYXJlIG1lYXN1cmluZ1xuICpcbiAqIEByZXR1cm4gVGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHR3byBwb2ludHNcbiAqL1xuZnVuY3Rpb24gZ2V0RGlzdGFuY2Uoc3RhcnQsIGVuZCkge1xuICAgIDtcbiAgICBsZXQgZGlzdGFuY2U7XG4gICAgbGV0IGR4O1xuICAgIGxldCBkeTtcbiAgICBkeCA9IChzdGFydC54IC0gZW5kLngpO1xuICAgIGR5ID0gKHN0YXJ0LnkgLSBlbmQueSk7XG4gICAgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKGR4ICogZHgpICsgKGR5ICogZHkpKTtcbiAgICByZXR1cm4gZGlzdGFuY2U7XG59XG5leHBvcnRzLmdldERpc3RhbmNlID0gZ2V0RGlzdGFuY2U7XG47XG4vKipcbiAqIGNhbGN1bGF0ZVBvbHlnb25JbnRlcm5hbEFuZ2xlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY2FsY3VsYXRlIHRoZSBpbnRlcm5hbCBhbmdsZSBmb3IgYSBnaXZlbiBwb2x5Z29uXG4gKlxuICogQHBhcmFtIFx0bnVtYmVyT2ZTaWRlcyBcdFRoZSBudW1iZXIgb2Ygc2lkZXMgdGhhdCB0aGUgcG9seWdvbiBoYXNcbiAqXG4gKiBAcmV0dXJucyB0aGUgaW50ZXJuYWwgYW5nbGUgZm9yIHRoaXMgcG9seWdvbiwgaW4gcmFkaWFuc1xuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVQb2x5Z29uSW50ZXJuYWxBbmdsZShudW1iZXJPZlNpZGVzKSB7XG4gICAgcmV0dXJuIG1hdGhzXzEucm91bmRUb1BsYWNlKGRlZ3JlZXNUb1JhZGlhbnMoMzYwIC8gbnVtYmVyT2ZTaWRlcyksIDEwMDApO1xufVxuZXhwb3J0cy5jYWxjdWxhdGVQb2x5Z29uSW50ZXJuYWxBbmdsZSA9IGNhbGN1bGF0ZVBvbHlnb25JbnRlcm5hbEFuZ2xlO1xuLy8jZW5kcmVnaW9uXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBIU0xQaWVjZUVudW07XG4oZnVuY3Rpb24gKEhTTFBpZWNlRW51bSkge1xuICAgIEhTTFBpZWNlRW51bVtIU0xQaWVjZUVudW1bXCJIVUVcIl0gPSAxXSA9IFwiSFVFXCI7XG4gICAgSFNMUGllY2VFbnVtW0hTTFBpZWNlRW51bVtcIlNBVFVSQVRJT05cIl0gPSAyXSA9IFwiU0FUVVJBVElPTlwiO1xuICAgIEhTTFBpZWNlRW51bVtIU0xQaWVjZUVudW1bXCJMSUdIVE5FU1NcIl0gPSAzXSA9IFwiTElHSFRORVNTXCI7XG4gICAgSFNMUGllY2VFbnVtW0hTTFBpZWNlRW51bVtcIkFMUEhBXCJdID0gNF0gPSBcIkFMUEhBXCI7XG59KShIU0xQaWVjZUVudW0gPSBleHBvcnRzLkhTTFBpZWNlRW51bSB8fCAoZXhwb3J0cy5IU0xQaWVjZUVudW0gPSB7fSkpO1xudmFyIFJHQkVudW07XG4oZnVuY3Rpb24gKFJHQkVudW0pIHtcbiAgICBSR0JFbnVtW1JHQkVudW1bXCJSRURcIl0gPSAwXSA9IFwiUkVEXCI7XG4gICAgUkdCRW51bVtSR0JFbnVtW1wiR1JFRU5cIl0gPSAxXSA9IFwiR1JFRU5cIjtcbiAgICBSR0JFbnVtW1JHQkVudW1bXCJCTFVFXCJdID0gMl0gPSBcIkJMVUVcIjtcbiAgICBSR0JFbnVtW1JHQkVudW1bXCJBTFBIQVwiXSA9IDNdID0gXCJBTFBIQVwiO1xufSkoUkdCRW51bSA9IGV4cG9ydHMuUkdCRW51bSB8fCAoZXhwb3J0cy5SR0JFbnVtID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbmFtZWRDbGFzc18xID0gcmVxdWlyZShcIi4uL25hbWVkQ2xhc3MvbmFtZWRDbGFzc1wiKTtcbmNvbnN0IGZhbHNleV8xID0gcmVxdWlyZShcIi4uL3R5cGVHdWFyZHMvZmFsc2V5XCIpO1xuY29uc3QgbnVtYmVyc18xID0gcmVxdWlyZShcIi4uL3ByaW1pdGl2ZUhlbHBlcnMvbnVtYmVyc1wiKTtcbmNvbnN0IHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi9wcmltaXRpdmVIZWxwZXJzL3N0cmluZ3NcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL18od2lwKV8vXyh3aXApX2NvbG9yL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMiA9IHJlcXVpcmUoXCIuL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi4vXyh3aXApXy9fKHdpcClfY29sb3IvY29uc3RhbnRzXCIpO1xuY29uc3QgbWF0aHNfMSA9IHJlcXVpcmUoXCIuLi9tYXRocy9tYXRoc1wiKTtcbi8vI3JlZ2lvbiBDT0xPUiBDTEFTU1xuLyoqXG4gKiBAY2xhc3MgQ29sb3JcbiAqIEhhbmRsZXMgY29udmVyc2lvbiBiZXR3ZWVuIGNvbG9yIHZhbHVlc1xuICogQHZlcnNpb24gMS4xXG4gKlxuICovXG5jbGFzcyBDb2xvciBleHRlbmRzIG5hbWVkQ2xhc3NfMS5OYW1lZENsYXNzIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gQ09OU1RSVUNUT1JcbiAgICAvKipcbiAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgY2FuIGhhbmRsZSBjb2xvciBjb252ZXJzaW9uc1xuICAgICogQGNvbnN0cnVjdG9yXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3JdIC0gVGhlIHJlZCB2YWx1ZSBmb3IgdGhlIGNvbG9yXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW2ddIC0gVGhlIGdyZWVuIHZhbHVlIGZvciB0aGUgY29sb3JcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYl0gLSBUaGUgYmx1ZSB2YWx1ZSBmb3IgdGhlIGNvbG9yXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW2FdIC0gVGhlIGFscGhhIHZhbHVlIGZvciB0aGUgY29sb3JcbiAgICAqXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoXCJDb2xvclwiKTtcbiAgICAgICAgLyoqIHNoYXJlZCBhbHBoYSBwcm9wZXJ0eSBmb3IgdGhlIGNvbG9yICovXG4gICAgICAgIHRoaXMuX2FscGhhID0gMTtcbiAgICB9XG4gICAgc2V0IGFscGhhKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5taW4oMSwgTWF0aC5tYXgoMCwgdmFsdWUpKTtcbiAgICAgICAgdGhpcy5fYWxwaGEgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGFscGhhKCkgeyByZXR1cm4gdGhpcy5fYWxwaGE7IH1cbiAgICBzZXQgcmVkKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKHZhbHVlKSkpO1xuICAgICAgICB0aGlzLl9yZWQgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHJlZCgpIHsgcmV0dXJuIHRoaXMuX3JlZDsgfVxuICAgIHNldCBncmVlbih2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgTWF0aC5yb3VuZCh2YWx1ZSkpKTtcbiAgICAgICAgdGhpcy5fZ3JlZW4gPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGdyZWVuKCkgeyByZXR1cm4gdGhpcy5fZ3JlZW47IH1cbiAgICBzZXQgYmx1ZSh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgTWF0aC5yb3VuZCh2YWx1ZSkpKTtcbiAgICAgICAgdGhpcy5fYmx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgYmx1ZSgpIHsgcmV0dXJuIHRoaXMuX2JsdWU7IH1cbiAgICBzZXQgaHVlKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5taW4oMzYwLCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKHZhbHVlKSkpO1xuICAgICAgICB0aGlzLl9odWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGh1ZSgpIHsgcmV0dXJuIHRoaXMuX2h1ZTsgfVxuICAgIHNldCBzYXR1cmF0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKHZhbHVlKSkpO1xuICAgICAgICB0aGlzLl9zYXR1cmF0aW9uID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBzYXR1cmF0aW9uKCkgeyByZXR1cm4gdGhpcy5fc2F0dXJhdGlvbjsgfVxuICAgIHNldCBsaWdodG5lc3ModmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLm1pbigxMDAsIE1hdGgubWF4KDAsIE1hdGgucm91bmQodmFsdWUpKSk7XG4gICAgICAgIHRoaXMuX2xpZ2h0bmVzcyA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgbGlnaHRuZXNzKCkgeyByZXR1cm4gdGhpcy5fbGlnaHRuZXNzOyB9XG4gICAgZ2V0IGx1bWluYW5jZSgpIHtcbiAgICAgICAgaWYgKGZhbHNleV8xLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXMuX2x1bWluYW5jZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZUx1bWluYW5jZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9sdW1pbmFuY2U7XG4gICAgfVxuICAgIDtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gQ1JFQVRFIENPTE9SIFNUUklOR1NcbiAgICAvKipcbiAgICAgKiByZ2JhU3RyaW5nXG4gICAgICpcbiAgICAgKiBHZXRzIHRoZSBhcHByb3ByaWF0ZSBSR0JBIHN0cmluZyBmb3IgdGhpcyBjb2xvclxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUkdCQSBzdHJpbmcgZm9yIHRoZSBjb2xvclxuICAgICAqXG4gICAgICovXG4gICAgdG9SZ2JhU3RyaW5nKCkge1xuICAgICAgICA7XG4gICAgICAgIHJldHVybiB0aGlzLnRvUmdiU3RyaW5nKHRydWUpO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogcmdiU3RyaW5nXG4gICAgICpcbiAgICAgKiBHcmFicyB0aGUgUkdCIHN0cmluZyAod2l0aCBBIGVsZW1lbnQgaWYgYXBwcm9wcmlhdGUpIGZvciB0aGlzIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdpdGhBbHBoYSAtIElmIHRydWUsIGluY2x1ZGUgdGhlIGFscGhhIGVsZW1lbnQgaW4gdGhlIHJldHVybmVkIHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGFwcHJvcHJpYXRlIGNvbG9yIHN0cmluZ1xuICAgICAqXG4gICAgICovXG4gICAgdG9SZ2JTdHJpbmcod2l0aF9hbHBoYSkge1xuICAgICAgICA7XG4gICAgICAgIGxldCBvdXQ7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSBzdHJpbmcgcmVnYXJkbGVzcyBvZiBhbHBoYSB2YWx1ZVxuICAgICAgICBvdXQgPSBcInJnYlwiICsgKHdpdGhfYWxwaGEgPyBcImFcIiA6IFwiXCIpICsgXCIoXCIgKyB0aGlzLl9yZWQgKyBcIiwgXCIgKyB0aGlzLl9ncmVlbiArIFwiLCBcIiArIHRoaXMuX2JsdWU7XG4gICAgICAgIC8vIEFkZCB0aGUgYWxwaGEgdmFsdWUgaWYgYXBwcm9wcmlhdGVcbiAgICAgICAgaWYgKHdpdGhfYWxwaGEpIHtcbiAgICAgICAgICAgIG91dCArPSBcIiwgXCIgKyB0aGlzLl9hbHBoYTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDbG9zZSB1cCB0aGUgc3RyaW5nIGFuZCBzZW5kIGl0IG91dFxuICAgICAgICBvdXQgKz0gXCIpXCI7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBoc2xTdHJpbmdcbiAgICAgKlxuICAgICAqIEZyb20gdGhlIGNvbG9yIG9iamVjdCwgY3JlYXRlcyBhIGh1ZS1zYXR1cmF0aW9uLWxpZ2h0bmVzcyBzdHJpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSBcdHdpdGhBbHBoYSBcdElmIHRydWUsIGFsc28gYWRkcyBhbiBhbHBoYSBlbGVtZW50IHRvIHRoZSBlbmQgb2YgdGhlIHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybnNcdFRoZSBIU0wgc3RyaW5nIHZlcnNpb24gb2YgdGhpcyBjb2xvclxuICAgICAqXG4gICAgICovXG4gICAgdG9Ic2xTdHJpbmcod2l0aF9hbHBoYSkge1xuICAgICAgICA7XG4gICAgICAgIGxldCBvdXQ7XG4gICAgICAgIC8vIEdlbmVyYXRlIEhTTCBpZiB3ZSBuZWVkIHRvXG4gICAgICAgIGlmICghdGhpcy5faHVlKVxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUhzbFZhbHVlcygpO1xuICAgICAgICAvLyBTdHJpbmcgc3RhcnRzIG91dCB0aGUgc2FtZSByZWdhcmRsZXNzIG9mIHdoZXRoZXIgd2UgYXJlIGluY2x1ZGluZyBhbHBoYVxuICAgICAgICBvdXQgPSBcImhzbFwiICsgKHdpdGhfYWxwaGEgPyBcImFcIiA6IFwiXCIpICsgXCIoXCIgKyB0aGlzLl9odWUgKyBcIiwgXCIgKyB0aGlzLl9zYXR1cmF0aW9uICsgXCIlLCBcIiArIHRoaXMuX2xpZ2h0bmVzcyArIFwiJVwiO1xuICAgICAgICAvLyBHcmFiIHRoZSBhbHBoYSBwaWVjZSBpZiBhcHByb3ByaWF0ZVxuICAgICAgICBpZiAod2l0aF9hbHBoYSkge1xuICAgICAgICAgICAgb3V0ICs9IFwiLCBcIiArIHRoaXMuX2FscGhhO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybiB0aGUgSFNMIHN0cmluZ1xuICAgICAgICBvdXQgKz0gXCIpXCI7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBoc2xhU3RyaW5nXG4gICAgICpcbiAgICAgKiBGcm9tIHRoZSBjb2xvciBvYmplY3QsIGNyZWF0ZSBhIEhTTEEgc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHN0cmluZyBmb3IgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKi9cbiAgICB0b0hzbGFTdHJpbmcoKSB7XG4gICAgICAgIDtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9Ic2xTdHJpbmcodHJ1ZSk7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBoZXhTdHJpbmdcbiAgICAgKlxuICAgICAqIEZyb20gdGhlIGNvbG9yIG9iamVjdCwgY3JlYXRlcyBhIGhleCBjb2xvciBzdHJpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSBcdHdpdGhBbHBoYVx0VHJ1ZSBpZiBhbHBoYSBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIGhleCBzdHJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBhcHByb3ByaWF0ZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKi9cbiAgICB0b0hleFN0cmluZyh3aXRoX2FscGhhKSB7XG4gICAgICAgIDtcbiAgICAgICAgbGV0IG91dDtcbiAgICAgICAgb3V0ID0gXCIjXCI7XG4gICAgICAgIG91dCArPSBudW1iZXJzXzEuZnVsbEhleFN0cmluZyh0aGlzLl9yZWQsIDIpO1xuICAgICAgICBvdXQgKz0gbnVtYmVyc18xLmZ1bGxIZXhTdHJpbmcodGhpcy5fZ3JlZW4sIDIpO1xuICAgICAgICBvdXQgKz0gbnVtYmVyc18xLmZ1bGxIZXhTdHJpbmcodGhpcy5fYmx1ZSwgMik7XG4gICAgICAgIGlmICh3aXRoX2FscGhhKSB7XG4gICAgICAgICAgICBvdXQgKz0gbnVtYmVyc18xLmZ1bGxIZXhTdHJpbmcodGhpcy5fYWxwaGEsIDIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIDtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gR0VORVJBVEUgQVBQUk9QUklBVEUgQ09MT1IgVkFMVUVTXG4gICAgLyoqXG4gICAgICogZ2VuZXJhdGVIc2xWYWx1ZXNcbiAgICAgKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIEhTTCB2YWx1ZXMgZm9yIHRoaXMgUkdCIGNvbG9yIGFuZCBzYXZlcyBpdCBvZmYgaW4gdGhlIGNvbG9yLlxuICAgICAqIFJlbGllcyBvbiB0aGUgcmdiIHZhbHVlcyBhbHJlYWR5IGhhdmluZyBiZWVuIHNldFxuICAgICAqXG4gICAgICovXG4gICAgZ2VuZXJhdGVIc2xWYWx1ZXMoKSB7XG4gICAgICAgIDtcbiAgICAgICAgbGV0IHI7XG4gICAgICAgIGxldCBnO1xuICAgICAgICBsZXQgYjtcbiAgICAgICAgbGV0IGRlbHRhO1xuICAgICAgICBsZXQgbWF4O1xuICAgICAgICBsZXQgbWluO1xuICAgICAgICBsZXQgaHVlO1xuICAgICAgICBsZXQgc2F0dXJhdGlvbjtcbiAgICAgICAgbGV0IGxpZ2h0bmVzcztcbiAgICAgICAgciA9IHRoaXMuX3JlZCAvIDI1NTtcbiAgICAgICAgZyA9IHRoaXMuX2dyZWVuIC8gMjU1O1xuICAgICAgICBiID0gdGhpcy5fYmx1ZSAvIDI1NTtcbiAgICAgICAgLy8gRmluZCB0aGUgbWF4LCBtaW4sIGFuZCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZW0uXG4gICAgICAgIC8vIFdlIG5lZWQgdGhlc2UgdmFsdWVzIHRvIGNhbGN1bGF0ZSBIU0wgZXF1aXZhbGVudHNcbiAgICAgICAgbWF4ID0gTWF0aC5tYXgociwgZywgYik7XG4gICAgICAgIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuICAgICAgICBkZWx0YSA9IG1heCAtIG1pbjtcbiAgICAgICAgLy8gTGlnaHRuZXNzIGlzIHRoZSBhdmVyYWdlIGJldHdlZW4gdGhlIHR3byBleHRyZW1lc1xuICAgICAgICBsaWdodG5lc3MgPSAobWF4ICsgbWluKSAvIDI7XG4gICAgICAgIC8vIElmIHRoZSBtYXggYW5kIG1pbiBhcmUgdGhlIHNhbWUsIGFsbCB0aHJlZSBhcmUgYWN0dWFsbHkgdGhlIHNhbWUgdmFsdWUsXG4gICAgICAgIC8vIHNvIHdlIGNhbiBxdWl0IG5vdyB3aXRoIG91ciBncmF5c2NhbGUgY29sb3JcbiAgICAgICAgaWYgKG1heCA9PT0gbWluKSB7XG4gICAgICAgICAgICB0aGlzLl9odWUgPSAwO1xuICAgICAgICAgICAgdGhpcy5fc2F0dXJhdGlvbiA9IDA7XG4gICAgICAgICAgICB0aGlzLl9saWdodG5lc3MgPSBNYXRoLnJvdW5kKGxpZ2h0bmVzcyAqIDEwMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIHNhdHVyYXRpb24gaXMgYSByYXRpbyBvZiB0aGUgZGVsdGEgb2YgdGhlIGV4dHJlbWVzXG4gICAgICAgIC8vIG92ZXIgYSB2ZXJzaW9uIG9mIHRoZSBzdW0gb2YgdGhlIGV4dHJlbWVzLlxuICAgICAgICAvLyBJdCBjaGFuZ2VzIHdoZW4gbGlnaHRuZXNzIGlzIGxlc3Mgb3IgbW9yZSB0aGFuIDUwJS5cbiAgICAgICAgaWYgKGxpZ2h0bmVzcyA+IC41KSB7XG4gICAgICAgICAgICBzYXR1cmF0aW9uID0gZGVsdGEgLyAoMiAtIG1heCAtIG1pbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzYXR1cmF0aW9uID0gZGVsdGEgLyAobWF4ICsgbWluKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgaHVlIGlzIGNhbGN1bGF0ZWQgZnJvbSB0aGUgdHdvIG5vbi1tYXggdmFsdWVzXG4gICAgICAgIC8vIElmIHR3byB2YWx1ZXMgbWF0Y2ggdGhlIG1heCwgdGhlbiB3ZSBqdXN0IGV2YWx1YXRlIGluIG9yZGVyIHJlZCAtPiBncmVlbiAtPiBibHVlXG4gICAgICAgIC8vIFJlZCB3YXMgdGhlIG1heC5cbiAgICAgICAgaWYgKG1heCA9PT0gcikge1xuICAgICAgICAgICAgaHVlID0gKGcgLSBiKSAvIGRlbHRhO1xuICAgICAgICAgICAgLy8gV2UgbmVlZCBhbiBhZGRpdGlvbmFsIGtpY2sgaWYgZ3JlZW4gaXMgbGVzcyB0aGFuIGJsdWVcbiAgICAgICAgICAgIGlmIChnIDwgYikge1xuICAgICAgICAgICAgICAgIGh1ZSArPSA2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gR3JlZW4gd2FzIHRoZSBtYXhcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXggPT09IGcpIHtcbiAgICAgICAgICAgIGh1ZSA9IChiIC0gcikgLyBkZWx0YSArIDI7XG4gICAgICAgICAgICAvLyBCbHVlIHdhcyB0aGUgbWF4XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBodWUgPSAociAtIGcpIC8gZGVsdGEgKyA0O1xuICAgICAgICB9XG4gICAgICAgIC8vIERpdmlkZSBieSBzaXggdG8gZ2V0IHRoZSBhcHByb3ByaWF0ZSBhdmVyYWdlXG4gICAgICAgIGh1ZSAvPSA2O1xuICAgICAgICAvLyAtLSBTYXZlIG9mZiB0aGUgbWVtYmVyIHZhcmlhYmxlcyBmb3IgdGhpcyBjb2xvciAtLVxuICAgICAgICAvL1xuICAgICAgICAvLyBBbGwgdmFsdWVzIGFyZSBjdXJyZW50bHkgaW4gdGhlIHJhbmdlIFswLDFdLlxuICAgICAgICAvLyBIdWUgbmVlZHMgdG8gYmUgbXVsdGlwbGllZCBieSAzNjAgdG8gZ2V0IHRoZSBhcHByb3ByaWF0ZSB2YWx1ZS5cbiAgICAgICAgLy8gU2F0dXJhdGlvbiBhbmQgbGlnaHRuZXNzIGJvdGggbmVlZCB0byBiZSBtdWx0aXBsaWVkIGJ5IDEwMC5cbiAgICAgICAgdGhpcy5faHVlID0gTWF0aC5yb3VuZChodWUgKiAzNjAwKSAvIDEwO1xuICAgICAgICB0aGlzLl9zYXR1cmF0aW9uID0gTWF0aC5yb3VuZChzYXR1cmF0aW9uICogMTAwMCkgLyAxMDtcbiAgICAgICAgdGhpcy5fbGlnaHRuZXNzID0gTWF0aC5yb3VuZChsaWdodG5lc3MgKiAxMDAwKSAvIDEwO1xuICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0SHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydEh1ZSA9IHRoaXMuX2h1ZTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0U2F0dXJhdGlvbiA9IHRoaXMuX3NhdHVyYXRpb247XG4gICAgICAgICAgICB0aGlzLl9zdGFydExpZ2h0bmVzcyA9IHRoaXMuX2xpZ2h0bmVzcztcbiAgICAgICAgfVxuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogZ2VuZXJhdGVSZ2JWYWx1ZXNcbiAgICAgKlxuICAgICAqIFNhdmVzIG9mZiB0aGUgYXBwcm9wcmlhdGUgUkdCIHZhbHVlcyBmb3IgdGhpcyBjb2xvciBiYXNlZCBvbiBpdHMgaGV4IHZhbHVlcy5cbiAgICAgKiBSZWxpZXMgb24gdGhlIGhleCBjb2xvcnMgYmVpbmcgc2V0XG4gICAgICpcbiAgICAgKi9cbiAgICBnZW5lcmF0ZVJnYlZhbHVlcygpIHtcbiAgICAgICAgO1xuICAgICAgICBsZXQgaHVlO1xuICAgICAgICBsZXQgc2F0dXJhdGlvbjtcbiAgICAgICAgbGV0IGxpZ2h0bmVzcztcbiAgICAgICAgbGV0IHA7XG4gICAgICAgIGxldCBxO1xuICAgICAgICBsZXQgdDtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGh1ZSA9IHRoaXMuX2h1ZSAvIDM2MDtcbiAgICAgICAgc2F0dXJhdGlvbiA9IHRoaXMuX3NhdHVyYXRpb24gLyAxMDA7XG4gICAgICAgIGxpZ2h0bmVzcyA9IHRoaXMuX2xpZ2h0bmVzcyAvIDEwMDtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm90IHNhdHVyYXRpb24sIGl0J3MgZ3JheXNjYWxlLCBzbyB0aGUgY29sb3JzIGFyZSBhbGwgZXF1YWwgdG8gdGhlIGxpZ2h0bmVzc1xuICAgICAgICBpZiAoc2F0dXJhdGlvbiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fcmVkID0gdGhpcy5fZ3JlZW4gPSB0aGlzLl9ibHVlID0gbGlnaHRuZXNzO1xuICAgICAgICAgICAgdGhpcy5fcmVkICo9IDI1NTtcbiAgICAgICAgICAgIHRoaXMuX2dyZWVuICo9IDI1NTtcbiAgICAgICAgICAgIHRoaXMuX2JsdWUgKj0gMjU1O1xuICAgICAgICB9XG4gICAgICAgIC8vSWYgd2UgZG8gaGF2ZSBhIHNhdHVyYXRlZCB2YWx1ZSwgd2UgbmVlZCB0byBjb252ZXJ0IGl0IHRvIFJHQlxuICAgICAgICAvLyBHZXQgdGhlIHZhbHVlIG9mIHRoZSBxIGNvZWZmaWNpZW50XG4gICAgICAgIGlmIChsaWdodG5lc3MgPCAwLjUpIHtcbiAgICAgICAgICAgIHEgPSBsaWdodG5lc3MgKiAoMSArIHNhdHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcSA9IGxpZ2h0bmVzcyArIHNhdHVyYXRpb24gLSAobGlnaHRuZXNzICogc2F0dXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQW5kIGNhbGN1bGF0ZSBwIGZyb20gcVxuICAgICAgICBwID0gKDIgKiBsaWdodG5lc3MpIC0gcTtcbiAgICAgICAgZm9yIChpID0gLTE7IGkgPD0gMTsgaSArPSAxKSB7XG4gICAgICAgICAgICB0ID0gaHVlICsgKC1pIC8gMyk7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgdGhlIGV4dHJlbWVzIGFuZCBhZGp1c3QgdGhlbVxuICAgICAgICAgICAgaWYgKHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgdCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodCA+IDEpIHtcbiAgICAgICAgICAgICAgICB0IC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBhcHByb3ByaWF0ZSBjYXNlIHRvIHRyZWF0IHRoaXMgdmFsdWUgYXNcbiAgICAgICAgICAgIGlmICh0IDwgKDEgLyA2KSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUmdiVmFsdWUoaSArIDEsIChwICsgKChxIC0gcCkgKiA2ICogdCkpICogMjU1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHQgPCAoMSAvIDIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZ2JWYWx1ZShpICsgMSwgcSAqIDI1NSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0IDwgKDIgLyAzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUmdiVmFsdWUoaSArIDEsIChwICsgKChxIC0gcCkgKiAoMiAvIDMgLSB0KSAqIDYpKSAqIDI1NSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJnYlZhbHVlKGkgKyAxLCBwICogMjU1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICA7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIFBBUlNFIERJRkZFUkVOVCBDT0xPUiBTVFJJTkdTXG4gICAgLyoqXG4gICAgICogX3BhcnNlRnJvbUhleENvbG9yXG4gICAgICpcbiAgICAgKiBUYWtlcyBpbiBhIGhleCBzdHJpbmcgYW5kIHNhdmVzIGl0IGludGVybmFsbHlcbiAgICAgKlxuICAgICAqIEBwYXJhbSBcdGhleFx0XHRUaGUgaGV4IHN0cmluZyB0byBwYXJzZSBpblxuICAgICAqIEBwYXJhbSBcdGFscGhhIFx0VGhlIGFscGhhIHZhbHVlIHRvIHVzZVxuICAgICAqXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcGFyc2luZyBzdWNjZWVkcywgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICpcbiAgICAgKi9cbiAgICBfcGFyc2VGcm9tSGV4Q29sb3IoaGV4LCBhbHBoYSkge1xuICAgICAgICA7XG4gICAgICAgIGxldCBpZHg7XG4gICAgICAgIGxldCBjb2w7XG4gICAgICAgIGxldCBwYztcbiAgICAgICAgbGV0IGFfaW5jbHVkZWQ7XG4gICAgICAgIGxldCBoX3JlZztcbiAgICAgICAgbGV0IGluYztcbiAgICAgICAgaF9yZWcgPSAvXiM/KD86WzAtOUEtRmEtZl17Myw0fSl7MSwyfSQvO1xuICAgICAgICBpZiAoIWhfcmVnLnRlc3QoaGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0cmlwIG91dCB0aGUgIyBjaGFyYWN0ZXIgaWYgaXQgd2FzIHRoZXJlXG4gICAgICAgIGlmIChzdHJpbmdzXzEuY2hhckF0KGhleCwgMCkgPT09IFwiI1wiKSB7XG4gICAgICAgICAgICBoZXggPSBzdHJpbmdzXzEucmVzdChoZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZXgubGVuZ3RoIDwgNikge1xuICAgICAgICAgICAgaW5jID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluYyA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmxpcCB0aHJvdWdoIGVhY2ggb2YgdGhlIHBvc3NpYmxlIGNvbHVtbnNcbiAgICAgICAgZm9yIChpZHggPSAwOyBpZHggPCBoZXgubGVuZ3RoOyBpZHggKz0gaW5jKSB7XG4gICAgICAgICAgICBwYyA9IGhleC5zdWJzdHIoaWR4LCBpbmMpO1xuICAgICAgICAgICAgaWYgKGluYyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHBjICs9IHBjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUGFyc2Ugb3V0IHRoZSBjb2xvciBhbmQgc2V0IGl0IGFwcHJvcHJpYXRlbHlcbiAgICAgICAgICAgIGNvbCA9IHBhcnNlSW50KHBjLCAxNik7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJnYlZhbHVlKChpZHggLyBpbmMpLCBjb2wpO1xuICAgICAgICAgICAgLy8gSWYgd2UgaGl0IGFscGhhIHZhbHVlcyxcbiAgICAgICAgICAgIGlmIChpZHggPiA0KSB7XG4gICAgICAgICAgICAgICAgYV9pbmNsdWRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IHRoZSBhbHBoYSB2YWx1ZSBpZiBpdCB3YXNuJ3QgaW5jbHVkZWQgaW4gdGhlIGhleCBzdHJpbmdcbiAgICAgICAgaWYgKCFhX2luY2x1ZGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9hbHBoYSA9IGFscGhhIHx8IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBfcGFyc2VGcm9tUmdiQ29sb3JcbiAgICAgKlxuICAgICAqIFRha2VzIGluIGEgcmdiIGNvbG9yIHN0cmluZyBhbmQgcGFyc2VzIGl0IGludG8gb3VyIGludGVybmFsIGZvcm1hdFxuICAgICAqXG4gICAgICogQHBhcmFtIFx0cmdiICAgXHRUaGUgUkdCIHN0cmluZyB0byBwYXJzZVxuICAgICAqIEBwYXJhbSBcdGFscGhhXHRUaGUgYWxwaGEgdmFsdWUgdG8gcGFyc2UgaW4sIGlmIHRoZSByZ2Igc3RyaW5nIGRvZXNuJ3QgaGF2ZSBpdFxuICAgICAqXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcGFyc2luZyBzdWNjZWVkcywgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICpcbiAgICAgKi9cbiAgICBfcGFyc2VGcm9tUmdiQ29sb3IocmdiLCBhbHBoYSkge1xuICAgICAgICA7XG4gICAgICAgIGxldCByZ2JfcmVnO1xuICAgICAgICBsZXQgcmdiYV9yZWc7XG4gICAgICAgIGxldCBtYXRjaDtcbiAgICAgICAgcmdiX3JlZyA9IC9yZ2JcXCgoPzooWzAtOV17MS0zfSksID8pezN9XFwpLztcbiAgICAgICAgcmdiYV9yZWcgPSAvcmdiYVxcKCg/OihbMC05XXsxLTN9KSwgPyl7M30sID8oWzAtOV17MCwxfSg/OlxcLlswLTldKyk/KVxcKS87XG4gICAgICAgIGlmICghcmdiX3JlZy50ZXN0KHJnYikpIHtcbiAgICAgICAgICAgIGlmICghcmdiYV9yZWcudGVzdChyZ2IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWF0Y2ggPSByZ2JhX3JlZy5leGVjKHJnYik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXRjaCA9IHJnYl9yZWcuZXhlYyhyZ2IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlZCA9ICttYXRjaFsxXTtcbiAgICAgICAgdGhpcy5fZ3JlZW4gPSArbWF0Y2hbMl07XG4gICAgICAgIHRoaXMuX2JsdWUgPSArbWF0Y2hbM107XG4gICAgICAgIGlmICgobWF0Y2hbNF0gIT09IHVuZGVmaW5lZCkgfHwgKGFscGhhICE9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9hbHBoYSA9ICttYXRjaFs0XSB8fCBhbHBoYTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIF9wYXJzZUZyb21Ic2xDb2xvclxuICAgICAqXG4gICAgICogVGFrZXMgaW4gYSBIU0wgc3RyaW5nIGFuZCBjb252ZXJ0cyBpdCB0byB0aGUgY29sb3Igb2JqZWN0J3MgaW50ZXJuYWwgZm9ybWF0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRoc2wgXHRUaGUgSFNMIHN0cmluZyB0byBjb252ZXJ0LiBDYW4gYWxzbyBiZSBhIEhTTEEgc3RyaW5nXG4gICAgICogQHBhcmFtIFx0YWxwaGEgXHRUaGUgYWxwaGEgdmFsdWUgdG8gc2V0LCBpZiBpdCBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIEhTTEEgc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBjb2xvciB3YXMgc3VjY2Vzc2Z1bGx5IHBhcnNlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqXG4gICAgICovXG4gICAgX3BhcnNlRnJvbUhzbENvbG9yKGhzbCwgYWxwaGEpIHtcbiAgICAgICAgO1xuICAgICAgICBsZXQgaHNsX3JlZztcbiAgICAgICAgbGV0IGhzbGFfcmVnO1xuICAgICAgICBsZXQgbWF0Y2g7XG4gICAgICAgIGxldCBodWU7XG4gICAgICAgIGxldCBzYXR1cmF0aW9uO1xuICAgICAgICBsZXQgbGlnaHRuZXNzO1xuICAgICAgICBsZXQgcTtcbiAgICAgICAgbGV0IHA7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBsZXQgdDtcbiAgICAgICAgaHNsX3JlZyA9IC9oc2xcXCgoWzAtOV17MSwzfSksID8oWzAtOV17MSwzfSklLCA/KFswLTldezEsM30pJVxcKS87XG4gICAgICAgIGhzbGFfcmVnID0gL2hzbGFcXCgoWzAtOV17MSwzfSksID8oWzAtOV17MSwzfSklLCA/KFswLTldezEsM30pJSwgPyhbMC05XXswLDF9KD86XFwuWzAtOV0rKT8pXFwpLztcbiAgICAgICAgLy8gUXVpdCBpZiB0aGUgcmVnZXggZG9lc24ndCBtYXRjaFxuICAgICAgICBpZiAoIWhzbF9yZWcudGVzdChoc2wpKSB7XG4gICAgICAgICAgICBpZiAoIWhzbGFfcmVnLnRlc3QoaHNsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1hdGNoID0gaHNsYV9yZWcuZXhlYyhoc2wpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWF0Y2ggPSBoc2xfcmVnLmV4ZWMoaHNsKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTYXZlIG9mZiB0aGUgdmFsdWVzIHBhcnNlZCBvdXQgb2YgdGhlIHN0cmluZ1xuICAgICAgICB0aGlzLl9odWUgPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQobWF0Y2hbMV0pICogMTApIC8gMTA7XG4gICAgICAgIHRoaXMuX3NhdHVyYXRpb24gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQobWF0Y2hbMl0pICogMTApIC8gMTA7XG4gICAgICAgIHRoaXMuX2xpZ2h0bmVzcyA9IE1hdGgucm91bmQocGFyc2VGbG9hdChtYXRjaFszXSkgKiAxMCkgLyAxMDtcbiAgICAgICAgLy8gT25seSBzZXQgdGhlIGFscGhhIGlmIHNvbWV0aGluZyBpcyBhdmFpbGFibGVcbiAgICAgICAgaWYgKChtYXRjaFs0XSAhPT0gdW5kZWZpbmVkKSB8fCAoYWxwaGEgIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2FscGhhID0gcGFyc2VGbG9hdChtYXRjaFs0XSkgfHwgYWxwaGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBSR0IgdmFsdWVzIGFyZSB1cGRhdGVkIHRvb1xuICAgICAgICB0aGlzLmdlbmVyYXRlUmdiVmFsdWVzKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogX3BhcnNlQ29sb3JTdHJpbmdcbiAgICAgKlxuICAgICAqIFRyaWVzIHRvIHBhcnNlIGEgZ2l2ZW4gc3RyaW5nIGludG8gYW4gaW50ZXJuYWwgY29sb3Igb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRzdHIgXHRUaGUgc3RyaW5nIHRvIHBhcnNlXG4gICAgICogQHBhcmFtIFx0YWxwaGEgXHRUaGUgYWxwaGEgdmFsdWUgdG8gdXNlLCBpZiBub3QgaW5jbHVkZWQgaW4gdGhlIHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgcGFyc2luZyBzdWNjZWVkcywgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICpcbiAgICAgKi9cbiAgICBfcGFyc2VDb2xvclN0cmluZyhzdHIsIGFscGhhKSB7XG4gICAgICAgIDtcbiAgICAgICAgbGV0IHN1Y2Nlc3M7XG4gICAgICAgIC8vIFRyeSB0byBwYXJzZSB0aGUgc3RyaW5nIGFzIGEgUkdCIHZhbHVlXG4gICAgICAgIHN1Y2Nlc3MgPSB0aGlzLl9wYXJzZUZyb21SZ2JDb2xvcihzdHIsIGFscGhhKTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gVHJ5IHRvIHBhcnNlIHRoZSBzdHJpbmcgYXMgYSBIZXggdmFsdWVcbiAgICAgICAgc3VjY2VzcyA9IHRoaXMuX3BhcnNlRnJvbUhleENvbG9yKHN0ciwgYWxwaGEpO1xuICAgICAgICBpZiAoc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBUcnkgdG8gcGFyc2UgdGhlIHN0cmluZyBhcyBhIEhTTCB2YWx1ZVxuICAgICAgICBzdWNjZXNzID0gdGhpcy5fcGFyc2VGcm9tSHNsQ29sb3Ioc3RyLCBhbHBoYSk7XG4gICAgICAgIGlmIChzdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIElmIG5vdGhpbmcgd29ya2VkLCByZXR1cm4gZmFsc2VcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICA7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIFVQREFURSBDT0xPUlNcbiAgICAvKipcbiAgICAgKiB1cGRhdGVSZ2JWYWx1ZVxuICAgICAqXG4gICAgICogU2V0cyBhIGNvbG9yIHZhbHVlIGJhc2VkIG9uIHRoZSBpbmRleCBvZiB0aGUgY29sb3IgKGllLCByZWQgPSAwLCBncmVlbiA9IDEpXG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRpZHggXHRUaGUgaW5kZXggb2YgdGhlIGNvbG9yIHdlIGFyZSBzYXZpbmdcbiAgICAgKiBAcGFyYW0gXHR2YWwgXHRUaGUgdmFsdWUgdGhhdCB0aGUgY29sb3Igc2hvdWxkIGJlIHNldCB0b1xuICAgICAqXG4gICAgICovXG4gICAgdXBkYXRlUmdiVmFsdWUodmFsdWVUeXBlLCB2YWwpIHtcbiAgICAgICAgc3dpdGNoICh2YWx1ZVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5SR0JFbnVtLlJFRDpcbiAgICAgICAgICAgICAgICB0aGlzLnJlZCA9IHZhbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5SR0JFbnVtLkdSRUVOOlxuICAgICAgICAgICAgICAgIHRoaXMuZ3JlZW4gPSB2YWw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIF9pbnRlcmZhY2VzXzEuUkdCRW51bS5CTFVFOlxuICAgICAgICAgICAgICAgIHRoaXMuYmx1ZSA9IHZhbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5SR0JFbnVtLkFMUEhBOlxuICAgICAgICAgICAgICAgIHRoaXMuYWxwaGEgPSB2YWw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIHVwZGF0ZUhzbFZhbHVlXG4gICAgICpcbiAgICAgKiBTZXRzIGEgY29sb3IgdmFsdWUgYmFzZWQgb24gdGhlIGluZGV4IG9mIHRoZSBjb2xvciAoaWUsIGh1ZSA9IDEsIHNhdHVyYXRpb24gPSAyLi4uKVxuICAgICAqXG4gICAgICogQHBhcmFtIFx0aWR4IFx0VGhlIGluZGV4IG9mIHRoZSBjb2xvciB3ZSBhcmUgc2F2aW5nXG4gICAgICogQHBhcmFtIFx0dmFsIFx0VGhlIHZhbHVlIHRoYXQgdGhlIGNvbG9yIHNob3VsZCBiZSBzZXQgdG9cbiAgICAgKlxuICAgICAqL1xuICAgIHVwZGF0ZUhzbFZhbHVlKHZhbHVlVHlwZSwgdmFsKSB7XG4gICAgICAgIHN3aXRjaCAodmFsdWVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIF9pbnRlcmZhY2VzXzIuSFNMUGllY2VFbnVtLkhVRTpcbiAgICAgICAgICAgICAgICB0aGlzLmh1ZSA9IHZhbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMi5IU0xQaWVjZUVudW0uU0FUVVJBVElPTjpcbiAgICAgICAgICAgICAgICB0aGlzLnNhdHVyYXRpb24gPSB2YWw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIF9pbnRlcmZhY2VzXzIuSFNMUGllY2VFbnVtLkxJR0hUTkVTUzpcbiAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0bmVzcyA9IHZhbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMi5IU0xQaWVjZUVudW0uQUxQSEE6XG4gICAgICAgICAgICAgICAgdGhpcy5hbHBoYSA9IHZhbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gSEFORExFIENPTE9SIEdFTkVSQVRJT04gQU5EIEdSQUJCSU5HXG4gICAgLyoqXG4gICAgICogZ2V0TmV4dEh1ZVxuICAgICAqXG4gICAgICogR3JhYnMgdGhlIG5leHQgaHVlIGF2YWlsYWJsZSBmb3IgdGhpcyBjb2xvciBzZWxlY3Rvci5cbiAgICAgKiBDYW4gYmUgdXNlZCBhcyBhIHJhbmRvbSBjb2xvciBnZW5lcmF0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0Zmlyc3RSb3RhdGVcdFx0VGhlIEhTTCBwaWNlIHRoYXQgc2hvdWxkIGJlIHJvdGF0aW5nIGZpcnN0XG4gICAgICogQHBhcmFtIFx0d2l0aEFscGhhIFx0XHRUcnVlIGlmIHRoZSBhbHBoYSB2YWx1ZSBzaG91bGQgYWxzbyBiZSBpbmNsdWRlZCBpbiB0aGUgb3V0cHV0IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGhleCBjb2xvciBzdHJpbmcgZm9yIHRoZSBuZXcgY29sb3JcbiAgICAgKlxuICAgICAqL1xuICAgIGdldE5leHRDb2xvcihmaXJzdFJvdGF0ZSwgd2l0aEFscGhhKSB7XG4gICAgICAgIDtcbiAgICAgICAgdmFyIHRvQ3ljbGUgPSBbXSwgaWR4O1xuICAgICAgICAvLyBGaXJzdCwgY29udmVydCBvdXIgaW50ZXJuYWwgZm9ybWF0IHRvIEhTTCAoaWYgbmVlZGVkKVxuICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0SHVlKVxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUhzbFZhbHVlcygpO1xuICAgICAgICAvLyBGaWxsIGluIG91ciBhcnJheSBvZiB0aGUgb3JkZXIgaW4gd2hpY2ggd2Ugd2lsbCBjeWNsZSB0aGUgdmFsdWVzXG4gICAgICAgIHRvQ3ljbGVbMF0gPSBmaXJzdFJvdGF0ZTtcbiAgICAgICAgdG9DeWNsZVsxXSA9IChmaXJzdFJvdGF0ZSArIDEpICUgMztcbiAgICAgICAgdG9DeWNsZVsyXSA9IChmaXJzdFJvdGF0ZSArIDIpICUgMztcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBjeWNsZXMgYW5kIHNldCB0aGVpciB2YWx1ZXNcbiAgICAgICAgZm9yIChpZHggPSAwOyBpZHggPCB0b0N5Y2xlLmxlbmd0aDsgaWR4ICs9IDEpIHtcbiAgICAgICAgICAgIC8vIFJvdGF0ZSBhbmQgcXVpdCBpZiB3ZSBkb24ndCBoYXZlIHRvIHJvdGF0ZSBhbm90aGVyIHBpZWNlXG4gICAgICAgICAgICBpZiAoIXRoaXMucm90YXRlQXBwcm9wcmlhdGVIU0xWYWx1ZSh0b0N5Y2xlW2lkeF0pKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBSR0IgdmFsdWVzIHRvb1xuICAgICAgICB0aGlzLmdlbmVyYXRlUmdiVmFsdWVzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnRvSGV4U3RyaW5nKHdpdGhBbHBoYSk7XG4gICAgfVxuICAgIDtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gUk9UQVRFIFRIRSBDVVJSRU5UIENPTE9SXG4gICAgLyoqXG4gICAgICogcm90YXRlQXBwcm9wcmlhdGVIU0xWYWx1ZVxuICAgICAqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbmV4dCBhcHByb3ByaWF0ZSB2YWx1ZSBmb3IgdGhlIEhTTCB0eXBlLCBhbmRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBcdGlkeFx0XHRUaGUgdHlwZSBvZiBIU0wgdmFsdWVzIHdlIHNob3VsZCByb3RhdGVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUcnVlIGlmIGEgZnVsbCBjaXJjbGUgaGFzIGJlZW4gbWFkZSBmb3IgdGhpcyBwYXJ0aWN1bGFyIGluZGV4O1xuICAgICAqIFx0XHRcdEZhbHNlIG90aGVyd2lzZVxuICAgICAqXG4gICAgICovXG4gICAgcm90YXRlQXBwcm9wcmlhdGVIU0xWYWx1ZShpZHgpIHtcbiAgICAgICAgO1xuICAgICAgICB2YXIgdmFsLCBzdGFydDtcbiAgICAgICAgLy8gR3JhYiB0aGUgYXBwcm9wcmlhdGUgY3VycmVudCB2YWx1ZSBhbmQgc3RhcnQgdmFsdWVcbiAgICAgICAgc3dpdGNoIChpZHgpIHtcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMi5IU0xQaWVjZUVudW0uU0FUVVJBVElPTjpcbiAgICAgICAgICAgICAgICB2YWwgPSB0aGlzLnJvdGF0ZVNhdHVyYXRpb24oKTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IHRoaXMuX3N0YXJ0U2F0dXJhdGlvbjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMi5IU0xQaWVjZUVudW0uTElHSFRORVNTOlxuICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMucm90YXRlTGlnaHRuZXNzKCk7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSB0aGlzLl9zdGFydExpZ2h0bmVzcztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMi5IU0xQaWVjZUVudW0uSFVFOlxuICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMucm90YXRlSHVlKCk7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSB0aGlzLl9zdGFydEh1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm4gdHJ1ZSBpZiB3ZSdkIG1hZGUgYSBmdWxsIGNpcmNsZVxuICAgICAgICBpZiAodmFsID09PSBzdGFydCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogcm90YXRlSHVlXG4gICAgICpcbiAgICAgKiBSb3RhdGVzIG91ciBjdXJyZW50IGh1ZSB2YWx1ZSBhIHNldCBhbW91bnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBuZXcgaHVlIHZhbHVlIGZvciB0aGUgY29sb3JcbiAgICAgKlxuICAgICAqL1xuICAgIHJvdGF0ZUh1ZSgpIHtcbiAgICAgICAgO1xuICAgICAgICB0aGlzLl9odWUgPSB0aGlzLnJvdGF0ZUhzbFZhbHVlKHRoaXMuX2h1ZSwgY29uc3RhbnRzXzEuSFVFX0lOVEVSVkFMLCAzNjApO1xuICAgICAgICByZXR1cm4gdGhpcy5faHVlO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogcm90YXRlU2F0dXJhdGlvblxuICAgICAqXG4gICAgICogR2V0IHRoZSBuZXh0IHNhdHVyYXRpb24gdmFsdWUgZm9yIHRoaXMgY29sb3JcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUaGUgbmV4dCBzYXR1cmF0aW9uIHZhbHVlXG4gICAgICpcbiAgICAgKi9cbiAgICByb3RhdGVTYXR1cmF0aW9uKCkge1xuICAgICAgICA7XG4gICAgICAgIHJldHVybiB0aGlzLl9zYXR1cmF0aW9uID0gdGhpcy5yb3RhdGVIc2xWYWx1ZSh0aGlzLl9zYXR1cmF0aW9uLCBjb25zdGFudHNfMS5TQVRVUkFUSU9OX0lOVEVSVkFMLCAxMDAsIGNvbnN0YW50c18xLlNBVFVSQVRJT05fTElNSVRTLm1heCwgY29uc3RhbnRzXzEuU0FUVVJBVElPTl9MSU1JVFMubWluKTtcbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIHJvdGF0ZUxpZ2h0bmVzc1xuICAgICAqXG4gICAgICogR2V0IHRoZSBuZXh0IGxpZ2h0bmVzcyB2YWx1ZSBmb3IgdGhpcyBjb2xvclxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRoZSBuZXh0IGxpZ2h0bmVzcyB2YWx1ZVxuICAgICAqXG4gICAgICovXG4gICAgcm90YXRlTGlnaHRuZXNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGlnaHRuZXNzID0gdGhpcy5yb3RhdGVIc2xWYWx1ZSh0aGlzLl9saWdodG5lc3MsIGNvbnN0YW50c18xLkxJR0hUX0lOVEVSVkFMLCAxMDAsIGNvbnN0YW50c18xLkxJR0hUTkVTU19MSU1JVFMubWF4LCBjb25zdGFudHNfMS5MSUdIVE5FU1NfTElNSVRTLm1pbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJvdGF0ZUhzbFZhbHVlXG4gICAgICpcbiAgICAgKiBSb3RhdGVzIGEgZ2l2ZW4gSFNMIHZhbHVlIGJ5IGFuIGFwcHJvcHJpYXRlIGludGVydmFsIHRvIGdldCBhIG5ldyBjb2xvclxuICAgICAqXG4gICAgICogQHBhcmFtIFx0c3RhcnRWYWxcdFRoZSB2YWx1ZSB0aGUgSFNMIHZhbHVlIHN0YXJ0ZWQgd2l0aFxuICAgICAqIEBwYXJhbSBcdGluYyBcdFx0SG93IG11Y2ggdGhlIEhTTCB2YWx1ZSBzaG91bGQgYmUgaW5jcmVtZW50ZWRcbiAgICAgKiBAcGFyYW0gXHRtb2RCeVx0XHRXaGF0IHRoZSBtb2Qgb2YgdGhlIEhTTCB2YWx1ZSBzaG91bGQgYmVcbiAgICAgKiBAcGFyYW0gXHRtYXhcdFx0XHRUaGUgbWF4aW11bSB0aGlzIEhTTCB2YWx1ZSBjYW4gYmVcbiAgICAgKiBAcGFyYW0gXHRtaW5cdFx0XHRUaGUgbWluaW11bSB0aGlzIEhTTCB2YWx1ZSBjYW4gYmVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBuZXdseSByb3RhdGUgSFNMIHZhbHVlXG4gICAgICpcbiAgICAgKi9cbiAgICByb3RhdGVIc2xWYWx1ZShzdGFydFZhbCwgaW5jLCBtb2RCeSwgbWF4LCBtaW4pIHtcbiAgICAgICAgO1xuICAgICAgICB2YXIgb3V0O1xuICAgICAgICAvLyBJbmNyZW1lbnQgYW5kIG1vZFxuICAgICAgICBvdXQgPSBzdGFydFZhbCArPSBpbmM7XG4gICAgICAgIG91dCAlPSBtb2RCeTtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBuZWl0aGVyIG1heCBub3IgbWluLCBxdWl0IG5vd1xuICAgICAgICBpZiAoIW1heCkge1xuICAgICAgICAgICAgcmV0dXJuIG1hdGhzXzEucm91bmRUb1BsYWNlKG91dCwgMTApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbWluICYmIChtaW4gIT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0aHNfMS5yb3VuZFRvUGxhY2Uob3V0LCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTG9vcCB1bnRpbCB3ZSBoYXZlIGFuIGFjY2VwdGFibGUgdmFsdWVcbiAgICAgICAgd2hpbGUgKChvdXQgPCBtaW4pIHx8IChvdXQgPiBtYXgpKSB7XG4gICAgICAgICAgICBvdXQgPSBzdGFydFZhbCArPSBpbmM7XG4gICAgICAgICAgICBvdXQgJT0gbW9kQnk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmV0dXJuIHRoZSBhcHByb3ByaWF0ZSB2YWx1ZVxuICAgICAgICByZXR1cm4gbWF0aHNfMS5yb3VuZFRvUGxhY2Uob3V0LCAxMCk7XG4gICAgfVxuICAgIDtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gSU5URVJBQ1QgV0lUSCBBTk9USEVSIENPTE9SXG4gICAgLyoqXG4gICAgICogZ2V0QXBwYXJlbnRDb2xvclxuICAgICAqXG4gICAgICogQ2FsY3VsYXRlcyB3aGF0IHRoZSBkaXNwbGF5IGNvbG9yIG9mIHRoaXMgY29sb3Igd291bGQgYmUgd2l0aG91dCBzZXR0aW5nIGFuIGFscGhhIHZhbHVlLlxuICAgICAqIENhbiBjYWxjdWxhdGUgd2hhdCB0aGUgUkdCIHZhbHVlIHNob3VsZCBiZSBnaXZlbiBhIGJhY2tncm91bmQgY29sb3IgaW5zdGVhZCBvZiBSR0JBXG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRiYWNrQ29sb3IgXHRFaXRoZXIgdGhlIGNvbG9yIG9iamVjdCBvciBjb2xvciBzdHJpbmcgZm9yIHRoZSBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHdlIHdlcmUgc3VjY2Vzc2Z1bGx5IGFibGUgdG8gY2FsY3VsYXRlIHRoZSBhcHBhcmVudCBjb2xvci5cbiAgICAgKlxuICAgICAqL1xuICAgIGdldEFwcGFyZW50Q29sb3IoYmFja0NvbG9yKSB7XG4gICAgICAgIDtcbiAgICAgICAgbGV0IGM7XG4gICAgICAgIGxldCBhbnRpQWxwaGE7XG4gICAgICAgIC8vIFBhcnNlIHRoZSBiYWNrQ29sb3IgaWYgaXQgaXMgYSBzdHJpbmcsIG9yIGp1c3QgbGVhdmUgaXQgaWYgaXQgaXMgYW4gb2JqZWN0XG4gICAgICAgIGlmIChiYWNrQ29sb3IuX3JlZCkge1xuICAgICAgICAgICAgYyA9IGJhY2tDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGMgPSBuZXcgQW55Q29sb3IoYmFja0NvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBxdWl0IGlmIHRoaXMgY29sb3Igd2FzIHBhcnNlZCBpbmNvcnJlY3RseVxuICAgICAgICBpZiAoIWMuX3BhcnNlZENvcnJlY3RseSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGFudGlBbHBoYSA9IDEgLSB0aGlzLl9hbHBoYTtcbiAgICAgICAgdGhpcy5fcmVkID0gTWF0aC5yb3VuZCgodGhpcy5fcmVkICogdGhpcy5fYWxwaGEpICsgKGMuX3JlZCAqIGFudGlBbHBoYSkpO1xuICAgICAgICB0aGlzLl9ncmVlbiA9IE1hdGgucm91bmQoKHRoaXMuX2dyZWVuICogdGhpcy5fYWxwaGEpICsgKGMuX2dyZWVuICogYW50aUFscGhhKSk7XG4gICAgICAgIHRoaXMuX2JsdWUgPSBNYXRoLnJvdW5kKCh0aGlzLl9ibHVlICogdGhpcy5fYWxwaGEpICsgKGMuX2JsdWUgKiBhbnRpQWxwaGEpKTtcbiAgICAgICAgdGhpcy5fYWxwaGEgPSAxO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIGNvbXBhcmVcbiAgICAgKlxuICAgICAqIEZpbmRzIGhvdyBzaW1pbGFyIHR3byBjb2xvcnMgYXJlIGJhc2VkIG9uIHRoZWlyIEhTTCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge0NvbG9yfSBvdGhlckNvbG9yICAtIFRoZSBjb2xvciB3ZSBhcmUgY29tcGFyaW5nIHRvXG4gICAgICogQHBhcmFtIG11bHRpcGxpZXJzIC0gVGhlIG11bHRpcGxpZXJzIHdlIHNob3VsZCB1c2UgdG8gY2FsY3VsYXRlIHRoZSBkaWZmXG4gICAgICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHRvdGFsIGRpZmYgY2FsY3VsYXRpb24gYXMgd2VsbCBhcyB0aGUgcmF3IGRpZmYgdmFsdWVzXG4gICAgICpcbiAgICAgKi9cbiAgICBjb21wYXJlKG90aGVyX2NvbG9yLCBtdWx0aXBsaWVycykge1xuICAgICAgICA7XG4gICAgICAgIHZhciBkaWZmcztcbiAgICAgICAgLy8gSWYgd2UgZGlkbid0IGdldCBtdWx0aXBsZXJzLCBzZXQgc29tZSBkZWZhdWx0c1xuICAgICAgICBpZiAoIW11bHRpcGxpZXJzKSB7XG4gICAgICAgICAgICBtdWx0aXBsaWVycyA9IHtcbiAgICAgICAgICAgICAgICBodWU6IDEsXG4gICAgICAgICAgICAgICAgc2F0dXJhdGlvbjogMC4wNCxcbiAgICAgICAgICAgICAgICBsaWdodG5lc3M6IDAuMDQsXG4gICAgICAgICAgICAgICAgYWxwaGE6IDAuMDRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgSFNMIGZvciBib3RoIGNvbG9yc1xuICAgICAgICBvdGhlcl9jb2xvci5nZW5lcmF0ZUhzbFZhbHVlcygpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlSHNsVmFsdWVzKCk7XG4gICAgICAgIC8vIEdyYWIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIHZhbHVlc1xuICAgICAgICBkaWZmcyA9IHtcbiAgICAgICAgICAgIGh1ZTogKG90aGVyX2NvbG9yLl9odWUgLSB0aGlzLl9odWUpLFxuICAgICAgICAgICAgc2F0dXJhdGlvbjogKG90aGVyX2NvbG9yLl9zYXR1cmF0aW9uIC0gdGhpcy5fc2F0dXJhdGlvbiksXG4gICAgICAgICAgICBsaWdodG5lc3M6IChvdGhlcl9jb2xvci5fbGlnaHRuZXNzIC0gdGhpcy5fbGlnaHRuZXNzKSxcbiAgICAgICAgICAgIGFscGhhOiAob3RoZXJfY29sb3IuX2FscGhhIC0gdGhpcy5fYWxwaGEpXG4gICAgICAgIH07XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgdG90YWwgZGlmZlxuICAgICAgICBkaWZmcy50b3RhbCA9IDA7XG4gICAgICAgIGRpZmZzLnRvdGFsICs9IChNYXRoLmFicyhkaWZmcy5odWUpICogKG11bHRpcGxpZXJzLmh1ZSB8fCAwKSk7XG4gICAgICAgIGRpZmZzLnRvdGFsICs9IChNYXRoLmFicyhkaWZmcy5zYXR1cmF0aW9uKSAqIChtdWx0aXBsaWVycy5zYXR1cmF0aW9uIHx8IDApKTtcbiAgICAgICAgZGlmZnMudG90YWwgKz0gKE1hdGguYWJzKGRpZmZzLmxpZ2h0bmVzcykgKiAobXVsdGlwbGllcnMubGlnaHRuZXNzIHx8IDApKTtcbiAgICAgICAgZGlmZnMudG90YWwgKz0gKE1hdGguYWJzKGRpZmZzLmFscGhhKSAqIChtdWx0aXBsaWVycy5hbHBoYSB8fCAwKSk7XG4gICAgICAgIC8vIHJldHVybiBvdXIgZGlmZnMgYXJyYXlcbiAgICAgICAgcmV0dXJuIGRpZmZzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBhdmVyYWdlSW5cbiAgICAgKlxuICAgICAqIEF2ZXJhZ2VzIGluIGFub3RoZXIgY29sb3IgaW50byB0aGlzIG9uZVxuICAgICAqIEBwYXJhbSAgIHtDb2xvcn0gICBvdGhlcl9jb2xvciBUaGUgb3RoZXIgY29sb3IgdG8gYXZlcmFnZSBpblxuICAgICAqIEBwYXJhbSAgIHtib29sZWFufSBub19tZXJnZSAgICBUcnVlIGlmIHdlIHNob3VsZCBqdXN0IHJldHVybiB0aGUgYXZlcmFnZXMgaW5zdGVhZCBvZiBtZXJnaW5nIHRoZW0gaW4gdG8gdGhpcyBjb2xvclxuICAgICAqIEByZXR1cm5zIHtDb2xvcn0gICAgICAgICAgICAgICBUaGUgcmVzdWx0aW5nIG1lcmdlZCBjb2xvclxuICAgICAqXG4gICAgICovXG4gICAgYXZlcmFnZUluKG90aGVyX2NvbG9yLCBub19tZXJnZSkge1xuICAgICAgICA7XG4gICAgICAgIGxldCBhdmdzO1xuICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBIU0wgdmFsdWVzIGZvciBib3RoIGNvbG9yc1xuICAgICAgICBvdGhlcl9jb2xvci5nZW5lcmF0ZUhzbFZhbHVlcygpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlSHNsVmFsdWVzKCk7XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgYXZlcmFnZXNcbiAgICAgICAgYXZncyA9IHtcbiAgICAgICAgICAgIGh1ZTogKCh0aGlzLl9odWUgKyBvdGhlcl9jb2xvci5faHVlKSAvIDIpLFxuICAgICAgICAgICAgc2F0dXJhdGlvbjogKCh0aGlzLl9zYXR1cmF0aW9uICsgb3RoZXJfY29sb3IuX3NhdHVyYXRpb24pIC8gMiksXG4gICAgICAgICAgICBsaWdodG5lc3M6ICgodGhpcy5fbGlnaHRuZXNzICsgb3RoZXJfY29sb3IuX2xpZ2h0bmVzcykgLyAyKSxcbiAgICAgICAgICAgIGFscGhhOiAoKHRoaXMuX2FscGhhICsgb3RoZXJfY29sb3IuX2FscGhhKSAvIDIpXG4gICAgICAgIH07XG4gICAgICAgIGlmIChub19tZXJnZSkge1xuICAgICAgICAgICAgcmV0dXJuIGF2Z3M7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IHRoZXNlIGF2ZXJhZ2VkIHZhbHVlcyBhcyBvdXIgY29sb3JzIG5ldyBjb2xvcnNcbiAgICAgICAgdGhpcy5faHVlID0gTWF0aC5yb3VuZChhdmdzLmh1ZSk7XG4gICAgICAgIHRoaXMuX3NhdHVyYXRpb24gPSAoTWF0aC5mbG9vcihhdmdzLnNhdHVyYXRpb24gKiAxMCkgLyAxMCk7XG4gICAgICAgIHRoaXMuX2xpZ2h0bmVzcyA9IChNYXRoLmZsb29yKGF2Z3MubGlnaHRuZXNzICogMTApIC8gMTApO1xuICAgICAgICB0aGlzLl9hbHBoYSA9IChNYXRoLmZsb29yKGF2Z3MuYWxwaGEgKiAxMCkgLyAxMCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBlcXVhbHNcbiAgICAgKlxuICAgICAqIENoZWNrIGlmIHR3byBjb2xvcnMgYXJlIGZ1bmN0aW9uYWxseSBlcXVhbFxuICAgICAqXG4gICAgICogQHBhcmFtIFx0b3RoZXJcdFRoZSBjb2xvciB0byBjb21wYXJlIHRoaXMgdG9cbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUcnVlIGlmIHRoZSBjb2xvcnMgaGF2ZSB0aGUgc2FtZSB2YWx1ZXNcbiAgICAgKlxuICAgICAqL1xuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gKHRoaXMudG9IZXhTdHJpbmcodHJ1ZSkgPT09IG90aGVyLnRvSGV4U3RyaW5nKHRydWUpKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIExJR0hUIEFORCBEQVJLIERFVEVDVElPTlxuICAgIC8qKlxuICAgICAqIGlzRGFya1xuICAgICAqXG4gICAgICogQ2hlY2tzIGlmIHRoaXMgY29sb3Igb2JqZWN0IGlzIG1vcmUgZGFyayB0aGFuIGxpZ2h0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBjb2xvciBpcyBkYXJrXG4gICAgICpcbiAgICAgKi9cbiAgICBpc0RhcmsoKSB7XG4gICAgICAgIGlmICghdGhpcy5faHVlKVxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUhzbFZhbHVlcygpO1xuICAgICAgICByZXR1cm4gKHRoaXMubHVtaW5hbmNlIDw9IDcwKTtcbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIGlzTGlnaHRcbiAgICAgKlxuICAgICAqIENoZWNrcyBpZiB0aGlzIGNvbG9yIG9iamVjdCBpcyBtb3JlIGxpZ2h0IHRoYW4gZGFya1xuICAgICAqXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgY29sb3IgaXMgbGlnaHRcbiAgICAgKlxuICAgICAqL1xuICAgIGlzTGlnaHQoKSB7XG4gICAgICAgIGlmICghdGhpcy5faHVlKVxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUhzbFZhbHVlcygpO1xuICAgICAgICByZXR1cm4gKHRoaXMubHVtaW5hbmNlID4gNzApO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogZ2V0TGlnaHRuZXNzXG4gICAgICpcbiAgICAgKiBHcmFicyB0aGUgbGlnaHRuZXNzIHZhbHVlIG9mIHRoaXMgY29sb3JcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSB2YWx1ZSBvZiB0aGlzIGNvbG9yJ3MgbGlnaHRuZXNzXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXRMaWdodG5lc3MoKSB7XG4gICAgICAgIGlmICghdGhpcy5faHVlKVxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUhzbFZhbHVlcygpO1xuICAgICAgICByZXR1cm4gdGhpcy5fbGlnaHRuZXNzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2FsY3VsYXRlTHVtaW5hbmNlXG4gICAgICpcbiAgICAgKiBEZXRlcm1pbmUgdGhlIHBlcmNlaXZlZCBsdW1pbm9zaXR5IG9mIHRoZSBjb2xvclxuICAgICAqXG4gICAgICovXG4gICAgX2NhbGN1bGF0ZUx1bWluYW5jZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9yZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVSZ2JWYWx1ZXMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sdW1pbmFuY2UgPSAoKDAuMjEyNiAqIHRoaXMuX3JlZCkgKyAoMC43MTUyICogdGhpcy5fZ3JlZW4pICsgKDAuMDcyMiAqIHRoaXMuX2JsdWUpKSAvIDIuNTU7XG4gICAgfVxufVxuZXhwb3J0cy5Db2xvciA9IENvbG9yO1xuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gUkdCIENPTE9SXG4vKipcbiAqIEBjbGFzcyBSR0JDb2xvclxuICogQ3JlYXRlcyBhIGNvbG9yIGJhc2VkIG9uIFJHQlxuICogQHZlcnNpb24gMS4wXG4gKlxuICovXG5jbGFzcyBSR0JDb2xvciBleHRlbmRzIENvbG9yIHtcbiAgICAvKiogQ3JlYXRlcyBhbiBSR0IgQ29sb3IgKi9cbiAgICBjb25zdHJ1Y3RvcihyZWRPclJnYlN0cmluZywgZ3JlZW5PckFscGhhLCBibHVlLCBhbHBoYSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvLyBQYXJzZSB0aGUgc3RyaW5nIGlmIGl0IHdhcyBwYXNzZWQgaW5cbiAgICAgICAgaWYgKHR5cGVvZiByZWRPclJnYlN0cmluZyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VkQ29ycmVjdGx5ID0gdGhpcy5fcGFyc2VGcm9tUmdiQ29sb3IocmVkT3JSZ2JTdHJpbmcsIGdyZWVuT3JBbHBoYSk7XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIHVzZSB0aGUgbnVtZXJpYyB2YWx1ZXNcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVkID0gcmVkT3JSZ2JTdHJpbmc7XG4gICAgICAgICAgICB0aGlzLmdyZWVuID0gZ3JlZW5PckFscGhhO1xuICAgICAgICAgICAgdGhpcy5ibHVlID0gYmx1ZTtcbiAgICAgICAgICAgIHRoaXMuYWxwaGEgPSBhbHBoYTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlZENvcnJlY3RseSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0Q3VycmVudEh1ZVxuICAgICAqXG4gICAgICogR3JhYnMgdGhlIGN1cnJlbnQgUkdCIHN0cmluZyBmb3IgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdHdpdGhBbHBoYVx0VHJ1ZSBpZiB0aGUgc3RyaW5nIHNob3VsZCBpbmNsdWRlIHRoZSBhbHBoYSB2YWx1ZVxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIFJHQiBzdHJpbmcgZm9yIHRoZSBjb2xvclxuICAgICAqXG4gICAgICovXG4gICAgZ2V0Q3VycmVudENvbG9yKHdpdGhBbHBoYSkge1xuICAgICAgICByZXR1cm4gdGhpcy50b1JnYlN0cmluZyh3aXRoQWxwaGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuUkdCQ29sb3IgPSBSR0JDb2xvcjtcbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIEhTTCBDT0xPUlxuLyoqXG4gKiBAY2xhc3MgSFNMQ29sb3JcbiAqIENyZWF0ZXMgYSBjb2xvciBiYXNlZCBvbiBIU0xcbiAqIEB2ZXJzaW9uIDEuMFxuICpcbiAqL1xuY2xhc3MgSFNMQ29sb3IgZXh0ZW5kcyBDb2xvciB7XG4gICAgLyoqIENyZWF0ZXMgYW4gSFNMIENvbG9yICovXG4gICAgY29uc3RydWN0b3IoaHVlT3JIc2xTdHJpbmcsIHNhdHVyYXRpb25PckFscGhhLCBsaWdodG5lc3MsIGFscGhhKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIC8vIHBhcnNlIHRoZSBjb2xvciBzdHJpbmcgaWYgcGFzc2VkIGluXG4gICAgICAgIGlmICh0eXBlb2YgaHVlT3JIc2xTdHJpbmcgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlZENvcnJlY3RseSA9IHRoaXMuX3BhcnNlRnJvbUhzbENvbG9yKGh1ZU9ySHNsU3RyaW5nLCBzYXR1cmF0aW9uT3JBbHBoYSk7XG4gICAgICAgICAgICAvLyB1c2UgdGhlIG51bWVyaWMgdmFsdWVzXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmh1ZSA9IGh1ZU9ySHNsU3RyaW5nO1xuICAgICAgICAgICAgdGhpcy5zYXR1cmF0aW9uID0gc2F0dXJhdGlvbk9yQWxwaGE7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0bmVzcyA9IGxpZ2h0bmVzcztcbiAgICAgICAgICAgIHRoaXMuYWxwaGEgPSBhbHBoYTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlZENvcnJlY3RseSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0Q3VycmVudEh1ZVxuICAgICAqXG4gICAgICogR3JhYnMgdGhlIGN1cnJlbnQgSFNMIHN0cmluZyBmb3IgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdHdpdGhBbHBoYVx0VHJ1ZSBpZiB0aGUgc3RyaW5nIHNob3VsZCBpbmNsdWRlIHRoZSBhbHBoYSB2YWx1ZVxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIEhTTCBzdHJpbmcgZm9yIHRoZSBjb2xvclxuICAgICAqXG4gICAgICovXG4gICAgZ2V0Q3VycmVudENvbG9yKHdpdGhBbHBoYSkge1xuICAgICAgICByZXR1cm4gdGhpcy50b0hzbFN0cmluZyh3aXRoQWxwaGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuSFNMQ29sb3IgPSBIU0xDb2xvcjtcbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIEhFWCBDT0xPUlxuY2xhc3MgSGV4Q29sb3IgZXh0ZW5kcyBDb2xvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGhleCBjb2xvclxuICAgICAqXG4gICAgICogQHBhcmFtIFx0aGV4U3RyaW5nXHRUaGUgaGV4IG9yIGhleC1hbHBoYSBzdHJpbmcgdG8gYmFzZSB0aGlzIGNvbG9yIG9uXG4gICAgICogQHBhcmFtIFx0YWxwaGFcdFx0SWYgbm90IGEgcGFydCBvZiB0aGUgc3RyaW5nLCB0aGUgYWxwaGEgdmFsdWUgdG8gdXNlXG4gICAgICogXHRcdFx0XHRcdFx0Zm9yIHRoaXMgY29sb3JcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGhleFN0cmluZywgYWxwaGEpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fcGFyc2VkQ29ycmVjdGx5ID0gdGhpcy5fcGFyc2VGcm9tSGV4Q29sb3IoaGV4U3RyaW5nKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0Q3VycmVudEh1ZVxuICAgICAqXG4gICAgICogR3JhYnMgdGhlIGN1cnJlbnQgaGV4IHN0cmluZyBmb3IgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdHdpdGhBbHBoYVx0VHJ1ZSBpZiB0aGUgc3RyaW5nIHNob3VsZCBpbmNsdWRlIHRoZSBhbHBoYSB2YWx1ZVxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGhleCBzdHJpbmcgZm9yIHRoZSBjb2xvclxuICAgICAqXG4gICAgICovXG4gICAgZ2V0Q3VycmVudENvbG9yKHdpdGhBbHBoYSkge1xuICAgICAgICByZXR1cm4gdGhpcy50b0hleFN0cmluZyh3aXRoQWxwaGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuSGV4Q29sb3IgPSBIZXhDb2xvcjtcbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIEFOWSBDT0xPUiBUWVBFXG4vKipcbiAqIEBjbGFzcyBBbnlDb2xvclxuICogQ29sb3IgY2xhc3MgdGhhdCBjYW4gdGFrZSBpbiBhbnkgY29sb3Igc3RyaW5nXG4gKiBAdmVyc2lvbiAxLjBcbiAqXG4gKi9cbmNsYXNzIEFueUNvbG9yIGV4dGVuZHMgQ29sb3Ige1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjb2xvclxuICAgICAqXG4gICAgICogQHBhcmFtXHRjb2xvclN0cmluZ1x0XHRUaGUgc3RyaW5nIHRvIGNyZWF0ZSBmcm9tXG4gICAgICogQHBhcmFtXHRhbHBoYVx0XHRcdElmIG5vdCBpbmNsdWRlZCBpbiB0aGUgY29sb3Igc3RyaW5nLCB0aGUgYWxwaGFcbiAgICAgKiBcdFx0XHRcdFx0XHRcdHZhbHVlIHRvIHVzZSBmb3IgdGhlIGNvbG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29sb3JTdHJpbmcsIGFscGhhKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3BhcnNlZENvcnJlY3RseSA9IHRoaXMuX3BhcnNlQ29sb3JTdHJpbmcoY29sb3JTdHJpbmcsIGFscGhhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0Q3VycmVudENvbG9yXG4gICAgICpcbiAgICAgKiBHcmFicyB0aGUgY3VycmVudCBoZXggc3RyaW5nIGZvciB0aGUgY29sb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSBcdHdpdGhBbHBoYVx0VHJ1ZSBpZiB0aGUgc3RyaW5nIHNob3VsZCBjb250YWluIHRoZSBhbHBoYSB2YWx1ZVxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRoZSBoZXggc3RyaW5nIGZvciB0aGUgY29sb3JcbiAgICAgKlxuICAgICAqL1xuICAgIGdldEN1cnJlbnRDb2xvcih3aXRoQWxwaGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9IZXhTdHJpbmcod2l0aEFscGhhKTtcbiAgICB9XG59XG5leHBvcnRzLkFueUNvbG9yID0gQW55Q29sb3I7XG4vLyNlbmRyZWdpb25cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBwYWRkVG9EaWdpdHNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHBhZCBhIG51bWJlciBvdXQgdG8gdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgZGlnaXRzIGJ5IHByZXBlbmRpbmcgMCdzXG4gKlxuICogQHBhcmFtICAgdG9QYWQgICAgICAgICAgIFRoZSBudW1iZXIgdG8gYWRkIHBhZGRpbmcgdG9cbiAqIEBwYXJhbSAgIG51bWJlck9mRGlnaXRzICBIb3cgZmFyIHRvIHBhZCB0aGUgbnVtYmVyXG4gKlxuICogQHJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcgdmVyc2lvbiBvZiB0aGUgbnVtYmVyXG4gKi9cbmZ1bmN0aW9uIHBhZFRvRGlnaXRzKHRvUGFkLCBudW1iZXJPZkRpZ2l0cykge1xuICAgIGxldCBvdXRBcnIgPSB0b1BhZC50b1N0cmluZygpLnNwbGl0KFwiXCIpO1xuICAgIHdoaWxlIChvdXRBcnIubGVuZ3RoIDwgbnVtYmVyT2ZEaWdpdHMpIHtcbiAgICAgICAgb3V0QXJyLnNwbGljZSgwLCAwLCBcIjBcIik7XG4gICAgfVxuICAgIHJldHVybiBvdXRBcnIuam9pbihcIlwiKTtcbn1cbmV4cG9ydHMucGFkVG9EaWdpdHMgPSBwYWRUb0RpZ2l0cztcbi8qKlxuICogZnVsbEhleFN0cmluZ1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogR3JhYnMgdGhlIGhleCB2YWx1ZSBmb3IgYSBnaXZlbiBudW1iZXIgYW5kIGVuc3VyZXMgaXQgaXMgYSBjZXJ0YWluIGxlbmd0aFxuICpcbiAqIEBwYXJhbSBcdHZhbCBcdFRoZSBudW1iZXIgdG8gY29udmVydCB0byBIZXhcbiAqIEBwYXJhbSBcdGxlbmd0aCBcdEhvdyBsb25nIHRoZSBoZXggc3RyaW5nIHNob3VsZCBiZVxuICpcbiAqIEByZXR1cm5zIFRoZSBoZXggdmFsdWUgb2YgdGhlIHBhc3NlZCBpbiBudW1iZXJcbiAqXG4gKi9cbmZ1bmN0aW9uIGZ1bGxIZXhTdHJpbmcodmFsLCBsZW5ndGgpIHtcbiAgICA7XG4gICAgbGV0IG91dEhleFN0cmluZztcbiAgICBsZXQgaTtcbiAgICBsZW5ndGggPSBsZW5ndGggfHwgMDtcbiAgICBvdXRIZXhTdHJpbmcgPSB2YWwudG9TdHJpbmcoMTYpO1xuICAgIGlmIChvdXRIZXhTdHJpbmcubGVuZ3RoIDwgbGVuZ3RoKSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAobGVuZ3RoIC0gb3V0SGV4U3RyaW5nLmxlbmd0aCk7IGkgKz0gMSkge1xuICAgICAgICAgICAgb3V0SGV4U3RyaW5nID0gXCIwXCIgKyBvdXRIZXhTdHJpbmc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dEhleFN0cmluZztcbn1cbmV4cG9ydHMuZnVsbEhleFN0cmluZyA9IGZ1bGxIZXhTdHJpbmc7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG5hdmlnYXRlXzEgPSByZXF1aXJlKFwiLi4vLi4vb2JqZWN0SGVscGVycy9uYXZpZ2F0ZVwiKTtcbmNsYXNzIFRyZWUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5fc3ViVHJlZXMgPSB7fTtcbiAgICB9XG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSURFTlRJVFkgRlVOQ1RJT05TXG4gICAgaXNMZWFmTm9kZSgpIHtcbiAgICAgICAgbGV0IGtleSA9IG5hdmlnYXRlXzEuZ2V0TmV4dEtleSh0aGlzLl9zdWJUcmVlcyk7XG4gICAgICAgIHJldHVybiAoIWtleSk7XG4gICAgfVxuICAgIGdldERlcHRoKCkge1xuICAgICAgICBsZXQgZGVwdGhzID0gWzFdO1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLl9zdWJUcmVlcywgKHRyZWUpID0+IHtcbiAgICAgICAgICAgIGRlcHRocy5wdXNoKHRyZWUuZ2V0RGVwdGgoKSArIDEpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KC4uLmRlcHRocyk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgc3RyaW5nIGZvciB0aGUgc3VidHJlZXNcbiAgICAgICAgbGV0IHN1YlRyZWVzID0gW107XG4gICAgICAgIG5hdmlnYXRlXzEubWFwKHRoaXMuX3N1YlRyZWVzLCAoc3ViVHJlZSkgPT4ge1xuICAgICAgICAgICAgc3ViVHJlZXMucHVzaChzdWJUcmVlLnRvU3RyaW5nKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaW5jbHVkZSB0aGUgY2VudGVyIG5vZGVcbiAgICAgICAgbGV0IGFyciA9IFtdO1xuICAgICAgICBhcnIucHVzaCh0aGlzLl9kYXRhLnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAoc3ViVHJlZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYXJyLnB1c2goXCItPihcIik7XG4gICAgICAgICAgICBhcnIucHVzaChzdWJUcmVlcy5qb2luKFwiLFwiKSk7XG4gICAgICAgICAgICBhcnIucHVzaChcIilcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyci5qb2luKFwiXCIpO1xuICAgIH1cbn1cbmV4cG9ydHMuVHJlZSA9IFRyZWU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRyYXdhYmxlXzEgPSByZXF1aXJlKFwiLi4vZHJhd2FibGUvZHJhd2FibGVcIik7XG5jb25zdCBjc3NfMSA9IHJlcXVpcmUoXCIuLi9zdHlsZUhlbHBlcnMvY3NzXCIpO1xuY29uc3QgZ2VuZXJhbEhlbHBlcnNfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9nZW5lcmFsSGVscGVyc1wiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgR2VuZXJpY0RyYWdnYWJsZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRHJhd2FibGUgZWxlbWVudCB0aGF0IGFsc28gY2FuIGJlIGRyYWdnZWQgYXJvdW5kXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIEdlbmVyaWNEcmFnZ2FibGUgZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIElOSVRJQUxJWkUgVEhFIERSQUdHQUJMRVxuICAgIC8qKlxuICAgICAqIEdlbmVyaWNEcmFnZ2FibGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGEgZHJhZ2dhYmxlXG4gICAgICogQHBhcmFtICAgb2JqICAgICBEZWZpbml0aW9uIG9mIHRoZSBlbGVtZW50IGJlaW5nIGNyZWF0ZWRcbiAgICAgKiBAcGFyYW0gICB0YXJnZXQgIFRoZSB0YXJnZXQgb2ZcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvYmosIHRhcmdldCkge1xuICAgICAgICBzdXBlcihvYmopO1xuICAgICAgICB0aGlzLl90YXJnZXRzID0gW107XG4gICAgICAgIHRoaXMuYWRkVGFyZ2V0KHRhcmdldCk7XG4gICAgICAgIHRoaXMuX29uUmVuZGVyKCk7XG4gICAgICAgIGlmICh0aGlzLl9lbGVtcy5iYXNlKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuICAgICAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJkcmFnZ2FibGVcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGdyaWRTaXplKCkgeyByZXR1cm4gdGhpcy5fZ3JpZFNpemU7IH1cbiAgICBzZXQgZ3JpZFNpemUoZGF0YSkgeyB0aGlzLl9ncmlkU2l6ZSA9IGRhdGE7IH1cbiAgICBfYWRkRHJhZ2dpbmdTaWduaWZpZXIoKSB7XG4gICAgICAgIHRoaXMuX3NpZ25pZmllciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJkcmFnU2lnbmlmaWVyXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHsgY2xzOiBcImRvdFwiIH0sXG4gICAgICAgICAgICAgICAgeyBjbHM6IFwiZG90XCIgfSxcbiAgICAgICAgICAgICAgICB7IGNsczogXCJkb3RcIiB9LFxuICAgICAgICAgICAgICAgIHsgY2xzOiBcImRvdFwiIH0sXG4gICAgICAgICAgICAgICAgeyBjbHM6IFwiZG90XCIgfSxcbiAgICAgICAgICAgICAgICB7IGNsczogXCJkb3RcIiB9LFxuICAgICAgICAgICAgICAgIHsgY2xzOiBcImRvdFwiIH0sXG4gICAgICAgICAgICAgICAgeyBjbHM6IFwiZG90XCIgfSxcbiAgICAgICAgICAgICAgICB7IGNsczogXCJkb3RcIiB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuYmFzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZFRhcmdldFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGQgYSBuZXcgcG90ZW50aWFsIHRhcmdldCBvZlxuICAgICAqIEBwYXJhbSB0YXJnZXRcbiAgICAgKi9cbiAgICBhZGRUYXJnZXQodGFyZ2V0KSB7XG4gICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRyYWdnYWJsZVRhcmdldCA9IHRoaXMuX2NyZWF0ZURyYWdnYWJsZVRhcmdldCh0YXJnZXQpO1xuICAgICAgICB0aGlzLl90YXJnZXRzLnB1c2goZHJhZ2dhYmxlVGFyZ2V0KTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhFTFBFUlMgVE8gVFJBQ0sgTU9VU0UgU0hJRlRTXG4gICAgLyoqXG4gICAgICogX3VwZGF0ZU1vdXNlUG9pbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogVXBkYXRlIHRoZSBpbnRlcm5hbCBzdG9yYWdlIG9mIHRoZSBwb2ludFxuICAgICAqIEBwYXJhbSAgIGV2ZW50ICAgVGhlIG1vdXNlIGV2ZW50IHRyaWdnZXJpbmcgdGhpcyB1cGRhdGVcbiAgICAgKi9cbiAgICBfdXBkYXRlTW91c2VQb2ludChldmVudCkge1xuICAgICAgICAvLyB1cGRhdGUgdGhlIGN1cnJlbnQgcG9pbnRcbiAgICAgICAgdGhpcy5fY3VycmVudE1vdXNlUG9pbnQgPSB7XG4gICAgICAgICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgeTogZXZlbnQuY2xpZW50WVxuICAgICAgICB9O1xuICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgc3RhcnQgcG9pbnQsIGRvIGl0IG5vd1xuICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0TW91c2VQb2ludCkge1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRNb3VzZVBvaW50ID0gdGhpcy5fY3VycmVudE1vdXNlUG9pbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NhbGN1bGF0ZURlbHRhXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIERldGVybWluZSB0aGUgY3VycmVudCBkZWx0YSBiYXNlZCBvbiBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRoZSBjdXJyZW50IG1vdXNlXG4gICAgICogcG9zaXRpb24gJiBpbml0aWFsIG1vdXNlIHBvc2l0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIF9jYWxjdWxhdGVEZWx0YSgpIHtcbiAgICAgICAgLy8gcmV0dXJuIGVhcmx5IGlmIHdlIGRvbid0IGhhdmUgZW5vdWdoIGRhdGFcbiAgICAgICAgaWYgKCF0aGlzLl9jdXJyZW50TW91c2VQb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRlbHRhID0ge1xuICAgICAgICAgICAgeDogdGhpcy5fY3VycmVudE1vdXNlUG9pbnQueCAtIHRoaXMuX3N0YXJ0TW91c2VQb2ludC54LFxuICAgICAgICAgICAgeTogdGhpcy5fY3VycmVudE1vdXNlUG9pbnQueSAtIHRoaXMuX3N0YXJ0TW91c2VQb2ludC55XG4gICAgICAgIH07XG4gICAgICAgIC8vIHNuYXAgdG8gYSBncmlkIGlmIHdlIG91Z2h0IHRvXG4gICAgICAgIGlmICh0aGlzLl9ncmlkU2l6ZSA+IDEpIHtcbiAgICAgICAgICAgIGRlbHRhLnggPSB0aGlzLl9ub3JtYWxpemVUb0dyaWQoZGVsdGEueCwgdGhpcy5ncmlkU2l6ZSk7XG4gICAgICAgICAgICBkZWx0YS55ID0gdGhpcy5fbm9ybWFsaXplVG9HcmlkKGRlbHRhLnksIHRoaXMuZ3JpZFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWx0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX25vcm1hbGl6ZVRvR3JpZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBOb3JtYWxpemUgYSB2YWx1ZSB0byBmaXQgaW5zaWRlIG9mIHRoZSBncmlkIHBhcmFtcyB3ZSBoYXZlXG4gICAgICogQHBhcmFtICAgdmFsdWUgICBUaGUgdmFsdWUgdG8gbm9ybWFsaXplXG4gICAgICovXG4gICAgX25vcm1hbGl6ZVRvR3JpZCh2YWx1ZSwgZ3JpZFNpemUpIHtcbiAgICAgICAgbGV0IGFic1ZhbHVlID0gTWF0aC5hYnModmFsdWUpO1xuICAgICAgICBsZXQgdmFsID0gTWF0aC5mbG9vcihhYnNWYWx1ZSAvIGdyaWRTaXplKSAqIGdyaWRTaXplO1xuICAgICAgICBpZiAoKGFic1ZhbHVlICUgZ3JpZFNpemUpID4gKGdyaWRTaXplIC8gMikpIHtcbiAgICAgICAgICAgIHZhbCArPSBncmlkU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICAgICAgICB2YWwgKj0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gT1ZFUlJJREFCTEUgRlVOQ1RJT05TXG4gICAgLyoqXG4gICAgICogX29uRHJhZ1N0YXJ0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhhbmRsZSBkcmFnZ2luZyBvbiB0aGUgZHJhZ2dhYmxlXG4gICAgICogQHBhcmFtICAgZXZlbnQgLSBUaGUgbW91c2UgZXZlbnQgdGhhdCBpcyBzdGFydGluZyB0aGUgZHJhZ1xuICAgICAqL1xuICAgIF9vbkRyYWdTdGFydChldmVudCkge1xuICAgICAgICB0aGlzLl9pc0RyYWdnaW5nID0gdHJ1ZTtcbiAgICAgICAgR2VuZXJpY0RyYWdnYWJsZS5jdXJyZW50RHJhZ2dhYmxlID0gdGhpcztcbiAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJkcmFnZ2luZ1wiKTtcbiAgICAgICAgZm9yIChsZXQgdGFyZ2V0IG9mIHRoaXMuX3RhcmdldHMpIHtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKHRhcmdldC5iYXNlLCBcImRyYWdnaW5nT3ZlclwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVNb3VzZVBvaW50KGV2ZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uTW92ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgd2hlbiB0aGUgZHJhZ2dhYmxlIGlzIG1vdmVkXG4gICAgICogQHBhcmFtICAgZXZlbnQgICBUaGUgZXZlbnQgY2F1c2luZyB0aGUgbW92ZVxuICAgICAqL1xuICAgIF9vbk1vdmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0RyYWdnaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXBkYXRlTW91c2VQb2ludChldmVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkRyb3BcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlIHdoZW4gdGhpcyBlbGVtZW50IGlzIGRyb3BwZWRcbiAgICAgKiBAcGFyYW0gICBldmVudCAgIFRoZSBldmVudCBjYXVzaW5nIHRoZSBkcm9wXG4gICAgICovXG4gICAgX29uRHJvcChldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoRHJhZ2dhYmxlVGFyZ2V0LmN1cnJlbnREcmFnZ2FibGVUYXJnZXQpIHtcbiAgICAgICAgICAgIEdlbmVyaWNEcmFnZ2FibGUuY3VycmVudERyYWdnYWJsZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9zdGFydE1vdXNlUG9pbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudE1vdXNlUG9pbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJkcmFnZ2luZ1wiKTtcbiAgICAgICAgZm9yIChsZXQgdGFyZ2V0IG9mIHRoaXMuX3RhcmdldHMpIHtcbiAgICAgICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKHRhcmdldC5iYXNlLCBcImRyYWdnaW5nT3ZlclwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25SZW5kZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlIHJlbmRlcmluZyB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudFxuICAgICAqL1xuICAgIF9vblJlbmRlcigpIHtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vblJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtcy5iYXNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRlbHRhID0gdGhpcy5fY2FsY3VsYXRlRGVsdGEoKTtcbiAgICAgICAgaWYgKCFkZWx0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdlbmVyYWxIZWxwZXJzXzEubW92ZUVsZW1SZWxhdGl2ZVBvc2l0aW9uKHRoaXMuYmFzZSwgZGVsdGEpO1xuICAgICAgICAvLyByZXNldCB0aGUgcG9pbnRcbiAgICAgICAgdGhpcy5fc3RhcnRNb3VzZVBvaW50LnggKz0gZGVsdGEueDtcbiAgICAgICAgdGhpcy5fc3RhcnRNb3VzZVBvaW50LnkgKz0gZGVsdGEueTtcbiAgICB9XG59XG5leHBvcnRzLkdlbmVyaWNEcmFnZ2FibGUgPSBHZW5lcmljRHJhZ2dhYmxlO1xuLy8jZW5kcmVnaW9uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG4vKiogc3R5bGVzIHVzZWQgZm9yIHRoZSBkcmFnZ2FibGUgKi9cbkdlbmVyaWNEcmFnZ2FibGUuX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi5kcmFnZ2luZ092ZXJcIjoge1xuICAgICAgICBjdXJzb3I6IFwiLXdlYmtpdC1ncmFiYmluZyAhaW1wb3J0YW50XCIsXG4gICAgfSxcbiAgICBcIi5kcmFnZ2FibGVcIjoge1xuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZSAhaW1wb3J0YW50XCIsXG4gICAgICAgIGN1cnNvcjogXCItd2Via2l0LWdyYWJcIixcbiAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgZWFzZS1pbi1vdXQgLjAzc1wiLFxuICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgIFwiZGl2XCI6IHtcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwiLXdlYmtpdC1ncmFiXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiYuZ3JhYmJpbmdcIjoge1xuICAgICAgICAgICAgICAgIGN1cnNvcjogXCItd2Via2l0LWdyYWJiaW5nXCIsXG4gICAgICAgICAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiZGl2XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCItd2Via2l0LWdyYWJiaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiYuZHJhZ2dpbmdcIjoge1xuICAgICAgICAgICAgICAgIGJveFNoYWRvdzogXCI1cHggNXB4IDIwcHggMTBweCByZ2JhKDAsMCwwLC4yKSAhaW1wb3J0YW50XCIsXG4gICAgICAgICAgICAgICAgekluZGV4OiBcIjEwMFwiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCItd2Via2l0LWdyYWJiaW5nXCIsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogXCIxXCIsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiBcIjUwJSA1MCVcIixcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFwicm90YXRlKDBkZWcpXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIi5kcmFnU2lnbmlmaWVyXCI6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgIGxlZnQ6IFwiNXB4XCIsXG4gICAgICAgICAgICAgICAgdG9wOiBcIjVweFwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjE5cHhcIixcbiAgICAgICAgICAgICAgICBmbGV4V3JhcDogXCJ3cmFwXCIsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogXCIwLjVcIixcbiAgICAgICAgICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgXCImOmhvdmVyXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IFwiMVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiLm1vYmlsZSAmXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiLmRvdFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIzcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIzcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogXCIxcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDAsMCwwLC4zKVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleFNocmluazogXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiLmRyb3BwYWJsZVwiOiB7XG4gICAgICAgIGN1cnNvcjogXCItd2Via2l0LWRyYWdnaW5nXCJcbiAgICB9XG59O1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgRHJhZ2dhYmxlVGFyZ2V0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBUYXJnZXQgZm9yIGEgZHJhZ2dhYmxlIHRvIGJlIGFkZGVkIHRvXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIERyYWdnYWJsZVRhcmdldCBleHRlbmRzIGRyYXdhYmxlXzEuRHJhd2FibGUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ09OU1RSVUNUIERSQUdHQUJMRSBUQVJHRVRcbiAgICAvKipcbiAgICAgKiBEcmFnZ2FibGVUYXJnZXRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIHRoZSBkcmFnZ2FibGUgdGFyZ2V0XG4gICAgICogQHBhcmFtICAgc3JjRWxlbSAgICAgVGhlIGVsZW1lbnQgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyB0YXJnZXRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzcmNFbGVtKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UgPSBzcmNFbGVtO1xuICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImRyb3BwYWJsZVwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUVsZW1lbnRzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIChEb2VzIG5vdGhpbmc7IGNhbiBiZSBvdmVycmlkZGVuIGJ5IGNoaWxkIGNsYXNzZXMpXG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkgeyB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBPVkVSUklEQUJMRSBGVU5DVElPTlNcbiAgICAvKipcbiAgICAgKiBfb25EcmFnRW50ZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlXG4gICAgICovXG4gICAgX29uRHJhZ0VudGVyKGV2ZW50KSB7XG4gICAgICAgIERyYWdnYWJsZVRhcmdldC5jdXJyZW50RHJhZ2dhYmxlVGFyZ2V0ID0gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uRHJhZ0xlYXZlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqL1xuICAgIF9vbkRyYWdMZWF2ZShldmVudCkge1xuICAgICAgICBpZiAoRHJhZ2dhYmxlVGFyZ2V0LmN1cnJlbnREcmFnZ2FibGVUYXJnZXQgIT09IHRoaXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBEcmFnZ2FibGVUYXJnZXQuY3VycmVudERyYWdnYWJsZVRhcmdldCA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkRyb3BcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICovXG4gICAgX29uRHJvcChldmVudCkge1xuICAgICAgICBpZiAoR2VuZXJpY0RyYWdnYWJsZS5jdXJyZW50RHJhZ2dhYmxlKSB7XG4gICAgICAgICAgICBEcmFnZ2FibGVUYXJnZXQuY3VycmVudERyYWdnYWJsZVRhcmdldC5iYXNlLmFwcGVuZENoaWxkKEdlbmVyaWNEcmFnZ2FibGUuY3VycmVudERyYWdnYWJsZS5iYXNlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuRHJhZ2dhYmxlVGFyZ2V0ID0gRHJhZ2dhYmxlVGFyZ2V0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBwb3B1cF8xID0gcmVxdWlyZShcIi4vcG9wdXBcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdEVycm9yUG9wdXBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFNpbXBsZSBmb3JtIHRvIHNob3cgYW4gZXJyb3IgbWVzc2FnZVxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4wLjNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgRXJyb3JQb3B1cCBleHRlbmRzIHBvcHVwXzEuUG9wdXAge1xuICAgIC8qKlxuICAgICAqIEVycm9yUG9wdXBcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY3JlYXRlIGEgcG9wdXAgdGhhdCBzaG93cyBhbiBlcnJvciB0byB0aGUgdXNlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGRldGFpbHMsIHRpdGxlLCBvYmopIHtcbiAgICAgICAgc3VwZXIob2JqKTtcbiAgICAgICAgdGhpcy5zZXRUaXRsZSh0aXRsZSB8fCBcIlVoLW9oLi4udGhhdCB3YXNuJ3Qgc3VwcG9zZWQgdG8gaGFwcGVuXCIpO1xuICAgICAgICB0aGlzLmFkZENvbnRlbnQoXCJcIiwgXCJcIiwgZGV0YWlscyk7XG4gICAgICAgIHRoaXMuYWRkQnV0dG9uKFwiT2theVwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVyYXNlKCk7XG4gICAgICAgICAgICB0aGlzLl9ub3RpZnlDbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0IG9uQ2xvc2UoZikgeyB0aGlzLl9vbkNsb3NlID0gZjsgfVxuICAgIF9ub3RpZnlDbG9zZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vbkNsb3NlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb25DbG9zZSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuRXJyb3JQb3B1cCA9IEVycm9yUG9wdXA7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9maWVsZF8xID0gcmVxdWlyZShcIi4uL19maWVsZFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uLy4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCBuYXZpZ2F0ZV8xID0gcmVxdWlyZShcIi4uLy4uL29iamVjdEhlbHBlcnMvbmF2aWdhdGVcIik7XG5jb25zdCBhcnJheXNfMSA9IHJlcXVpcmUoXCIuLi8uLi9wcmltaXRpdmVIZWxwZXJzL2FycmF5c1wiKTtcbmNvbnN0IGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vLi4vYXN5bmNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBUb2dnbGVCdXR0b25GaWVsZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogdGVtcGxhdGUgZm9yIHRvZ2dsZSBidXR0b25zXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFRvZ2dsZUJ1dHRvbkZpZWxkIGV4dGVuZHMgX2ZpZWxkXzEuRmllbGQge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLyoqXG4gICAgICogVG9nZ2xlQnV0dG9uRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgYSB0b2dnbGUgYnV0dG9uIGNsYXNzXG4gICAgICogQHBhcmFtICAgaWQgICAgICAgICAgVGhlIElEIHRvIHVzZSBmb3IgdGhlIHRvZ2dsZSBidXR0b25cbiAgICAgKiBAcGFyYW0gICB0ZW1wbGF0ZSAgICBUaGUgdGVtcGxhdGUgZm9yIHRoaXMgZWxlbWVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkLCB0ZW1wbGF0ZSkge1xuICAgICAgICBzdXBlcihpZCwgdGVtcGxhdGUpO1xuICAgIH1cbiAgICAvKiogdHlwZSBmb3IgdGhlIHRvZ2dsZSBidXR0b25zICovXG4gICAgZ2V0IF90eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtLlRPR0dMRV9CVVRUT047IH1cbiAgICAvKiogZGVmYXVsdCBjbGFzcyBmb3IgdGhlIHRvZ2dsZSBidXR0b25zICovXG4gICAgZ2V0IF9kZWZhdWx0Q2xzKCkgeyByZXR1cm4gXCJ0b2dnbGVCdG5zXCI7IH1cbiAgICBfZ2V0VW5jb2xvcmVkU3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVyZ2VUaGVtZXMoX2ZpZWxkXzEuRmllbGQuX3VuY29sb3JlZFN0eWxlcywgVG9nZ2xlQnV0dG9uRmllbGQuX3VuY29sb3JlZFN0eWxlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9wYXJzZUZpZWxkVGVtcGxhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogUGFyc2UgZGF0YSBpbiB0aGUgZWxlbWVudCB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSAgIHRlbXBsYXRlICAgIEhhbmRsZSB0aGUgZWxlbWVudFxuICAgICAqL1xuICAgIF9wYXJzZUZpZWxkVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgc3VwZXIuX3BhcnNlRmllbGRUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSB0ZW1wbGF0ZS5vcHRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25DcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjcmVhdGUgdGhlIGVsZW1lbnRzIG5lZWRlZCBmb3IgdG9nZ2xlIGJ1dHRvbnNcbiAgICAgKi9cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMuY2hpbGRyZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlU2ltcGxlRWxlbWVudChcIlwiLCBcImZvcm1DaGlsZHJlblwiLCBcIlwiLCBudWxsLCBudWxsKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlT3B0aW9uc0VsZW1lbnRzKCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZVN0YW5kYXJkTGF5b3V0KCk7XG4gICAgfVxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBMQVlPVVRcbiAgICBfZmxleExheW91dCgpIHtcbiAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJmbGV4XCIpO1xuICAgICAgICB0aGlzLl9jcmVhdGVTdGFuZGFyZExhYmVsKHRoaXMuX2VsZW1zLmJhc2UpO1xuICAgICAgICB0aGlzLl9hcHBlbmRDaGlsZHJlbigpO1xuICAgIH1cbiAgICBfbXVsdGlMaW5lTGF5b3V0KCkge1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcIm11bHRpbGluZVwiKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlU3RhbmRhcmRMYWJlbCh0aGlzLl9lbGVtcy5iYXNlKTtcbiAgICAgICAgdGhpcy5fYXBwZW5kQ2hpbGRyZW4oKTtcbiAgICB9XG4gICAgX3RhYmxlTGF5b3V0KCkge1xuICAgICAgICB0aGlzLl9tdWx0aUxpbmVMYXlvdXQoKTtcbiAgICAgICAgLy9UT0RPOiBkbyBhIHJlYWwgdGFibGUgbGF5b3V0XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgX2FwcGVuZENoaWxkcmVuKCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1zLmNoaWxkcmVuQ29udGFpbmVyKTtcbiAgICAgICAgaWYgKHRoaXMuX2VsZW1zLnBvc3RDaGlsZHJlbkNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtcy5wb3N0Q2hpbGRyZW5Db250YWluZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9sYWJlbEFmdGVyTGF5b3V0KCkge1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImxhYmVsTGFzdFwiKTtcbiAgICAgICAgdGhpcy5fYXBwZW5kQ2hpbGRyZW4oKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlU3RhbmRhcmRMYWJlbCh0aGlzLl9lbGVtcy5iYXNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3VwZGF0ZU9wdGlvbnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiB1cGRhdGUgdGhlIGJ1dHRvbnMgdGhhdCBhcmUgcHJlc2VudGVkIGFzIG9wdGlvbnMgdG8gdGhlIHVzZXJcbiAgICAgKi9cbiAgICBfdXBkYXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIC8vIGNsZWFyIG91dCBhbnkgZXhpc3Rpbmcgb3B0aW9uc1xuICAgICAgICB0aGlzLl9jbGVhck9wdGlvbnMoKTtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBvcHRpb24gYXJyYXlzXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLl9jb25maWcub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIC8vIHJlZ2VuZXJhdGUgdGhlIGJ1dHRvbnNcbiAgICAgICAgdGhpcy5fY3JlYXRlT3B0aW9uc0VsZW1lbnRzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jbGVhck9wdGlvbnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjbGVhciBvdXQgdGhlIGN1cnJlbnQgc2V0IG9mIG9wdGlvbnNcbiAgICAgKi9cbiAgICBfY2xlYXJPcHRpb25zKCkge1xuICAgICAgICB0aGlzLl9idXR0b25zID0gW107XG4gICAgICAgIHRoaXMuX2VsZW1zLmNoaWxkcmVuQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVPcHRpb25zRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICovXG4gICAgX2NyZWF0ZU9wdGlvbnNFbGVtZW50cygpIHtcbiAgICAgICAgbmF2aWdhdGVfMS5tYXAodGhpcy5fb3B0aW9ucywgKGVsZW0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZU9wdGlvbkVsZW1lbnQoZWxlbSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlT3B0aW9uRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gZWxlbVxuICAgICAqL1xuICAgIF9jcmVhdGVPcHRpb25FbGVtZW50KGVsZW0pIHtcbiAgICAgICAgbGV0IGJ0biA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGlkOiB0aGlzLl9pZCArIFwiYnRuXCIgKyBlbGVtLnZhbHVlLFxuICAgICAgICAgICAgY2xzOiBcInRvZ2dsZUJ0blwiLFxuICAgICAgICAgICAgY29udGVudDogZWxlbS5sYWJlbCxcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuY2hpbGRyZW5Db250YWluZXIsXG4gICAgICAgICAgICBldmVudExpc3RlbmVyczoge1xuICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdEJ0bihidG4sIGVsZW0udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VFdmVudEZpcmVkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gY2hlY2sgaWYgd2UgYWxyZWFkeSBrbm93IHRoYXQgdGhpcyBidXR0b24gc2hvdWxkIGJlIHNlbGVjdGVkXG4gICAgICAgIGlmICh0aGlzLl9zaG91bGRCZVNlbGVjdGVkKGVsZW0pKSB7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RCdG4oYnRuLCBlbGVtLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgdGhpcyB0byBvdXIgYnV0dG9uIGFyYXJ5IGFzIGFwcHJvcHJpYXRlXG4gICAgICAgIGlmICghdGhpcy5fYnV0dG9ucykge1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1dHRvbnMucHVzaCh7IGtleTogZWxlbS52YWx1ZSwgYnRuOiBidG4gfSk7XG4gICAgICAgIHJldHVybiBidG47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkNoYW5nZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBwcm9jZXNzIHdoZW4gdGhlIHVzZXIgaGFzIGNoYW5nZWQgdGhlaXIgc2VsZWN0aW9uXG4gICAgICovXG4gICAgX2dldFZhbHVlRnJvbUZpZWxkKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLl9kYXRhO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHVwZGF0ZShkYXRhLCBhbGxvd0V2ZW50cykge1xuICAgICAgICBsZXQgY2hhbmdlZCA9ICF0aGlzLl90ZXN0RXF1YWxpdHkoZGF0YSk7XG4gICAgICAgIGlmICghY2hhbmdlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLnVwZGF0ZShkYXRhLCBhbGxvd0V2ZW50cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZVVJXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHVwZGF0ZSB0aGUgc2VsZWN0ZWQgYnV0dG9ucyBiYXNlZCBvbiB0aGUgcGFzc2VkIGluIGluZm9ybWF0aW9uXG4gICAgICovXG4gICAgX3VwZGF0ZVVJKGRhdGEpIHtcbiAgICAgICAgbGV0IGJ0biA9IHRoaXMuX2dldEJ1dHRvblRvVXBkYXRlKGRhdGEpO1xuICAgICAgICBhc3luY18xLndhaXQoMTAwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fc2VsZWN0QnRuKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJtaXNzaW5nIF9zZWxlY3RCdG46IFwiICsgdGhpcy5fc2VsZWN0QnRuKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIF9zZWxlY3QgZnVuY3Rpb25cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RCdG4oYnRuLCBkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9nZXRCdXR0b25Ub1VwZGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIF9nZXRCdXR0b25Ub1VwZGF0ZShkYXRhKSB7XG4gICAgICAgIGxldCBpZHggPSBhcnJheXNfMS5pbmRleE9mKHRoaXMuX2J1dHRvbnMsIHsga2V5OiBkYXRhLCBidG46IG51bGwgfSwgKGEsIGIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcXVhbGl0eVRlc3QoYSwgYik7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBidG4gPSB0aGlzLl9idXR0b25zW2lkeF0uYnRuO1xuICAgICAgICByZXR1cm4gYnRuO1xuICAgIH1cbiAgICBfZXF1YWxpdHlUZXN0KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIChhLmtleSA9PT0gYi5rZXkpO1xuICAgIH1cbiAgICBfdGVzdEVxdWFsaXR5KGEpIHsgcmV0dXJuIGZhbHNlOyB9XG59XG5leHBvcnRzLlRvZ2dsZUJ1dHRvbkZpZWxkID0gVG9nZ2xlQnV0dG9uRmllbGQ7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuLyoqIHN0YXRpYyBzdHlsZXMgZm9yIHRoZSB0b2dnbGUgYnV0dG9ucyAqL1xuVG9nZ2xlQnV0dG9uRmllbGQuX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi50b2dnbGVCdG5zIC5mb3JtQ2hpbGRyZW5cIjoge1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleFdyYXA6IFwid3JhcFwiLFxuICAgICAgICBtYXJnaW5MZWZ0OiBcIjBcIixcbiAgICAgICAgbWFyZ2luVG9wOiBcIjVweFwiXG4gICAgfSxcbiAgICBcIi50b2dnbGVCdG5zLmZsZXggLmZvcm1DaGlsZHJlblwiOiB7fSxcbiAgICBcIi50b2dnbGVCdG5cIjoge1xuICAgICAgICBib3JkZXJSYWRpdXM6IFwiM3B4XCIsXG4gICAgICAgIGJveFNoYWRvdzogXCIxcHggMXB4IDRweCAycHggcmdiYSgwLDAsMCwuMSlcIixcbiAgICAgICAgcGFkZGluZzogXCI0cHhcIixcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMTBweFwiLFxuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjAuOGVtXCIsXG4gICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgdHJhbnNwYXJlbnRcIixcbiAgICAgICAgb3BhY2l0eTogXCIwLjdcIixcbiAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgZWFzZS1pbi1vdXQgLjFzXCJcbiAgICB9LFxuICAgIFwiLnRvZ2dsZUJ0bi5zZWxlY3RlZCwgLnRvZ2dsZUJ0bjpob3ZlclwiOiB7XG4gICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgPGZvcm1UaGVtZT5cIixcbiAgICAgICAgdHJhbnNmb3JtOiBcInNjYWxlKDEuMDgpXCJcbiAgICB9LFxuICAgIFwiLnRvZ2dsZUJ0bi5zZWxlY3RlZFwiOiB7XG4gICAgICAgIG9wYWNpdHk6IFwiMVwiXG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIERpcmVjdGlvblR5cGU7XG4oZnVuY3Rpb24gKERpcmVjdGlvblR5cGUpIHtcbiAgICBEaXJlY3Rpb25UeXBlW0RpcmVjdGlvblR5cGVbXCJGT1JXQVJEXCJdID0gMV0gPSBcIkZPUldBUkRcIjtcbiAgICBEaXJlY3Rpb25UeXBlW0RpcmVjdGlvblR5cGVbXCJCQUNLV0FSRFwiXSA9IC0xXSA9IFwiQkFDS1dBUkRcIjtcbiAgICBEaXJlY3Rpb25UeXBlW0RpcmVjdGlvblR5cGVbXCJNT1ZFXCJdID0gMF0gPSBcIk1PVkVcIjtcbn0pKERpcmVjdGlvblR5cGUgPSBleHBvcnRzLkRpcmVjdGlvblR5cGUgfHwgKGV4cG9ydHMuRGlyZWN0aW9uVHlwZSA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IF9jb2xsYXBzaWJsZUZpZWxkXzEgPSByZXF1aXJlKFwiLi9fY29sbGFwc2libGVGaWVsZFwiKTtcbmNvbnN0IF9maWVsZF8xID0gcmVxdWlyZShcIi4uL19maWVsZFwiKTtcbmNvbnN0IGhlbHBlcnNfMSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzXCIpO1xuY29uc3QgbmF2aWdhdGVfMSA9IHJlcXVpcmUoXCIuLi8uLi9vYmplY3RIZWxwZXJzL25hdmlnYXRlXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uLy4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG5jb25zdCBldmVudEhhbmRsZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudEhhbmRsZXJcIik7XG5jb25zdCBjc3NfMSA9IHJlcXVpcmUoXCIuLi8uLi9zdHlsZUhlbHBlcnMvY3NzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIFNlY3Rpb25GaWVsZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY3JlYXRlIGFuIGVsZW1lbnQgaW4gdGhlIGZvcm0gdGhhdCB3aWxsIGNvbnRhaW4gb3RoZXIgZWxlbWVudHMgb2YgYSBmb3JtXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4yXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFNlY3Rpb25GaWVsZCBleHRlbmRzIF9jb2xsYXBzaWJsZUZpZWxkXzEuQ29sbGFwc2libGVGaWVsZCB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDT05TVFJVQ1QgQU5EIENSRUFURSBFTEVNRU5UU1xuICAgIC8qKlxuICAgICAqIFNlY3Rpb25FbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZSBhIHNlY3Rpb24gZWxlbWVudFxuICAgICAqIEBwYXJhbSAgIGlkICAgICAgICAgIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgc2VjdGlvblxuICAgICAqIEBwYXJhbSAgIGNvbmZpZyAgICAgIFRlbXBsYXRlIGZvciB0aGUgc2VjdGlvbiBpdHNlbGZcbiAgICAgKiBAcGFyYW0gICBjaGlsZHJlbiAgICBBbGwgY2hpbGQgZWxlbWVudHMgb2YgdGhpcyBzZWN0aW9uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaWQsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgICAgICAgc3VwZXIoaWQsIGNvbmZpZyk7XG4gICAgICAgIC8vIGdyYWIgY2hpbGRyZW4gZnJvbSB0aGUgcGFyZW50IGVsZW1lbnQgaWYgYXBwcm9wcmlhdGVcbiAgICAgICAgaWYgKGhlbHBlcnNfMS5pc0ZpZWxkKGNvbmZpZykpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuID0gY29uZmlnLmNoaWxkcmVuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BhcnNlQ2hpbGRyZW4oY2hpbGRyZW4pO1xuICAgIH1cbiAgICAvKiogc2VjdGlvbiBlbGVtZW50cyBhcmUgYSBtZXJnZWQgc2V0IG9mIHRoZW1lcyAqL1xuICAgIF9nZXRVbmNvbG9yZWRTdHlsZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXJnZVRoZW1lcyhTZWN0aW9uRmllbGQuX3VuY29sb3JlZFN0eWxlcywgX2NvbGxhcHNpYmxlRmllbGRfMS5Db2xsYXBzaWJsZUZpZWxkLl91bmNvbG9yZWRTdHlsZXMsIF9maWVsZF8xLkZpZWxkLl91bmNvbG9yZWRTdHlsZXMpO1xuICAgIH1cbiAgICAvKiogdXBkYXRlIHRoZSBhcHByb3ByaWF0ZSB0aGVtZSBjb2xvciBmb3IgdGhlIGZvcm0gKi9cbiAgICBzZXRUaGVtZUNvbG9yKHVuaXF1ZUlkLCBjb2xvciwgbm9SZXBsYWNlKSB7XG4gICAgICAgIHN1cGVyLnNldFRoZW1lQ29sb3IodW5pcXVlSWQsIGNvbG9yKTtcbiAgICAgICAgaWYgKCF0aGlzLl9jaGlsZHJlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWxwZXJzXzEuaXNGaWVsZCh0aGlzLl9jaGlsZHJlbikpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuLnNldFRoZW1lQ29sb3IodW5pcXVlSWQsIGNvbG9yLCBub1JlcGxhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmF2aWdhdGVfMS5tYXAodGhpcy5fY2hpbGRyZW4sIChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNoaWxkLnNldFRoZW1lQ29sb3IodW5pcXVlSWQsIGNvbG9yLCBub1JlcGxhY2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cbiAgICAvKiogaGFuZGxlIHRoZSBkZWZhdWx0cyB0aGF0IGFsbCBmb3JtIGVsZW1lbnRzIG5lZWQgKi9cbiAgICBnZXQgX2RlZmF1bHRDbHMoKSB7IHJldHVybiBcImtpcEZvcm1FbGVtIHNlY3Rpb25cIjsgfVxuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4ge307IH1cbiAgICAvKiogdXNlIGEgc2VjdGlvbiB0eXBlICovXG4gICAgZ2V0IF90eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtLlNFQ1RJT047IH1cbiAgICAvKipcbiAgICAgKiBfb25DcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjcmVhdGUgZWxlbWVudHMgZm9yIHRoZSBzZWN0aW9uXG4gICAgICovXG4gICAgX29uQ3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgdGl0bGUgZm9yIHRoZSBzZWN0aW9uXG4gICAgICAgIHRoaXMuX2NyZWF0ZUNvbGxhcHNpYmxlVGl0bGUoKTtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBmb3JtIGNoaWxkcmVuIHNlY3Rpb25cbiAgICAgICAgdGhpcy5fZWxlbXMuY2hpbGRyZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlU2ltcGxlRWxlbWVudChcIlwiLCBcImZvcm1DaGlsZHJlblwiLCBcIlwiLCBudWxsLCBudWxsLCB0aGlzLl9lbGVtcy5iYXNlKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlU3R5bGVzKCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsc0Jhc2VkT25MYXlvdXQoKTtcbiAgICB9XG4gICAgLyoqIGNyZWF0ZSBhIGNsb25lIG9mIHRoaXMgZWxlbWVudCAqL1xuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWN0aW9uRmllbGQodGhpcy5faWQgKyBhcHBlbmRUb0lELCB0aGlzKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBQQVJTRSBUSEUgQ0hJTERSRU4gT0YgQSBTRUNUSU9OXG4gICAgLyoqXG4gICAgICogX3BhcnNlQ2hpbGRyZW5cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogcGFyc2UgdGhlIGNoaWxkcmVuIGFycmF5IG9mIHRoaXMgZm9ybSBlbGVtZW50XG4gICAgICogQHBhcmFtICAgY2hpbGRyZW4gICAgVGhlIGNoaWxkcmVuIGZvciB0aGlzIHNlY3Rpb25cbiAgICAgKi9cbiAgICBfcGFyc2VDaGlsZHJlbihjaGlsZHJlbikge1xuICAgICAgICAvLyBxdWl0IGlmIHRoZXJlIGlzbid0IGFueSBkYXRhXG4gICAgICAgIGlmICghY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNoaWxkcmVuID0ge307XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIHdoZW4gdGhlcmUgaXMganVzdCBhIHNpbmdsZSBlbGVtZW50IGluc2lkZSBvZiB0aGlzIHNlY3Rpb25cbiAgICAgICAgaWYgKGhlbHBlcnNfMS5pc0ZpZWxkKGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgbGV0IGVsZW0gPSB0aGlzLl9wYXJzZUNoaWxkKGNoaWxkcmVuKTtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuID0gZWxlbTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIGhhbmRsZSB3aGVuIHRoZXJlIGlzIGEgbGlzdCBvZiBjaGlsZHJlblxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSB7fTtcbiAgICAgICAgICAgIC8vIGdvIHRocm91Z2ggZWFjaCBvZiB0aGUgY2hpbGRyZW5cbiAgICAgICAgICAgIG5hdmlnYXRlXzEubWFwKGNoaWxkcmVuLCAodGVtcGxhdGUsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBlbGVtID0gdGhpcy5fcGFyc2VDaGlsZCh0ZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5ba2V5XSA9IGVsZW07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBwYXJzZUNoaWxkXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEdvIHRocm91Z2ggb3VyIGNoaWxkcmVuIGFycmF5IGFuZCBjcmVhdGUgdGhlIGluZGl2aWR1YWwgY2hpbGRyZW5cbiAgICAgKiBAcGFyYW0gICBjaGlsZCAgIFRoZSBlbGVtZW50IHRvIHBhcnNlXG4gICAgICovXG4gICAgX3BhcnNlQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgbGV0IGVsZW0gPSB0aGlzLl9jbG9uZUZvcm1FbGVtZW50KGNoaWxkKTtcbiAgICAgICAgdGhpcy5fYXBwbHlDb2xvcnMoZWxlbSk7XG4gICAgICAgIGVsZW0uZHJhdyh0aGlzLl9lbGVtcy5jaGlsZHJlbkNvbnRhaW5lcik7XG4gICAgICAgIGV2ZW50SGFuZGxlcl8xLmZvcm1FdmVudEhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcihldmVudEhhbmRsZXJfMS5GT1JNX0VMRU1fQ0hBTkdFLCB7XG4gICAgICAgICAgICBmdW5jOiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gZXZlbnQuY29udGV4dC5rZXk7XG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gZWxlbS5pZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlSW50ZXJuYWxEYXRhKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaENoYW5nZUV2ZW50KGVsZW0uaWQpO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRhcmdldDogZWxlbSxcbiAgICAgICAgICAgIHVuaXF1ZUlkOiB0aGlzLl9pZCArIFwifFwiICsgZWxlbS5pZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF91cGRhdGVJbnRlcm5hbERhdGFcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlIGtlZXBpbmcgb3VyIGludGVybmFsIGRhdGEgdHJhY2tpbmcgdXAgdG8gZGF0ZSB3aXRoIG91ciBjaGlsZHJlblxuICAgICAqIEBwYXJhbSAgIGludGVybmFsT25seSAgICBJZiB0cnVlLCBpbmRpY2F0ZXMgdGhhdCB3ZSBhcmVuJ3QgZG9pbmcgYSBmdWxsIHNhdmVcbiAgICAgKi9cbiAgICBfdXBkYXRlSW50ZXJuYWxEYXRhKGludGVybmFsT25seSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGVsZW07XG4gICAgICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgICAgIGlmIChoZWxwZXJzXzEuaXNGaWVsZCh0aGlzLl9jaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0geWllbGQgdGhpcy5fY2hpbGRyZW4uc2F2ZShpbnRlcm5hbE9ubHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgIGxldCBwcm9taXNlcyA9IG5hdmlnYXRlXzEubWFwKHRoaXMuX2NoaWxkcmVuLCAoZWxlbSwga2V5KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVJbnRlcm5hbEZpZWxkKGtleSwgZWxlbSwgZGF0YSwgaW50ZXJuYWxPbmx5KTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgeWllbGQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfdXBkYXRlSW50ZXJuYWxGaWVsZChrZXksIGVsZW0sIGRhdGEsIGludGVybmFsT25seSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgZGF0YVtrZXldID0geWllbGQgZWxlbS5zYXZlKGludGVybmFsT25seSk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIE9WRVJSSURFIFNQRUNJQUwgQkVIQVZJT1IgRk9SIFNFQ1RJT05TXG4gICAgLyoqXG4gICAgICogc2F2ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgc2F2aW5nIHRoZSBzZWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICBpbnRlcm5hbE9ubHkgICAgSWYgdHJ1ZSwgZG9lc24ndCBkbyBhbGwgdGhlIHVwZGF0aW5nIHRoYXQgd291bGRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFwcGVuIG9uIGEgcmVhbCBzYXZlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgZGF0YSBjb250YWluZWQgaW4gdGhpcyBzZWN0aW9ucyBjaGlsZCBlbGVtZW50c1xuICAgICAqL1xuICAgIHNhdmUoaW50ZXJuYWxPbmx5KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyBzYXZlIGFsbCBvZiB0aGUgY2hpbGQgZWxlbWVudHNcbiAgICAgICAgICAgIHRoaXMuX2RhdGEgPSB5aWVsZCB0aGlzLl91cGRhdGVJbnRlcm5hbERhdGEoaW50ZXJuYWxPbmx5KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2FuU2F2ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBEZXRlcm1pbmUgd2hldGhlciB0aGlzIGVsZW1lbnQgY2FuIHNhdmUsIGJhc2VkIG9uIHdoZXRoZXIgaXRzIGNoaWxkcmVuXG4gICAgICogaGF2ZSBlcnJvcnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHdlIGNhbiBzYXZlIHRoaXMgZWxlbWVudFxuICAgICAqL1xuICAgIGNhblNhdmUoKSB7XG4gICAgICAgIC8vIGlmIHdlIG9ubHkgaGF2ZSBhIHNpbmdsZSBjaGlsZCwgY2hlY2sgdGhhdCBvbmVcbiAgICAgICAgaWYgKGhlbHBlcnNfMS5pc0ZpZWxkKHRoaXMuX2NoaWxkcmVuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuLmNhblNhdmUoKTtcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgY2hlY2sgYWxsIG9mIG91ciBjaGlsZHJlblxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGNhblNhdmUgPSB7XG4gICAgICAgICAgICAgICAgaGFzRXJyb3JzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBoYXNNaXNzaW5nUmVxdWlyZWQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbmF2aWdhdGVfMS5tYXAodGhpcy5fY2hpbGRyZW4sIChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjaGlsZENhblNhdmUgPSBjaGlsZC5jYW5TYXZlKCk7XG4gICAgICAgICAgICAgICAgY2FuU2F2ZS5oYXNFcnJvcnMgPSBjYW5TYXZlLmhhc0Vycm9ycyB8fCBjaGlsZENhblNhdmUuaGFzRXJyb3JzO1xuICAgICAgICAgICAgICAgIGNhblNhdmUuaGFzTWlzc2luZ1JlcXVpcmVkID0gY2FuU2F2ZS5oYXNNaXNzaW5nUmVxdWlyZWQgfHwgY2hpbGRDYW5TYXZlLmhhc01pc3NpbmdSZXF1aXJlZDtcbiAgICAgICAgICAgIH0sICgpID0+IHsgcmV0dXJuIGNhblNhdmUuaGFzRXJyb3JzICYmIGNhblNhdmUuaGFzTWlzc2luZ1JlcXVpcmVkOyB9KTtcbiAgICAgICAgICAgIHJldHVybiBjYW5TYXZlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNsZWFyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENsZWFyIG91dCBhbGwgY2hpbGQgZWxlbWVudHMgd2hlbiBjbGVhcmluZyB0aGUgc2VjdGlvblxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICBpZiAoaGVscGVyc18xLmlzRmllbGQodGhpcy5fY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbi5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmF2aWdhdGVfMS5tYXAodGhpcy5fY2hpbGRyZW4sIChlbGVtLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBlbGVtLmNsZWFyKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBmb2N1c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBbGxvdyB0aGUgZmlyc3QgY2hpbGQgb2YgdGhpcyBzZWN0aW9uIHRvIHRha2UgZm9jdXNcbiAgICAgKi9cbiAgICBmb2N1cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jaGlsZHJlbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWxwZXJzXzEuaXNGaWVsZCh0aGlzLl9jaGlsZHJlbikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbi5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGlzRm9jdXNlZDtcbiAgICAgICAgICAgIG5hdmlnYXRlXzEubWFwKHRoaXMuX2NoaWxkcmVuLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5mb2N1cygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzRm9jdXNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgKCkgPT4geyByZXR1cm4gaXNGb2N1c2VkOyB9KTtcbiAgICAgICAgICAgIHJldHVybiBpc0ZvY3VzZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBIQU5ETEUgQ0hBTkdFU1xuICAgIC8qKlxuICAgICAqIHVwZGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiB1cGRhdGUgdGhlIGludGVyIGNvbnRlbnRzIG9mIHRoZSBmb3JtXG4gICAgICogQHBhcmFtICAgZGF0YSAgICBUaGUgbmV3IGRhdGEgZm9yIHRoaXMgZWxlbWVudFxuICAgICAqL1xuICAgIHVwZGF0ZShkYXRhLCBhbGxvd0V2ZW50cykge1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVscGVyc18xLmlzRmllbGQodGhpcy5fY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbi51cGRhdGUoZGF0YSwgYWxsb3dFdmVudHMpLCBhbGxvd0V2ZW50cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5hdmlnYXRlXzEubWFwKHRoaXMuX2NoaWxkcmVuLCAoZWxlbSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgZWxlbS51cGRhdGUoZGF0YVtrZXldLCBhbGxvd0V2ZW50cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfZ2V0VmFsdWVGcm9tRmllbGRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogcmV0dXJuIHN0YW5kYXJkIHZhbHVlXG4gICAgICovXG4gICAgX2dldFZhbHVlRnJvbUZpZWxkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3ZhbGlkYXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIG5vIHZhbGlkYXRpb24gZm9yIHNlY3Rpb24gZWxlbWVudHNcbiAgICAgKi9cbiAgICBfdmFsaWRhdGUoZGF0YSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uICAgXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBEWU5BTUlDQUxMWSBBREQgRklFTERTIFRPIFRISVMgRk9STVxuICAgIGFkZENoaWxkRWxlbWVudChrZXksIGZvcm1FbGVtKSB7XG4gICAgICAgIC8vIGlmIHRoaXMgc2VjdGlvbiBkb2Vzbid0IGFjdHVhbGx5IGhhdmUga2V5ZWQgY2hpbGRyZW4sIHdlIGNhbid0IGRvIGFueXRoaW5nXG4gICAgICAgIGlmIChoZWxwZXJzXzEuaXNGaWVsZCh0aGlzLl9jaGlsZHJlbikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgdG8gdGhlIGNoaWxkcmVuJ3MgYXJyYXkgYW5kIHRvIHRoZSBVSVxuICAgICAgICBpZiAoIXRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbiA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuW2tleV0gPSB0aGlzLl9wYXJzZUNoaWxkKGZvcm1FbGVtKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF91cGRhdGVDbHNCYXNlZE9uTGF5b3V0KCkge1xuICAgICAgICBsZXQgY2xzO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX2NvbmZpZy5sYXlvdXQpIHtcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5Gb3JtRWxlbWVudExheW91dEVudW0uRkxFWDpcbiAgICAgICAgICAgICAgICBjbHMgPSBcImZsZXhcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5Gb3JtRWxlbWVudExheW91dEVudW0uVEFCTEU6XG4gICAgICAgICAgICAgICAgY2xzID0gXCJ0YWJsZVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18xLkZvcm1FbGVtZW50TGF5b3V0RW51bS5MQUJFTF9BRlRFUjpcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5Gb3JtRWxlbWVudExheW91dEVudW0uTVVMVElMSU5FOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjbHMgPSBcIm11bHRpbGluZVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmNoaWxkcmVuQ29udGFpbmVyLCBjbHMpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEdFVCBFTEVNRU5UUyBBRlRFUiBDUkVBVElPTlxuICAgIGdldEZpZWxkKGlkKSB7XG4gICAgICAgIC8vIGZpcnN0IGNoZWNrIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAoaWQgPT09IHRoaXMuX2lkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGVuIGNoZWNrIGNoaWxkIGVsZW1lbnRzXG4gICAgICAgIGlmIChoZWxwZXJzXzEuaXNGaWVsZCh0aGlzLl9jaGlsZHJlbikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbi5nZXRGaWVsZChpZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICAgICAgbmF2aWdhdGVfMS5tYXAodGhpcy5fY2hpbGRyZW4sIChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQgPSBjaGlsZC5nZXRGaWVsZChpZCk7XG4gICAgICAgICAgICB9LCAoKSA9PiB7IHJldHVybiAhIXJlc3VsdDsgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5TZWN0aW9uRmllbGQgPSBTZWN0aW9uRmllbGQ7XG4vLy4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG4vKiogc3R5bGVzIHRvIGRpc3BsYXkgdGhpcyBzZWN0aW9uIGNvcnJlY3RseSAqL1xuU2VjdGlvbkZpZWxkLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIua2lwRm9ybUVsZW0uc2VjdGlvblwiOiB7XG4gICAgICAgIG1hcmdpblRvcDogXCIxMHB4XCIsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogXCI1cHhcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0gLnNlY3Rpb25IZWFkZXJcIjoge1xuICAgICAgICBmb250RmFtaWx5OiBcIk9wZW5TYW5zQm9sZCxTZWdvZSBVSSxIZWx2ZXRpY2FcIixcbiAgICAgICAgZm9udFNpemU6IFwiMS41ZW1cIixcbiAgICAgICAgY29sb3I6IFwiPGZvcm1UaGVtZT5cIixcbiAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbSAuc2VjdGlvbiAuc2VjdGlvbkhlYWRlciwgLmtpcEZvcm1FbGVtIC5hcnJheSAuc2VjdGlvbkhlYWRlclwiOiB7XG4gICAgICAgIGZvbnRTaXplOiBcIjEuMmVtXCIsXG4gICAgICAgIGNvbG9yOiBcIjxmb3JtU3ViVGhlbWU+XCJcbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtLnNlY3Rpb24gPiAuZm9ybUNoaWxkcmVuIC5zZWN0aW9uLmNvbGxhcHNpYmxlID4gLmZvcm1DaGlsZHJlblwiOiB7XG4gICAgICAgIGJvcmRlckxlZnQ6IFwiMXB4IHNvbGlkIDxmb3JtVGhlbWU+XCIsXG4gICAgICAgIHBhZGRpbmdMZWZ0OiBcIjIwcHhcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0uc2VjdGlvbiA+IC5mb3JtQ2hpbGRyZW4gLnNlY3Rpb24gPiAuc2VjdGlvbkhlYWRlckNvbnRhaW5lci5oaWRkZW4gKyAuZm9ybUNoaWxkcmVuXCI6IHtcbiAgICAgICAgYm9yZGVyTGVmdDogXCIwIHNvbGlkXCIsXG4gICAgICAgIHBhZGRpbmdMZWZ0OiBcIjBcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0uc2VjdGlvbiA+IC5mb3JtQ2hpbGRyZW4uZmxleFwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICBtYXJnaW5MZWZ0OiBcIjBcIixcbiAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICBcIj4gLmtpcEZvcm1FbGVtXCI6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogXCJhdXRvXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgWWVzTm9FbnVtO1xuKGZ1bmN0aW9uIChZZXNOb0VudW0pIHtcbiAgICBZZXNOb0VudW1bWWVzTm9FbnVtW1wiWUVTXCJdID0gMV0gPSBcIllFU1wiO1xuICAgIFllc05vRW51bVtZZXNOb0VudW1bXCJOT1wiXSA9IDBdID0gXCJOT1wiO1xufSkoWWVzTm9FbnVtID0gZXhwb3J0cy5ZZXNOb0VudW0gfHwgKGV4cG9ydHMuWWVzTm9FbnVtID0ge30pKTtcbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaGlzdG9yeU5vZGVfMSA9IHJlcXVpcmUoXCIuL2hpc3RvcnlOb2RlXCIpO1xuY29uc3QgY29tYmluZV8xID0gcmVxdWlyZShcIi4uL29iamVjdEhlbHBlcnMvY29tYmluZVwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0SGlzdG9yeUNoYWluXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBLZWVwIHRyYWNrIG9mIGludGVybmFsIGhpc3RvcnkgJiBhbGxvdyBtb3ZpbmcgZm9yd2FyZCBhbmQgYmFja3dhcmRcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgSGlzdG9yeUNoYWluIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8qKlxuICAgICAqIHB1c2hcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogUHVzaCBhIG5ldyB2YWx1ZSBpbnRvIG91ciBoaXN0b3J5IGNoYWluXG4gICAgICogQHBhcmFtICAgZGF0YSAgICBUaGUgZGF0YSB0byBhZGRcbiAgICAgKi9cbiAgICBwdXNoKGRhdGEpIHtcbiAgICAgICAgbGV0IG5vZGUgPSBuZXcgaGlzdG9yeU5vZGVfMS5IaXN0b3J5Tm9kZShkYXRhKTtcbiAgICAgICAgLy8gY2FzZSAxOiBmaXJzdCBub2RlIHdlJ3JlIGFkZGluZ1xuICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydCA9IG5vZGU7XG4gICAgICAgICAgICB0aGlzLl9lbmQgPSBub2RlO1xuICAgICAgICAgICAgdGhpcy5fY3VyTm9kZSA9IG5vZGU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2xlYXIgdGhlIGZvcndhcmQgaGlzdG9yeSBpZiB3ZSdyZSBhZGRpbmcgbmV3IGRhdGFcbiAgICAgICAgaWYgKHRoaXMuX2N1ck5vZGUgIT09IHRoaXMuX2VuZCkge1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJUb0N1cklkeCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGV2ZXJ5dGhpbmcgZWxzZSB3aWxsIGp1c3QgYWRkIHRvIHRoZSBlbmRcbiAgICAgICAgdGhpcy5fZW5kLm5leHQgPSBub2RlO1xuICAgICAgICBub2RlLnByZXZpb3VzID0gdGhpcy5fZW5kO1xuICAgICAgICB0aGlzLl9lbmQgPSBub2RlO1xuICAgICAgICB0aGlzLl9jdXJOb2RlID0gdGhpcy5fZW5kO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2xlYXJUb0N1cklkeFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDbGVhciBvdXQgYWxsIGhpc3RvcnkgZXZlbnRzIHRoYXQgaGFwcGVuZWQgYWZ0ZXIgdGhlIGN1cnJlbnQgaW5kZXhcbiAgICAgKi9cbiAgICBfY2xlYXJUb0N1cklkeCgpIHtcbiAgICAgICAgdGhpcy5fZW5kID0gdGhpcy5fY3VyTm9kZTtcbiAgICAgICAgdGhpcy5fY3VyTm9kZS5uZXh0ID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogbmF2aWdhdGVCYWNrXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIE1vdmUgYmFrY3dhcmRzIGluIHRoZSBoaXN0b3J5IGNoYWluXG4gICAgICogQHJldHVybnMgVGhlIHN0YXRlIHdlJ3JlIG1vdmluZyB0b1xuICAgICAqL1xuICAgIG5hdmlnYXRlQmFjaygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jdXJOb2RlLnByZXZpb3VzKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jdXJOb2RlID0gdGhpcy5fY3VyTm9kZS5wcmV2aW91cztcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJOb2RlLnByZXZpb3VzLmRhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIG5hdmlnYXRlRm9yd2FyZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBNb3ZlIGZvcndhcmRzIGluIHRoZSBoaXN0b3J5IGNoYWluXG4gICAgICogQHJldHVybnMgVGhlIGF0YXRlIHdlJ3JlIG1vdmluZyB0b1xuICAgICAqL1xuICAgIG5hdmlnYXRlRm9yd2FyZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jdXJOb2RlLm5leHQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2N1ck5vZGUgPSB0aGlzLl9jdXJOb2RlLm5leHQ7XG4gICAgICAgIH0sIDApO1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VyTm9kZS5uZXh0LmRhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZUN1cnJlbnRTdGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBVcGRhdGUgb3VyIGN1cnJlbnQgaGlzdG9yeSBub2RlIHRvIGluY2x1ZGUgYSBuZXcgYXNwZWN0IG9mIHN0YXRlXG4gICAgICogQHBhcmFtIFx0bmV3U3RhdGUgXHRUaGUgc3RhdGUgdG8gdXBkYXRlIHRvXG4gICAgICogQHJldHVybnNcdFRydWUgaWYgdGhlIHN0YXRlIHdhcyB1cGRhdGVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICB1cGRhdGVDdXJyZW50U3RhdGUobmV3U3RhdGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jdXJOb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN1clN0YXRlID0gdGhpcy5fY3VyTm9kZS5kYXRhO1xuICAgICAgICBsZXQgY29tYmluZWRTdGF0ZSA9IGNvbWJpbmVfMS5jb21iaW5lT2JqZWN0cyhjdXJTdGF0ZSwgbmV3U3RhdGUsIHRydWUpO1xuICAgICAgICB0aGlzLl9jdXJOb2RlLmRhdGEgPSBjb21iaW5lZFN0YXRlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5leHBvcnRzLkhpc3RvcnlDaGFpbiA9IEhpc3RvcnlDaGFpbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgc3ZnRWxlbWVudF8xID0gcmVxdWlyZShcIi4vc3ZnRWxlbWVudFwiKTtcbmNvbnN0IGNsb25pbmdfMSA9IHJlcXVpcmUoXCIuLi8uLi9vYmplY3RIZWxwZXJzL2Nsb25pbmdcIik7XG5jb25zdCBtYXRoc18xID0gcmVxdWlyZShcIi4uLy4uL21hdGhzL21hdGhzXCIpO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBQYXRoRWxlbWVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQHZlcnNpb24gMS4wXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgUGF0aEVsZW1lbnQgZXh0ZW5kcyBzdmdFbGVtZW50XzEuU1ZHRWxlbSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgY29uc3RydWN0b3IocG9pbnRzLCBhdHRyLCAuLi5hZGRsQXJncykge1xuICAgICAgICBpZiAocG9pbnRzKSB7XG4gICAgICAgICAgICBhZGRsQXJncy5zcGxpY2UoMCwgMCwgcG9pbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihhdHRyLCAuLi5hZGRsQXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zZXRBdHRyaWJ1dGVzXG4gICAgICpcbiAgICAgKiBNYWtlIHN1cmUgdGhlIGF0dHJpYnV0ZXMgYXJlIHVwZGF0ZWQgZm9yIGEgcGF0aFxuICAgICAqIEBwYXJhbSBcdGF0dHJpYnV0ZXMgXHRUaGUgYXR0cml1dGVzIHRvIHVwZGF0ZVxuICAgICAqIEBwYXJhbSBcdHBvaW50cyBcdFx0UG9pbnRzIGZvciB0aGUgcGF0aFxuICAgICAqXG4gICAgICovXG4gICAgX3NldEF0dHJpYnV0ZXMoYXR0cmlidXRlcywgcG9pbnRzKSB7XG4gICAgICAgIGF0dHJpYnV0ZXMudHlwZSA9IFwicGF0aFwiO1xuICAgICAgICBhdHRyaWJ1dGVzLmQgPSBcIlwiO1xuICAgICAgICB0aGlzLl9wb2ludHMgPSBwb2ludHMgfHwgW107XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRWxlbWVudHNcbiAgICAgKlxuICAgICAqIENyZWF0ZSBlbGVtZW50cyBmb3IgdGhpcyBwYXRoXG4gICAgICpcbiAgICAgKi9cbiAgICBfY3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIGxldCBwYXRoID0gdGhpcy5fc3RhcnRQYXRoKHRoaXMuX2F0dHJpYnV0ZXMpO1xuICAgICAgICBsZXQgZmlyc3RQdCA9IHRydWU7XG4gICAgICAgIGxldCBwb2ludHMgPSB0aGlzLl9wb2ludHM7XG4gICAgICAgIGZvciAobGV0IHBhdGhQdCBvZiBwb2ludHMpIHtcbiAgICAgICAgICAgIGlmIChmaXJzdFB0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlVG8ocGF0aFB0KTtcbiAgICAgICAgICAgICAgICBmaXJzdFB0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChfaXNDdXJ2ZVBvaW50KHBhdGhQdCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnZlVG8ocGF0aFB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKF9pc0FyY1BvaW50KHBhdGhQdCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFyY1RvKHBhdGhQdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVUbyhwYXRoUHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fYXR0cmlidXRlcy5ub0ZpbmlzaCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVBhdGgoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoUGF0aFdpdGhvdXRDbG9zaW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jcmVnaW9uIEhBTkRMRSBFWFRSRU1BXG4gICAgLyoqXG4gICAgICogX3VwZGF0ZUV4dHJlbWFcbiAgICAgKlxuICAgICAqIE1ha2Ugc3VyZSB3ZSBrbm93IHRoZSBleHRyZW1hIG9mIHRoaXMgcGF0aFxuICAgICAqXG4gICAgICovXG4gICAgX3VwZGF0ZUV4dHJlbWEoKSB7XG4gICAgICAgIHRoaXMuX2V4dHJlbWEgPSB7XG4gICAgICAgICAgICBtYXg6IG51bGwsXG4gICAgICAgICAgICBtaW46IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChsZXQgcGF0aFB0IG9mIHRoaXMuX3BvaW50cykge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRXh0cmVtYUZyb21Qb2ludChwYXRoUHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF91cGRhdGVFeHRyZW1hRnJvbVBvaW50XG4gICAgICpcbiAgICAgKiBNYWtlIHN1cmUgb3VyIGV4dHJlbWEgYXJlIHVwIHRvIGRhdGVcbiAgICAgKiBAcGFyYW0gXHRwdFx0VGhlIHBvaW50IHRoYXQgbWF5IHBvdGVudGlhbGx5IHVwZGF0ZSBvdXIgZXh0cmVtYVxuICAgICAqXG4gICAgICovXG4gICAgX3VwZGF0ZUV4dHJlbWFGcm9tUG9pbnQocHQpIHtcbiAgICAgICAgLy8gaGFuZGxlIHRoZSBiYXNlIGNhc2VcbiAgICAgICAgaWYgKCF0aGlzLl9leHRyZW1hLm1heCB8fCAhdGhpcy5fZXh0cmVtYS5taW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJlbWEubWF4ID0gY2xvbmluZ18xLmNsb25lT2JqZWN0KHB0KTtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJlbWEubWluID0gY2xvbmluZ18xLmNsb25lT2JqZWN0KHB0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSdyZSBtb3JlIGV4dHJlbWUgdGhhbiB0aGUgZXh0cmVtYSwgdXBkYXRlXG4gICAgICAgIGlmIChwdC54IDwgdGhpcy5fZXh0cmVtYS5taW4ueCkge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmVtYS5taW4ueCA9IHB0Lng7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHB0LnkgPCB0aGlzLl9leHRyZW1hLm1pbi55KSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyZW1hLm1pbi55ID0gcHQueTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHQueCA+IHRoaXMuX2V4dHJlbWEubWF4LngpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJlbWEubWF4LnggPSBwdC54O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwdC55ID4gdGhpcy5fZXh0cmVtYS5tYXgueSkge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmVtYS5tYXgueSA9IHB0Lnk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLyoqXG4gICAgICogX2NoZWNrRm9yQ3VycmVudFBhdGhcbiAgICAgKlxuICAgICAqIFZlcmlmeSB0aGF0IHdlIGhhdmUgYSBjdXJyZW50IHBhdGhcbiAgICAgKlxuICAgICAqL1xuICAgIF9jaGVja0ZvckN1cnJlbnRQYXRoKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2VsZW1zLmJhc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vIHBhdGggc3RhcnRlZFwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY29uc3RydWN0UGF0aEF0dHJpYnV0ZVxuICAgICAqXG4gICAgICogQ3JlYXRlIHRoZSBhdHJpYnV0ZSB0byBzZXQgdGhlIHBhdGhcbiAgICAgKiBAcGFyYW0gXHRwcmVmaXggXHRUaGUgdHlwZSBvZiBhY3Rpb24gYmVpbmcgY3JlYXRlZFxuICAgICAqIEBwYXJhbSBcdHBvaW50IFx0VGhlIHBvaW50IHRvIGFkZFxuICAgICAqIEByZXR1cm5zXHRUaGUgYXBwcm9wcmlhdGUgcGF0aCBzdHJpbmdcbiAgICAgKlxuICAgICAqL1xuICAgIF9jb25zdHJ1Y3RQYXRoQXR0cmlidXRlKHByZWZpeCwgcG9pbnQpIHtcbiAgICAgICAgbGV0IG91dCA9IFwiXCI7XG4gICAgICAgIG91dCA9IHByZWZpeCArIHRoaXMuX3BvaW50VG9BdHRyaWJ1dGVTdHJpbmcocG9pbnQpICsgXCJcXG5cIjtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3BvaW50VG9BdHRyaWJ1dGVcbiAgICAgKlxuICAgICAqIFR1cm4gYSBwb2ludCBpbnRvIGEgc3RyaW5nIHJlY2duaXphYmxlIGFzIGEgcG9pbnQgaW4gdGhlIHBhdGggYXR0cmlidXRlXG4gICAgICogQHBhcmFtIFx0cG9pbnQgXHRUaGUgcG9pbnQgdG8gY29udmVydFxuICAgICAqIEByZXR1cm5zXHRUaGUgY3JlYXRlZCBzdHJpbmdcbiAgICAgKlxuICAgICAqL1xuICAgIF9wb2ludFRvQXR0cmlidXRlU3RyaW5nKHBvaW50KSB7XG4gICAgICAgIGxldCBvdXQgPSBwb2ludC54ICsgXCIgXCIgKyBwb2ludC55O1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYWRkVG9QYXRoQXR0cmlidXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRzdWZmaXggXHRXaGF0IHRvIGFkZCB0byB0aGUgYXRyaWJ1dGUgc3RyaW5nXG4gICAgICogQHJldHVybnNcdFRydWUgaWYgd2Ugd2VyZSBhYmxlIHRvIGFkZCB0aGUgc3RyaW5nXG4gICAgICpcbiAgICAgKi9cbiAgICBfYWRkVG9QYXRoQXR0cmlidXRlKHN1ZmZpeCkge1xuICAgICAgICB0aGlzLl9jaGVja0ZvckN1cnJlbnRQYXRoKCk7XG4gICAgICAgIGxldCBkID0gdGhpcy5fZWxlbXMuYmFzZS5nZXRBdHRyaWJ1dGUoXCJkXCIpIHx8IFwiXCI7XG4gICAgICAgIGQgKz0gc3VmZml4O1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLnNldEF0dHJpYnV0ZShcImRcIiwgZCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfc3RhcnRQYXRoXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXR0clxuICAgICAqXG4gICAgICovXG4gICAgX3N0YXJ0UGF0aChhdHRyKSB7XG4gICAgICAgIHN1cGVyLl9jcmVhdGVFbGVtZW50cyh0aGlzLl9hdHRyaWJ1dGVzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1zLmJhc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGxpbmVUb1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW1cdHBvaW50XHRUaGUgcG9pbnQgdG8gZHJhdyBhIGxpbmUgdG9cbiAgICAgKi9cbiAgICBsaW5lVG8ocG9pbnQpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tGb3JDdXJyZW50UGF0aCgpO1xuICAgICAgICB0aGlzLl9hZGRUb1BhdGhBdHRyaWJ1dGUodGhpcy5fY29uc3RydWN0UGF0aEF0dHJpYnV0ZShcIkxcIiwgcG9pbnQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogbW92ZVRvXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSBcdHBvaW50XG4gICAgICovXG4gICAgbW92ZVRvKHBvaW50KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrRm9yQ3VycmVudFBhdGgoKTtcbiAgICAgICAgdGhpcy5fYWRkVG9QYXRoQXR0cmlidXRlKHRoaXMuX2NvbnN0cnVjdFBhdGhBdHRyaWJ1dGUoXCJNXCIsIHBvaW50KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGN1cnZlVG9cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGEgY3VydmUgZnJvbSB0aGUgY3VycmVudCBwb3NpdGlvbiB0byB0aGUgc3BlY2lmaWVkIGN1cnZlIHBvaW50XG4gICAgICogQHBhcmFtXHRwb2ludCBcdFBvaW50IHRvIGVuZCB0aGUgY3VydmUgYXRcbiAgICAgKi9cbiAgICBjdXJ2ZVRvKHBvaW50KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrRm9yQ3VycmVudFBhdGgoKTtcbiAgICAgICAgbGV0IGQ7XG4gICAgICAgIGQgPSBcIkNcIiArIHRoaXMuX3BvaW50VG9BdHRyaWJ1dGVTdHJpbmcocG9pbnQuY29udHJvbHNbMF0pICsgXCIsIFwiO1xuICAgICAgICBkICs9IHRoaXMuX3BvaW50VG9BdHRyaWJ1dGVTdHJpbmcocG9pbnQuY29udHJvbHNbMV0pICsgXCIsIFwiO1xuICAgICAgICBkICs9IHRoaXMuX3BvaW50VG9BdHRyaWJ1dGVTdHJpbmcocG9pbnQpICsgXCJcXG5cIjtcbiAgICAgICAgdGhpcy5fYWRkVG9QYXRoQXR0cmlidXRlKGQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBhcmNUb1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgYW4gYXJjIGZyb20gdGhlIGN1cnJlbnQgcG9zaXRpb24gdG8gdGhlIHNwZWNpZmllZCBhcmMgcG9pbnRcbiAgICAgKiBAcGFyYW0gXHRwb2ludCBcdFBvaW50IHRvIGVuZCB0aGUgYXJjIGF0XG4gICAgICovXG4gICAgYXJjVG8ocG9pbnQpIHtcbiAgICAgICAgbGV0IGQ7XG4gICAgICAgIGQgPSBcIkFcIiArIHRoaXMuX3BvaW50VG9BdHRyaWJ1dGVTdHJpbmcocG9pbnQucmFkaXVzKSArIFwiIFwiO1xuICAgICAgICBkICs9IHBvaW50LnhSb3RhdGlvbiArIFwiIFwiICsgcG9pbnQubGFyZ2VBcmMgKyBcIiBcIiArIHBvaW50LnN3ZWVwRmxhZyArIFwiIFwiO1xuICAgICAgICBkICs9IHRoaXMuX3BvaW50VG9BdHRyaWJ1dGVTdHJpbmcocG9pbnQpICsgXCJcXG5cIjtcbiAgICAgICAgdGhpcy5fYWRkVG9QYXRoQXR0cmlidXRlKGQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjbG9zZVBhdGhcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY2xvc2VzIHRoZSBwYXRoIHNvIGl0IGNyZWF0ZXMgYW4gZW5jbG9zZWQgc3BhY2VcbiAgICAgKi9cbiAgICBjbG9zZVBhdGgoKSB7XG4gICAgICAgIHRoaXMuX2FkZFRvUGF0aEF0dHJpYnV0ZShcIiBaXCIpO1xuICAgICAgICB0aGlzLmZpbmlzaFBhdGhXaXRob3V0Q2xvc2luZygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBmaW5pc2hQYXRoV2l0aG91dENsb3NpbmdcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogaW5kaWNhdGVzIHRoZSBwYXRoIGlzIGZpbmlzaGVkIHdpdGhvdXQgY2xvc2luZyB0aGUgcGF0aFxuICAgICAqL1xuICAgIGZpbmlzaFBhdGhXaXRob3V0Q2xvc2luZygpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NhbGN1bGF0ZVBvbHlnb25Qb2ludFxuICAgICAqXG4gICAgICogaGVscGVyIGZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSBhIHBvbHlnb24ncyBwb2ludCBhdCBhIGNlcnRhaW4gYW5nbGVcbiAgICAgKlxuICAgICAqL1xuICAgIF9jYWxjdWxhdGVQb2x5Z29uUG9pbnQoY2VudGVyUHQsIGN1cnJlbnRBbmdsZSwgcmFkaXVzKSB7XG4gICAgICAgIGxldCBvdXQgPSB7XG4gICAgICAgICAgICB4OiBjZW50ZXJQdC54ICsgbWF0aHNfMS5yb3VuZFRvUGxhY2UoTWF0aC5zaW4oY3VycmVudEFuZ2xlKSAqIHJhZGl1cywgMTApLFxuICAgICAgICAgICAgeTogY2VudGVyUHQueSArIG1hdGhzXzEucm91bmRUb1BsYWNlKC0xICogTWF0aC5jb3MoY3VycmVudEFuZ2xlKSAqIHJhZGl1cywgMTApXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxufVxuZXhwb3J0cy5QYXRoRWxlbWVudCA9IFBhdGhFbGVtZW50O1xuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBIRUxQRVIgRlVOQ1RJT05TXG5mdW5jdGlvbiBfaXNDdXJ2ZVBvaW50KHB0KSB7XG4gICAgcmV0dXJuICghIXB0LmNvbnRyb2xzKTtcbn1cbmZ1bmN0aW9uIF9pc0FyY1BvaW50KHB0KSB7XG4gICAgcmV0dXJuICFmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChwdC5yYWRpdXMpO1xufVxuLy8jZW5kcmVnaW9uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vcHJpbWl0aXZlSGVscGVycy9zdHJpbmdzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRVbml0VGVzdFVJXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBHZW5lcmF0ZXMgVUkgdG8gYmUgYWJsZSB0byBzZWUgdGhlIHJlc3VsdHMgb24gdW5pdCB0ZXN0c1xuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0Mi4xLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgVW5pdFRlc3RlciB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvKipcbiAgICAgKiBfdGVzdFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBTdGF0ZSB0aGUgcmVzdWx0IG9mIHdoZXRoZXIgYSBjZXJ0YWluIHRlc3QgcGFzc2VkIG9yIGZhaWxlZFxuICAgICAqIEBwYXJhbSBcdG5hbWUgXHRcdFx0VGhlIG5hbWUgb2YgdGhlIGFzc2VydGlvblxuICAgICAqIEBwYXJhbSBcdGFjdHVhbFJlc3VsdCBcdFdoYXQgdGhlIHJlc3VsdCBvZiB0aGUgdGVzdCB3YXNcbiAgICAgKiBAcGFyYW0gXHRleHBlY3RlZFJlc3VsdCBcdFdoYXQgc2hvdWxkIGhhdmUgYmVlbiB0aGUgcmVzdWx0XG4gICAgICogQHBhcmFtIFx0bWVzc2FnZSBcdFx0SWYgcHJvdmlkZWQsIHRoZSBhZGRpdGlvbmFsIG1lc3NhZ2UgdG8gZGlzcGxheVxuICAgICAqL1xuICAgIHRlc3QobmFtZSwgYWN0dWFsUmVzdWx0LCBleHBlY3RlZFJlc3VsdCwgbWVzc2FnZSkge1xuICAgICAgICBtZXNzYWdlID0gbWVzc2FnZSB8fCBcIlwiO1xuICAgICAgICBsZXQgcGFzcyA9IHRoaXMudGVzdEVxdWFsaXR5KGFjdHVhbFJlc3VsdCwgZXhwZWN0ZWRSZXN1bHQpO1xuICAgICAgICB0aGlzLl91aS5yZW5kZXJUZXN0KHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBwYXNzOiBwYXNzLFxuICAgICAgICAgICAgYWN0dWFsUmVzdWx0OiBhY3R1YWxSZXN1bHQsXG4gICAgICAgICAgICBleHBlY3RlZFJlc3VsdDogZXhwZWN0ZWRSZXN1bHQsXG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGFzcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2Fzc2VydFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBc3NlcnRzIHdoZXRoZXIgdGhlIHBhc3NlZCBpbiBldmFsdWF0aW9uIGlzIHRydWUgb3IgZmFsc2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSBcdG5hbWUgXHRcdFx0TmFtZSBvZiB0aGUgdGVzdCB3ZSBhcmUgcnVubmluZ1xuICAgICAqIEBwYXJhbSBcdHBhc3MgXHRcdFx0RXZhbHVhdGlvbiBvZiBwYXNzXG4gICAgICogQHBhcmFtIFx0dHJ1ZU1lc3NhZ2UgXHRXaGF0IHRvIHNob3cgaWYgdGhlIGV2YWx1YXRpb24gcGFzc2VzXG4gICAgICogQHBhcmFtIFx0ZmFsc2VNZXNzYWdlIFx0V2hhdCB0byBzaG93IGlmIHRoZSBldmFsdWF0aW9uIGZhaWxzXG4gICAgICovXG4gICAgYXNzZXJ0KG5hbWUsIHBhc3MsIHRydWVNZXNzYWdlLCBmYWxzZU1lc3NhZ2UpIHtcbiAgICAgICAgbGV0IG1zZyA9IHBhc3MgPyB0cnVlTWVzc2FnZSA6IGZhbHNlTWVzc2FnZTtcbiAgICAgICAgdGhpcy5fdWkucmVuZGVyVGVzdCh7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgcGFzczogcGFzcyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1zZ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RhcnRHcm91cFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGQgYSBzZXBhcmF0b3IgZm9yIGdyb3VwaW5nIHRlc3RzLCBkaXNwbGF5ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWVcbiAgICAgKi9cbiAgICBzdGFydEdyb3VwKGdyb3VwTmFtZSkge1xuICAgICAgICB0aGlzLl91aS5zdGFydEdyb3VwKGdyb3VwTmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0YXJ0U3ViZ3JvdXBcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWRkIGEgc2VwYXJhdG9yIGZvciBzdWJncm91cGluZyB0ZXN0cywgZGlzcGxheWVkIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lXG4gICAgICovXG4gICAgc3RhcnRTdWJHcm91cChzdWJncm91cE5hbWUpIHtcbiAgICAgICAgdGhpcy5fdWkuc3RhcnRTdWJncm91cChzdWJncm91cE5hbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB0ZXN0RnVuY3Rpb25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogVmVyaWZ5IHZhcmlvdXMgb3V0cHV0cyBmb3IgYSBwYXJ0aWN1bGFyIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIFx0ZnVuY1RvVGVzdCBcdEZ1bmN0aW9uIHRvIHRlc3QgcmVzdWx0cyBvZlxuICAgICAqIEBwYXJhbSBcdHRpdGxlIFx0XHRUaXRsZSBmb3IgdGhlIGZ1bmN0aW9uIHN1Ymdyb3VwXG4gICAgICogQHBhcmFtIFx0dGVzdHMgXHRcdFRlc3RzIHRvIGV2YWx1YXRlIHdpdGggdGhpcyBmdW5jdGlvblxuICAgICAqXG4gICAgICovXG4gICAgX3Rlc3RGdW5jdGlvbihmdW5jVG9UZXN0LCB0aXRsZSwgdGVzdHMpIHtcbiAgICAgICAgdGhpcy5fdWkuc3RhcnRTdWJncm91cCh0aXRsZSk7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBlYWNoIG9mIHRoZSB0ZXN0cyBhbmQgdmVyaWZ5IGVhY2ggaXMgd29ya2luZ1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCB0ZXN0cy5sZW5ndGg7IGlkeCArPSAxKSB7XG4gICAgICAgICAgICBsZXQgdGVzdERldGFpbHMgPSB0ZXN0c1tpZHhdO1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGZ1bmNUb1Rlc3QuYXBwbHkod2luZG93LCB0ZXN0RGV0YWlscy5wYXJhbXMpO1xuICAgICAgICAgICAgdGhpcy50ZXN0KHRoaXMuX2dldFRlc3ROYW1lKHRlc3REZXRhaWxzKSwgcmVzdWx0LCB0ZXN0RGV0YWlscy5yZXN1bHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEVRVUFMSVRZIFRFU1RcbiAgICAvKipcbiAgICAgKiB0ZXN0RXF1YWxpdHlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ2hlY2sgaWYgdGhlIGFjdHVhbCBhbmQgZXhwZWN0ZWQgcmVzdWx0cyBhY3R1YWxseSBtYXRjaFxuICAgICAqXG4gICAgICogQHBhcmFtIGFjdHVhbFJlc3VsdCBcdFx0V2hhdCB0aGUgdGVzdCByZXR1cm5lZFxuICAgICAqIEBwYXJhbSBleHBlY3RlZFJlc3VsdCBcdFdoYXQgdGhlIHRlc3Qgc2hvdWxkIGhhdmUgcmV0dXJuZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUcnVlIGlmIHRoZSBhY3R1YWwgcmVzdWx0IG1hdGNoZXMgdGhlIGV4cGVjdGVkIHJlc3VsdFxuICAgICAqL1xuICAgIHRlc3RFcXVhbGl0eShhY3R1YWxSZXN1bHQsIGV4cGVjdGVkUmVzdWx0KSB7XG4gICAgICAgIGlmIChhY3R1YWxSZXN1bHQuZXF1YWxzKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0dWFsUmVzdWx0LmVxdWFscyhleHBlY3RlZFJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKGFjdHVhbFJlc3VsdCA9PT0gZXhwZWN0ZWRSZXN1bHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEVMUEVSU1xuICAgIF9nZXRUZXN0TmFtZSh0ZXN0KSB7XG4gICAgICAgIGlmICh0ZXN0LmRldGFpbHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXN0LmRldGFpbHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZ3NfMS5mb3JtYXQoXCIoezB9KSA9PT4gezF9XCIsIHRlc3QucGFyYW1zLmpvaW4oXCIsIFwiKSwgdGVzdC5yZXN1bHQpO1xuICAgIH1cbn1cbmV4cG9ydHMuVW5pdFRlc3RlciA9IFVuaXRUZXN0ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi9wcmltaXRpdmVIZWxwZXJzL3N0cmluZ3NcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBUZXN0VUlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFJlbmRlciB0aGUgYXBwcm9wcmlhdGUgVUkgZm9yIGEgc2V0IG9mIHVuaXQgdGVzdHNcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgVGVzdFVJIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIC8qKlxuICAgICAqIF9idWlsZFZhbHVlU3RyaW5nXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEJ1aWxkIHRoZSBzdHJpbmcgdGhhdCB3aWxsIHNob3cgd2hldGhlciB0aGUgcmVzdWx0IGlzIGEgbWF0Y2ggb3Igbm90XG4gICAgICpcbiAgICAgKiBAcGFyYW1cdHBhc3NcdFx0XHRJZiB0cnVlLCBidWlsZHMgdGhlIHBhc3Mgc3RyaW5nXG4gICAgICogQHBhcmFtXHRhY3R1YWxSZXN1bHRcdFRoZSB2YWx1ZSB0aGF0IHdhcyByZWNlaXZlZFxuICAgICAqIEBwYXJhbVx0ZXhwZWN0ZWRSZXN1bHRcdFRoZSB2YWx1ZSB3ZSBzaG91bGQgaGF2ZSBnb3R0ZW5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRBIHN0cmluZyB0aGF0J3MgYXBwcm9wcmlhdGUgZm9yIHRoaXMgdGVzdCdzIHJlc3VsdFxuICAgICAqL1xuICAgIF9idWlsZFZhbHVlU3RyaW5nKHJlc3VsdCkge1xuICAgICAgICBpZiAoIXJlc3VsdC5hY3R1YWxSZXN1bHQgfHwgIXJlc3VsdC5leHBlY3RlZFJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5wYXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nc18xLmZvcm1hdChcIid7MH0nID0gJ3sxfSdcIiwgcmVzdWx0LmFjdHVhbFJlc3VsdCwgcmVzdWx0LmV4cGVjdGVkUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmdzXzEuZm9ybWF0KFwiJ3swfScgIT0gJ3sxfSdcIiwgcmVzdWx0LmFjdHVhbFJlc3VsdCwgcmVzdWx0LmV4cGVjdGVkUmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcGFzc1RvU3RyaW5nXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIERpc3BsYXkgd2hldGhlciB0aGUgdGVzdCBwYXNzZWQgb3IgZmFpbGVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRwYXNzXHRUcnVlIGlmIHRoZSB0ZXN0IHBhc3NlZFxuICAgICAqXG4gICAgICogQHJldHVybnNcdERpc3BsYXkgc3RyaW5nIGZvciB0aGUgcGFzcyByZXN1bHRcbiAgICAgKi9cbiAgICBfcGFzc1RvU3RyaW5nKHBhc3MpIHtcbiAgICAgICAgcmV0dXJuIChwYXNzID8gXCJwYXNzXCIgOiBcImZhaWxcIik7XG4gICAgfVxufVxuZXhwb3J0cy5UZXN0VUkgPSBUZXN0VUk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbmF2aWdhdGVfMSA9IHJlcXVpcmUoXCIuLi9vYmplY3RIZWxwZXJzL25hdmlnYXRlXCIpO1xuY29uc3QgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9hc3luY1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0QmluZGVyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBrZWVwcyB0cmFjayBvZiBhbGwgYm91bmQgZWxlbWVudHMgYW5kIGNvbnNvbGlkYXRlcyBpbnRvIGEgc2luZ2xlIGFuaW1hdGlvblxuICogZnJhbWUgZXZlbnQ7IHByZXZlbnRzIHBvb3IgcGVyZm9ybWFuY2Ugd2l0aCBsb3RzIG9mIGJvdW5kIHZpZXdzXG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uXHQxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBfQmluZGVyIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENPTlNUUlVDVE9SU1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9pZCA9IDA7XG4gICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYm91bmREZXRhaWxzID0ge307XG4gICAgICAgIHRoaXMuX3N0YXJ0QW5pbWF0aW9uTG9vcCgpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBJREVOVElGSUVSU1xuICAgIF9nZXROZXh0SWQoKSB7XG4gICAgICAgIHRoaXMuX2lkICs9IDE7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZC50b1N0cmluZygpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFBVQkxJQyBGVU5DUyBGT1IgUkVHSVNURVJJTkcgLyBVTlJFR0lTVEVSSU5HIEJJTkRJTkdTXG4gICAgYmluZChldmFsRnVuYywgdXBkYXRlRnVuYywgZGVsZXRlRnVuYywgZXF1YWxzRnVuYykge1xuICAgICAgICBpZiAoIWV2YWxGdW5jIHx8ICF1cGRhdGVGdW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbml0aWFsaXplIGFwcHJvcHJpYXRlbHkgaWYgdGhlIHZhbHVlIGlzIGFscmVhZHkgc2V0XG4gICAgICAgIGxldCBsYXN0VmFsdWUgPSBldmFsRnVuYygpO1xuICAgICAgICBhc3luY18xLm5leHRSZW5kZXIoKS50aGVuKCgpID0+IHVwZGF0ZUZ1bmMobGFzdFZhbHVlKSk7XG4gICAgICAgIGxldCBkZXRhaWxzID0ge1xuICAgICAgICAgICAgaWQ6IHRoaXMuX2dldE5leHRJZCgpLFxuICAgICAgICAgICAgZXZhbDogZXZhbEZ1bmMsXG4gICAgICAgICAgICB1cGRhdGU6IHVwZGF0ZUZ1bmMsXG4gICAgICAgICAgICBkZWxldGU6IGRlbGV0ZUZ1bmMgfHwgKCgpID0+IGZhbHNlKSxcbiAgICAgICAgICAgIGxhc3RWYWx1ZTogbGFzdFZhbHVlLFxuICAgICAgICAgICAgZXF1YWxzOiBlcXVhbHNGdW5jIHx8ICgoYSwgYikgPT4geyByZXR1cm4gYSA9PT0gYjsgfSlcbiAgICAgICAgfTtcbiAgICAgICAgLy8gYWRkIHRvIG91ciBkaWN0aW9uYXJ5XG4gICAgICAgIHRoaXMuX2JvdW5kRGV0YWlsc1tkZXRhaWxzLmlkXSA9IGRldGFpbHM7XG4gICAgICAgIC8vIHJldHVybiB0aGUgaWRlbnRpZmllciBvZiB0aGVcbiAgICAgICAgcmV0dXJuIGRldGFpbHMuaWQ7XG4gICAgfVxuICAgIHVuYmluZChrZXkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9ib3VuZERldGFpbHNba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ib3VuZERldGFpbHNba2V5XTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gU0hBUkVEIEFOSU1BVElPTiBGUkFNRSBIQU5ETElOR1xuICAgIF9zdGFydEFuaW1hdGlvbkxvb3AoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb25GcmFtZSgpO1xuICAgIH1cbiAgICBfb25GcmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIG5hdmlnYXRlXzEubWFwKHRoaXMuX2JvdW5kRGV0YWlscywgKGRldGFpbHMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGluZ0JpbmRpbmcoZGV0YWlscyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHF1ZXVlIHVwIHRoZSBuZXh0IHJlbmRlclxuICAgICAgICAgICAgcmV0dXJuIGFzeW5jXzEubmV4dFJlbmRlcigpLnRoZW4oKCkgPT4gdGhpcy5fb25GcmFtZSgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9oYW5kbGluZ0JpbmRpbmcoZGV0YWlscykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gY2hlY2sgZmlyc3QgaWYgdGhpcyBlbGVtZW50IHNob3VsZCBiZSBkZWxldGVkXG4gICAgICAgICAgICBpZiAoZGV0YWlscy5kZWxldGUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5iaW5kKGRldGFpbHMuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5leHQgY2hlY2sgaWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkXG4gICAgICAgICAgICBsZXQgbmV3VmFsID0gZGV0YWlscy5ldmFsKCk7XG4gICAgICAgICAgICBpZiAoZGV0YWlscy5lcXVhbHMobmV3VmFsLCBkZXRhaWxzLmxhc3RWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBsYXN0LCBwZXJmb3JtIHRoZSB1cGRhdGUgZnVuY3Rpb25cbiAgICAgICAgICAgIGRldGFpbHMubGFzdFZhbHVlID0gbmV3VmFsO1xuICAgICAgICAgICAgZGV0YWlscy51cGRhdGUobmV3VmFsKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5CaW5kZXIgPSBuZXcgX0JpbmRlcigpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vcHJpbWl0aXZlSGVscGVycy9zdHJpbmdzXCIpO1xuY29uc3Qgc3R5bGVzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL3N0eWxlc1wiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCBuYXZpZ2F0ZV8xID0gcmVxdWlyZShcIi4uL29iamVjdEhlbHBlcnMvbmF2aWdhdGVcIik7XG5jb25zdCBjbG9uaW5nXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9jbG9uaW5nXCIpO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG5jb25zdCBuYW1lZENsYXNzXzEgPSByZXF1aXJlKFwiLi4vbmFtZWRDbGFzcy9uYW1lZENsYXNzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIFN0eWxhYmxlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGVzIGFuIGVsZW1lbnQgdGhhdCBjYW4gYWRkaXRpb25hbGx5IGFkZCBDU1Mgc3R5bGVzXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMS4yXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFN0eWxhYmxlIGV4dGVuZHMgbmFtZWRDbGFzc18xLk5hbWVkQ2xhc3Mge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSU5TVEFOQ0UgTUVUSE9EU1xuICAgIC8qKlxuICAgICAqIFN0eWxhYmxlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZXMgYSBzdHlsYWJsZSBjbGFzc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcIlN0eWxhYmxlXCIpO1xuICAgICAgICB0aGlzLl9jb2xvcnMgPSB7fTtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBzdHlsZXNcbiAgICAgICAgdGhpcy5fY3JlYXRlU3R5bGVzKCk7XG4gICAgICAgIHRoaXMuX2hhc0NyZWF0ZWRTdHlsZXMgPSB0cnVlO1xuICAgICAgICAvLyByZWdpc3RlciBtZWRpYSBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJNZWRpYUxpc3RlbmVycygpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFNUQVRJQyBNRVRIT0RTXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ09MT1ItUkVMQVRFRCBNRVRIT0RTXG4gICAgLyoqXG4gICAgICogX2J1aWxkVGhlbWVDb2xvcklkXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSBhIHVuaXF1ZSBJRCBmb3IgYSBjb2xvciBmb3IgYSBwYXJ0aWN1bGFyIGNsYXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICBpZHggICAgICAgICBUaGUgaW5kZXggb2YgdGhlIGNvbG9yXG4gICAgICogQHBhcmFtICAgdW5pcXVlSUQgICAgT3B0aW9uYWwgbmFtZSB0byB1c2UgaW5zdGVhZCBvZiB0aGUgY2xhc3MgbmFtZVxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGNyZWF0ZWQgY29sb3IgSURcbiAgICAgKi9cbiAgICBzdGF0aWMgX2J1aWxkVGhlbWVDb2xvcklkKHVuaXF1ZUlkKSB7XG4gICAgICAgIGxldCBvdXRTdHIgPSBzdHJpbmdzXzEuZm9ybWF0KFwiPHswfT5cIiwgdW5pcXVlSWQpO1xuICAgICAgICByZXR1cm4gb3V0U3RyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY29udGFpbmVkUGxhY2Vob2xkZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY2hlY2sgaWYgYSBwYXJ0aWN1bGFyIHZhbHVlIHN0cmluZyBoYXMgYSBwbGFjZWhvbGRlciB3aXRoaW4gaXRcbiAgICAgKiBAcGFyYW0gICB2YWx1ZSAgIFRoZSB2YWx1ZSB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIFRydWUgaWYgYSBwbGFjZWhvbGRlciBpcyBmb3VuZFxuICAgICAqL1xuICAgIHN0YXRpYyBfY29udGFpbmVkUGxhY2Vob2xkZXIodmFsdWUpIHtcbiAgICAgICAgbGV0IHBsYWNlaG9sZGVyUmVnZXggPSAvPCguKz8pPi87XG4gICAgICAgIGxldCByZXN1bHQgPSBwbGFjZWhvbGRlclJlZ2V4LmV4ZWModmFsdWUpO1xuICAgICAgICBpZiAoIXJlc3VsdCB8fCAhcmVzdWx0WzFdKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0WzFdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfZmluZEFsbENvbnRhaW5lZFBsYWNlaG9sZGVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjaGVjayBpZiBhIHBhcnRpY3VsYXIgdmFsdWUgc3RyaW5nIGhhcyBhIHBsYWNlaG9sZGVyIHdpdGhpbiBpdFxuICAgICAqIEBwYXJhbSAgIHZhbHVlICAgVGhlIHZhbHVlIHRvIGNoZWNrXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiBhIHBsYWNlaG9sZGVyIGlzIGZvdW5kXG4gICAgICovXG4gICAgc3RhdGljIF9maW5kQWxsQ29udGFpbmVkUGxhY2Vob2xkZXJzKHN0eWxlcykge1xuICAgICAgICAvLyB0dXJuIHRoZSBzdHlsZXMgaW50byBhIHN0cmluZyBmb3IgZWFzZSBvZiBwYXJzaW5nXG4gICAgICAgIGxldCBmbGF0U3R5bGVzID0gSlNPTi5zdHJpbmdpZnkoc3R5bGVzKTtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBzb21lIHZhcmlhYmxlcyB3ZSBuZWVkXG4gICAgICAgIGxldCBvdXQgPSBbXTtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgLy8gY29udGludWUgbG9vcGluZyB1bnRpbCB3ZSBydW4gb3V0IG9mIHJlZ2V4IG1hdGNoZXNcbiAgICAgICAgbGV0IHBsYWNlaG9sZGVyUmVnZXggPSAvPCguKz8pPi9nO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICByZXN1bHQgPSBwbGFjZWhvbGRlclJlZ2V4LmV4ZWMoZmxhdFN0eWxlcyk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0LnB1c2gocmVzdWx0WzFdKTtcbiAgICAgICAgfSB3aGlsZSAocmVzdWx0KTtcbiAgICAgICAgLy8gcmV0dXJuIGFsbCB0aGUgbWF0Y2hlcyB3ZSBmb3VuZFxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfdXBkYXRlQWxsVGhlbWVDb2xvcnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogTWFrZSBzdXJlIHdlIGhhdmUgYW4gdXBkYXRlZCB2ZXJzaW9uIG9mIG91ciBzdHlsZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgX3VwZGF0ZUFsbFRoZW1lQ29sb3JzKCkge1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLl90aGVtZUNvbG9ycywgKHZhbHVlLCB0aGVtZUNvbG9ySWQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVRoZW1lQ29sb3IodGhlbWVDb2xvcklkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF91cGRhdGVUaGVtZUNvbG9yXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHVwZGF0ZXMgYW4gaW5kaXZpZHVhbCB0aGVtZSBjb2xvclxuICAgICAqIEBwYXJhbSAgIGNvbG9ySWQgICAgIFRoZSBjb2xvciBJRCB0byB1cGRhdGVcbiAgICAgKi9cbiAgICBzdGF0aWMgX3VwZGF0ZVRoZW1lQ29sb3IoY29sb3JJZCkge1xuICAgICAgICBsZXQgYWZmZWN0ZWRTdHlsZXMgPSBjbG9uaW5nXzEuY2xvbmVPYmplY3QodGhpcy5fdGhlbWVkU3R5bGVzW2NvbG9ySWRdIHx8IHt9KTtcbiAgICAgICAgaWYgKCFhZmZlY3RlZFN0eWxlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgY2xhc3NlcyB0aWVkIHRvIHRoaXMgY29sb3IgSUQgYW5kIHVwZGF0ZSB0aGVtXG4gICAgICAgIG5hdmlnYXRlXzEubWFwKGFmZmVjdGVkU3R5bGVzLCAoZGVmLCBzZWxlY3RvcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFkZWYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb2xvckluQ2xhc3NEZWZpbml0aW9uKGRlZiwgY29sb3JJZCk7XG4gICAgICAgICAgICBhZmZlY3RlZFN0eWxlc1tzZWxlY3Rvcl0gPSBkZWY7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjcmVhdGUgdGhlIHBhcnRpY3VsYXIgY29sb3JzIGZvciB0aGlzIHN0eWxlXG4gICAgICAgIHRoaXMuX2NyZWF0ZUNvbG9yZWRTdHlsZXMoYWZmZWN0ZWRTdHlsZXMsIGNvbG9ySWQsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfdXBkYXRlQ29sb3JJbkNsYXNzRGVmaW5pdGlvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjaGVja3Mgd2hldGhlciBhIGNvbG9yIGlzIHJlcGxhY2luZyBhIGN1cnJlbnQgY29sb3IgSUQgaW4gdGhlIGRlZmluaXRpb25cbiAgICAgKiBAcGFyYW0gZGVmXG4gICAgICogQHBhcmFtIGNvbG9ySWRcbiAgICAgKi9cbiAgICBzdGF0aWMgX3VwZGF0ZUNvbG9ySW5DbGFzc0RlZmluaXRpb24oZGVmLCBjb2xvcklkKSB7XG4gICAgICAgIGxldCBjb2xvciA9IHRoaXMuX3RoZW1lQ29sb3JzW2NvbG9ySWRdO1xuICAgICAgICBpZiAoIWNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlcGxhY2VkQW55ID0gZmFsc2U7XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBlYWNoIHByb3BlcnR5IG9uIHRoaXMgcGFydGljdWxhciBjbGFzc1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcChkZWYsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAvLyBza2lwIHRyYW5zaXRpb24gdmFsdWVzXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJlcGxhY2VkID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBTcGxpdCBlYWNoIHZhbHVlICYgYXNzdW1lIHdlIHdvbid0IHJlcGxhY2UgYW55dGhpbmdcbiAgICAgICAgICAgIGxldCB2YWxBcnJheSA9IHZhbHVlLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgc3BsaXQgdmFsdWVcbiAgICAgICAgICAgIHZhbEFycmF5Lm1hcCgodmFsLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29udGFpbmVkUGxhY2Vob2xkZXIodmFsKSAhPT0gY29sb3JJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbEFycmF5W2lkeF0gPSB2YWwucmVwbGFjZShuZXcgUmVnRXhwKFwiPD9cIiArIGNvbG9ySWQgKyBcIj4/XCIsIFwiZ1wiKSwgY29sb3IpO1xuICAgICAgICAgICAgICAgIHJlcGxhY2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gUXVpdCBpZiB3ZSBkaWRuJ3QgcmVwbGFjZSBhbnl0aGluZ1xuICAgICAgICAgICAgaWYgKCFyZXBsYWNlZCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBkZWZba2V5XTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSB2YWx1ZSB3aXRoIHRoZSBuZXcgY29sb3JcbiAgICAgICAgICAgIGRlZltrZXldID0gdmFsQXJyYXkuam9pbihcIiBcIik7XG4gICAgICAgICAgICAvLyBsZXQgdGhlIHJldHVybiB2YWx1ZSB0aGF0IHdlIHJlcGxhY2VkIHNvbWV0aGluZ1xuICAgICAgICAgICAgcmVwbGFjZWRBbnkgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcGxhY2VkQW55O1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIE1FUkdJTkcgVEhFTUVTXG4gICAgLyoqXG4gICAgICogX21lcmdlSW50b1N0eWxlc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGQgYSBuZXcgc2V0IG9mIHN0eWxlcyBpbnRvIHRoZSBzZXQgb2YgcGFnZSBzdHlsZXNcbiAgICAgKiBAcGFyYW0gICBzdHlsZXMgIFRoZSBzdHlsZXMgdG8gbWVyZ2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX21lcmdlSW50b1N0eWxlcyhzdHlsZXMpIHtcbiAgICAgICAgLy8gaGFuZGxlIHRoZSBub24tY29sb3JhYmxlc1xuICAgICAgICB0aGlzLl9wYWdlU3R5bGVzID0gdGhpcy5fbWVyZ2VUaGVtZXMoXCJcIiwgdGhpcy5fcGFnZVN0eWxlcywgc3R5bGVzKTtcbiAgICAgICAgLy8gc29ydCBvdXQgdGhlIGNvbG9yYWJsZXNcbiAgICAgICAgdGhpcy5fdGhlbWVkU3R5bGVzID0gdGhpcy5fbWVyZ2VDb2xvclRoZW1lcyhzdHlsZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfbWVyZ2VUaGVtZXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogTWVyZSBhIHNldCBvZiB0aGVtZXMgaW50byBhIHNpbmdsZSB0aGVtZVxuICAgICAqIEBwYXJhbSAgIHN0eWxlcyAgU2V0cyBvZiB0aGVtZXMgdGhhdCBzaG91bGQgYmUgbWVyZ2VkIHRvZ2V0aGVyXG4gICAgICogQHJldHVybnMgVGhlIHVwZGF0ZWQgc2V0IG9mIHRoZW1lc1xuICAgICAqL1xuICAgIHN0YXRpYyBfbWVyZ2VUaGVtZXMocGxhY2Vob2xkZXJUb01hdGNoLCAuLi5zdHlsZXMpIHtcbiAgICAgICAgbGV0IGZsYXRTdHlsZXMgPSBbXTtcbiAgICAgICAgbGV0IHN0eWxlO1xuICAgICAgICBmb3IgKHN0eWxlIG9mIHN0eWxlcykge1xuICAgICAgICAgICAgbGV0IGZsYXRTdHlsZSA9IHRoaXMuX2NsZWFuU3R5bGVzKHN0eWxlKTtcbiAgICAgICAgICAgIGZsYXRTdHlsZXMucHVzaChmbGF0U3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jb21iaW5lVGhlbWVzKHBsYWNlaG9sZGVyVG9NYXRjaCwgLi4uZmxhdFN0eWxlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9tZXJnZUNvbG9yVGhlbWVzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIE1lcmdlIGNvbG9yIHNwZWNpZmljIHN0eWxlIGVsZW1lbnRzIGludG8gb3VyIGNvbG9yIGFycmF5c1xuICAgICAqIEBwYXJhbSAgIHN0eWxlcyAgU3R5bGVzIHRvIGNvbWJpbmUgaW50byBjb2xvci1zcGVjaWZpYyBzZXRzXG4gICAgICogQHJldHVybnMgVGhlIGNyZWF0ZWQgZGljdGlvbmFyeSBvZiB0aGVtZSBzcGVjaWZpYyBjb2xvcnNcbiAgICAgKi9cbiAgICBzdGF0aWMgX21lcmdlQ29sb3JUaGVtZXMoLi4uc3R5bGVzKSB7XG4gICAgICAgIGxldCBwbGFjZWhvbGRlcnM7XG4gICAgICAgIGZvciAobGV0IHN0eWxlIG9mIHN0eWxlcykge1xuICAgICAgICAgICAgcGxhY2Vob2xkZXJzID0gdGhpcy5fZmluZEFsbENvbnRhaW5lZFBsYWNlaG9sZGVycyhzdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGhhbmRsZWRQbGFjZWhvbGRlcnMgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgcGxhY2Vob2xkZXIgb2YgcGxhY2Vob2xkZXJzKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgd2UgaGF2ZW4ndCBoYW5kbGVkIHRoaXMgcGxhY2Vob2xkZXIgYWxyZWFkeVxuICAgICAgICAgICAgaWYgKGhhbmRsZWRQbGFjZWhvbGRlcnNbcGxhY2Vob2xkZXJdKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgd2UgaGF2ZSBhIGRpY3Rpb25hcnkgdG8gc2F2ZSBpbnRvXG4gICAgICAgICAgICBpZiAodGhpcy5fdGhlbWVkU3R5bGVzW3BsYWNlaG9sZGVyXSkge1xuICAgICAgICAgICAgICAgIHN0eWxlcy5wdXNoKHRoaXMuX3RoZW1lZFN0eWxlc1twbGFjZWhvbGRlcl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGhlbWVkU3R5bGVzW3BsYWNlaG9sZGVyXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWVyZ2UgYmFjayBpbnRvIHRoZSBjb2xsZWN0aXZlIHN0eWxlc1xuICAgICAgICAgICAgdGhpcy5fdGhlbWVkU3R5bGVzW3BsYWNlaG9sZGVyXSA9IHRoaXMuX21lcmdlVGhlbWVzKHBsYWNlaG9sZGVyLCAuLi5zdHlsZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl90aGVtZWRTdHlsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jb21iaW5lVGhlbWVzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSAgIHRoZW1lcyAgVGhlIHRoZW1lcyB0byBjb21iaW5lXG4gICAgICogQHJldHVybnMgVGhlIG1lcmdlZCB0aGVtZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgX2NvbWJpbmVUaGVtZXMocGxhY2Vob2xkZXJUb01hdGNoLCAuLi50aGVtZXMpIHtcbiAgICAgICAgbGV0IHBhZ2VTdHlsZXMgPSB7fTtcbiAgICAgICAgLy8gR28gdGhyb3VnaCBlYWNoIG9mIHRoZSB0aGVtZXNcbiAgICAgICAgdGhlbWVzLm1hcCgoc3R5bGUpID0+IHtcbiAgICAgICAgICAgIC8vIHRoZW4gdGhyb3VnaCBlYWNoIG9mIHRoZSBzZWxlY3RvcnNcbiAgICAgICAgICAgIG5hdmlnYXRlXzEubWFwKHN0eWxlLCAoZGVmLCBzZWxlY3RvcikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgc3R5bGVzIHRoYXQgZG9uJ3QgaGF2ZSBjb2xvcmVkIGFzcGVjdHNcbiAgICAgICAgICAgICAgICBpZiAoIXBhZ2VTdHlsZXNbc2VsZWN0b3JdKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VTdHlsZXNbc2VsZWN0b3JdID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhZ2VTdHlsZXNbc2VsZWN0b3JdID0gdGhpcy5fbWVyZ2VEZWZpbml0aW9uKHBsYWNlaG9sZGVyVG9NYXRjaCwgZGVmLCBwYWdlU3R5bGVzW3NlbGVjdG9yXSk7XG4gICAgICAgICAgICAgICAgaWYgKG5hdmlnYXRlXzEuaXNFbXB0eU9iamVjdChwYWdlU3R5bGVzW3NlbGVjdG9yXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHBhZ2VTdHlsZXNbc2VsZWN0b3JdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhZ2VTdHlsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9tZXJnZURlZmluaXRpb25zXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIG1lcmdlIGEgcGFydGljdWxhciBzZXQgb2YgZGVmaW5pdGlvbnNcbiAgICAgKiBAcGFyYW0gICBkZWZpbml0aW9ucyAgICAgVGhlIGRlZmluaXRpb25zIHRvIG1lcmdlXG4gICAgICogQHJldHVybnMgVGhlIG1lcmdlZCBzZXQgb2YgZGVmaW5pdGlvbnNcbiAgICAgKi9cbiAgICBzdGF0aWMgX21lcmdlRGVmaW5pdGlvbihwbGFjZWhvbGRlclRvTWF0Y2gsIC4uLmRlZmluaXRpb25zKSB7XG4gICAgICAgIGxldCBtZXJnZWREZWYgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgZGVmIG9mIGRlZmluaXRpb25zKSB7XG4gICAgICAgICAgICAvLyBhbmQgbGFzdCB0aHJvdWdoIGFsbCBvZiB0aGUgcHJvcGVydGllc1xuICAgICAgICAgICAgbmF2aWdhdGVfMS5tYXAoZGVmLCAodmFsLCBwcm9wZXJ0eSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBwbGFjZWhvbGRlciA9IHRoaXMuX2NvbnRhaW5lZFBsYWNlaG9sZGVyKHZhbCk7XG4gICAgICAgICAgICAgICAgLy8gbWVyZ2UgaW4gb25seSBpZiBpdCBtZWV0cyBvdXIgY3VycmVudCBwbGFjZWhvbGRlciByZXF1aXJlbWVudHNcbiAgICAgICAgICAgICAgICBpZiAoZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQocGxhY2Vob2xkZXJUb01hdGNoKSB8fCAocGxhY2Vob2xkZXIgPT09IHBsYWNlaG9sZGVyVG9NYXRjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkRGVmW3Byb3BlcnR5XSA9IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVyZ2VkRGVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfbWVyZ2VJbnRvRm9udHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBmb250c1xuICAgICAqXG4gICAgICovXG4gICAgc3RhdGljIF9tZXJnZUludG9Gb250cyhmb250cykge1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcChmb250cywgKGZvbnREZWYsIGZvbnROYW1lKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jdXN0b21QYWdlRm9udHNbZm9udE5hbWVdID0gZm9udERlZjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ1JFQVRJTkcgU1RZTEVTXG4gICAgLyoqXG4gICAgICogX2NyZWF0ZVN0eWxlc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIHN0eWxlcyBmb3IgdGhpcyBjbGFzc1xuICAgICAqIEBwYXJhbSAgIGZvcmNlT3ZlcnJpZGUgICBUcnVlIGlmIHdlIHNob3VsZCBjcmVhdGUgdGhlIGNsYXNzZXMgZXZlbiBpZiB0aGV5XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFscmVhZHkgZXhpc3RcbiAgICAgKi9cbiAgICBzdGF0aWMgX2NyZWF0ZVN0eWxlcyhmb3JjZU92ZXJyaWRlKSB7XG4gICAgICAgIC8vIGdyYWIgb3VyIHVwZGF0ZWQgY29sb3JzXG4gICAgICAgIGxldCBzdHlsZXMgPSBTdHlsYWJsZS5fcGFnZVN0eWxlcztcbiAgICAgICAgdGhpcy5fc3R5bGVFbGVtcyA9IHRoaXMuX3NoYXJlZENyZWF0ZVN0eWxlcyhzdHlsZXMsIHRoaXMuX3N0eWxlRWxlbXMsIGZvcmNlT3ZlcnJpZGUpO1xuICAgICAgICB0aGlzLl9jcmVhdGVGb250U3R5bGVzKGZvcmNlT3ZlcnJpZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRm9udFN0eWxlc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gZm9yY2VPdmVycmlkZVxuICAgICAqL1xuICAgIHN0YXRpYyBfY3JlYXRlRm9udFN0eWxlcyhmb3JjZU92ZXJyaWRlKSB7XG4gICAgICAgIC8vIGFkZCB0aGUgZm9udC1mYW1pbHkgcGllY2VzXG4gICAgICAgIGxldCBmb250cyA9IFN0eWxhYmxlLl9jdXN0b21QYWdlRm9udHM7XG4gICAgICAgIGlmICghdGhpcy5fY3VzdG9tRm9udEVsZW0pIHtcbiAgICAgICAgICAgIHRoaXMuX2N1c3RvbUZvbnRFbGVtID0gc3R5bGVzXzEuY3JlYXRlU3R5bGVFbGVtZW50KGZhbHNlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5fY3VzdG9tRm9udEVsZW0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2N1c3RvbUZvbnRFbGVtLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIG5hdmlnYXRlXzEubWFwKGZvbnRzLCAoZm9udERlZiwgZm9udE5hbWUpID0+IHtcbiAgICAgICAgICAgIGxldCB0bXBFbGVtID0gc3R5bGVzXzEuY3JlYXRlRm9udERlZmluaXRpb24oZm9udE5hbWUsIGZvbnREZWYsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5fY3VzdG9tRm9udEVsZW0uaW5uZXJIVE1MICs9IHRtcEVsZW0uaW5uZXJIVE1MO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUNvbG9yZWRTdHlsZXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGFsbCBzdHlsZXMgZm9yIGNvbG9yLWFmZmVjdGVkIGNsYXNzZXNcbiAgICAgKiBAcGFyYW0gICBmb3JjZU92ZXJyaWRlICAgSWYgdHJ1ZSwgcmVnZW5lcmF0ZXMgYWxsIHN0eWxlcyBmb3IgY29sb3JzXG4gICAgICovXG4gICAgc3RhdGljIF9jcmVhdGVBbGxDb2xvcmVkU3R5bGVzKGZvcmNlT3ZlcnJpZGUpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlQWxsVGhlbWVDb2xvcnMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUNvbG9yU3R5bGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGEgcGFydGljdWxhciBjb2xvcidzIHN0eWxlXG4gICAgICogQHBhcmFtICAgc3R5bGVzICAgICAgICAgIFRoZSBzdHlsZXMgdG8gY3JlYXRlIGZvciB0aGlzIGNvbG9yXG4gICAgICogQHBhcmFtICAgY29sb3JJZCAgICAgICAgIFRoZSBJRCBvZiB0aGUgY29sb3JcbiAgICAgKiBAcGFyYW0gICBmb3JjZU92ZXJyaWRlICAgSWYgdHJ1ZSwgcmVnZW5lcmF0ZXMgdGhlIGNsYXNzZXMgZm9yIHRoaXMgY29sb3JcbiAgICAgKi9cbiAgICBzdGF0aWMgX2NyZWF0ZUNvbG9yZWRTdHlsZXMoc3R5bGVzLCBjb2xvcklkLCBmb3JjZU92ZXJyaWRlKSB7XG4gICAgICAgIHRoaXMuX2NvbG9yU3R5bGVFbGVtc1tjb2xvcklkXSA9IHRoaXMuX3NoYXJlZENyZWF0ZVN0eWxlcyhzdHlsZXMsIHRoaXMuX2NvbG9yU3R5bGVFbGVtc1tjb2xvcklkXSwgZm9yY2VPdmVycmlkZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zaGFyZWRDcmVhdGVTdHlsZXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlcyBzdHlsZXMgKGVpdGhlciBjb2xvcmVkIG9yIG5vdClcbiAgICAgKiBAcGFyYW0gICBzdHlsZXNcbiAgICAgKiBAcGFyYW0gICBlbGVtc1xuICAgICAqIEBwYXJhbSAgIGZvcmNlT3ZlcnJpZGVcbiAgICAgKi9cbiAgICBzdGF0aWMgX3NoYXJlZENyZWF0ZVN0eWxlcyhzdHlsZXMsIGVsZW1zLCBmb3JjZU92ZXJyaWRlKSB7XG4gICAgICAgIGlmICghc3R5bGVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxlbmd0aCA9IDA7XG4gICAgICAgIGxldCBNQVhfU1RSSU5HID0gMTAwMDA7XG4gICAgICAgIC8vIHJlbW92ZSBhbGwgY3VycmVudCBzdHlsZSB0YWdzIHNvIHdlIGFyZW4ndCBkdXBsaWNhdGluZyBldmVyeSB0aW1lIGNvbG9ycyBjaGFuZ2VcbiAgICAgICAgaWYgKGVsZW1zICYmIGVsZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGVsZW0gb2YgZWxlbXMpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7IGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoZWxlbSk7IH0sIDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxlbXMgPSBbXTtcbiAgICAgICAgLy8gc3BpbiB1cCBhIG5ldyBlbGVtZW50IHRvIGFkZCB0aGVzZSBzdHlsZXMgdG9cbiAgICAgICAgbGV0IG5ld0VsZW0gPSB0aGlzLl9hZGROZXdFbGVtZW50KGVsZW1zKTtcbiAgICAgICAgLy8gY3JlYXRlIGFsbCBvZiB0aGUgaW5kaXZpZHVhbCBzdHlsZXNcbiAgICAgICAgbmF2aWdhdGVfMS5tYXAoc3R5bGVzLCAoY3NzRGVjbGFyYXRpb24sIHNlbGVjdG9yKSA9PiB7XG4gICAgICAgICAgICBsZXQgdG1wRWxlbSA9IHN0eWxlc18xLmNyZWF0ZUNsYXNzKHNlbGVjdG9yLCBjc3NEZWNsYXJhdGlvbiwgdHJ1ZSwgZm9yY2VPdmVycmlkZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoIXRtcEVsZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZW5ndGggKz0gdG1wRWxlbS5pbm5lckhUTUwubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlbmd0aCA+PSBNQVhfU1RSSU5HKSB7XG4gICAgICAgICAgICAgICAgbmV3RWxlbSA9IHRoaXMuX2FkZE5ld0VsZW1lbnQoZWxlbXMpO1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdFbGVtLmlubmVySFRNTCArPSB0bXBFbGVtLmlubmVySFRNTDtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHJldHVybiB0aGUgbmV3IHN0eWxlIGVsZW1lbnRcbiAgICAgICAgcmV0dXJuIGVsZW1zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYWRkTmV3RWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gZWxlbXNcbiAgICAgKi9cbiAgICBzdGF0aWMgX2FkZE5ld0VsZW1lbnQoZWxlbXMpIHtcbiAgICAgICAgbGV0IG5ld0VsZW0gPSBzdHlsZXNfMS5jcmVhdGVTdHlsZUVsZW1lbnQoZmFsc2UpO1xuICAgICAgICBuZXdFbGVtLmlubmVySFRNTCA9IFwiQGNoYXJzZXQgXFxcInV0Zi04XFxcIjtcXG5cIjtcbiAgICAgICAgZWxlbXMucHVzaChuZXdFbGVtKTtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChuZXdFbGVtKTtcbiAgICAgICAgcmV0dXJuIG5ld0VsZW07XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ0xFQU5JTkcgU1RZTEVTXG4gICAgLyoqXG4gICAgICogX2NsZWFuU3R5bGVzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENsZWFuIHRoZSBuZXN0ZWQgc3R5bGVzIGRhdGEgc28gdGhhdCB3ZSBjYW4gcGFyc2UgaXQgcHJvcGVybHlcbiAgICAgKiBAcGFyYW0gICBzdHlsZXMgIFRoZSBzdHlsZXMgdG8gY2xlYW5cbiAgICAgKiBAcmV0dXJucyBUaGUgY2xlYW5lZCBzdHlsZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgX2NsZWFuU3R5bGVzKHN0eWxlcywgbGFzdFNlbGVjdG9yKSB7XG4gICAgICAgIGxldCBvdXRTdHlsZXMgPSB7fTtcbiAgICAgICAgbmF2aWdhdGVfMS5tYXAoc3R5bGVzLCAodmFsdWUsIHNlbGVjdG9yKSA9PiB7XG4gICAgICAgICAgICAvLyBzcGxpdCBhbGwgc2VsZWN0b3JzIGF0IGNvbW1hcyBzbyB3ZSBjYW4gYXBwcm9wcmlhdGVseSBuZXN0XG4gICAgICAgICAgICBsZXQgbmV3U2VsZWN0b3JzID0gc2VsZWN0b3Iuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgaWYgKGxhc3RTZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3U2VsZWN0b3JzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdTZWxlY3RvciA9IG5ld1NlbGVjdG9yc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIHNlbGVjdG9ycyB0aGF0IHNwZWNpZnkgd2hlcmUgdGhlIGxhc3Qgc2VsZWN0b3Igc2hvdWxkIHNpdFxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3U2VsZWN0b3IuaW5kZXhPZihcIiZcIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTZWxlY3RvcnNbaV0gPSBuZXdTZWxlY3Rvci5yZXBsYWNlKC8mL2csIGxhc3RTZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgYWxsIG90aGVyIHN1YmNsYXNzIGNhc2VzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTZWxlY3RvcnNbaV0gPSBsYXN0U2VsZWN0b3IgKyBcIiBcIiArIG5ld1NlbGVjdG9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGFsbCBvZiB0aGUgYXZhaWxhYmxlIHN1YmNsYXNzZXMgZm9yIHRoaXNcbiAgICAgICAgICAgIGxldCBzdWJDbHM7XG4gICAgICAgICAgICBmb3IgKHN1YkNscyBvZiBuZXdTZWxlY3RvcnMpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2FsY3VsYXRlZFN0eWxlcyA9IHRoaXMuX2NsZWFuQ2xhc3NEZWYoc3ViQ2xzLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgb3V0U3R5bGVzID0gdGhpcy5fY29tYmluZVRoZW1lcyhudWxsLCBvdXRTdHlsZXMsIGNhbGN1bGF0ZWRTdHlsZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG91dFN0eWxlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NsZWFuQ2xhc3NEZWZcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ2xlYW4gYSBwYXJ0aWN1bGFyIGNsYXNzIGRlZmluaXRpb24gcmVjdXJzaXZlbHlcbiAgICAgKiBAcGFyYW0gICBzZWxlY3RvciAgICBUaGUgQ1NTIHNlbGVjdG9yIGZvciB0aGlzIGNsYXNzXG4gICAgICogQHBhcmFtICAgY2xhc3NEZWYgICAgVGhlIGRlZmluaXRpb24gZm9yIHRoaXMgQ1NTIGNsYXNzXG4gICAgICogQHJldHVybnMgVGhlIG1lcmdlZCBzdHlsZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgX2NsZWFuQ2xhc3NEZWYoc2VsZWN0b3IsIGNsYXNzRGVmKSB7XG4gICAgICAgIGxldCB0b3BTdHlsZXMgPSB7fTtcbiAgICAgICAgdG9wU3R5bGVzW3NlbGVjdG9yXSA9IHt9O1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcChjbGFzc0RlZiwgKHByb3BlcnR5VmFsdWUsIHByb3BlcnR5TmFtZSkgPT4ge1xuICAgICAgICAgICAgLy8gYWxsb3cgZm9yIGFuaW1hdGlvbnMgdG8gYmUgY3JlYXRlZFxuICAgICAgICAgICAgaWYgKHByb3BlcnR5TmFtZSA9PT0gXCJuZXN0ZWRcIikge1xuICAgICAgICAgICAgICAgIGxldCBuZXN0ZWRTdHlsZXMgPSBwcm9wZXJ0eVZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCBzdWJuZXN0ZWRTdHlsZXMgPSB0aGlzLl9jbGVhblN0eWxlcyhwcm9wZXJ0eVZhbHVlLCBzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgdG9wU3R5bGVzID0gdGhpcy5fY29tYmluZVRoZW1lcyhudWxsLCB0b3BTdHlsZXMsIHN1Ym5lc3RlZFN0eWxlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b3BTdHlsZXNbc2VsZWN0b3JdW3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eVZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRvcFN0eWxlcztcbiAgICB9XG4gICAgZ2V0IF91bmNvbG9yZWRTdHlsZXMoKSB7IHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLl91bmNvbG9yZWRTdHlsZXM7IH1cbiAgICBnZXQgdW5jb2xvcmVkU3R5bGVzKCkgeyByZXR1cm4gdGhpcy5fZ2V0VW5jb2xvcmVkU3R5bGVzKCk7IH1cbiAgICAvKiogb3ZlcnJpZGFibGUgZnVuY3Rpb24gdG8gZ3JhYiB0aGUgYXBwcm9wcmlhdGUgc3R5bGVzIGZvciB0aGlzIHBhcnRpY3VsYXIgY2xhc3MgKi9cbiAgICBfZ2V0VW5jb2xvcmVkU3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5fdW5jb2xvcmVkU3R5bGVzO1xuICAgIH1cbiAgICBnZXQgX2N1c3RvbUZvbnRzKCkgeyByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5fY3VzdG9tRm9udHM7IH1cbiAgICBnZXQgY3VzdG9tRm9udHMoKSB7IHJldHVybiB0aGlzLl9nZXRDdXN0b21Gb250cygpOyB9XG4gICAgLyoqIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIHRvIGdyYWIgdGhlIGFwcHJvcHJpYXRlIGZvbnRzIGZvciB0aGlzIHBhcnRpY3VsYXIgY2xhc3MgKi9cbiAgICBfZ2V0Q3VzdG9tRm9udHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLl9jdXN0b21Gb250cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3JlZ2lzdGVyTWVkaWFMaXN0ZW5lcnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQXV0by1hcHBseSB2YXJpb3VzIHN0eWxlcyBmb3IgZWFzaWVyIG1vYmlsZS1vcHRpbWl6aW5nXG4gICAgICovXG4gICAgX3JlZ2lzdGVyTWVkaWFMaXN0ZW5lcnMoKSB7XG4gICAgICAgIC8vIGdsb2JhbCBjbGFzc2VzIChwcmludCwgbW9iaWxlKVxuICAgICAgICB0aGlzLl9yZWdpc3Rlck1lZGlhTGlzdGVuZXIoXCJwcmludFwiLCBcInByaW50XCIpO1xuICAgICAgICB0aGlzLl9yZWdpc3Rlck1lZGlhTGlzdGVuZXIoXCIobWF4LXdpZHRoOjEyMDBweClcIiwgXCJtb2JpbGVcIik7XG4gICAgICAgIC8vIHZhcmlvdXMgbW9iaWxlIHNpemVzXG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyTWVkaWFMaXN0ZW5lcihcIihtYXgtd2lkdGg6MTIwMHB4KSBhbmQgKG1pbi13aWR0aDo4MDFweClcIiwgXCJsYXJnZVwiKTtcbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJNZWRpYUxpc3RlbmVyKFwiKG1heC13aWR0aDo4MDBweCkgYW5kIChtaW4td2lkdGg6NjAxcHgpXCIsIFwibWVkaXVtXCIpO1xuICAgICAgICB0aGlzLl9yZWdpc3Rlck1lZGlhTGlzdGVuZXIoXCIobWF4LXdpZHRoOjYwMHB4KSBhbmQgKG1pbi13aWR0aDo0MDFweClcIiwgXCJzbWFsbFwiKTtcbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJNZWRpYUxpc3RlbmVyKFwiKG1heC13aWR0aDo0MDBweClcIiwgXCJ0aW55XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVnaXN0ZXJNZWRpYUxpc3RlbmVyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFJlZ2lzdGVyIGEgbGlzdGVuZXIgdG8gZGV0ZWN0IGlmIGEgcGFydGljdWxhciBtZWRpYSBxdWVyeSBwYXNzZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIG1hdGNoUXVlcnkgICBUaGUgbWVkaWEgcXVlcnkgdG8gdGVzdCBmb3IgbWF0Y2hpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIGNsYXNzVG9BcHBseSAgICBXaGF0IGNsYXNzIHRvIGFwcGx5IGlmIHRoZSBxdWVyeSBtYXRjaGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICBlbGVtICAgICAgICAgICAgSWYgaW5jbHVkZWQsIHRoZSBlbGVtZW50IHRoYXQgc2hvdWxkIGhhdmUgdGhlIGNsYXNzXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG8tYXBwbGllZFxuICAgICAqL1xuICAgIF9yZWdpc3Rlck1lZGlhTGlzdGVuZXIobWF0Y2hRdWVyeSwgY2xhc3NUb0FwcGx5LCBlbGVtKSB7XG4gICAgICAgIGxldCBtZWRpYVF1ZXJ5RnVuYyA9IHdpbmRvdy5tYXRjaE1lZGlhKG1hdGNoUXVlcnkpO1xuICAgICAgICBtZWRpYVF1ZXJ5RnVuYy5hZGRMaXN0ZW5lcigobWVkaWEpID0+IHtcbiAgICAgICAgICAgIGlmIChtZWRpYS5tYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgY3NzXzEuYWRkQ2xhc3MoZWxlbSB8fCBkb2N1bWVudC5ib2R5LCBjbGFzc1RvQXBwbHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3MoZWxlbSB8fCBkb2N1bWVudC5ib2R5LCBjbGFzc1RvQXBwbHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGFsc28gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHdlIGFscmVhZHkgbWF0Y2hcbiAgICAgICAgaWYgKG1lZGlhUXVlcnlGdW5jLm1hdGNoZXMpIHtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKGVsZW0gfHwgZG9jdW1lbnQuYm9keSwgY2xhc3NUb0FwcGx5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYXBwbHlDb2xvcnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQXBwbHkgdGhlIGFwcHJvcHJpYXRlIHRoZW1lIGNvbG9yc1xuICAgICAqIEBwYXJhbSAgIG90aGVyRWxlbSAgIElmIHBhc3NlZCBpbiwgc2V0cyBhIHRoZW1lIGNvbG9yIG9uIGEgZGlmZmVyZW50IGVsZW1lbnRcbiAgICAgKi9cbiAgICBfYXBwbHlDb2xvcnMob3RoZXJFbGVtKSB7XG4gICAgICAgIGxldCBpZHggPSAwO1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLl9jb2xvcnMsIChjb2xvciwgdW5pcXVlSWQpID0+IHtcbiAgICAgICAgICAgIGlmICghY29sb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW90aGVyRWxlbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGhlbWVDb2xvcih1bmlxdWVJZCwgY29sb3IsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3RoZXJFbGVtLnNldFRoZW1lQ29sb3IodW5pcXVlSWQsIGNvbG9yLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNldFRoZW1lQ29sb3JcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogVXBkYXRlIGEgdGhlbWUgY29sb3IgYmFzZWQgb24gcGxhY2Vob2xkZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICB1bmlxdWVJZCAgICAgICAgVGhlIGluZGV4IG9mIHRoZSB0aGVtZSBjb2xvclxuICAgICAqIEBwYXJhbSAgIGNvbG9yICAgICAgICAgICBUaGUgY29sb3IgdG8gcmVwbGFjZSBpdCB3aXRoXG4gICAgICogQHBhcmFtICAgbm9SZXBsYWNlICAgICAgIFRydWUgaWYgd2Ugc2hvdWxkbid0IHJlcGxhY2UgYW4gZXhpc3RpbmcgY29sb3JcbiAgICAgKi9cbiAgICBzZXRUaGVtZUNvbG9yKGNvbG9ySWQsIGNvbG9yLCBub1JlcGxhY2UpIHtcbiAgICAgICAgLy8gUXVpdCBpZiB3ZSdyZSBtaXNzaW5nIHRoZSBjb2xvciBvciB0aGUgSURcbiAgICAgICAgaWYgKCFjb2xvciB8fCAhY29sb3JJZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFF1aXQgaWYgdGhlIGNvbG9yIGlzIGFscmVhZHkgc2V0IHRvIGFueSB2YWx1ZVxuICAgICAgICBpZiAobm9SZXBsYWNlICYmIFN0eWxhYmxlLl90aGVtZUNvbG9yc1tjb2xvcklkXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFF1aXQgaWYgdGhpcyBpcyBhbHJlYWR5IHRoZSBjb2xvciBzZXQgZm9yIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAoU3R5bGFibGUuX3RoZW1lQ29sb3JzW2NvbG9ySWRdID09PSBjb2xvcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlcGxhY2UgdGhlIGNvbG9yIHN0b3JlZCBpbiBvdXIgYXJyYXlcbiAgICAgICAgU3R5bGFibGUuX3RoZW1lQ29sb3JzW2NvbG9ySWRdID0gY29sb3I7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgc3R5bGVzIHJlbGF0ZWQgdG8gdGhpcyBwYXJ0aWN1bGFyIHRoZW1lXG4gICAgICAgIFN0eWxhYmxlLl91cGRhdGVUaGVtZUNvbG9yKGNvbG9ySWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYnVpbGRUaGVtZUNvbG9ySWRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGEgdW5pcXVlIElEIGZvciBhIGNvbG9yIGZvciBhIHBhcnRpY3VsYXIgY2xhc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIGlkeCAgICAgICAgIFRoZSBpbmRleCBvZiB0aGUgY29sb3JcbiAgICAgKiBAcGFyYW0gICB1bmlxdWVJRCAgICBPcHRpb25hbCBuYW1lIHRvIHVzZSBpbnN0ZWFkIG9mIHRoZSBjbGFzcyBuYW1lXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBjb2xvciBJRFxuICAgICAqL1xuICAgIF9idWlsZFRoZW1lQ29sb3JJZCh1bmlxdWVJZCkge1xuICAgICAgICByZXR1cm4gU3R5bGFibGUuX2J1aWxkVGhlbWVDb2xvcklkKHVuaXF1ZUlkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX21lcmdlVGhlbWVzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEluc3RhbmNlIGNsYXNzIHRvIG1lcmdlIGRpZmZlcmVudCB0aGVtZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIHRoZW1lcyAgVGhlIHRoZW1lcyB0byBtZXJnZVxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIG1lcmdlZCB0aGVtZXNcbiAgICAgKi9cbiAgICBfbWVyZ2VUaGVtZXMoLi4udGhlbWVzKSB7XG4gICAgICAgIHJldHVybiBTdHlsYWJsZS5fbWVyZ2VUaGVtZXMobnVsbCwgLi4udGhlbWVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogbWVyZ2VJblN0eWxlc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBhbGxvdyBhIGNhbGxlciB0byBhZGQgc3R5bGVzIGFmdGVyIGNsYXNzIGNyZWF0aW9uLCB0byBtb3JlIHNwZWNpZmljYWxseVxuICAgICAqIG92ZXJyaWRlIHRoZSBzdHlsZXMgb2YgYSBjbGFzc1xuICAgICAqXG4gICAgICogVE9ETzogYWN0dWFsbHkgYXBwbHkgc3R5bGVzIGluZGl2aWR1YWxseSBpbnN0ZWFkIG9mIGdsb2JhbGx5XG4gICAgICovXG4gICAgbWVyZ2VJblN0eWxlcyguLi50aGVtZXMpIHtcbiAgICAgICAgbGV0IG1lcmdlZFRoZW1lcyA9IFN0eWxhYmxlLl9tZXJnZVRoZW1lcyhudWxsLCAuLi50aGVtZXMpO1xuICAgICAgICBTdHlsYWJsZS5fbWVyZ2VJbnRvU3R5bGVzKG1lcmdlZFRoZW1lcyk7XG4gICAgICAgIFN0eWxhYmxlLl9jcmVhdGVTdHlsZXModHJ1ZSk7XG4gICAgICAgIFN0eWxhYmxlLl9jcmVhdGVBbGxDb2xvcmVkU3R5bGVzKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZVN0eWxlc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIHN0eWxlcyBmb3IgdGhpcyBjbGFzc1xuICAgICAqIEBwYXJhbSAgIGZvcmNlT3ZlcnJpZGUgICBUcnVlIGlmIHdlIHNob3VsZCBjcmVhdGUgdGhlIGNsYXNzZXMgZXZlbiBpZiB0aGV5XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFscmVhZHkgZXhpc3RcbiAgICAgKi9cbiAgICBfY3JlYXRlU3R5bGVzKGZvcmNlT3ZlcnJpZGUpIHtcbiAgICAgICAgLy8gUXVpdCBpZiB3ZSBkb24ndCBoYXZlIHRoZSByaWdodCBzdHlsZXNcbiAgICAgICAgaWYgKCF0aGlzLnVuY29sb3JlZFN0eWxlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgY3JlYXRlZCBzdHlsZXMgZm9yIHRoZXNlIGVsZW1lbnRzLCBkb24ndCBkbyBpdCBhZ2FpblxuICAgICAgICBpZiAoKFN0eWxhYmxlLl9jcmVhdGVkU3R5bGVzW3RoaXMuY29uc3RydWN0b3IubmFtZV0pICYmICFmb3JjZU92ZXJyaWRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29weSBvdXIgc3R5bGVzICYgcmVwbGFjZSB0aGUgd3JvbmcgdGFnc1xuICAgICAgICBsZXQgdG1wU3R5bGVzID0gY2xvbmluZ18xLmNsb25lT2JqZWN0KHRoaXMudW5jb2xvcmVkU3R5bGVzKTtcbiAgICAgICAgdG1wU3R5bGVzID0gdGhpcy5fY2xlYW5TdHlsZXModG1wU3R5bGVzKTtcbiAgICAgICAgLy8gTWVyZ2UgaW50byB0aGUgc3RhdGljIHN0eWxlc1xuICAgICAgICBTdHlsYWJsZS5fbWVyZ2VJbnRvU3R5bGVzKHRtcFN0eWxlcyk7XG4gICAgICAgIC8vIEhhbmRsZSB0aGUgZm9udHMgYXMgd2VsbFxuICAgICAgICBsZXQgY3VzdG9tRm9udHMgPSBjbG9uaW5nXzEuY2xvbmVPYmplY3QodGhpcy5fY3VzdG9tRm9udHMpO1xuICAgICAgICBTdHlsYWJsZS5fbWVyZ2VJbnRvRm9udHMoY3VzdG9tRm9udHMpO1xuICAgICAgICAvLyBjcmVhdGUgYWxsIHN0eWxlcyBmb3IgdGhlIGVsZW1lbnRcbiAgICAgICAgU3R5bGFibGUuX2NyZWF0ZVN0eWxlcyhmb3JjZU92ZXJyaWRlKTtcbiAgICAgICAgU3R5bGFibGUuX2NyZWF0ZUFsbENvbG9yZWRTdHlsZXMoZm9yY2VPdmVycmlkZSk7XG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHdlIGFyZSBub3QgcmVjcmVhdGluZyB0aGVzZSBzdHlsZXMgaW5hcHByb3ByaWF0ZWx5XG4gICAgICAgIFN0eWxhYmxlLl9jcmVhdGVkU3R5bGVzW3RoaXMuY29uc3RydWN0b3IubmFtZV0gPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2xlYW5TdHlsZXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ2xlYW4gdGhlIG5lc3RlZCBzdHlsZXMgZGF0YSBzbyB0aGF0IHdlIGNhbiBwYXJzZSBpdCBwcm9wZXJseVxuICAgICAqIEBwYXJhbSAgIHN0eWxlcyAgVGhlIHN0eWxlcyB0byBjbGVhblxuICAgICAqIEByZXR1cm5zIFRoZSBjbGVhbmVkIHN0eWxlc1xuICAgICAqL1xuICAgIF9jbGVhblN0eWxlcyhzdHlsZXMsIGxhc3RTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gU3R5bGFibGUuX2NsZWFuU3R5bGVzKHN0eWxlcywgbGFzdFNlbGVjdG9yKTtcbiAgICB9XG59XG5leHBvcnRzLlN0eWxhYmxlID0gU3R5bGFibGU7XG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUQVRJQyBQUk9QRVJUSUVTXG4vKiogY3JlYXRlIHRoZSBjb2xsZWN0aW9uIG9mIGFsbCBzdHlsZXMgdGhhdCBoYXZlIGJlZW4gYWRkZWQgdG8gdGhlIHBhZ2UgKi9cblN0eWxhYmxlLl9wYWdlU3R5bGVzID0ge307XG4vKioga2VlcCB0cmFjayBvZiBhbGwgb2YgdGhlIGNsYXNzZXMgd2l0aG91dCB0aGUgY29sb3Igc3Vic3RpdHV0aW9ucyAqL1xuU3R5bGFibGUuX3RoZW1lZFN0eWxlcyA9IHt9O1xuLyoqIGtlZXAgdHJhY2sgb2YgYWxsIG9mIHRoZSB0aGVtZSBjb2xvcnMgZm9yIGVhY2ggb2YgdGhlIGNsYXNzZXMgKi9cblN0eWxhYmxlLl90aGVtZUNvbG9ycyA9IHt9O1xuLyoqIGhvbGQgdGhlIHN0eWxlIHRhZyB0aGF0IGNvbnRhaW5zIGNvbG9yLXNwZWNpZmljIGNsYXNzZXMgKi9cblN0eWxhYmxlLl9jb2xvclN0eWxlRWxlbXMgPSB7fTtcbi8qKiBrZWVwIHRyYWNrIG9mIHRoZSBjdXN0b20gZm9udHMgZm9yIHRoZSBwYWdlICovXG5TdHlsYWJsZS5fY3VzdG9tUGFnZUZvbnRzID0ge307XG4vKioga2VlcCB0cmFjayBvZiB0aGUgc3R5bGVzIHdlJ3ZlIGFscmVhZHkgY3JlYXRlZCAqL1xuU3R5bGFibGUuX2NyZWF0ZWRTdHlsZXMgPSB7fTtcbi8qKiBrZWVwIHRyYWNrIG9mIHRoZSBmb250cyBkZWZpbmVkIGJ5IHRoaXMgZWxlbWVudCAqL1xuU3R5bGFibGUuX2N1c3RvbUZvbnRzID0ge307XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNhbnZhc0VsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL2NhbnZhc0VsZW1lbnRcIik7XG5jb25zdCBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vZGF0YVN0cnVjdHVyZXMvY29sbGVjdGlvbi9jb2xsZWN0aW9uXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgY2xvbmluZ18xID0gcmVxdWlyZShcIi4uL29iamVjdEhlbHBlcnMvY2xvbmluZ1wiKTtcbmNvbnN0IGNvbnRhaW5tZW50XzEgPSByZXF1aXJlKFwiLi4vbWF0aHMvY29udGFpbm1lbnRcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdENhbnZhc0dyb3VwXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjbGFzcyB0aGF0IHN0b3JlcyBjb2xsZWN0aW9ucyBvZiBvdGhlciBjYW52YXMgZWxlbWVudHNcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb25cdDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIENhbnZhc0dyb3VwIGV4dGVuZHMgY2FudmFzRWxlbWVudF8xLkNhbnZhc0VsZW1lbnQge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8qKlxuICAgICAqIENhbnZhc0dyb3VwXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZSBhIGdyb3VwIGVsZW1lbnQgdGhhdCBqb2lucyBvdGhlciBlbGVtZW50cyB0b2dldGhlclxuICAgICAqXG4gICAgICogQHBhcmFtXHRpZFx0XHRcdFRoZSB1bmlxdWUgSUQgZm9yIHRoZSBlbGVtZW50XG4gICAgICogQHBhcmFtXHRyZWZQb2ludFx0VGhlIHJlZmVyZW5jZSBwb2ludCB0byB1c2VcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkLCByZWZQb2ludCkge1xuICAgICAgICBzdXBlcihpZCk7XG4gICAgICAgIC8qKiBpZiB0cnVlLCBzY2FsZXMgd2l0aCB0aGUgcmVzdCBvZiB0aGUgY2FudmFzICovXG4gICAgICAgIHRoaXMuX3Jlc3BvbmRUb1NjYWxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzID0gbmV3IGNvbGxlY3Rpb25fMS5Db2xsZWN0aW9uKCk7XG4gICAgICAgIGlmIChyZWZQb2ludCkge1xuICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlUG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgeDogcmVmUG9pbnQueCxcbiAgICAgICAgICAgICAgICB5OiByZWZQb2ludC55XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlUG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVSZWN0cygpO1xuICAgIH1cbiAgICAvKiogdGhlIHR5cGUgb2YgZWxlbWVudCB0aGlzIGlzICovXG4gICAgZ2V0IHR5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkVsZW1lbnRUeXBlLkdyb3VwOyB9XG4gICAgc2V0IHJlZmVyZW5jZVBvaW50KHJlZlB0KSB7XG4gICAgICAgIHRoaXMuYWRqdXN0RGltZW5zaW9ucyh7XG4gICAgICAgICAgICB4OiAocmVmUHQueCAtIHRoaXMuX3JlZmVyZW5jZVBvaW50LngpLFxuICAgICAgICAgICAgeTogKHJlZlB0LnkgLSB0aGlzLl9yZWZlcmVuY2VQb2ludC55KVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogaXNIb3ZlclRhcmdldFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBncm91cHMgaGFuZGxlIHdoZXRoZXIgdGhleSBhcmUgYSBob3ZlciB0YXJnZXQgYSBsaXR0bGUgZGlmZmVyZW50bHlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUcnVlIGlmIHRoaXMgZWxlbWVudCBpcyBhIHRhcmdldCBmb3IgaG92ZXJcbiAgICAgKi9cbiAgICBnZXQgaXNIb3ZlclRhcmdldCgpIHtcbiAgICAgICAgbGV0IGlzSG92ZXJUYXJnZXQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMubWFwKChlbGVtKSA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbS5pc0hvdmVyVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgaXNIb3ZlclRhcmdldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGlzSG92ZXJUYXJnZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9pbml0aWFsaXplUmVjdHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogaGFuZGxlIHRoZSBpbml0aWFsIHJlY3RzIG5lZWRlZCBieSB0aGUgZ3JvdXBcbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZVJlY3RzKCkge1xuICAgICAgICB0aGlzLl9kaW1lbnNpb25zID0ge1xuICAgICAgICAgICAgeDogdGhpcy5fcmVmZXJlbmNlUG9pbnQueCxcbiAgICAgICAgICAgIHk6IHRoaXMuX3JlZmVyZW5jZVBvaW50LnksXG4gICAgICAgICAgICB3OiAwLFxuICAgICAgICAgICAgaDogMFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9uZWVkc0luaXRpYWxEaW1lbnNpb25zID0gdHJ1ZTtcbiAgICAgICAgc3VwZXIuX2luaXRpYWxpemVSZWN0cygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25EcmF3XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGhhbmRsZSBkcmF3aW5nIHRoZSBncm91cFxuICAgICAqXG4gICAgICogQHBhcmFtXHRjb250ZXh0XHRcdFRoZSBjb250ZXh0IHVwb24gd2hpY2ggdG8gZHJhdyB0aGlzIGVsZW1lbnRcbiAgICAgKlxuICAgICAqL1xuICAgIF9vbkRyYXcoY29udGV4dCkge1xuICAgICAgICAvLyBkcmF3IHRoZSBlbGVtZW50cyByZWxhdGl2ZSB0byB0aGUgZ3JvdXBcbiAgICAgICAgdGhpcy5fZWxlbWVudHMubWFwKChlbGVtKSA9PiB7XG4gICAgICAgICAgICBlbGVtLmRyYXcoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZURpbWVuc2lvbnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogdXBkYXRlIHRoZSBzcGFjZSBvY2N1cGllZCBieSB0aGlzIGdyb3VwXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdHZpc2libGVXaW5kb3dcdFRoZSB2aXNpYmxlIHZpZXcgaW50byB0aGUgY2FudmFzXG4gICAgICpcbiAgICAgKi9cbiAgICB1cGRhdGVEaW1lbnNpb25zKHZpc2libGVXaW5kb3cpIHtcbiAgICAgICAgc3VwZXIudXBkYXRlRGltZW5zaW9ucyh2aXNpYmxlV2luZG93KTtcbiAgICAgICAgLy8gTm8gbmVlZCB0byB1cGRhdGUgaWYgZWxlbXMgd2lsbCBiZSBvZmZzY3JlZW5cbiAgICAgICAgaWYgKHRoaXMuX2lzT2ZmU2NyZWVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIHRvIGVhY2ggb2YgdGhlIGVsZW1lbnRzXG4gICAgICAgIGxldCBlbGVtO1xuICAgICAgICB0aGlzLl9lbGVtZW50cy5tYXAoKGVsZW0pID0+IHtcbiAgICAgICAgICAgIGVsZW0udXBkYXRlRGltZW5zaW9ucyh2aXNpYmxlV2luZG93KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZEVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogYWRkIGFuIGVsZW1lbnQgdG8gdGhpcyBncm91cFxuICAgICAqXG4gICAgICogQHBhcmFtXHRUaGUgZWxlbWVudCB0byBhZGQgdG8gdGhlIGdyb3VwXG4gICAgICpcbiAgICAgKi9cbiAgICBhZGRFbGVtZW50KGVsZW0pIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIGVhY2ggZWxlbWVudCBpcyBhcHByb3ByaWF0ZWx5IHNoaWZ0ZWRcbiAgICAgICAgZWxlbS5hZGp1c3REaW1lbnNpb25zKHRoaXMuX3JlZmVyZW5jZVBvaW50KTtcbiAgICAgICAgLy8gQWRkIHRoZSBlbGVtZW50IHRvIG91ciBpbnRlcm5hbCBhcnJheSwgYW5kIGVuc3VyZSBpdCBoYXMgYSB3YXkgdG8gZ2V0IGJhY2sgdG8gdXNcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuYWRkKGVsZW0uaWQsIGVsZW0pO1xuICAgICAgICBlbGVtLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBjYW52YXMgYXNzaWduZWQsIGFsc28gYWRkIGl0IHRvIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAodGhpcy5fY2FudmFzKSB7XG4gICAgICAgICAgICBlbGVtLmNhbnZhcyA9IHRoaXMuX2NhbnZhcztcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5uZWVkc1JlZHJhdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGtub3cgaG93IGJpZyB0aGlzIGdyb3VwIGlzXG4gICAgICAgIHRoaXMuX3VwZGF0ZUludGVybmFsRGltZW5zaW9uc0Zyb21FbGVtZW50KGVsZW0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfdXBkYXRlSW50ZXJuYWxEaW5lbnNpb25zRnJvbUVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogbWFrZSBzdXJlIG91ciBpbnRlcm5hbCBkaW1lbnNpb25zIG1hdGNoIHdoYXQgb3VyIGVsZW1lbnRzXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGVsZW1cdFRIZSBlbGVtZW50IHdlJ3JlIGFkZGluZyB0byB1cGRhdGUgZGltZW5zaW9ucyBmb3JcbiAgICAgKlxuICAgICAqL1xuICAgIF91cGRhdGVJbnRlcm5hbERpbWVuc2lvbnNGcm9tRWxlbWVudChlbGVtKSB7XG4gICAgICAgIGxldCByZWxEaW0gPSB7XG4gICAgICAgICAgICB4OiB0aGlzLl9kaW1lbnNpb25zLngsXG4gICAgICAgICAgICB5OiB0aGlzLl9kaW1lbnNpb25zLnksXG4gICAgICAgICAgICB3OiB0aGlzLl9kaW1lbnNpb25zLncsXG4gICAgICAgICAgICBoOiB0aGlzLl9kaW1lbnNpb25zLmhcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgeCBleHRyZW1hIG5lZWQgdXBkYXRlZFxuICAgICAgICBpZiAoZWxlbS5kaW1lbnNpb25zLnggPCByZWxEaW0ueCkge1xuICAgICAgICAgICAgcmVsRGltLnggPSBlbGVtLmRpbWVuc2lvbnMueDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGVsZW0uZGltZW5zaW9ucy54ICsgZWxlbS5kaW1lbnNpb25zLncpID4gKHJlbERpbS54ICsgcmVsRGltLncpKSB7XG4gICAgICAgICAgICByZWxEaW0udyA9ICgoZWxlbS5kaW1lbnNpb25zLnggKyBlbGVtLmRpbWVuc2lvbnMudykgLSByZWxEaW0ueCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgeSBleHRyZW1hIG5lZWQgdXBkYXRlZFxuICAgICAgICBpZiAoZWxlbS5kaW1lbnNpb25zLnkgPCByZWxEaW0ueSkge1xuICAgICAgICAgICAgcmVsRGltLnkgPSBlbGVtLmRpbWVuc2lvbnMueTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGVsZW0uZGltZW5zaW9ucy55ICsgZWxlbS5kaW1lbnNpb25zLmgpID4gKHJlbERpbS55ICsgcmVsRGltLmgpKSB7XG4gICAgICAgICAgICByZWxEaW0uaCA9ICgoZWxlbS5kaW1lbnNpb25zLnkgKyBlbGVtLmRpbWVuc2lvbnMuaCkgLSByZWxEaW0ueSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIHRoZSByZWFsIGRpbWVuc2lvbnNcbiAgICAgICAgdGhpcy5fZGltZW5zaW9ucyA9IHtcbiAgICAgICAgICAgIHg6IHJlbERpbS54LFxuICAgICAgICAgICAgeTogcmVsRGltLnksXG4gICAgICAgICAgICB3OiByZWxEaW0udyxcbiAgICAgICAgICAgIGg6IHJlbERpbS5oXG4gICAgICAgIH07XG4gICAgICAgIC8vIERvbid0IHNldCB0aGVzZSBkaW1lbnNpb25zIGFzIGRlZmF1bHQgYWdhaW5cbiAgICAgICAgdGhpcy5fbmVlZHNJbml0aWFsRGltZW5zaW9ucyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBoYW5kbGVFdmVudFxuICAgICAqXG4gICAgICogZ3JvdXBzIG5lZWQgc29tZSBzcGVjaWFsIGhhbmRsaW5nIHNpbmNlIHRoZXkgbmVlZCB0byBwYXNzIG9uIHRoZWlyIGV2ZW50c1xuICAgICAqXG4gICAgICogQHBhcmFtXHRldmVudFR5cGVcbiAgICAgKiBAcGFyYW1cdHB0XHRcdFx0VGhlIHBvaW50XG4gICAgICogQHBhcmFtXHRlXHRcdFx0VGhlIGFjdHVhbCBldmVudCB3ZSBhcmUgaGFuZGxpbmdcbiAgICAgKlxuICAgICAqL1xuICAgIGhhbmRsZUV2ZW50KGV2ZW50VHlwZSwgcHQsIGUpIHtcbiAgICAgICAgLy8gUnVuIGFueSBldmVudC1oYW5kbGluZyB0aGF0IGRpcmVjdGx5IGFwcGxpZXMgdG8gbWVcbiAgICAgICAgc3VwZXIuaGFuZGxlRXZlbnQoZXZlbnRUeXBlLCBwdCwgZSk7XG4gICAgICAgIC8vIFF1aXQgaWYgdGhlcmUncyBubyBwb2ludCBzcGVjaWZpZWRcbiAgICAgICAgaWYgKCFwdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNsZWFyIGFueSBob3ZlciBlZmZlY3RzIHRoYXQgbWF5IGJlIGhhcHBlbmluZ1xuICAgICAgICBpZiAoKGV2ZW50VHlwZSA9PT0gX2ludGVyZmFjZXNfMS5FdmVudFR5cGVFbnVtLkxFQVZFKSB8fCAoZXZlbnRUeXBlID09PSBfaW50ZXJmYWNlc18xLkV2ZW50VHlwZUVudW0uSE9WRVIpKSB7XG4gICAgICAgICAgICB0aGlzLl9jbGVhckhvdmVyKHB0LCBlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGaW5kIHRoZSBhZmZlY3RlZCBlbGVtZW50c1xuICAgICAgICBsZXQgZWxlbXMgPSB0aGlzLl9maW5kRWxlbWVudHNBdFBvaW50KHB0KTtcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFmZmVjdGVkIGVsZW1lbnRzIHRvIGFwcGx5IHRoZSBldmVudCB0byB0aGVtXG4gICAgICAgIGxldCBlbGVtO1xuICAgICAgICBmb3IgKGVsZW0gb2YgZWxlbXMpIHtcbiAgICAgICAgICAgIGVsZW0uaGFuZGxlRXZlbnQoZXZlbnRUeXBlLCBwdCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogYXBwbHkgYSBncm91cCBldmVudCB0byBhbGwgY2hpbGQgZWxlbWVudHNcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NsZWFySG92ZXJcbiAgICAgKlxuICAgICAqIGNsZWFyIGhvdmVyIHN0eWxlcyB0aGF0IG1heSBoYXZlIGJlZW4gYXBwbGllZCBhbHJlYWR5XG4gICAgICpcbiAgICAgKi9cbiAgICBfY2xlYXJIb3ZlcihyZWxhdGl2ZVBvaW50LCBlKSB7XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgb2Ygb3VyIGVsZW1lbnRzIGFuZCBhcHBseSB0aGUgdW5ob3ZlciBjbGFzc1xuICAgICAgICB0aGlzLl9lbGVtZW50cy5tYXAoKGVsKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVsLmlzSG92ZXJUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbC5sZWF2ZShyZWxhdGl2ZVBvaW50LCBlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBmaW5kIHRoZSBlbGVtZW50cyB0aGF0IGFyZSBsb2NhdGVkIGF0IHRoZSBwcm92aWRlZCBwb2ludCAqL1xuICAgIF9maW5kRWxlbWVudHNBdFBvaW50KHB0KSB7XG4gICAgICAgIGxldCBvdXQgPSBbXTtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMubWFwKChlbGVtKSA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbS5pc09mZlNjcmVlbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoZSBwb2ludCBpcyBjb250YWluZWQsIGNvbnNpZGVyIGl0IGFuIFxuICAgICAgICAgICAgaWYgKCFjb250YWlubWVudF8xLmlzUG9pbnRDb250YWluZWQocHQsIGVsZW0uZGlzcGxheURpbWVuc2lvbnMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlIGV2ZW50IGhhcHBlbmVkIGF0IHRoaXMgZWxlbWVudCwgYWRkIGl0IHRvIHRoZSBhcnJheVxuICAgICAgICAgICAgb3V0LnB1c2goZWxlbSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKiogcmVtb3ZlIGVsZW1lbnRzIGZyb20gbGF5ZXJzICovXG4gICAgcmVtb3ZlRWxlbWVudChpZCkge1xuICAgICAgICBsZXQgdG1wID0gdGhpcy5fZWxlbWVudHMucmVtb3ZlKGlkKTtcbiAgICAgICAgaWYgKCF0bXApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYW52YXMubmVlZHNSZWRyYXcgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gY2xvbmluZyBhIGdyb3VwIHJlcXVpcmVzIGNsb25pbmcgaXRzIGlubmFyZHNcbiAgICBfY2xvbmVGb3JFZmZlY3QoaWQpIHtcbiAgICAgICAgbGV0IHJlZlB0ID0gY2xvbmluZ18xLmNsb25lUG9pbnQodGhpcy5fcmVmZXJlbmNlUG9pbnQpO1xuICAgICAgICBsZXQgY2xvbmVkR3JwID0gbmV3IENhbnZhc0dyb3VwKGlkKTtcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGNoaWxkcmVuICYgY2xvbmVcbiAgICAgICAgdGhpcy5fZWxlbWVudHMubWFwKChlbGVtKSA9PiB7XG4gICAgICAgICAgICBsZXQgY2xvbmUgPSBlbGVtLl9jbG9uZUZvckVmZmVjdChlbGVtLmlkICsgXCJ8ZVwiKTtcbiAgICAgICAgICAgIGNsb25lZEdycC5hZGRFbGVtZW50KGNsb25lKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbG9uZWRHcnA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zY2FsZVxuICAgICAqXG4gICAgICogZ3JvdXBzIHNjYWxlIGJ5IGVhY2ggb2YgdGhlaXIgcGFydHMgc2NhbGluZ1xuICAgICAqXG4gICAgICogQHBhcmFtXHRzY2FsZUFtdFx0VGhlIGFtb3VudCB0byBzY2FsZSBieVxuICAgICAqXG4gICAgICovXG4gICAgX3NjYWxlKHNjYWxlQW10KSB7XG4gICAgICAgIGlmICghdGhpcy5faXNFZmZlY3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbGVtZW50cy5tYXAoKGVsZW0pID0+IHtcbiAgICAgICAgICAgIGVsZW0uX3NjYWxlKHNjYWxlQW10KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRqdXN0RGltZW5zaW9uc1xuICAgICAqXG4gICAgICogYWRqdXN0IHRoZSBkaW1lbnNpb25zIG9mIHRoaXMgZ3JvdXAgKyBpdHMgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbVx0YWRqdXN0UHRcdFRoZSBwb2ludCB3ZSdyZSBhZGp1c3RpbmcgdG9cbiAgICAgKlxuICAgICAqL1xuICAgIGFkanVzdERpbWVuc2lvbnMoYWRqdXN0UHQpIHtcbiAgICAgICAgc3VwZXIuYWRqdXN0RGltZW5zaW9ucyhhZGp1c3RQdCk7XG4gICAgICAgIHRoaXMuX3JlZmVyZW5jZVBvaW50LnggKz0gYWRqdXN0UHQueDtcbiAgICAgICAgdGhpcy5fcmVmZXJlbmNlUG9pbnQueSArPSBhZGp1c3RQdC55O1xuICAgICAgICB0aGlzLl9lbGVtZW50cy5tYXAoKGVsZW0pID0+IHtcbiAgICAgICAgICAgIGVsZW0uYWRqdXN0RGltZW5zaW9ucyhhZGp1c3RQdCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfc2V0Q2FudmFzXG4gICAgICpcbiAgICAgKiBTZXQgb3VyIGludGVybmFsIGNhbnZhc1xuICAgICAqXG4gICAgICogQHBhcmFtIFx0Y2FudmFzXHRUaGUgY2FudmFzIHRvIHNldCBpbnRlcm5hbGx5XG4gICAgICpcbiAgICAgKi9cbiAgICBfc2V0Q2FudmFzKGNhbnZhcykge1xuICAgICAgICBzdXBlci5fc2V0Q2FudmFzKGNhbnZhcyk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLm1hcCgoZWxlbSkgPT4ge1xuICAgICAgICAgICAgZWxlbS5jYW52YXMgPSB0aGlzLl9jYW52YXM7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVJbnRlcm5hbERpbWVuc2lvbnNGcm9tRWxlbWVudChlbGVtKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5DYW52YXNHcm91cCA9IENhbnZhc0dyb3VwO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIik7XG5jbGFzcyBDYW52YXNFbGVtZW50U3R5bGUge1xuICAgIC8qKiBub3RoaW5nIHRvIGNvbnN0cnVjdCAqL1xuICAgIGNvbnN0cnVjdG9yKHN0eWxlKSB7XG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtdO1xuICAgICAgICAvLyBjbG9uZSB0aGUgZXhpc3Rpbmcgc3R5bGVcbiAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgICB0aGlzLl9maWxsQ29sb3IgPSBzdHlsZS5maWxsQ29sb3I7XG4gICAgICAgICAgICB0aGlzLl9zdHJva2VDb2xvciA9IHN0eWxlLnN0cm9rZUNvbG9yO1xuICAgICAgICAgICAgdGhpcy5fZm9udCA9IHN0eWxlLmZvbnQ7XG4gICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gc3R5bGUuZm9udEZhbWlseTtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gc3R5bGUuZm9udFNpemU7XG4gICAgICAgICAgICB0aGlzLl9mb250VmFyaWFudCA9IHN0eWxlLmZvbnRWYXJpYW50O1xuICAgICAgICAgICAgdGhpcy5fc3Ryb2tlU2l6ZSA9IHN0eWxlLnN0cm9rZVNpemU7XG4gICAgICAgICAgICB0aGlzLl90ZXh0QWxpZ24gPSBzdHlsZS50ZXh0QWxpZ247XG4gICAgICAgICAgICAvLyBvciBqdXN0IHVzZSBkZWZhdWx0c1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZmlsbENvbG9yID0gXCIjMDAwXCI7XG4gICAgICAgICAgICB0aGlzLl9zdHJva2VDb2xvciA9IFwiIzAwMFwiO1xuICAgICAgICAgICAgdGhpcy5fc3Ryb2tlU2l6ZSA9IDE7XG4gICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gXCJIZWx2ZXRpY2FcIjtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gNDA7XG4gICAgICAgICAgICB0aGlzLl90ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZmlsbENvbG9yKCkgeyByZXR1cm4gdGhpcy5fZmlsbENvbG9yOyB9XG4gICAgc2V0IGZpbGxDb2xvcihjb2xvcikge1xuICAgICAgICB0aGlzLl9maWxsQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5fb25DaGFuZ2UoX2ludGVyZmFjZXNfMS5TdHlsZUNoYW5nZUVudW0uRklMTF9DT0xPUik7XG4gICAgfVxuICAgIGdldCBzdHJva2VDb2xvcigpIHsgcmV0dXJuIHRoaXMuX3N0cm9rZUNvbG9yOyB9XG4gICAgc2V0IHN0cm9rZUNvbG9yKGNvbG9yKSB7XG4gICAgICAgIHRoaXMuX3N0cm9rZUNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMuX29uQ2hhbmdlKF9pbnRlcmZhY2VzXzEuU3R5bGVDaGFuZ2VFbnVtLlNUUk9LRV9DT0xPUik7XG4gICAgfVxuICAgIGdldCBmb250RmFtaWx5KCkgeyByZXR1cm4gdGhpcy5fZm9udEZhbWlseTsgfVxuICAgIHNldCBmb250RmFtaWx5KGZhbWlseSkge1xuICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gZmFtaWx5O1xuICAgICAgICB0aGlzLl9vbkNoYW5nZShfaW50ZXJmYWNlc18xLlN0eWxlQ2hhbmdlRW51bS5GT05UX0ZBTUlMWSk7XG4gICAgfVxuICAgIGdldCBmb250VmFyaWFudCgpIHsgcmV0dXJuIHRoaXMuX2ZvbnRWYXJpYW50OyB9XG4gICAgc2V0IGZvbnRWYXJpYW50KHZhcmlhbnQpIHtcbiAgICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSB2YXJpYW50O1xuICAgICAgICB0aGlzLl9vbkNoYW5nZShfaW50ZXJmYWNlc18xLlN0eWxlQ2hhbmdlRW51bS5GT05UX1ZBUklBTlQpO1xuICAgIH1cbiAgICBnZXQgZm9udFNpemUoKSB7IHJldHVybiB0aGlzLl9mb250U2l6ZTsgfVxuICAgIHNldCBmb250U2l6ZShzaXplKSB7XG4gICAgICAgIHRoaXMuX2ZvbnRTaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5fb25DaGFuZ2UoX2ludGVyZmFjZXNfMS5TdHlsZUNoYW5nZUVudW0uRk9OVF9TSVpFKTtcbiAgICB9XG4gICAgZ2V0IHN0cm9rZVNpemUoKSB7IHJldHVybiB0aGlzLl9zdHJva2VTaXplOyB9XG4gICAgc2V0IHN0cm9rZVNpemUoc2l6ZSkge1xuICAgICAgICB0aGlzLl9zdHJva2VTaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5fb25DaGFuZ2UoX2ludGVyZmFjZXNfMS5TdHlsZUNoYW5nZUVudW0uU1RST0tFX1NJWkUpO1xuICAgIH1cbiAgICBnZXQgdGV4dEFsaWduKCkgeyByZXR1cm4gdGhpcy5fdGV4dEFsaWduOyB9XG4gICAgc2V0IHRleHRBbGlnbihhbGlnbikge1xuICAgICAgICB0aGlzLl90ZXh0QWxpZ24gPSBhbGlnbjtcbiAgICAgICAgdGhpcy5fb25DaGFuZ2UoX2ludGVyZmFjZXNfMS5TdHlsZUNoYW5nZUVudW0uVEVYVF9BTElHTik7XG4gICAgfVxuICAgIGdldCBmb250KCkge1xuICAgICAgICBpZiAodGhpcy5fZm9udCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZhcmlhbnQgPSAodGhpcy5fZm9udFZhcmlhbnQgPyB0aGlzLl9mb250VmFyaWFudCArIFwiIFwiIDogXCJcIik7XG4gICAgICAgIGxldCBzaXplID0gKHRoaXMuX2ZvbnRTaXplID8gdGhpcy5fZm9udFNpemUgKyBcInB4IFwiIDogXCJcIik7XG4gICAgICAgIHJldHVybiB2YXJpYW50ICsgc2l6ZSArIHRoaXMuX2ZvbnRGYW1pbHk7XG4gICAgfVxuICAgIHNldCBmb250KGZvbnQpIHtcbiAgICAgICAgdGhpcy5fZm9udCA9IGZvbnQ7XG4gICAgICAgIHRoaXMuX29uQ2hhbmdlKF9pbnRlcmZhY2VzXzEuU3R5bGVDaGFuZ2VFbnVtLkZPTlQpO1xuICAgIH1cbiAgICBhZGRTdHlsZUNoYW5nZUxpc3RlbmVyKGNoYW5nZVR5cGUsIGZ1bmMpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9saXN0ZW5lcnNbY2hhbmdlVHlwZV0pIHtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVyc1tjaGFuZ2VUeXBlXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCB0byB0aGUgYXJyYXkgb2YgbGlzdGVuZXJzXG4gICAgICAgIHRoaXMuX2xpc3RlbmVyc1tjaGFuZ2VUeXBlXS5wdXNoKGZ1bmMpO1xuICAgIH1cbiAgICBfb25DaGFuZ2UoY2hhbmdlVHlwZSkge1xuICAgICAgICBpZiAoIXRoaXMuX2xpc3RlbmVyc1tjaGFuZ2VUeXBlXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsaXN0ZW5lcjtcbiAgICAgICAgZm9yIChsaXN0ZW5lciBvZiB0aGlzLl9saXN0ZW5lcnNbY2hhbmdlVHlwZV0pIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0U3R5bGUoY29udGV4dCkge1xuICAgICAgICB0aGlzLl9zYXZlT2ZmT2xkU3R5bGUoY29udGV4dCk7XG4gICAgICAgIHRoaXMuX2FwcGx5U3R5bGVUb0NvbnRleHQoY29udGV4dCwgdGhpcyk7XG4gICAgfVxuICAgIHJlc3RvcmVTdHlsZShjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuX2FwcGx5U3R5bGVUb0NvbnRleHQoY29udGV4dCwgdGhpcy5fb2xkU3R5bGUpO1xuICAgIH1cbiAgICBfc2F2ZU9mZk9sZFN0eWxlKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5fb2xkU3R5bGUgPSBuZXcgQ2FudmFzRWxlbWVudFN0eWxlKCk7XG4gICAgICAgIHRoaXMuX29sZFN0eWxlLmZpbGxDb2xvciA9IGNvbnRleHQuZmlsbFN0eWxlO1xuICAgICAgICB0aGlzLl9vbGRTdHlsZS5zdHJva2VDb2xvciA9IGNvbnRleHQuc3Ryb2tlU3R5bGU7XG4gICAgICAgIHRoaXMuX29sZFN0eWxlLmZvbnQgPSBjb250ZXh0LmZvbnQ7XG4gICAgICAgIHRoaXMuX29sZFN0eWxlLnN0cm9rZVNpemUgPSBjb250ZXh0LmxpbmVXaWR0aDtcbiAgICAgICAgdGhpcy5fb2xkU3R5bGUudGV4dEFsaWduID0gY29udGV4dC50ZXh0QWxpZ247XG4gICAgfVxuICAgIF9hcHBseVN0eWxlVG9Db250ZXh0KGNvbnRleHQsIHN0eWxlKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gc3R5bGUuZmlsbENvbG9yO1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlQ29sb3I7XG4gICAgICAgIGNvbnRleHQudGV4dEFsaWduID0gc3R5bGUudGV4dEFsaWduO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSBzdHlsZS5mb250O1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVNpemU7XG4gICAgfVxufVxuZXhwb3J0cy5DYW52YXNFbGVtZW50U3R5bGUgPSBDYW52YXNFbGVtZW50U3R5bGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHJlY3RDb252ZXJzaW9uXzEgPSByZXF1aXJlKFwiLi9yZWN0Q29udmVyc2lvblwiKTtcbmNvbnN0IGVsZW1lbnRQb3NpdGlvbmluZ18xID0gcmVxdWlyZShcIi4uL2h0bWxIZWxwZXJzL2VsZW1lbnRQb3NpdGlvbmluZ1wiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9faW50ZXJmYWNlc1wiKTtcbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gT1ZFUkxBUCBGVU5DVElPTlNcbi8qKlxuICogZG9FbGVtZW50c092ZXJsYXBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDaGVja3MgaWYgdHdvIGdpdmVuIGVsZW1lbnRzIG92ZXJsYXBcbiAqXG4gKiBAcGFyYW0gXHRlbGVtMSBcdFRoZSBmaXJzdCBlbGVtZW50IHRvIGNoZWNrXG4gKiBAcGFyYW0gXHRlbGVtMiBcdFRoZSBzZWNvbmQgZWxlbWVudCB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGVsZW1lbnRzIG92ZXJsYXAsIGZhbHNlIG90aGVyd2lzZVxuICovXG5mdW5jdGlvbiBkb0VsZW1lbnRzT3ZlcmxhcChlbGVtMSwgZWxlbTIpIHtcbiAgICA7XG4gICAgbGV0IHJlY3QxO1xuICAgIGxldCByZWN0MjtcbiAgICByZWN0MSA9IGVsZW0xLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJlY3QyID0gZWxlbTIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIGRvUmVjdHNPdmVybGFwKHJlY3QxLCByZWN0Mik7XG59XG5leHBvcnRzLmRvRWxlbWVudHNPdmVybGFwID0gZG9FbGVtZW50c092ZXJsYXA7XG47XG4vKipcbiAqIGRvUmVjdHNPdmVybGFwXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ2hlY2tzIGlmIHR3byByZWN0YW5nbGVzIG92ZXJsYXAgYXQgYWxsXG4gKlxuICogQHBhcmFtIFx0cmVjdDEgXHRUaGUgZmlyc3QgcmVjdGFuZ2xlIHRvIGNoZWNrXG4gKiBAcGFyYW0gXHRyZWN0MiBcdFRoZSBzZWNvbmQgcmVjdGFuZ2xlIHRvIGNoZWNrXG4gKlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGVyZSBpcyBhbnkgb3ZlcmxhcCBiZXR3ZWVuIHRoZSByZWN0YW5nbGVzXG4gKi9cbmZ1bmN0aW9uIGRvUmVjdHNPdmVybGFwKHJlY3QxLCByZWN0Mikge1xuICAgIGxldCByMSA9IHJlY3RDb252ZXJzaW9uXzEudG9CYXNpY1JlY3QocmVjdDEpO1xuICAgIGxldCByMiA9IHJlY3RDb252ZXJzaW9uXzEudG9CYXNpY1JlY3QocmVjdDIpO1xuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuZG9SZWN0c092ZXJsYXAgPSBkb1JlY3RzT3ZlcmxhcDtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBkb0Jhc2ljUmVjdHNPdmVybGFwXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogZGV0ZWN0IGlmIHR3byByZWN0YW5nbGVzIG92ZXJsYXBcbiAqXG4gKiBAcGFyYW0gXHRyZWN0MVx0dGhlIGZpcnN0IHJlY3RhbmdsZSB0byBjb21wYXJlXG4gKiBAcGFyYW0gXHRyZWN0Mlx0dGhlIHNlY29uZCByZWN0YW5nbGUgdG8gY29tcGFyZVxuICpcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHR3byByZWN0YW5nbGVzIGRvIG92ZXJsYXBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmZ1bmN0aW9uIGRvQmFzaWNSZWN0c092ZXJsYXAocmVjdDEsIHJlY3QyKSB7XG4gICAgbGV0IHhfb3ZlcmxhcDtcbiAgICBsZXQgeV9vdmVybGFwO1xuICAgIGlmIChyZWN0MS54ID49IHJlY3QyLnggJiYgcmVjdDEueCA8PSAocmVjdDIudyArIHJlY3QyLngpKSB7XG4gICAgICAgIHhfb3ZlcmxhcCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChyZWN0Mi54ID49IHJlY3QxLnggJiYgcmVjdDIueCA8PSAocmVjdDEudyArIHJlY3QxLngpKSB7XG4gICAgICAgIHhfb3ZlcmxhcCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChyZWN0MS55ID49IHJlY3QyLnkgJiYgcmVjdDEueSA8PSAocmVjdDIuaCArIHJlY3QyLnkpKSB7XG4gICAgICAgIHlfb3ZlcmxhcCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChyZWN0Mi55ID49IHJlY3QxLnkgJiYgcmVjdDIueSA8PSAocmVjdDEuaCArIHJlY3QxLnkpKSB7XG4gICAgICAgIHlfb3ZlcmxhcCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiAoeF9vdmVybGFwICYmIHlfb3ZlcmxhcCk7XG59XG5leHBvcnRzLmRvQmFzaWNSZWN0c092ZXJsYXAgPSBkb0Jhc2ljUmVjdHNPdmVybGFwO1xuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gSU5URVJTRUNUSU9OIEZVTkNUSU9OU1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGZpbmRCYXNpY1JlY3RJbnRlcnNlY3Rpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjYWxjdWxhdGUgdGhlIG92ZXJsYXAgc2VjdGlvbiBmb3IgMiBnaXZlbiBiYXNpYyByZWN0YW5nbGVzXG4gKlxuICogQHBhcmFtIHJlY3QxIC0gdGhlIGZpcnN0IHJlY3RhbmdsZSB0byBjaGVja1xuICogQHBhcmFtIHJlY3QyIC0gdGhlIHNlY29uZCByZWN0YW5nbGUgdG8gY2hlY2tcbiAqXG4gKiBAcmV0dXJucyBUaGUgcmVjdGFuZ2xlIG9mIG92ZXJsYXBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmZ1bmN0aW9uIGZpbmRCYXNpY1JlY3RJbnRlcnNlY3Rpb24ocmVjdDEsIHJlY3QyKSB7XG4gICAgbGV0IG91dDtcbiAgICBsZXQgbWluX3ggPSBNYXRoLm1heChyZWN0MS54LCByZWN0Mi54KTtcbiAgICBsZXQgbWF4X3ggPSBNYXRoLm1pbihyZWN0MS54ICsgcmVjdDEudywgcmVjdDIueCArIHJlY3QyLncpO1xuICAgIGxldCBtaW5feSA9IE1hdGgubWF4KHJlY3QxLnksIHJlY3QyLnkpO1xuICAgIGxldCBtYXhfeSA9IE1hdGgubWluKHJlY3QxLnkgKyByZWN0MS5oLCByZWN0Mi55ICsgcmVjdDIuaCk7XG4gICAgb3V0ID0ge1xuICAgICAgICB4OiBtaW5feCxcbiAgICAgICAgeTogbWluX3ksXG4gICAgICAgIHc6IChtYXhfeCAtIG1pbl94KSxcbiAgICAgICAgaDogKG1heF95IC0gbWluX3kpXG4gICAgfTtcbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0cy5maW5kQmFzaWNSZWN0SW50ZXJzZWN0aW9uID0gZmluZEJhc2ljUmVjdEludGVyc2VjdGlvbjtcbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIFJFTEFUSVZFIFBPU0lUSU9OU1xuZnVuY3Rpb24gY29tcGFyZUxlZnRQb3NpdGlvbihlbGVtQSwgZWxlbUIpIHtcbiAgICByZXR1cm4gX2NvbXBhcmVQb3NpdGlvbihlbGVtZW50UG9zaXRpb25pbmdfMS5nbG9iYWxPZmZzZXRMZWZ0KGVsZW1BKSwgZWxlbWVudFBvc2l0aW9uaW5nXzEuZ2xvYmFsT2Zmc2V0TGVmdChlbGVtQikpO1xufVxuZXhwb3J0cy5jb21wYXJlTGVmdFBvc2l0aW9uID0gY29tcGFyZUxlZnRQb3NpdGlvbjtcbmZ1bmN0aW9uIGdldExlZnRNb3N0KC4uLmVsZW1zKSB7XG4gICAgcmV0dXJuIGVsZW1zLnNvcnQoY29tcGFyZUxlZnRQb3NpdGlvbilbMF07XG59XG5leHBvcnRzLmdldExlZnRNb3N0ID0gZ2V0TGVmdE1vc3Q7XG5mdW5jdGlvbiBjb21wYXJlUmlnaHRQb3NpdGlvbihlbGVtQSwgZWxlbUIpIHtcbiAgICByZXR1cm4gX2NvbXBhcmVQb3NpdGlvbigtMSAqIChlbGVtZW50UG9zaXRpb25pbmdfMS5nbG9iYWxPZmZzZXRMZWZ0KGVsZW1BKSArIGVsZW1BLm9mZnNldFdpZHRoKSwgLTEgKiAoZWxlbWVudFBvc2l0aW9uaW5nXzEuZ2xvYmFsT2Zmc2V0TGVmdChlbGVtQikgKyBlbGVtQi5vZmZzZXRXaWR0aCkpO1xufVxuZXhwb3J0cy5jb21wYXJlUmlnaHRQb3NpdGlvbiA9IGNvbXBhcmVSaWdodFBvc2l0aW9uO1xuZnVuY3Rpb24gZ2V0UmlnaHRNb3N0KC4uLmVsZW1zKSB7XG4gICAgcmV0dXJuIGVsZW1zLnNvcnQoY29tcGFyZVJpZ2h0UG9zaXRpb24pWzBdO1xufVxuZXhwb3J0cy5nZXRSaWdodE1vc3QgPSBnZXRSaWdodE1vc3Q7XG5mdW5jdGlvbiBjb21wYXJlVG9wUG9zaXRpb24oZWxlbUEsIGVsZW1CKSB7XG4gICAgcmV0dXJuIF9jb21wYXJlUG9zaXRpb24oZWxlbWVudFBvc2l0aW9uaW5nXzEuZ2xvYmFsT2Zmc2V0VG9wKGVsZW1BKSwgZWxlbWVudFBvc2l0aW9uaW5nXzEuZ2xvYmFsT2Zmc2V0VG9wKGVsZW1CKSk7XG59XG5leHBvcnRzLmNvbXBhcmVUb3BQb3NpdGlvbiA9IGNvbXBhcmVUb3BQb3NpdGlvbjtcbmZ1bmN0aW9uIGdldFRvcE1vc3QoLi4uZWxlbXMpIHtcbiAgICByZXR1cm4gZWxlbXMuc29ydChjb21wYXJlVG9wUG9zaXRpb24pWzBdO1xufVxuZXhwb3J0cy5nZXRUb3BNb3N0ID0gZ2V0VG9wTW9zdDtcbmZ1bmN0aW9uIGNvbXBhcmVCb3R0b21Qb3NpdGlvbihlbGVtQSwgZWxlbUIpIHtcbiAgICByZXR1cm4gX2NvbXBhcmVQb3NpdGlvbigtMSAqIChlbGVtZW50UG9zaXRpb25pbmdfMS5nbG9iYWxPZmZzZXRUb3AoZWxlbUEpICsgZWxlbUEub2Zmc2V0SGVpZ2h0KSwgLTEgKiAoZWxlbWVudFBvc2l0aW9uaW5nXzEuZ2xvYmFsT2Zmc2V0VG9wKGVsZW1CKSArIGVsZW1CLm9mZnNldEhlaWdodCkpO1xufVxuZXhwb3J0cy5jb21wYXJlQm90dG9tUG9zaXRpb24gPSBjb21wYXJlQm90dG9tUG9zaXRpb247XG5mdW5jdGlvbiBnZXRCb3R0b21Nb3N0KC4uLmVsZW1zKSB7XG4gICAgcmV0dXJuIGVsZW1zLnNvcnQoY29tcGFyZUJvdHRvbVBvc2l0aW9uKVswXTtcbn1cbmV4cG9ydHMuZ2V0Qm90dG9tTW9zdCA9IGdldEJvdHRvbU1vc3Q7XG5mdW5jdGlvbiBfY29tcGFyZVBvc2l0aW9uKHBvc0EsIHBvc0IpIHtcbiAgICBpZiAocG9zQSA8IHBvc0IpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcmZhY2VzXzEuU29ydE9yZGVyRW51bS5DT1JSRUNUX09SREVSO1xuICAgIH1cbiAgICBpZiAocG9zQSA+IHBvc0IpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcmZhY2VzXzEuU29ydE9yZGVyRW51bS5JTkNPUlJFQ1RfT1JERVI7XG4gICAgfVxuICAgIHJldHVybiBfaW50ZXJmYWNlc18xLlNvcnRPcmRlckVudW0uU0FNRTtcbn1cbi8vI2VuZHJlZ2lvblxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBpbnRlcmZhY2VHdWFyZF8xID0gcmVxdWlyZShcIi4uL3R5cGVHdWFyZHMvaW50ZXJmYWNlR3VhcmRcIik7XG4vKipcbiAqIGlzRXh0cmVtYVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY2hlY2sgaWYgdGhlIGVsZW1lbnQgaXMgYW4gSUV4dHJlbWEgaW1wbGVtZW50YXRpb25cbiAqL1xuZnVuY3Rpb24gaXNJRXh0cmVtYSh0ZXN0KSB7XG4gICAgbGV0IGV4dHJlbWEgPSB7XG4gICAgICAgIG1pbjogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgIG1heDogeyB4OiAwLCB5OiAwIH1cbiAgICB9O1xuICAgIHJldHVybiBpbnRlcmZhY2VHdWFyZF8xLmlzSW50ZXJmYWNlKHRlc3QsIGV4dHJlbWEpO1xufVxuZXhwb3J0cy5pc0lFeHRyZW1hID0gaXNJRXh0cmVtYTtcbi8qKiBjaGVjayBpZiB0aGUgZWxlbWVudCBpcyBhIGNsaWVudCByZWN0YW5nbGUgKi9cbmZ1bmN0aW9uIGlzQ2xpZW50UmVjdCh0ZXN0KSB7XG4gICAgbGV0IHJlY3QgPSB7XG4gICAgICAgIHRvcDogMSxcbiAgICAgICAgYm90dG9tOiAxLFxuICAgICAgICBsZWZ0OiAxLFxuICAgICAgICByaWdodDogMSxcbiAgICAgICAgaGVpZ2h0OiAxLFxuICAgICAgICB3aWR0aDogMSxcbiAgICB9O1xuICAgIGlmIChpbnRlcmZhY2VHdWFyZF8xLmlzSW50ZXJmYWNlKHRlc3QsIHJlY3QpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmlzQ2xpZW50UmVjdCA9IGlzQ2xpZW50UmVjdDtcbjtcbi8qKiBjaGVjayBpZiB0aGUgZWxlbWVudCBpcyBhIFNWRyByZWN0YW5nbGUgKi9cbmZ1bmN0aW9uIGlzU1ZHUmVjdCh0ZXN0KSB7XG4gICAgbGV0IHJlY3QgPSB7XG4gICAgICAgIHg6IDEsXG4gICAgICAgIHk6IDEsXG4gICAgICAgIHdpZHRoOiAxLFxuICAgICAgICBoZWlnaHQ6IDFcbiAgICB9O1xuICAgIGlmIChpbnRlcmZhY2VHdWFyZF8xLmlzSW50ZXJmYWNlKHRlc3QsIHJlY3QpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmlzU1ZHUmVjdCA9IGlzU1ZHUmVjdDtcbi8qKiBjaGVjayBpZiB0aGUgZWxlbWVudCBpcyBhIGJhc2ljIHJlY3RhbmdsZSAqL1xuZnVuY3Rpb24gaXNJQmFzaWNSZWN0KHRlc3QpIHtcbiAgICBsZXQgcmVjdCA9IHtcbiAgICAgICAgeDogMSxcbiAgICAgICAgeTogMSxcbiAgICAgICAgdzogMSxcbiAgICAgICAgaDogMVxuICAgIH07XG4gICAgaWYgKGludGVyZmFjZUd1YXJkXzEuaXNJbnRlcmZhY2UodGVzdCwgcmVjdCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuaXNJQmFzaWNSZWN0ID0gaXNJQmFzaWNSZWN0O1xuZnVuY3Rpb24gaXNJUG9pbnQodGVzdCkge1xuICAgIGxldCBwdCA9IHtcbiAgICAgICAgeDogMSxcbiAgICAgICAgeTogMSxcbiAgICAgICAgejogMFxuICAgIH07XG4gICAgcmV0dXJuIGludGVyZmFjZUd1YXJkXzEuaXNJbnRlcmZhY2UodGVzdCwgcHQpO1xufVxuZXhwb3J0cy5pc0lQb2ludCA9IGlzSVBvaW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgU29ydE9yZGVyRW51bTtcbihmdW5jdGlvbiAoU29ydE9yZGVyRW51bSkge1xuICAgIFNvcnRPcmRlckVudW1bU29ydE9yZGVyRW51bVtcIklOQ09SUkVDVF9PUkRFUlwiXSA9IDFdID0gXCJJTkNPUlJFQ1RfT1JERVJcIjtcbiAgICBTb3J0T3JkZXJFbnVtW1NvcnRPcmRlckVudW1bXCJTQU1FXCJdID0gMF0gPSBcIlNBTUVcIjtcbiAgICBTb3J0T3JkZXJFbnVtW1NvcnRPcmRlckVudW1bXCJDT1JSRUNUX09SREVSXCJdID0gLTFdID0gXCJDT1JSRUNUX09SREVSXCI7XG59KShTb3J0T3JkZXJFbnVtID0gZXhwb3J0cy5Tb3J0T3JkZXJFbnVtIHx8IChleHBvcnRzLlNvcnRPcmRlckVudW0gPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCByZWN0Q29udmVyc2lvbl8xID0gcmVxdWlyZShcIi4vcmVjdENvbnZlcnNpb25cIik7XG4vKipcbiAqIGlzV2l0aGluXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ2hlY2tzIHdoZXRoZXIgYSB2YWx1ZSBpcyB3aXRoaW4gYSBtYXgvbWluIHJhbmdlXG4gKlxuICogQHBhcmFtIFx0dmFsICAgICAgICAgICBcdFRoZSB2YWx1ZSB0byBjaGVjayBmb3IgaW5jbHVzaW9uXG4gKiBAcGFyYW0gXHRtaW4gICAgICAgICAgIFx0VGhlIG1heCB2YWx1ZVxuICogQHBhcmFtIFx0bWF4ICAgICAgICAgICBcdFRoZSBtaW4gdmFsdWVcbiAqIEBwYXJhbSBcdG5vbl9pbmNsdXNpdmUgXHRUcnVlIGlmIHdlIHNob3VsZG4ndCBpbmNsdWRlIHRoZSBlbmQgcG9pbnRzXG4gKlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgY29udGFpbmVkIGluIHRoZSByYW5nZVxuICovXG5mdW5jdGlvbiBpc1dpdGhpbih2YWwsIG1pbiwgbWF4LCBub25faW5jbHVzaXZlKSB7XG4gICAgO1xuICAgIGlmIChub25faW5jbHVzaXZlKVxuICAgICAgICByZXR1cm4gKHZhbCA8IG1heCAmJiB2YWwgPiBtaW4pO1xuICAgIHJldHVybiAodmFsIDw9IG1heCAmJiB2YWwgPj0gbWluKTtcbn1cbmV4cG9ydHMuaXNXaXRoaW4gPSBpc1dpdGhpbjtcbi8qKlxuICogaXNQb2ludENvbnRhaW5lZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERldGVybWluZXMgd2hldGhlciBhIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gYSBwYXJ0aWN1bGFyIHJlY3RhbmdsZVxuICpcbiAqIEBwYXJhbSBcdHB0IFx0XHRUaGUgcG9pbnQgdG8gY2hlY2sgZm9yIGNvbnRhaW5tZW50XG4gKiBAcGFyYW0gXHRyZWN0IFx0VGhlIHJlY3RhbmdsZSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHBvaW50IGlzIGNvbnRhaW5lZCBpbiB0aGUgcmVjdGFuZ2xlXG4gKi9cbmZ1bmN0aW9uIGlzUG9pbnRDb250YWluZWQocHQsIHJlY3QpIHtcbiAgICA7XG4gICAgbGV0IHIgPSByZWN0Q29udmVyc2lvbl8xLnRvQmFzaWNSZWN0KHJlY3QpO1xuICAgIGlmIChwdC54IDwgci54KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHB0LnggPiAoci54ICsgci53KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChwdC55IDwgci55KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHB0LnkgPiByLnkgKyByLmgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydHMuaXNQb2ludENvbnRhaW5lZCA9IGlzUG9pbnRDb250YWluZWQ7XG4vKipcbiAqIGlzUmVjdENvbnRhaW5lZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ2hlY2tzIHdoZXRoZXIgYSBjbGllbnQgcmVjdCBpcyBlbnRpcmVseSBjb250YWluZWQgd2l0aGluIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0gXHRyZWN0ICAgICAgXHRUaGUgZWxlbWVudCB0byBjaGVjayBmb3IgY29udGFpbmVtZW50XG4gKiBAcGFyYW0gXHRjb250YWluZXIgXHRUaGUgZWxlbWVudCB0byBjaGVjayBpZiB0aGUgcmVjdCBpcyBjb250YWluZWQgd2l0aGluXG4gKlxuICogQHJldHVybnMgVHJ1ZSBpZiByZWN0IGlzIGNvbXBsZXRlbHkgY29udGFpbmVkIGJ5IGNvbnRhaW5lclxuICovXG5mdW5jdGlvbiBpc1JlY3RDb250YWluZWQocmVjdCwgY29udGFpbmVyKSB7XG4gICAgbGV0IHI7XG4gICAgbGV0IGM7XG4gICAgLy8gQ29udmVydCB0aGUgZmlyc3QgcmVjdCB0byBhIGJhc2ljIHJlY3RcbiAgICByID0gcmVjdENvbnZlcnNpb25fMS50b0Jhc2ljUmVjdChyZWN0KTtcbiAgICAvLyBDb252ZXJ0IHRoZSBzZWNvbmQgcmVjdCB0byBhIGJhc2ljIHJlY3RcbiAgICBjID0gcmVjdENvbnZlcnNpb25fMS50b0Jhc2ljUmVjdChjb250YWluZXIpO1xuICAgIC8vIFRvbyBmYXIgbGVmdFxuICAgIGlmIChyLnggPCBjLngpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBUb28gZmFyIHJpZ2h0XG4gICAgaWYgKChyLnggKyByLncpID4gKGMudyArIGMueCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBUb28gZmFyIHVwXG4gICAgaWYgKHIueSA8IGMueSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIFRvbyBmYXIgZG93blxuICAgIGlmICgoci55ICsgci5oKSA+IChjLmggKyBjLnkpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gSnVzdCByaWdodFxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy5pc1JlY3RDb250YWluZWQgPSBpc1JlY3RDb250YWluZWQ7XG4vKipcbiAqIGlzRWxlbWVudENvbnRhaW5lZFxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAqIENoZWNrcyBpZiBhbiBlbGVtZW50IGlzIGNvbXBsZXRlbHkgY29udGFpbmVkIGJ5IGFub3RoZXIgZWxlbWVudFxuICAgICpcbiAgICAqIEBwYXJhbSBcdGVsZW0gICAgICBcdFRoZSBlbGVtZW50IHRvIGNoZWNrIGZvciBjb250YWlubWVudFxuICAgICogQHBhcmFtIFx0Y29udGFpbmVyIFx0VGhlIGVsZW1lbnQgdG8gY2hlY2sgaWYgaXQgY29udGFpbnMgdGhlIG90aGVyIGVsZW1cbiAgICAqXG4gICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBlbGVtZW50IGlzIGNvbXBsZXRlbHkgY29udGFpbmVkXG4gICAgKi9cbmZ1bmN0aW9uIGlzRWxlbWVudENvbnRhaW5lZChlbGVtLCBjb250YWluZXIpIHtcbiAgICBsZXQgcmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IGJvdW5kcyA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIGlzUmVjdENvbnRhaW5lZChyZWN0LCBib3VuZHMpO1xufVxuZXhwb3J0cy5pc0VsZW1lbnRDb250YWluZWQgPSBpc0VsZW1lbnRDb250YWluZWQ7XG47XG4vKipcbiAqIGlzU2hhcGVDb250YWluZWRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDaGVja3MgaWYgYSBnaXZlbiBzaGFwZSBpcyBjb250YWluZWQgd2l0aGluIGEgZ2l2ZW4gYm91bmRpbmcgYm94XG4gKlxuICogQHBhcmFtIFx0c2hhcGUgXHRUaGUgY29sbGVjdGlvbiBvZiBwb2ludHMgdG8gY2hlY2tcbiAqIEBwYXJhbSBcdGJvdW5kcyBcdFRoZSBib3VuZGluZyBib3ggdG8gYmUgd2l0aGluXG4gKlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgc2hhcGUgaXMgY29tcGxldGVseSBjb250YWluZWQgaW4gdGhlIGJvdW5kaW5nIGJveFxuICovXG5mdW5jdGlvbiBpc1NoYXBlQ29udGFpbmVkKHNoYXBlLCBib3VuZHMpIHtcbiAgICBsZXQgcHQ7XG4gICAgZm9yIChwdCBvZiBzaGFwZSkge1xuICAgICAgICBpZiAoIWlzUG9pbnRDb250YWluZWQocHQsIGJvdW5kcykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydHMuaXNTaGFwZUNvbnRhaW5lZCA9IGlzU2hhcGVDb250YWluZWQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0TGlua2VkTm9vZGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGtlZXAgdHJhY2sgb2YgZGF0YSBpbiBhIHNpbmdsZSBlbnRyeSBpbiBhIGxpbmtlZCBsaXN0XG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uXHQxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBMaW5rZWROb2RlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBUSEUgTk9ERVxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbmV4dCA9IG51bGw7XG4gICAgfVxuICAgIGdldCBkYXRhKCkgeyByZXR1cm4gdGhpcy5fZGF0YTsgfVxuICAgIHNldCBkYXRhKGRhdGEpIHsgdGhpcy5fZGF0YSA9IGRhdGE7IH1cbiAgICBnZXQgbmV4dCgpIHsgcmV0dXJuIHRoaXMuX25leHQ7IH1cbiAgICBzZXQgbmV4dChkYXRhKSB7IHRoaXMuX25leHQgPSBkYXRhOyB9XG4gICAgZ2V0IHByZXZpb3VzKCkgeyByZXR1cm4gdGhpcy5fcHJldmlvdXM7IH1cbiAgICBzZXQgcHJldmlvdXMoZGF0YSkgeyB0aGlzLl9wcmV2aW91cyA9IGRhdGE7IH1cbn1cbmV4cG9ydHMuTGlua2VkTm9kZSA9IExpbmtlZE5vZGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbXBhcmFibGVfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21wYXJhYmxlL2NvbXBhcmFibGVcIik7XG5jb25zdCB0cmVlXzEgPSByZXF1aXJlKFwiLi90cmVlXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRCaW5hcnlUcmVlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGUgYSB2ZXJzaW9uIG9mIGEgYmluYXJ5IHRyZWUgdGhhdCBjYW4gYmUgdmVyeSB1bmJhbGFuY2VkLCBidXQgd2lsbCBiZVxuICogYSBiaW5hcnkgdHJlZSAoYWxsIGxlZnQgbm9kZXMgYXJlIGxlc3MgdGhhbiB0aGUgcGFyZW50IG5vZGU7IGFsbCByaWdodCBub2Rlc1xuICogYXJlIGdyZWF0ZXIgdGhhbiB0aGUgcGFyZW50IG5vZGUpXG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uXHQxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBCaW5hcnlUcmVlIGV4dGVuZHMgdHJlZV8xLlRyZWUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICBzdXBlcihkYXRhKTtcbiAgICAgICAgdGhpcy5fY291bnQgPSAxO1xuICAgIH1cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBBRERJTkcgTkVXIE5PREVTXG4gICAgYWRkKHZhbHVlKSB7XG4gICAgICAgIGxldCBjb21wYXJlUmVzdWx0ID0gdGhpcy5fY29tcGFyZSh2YWx1ZSk7XG4gICAgICAgIHN3aXRjaCAoY29tcGFyZVJlc3VsdCkge1xuICAgICAgICAgICAgY2FzZSBDb21wYXJlUmVzdWx0LkVRVUFMOlxuICAgICAgICAgICAgICAgIHRoaXMuX2NvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbXBhcmVSZXN1bHQuTEVTU19USEFOOlxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZFRvU3ViVHJlZShcImxlZnRcIiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb21wYXJlUmVzdWx0LkdSRUFURVJfVEhBTjpcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRUb1N1YlRyZWUoXCJyaWdodFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2FkZFRvU3ViVHJlZSh0eXBlLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuX3N1YlRyZWVzW3R5cGVdKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJUcmVlc1t0eXBlXSA9IHRoaXMuX2NyZWF0ZVN1YlRyZWUodmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5fc3ViVHJlZXNbdHlwZV0uX3BhcmVudCA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3ViVHJlZXNbdHlwZV0uYWRkKHZhbHVlKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBSRU1PVklORyBOT0RFU1xuICAgIHJlbW92ZSh2YWx1ZSkge1xuICAgICAgICBsZXQgY29tcGFyZVJlc3VsdCA9IHRoaXMuX2NvbXBhcmUodmFsdWUpO1xuICAgICAgICBzd2l0Y2ggKGNvbXBhcmVSZXN1bHQpIHtcbiAgICAgICAgICAgIGNhc2UgQ29tcGFyZVJlc3VsdC5FUVVBTDpcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVNZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb21wYXJlUmVzdWx0LkxFU1NfVEhBTjpcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVGcm9tU3ViVHJlZShcImxlZnRcIiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb21wYXJlUmVzdWx0LkdSRUFURVJfVEhBTjpcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVGcm9tU3ViVHJlZShcInJpZ2h0XCIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmVtb3ZlTWUoKSB7XG4gICAgICAgIGxldCBzaWRlT2ZQYXJlbnQgPSB0aGlzLl9nZXRSZWxhdGlvblRvUGFyZW50KCk7XG4gICAgICAgIGlmICghc2lkZU9mUGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlTWVBc1RvcE5vZGUoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGVyZSBpcyBsaWtlbHkgYSBiZXR0ZXIgd2F5IHRvIGRvIHRoaXMsIGJ1dCBiZWNhdXNlIFxuICAgICAgICAvLyB3ZSBhbHJlYWR5IGtub3cgdGhhdCB0aGUgYWRkIGZ1bmN0aW9uIHdvcmtzIGFzIGFwcHJvcHJpYXRlLCBcbiAgICAgICAgLy8gaXQncyBwcm9iYWJseSBmaW5lIHRvIGp1c3QgcmVhZGQgdGhlIGNoaWxkcmVuIG9mIHRoaXMgbm9kZVxuICAgICAgICBkZWxldGUgdGhpcy5fcGFyZW50W3NpZGVPZlBhcmVudF07XG4gICAgICAgIC8vIFRPRE86IGZpbmlzaFxuICAgIH1cbiAgICBfcmVtb3ZlTWVBc1RvcE5vZGUoKSB7XG4gICAgfVxuICAgIF9yZW1vdmVGcm9tU3ViVHJlZSh0eXBlLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuX3N1YlRyZWVzW3R5cGVdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3ViVHJlZXNbdHlwZV0ucmVtb3ZlKHZhbHVlKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBFWElTVEVOQ0UgQ0hFQ0tTXG4gICAgZXhpc3RzKHZhbHVlKSB7XG4gICAgICAgIGxldCBjb21wYXJlUmVzdWx0ID0gdGhpcy5fY29tcGFyZSh2YWx1ZSk7XG4gICAgICAgIHN3aXRjaCAoY29tcGFyZVJlc3VsdCkge1xuICAgICAgICAgICAgY2FzZSBDb21wYXJlUmVzdWx0LkVRVUFMOlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY2FzZSBDb21wYXJlUmVzdWx0LkxFU1NfVEhBTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tTdWJUcmVlRXhpc3RzKFwibGVmdFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlIENvbXBhcmVSZXN1bHQuR1JFQVRFUl9USEFOOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGVja1N1YlRyZWVFeGlzdHMoXCJyaWdodFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY2hlY2tTdWJUcmVlRXhpc3RzKHR5cGUsIHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5fc3ViVHJlZXNbdHlwZV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3ViVHJlZXNbdHlwZV0uZXhpc3RzKHZhbHVlKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBGSU5ESU5HIEVYVFJFTUFcbiAgICBtYXgoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdWJUcmVlcy5yaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YlRyZWVzLnJpZ2h0Lm1heCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgIH1cbiAgICBtaW4oKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdWJUcmVlcy5sZWZ0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3ViVHJlZXMubGVmdC5taW4oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDT01QQVJJU09OIEhFTFBFUlNcbiAgICBfY29tcGFyZSh2YWx1ZSkge1xuICAgICAgICBpZiAoY29tcGFyYWJsZV8xLmlzQ29tcGFyYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb21wYXJlT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb21wYXJlUHJpbWl0aXZlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY29tcGFyZU9iamVjdCh2YWx1ZSkge1xuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29tcGFyZVJlc3VsdC5FUlI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG15VmFsdWUgPSB0aGlzLl9kYXRhO1xuICAgICAgICBpZiAoIW15VmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBDb21wYXJlUmVzdWx0LkVSUjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUuZXF1YWxzKG15VmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29tcGFyZVJlc3VsdC5FUVVBTDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZS5sZXNzVGhhbihteVZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIENvbXBhcmVSZXN1bHQuTEVTU19USEFOO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlLmdyZWF0ZXJUaGFuKG15VmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29tcGFyZVJlc3VsdC5HUkVBVEVSX1RIQU47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENvbXBhcmVSZXN1bHQuRVJSO1xuICAgIH1cbiAgICBfY29tcGFyZVByaW1pdGl2ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPCB0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29tcGFyZVJlc3VsdC5MRVNTX1RIQU47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID4gdGhpcy5fZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIENvbXBhcmVSZXN1bHQuR1JFQVRFUl9USEFOO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDb21wYXJlUmVzdWx0LkVRVUFMO1xuICAgIH1cbiAgICBfZ2V0UmVsYXRpb25Ub1BhcmVudCgpIHtcbiAgICAgICAgbGV0IGNvbXBhcmVkVG9QYXJlbnQgPSBDb21wYXJlUmVzdWx0LkVSUjtcbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudCkge1xuICAgICAgICAgICAgY29tcGFyZWRUb1BhcmVudCA9IHRoaXMuX2NvbXBhcmUodGhpcy5fcGFyZW50Ll9kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGNvbXBhcmVkVG9QYXJlbnQpIHtcbiAgICAgICAgICAgIGNhc2UgQ29tcGFyZVJlc3VsdC5MRVNTX1RIQU46IHJldHVybiBcInJpZ2h0XCI7XG4gICAgICAgICAgICBjYXNlIENvbXBhcmVSZXN1bHQuR1JFQVRFUl9USEFOOiByZXR1cm4gXCJsZWZ0XCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSURFTlRJVFkgRlVOQ1RJT05TXG4gICAgaXNDb21wbGV0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zdWJUcmVlcy5sZWZ0ICYmICF0aGlzLl9zdWJUcmVlcy5yaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9zdWJUcmVlcy5sZWZ0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9zdWJUcmVlcy5yaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fc3ViVHJlZXMubGVmdC5pc0NvbXBsZXRlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3N1YlRyZWVzLnJpZ2h0LmlzQ29tcGxldGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpc0JhbGFuY2VkKCkge1xuICAgICAgICBsZXQgbGVmdERlcHRoID0gdGhpcy5fZ2V0U2lkZURlcHRoKFwibGVmdFwiKTtcbiAgICAgICAgbGV0IHJpZ2h0RGVwdGggPSB0aGlzLl9nZXRTaWRlRGVwdGgoXCJyaWdodFwiKTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGxlZnREZXB0aCAtIHJpZ2h0RGVwdGgpID4gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faXNTdWJUcmVlQmFsYW5jZWQoXCJsZWZ0XCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9pc1N1YlRyZWVCYWxhbmNlZChcInJpZ2h0XCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF9pc1N1YlRyZWVCYWxhbmNlZCh0eXBlKSB7XG4gICAgICAgIGlmICghdGhpcy5fc3ViVHJlZXNbdHlwZV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdWJUcmVlc1t0eXBlXS5pc0JhbGFuY2VkKCk7XG4gICAgfVxuICAgIF9nZXRTaWRlRGVwdGgodHlwZSkge1xuICAgICAgICBpZiAoIXRoaXMuX3N1YlRyZWVzW3R5cGVdKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3ViVHJlZXNbdHlwZV0uZ2V0RGVwdGgoKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBGQUNUT1JZIEZVTkNUSU9OU1xuICAgIF9jcmVhdGVTdWJUcmVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmluYXJ5VHJlZSh2YWx1ZSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gT1ZFUlJJREVTXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCBzdWJUcmVlcyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5fc3ViVHJlZXMubGVmdCkge1xuICAgICAgICAgICAgc3ViVHJlZXMucHVzaCh0aGlzLl9zdWJUcmVlcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc3ViVHJlZXMucmlnaHQpIHtcbiAgICAgICAgICAgIHN1YlRyZWVzLnB1c2godGhpcy5fc3ViVHJlZXMucmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhcnIgPSBbXTtcbiAgICAgICAgYXJyLnB1c2godGhpcy5fZGF0YSk7XG4gICAgICAgIGlmIChzdWJUcmVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhcnIucHVzaChcIi0+KFwiKTtcbiAgICAgICAgICAgIGFyci5wdXNoKHN1YlRyZWVzLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgICAgIGFyci5wdXNoKFwiKVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyLmpvaW4oXCJcIik7XG4gICAgfVxufVxuZXhwb3J0cy5CaW5hcnlUcmVlID0gQmluYXJ5VHJlZTtcbnZhciBDb21wYXJlUmVzdWx0O1xuKGZ1bmN0aW9uIChDb21wYXJlUmVzdWx0KSB7XG4gICAgQ29tcGFyZVJlc3VsdFtDb21wYXJlUmVzdWx0W1wiRVJSXCJdID0gMF0gPSBcIkVSUlwiO1xuICAgIENvbXBhcmVSZXN1bHRbQ29tcGFyZVJlc3VsdFtcIkxFU1NfVEhBTlwiXSA9IDFdID0gXCJMRVNTX1RIQU5cIjtcbiAgICBDb21wYXJlUmVzdWx0W0NvbXBhcmVSZXN1bHRbXCJFUVVBTFwiXSA9IDJdID0gXCJFUVVBTFwiO1xuICAgIENvbXBhcmVSZXN1bHRbQ29tcGFyZVJlc3VsdFtcIkdSRUFURVJfVEhBTlwiXSA9IDNdID0gXCJHUkVBVEVSX1RIQU5cIjtcbn0pKENvbXBhcmVSZXN1bHQgPSBleHBvcnRzLkNvbXBhcmVSZXN1bHQgfHwgKGV4cG9ydHMuQ29tcGFyZVJlc3VsdCA9IHt9KSk7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRyYWdnYWJsZV8xID0gcmVxdWlyZShcIi4vZHJhZ2dhYmxlXCIpO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL2Nzc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIENsYXNzaWNEcmFnZ2FibGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhIGRyYWdnYWJsZSB0aGF0IGxpc3RlbnMgdG8gc3RhbmRhcmQgbW91c2UgZXZlbnRzIHRvIGJlIGFibGUgdG9cbiAqIGFjY29tbW9kYXRlIGRyYWcgYW5kIGRyb3BcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQ2xhc3NpY0RyYWdnYWJsZSBleHRlbmRzIGRyYWdnYWJsZV8xLkdlbmVyaWNEcmFnZ2FibGUge1xuICAgIC8qKlxuICAgICAqIF9jcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiAoRG9lcyBub3RoaW5nOyBjYW4gYmUgb3ZlcmlkZGVuIGJ5IGNoaWxkIGNsYXNzZXMpXG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImRyYWdnYWJsZVwiKTtcbiAgICAgICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fYWRkRHJhZ2dpbmdTaWduaWZpZXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uRHJvcFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBEZWZhbHV0IGJlaGF2aW9yIGZvciBhIGRyYWdnYWJsZSBpcyB0byBhdHRhY2ggdG8gdGhlIGFzc29jaWF0ZWQgdGFyZ2V0XG4gICAgICogQHBhcmFtICAgZXZlbnQgICBUaGUgbW91c2UgZXZlbnQgdHJpZ2dlcmluZyB0aGUgZHJvcFxuICAgICAqL1xuICAgIF9vbkRyb3AoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0RyYWdnaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuX29uRHJvcChldmVudCk7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgc3R5bGUgb2YgdGhlIGVsZW1lbnRcbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJkcmFnZ2luZ1wiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2FkZEV2ZW50TGlzdGVuZXJzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFkZCBhbnkgZXZlbnQgbGlzdGVuZXJzIG5lZWRlZCBmb3IgdGhpcyBjbGFzc2ljIGRyYWdnYWJsZVxuICAgICAqL1xuICAgIF9hZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoKGUudGFyZ2V0ICE9PSB0aGlzLl9lbGVtcy5iYXNlKSAmJlxuICAgICAgICAgICAgICAgIChlLnRhcmdldCAhPT0gdGhpcy5fc2lnbmlmaWVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX29uRHJhZ1N0YXJ0KGUpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uTW92ZShlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25Ecm9wKGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgLy90aGlzLl9vbkRyb3AoZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRHJhZ2dhYmxlVGFyZ2V0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSBhIHRhcmdldCBlbGVtZW50IGZvciB0aGlzIGRyYWdnYWJsZVxuICAgICAqIEBwYXJhbSAgIHRhcmdldCAgVGhlIGVsZW1lbnQgdG8gbGluayB0byB0aGUgY3JlYXRlZCB0YXJnZXRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIHRhcmdldFxuICAgICAqL1xuICAgIF9jcmVhdGVEcmFnZ2FibGVUYXJnZXQodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2xhc3NpY0RyYWdnYWJsZVRhcmdldCh0YXJnZXQpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2xhc3NpY0RyYWdnYWJsZSA9IENsYXNzaWNEcmFnZ2FibGU7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBDbGFzc2ljRHJhZ2dhYmxlVGFyZ2V0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGVzIGEgdGFyZ2V0IHRoYXQgY2FuIHJlY2VpdmUgY2xhc3NpYyBkcmFnZ2FibGUgZXZlbnRzXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIENsYXNzaWNEcmFnZ2FibGVUYXJnZXQgZXh0ZW5kcyBkcmFnZ2FibGVfMS5EcmFnZ2FibGVUYXJnZXQge1xuICAgIC8qKlxuICAgICAqIF9hZGRFdmVudExpc3RlbmVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSB0YXJnZXRcbiAgICAgKi9cbiAgICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGlmICghZHJhZ2dhYmxlXzEuR2VuZXJpY0RyYWdnYWJsZS5jdXJyZW50RHJhZ2dhYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fb25Ecm9wKGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkRyYWdFbnRlcihlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkRyYWdMZWF2ZShlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5DbGFzc2ljRHJhZ2dhYmxlVGFyZ2V0ID0gQ2xhc3NpY0RyYWdnYWJsZVRhcmdldDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZXhpc3RpbmdEcmFnZ2FibGVfMSA9IHJlcXVpcmUoXCIuL2V4aXN0aW5nRHJhZ2dhYmxlXCIpO1xuLyoqXG4gKiBtYWtlRHJhZ2dhYmxlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBNYWtlcyBhIHBhcnRpY3VsYXIgZWxlbWVudCBkcmFnZ2FibGVcbiAqXG4gKiBAcGFyYW0gXHRlbGVtICAgICAgICAgXHRUaGUgZWxlbWVudCB0byBtYWtlIGRyYWdnYWJsZVxuICogQHBhcmFtIFx0dGFyZ2V0ICAgICAgIFx0VGhlIGRyb3AtdGFyZ2V0IG9mIHRoZSBkcmFnZ2FibGVcbiAqIEBwYXJhbSBcdG5vbl9zdGFuZGFyZCBcdFRydWUgaWYgd2Ugc2hvdWxkIHVzZSBub24tc3RhbmRhcmQgZXZlbnRzXG4gKlxuICogQHJldHVybnNcdEhUTUwgZWxlbWVudCB0aGF0IHJlc3BlY3RzIGRyYWcgZXZlbnRzXG4gKlxuICovXG5mdW5jdGlvbiBtYWtlRHJhZ2dhYmxlKGVsZW0sIG9wdGlvbnMpIHtcbiAgICAvLyBCZWhpbmQgdGhlIHNjZW5lcywgd2UgY3JlYXRlIGEgZHJhZ2dhYmxlIHRvIGdldCB0aGlzXG4gICAgbGV0IGRyZyA9IG5ldyBleGlzdGluZ0RyYWdnYWJsZV8xLkV4aXN0aW5nSFRNTDVEcmFnZ2FibGUoZWxlbSwgb3B0aW9ucy50YXJnZXQpO1xuICAgIGRyZy5vdmVycmlkZUZ1bmN0aW9ucyhvcHRpb25zKTtcbiAgICBkcmcuZ3JpZFNpemUgPSBvcHRpb25zLmdyaWRTaXplIHx8IDE7XG4gICAgLy8gUmV0dXJuIHRoZSBlbGVtZW50IG9mIHRoZSBEcmFnZ2FibGVcbiAgICByZXR1cm4gZHJnLmJhc2U7XG59XG5leHBvcnRzLm1ha2VEcmFnZ2FibGUgPSBtYWtlRHJhZ2dhYmxlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjbGFzc2ljRHJhZ2dhYmxlXzEgPSByZXF1aXJlKFwiLi9jbGFzc2ljRHJhZ2dhYmxlXCIpO1xuY29uc3QgaHRtbDVEcmFnZ2FibGVfMSA9IHJlcXVpcmUoXCIuL2h0bWw1RHJhZ2dhYmxlXCIpO1xuLy8gVE9ETzogZmluaXNoIG1hcHBpbmcgb3ZlciBmcm9tIHRoZSBvbGQgbWFrZSBkcmFnZ2FibGUgZnVuY3Rpb25cbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIEV4aXN0aW5nQ2xhc3NpY0RyYWdnYWJsZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlIGEgZHJhZ2dhYmxlIG91dCBvZiBhbiBhbHJlYWR5LWV4aXN0aW5nIGVsZW1lbnRcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS41LjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgRXhpc3RpbmdDbGFzc2ljRHJhZ2dhYmxlIGV4dGVuZHMgY2xhc3NpY0RyYWdnYWJsZV8xLkNsYXNzaWNEcmFnZ2FibGUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLyoqXG4gICAgICogRXhpc3RpbmdDbGFzc2ljRHJhZ2dhYmxlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFR1cm4gYW4gZXhpc3RpbmcgZWxlbWVudCBpbnRvIGEgZHJhZ2dhYmxlIHRoYXQgc3VwcG9ydHMgY2xhc3NpYyBtb3VzZSBldmVudHNcbiAgICAgKiBAcGFyYW0gICBlbGVtICAgICAgICBUaGUgZWxlbWVudCB0byB1c2UgZm9yIHRoaXMgZWxlbWVudFxuICAgICAqIEBwYXJhbSAgIHRhcmdldCAgICAgIFRoZSB0YXJnZXQgZm9yIHRoZSBlbGVtZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWxlbSwgdGFyZ2V0KSB7XG4gICAgICAgIHN1cGVyKG51bGwsIHRhcmdldCk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UgPSBlbGVtO1xuICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuICAgIH1cbiAgICBvdmVycmlkZUZ1bmN0aW9ucyhoYW5kbGVycykge1xuICAgICAgICBpZiAoaGFuZGxlcnMub25Nb3ZlKSB7XG4gICAgICAgICAgICB0aGlzLl9vdmVycmlkZUZ1bmN0aW9ucy5tb3ZlID0gaGFuZGxlcnMub25Nb3ZlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9vbk1vdmUoZXZlbnQpIHtcbiAgICAgICAgc3VwZXIuX29uTW92ZShldmVudCk7XG4gICAgICAgIGlmICghdGhpcy5fb3ZlcnJpZGVGdW5jdGlvbnMubW92ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkZWx0YSA9IHRoaXMuX2NhbGN1bGF0ZURlbHRhKCk7XG4gICAgICAgIHRoaXMuX292ZXJyaWRlRnVuY3Rpb25zLm1vdmUoZGVsdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuRXhpc3RpbmdDbGFzc2ljRHJhZ2dhYmxlID0gRXhpc3RpbmdDbGFzc2ljRHJhZ2dhYmxlO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgRXhpc3RpbmdIVE1MNURyYWdnYWJsZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlIGEgZHJhZ2dhYmxlIHRoYXQgdXNlcyBIVE1MNSBlbGVtZW50cyBvdXQgb2YgYW4gYWxyZWFkeSBleGlzdGluZ1xuICogZWxlbWVudFxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjUuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBFeGlzdGluZ0hUTUw1RHJhZ2dhYmxlIGV4dGVuZHMgaHRtbDVEcmFnZ2FibGVfMS5IVE1MNURyYWdnYWJsZSB7XG4gICAgLyoqXG4gICAgICogRXhpc3RpbmdIVE1MNURyYWdnYWJsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBUdXJuIGFuIGV4aXN0aW5nIGVsZW1lbnQgaW50byBhIGRyYWdnYWJsZSB0aGF0IHN1cHBvcnRzIEhUTUw1IGV2ZW50c1xuICAgICAqIEBwYXJhbSAgIGVsZW0gICAgICAgIFRoZSBlbGVtZW50IHRvIHVzZSBmb3IgdGhpcyBlbGVtZW50XG4gICAgICogQHBhcmFtICAgdGFyZ2V0ICAgICAgVGhlIHRhcmdldCBmb3IgdGhlIGVsZW1lbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbGVtLCB0YXJnZXQpIHtcbiAgICAgICAgc3VwZXIobnVsbCwgdGFyZ2V0KTtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZSA9IGVsZW07XG4gICAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIG92ZXJyaWRlRnVuY3Rpb25zKGhhbmRsZXJzKSB7XG4gICAgICAgIGlmIChoYW5kbGVycy5vbk1vdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX292ZXJyaWRlRnVuY3Rpb25zLm1vdmUgPSBoYW5kbGVycy5vbk1vdmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX29uTW92ZShldmVudCkge1xuICAgICAgICBzdXBlci5fb25Nb3ZlKGV2ZW50KTtcbiAgICAgICAgaWYgKCF0aGlzLl9vdmVycmlkZUZ1bmN0aW9ucy5tb3ZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRlbHRhID0gdGhpcy5fY2FsY3VsYXRlRGVsdGEoKTtcbiAgICAgICAgdGhpcy5fb3ZlcnJpZGVGdW5jdGlvbnMubW92ZShkZWx0YSk7XG4gICAgfVxufVxuZXhwb3J0cy5FeGlzdGluZ0hUTUw1RHJhZ2dhYmxlID0gRXhpc3RpbmdIVE1MNURyYWdnYWJsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZHJhZ2dhYmxlXzEgPSByZXF1aXJlKFwiLi9kcmFnZ2FibGVcIik7XG5jb25zdCBjc3NfMSA9IHJlcXVpcmUoXCIuLi9zdHlsZUhlbHBlcnMvY3NzXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBIVE1MNURyYWdnYWJsZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVXNlIEhUTUw1IGRyYWcgZXZlbnRzIHRvIGFsbG93IGZvciBkcmFnZ2luZ1xuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBIVE1MNURyYWdnYWJsZSBleHRlbmRzIGRyYWdnYWJsZV8xLkdlbmVyaWNEcmFnZ2FibGUge1xuICAgIC8qKlxuICAgICAqIF9jcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBcHBsaWVzIHRoZSBkcmFnZ2FibGUgYXR0cmlidXRlIHRvIHRoZSBhc3NvY2lhdGVkIGVsZW1lbnRzXG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLnNldEF0dHJpYnV0ZShcImRyYWdnYWJsZVwiLCBcInRydWVcIik7XG4gICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiZHJhZ2dhYmxlXCIpO1xuICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLl9lbGVtcy5ibGFuayA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIHR5cGU6IFwiY2FudmFzXCIsXG4gICAgICAgICAgICBhdHRyOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMXB4XCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAnMXB4XCInXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xzOiBcImJsYW5rXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IGRvY3VtZW50LmJvZHlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVEcmFnZ2FibGVUYXJnZXRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0YXJnZXQgZm9yIHRoaXMgZHJhZ2dhYmxlXG4gICAgICogQHBhcmFtICAgZWxlbSAgICBUaGUgZWxlbWVudCB0byBhc3NvY2lhdGUgd2l0aCB0aGUgdGFyZ2V0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBkcmFnZ2FibGUgdGFyZ2V0XG4gICAgICovXG4gICAgX2NyZWF0ZURyYWdnYWJsZVRhcmdldChlbGVtKSB7XG4gICAgICAgIHJldHVybiBuZXcgSFRNTDVEcmFnVGFyZ2V0KGVsZW0pO1xuICAgIH1cbiAgICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuYmFzZS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIChlKSA9PiB7IHRoaXMuX29uRHJhZ1N0YXJ0KGUpOyB9KTtcbiAgICAgICAgdGhpcy5iYXNlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWcnLCAoZSkgPT4geyB0aGlzLl9vbk1vdmUoZSk7IH0pO1xuICAgICAgICB0aGlzLmJhc2UuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdlbmRcIiwgKGUpID0+IHsgdGhpcy5fb25Ecm9wKGUpOyB9KTtcbiAgICB9XG4gICAgX29uRHJhZ1N0YXJ0KGV2ZW50KSB7XG4gICAgICAgIHN1cGVyLl9vbkRyYWdTdGFydChldmVudCk7XG4gICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UodGhpcy5fZWxlbXMuYmxhbmssIDAsIDApO1xuICAgICAgICAvLyB1cGRhdGUgdGhlIGVsZW1lbnQgdG8gYmUgbG93IG9wYWNpdHlcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJkcmFnZ2luZ1wiKTtcbiAgICAgICAgfSwgNTApO1xuICAgIH1cbiAgICBfb25Nb3ZlKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5idXR0b25zID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuX29uTW92ZShldmVudCk7XG4gICAgfVxuICAgIF9vbkRyb3AoZXZlbnQpIHtcbiAgICAgICAgc3VwZXIuX29uRHJvcChldmVudCk7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgc3R5bGUgb2YgdGhlIGVsZW1lbnRcbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJkcmFnZ2luZ1wiKTtcbiAgICB9XG59XG5leHBvcnRzLkhUTUw1RHJhZ2dhYmxlID0gSFRNTDVEcmFnZ2FibGU7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBIVE1MNURyYWdUYXJnZXRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFVzZSBIVE1MNSBkcmFnIGV2ZW50cyB0byBhbGxvdyBmb3JcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgSFRNTDVEcmFnVGFyZ2V0IGV4dGVuZHMgZHJhZ2dhYmxlXzEuRHJhZ2dhYmxlVGFyZ2V0IHtcbiAgICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuYmFzZS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgKGUpID0+IHsgdGhpcy5fb25EcmFnRW50ZXIoZSk7IH0pO1xuICAgICAgICB0aGlzLmJhc2UuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdleGl0XCIsIChlKSA9PiB7IHRoaXMuX29uRHJhZ0xlYXZlKGUpOyB9KTtcbiAgICAgICAgdGhpcy5iYXNlLmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIChlKSA9PiB7IHRoaXMuX29uRHJvcChlKTsgfSk7XG4gICAgfVxuICAgIF9vbkRyYWdFbnRlcihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBzdXBlci5fb25EcmFnRW50ZXIoZXZlbnQpO1xuICAgIH1cbiAgICBfb25Ecm9wKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHN1cGVyLl9vbkRyb3AoZXZlbnQpO1xuICAgIH1cbiAgICBfb25EcmFnTGVhdmUoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgc3VwZXIuX29uRHJhZ0xlYXZlKGV2ZW50KTtcbiAgICB9XG59XG5leHBvcnRzLkhUTUw1RHJhZ1RhcmdldCA9IEhUTUw1RHJhZ1RhcmdldDtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkcmF3YWJsZV8xID0gcmVxdWlyZShcIi4uL2RyYXdhYmxlL2RyYXdhYmxlXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG5jb25zdCBjc3NfMSA9IHJlcXVpcmUoXCIuLi9zdHlsZUhlbHBlcnMvY3NzXCIpO1xuY29uc3QgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9hc3luY1wiKTtcbmNvbnN0IHRyYW5zaXRpb25fMSA9IHJlcXVpcmUoXCIuLi9zdHlsZUhlbHBlcnMvdHJhbnNpdGlvblwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyBEeW5hbWljT3B0aW9uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGUgYW4gb3B0aW9uIGZvciBhIGR5bmFtaWMgc2VsZWN0IGZpZWxkXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIER5bmFtaWNPcHRpb24gZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLlxuICAgIC8qKlxuICAgICAqIER5bmFtaWNPcHRpb25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIHRoZSBkeW5hbWljIG9wdGlvblxuICAgICAqIEBwYXJhbSAgIG9wdCAgICAgRGV0YWlscyBvZiB0aGUgb3B0aW9uIHdlIGFyZSBjcmVhdGluZ1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdCwgcGFyZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2lkID0gb3B0LmlkO1xuICAgICAgICB0aGlzLl9kaXNwbGF5ID0gb3B0LmRpc3BsYXk7XG4gICAgICAgIHRoaXMuX3NlbGVjdFBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5fY3JlYXRlRWxlbWVudHMoKTtcbiAgICB9XG4gICAgZ2V0IGlkKCkgeyByZXR1cm4gdGhpcy5faWQ7IH1cbiAgICBnZXQgZGlzcGxheSgpIHsgcmV0dXJuIHRoaXMuX2Rpc3BsYXk7IH1cbiAgICBnZXQgaXNGaWx0ZXJlZCgpIHsgcmV0dXJuIHRoaXMuX2lzRmlsdGVyZWQ7IH1cbiAgICBnZXQgaXNTZWxlY3RlZCgpIHsgcmV0dXJuIHRoaXMuX2lzU2VsZWN0ZWQ7IH1cbiAgICAvLyNyZWdpb24gQ1JFQVRFIEVMRU1FTlRTXG4gICAgLyoqXG4gICAgICogX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBEZXRlcm1pbmUgaWYgd2Ugc2hvdWxkIGF2b2lkIGNyZWF0aW5nIGVsZW1lbnRzIGluIHRoZSBjb25zdHJ1Y3RvclxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgd2Ugc2hvdWxkIHNraXAgdGhlIGNyZWF0ZSBlbGVtZW50c1xuICAgICAqL1xuICAgIF9zaG91bGRTa2lwQ3JlYXRlRWxlbWVudHMoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUVsZW1lbnRzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSBlbGVtZW50cyBmb3IgdGhpcyBvcHRpb25cbiAgICAgKi9cbiAgICBfY3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zID0ge307XG4gICAgICAgIHRoaXMuX2lzRmlsdGVyZWQgPSB0cnVlO1xuICAgICAgICAvLyBjcmVhdGUgdGhlIGJhc2UgZWxlbWVudFxuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgaWQ6IFwib3B0fFwiICsgdGhpcy5faWQsXG4gICAgICAgICAgICBjbHM6IFwiZHluYW1pY09wdGlvbiBmaWx0ZXJlZFwiLFxuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lcnM6IHtcbiAgICAgICAgICAgICAgICBjbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNsaWNrIHByb2Nlc3NlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0UGFyZW50LnNlbGVjdCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjcmVhdGUgdGhlIHRleHQgZWxlbWVudFxuICAgICAgICB0aGlzLl9lbGVtcy50ZXh0ID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY29udGVudDogdGhpcy5fZGlzcGxheSxcbiAgICAgICAgICAgIGNsczogXCJvcHRUZXh0XCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLmJhc2VcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBJTlRFUkFDVElPTlxuICAgIC8qKlxuICAgICAqIHNlbGVjdFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBTZWxlY3QgdGhpcyBwYXJ0aWN1bGFyIGVsZW1lbnRcbiAgICAgKi9cbiAgICBzZWxlY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0ZpbHRlcmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogaGlsaXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhpbGl0ZSB0aGUgY3VycmVudCBzZWxlY3RlZCBlbGVtZW50XG4gICAgICovXG4gICAgaGlsaXRlKCkge1xuICAgICAgICBpZiAodGhpcy5faXNGaWx0ZXJlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiaGlsaXRlXCIpO1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1bmhpbGl0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiByZW1vdmUgaGlsaXRpbmcgb2YgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgZWxlbWVudFxuICAgICAqL1xuICAgIHVuaGlsaXRlKCkge1xuICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImhpbGl0ZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9maWx0ZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRmlsdGVyIG91dCB0aGlzIG9wdGlvbiBpZiBhcHByb3ByaWF0ZVxuICAgICAqL1xuICAgIF9maWx0ZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0ZpbHRlcmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNGaWx0ZXJlZCA9IHRydWU7XG4gICAgICAgIHRyYW5zaXRpb25fMS50cmFuc2l0aW9uKHRoaXMuX2VsZW1zLmJhc2UsIHsgbWF4SGVpZ2h0OiBcIjxoZWlnaHQ+XCIsIHBhZGRpbmc6IFwiNXB4XCIgfSwgeyBtYXhIZWlnaHQ6IFwiMFwiLCBwYWRkaW5nOiBcIjBcIiB9LCAyMDApLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJmaWx0ZXJlZFwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF91bmZpbHRlclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBSZW1vdmUgZmlsdGVyaW5nIGZvciB0aGlzIG9wdGlvbiBpZiBhcHByb3ByaWF0ZVxuICAgICAqL1xuICAgIF91bmZpbHRlcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0ZpbHRlcmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNGaWx0ZXJlZCA9IGZhbHNlO1xuICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImZpbHRlcmVkXCIpO1xuICAgICAgICB0cmFuc2l0aW9uXzEudHJhbnNpdGlvbih0aGlzLl9lbGVtcy5iYXNlLCB7IG1heEhlaWdodDogXCIwXCIsIHBhZGRpbmc6IFwiMFwiIH0sIHsgbWF4SGVpZ2h0OiBcIjxoZWlnaHQ+XCIsIHBhZGRpbmc6IFwiNXB4XCIgfSwgMjAwKS50aGVuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB0cnlGaWx0ZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQXN5bmNocm9ub3VzIGNhbGwgdG8gZW5zdXJlIHRoYXQgb3B0aW9ucyB0aGF0IGRvbid0IG1hdGNoIHRoZSBjdXJyZW50XG4gICAgICogc2VsZWN0IHN0cmluZyBhcmUgZmlsdGVyZWQgb3V0IG9mIHRoZSByZXN1bHRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICB3b3JkcyAgIFRoZSB3b3JkcyByZXF1aXJlZCBpbiBhIHJlbGV2YW50IHN0cmluZyBmb3IgdGhlIG9wdGlvblxuICAgICAqICAgICAgICAgICAgICAgICAgaW4gb3JkZXIgdG8gbm90IGZpbHRlclxuICAgICAqXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHdpbGwgcnVuIHRoZSBmaWx0ZXJpbmcgbG9naWNcbiAgICAgKi9cbiAgICB0cnlGaWx0ZXIod29yZHMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHdhaXQgdGlsIHRoZSBuZXh0IGZyYW1lIHJlbmRlclxuICAgICAgICAgICAgeWllbGQgYXN5bmNfMS5uZXh0UmVuZGVyKCk7XG4gICAgICAgICAgICBsZXQgd29yZDtcbiAgICAgICAgICAgIGxldCBub3RGb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGRpc3BsYXkgPSB0aGlzLl9kaXNwbGF5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBsZXQgaWQgPSB0aGlzLl9pZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSB3b3JkcyB0aGF0IHdlcmUgcGFzc2VkIGluIGFuZCBlbnN1cmUgYWxsIGFyZSB0aGVyZVxuICAgICAgICAgICAgZm9yICh3b3JkIG9mIHdvcmRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3BsYXkuaW5kZXhPZih3b3JkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkLmluZGV4T2Yod29yZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3RGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGEgd29yZCB3YXMgbWlzc2luZywgZmlsdGVyIHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgaWYgKG5vdEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsdGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91bmZpbHRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkR5bmFtaWNPcHRpb24gPSBEeW5hbWljT3B0aW9uO1xuLy8jZW5kcmVnaW9uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLlxuLy8uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBTVFlMRVNcbi8qKiB0cmFjayBzdHlsZXMgZm9yIHRoZSBvcHRpb24gZmllbGQgKi9cbkR5bmFtaWNPcHRpb24uX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi5keW5hbWljT3B0aW9uXCI6IHtcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiNXB4XCIsXG4gICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgXCImLmZpbHRlcmVkXCI6IHtcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6IFwiMFwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCImOmhvdmVyLCAmLmhpbGl0ZVwiOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNlZWVcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIGdlbmVyaWMgZnVuY3Rpb24gdG8gY2hlY2sgaWYgYW4gZWxlbWVudCBoYXMgYSBwYXJ0aWN1bGFyIGNsYXNzIG5hbWUgaW4gaXRzIGluaGVyaXRhbmNlIHRyZWUgKi9cbmZ1bmN0aW9uIGlzTmFtZWRDbGFzcyh0ZXN0LCBuYW1lKSB7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IHRlc3RfbmFtZTtcbiAgICB0ZXN0X25hbWUgPSB0ZXN0LnBhZGRlZENsYXNzTmFtZTtcbiAgICBpZiAoIXRlc3RfbmFtZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAodGVzdF9uYW1lLmluZGV4T2YobmFtZSkgIT09IC0xKTtcbn1cbmV4cG9ydHMuaXNOYW1lZENsYXNzID0gaXNOYW1lZENsYXNzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdEV2ZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBOZXcgaW5zdGFuY2Ugb2YgYSBwYXJ0aWN1bGFyIGV2ZW50IGRlZmluaXRpb25cbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgRXZlbnQge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLyoqXG4gICAgICogRXZlbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY3JlYXRlIGEgbmV3IEV2ZW50IHdpdGggdGhlIGFwcHJvcHJpYXRlIGNvbnRleHRcbiAgICAgKiBAcGFyYW1cdGNvbnRleHRcdFx0VGhlIGNvbnRleHQgdG8gYWRkIHRvIHRoZSBldmVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgfVxuICAgIGdldCBrZXkoKSB7IHJldHVybiB0aGlzLl9rZXk7IH1cbiAgICBnZXQgY29udGV4dCgpIHsgcmV0dXJuIHRoaXMuX2NvbnRleHQ7IH1cbn1cbmV4cG9ydHMuRXZlbnQgPSBFdmVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29sbGVjdGlvbl8xID0gcmVxdWlyZShcIi4uL2RhdGFTdHJ1Y3R1cmVzL2NvbGxlY3Rpb24vY29sbGVjdGlvblwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vZGF0YVN0cnVjdHVyZXMvY29sbGVjdGlvbi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IGNvbXBhcmFibGVfMSA9IHJlcXVpcmUoXCIuLi9jb21wYXJhYmxlL2NvbXBhcmFibGVcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdEV2ZW50RGVmaW5pdGlvblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRGVjbGFyZSB0aGUgZGVmaW5pdGlvbiBmb3IgYSBwYXJ0aWN1bGFyIGV2ZW50XG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4xXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIEV2ZW50RGVmaW5pdGlvbiB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvKipcbiAgICAgKiBFdmVudERlZmluaXRpb25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlcyBhIG5ldyBFdmVudFxuICAgICAqIEBwYXJhbSBcdGRldGFpbHMgXHRUaGUgc3BlY3MgZm9yIHRoaXMgcGFydGljdWxhciBldmVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGtleSwgbmFtZSkge1xuICAgICAgICAvKioga2VlcCB0cmFjayBvZiBob3cgbWFueSBsaXN0ZW5lcnMgd2UndmUgYWRkZWQgKi9cbiAgICAgICAgdGhpcy5fbnVtT2ZMaXN0ZW5lcnMgPSAwO1xuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fa2V5ID0ga2V5O1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSBuZXcgY29sbGVjdGlvbl8xLkNvbGxlY3Rpb24oX2ludGVyZmFjZXNfMS5Db2xsZWN0aW9uVHlwZUVudW0uUmVwbGFjZUR1cGxpY2F0ZUtleXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBhZGRMaXN0ZW5lclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBhZGQgYSBsaXN0ZW5lciB0byBvdXIgY29sbGVjdGlvbiAod2l0aCB0aGUgb3B0aW9uIHRvIHJlcGxhY2UgaWYgdXNpbmcgYSB1bmlxdWUga2V5KVxuICAgICAqXG4gICAgICogQHBhcmFtXHRsaXN0ZW5lckRhdGFcdFRoZSBsaXN0ZW5lciBmZWF0dXJlcyB0byBhZGRcbiAgICAgKlxuICAgICAqL1xuICAgIGFkZExpc3RlbmVyKGxpc3RlbmVyRGF0YSkge1xuICAgICAgICBsaXN0ZW5lckRhdGEudW5pcXVlSWQgPSBsaXN0ZW5lckRhdGEudW5pcXVlSWQgfHwgKHRoaXMuX2tleSArIHRoaXMuX251bU9mTGlzdGVuZXJzLnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMuYWRkKGxpc3RlbmVyRGF0YS51bmlxdWVJZCwgbGlzdGVuZXJEYXRhKTtcbiAgICAgICAgdGhpcy5fbnVtT2ZMaXN0ZW5lcnMgKz0gMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcmVtb3ZlRXZlbnRMaXN0ZW5lclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBhbGxvdyBhIGxpc3RlbmVyIHRvIGJlIHNraXBwZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0dW5pcXVlSWRcdFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgbGlzdGVuZXIgdG8gcmVtb3ZlXG4gICAgICpcbiAgICAgKi9cbiAgICByZW1vdmVFdmVudExpc3RlbmVyKHVuaXF1ZUlkKSB7XG4gICAgICAgIGlmICghdW5pcXVlSWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9saXN0ZW5lcnMucmVtb3ZlKHVuaXF1ZUlkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogbm90aWZ5TGlzdGVuZXJzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIExldCBsaXN0ZW5lcnMga25vdyB0aGF0IGFuIGV2ZW50IHRoYXQgdGhleSBjYXJlIGFib3V0IGhhcyBiZWVuIGZpcmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRjb250ZXh0IFx0VGhlIGNvbnRleHQgdG8gc2VuZCBhbG9uZyB3aXRoIHRoZSBldmVudFxuICAgICAqXG4gICAgICovXG4gICAgbm90aWZ5TGlzdGVuZXJzKGNvbnRleHQpIHtcbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBsaXN0ZW5lcnMgdG8gZmluZCBvbmUgdGhhdCBhcHBsaWVzIGZvciB0aGlzIGNvbnRleHRcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLm1hcCgoZWxlbSwga2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVsZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWVsZW0udGFyZ2V0IHx8IChjb21wYXJhYmxlXzEuZXF1YWxzKGVsZW0udGFyZ2V0LCBjb250ZXh0LmNvbnRleHQudGFyZ2V0KSkpIHtcbiAgICAgICAgICAgICAgICBlbGVtLmZ1bmMoY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuRXZlbnREZWZpbml0aW9uID0gRXZlbnREZWZpbml0aW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBldmVudERlZmluaXRpb25fMSA9IHJlcXVpcmUoXCIuL2V2ZW50RGVmaW5pdGlvblwiKTtcbmNvbnN0IGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9kYXRhU3RydWN0dXJlcy9jb2xsZWN0aW9uL2NvbGxlY3Rpb25cIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgXHRFdmVudEhhbmRsZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEhhbmRsZXMgYWxsIGV2ZW50cyB0aGF0IGFyZSByYWlzZWQgYnkgYW55IGFwcGxpY2F0aW9uc1xuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuNVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBFdmVudEhhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKioga2VlcCB0cmFjayBvZiBhbGwgdGhlIGV2ZW50cyB0aGF0IGFyZSByZWdpc3RlcmVkIHRvIHRoaXMgZXZlbnQgaGFuZGxlciAqL1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgY29sbGVjdGlvbl8xLkNvbGxlY3Rpb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY3JlYXRlRXZlbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY3JlYXRlIGEgbmV3IGV2ZW50IHdpdGggYSBwYXJ0dWxhciBrZXkgYW5kIG5hbWVcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0ZGV0YWlsc1x0XHRTcGVjcyBmb3IgdGhlIGV2ZW50IHdlIGFyZSBjcmVhdGluZ1xuICAgICAqXG4gICAgICogQHJldHVybnNcdFRydWUgaWYgYSBuZXcgZXZlbnQgd2FzIGNyZWF0ZWRcbiAgICAgKi9cbiAgICBjcmVhdGVFdmVudChrZXksIG5hbWUpIHtcbiAgICAgICAgbGV0IGV2dCA9IG5ldyBldmVudERlZmluaXRpb25fMS5FdmVudERlZmluaXRpb24oa2V5LCBuYW1lKTtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9ldmVudHMuYWRkKGtleSwgZXZ0KSAhPT0gLTEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBkaXNwYXRjaEV2ZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGhhbmRsZSBub3RpZnlpbmcgbGlzdGVuZXJzIGFib3V0IGFuIGV2ZW50IHRoYXQgb2NjdXJyZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0a2V5XHRcdFx0VGhlIGtleSB1c2VkIGJ5IHRoaXMgcGFydGljdWxhciBldmVudFxuICAgICAqIEBwYXJhbVx0Y29udGV4dFx0XHRUSGUgYWRkaXRpb25hbCBjb250ZXh0IHRvIHVzZSBmb3IgdGhlIGV2ZW50XG4gICAgICogKi9cbiAgICBkaXNwYXRjaEV2ZW50KGtleSwgZXZlbnQpIHtcbiAgICAgICAgbGV0IGV2dERlZiA9IHRoaXMuX2V2ZW50cy5nZXRWYWx1ZShldmVudC5rZXkpO1xuICAgICAgICBpZiAoIWV2dERlZikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGV2dERlZi5ub3RpZnlMaXN0ZW5lcnMoZXZlbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBhZGRFdmVudExpc3RlbmVyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHJlZ2lzdGVyIGFuIGFkZGl0aW9uYWwgbGlzdGVuZXIgd2l0aCBhIHBhcnRpY3VsYXIgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0a2V5XHRcdFx0XHRUaGUga2V5IHRvIHVzZSBmb3IgdGhlIGV2ZW50XG4gICAgICogQHBhcmFtXHRsaXN0ZW5lckRhdGFcdFRoZSBkYXRhIHRvIHVzZSBmb3IgdGhlIGxpc3RlbmVyIGJlaW5nIGFkZGVkXG4gICAgICovXG4gICAgYWRkRXZlbnRMaXN0ZW5lcihrZXksIGxpc3RlbmVyRGF0YSkge1xuICAgICAgICBsZXQgZXZ0ID0gdGhpcy5fZXZlbnRzLmdldFZhbHVlKGtleSk7XG4gICAgICAgIGlmICghZXZ0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gZW5zdXJlIHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgb2JqZWN0XG4gICAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXJEYXRhID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyRGF0YSA9IHsgZnVuYzogbGlzdGVuZXJEYXRhIH07XG4gICAgICAgIH1cbiAgICAgICAgZXZ0LmFkZExpc3RlbmVyKGxpc3RlbmVyRGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlbW92ZUV2ZW50TGlzdGVuZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogIHJlbW92ZSBhIHBhcnRpY3VsYXIgZXZlbnQgbGlzdGVuZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0dW5pcXVlSWRcdFRoZSB1bmlxdWUgSUQgZm9yIHRoaXMgbGlzdGVuZXJcbiAgICAgKiBAcGFyYW1cdGtleVx0XHRcdElmIHNwZWNpZmllZCwgdGhlIHBhcnRpY3VsYXIgZXZlbnQgdG8gcmVtb3ZlIGZyb21cbiAgICAgKi9cbiAgICByZW1vdmVFdmVudExpc3RlbmVyKHVuaXF1ZUlELCBrZXkpIHtcbiAgICAgICAgaWYgKCF1bmlxdWVJRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGl0J3Mgb25seSBhIHBhcnRpY3VsYXIgdHlwZSBvZiBldmVudCB0aGF0IGlzIGJlaW5nIHJlbW92ZWQsIGRvIHNvXG4gICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgIGxldCBldnQgPSB0aGlzLl9ldmVudHMuZ2V0VmFsdWUoa2V5KTtcbiAgICAgICAgICAgIGlmICghZXZ0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIodW5pcXVlSUQpO1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCByZW1vdmUgdGhpcyB1bmlxdWVJRCBmcm9tIGFsbCBldmVudHNcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cy5tYXAoKGV2dCkgPT4ge1xuICAgICAgICAgICAgICAgIGV2dC5yZW1vdmVFdmVudExpc3RlbmVyKHVuaXF1ZUlEKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5FdmVudEhhbmRsZXIgPSBFdmVudEhhbmRsZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZUVsZW1lbnRcIik7XG4vLyBDcmVhdGVUYWJsZVxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKipcbiAqIENyZWF0ZXMgYSB0YWJsZSB3aXRoIGEgc3BlY2lmaWVkIHNldCBvZiBjZWxsIGVsZW1lbnRzXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFibGVJRCAtIFRoZSB1bmlxdWUgaWRlbnRpZmllciB0byB1c2UgZm9yIHRoaXMgdGFibGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdGFibGVDbGFzc10gLSBUaGUgQ1NTIGNsYXNzIHRvIHVzZSBmb3IgdGhlIHRhYmxlXG4gKiBAcGFyYW0ge2FycmF5fSBlbGVtZW50cyAtIEEgMkQgYXJyYXkgb2YgdGhlIGluZGV4aW5nIG1ldGhvZCBbcm93XVtjb2x1bW5dIHRoYXQgY29udGFpbnMgdGhlIGNvbnRlbnRzIG9mIHRoZSBjZWxsIGF0IHRoaXMgcG9zaXRpb24gdGhhdCBzaG91bGQgYmUgY3JlYXRlZCB3aXRoaW4gdGhlIHRhYmxlLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgLSBDYW4gY29tZSBpbiB0aHJlZSBmb3JtczogYSBzdHJpbmcgb2YgcGxhaW4gY29udGVudCwgYW4gYWxyZWFkeSBjcmVhdGVkIGVsZW1lbnQsIG9yIGFuIG9iamVjdCBhcnJheSB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IFtlbGVtZW50c1tyXVtjXS5jcmVhdGVdIC0gQW4gb2JqZWN0IHRvIGJlIHBhc3NlZCBpbnRvIENyZWF0ZUVsZW1lbnQsIHRvIGdlbmVyYXRlIHRoZSBjb250ZW50IG9mIHRoZSBjZWxsXG4gKiBAcGFyYW0ge3N0cmluZ30gW2VsZW1lbnRzW3JdW2NdLmNvbnRlbnRdIC0gQSBzdHJpbmcgdG8gYmUgdXNlZCBhcyB0aGUgY29udGVudCBvZiB0aGUgY2VsbFxuICogQHBhcmFtIHtvYmplY3R9IFtlbGVtZW50c1tyXVtjXS5hdHRyXSAtIEFsbCBhZGRpdGlvbmFsIGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgY2VsbCAoY29sc3BhbiAmIHJvd3NwYW4sIGUuZy4pXG4gKlxuICogQHJldHVybnMge0hUTUxFbGVtZW50fSBUaGUgY3JlYXRlZCBIVE1MIHRhYmxlXG4gKlxuICogKi9cbmZ1bmN0aW9uIGNyZWF0ZVRhYmxlKHRhYmxlSUQsIHRhYmxlQ2xhc3MsIGVsZW1lbnRzLCByb3dOdW0sIGNvbE51bSkge1xuICAgIDtcbiAgICBsZXQgdGJsO1xuICAgIGxldCByb3c7XG4gICAgbGV0IGNlbGw7XG4gICAgbGV0IGVsZW07XG4gICAgbGV0IHJJZHg7XG4gICAgbGV0IGNJZHg7XG4gICAgLy8gU2V0IGEgcm93IG51bWJlclxuICAgIGlmICghcm93TnVtKSB7XG4gICAgICAgIHJvd051bSA9IChlbGVtZW50cyAmJiBlbGVtZW50cy5sZW5ndGgpIHx8IDA7XG4gICAgfVxuICAgIC8vIENyZWF0ZSB0aGUgdGFibGVcbiAgICB0YmwgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgIHR5cGU6IFwidGFibGVcIixcbiAgICAgICAgY2xzOiB0YWJsZUNsYXNzXG4gICAgfSk7XG4gICAgZm9yIChySWR4ID0gMDsgcklkeCA8IHJvd051bTsgcklkeCArPSAxKSB7XG4gICAgICAgIC8vIEdyYWIgdGhlIGNvbHVtbiBudW1iZXIgaWYgd2UgZG9uJ3QgaGF2ZSBpdFxuICAgICAgICBpZiAoIWNvbE51bSkge1xuICAgICAgICAgICAgY29sTnVtID0gZWxlbWVudHNbcklkeF0ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHJvdyA9IHRibC5pbnNlcnRSb3coLTEpO1xuICAgICAgICBmb3IgKGNJZHggPSAwOyBjSWR4IDwgY29sTnVtOyBjSWR4ICs9IDEpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGhvdyB0aGlzIGVsZW1lbnQgc2hvdWxkIGJlIGFkZGVkXG4gICAgICAgICAgICBlbGVtID0gZWxlbWVudHNbcklkeF1bY0lkeF07XG4gICAgICAgICAgICBjZWxsID0gcm93Lmluc2VydENlbGwoLTEpO1xuICAgICAgICAgICAgcHJvY2Vzc0NlbGxDb250ZW50cyhlbGVtLCBjZWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGJsO1xufVxuZXhwb3J0cy5jcmVhdGVUYWJsZSA9IGNyZWF0ZVRhYmxlO1xuLyoqXG4gKiBQcm9jZXNzZXMgZGF0YSB0aGF0IGNhbiBiZSB1c2VkIHRvIHBvcHVsYXRlIGEgdGFibGUgY2VsbFxuICogQHBhcmFtICB7YW55fSAgICAgICAgICAgICAgICAgIGRhdGEgVGhlIGRhdGEgdG8gcG9wdWxhdGUgdGhlIGNlbGwgd2l0aFxuICogQHBhcmFtICB7SFRNTFRhYmxlQ2VsbEVsZW1lbnR9IGNlbGwgVGhlIGNlbGwgdG8gcG9wdWxhdGVcbiAqIEByZXR1cm4ge0hUTUxUYWJsZUNlbGxFbGVtZW50fSAgICAgIFRoZSBjZWxsLCBuZXdseSBwb3B1bGF0ZWQgd2l0aCBjb250ZW50c1xuICovXG5mdW5jdGlvbiBwcm9jZXNzQ2VsbENvbnRlbnRzKGRhdGEsIGNlbGwpIHtcbiAgICA7XG4gICAgbGV0IGNvbnRlbnQ7XG4gICAgbGV0IGtleTtcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGNlbGw7XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBzaW1wbGUgc3RyaW5nLCBhbmQgaWYgc28sIHNldCBpdCB0byBiZSB0aGUgY2VsbCBjb250ZW50XG4gICAgaWYgKHR5cGVvZiBkYXRhID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBkYXRhO1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgY29udGVudCBpcyBhbiBIVE1MIGVsZW1lbnQsIGluIHdoaWNoIGNhc2UsIGFwcGVuZCBpdFxuICAgIH1cbiAgICBlbHNlIGlmIChkYXRhLmFwcGVuZENoaWxkKSB7XG4gICAgICAgIGNlbGwuYXBwZW5kQ2hpbGQoZGF0YSk7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBjb250ZW50IGlzIGEgY3VzdG9tIG9iamVjdCwgaW4gd2hpY2ggY2FzZSwgcGFyc2UgaXRcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChkYXRhLmNyZWF0ZSkge1xuICAgICAgICAgICAgY29udGVudCA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KGRhdGEuY3JlYXRlKTtcbiAgICAgICAgICAgIGNlbGwuYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjZWxsLmlubmVySFRNTCA9IGRhdGEuY29udGVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIG9uIG91ciBjdXN0b20gZWxlbWVudFxuICAgICAgICBmb3IgKGtleSBpbiBkYXRhLmF0dHIpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLmF0dHIuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKGtleSwgZGF0YS5hdHRyW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjZWxsO1xufVxuZXhwb3J0cy5wcm9jZXNzQ2VsbENvbnRlbnRzID0gcHJvY2Vzc0NlbGxDb250ZW50cztcbjtcbi8qKlxuICogQWRkcyBhIHJvdyB0byBhbiBIVE1MIHRhYmxlIGVsZW1lbnRcbiAqIEBwYXJhbSAge0hUTUxUYWJsZUVsZW1lbnR9IHRhYmxlICAgICAgVGhlIHRhYmxlIGVsZW1lbnQgdG8gYWRkIHRvXG4gKiBAcGFyYW0gIHthbnlbXX0gICAgICAgICAgICBbZWxlbWVudHNdIEFueSBlbGVtZW50cyB0aGF0IHNob3VsZCBiZSBpbmNjbHVkZWQgYXMgY2VsbHMgaW4gdGhpcyByb3dcbiAqIEBwYXJhbSAge251bWJlcn0gICAgICAgICAgIFtpZHhdICAgICAgVGhlIGluZGV4IGF0IHdoaWNoIHRoaXMgcm93IHNob3VsZCBiZSBhZGRlZFxuICogQHBhcmFtICB7bnVtYmVyfSAgICAgICAgICAgW2NvbE51bV0gICBUaGUgbnVtYmVyIG9mIGNvbHVtbnMgdGhhdCBzaG91bGQgYmUgYWRkZWQgdG8gdGhpcyByb3dcbiAqIEByZXR1cm4ge0hUTUxUYWJsZVJvd0VsZW1lbnR9ICAgICAgIFRoZSByb3cgdGhhdCB3YXMgY3JlYXRlZFxuICovXG5mdW5jdGlvbiBhZGRSb3codGFibGUsIGVsZW1lbnRzLCBpZHgsIGNvbE51bSkge1xuICAgIDtcbiAgICBsZXQgcm93O1xuICAgIGxldCBjZWxsO1xuICAgIGxldCBjSWR4O1xuICAgIGxldCBkYXRhO1xuICAgIGlmICghaWR4ICYmIChpZHggIT09IDApKSB7XG4gICAgICAgIGlkeCA9IC0xO1xuICAgIH1cbiAgICBpZiAoIWNvbE51bSAmJiBjb2xOdW0gIT09IDApIHtcbiAgICAgICAgY29sTnVtID0gZWxlbWVudHMubGVuZ3RoO1xuICAgIH1cbiAgICAvLyBRdWl0IGlmIHdlIGRvbid0IGhhdmUgYSB0YWJsZVxuICAgIGlmICghdGFibGUpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoIXRhYmxlLmluc2VydFJvdylcbiAgICAgICAgcmV0dXJuO1xuICAgIHJvdyA9IHRhYmxlLmluc2VydFJvdyhpZHgpO1xuICAgIC8vIExvb3AgdGhyb3VnaCBjb2x1bW5zIHRvIGFkZCBjZWxsc1xuICAgIGZvciAoY0lkeCA9IDA7IGNJZHggPCBjb2xOdW07IGNJZHggKz0gMSkge1xuICAgICAgICBjZWxsID0gcm93Lmluc2VydENlbGwoLTEpO1xuICAgICAgICBkYXRhID0gZWxlbWVudHNbY0lkeF0gfHwgXCJcIjtcbiAgICAgICAgcHJvY2Vzc0NlbGxDb250ZW50cyhkYXRhLCBjZWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIHJvdztcbn1cbmV4cG9ydHMuYWRkUm93ID0gYWRkUm93O1xuO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9fY29uc3RhbnRzXCIpO1xuY29uc3QgZHJhd2FibGVfMSA9IHJlcXVpcmUoXCIuLi9kcmF3YWJsZS9kcmF3YWJsZVwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IGZhbHNleV8xID0gcmVxdWlyZShcIi4uL3R5cGVHdWFyZHMvZmFsc2V5XCIpO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL2Nzc1wiKTtcbmNvbnN0IHJlY3RDb252ZXJzaW9uXzEgPSByZXF1aXJlKFwiLi4vbWF0aHMvcmVjdENvbnZlcnNpb25cIik7XG5jb25zdCBlbGVtZW50UG9zaXRpb25pbmdfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9lbGVtZW50UG9zaXRpb25pbmdcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBUb29sdGlwXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBSZW5kZXIgYSBkeW5hbWljIEhUTUwgdmVyc2lvbiBvZiBhIHRvb2x0aXAgZm9yIGFuIGVsZW1lbnRcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgVG9vbHRpcCBleHRlbmRzIGRyYXdhYmxlXzEuRHJhd2FibGUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSU5JVElBTElaRSBUSEUgVE9PTFRJUFxuICAgIC8qKlxuICAgICAqIFRvb2x0aXBcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlcyBhbiBIVE1MIHRvb2x0aXAgdG8gc2hvdyBmb3IgYSBwYXJ0aWN1bGFyIHNvdXJjZSBlbGVtZW50XG4gICAgICogQHBhcmFtICAgdGVtcGxhdGUgICAgICAgIFRoZSB0ZW1wbGF0ZSB0byB1c2UgdG8gY3JlYXRlIHRoZSB0b29sdGlwXG4gICAgICogQHBhcmFtICAgc291cmNlRWxlbSAgICAgIFRoZSBlbGVtZW50IHRvIGF0dGFjaCB0aGlzIHRvb2x0aXAgdG9cbiAgICAgKiBAcGFyYW0gICBvZmZzZXQgICAgICAgICAgQW55IG9mZnNldCB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoaXMgdG9vbHRpcFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlLCBzb3VyY2VFbGVtLCBvZmZzZXQpIHtcbiAgICAgICAgLy8gY3JlYXRlIHRoZSBlbGVtZW50c1xuICAgICAgICBpZiAoIXRlbXBsYXRlKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlLmNscyA9IFwidG9vbHRpcCBoaWRkZW5cIiArICh0ZW1wbGF0ZS5jbHMgPyBcIiBcIiArIHRlbXBsYXRlLmNscyA6IFwiXCIpO1xuICAgICAgICBzdXBlcih0ZW1wbGF0ZSk7XG4gICAgICAgIC8vIGFzc2lnbiB0aGUgb2Zmc2V0IHBvaW50XG4gICAgICAgIHRoaXMuX29mZnNldCA9IG9mZnNldCB8fCB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgLy8gaGFuZGxlIHRoZSBzb3VyY2UgZWxlbWVudCAod2hpY2ggYWxzbyBhc3NpZ25zIGxpc3RlbmVycyBhbmQgcG9zaXRpb25pbmcpXG4gICAgICAgIHRoaXMuc291cmNlRWxlbWVudCA9IHNvdXJjZUVsZW07XG4gICAgfVxuICAgIHNldCBzb3VyY2VFbGVtZW50KGVsZW0pIHtcbiAgICAgICAgdGhpcy5fc291cmNlRWxlbWVudCA9IGVsZW07XG4gICAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uQXBwcm9wcmlhdGVseSgpO1xuICAgICAgICB9LCAxMDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYWRkRXZlbnRMaXN0ZW5lcnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogTGlzdGVuIHRvIG1vdXNlIGV2ZW50cyBhYm91dCB0aGUgc291cmNlIGVsZW1lbnQgaW4gb3JkZXIgdG8gc2hvdyB0aGVcbiAgICAgKiB0b29sdGlwIGFzc29jaWF0ZWQgd2l0aCBpdFxuICAgICAqL1xuICAgIF9hZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zb3VyY2VFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIGxpc3RlbmVycyB0byB0aGUgc291cmNlIGVsZW1lbnRzXG4gICAgICAgIHRoaXMuX3NvdXJjZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWZhbHNleV8xLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXMuX2hpZGVUaW1lb3V0KSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5faGlkZVRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25BcHByb3ByaWF0ZWx5KCk7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuZHJhdyhkb2N1bWVudC5ib2R5KTsgfSwgMTAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3NvdXJjZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5fZWxlbXMuYmFzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2hpZGVUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4geyB0aGlzLmVyYXNlKCk7IH0sIDEwMCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBhZGQgbGlzdGVuZXJzIHRvIHRoZSB0b29sdGlwIGl0c2VsZlxuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZCh0aGlzLl9oaWRlVGltZW91dCkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX2hpZGVUaW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMuX3NvdXJjZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9oaWRlVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5lcmFzZSgpOyB9LCAxMDApO1xuICAgICAgICB9KTtcbiAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fc291cmNlRWxlbWVudCwgXCJ0b29sdGlwU291cmNlXCIpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB7IHRoaXMuX3Bvc2l0aW9uQXBwcm9wcmlhdGVseSgpOyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUVsZW1lbnRzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIChEb2VzIG5vdGhpbmcgYnkgZGVmYXVsdClcbiAgICAgKi9cbiAgICBfY3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIC8vIE5vdGhpbmcgdG8gZG8gaGVyZSBiZWNhdXNlIHdlIHVzZSB0aGUgdGVtcGxhdGUgaW4gdGhlIGNvbnN0cnVjdG9yXG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gUE9TSVRJT04gVEhFIFRPT0xUSVBcbiAgICAvKipcbiAgICAgKiBfcG9zaXRpb25BcHByb3ByaWF0ZWx5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIE1vdmUgdGhlIHRvb2x0aXAgdG8gdGhlIGFwcHJvcHJpYXRlIHBvc2l0aW9uIGZvciBpdHMgc291cmNlIGVsZW1lbnRcbiAgICAgKi9cbiAgICBfcG9zaXRpb25BcHByb3ByaWF0ZWx5KCkge1xuICAgICAgICBpZiAoIXRoaXMuX3NvdXJjZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBtZWFzdXJlIHRoZSBlbGVtZW50cyB3ZSBjYXJlIGFib3V0XG4gICAgICAgIHRoaXMuX3Rvb2x0aXBSZWN0ID0gcmVjdENvbnZlcnNpb25fMS5jbGllbnRSZWN0VG9CYXNpY1JlY3QoZWxlbWVudFBvc2l0aW9uaW5nXzEubWVhc3VyZUVsZW1lbnQodGhpcy5fZWxlbXMuYmFzZSkpO1xuICAgICAgICB0aGlzLl9zb3VyY2VSZWN0ID0gcmVjdENvbnZlcnNpb25fMS5jbGllbnRSZWN0VG9CYXNpY1JlY3QoZWxlbWVudFBvc2l0aW9uaW5nXzEubWVhc3VyZUVsZW1lbnQodGhpcy5fc291cmNlRWxlbWVudCkpO1xuICAgICAgICAvLyBsb29wIHRocm91Z2ggcG9zc2libGUgcG9zaXRpb25zXG4gICAgICAgIGxldCBmb3VuZFN1Y2Nlc3NmdWxQb3NpdGlvbjtcbiAgICAgICAgZm9yIChsZXQgaSA9IF9pbnRlcmZhY2VzXzEuVG9vbHRpcFBvc2l0aW9uVHlwZS5UT1A7IGkgPD0gX2ludGVyZmFjZXNfMS5Ub29sdGlwUG9zaXRpb25UeXBlLlJJR0hUOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGZvdW5kU3VjY2Vzc2Z1bFBvc2l0aW9uID0gdGhpcy5fYXNzaWduUG9zaXRpb24oaSk7XG4gICAgICAgICAgICBpZiAoZm91bmRTdWNjZXNzZnVsUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByZXNldCBvdXIgcmVjdHNcbiAgICAgICAgdGhpcy5fdG9vbHRpcFJlY3QgPSBudWxsO1xuICAgICAgICB0aGlzLl9zb3VyY2VSZWN0ID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2Fzc2lnblBvc2l0aW9uXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFRyeSB0byBhc3NpZ24gYSBwb3NpdGlvbiBmb3IgdGhlIHRvb2x0aXBcbiAgICAgKiBAcGFyYW0gICBwb3NpdGlvbiAgICBUaGUgcG9zaXRpb24gdG8gdHJ5XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSB0b29sdGlwIGZpdHMgYXQgdGhlIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgKi9cbiAgICBfYXNzaWduUG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICAgICAgbGV0IGZvdW5kU3VjY2Vzc2Z1bFBvc2l0aW9uID0gZmFsc2U7XG4gICAgICAgIGxldCByZWN0ID0ge1xuICAgICAgICAgICAgeDogdGhpcy5fc2V0WFBvc2l0aW9uKHBvc2l0aW9uKSxcbiAgICAgICAgICAgIHk6IHRoaXMuX3NldFlQb3NpdGlvbihwb3NpdGlvbiksXG4gICAgICAgICAgICB3OiB0aGlzLl90b29sdGlwUmVjdC53LFxuICAgICAgICAgICAgaDogdGhpcy5fdG9vbHRpcFJlY3QuaFxuICAgICAgICB9O1xuICAgICAgICAvLyBpZiB3ZSBjb3VsZG4ndCBmaW5kIG9uc2NyZWVuIHBvc2l0aW9ucywgd2UgbmVlZCB0byB0cnkgdGhlIG5leHQgY29uZmlnXG4gICAgICAgIGlmICgocmVjdC54ID09PSAtMSkgfHwgKHJlY3QueSA9PT0gLTEpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3RoZXJ3aXNlLCB3ZSBjYW4gYXNzaWduIHBvc2l0aW9ucyBiYXNlZCBvbiB0aGlzIHJlY3RcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5zdHlsZS5sZWZ0ID0gcmVjdC54ICsgXCJweFwiO1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLnN0eWxlLnRvcCA9IHJlY3QueSArIFwicHhcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zZXRZUG9zaXRpb25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRmluZHMgdGhlIGFwcHJvcHJpYXRlIFkgcG9zaXRpb24gZm9yIGFuIGVsZW1lbnQgZ2l2ZW4gdGhlIGN1cnJlbnQgcGxhY2VtZW50XG4gICAgICogQHBhcmFtICAgcG9zaXRpb24gICAgVGhlIGN1cnJlbnQgcGxhY2VtZW50IG9mIHRoZSB0b29sdGlwXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgeSBwb3NpdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhpcyBwbGFjZW1lbnRcbiAgICAgKi9cbiAgICBfc2V0WVBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5Ub29sdGlwUG9zaXRpb25UeXBlLlRPUDpcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMuX3NvdXJjZVJlY3QueSAtIHRoaXMuX3Rvb2x0aXBSZWN0LmggLSBfY29uc3RhbnRzXzEuVE9PTFRJUF9NQVJHSU4gKyB0aGlzLl9vZmZzZXQueSk7XG4gICAgICAgICAgICBjYXNlIF9pbnRlcmZhY2VzXzEuVG9vbHRpcFBvc2l0aW9uVHlwZS5CT1RUT006XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9zb3VyY2VSZWN0LnkgKyB0aGlzLl9zb3VyY2VSZWN0LmggKyBfY29uc3RhbnRzXzEuVE9PTFRJUF9NQVJHSU4gKyB0aGlzLl9vZmZzZXQueSk7XG4gICAgICAgICAgICBjYXNlIF9pbnRlcmZhY2VzXzEuVG9vbHRpcFBvc2l0aW9uVHlwZS5MRUZUOlxuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18xLlRvb2x0aXBQb3NpdGlvblR5cGUuUklHSFQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbGl6ZVkodGhpcy5fc291cmNlUmVjdC55LCB0aGlzLl90b29sdGlwUmVjdC5oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zZXRYUG9zaXRpb25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRmluZHMgdGhlIGFwcHJvcHJpYXRlIFggcG9zaXRpb24gZm9yIGFuIGVsZW1lbnQgZ2l2ZW4gdGhlIGN1cnJlbnQgcGxhY2VtZW50XG4gICAgICogQHBhcmFtICAgcG9zaXRpb24gICAgVGhlIGN1cnJlbnQgcGxhY2VtZW50IG9mIHRoZSB0b29sdGlwXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgeCBwb3NpdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhpcyBwbGFjZW1lbnRcbiAgICAgKi9cbiAgICBfc2V0WFBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5Ub29sdGlwUG9zaXRpb25UeXBlLlRPUDpcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5Ub29sdGlwUG9zaXRpb25UeXBlLkJPVFRPTTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbm9ybWFsaXplWCh0aGlzLl9zb3VyY2VSZWN0LngsIHRoaXMuX3Rvb2x0aXBSZWN0LncpO1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18xLlRvb2x0aXBQb3NpdGlvblR5cGUuTEVGVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMuX3NvdXJjZVJlY3QueCAtIHRoaXMuX3Rvb2x0aXBSZWN0LncgLSBfY29uc3RhbnRzXzEuVE9PTFRJUF9NQVJHSU4gKyB0aGlzLl9vZmZzZXQueCk7XG4gICAgICAgICAgICBjYXNlIF9pbnRlcmZhY2VzXzEuVG9vbHRpcFBvc2l0aW9uVHlwZS5SSUdIVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMuX3NvdXJjZVJlY3QueCArIHRoaXMuX3NvdXJjZVJlY3QudyArIF9jb25zdGFudHNfMS5UT09MVElQX01BUkdJTiArIHRoaXMuX29mZnNldC54KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIF9ub3JtYWxpemVYKHgsIHdpZHRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ub3JtYWxpemUoeCArIHRoaXMuX29mZnNldC54LCB3aWR0aCwgMCwgd2luZG93LmlubmVyV2lkdGgpO1xuICAgIH1cbiAgICBfbm9ybWFsaXplWSh5LCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbGl6ZSh5ICsgdGhpcy5fb2Zmc2V0LnksIGhlaWdodCwgMCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX25vcm1hbGl6ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBOb3JtYWxpemUgdGhlIHBhcnRpdWNsYXIgcG9zaXRpb24gdG8gYmUgd2l0aGluIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0gICBwb3MgICAgIFRoZSBwb3NpdGlvbiB0byBub3JtYWxpemVcbiAgICAgKiBAcGFyYW0gICBkaW0gICAgIFRoZSBkaW1lbnNpb24gdG8gY29tcGFyZSBhZ2FpbnN0XG4gICAgICogQHBhcmFtICAgbWluICAgICBUaGUgbWluaW11bSB2YWx1ZSB0aGF0IGlzIHN0aWxsIG9uIHNjcmVlblxuICAgICAqIEBwYXJhbSAgIG1heCAgICAgVGhlIG1heGltdW0gdmFsdWUgdGhhdCBpcyBzdGlsbCBvbiBzY3JlZW5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBub3JtYWxpemVkIHZhbHVlXG4gICAgICovXG4gICAgX25vcm1hbGl6ZShwb3MsIGRpbSwgbWluLCBtYXgpIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlJ3JlIG9uIHNjcmVlbiBmcm9tIHRoZSBtaW4tc2lkZVxuICAgICAgICBpZiAocG9zIDwgbWluKSB7XG4gICAgICAgICAgICBwb3MgPSBfY29uc3RhbnRzXzEuVE9PTFRJUF9NQVJHSU47XG4gICAgICAgIH1cbiAgICAgICAgLy8gYW5kIHRoZSBtYXhcbiAgICAgICAgaWYgKChwb3MgKyBkaW0pID4gbWF4KSB7XG4gICAgICAgICAgICBwb3MgPSBtYXggLSBkaW0gLSBfY29uc3RhbnRzXzEuVE9PTFRJUF9NQVJHSU47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIG1pbi1zaWRlIGlzIG5vdyBvZmYgc2NyZWVuLCB0aGlzIGlzbid0IGEgdmFsaWQgcG9zaXRpb25cbiAgICAgICAgaWYgKHBvcyA8IG1pbikge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIC8vIG90aGVyd2lzZSByZXR1cm4gdGhlIGFkanVzdGVkIHZhbHVlXG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBEUkFXIEFORCBFUkFTRVxuICAgIGRyYXcocGFyZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5fZWxlbXMuYmFzZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBzdXBlci5kcmF3KHBhcmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJoaWRkZW5cIik7XG4gICAgfVxuICAgIGVyYXNlKCkge1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImhpZGRlblwiKTtcbiAgICAgICAgLy9zZXRUaW1lb3V0KCgpID0+IHsgc3VwZXIuZXJhc2UoKTsgfSwgMTEwKTtcbiAgICB9XG59XG5leHBvcnRzLlRvb2x0aXAgPSBUb29sdGlwO1xuLy8jZW5kcmVnaW9uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBTVFlMRVNcblRvb2x0aXAuX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi50b29sdGlwXCI6IHtcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgbGVmdDogXCIwXCIsXG4gICAgICAgIHRvcDogXCIwXCIsXG4gICAgICAgIG1heFdpZHRoOiBcIjMwMHB4XCIsXG4gICAgICAgIHBhZGRpbmc6IFwiM3B4XCIsXG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgICAgIGJveFNoYWRvdzogXCIxcHggMXB4IDRweCAycHggcmdiYSgwLDAsMCwuMilcIixcbiAgICAgICAgb3BhY2l0eTogXCIxXCIsXG4gICAgICAgIHRyYW5zaXRpb246IFwiYWxsIDAuMXMgZWFzZS1pbi1vdXRcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNGRkZcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjNweFwiLFxuICAgICAgICBmb250U2l6ZTogXCIwLjhlbVwiLFxuICAgICAgICBsaW5lSGVpZ2h0OiBcIjEyMCVcIixcbiAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICBcIiYuaGlkZGVuXCI6IHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBcIjBcIixcbiAgICAgICAgICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBcIi50b29sdGlwU291cmNlXCI6IHtcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVE9PTFRJUF9NQVJHSU4gPSAyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVG9vbHRpcFBvc2l0aW9uVHlwZTtcbihmdW5jdGlvbiAoVG9vbHRpcFBvc2l0aW9uVHlwZSkge1xuICAgIFRvb2x0aXBQb3NpdGlvblR5cGVbVG9vbHRpcFBvc2l0aW9uVHlwZVtcIlRPUFwiXSA9IDBdID0gXCJUT1BcIjtcbiAgICBUb29sdGlwUG9zaXRpb25UeXBlW1Rvb2x0aXBQb3NpdGlvblR5cGVbXCJCT1RUT01cIl0gPSAxXSA9IFwiQk9UVE9NXCI7XG4gICAgVG9vbHRpcFBvc2l0aW9uVHlwZVtUb29sdGlwUG9zaXRpb25UeXBlW1wiTEVGVFwiXSA9IDJdID0gXCJMRUZUXCI7XG4gICAgVG9vbHRpcFBvc2l0aW9uVHlwZVtUb29sdGlwUG9zaXRpb25UeXBlW1wiUklHSFRcIl0gPSAzXSA9IFwiUklHSFRcIjtcbn0pKFRvb2x0aXBQb3NpdGlvblR5cGUgPSBleHBvcnRzLlRvb2x0aXBQb3NpdGlvblR5cGUgfHwgKGV4cG9ydHMuVG9vbHRpcFBvc2l0aW9uVHlwZSA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF90b2dnbGVCdXR0b25GaWVsZF8xID0gcmVxdWlyZShcIi4vX3RvZ2dsZUJ1dHRvbkZpZWxkXCIpO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG5jb25zdCBjc3NfMSA9IHJlcXVpcmUoXCIuLi8uLi9zdHlsZUhlbHBlcnMvY3NzXCIpO1xuY29uc3QgZGF0ZXNfMSA9IHJlcXVpcmUoXCIuLi8uLi9wcmltaXRpdmVIZWxwZXJzL2RhdGVzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgTXVsdGlTZWxlY3RCdXR0b25GaWVsZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogdG9nZ2xlIGJ1dHRvbnMgYXMgbXVsdGktc2VsZWN0IG9wdGlvbnNcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgTXVsdGlTZWxlY3RCdXR0b25GaWVsZCBleHRlbmRzIF90b2dnbGVCdXR0b25GaWVsZF8xLlRvZ2dsZUJ1dHRvbkZpZWxkIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8qKlxuICAgICAqIE11bHRpU2VsZWN0QnV0dG9uRWxlbVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIG11bHRpIHNlbGVjdCBmb3JtXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIHRlbXBsYXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaWQsIHRlbXBsYXRlKSB7XG4gICAgICAgIHN1cGVyKGlkLCB0ZW1wbGF0ZSk7XG4gICAgfVxuICAgIGdldCBfbXVsdGlTZWxlY3QoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgZ2V0IF9kZWZhdWx0VmFsdWUoKSB7IHJldHVybiBbXTsgfVxuICAgIC8qKlxuICAgICAqIF9wYXJzZUZpZWxkVGVtcGxhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQHBhcmFtIHRlbXBsYXRlXG4gICAgICovXG4gICAgX3BhcnNlRmllbGRUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAgICAgICBzdXBlci5fcGFyc2VGaWVsZFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRCdG5zID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIHVwZGF0ZShkYXRhLCBhbGxvd0V2ZW50cykge1xuICAgICAgICBpZiAoZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQoZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIC8vIG1hcCBhbGwgb2YgdGhlIGVsZW1lbnRzXG4gICAgICAgIGRhdGEubWFwKChlbGVtKSA9PiB7XG4gICAgICAgICAgICBsZXQgYnRuID0gdGhpcy5fZ2V0QnV0dG9uVG9VcGRhdGUoZWxlbSk7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RCdG4oYnRuLCBlbGVtKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zaG91bGRCZVNlbGVjdGVkXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSAgIGVsZW0gICAgVGhlIGVsZW1lbnQgdG8gcG90ZW50aWFsbHkgc2VsZWN0XG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiBhIHNwZWNpZmllZCBidXR0b24gc2hvdWxkIGJlIHNlbGVjdGVkXG4gICAgICovXG4gICAgX3Nob3VsZEJlU2VsZWN0ZWQoZWxlbSkge1xuICAgICAgICBsZXQgZElkeCA9IHRoaXMuX2luZGV4T2YoZWxlbS52YWx1ZSk7XG4gICAgICAgIHJldHVybiAoZElkeCAhPT0gLTEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlQ2xvbmVkRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gYXBwZW5kVG9JRFxuICAgICAqL1xuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNdWx0aVNlbGVjdEJ1dHRvbkZpZWxkKHRoaXMuaWQgKyBhcHBlbmRUb0lELCB0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3NlbGVjdEJ0blxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gYnRuXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICovXG4gICAgX3NlbGVjdEJ0bihidG4sIHZhbHVlKSB7XG4gICAgICAgIGlmICghYnRuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSBidXR0b24gd2FzIGFscmVhZHkgc2VsZWN0ZWRcbiAgICAgICAgbGV0IHNlbGVjdGVkSWR4ID0gdGhpcy5fc2VsZWN0ZWRCdG5zLmluZGV4T2YoYnRuKTtcbiAgICAgICAgbGV0IGRhdGFJZHggPSB0aGlzLl9pbmRleE9mKHZhbHVlKTtcbiAgICAgICAgaWYgKChkYXRhSWR4ICE9PSAtMSkgJiYgKHNlbGVjdGVkSWR4ID09PSAtMSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzZWxlY3RlZElkeCAhPSAtMSkge1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkSWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKGJ0biwgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RlZEJ0bnMuc3BsaWNlKHNlbGVjdGVkSWR4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhSWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEuc3BsaWNlKGRhdGFJZHgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgYnV0dG9uIHdhcyB1bnNlbGVjdGVkXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZGF0YS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkQnRucy5wdXNoKGJ0bik7XG4gICAgICAgICAgICBjc3NfMS5hZGRDbGFzcyhidG4sIFwic2VsZWN0ZWRcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX2luZGV4T2ZcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICogQHJldHVybnMgVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IGluIHRoZSBhcnJheSwgb3IgLTEgaWYgaXQgaXNuJ3QgZm91bmRcbiAgICAgKi9cbiAgICBfaW5kZXhPZih2YWx1ZSkge1xuICAgICAgICBsZXQgb3V0SWR4ID0gLTE7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHRoaXMuX2RhdGEubGVuZ3RoOyBpZHggKz0gMSkge1xuICAgICAgICAgICAgbGV0IGVsZW0gPSB0aGlzLl9kYXRhW2lkeF07XG4gICAgICAgICAgICBpZiAodGhpcy5fZXF1YWxUbyhlbGVtLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBvdXRJZHggPSBpZHg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dElkeDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2VxdWFsVG9cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGRhdGEgaW4gdGhpcyBlbGVtZW50IGlzIGVxdWl2YWxlbnQgdFxuICAgICAqIEBwYXJhbSBkYXRhQVxuICAgICAqIEBwYXJhbSBkYXRhQlxuICAgICAqL1xuICAgIF9lcXVhbFRvKGRhdGFBLCBkYXRhQikge1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiBkYXRhQSkge1xuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gKGRhdGFBID09PSBkYXRhQik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFBIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIChkYXRlc18xLnNob3J0RGF0ZShkYXRhQSkgPT09IGRhdGVzXzEuc2hvcnREYXRlKGRhdGFCKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChkYXRhQSA9PT0gZGF0YUIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25DbGVhclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgY2xlYXJpbmcgZGF0YSBmcm9tIHRoaXMgZWxlbWVudFxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9kYXRhID0gW107XG4gICAgICAgIC8vIHVuc2VsZWN0IGV2ZXJ5dGhpbmdcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gKHRoaXMuX3NlbGVjdGVkQnRucy5sZW5ndGggLSAxKTsgaWR4ID49IDA7IGlkeCAtPSAxKSB7XG4gICAgICAgICAgICBsZXQgZWxlbSA9IHRoaXMuX3NlbGVjdGVkQnRuc1tpZHhdO1xuICAgICAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3MoZWxlbSwgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkQnRucy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICA7XG4gICAgfVxufVxuZXhwb3J0cy5NdWx0aVNlbGVjdEJ1dHRvbkZpZWxkID0gTXVsdGlTZWxlY3RCdXR0b25GaWVsZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IGhlbHBlcnNfMSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzXCIpO1xuZnVuY3Rpb24gaXNBcnJheUNoaWxkRWxlbWVudChlbGVtKSB7XG4gICAgaWYgKCFlbGVtKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGhlbHBlcnNfMS5pc0ZpZWxkKGVsZW0pKSB7XG4gICAgICAgIHJldHVybiAoZWxlbS50eXBlID09PSBfaW50ZXJmYWNlc18xLkZpZWxkVHlwZUVudW0uQVJSQVlfQ0hJTEQpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmlzQXJyYXlDaGlsZEVsZW1lbnQgPSBpc0FycmF5Q2hpbGRFbGVtZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBfY29sbGFwc2libGVGaWVsZF8xID0gcmVxdWlyZShcIi4vX2NvbGxhcHNpYmxlRmllbGRcIik7XG5jb25zdCBfZmllbGRfMSA9IHJlcXVpcmUoXCIuLi9fZmllbGRcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IHNlY3Rpb25GaWVsZF8xID0gcmVxdWlyZShcIi4vc2VjdGlvbkZpZWxkXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMiA9IHJlcXVpcmUoXCIuL19pbnRlcmZhY2VzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgQXJyYXlDaGlsZEZpZWxkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBLZWVwIHRyYWNrIG9mIGEgY2hpbGQgb2YgYW4gYXJyYXkgaW4gdGhlIGZvcm1cbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjFcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQXJyYXlDaGlsZEZpZWxkIGV4dGVuZHMgc2VjdGlvbkZpZWxkXzEuU2VjdGlvbkZpZWxkIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENPTlNUUlVDVCBBTiBBUlJBWSBDSElMRCBFTEVNRU5UXG4gICAgLyoqIGNyZWF0ZSBhbiBlbGVtZW50IG9mIGFuIGFycmF5ICovXG4gICAgY29uc3RydWN0b3IoaWQsIGNoaWxkcmVuLCB0ZW1wbGF0ZSkge1xuICAgICAgICBzdXBlcihpZCA/IGlkLnRvU3RyaW5nKCkgOiBcIlwiLCB0ZW1wbGF0ZSB8fCB7fSwgY2hpbGRyZW4pO1xuICAgIH1cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBQUk9QRVJUSUVTXG4gICAgZ2V0IF90eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtLkFSUkFZX0NISUxEOyB9XG4gICAgZ2V0IF9kZWZhdWx0VmFsdWUoKSB7IHJldHVybiB7fTsgfVxuICAgIGdldCBfZGVmYXVsdENscygpIHsgcmV0dXJuIFwiYXJyYXlDaGlsZFwiOyB9XG4gICAgX2dldFVuY29sb3JlZFN0eWxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlVGhlbWVzKEFycmF5Q2hpbGRGaWVsZC5fdW5jb2xvcmVkU3R5bGVzLCBfY29sbGFwc2libGVGaWVsZF8xLkNvbGxhcHNpYmxlRmllbGQuX3VuY29sb3JlZFN0eWxlcywgX2ZpZWxkXzEuRmllbGQuX3VuY29sb3JlZFN0eWxlcyk7XG4gICAgfVxuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmFsbG93UmVvcmRlcmluZykge1xuICAgICAgICAgICAgdGhpcy5fZWxlbXMubmV4dEJ0biA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICBjbHM6IFwibmV4dCBraXBCdG5cIixcbiAgICAgICAgICAgICAgICBjb250ZW50OiBcIiYjeDI3NkY7XCIsXG4gICAgICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlLFxuICAgICAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7IHRoaXMuX2NoYW5nZU9yZGVyKF9pbnRlcmZhY2VzXzIuRGlyZWN0aW9uVHlwZS5GT1JXQVJEKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fZWxlbXMucHJldkJ0biA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICBjbHM6IFwicHJldiBraXBCdG5cIixcbiAgICAgICAgICAgICAgICBjb250ZW50OiBcIiYjeDI3NkU7XCIsXG4gICAgICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlLFxuICAgICAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7IHRoaXMuX2NoYW5nZU9yZGVyKF9pbnRlcmZhY2VzXzIuRGlyZWN0aW9uVHlwZS5CQUNLV0FSRCk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbGVtcy5jbG9zZUJ0biA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJjbG9zZSBraXBCdG5cIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiJiN4MjcxNTtcIixcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuYmFzZSxcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzOiB7XG4gICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsgdGhpcy5fZGVsZXRlKCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmNoaWxkcmVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJmb3JtQ2hpbGRyZW5cIiwgXCJcIiwgbnVsbCwgbnVsbCwgdGhpcy5fZWxlbXMuYmFzZSk7XG4gICAgfVxuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBcnJheUNoaWxkRmllbGQodGhpcy5faWQgKyBhcHBlbmRUb0lELCB0aGlzLl9jaGlsZHJlbik7XG4gICAgfVxuICAgIF9jbG9uZUZvcm1FbGVtZW50KGNoaWxkKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5fY2xvbmVGb3JtRWxlbWVudChjaGlsZCwgXCJ8XCIgKyB0aGlzLl9pZCk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEFORExFIERFTEVUSU9OXG4gICAgX2RlbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2VsZW1zLmJhc2UpO1xuICAgICAgICB0aGlzLl9kYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2hDaGFuZ2VFdmVudCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfdXBkYXRlSW50ZXJuYWxEYXRhXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGhhbmRsZSB1cGRhdGluZyBwYXJlbnQgZWxlbWVudHMgd2l0aCB0aGUgZGV0YWlscyBvZiB0aGlzIGNoaWxkXG4gICAgICovXG4gICAgX3VwZGF0ZUludGVybmFsRGF0YShpbnRlcm5hbE9ubHkpIHtcbiAgICAgICAgY29uc3QgX3N1cGVyID0gT2JqZWN0LmNyZWF0ZShudWxsLCB7XG4gICAgICAgICAgICBfdXBkYXRlSW50ZXJuYWxEYXRhOiB7IGdldDogKCkgPT4gc3VwZXIuX3VwZGF0ZUludGVybmFsRGF0YSB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gaWYgd2UgcHVycG9zZWZ1bGx5IHNldCB0aGUgZGF0YSB0byBudWxsLCBkb24ndCBnbyBmdXJ0aGVyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHJ1biB0aGUgc3RhbmRhcmQgdXBkYXRlIGZ1bmN0aW9uXG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLl91cGRhdGVJbnRlcm5hbERhdGEuY2FsbCh0aGlzLCBpbnRlcm5hbE9ubHkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBIQU5ETEUgT1JERVIgQ0hBTkdJTkdcbiAgICBhZGRPcmRlcmluZ0xpc3RlbmVyKG9yZGVyTGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fb3JkZXJsaXN0ZW5lciA9IG9yZGVyTGlzdGVuZXI7XG4gICAgfVxuICAgIF9jaGFuZ2VPcmRlcihkaXJlY3Rpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vcmRlcmxpc3RlbmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb3JkZXJsaXN0ZW5lci5vbkNoYW5nZU9yZGVyKHRoaXMsIGRpcmVjdGlvbik7XG4gICAgfVxufVxuZXhwb3J0cy5BcnJheUNoaWxkRmllbGQgPSBBcnJheUNoaWxkRmllbGQ7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuQXJyYXlDaGlsZEZpZWxkLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIua2lwRm9ybUVsZW0uYXJyYXkgLmZvcm1DaGlsZHJlbiAua2lwRm9ybUVsZW0uYXJyYXlDaGlsZFwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjRkZGXCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI1cHhcIixcbiAgICAgICAgYm94U2hhZG93OiBcIjFweCAxcHggNXB4IDJweCByZ2JhKDAsMCwwLC4xKVwiLFxuICAgICAgICBwYWRkaW5nOiBcIjE1cHhcIixcbiAgICAgICAgbWFyZ2luOiBcIjBcIixcbiAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICBcIi5tb2JpbGUubGFyZ2UgJlwiOiB7XG4gICAgICAgICAgICAgICAgbWF4V2lkdGg6IFwiY2FsYyg1MCUgLSAyMHB4KVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIubW9iaWxlICZcIjoge1xuICAgICAgICAgICAgICAgIG1heFdpZHRoOiBcImNhbGMoMTAwJSAtIDIwcHgpXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIi5hcnJheUNoaWxkXCI6IHtcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogXCIxMDAlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIi5mb3JtQ2hpbGRyZW5cIjoge1xuICAgICAgICAgICAgICAgIG1hcmdpbjogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjBcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLmtpcEJ0bjpub3QoLm5ldylcIjoge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCBlYXNlLWluLW91dCAuMlwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMnB4XCIsXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM1NTVcIixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBcIjAuNVwiLFxuICAgICAgICAgICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgICAgICAgICBcIiYuY2xvc2VcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBcIjJweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogXCJjYWxjKDEwMCUgLSAyNXB4KVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiJi5uZXh0LCAmLnByZXZcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiPGZvcm1UaGVtZT5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMjBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjIwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBcImNhbGMoNTAlIC0gOHB4KVwiLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIiYubmV4dFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBcImNhbGMoMTAwJSAtIDIwcHgpXCIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiJi5wcmV2XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIiY6aG92ZXJcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcInNjYWxlKDEuMSlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IFwiMC44XCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCIuZm9ybUNoaWxkcmVuID4gZGl2LmFycmF5Q2hpbGQ6Zmlyc3QtY2hpbGQgLnByZXYua2lwQnRuXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICB9LFxuICAgIFwiLmZvcm1DaGlsZHJlbiA+IGRpdi5hcnJheUNoaWxkOmxhc3QtY2hpbGQgLm5leHQua2lwQnRuXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9maWVsZF8xID0gcmVxdWlyZShcIi4uL19maWVsZFwiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi8uLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY29uc3QgaGVscGVyc18xID0gcmVxdWlyZShcIi4uL2hlbHBlcnNcIik7XG5jb25zdCBmYWxzZXlfMSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlR3VhcmRzL2ZhbHNleVwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vX2ludGVyZmFjZXNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgRmlsZVBhdGhGaWVsZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogaGFuZGxlIGEgZmlsZS11cGxvYWQgZmllbGQgdGhhdCBzdXBwb3J0cyBqdXN0IGEgZmlsZSBwYXRoXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4xXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIEZpbGVQYXRoRmllbGQgZXh0ZW5kcyBfZmllbGRfMS5GaWVsZCB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBQUk9QRVJUSUVTXG4gICAgLyoqIHNlbGVjdCB0aGUgYXBwcm9wcmlhdGUgdHlwZSBmb3IgdGhlIGZpbGUgcGF0aCB0eXBlICovXG4gICAgZ2V0IF90eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtLkZJTEVfUEFUSDsgfVxuICAgIC8qKiBzZXQgYSBkZWZhdWx0IGNsYXNzIGZvciBmaWxlLXBhdGggZWxlbWVudHMgKi9cbiAgICBnZXQgX2RlZmF1bHRDbHMoKSB7IHJldHVybiBcImZpbGVwYXRoXCI7IH1cbiAgICAvKiogc2V0IGEgZGVmYXVsdCB2YWx1ZSBmb3IgZmlsZS1wYXRoIGVsZW1lbnRzICovXG4gICAgZ2V0IF9kZWZhdWx0VmFsdWUoKSB7IHJldHVybiBcIlwiOyB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvKipcbiAgICAgKiBfcGFyc2VGaWVsZFRlbXBsYXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhhbmRsZSBjcmVhdGluZyB0aGlzIGVsZW1lbnQgb2ZmIG9mIGEgdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0gICB0ZW1wbGF0ZVxuICAgICAqL1xuICAgIF9wYXJzZUZpZWxkVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgc3VwZXIuX3BhcnNlRmllbGRUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICAgIHRoaXMuX29uU2F2ZUNhbGxiYWNrID0gdGVtcGxhdGUub25TYXZlO1xuICAgICAgICB0aGlzLl9hdHRyID0gdGVtcGxhdGUuYXR0cjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uQ3JlYXRlRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICovXG4gICAgX29uQ3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVN0YW5kYXJkTGFiZWwodGhpcy5fZWxlbXMuYmFzZSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmRpc3BsYXkgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlU2ltcGxlRWxlbWVudChcIlwiLCBcImRpc3BsYXlcIiwgdGhpcy5fZGF0YSwgbnVsbCwgbnVsbCwgdGhpcy5fZWxlbXMuYmFzZSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0Q29udGFpbmVyID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJmaWxlQ29udGFpbmVyXCIsIFwiXCIsIG51bGwsIG51bGwsIHRoaXMuX2VsZW1zLmJhc2UpO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dCA9IGhlbHBlcnNfMS5jcmVhdGVJbnB1dEVsZW1lbnQodGhpcy5faWQgKyBcInxpbnB1dFwiLCBcIlwiLCBcImZpbGVcIiwgXCJcIiwgbnVsbCwgbnVsbCwgdGhpcy5fZWxlbXMuaW5wdXRDb250YWluZXIpO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dExhYmVsID0gaGVscGVyc18xLmNyZWF0ZUxhYmVsRm9ySW5wdXQoXCJVcGxvYWQgRmlsZVwiLCB0aGlzLl9pZCArIFwifGlucHV0XCIsIFwiZmlsZXBhdGhcIiwgdGhpcy5fZWxlbXMuaW5wdXRDb250YWluZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25DaGFuZ2VcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogaGFuZGxlIHdoZW4gdGhlIGRhdGEgaW4gdGhpcyBlbGVtZW50IGNoYW5nZXNcbiAgICAgKi9cbiAgICBfZ2V0VmFsdWVGcm9tRmllbGQoKSB7XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZSBsaW5rIGlzIHRoZSBvbmUgdGhhdCBjaGFuZ2VkLCBhbmQgaWYgc28sIHVwZGF0ZSB0aGF0XG4gICAgICAgIGlmICghZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5fdGVtcExpbmspKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25MaW5rQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcXVpdCBpZiB3ZSBkb24ndCBoYXZlIGFueSBmaWxlcyB1cGxvYWRlZFxuICAgICAgICB0aGlzLl9maWxlcyA9IHRoaXMuX2VsZW1zLmlucHV0LmZpbGVzO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLl9maWxlcyk7XG4gICAgICAgIGlmICghdGhpcy5fZmlsZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRyZWF0IHRoZSBmaWxlIG5hbWUgYXMgdGhlIHZhbHVlIGZvciBub3dcbiAgICAgICAgLy8gd2Ugd2lsbCBzdG9yZSB0aGUgcmVhbCBwYXRoIGFzIHBhcnQgb2YgdGhlIHNhdmUgZnVuY3Rpb25cbiAgICAgICAgbGV0IHN0ciA9IHRoaXMuX2ZpbGVzWzBdLm5hbWU7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkxpbmtDaGFuZ2VcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICovXG4gICAgX29uTGlua0NoYW5nZSgpIHtcbiAgICAgICAgbGV0IG91dCA9IHRoaXMuX3RlbXBMaW5rO1xuICAgICAgICB0aGlzLl90ZW1wTGluayA9IG51bGw7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiB1cGRhdGUgdGhpcyBlbGVtZW50IHRvIGhhdmUgdGhlIGFwcHJvcHJpYXRlIGRhdGFcbiAgICAgKi9cbiAgICB1cGRhdGUoZGF0YSwgYWxsb3dFdmVudHMpIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuX2VsZW1zLmRpc3BsYXkuaW5uZXJIVE1MID0gZGF0YTtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQudmFsdWUgPSBcIlwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzYXZlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSAgIGludGVybmFsT25seSAgICBJZiB0cnVlLCB3ZSdyZSBvbmx5IHNhdmluZyB0byBvdXIgb3duIGRhdGEgZmllbGQsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIG5vdCBhbiBleHRlcm5hbCBjYWxsZXJzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgZmlsZSBwYXRoIHRoYXQgaXMgbm93IHNhdmVkXG4gICAgICovXG4gICAgc2F2ZShpbnRlcm5hbE9ubHkpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmIChpbnRlcm5hbE9ubHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IC8vIERvbid0IGRvIGFueXRoaW5nIGlmIHRoaXMgaXMgYW4gaW50ZXJuYWwgY2hhbmdlXG4gICAgICAgICAgICBpZiAodGhpcy5fZmlsZXMpIHsgLy8gTWFrZSBzdXJlIHRoYXQgaWYgd2UgaGF2ZSBmaWxlcywgd2UncmUgdXBsb2FkaW5nIHRoZW1cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX29uU2F2ZUNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgIH0gLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgd2UgZG9uJ3QgaGF2ZSBhIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YSA9IHlpZWxkIHRoaXMuX29uU2F2ZUNhbGxiYWNrKHRoaXMuX2ZpbGVzKTsgLy8gUnVuIG91ciBjYWxsYmFja1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7IC8vIFJldHVybiB0aGUgYXBwcm9wcmlhdGUgZGF0YVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUNsb25lZEVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRHVwbGljYXRlIHRoaXMgZm9ybSBlbGVtZW50IGFwcHJvcHJpYXRlbHlcbiAgICAgKi9cbiAgICBfY3JlYXRlQ2xvbmVkRWxlbWVudChhcHBlbmRUb0lEKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmlsZVBhdGhGaWVsZCh0aGlzLmlkICsgYXBwZW5kVG9JRCwgdGhpcyk7XG4gICAgfVxufVxuZXhwb3J0cy5GaWxlUGF0aEZpZWxkID0gRmlsZVBhdGhGaWVsZDtcbi8vLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG4vKiogc3R5bGUgZWxlbWVudHMgZm9yIHRoZSBmaWxlIHBhdGggKi9cbkZpbGVQYXRoRmllbGQuX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi5raXBGb3JtRWxlbS5maWxlcGF0aCBpbnB1dFt0eXBlPWZpbGVdXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtLmZpbGVwYXRoIGxhYmVsLmZpbGVwYXRoXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIjxmb3JtVGhlbWU+XCIsXG4gICAgICAgIGNvbG9yOiBcIiNGRkZcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjJweFwiLFxuICAgICAgICBib3hTaGFkb3c6IFwiMXB4IDFweCA1cHggMnB4IHJnYmEoMCwwLDAsLjEpXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMTBweFwiLFxuICAgICAgICBmb250U2l6ZTogXCIwLjdlbVwiLFxuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5maWxlcGF0aCAuZGlzcGxheVwiOiB7XG4gICAgICAgIGZvbnRTaXplOiBcIjAuNmVtXCIsXG4gICAgICAgIHdoaXRlU3BhY2U6IFwiYnJlYWtcIlxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHBvcHVwXzEgPSByZXF1aXJlKFwiLi9wb3B1cFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKTtcbmNsYXNzIFllc05vUG9wdXAgZXh0ZW5kcyBwb3B1cF8xLlBvcHVwIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgWWVzTm9Qb3B1cFxuICAgICAqIEBwYXJhbSAgIHByb21wdCAgV2hhdCB0byBhc2sgdGhlIHVzZXJcbiAgICAgKiBAcGFyYW0gICBvYmpcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb21wdCwgb25TZWxlY3Rpb24sIG9iaikge1xuICAgICAgICBzdXBlcihvYmopO1xuICAgICAgICB0aGlzLl9vblNlbGVjdGlvbiA9IG9uU2VsZWN0aW9uO1xuICAgICAgICB0aGlzLmFkZENvbnRlbnQoXCJcIiwgXCJcIiwgcHJvbXB0KTtcbiAgICAgICAgdGhpcy5fY3JlYXRlQnV0dG9ucygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlQnV0dG9uc1xuICAgICAqXG4gICAgICogQ3JlYXRlIHRoZSB5ZXMvbm8gYnV0dG9ucyBmb3IgdGhlIHBvcHVwXG4gICAgICpcbiAgICAgKi9cbiAgICBfY3JlYXRlQnV0dG9ucygpIHtcbiAgICAgICAgdGhpcy5fY3JlYXRlQnV0dG9uKFwiWWVzXCIsIF9pbnRlcmZhY2VzXzEuWWVzTm9FbnVtLllFUyk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUJ1dHRvbihcIk5vXCIsIF9pbnRlcmZhY2VzXzEuWWVzTm9FbnVtLk5PKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUJ1dHRvblxuICAgICAqXG4gICAgICogQ3JlYXRlIGEgYnV0dG9uIGluIHRoZSB5ZXMgLyBubyBmb3JtXG4gICAgICpcbiAgICAgKi9cbiAgICBfY3JlYXRlQnV0dG9uKGxhYmVsLCB2YWx1ZSkge1xuICAgICAgICBsZXQgY2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX29uU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fb25TZWxlY3Rpb24odmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5lcmFzZSgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZEJ1dHRvbihsYWJlbCwgY2FsbGJhY2spO1xuICAgIH1cbn1cbmV4cG9ydHMuWWVzTm9Qb3B1cCA9IFllc05vUG9wdXA7XG4vKipcbiAqIHNob3dZZXNOb0Zvcm1cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFNob3cgYSBwYXJ0aWN1bGFyIHllcyAtIG5vIHByb21wdFxuICpcbiAqIEBwYXJhbSAgIHByb21wdCAgVGhlIHRleHQgdG8gZGlzcGxheSBmb3IgdGhlIGZvcm1cbiAqXG4gKiBAcmV0dXJucyBUaGUgc2VsZWN0aW9uIG1hZGUgYnkgdGhlIHVzZXJcbiAqXG4gKi9cbmZ1bmN0aW9uIHNob3dZZXNOb0Zvcm0ocHJvbXB0LCBvblNlbGVjdCkge1xuICAgIGxldCBmb3JtID0gbmV3IFllc05vUG9wdXAocHJvbXB0LCBvblNlbGVjdCk7XG4gICAgZm9ybS5kcmF3KGRvY3VtZW50LmJvZHkpO1xufVxuZXhwb3J0cy5zaG93WWVzTm9Gb3JtID0gc2hvd1llc05vRm9ybTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuLi9faW50ZXJmYWNlc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyBOdW1iZXJGaWVsZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY3JlYXRlIGEgbnVtYmVyIGVsZW1lbnQgZm9yIGEgZm9ybVxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBOdW1iZXJGaWVsZCBleHRlbmRzIF9maWVsZF8xLkZpZWxkIHtcbiAgICBnZXQgX3R5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkZpZWxkVHlwZUVudW0uTlVNQkVSOyB9XG4gICAgZ2V0IF9kZWZhdWx0VmFsdWUoKSB7IHJldHVybiAwOyB9XG4gICAgZ2V0IF9kZWZhdWx0Q2xzKCkgeyByZXR1cm4gXCJudW1iZXJcIjsgfVxuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9jcmVhdGVTdGFuZGFyZExhYmVsZWRJbnB1dCgpO1xuICAgICAgICB0aGlzLl9oYW5kbGVTdGFuZGFyZExheW91dCgpO1xuICAgIH1cbiAgICBfZ2V0VmFsdWVGcm9tRmllbGQoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9ICt0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBfY3JlYXRlQ2xvbmVkRWxlbWVudChhcHBlbmRUb0lEKSB7XG4gICAgICAgIHJldHVybiBuZXcgTnVtYmVyRmllbGQodGhpcy5faWQgKyBhcHBlbmRUb0lELCB0aGlzKTtcbiAgICB9XG59XG5leHBvcnRzLk51bWJlckZpZWxkID0gTnVtYmVyRmllbGQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAY2xhc3NcdEhpc3RvcnlOb2RlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEtlZXAgdHJhY2sgb2YgYSBoaXN0b3J5IGV2ZW50XG4gICAgICogQGF1dGhvclx0S2lwIFByaWNlXG4gICAgICogQHZlcnNpb24gMS4wLjFcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICovXG5jbGFzcyBIaXN0b3J5Tm9kZSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvKipcbiAgICAgKiBIaXN0b3J5Tm9kZTxUPlxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIGhpc3Rvcnkgbm9kZVxuICAgICAqIEBwYXJhbSAgIGRhdGEgICAgV2hhdCB0byBzdG9yZSBpbiB0aGUgbm9kZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9XG59XG5leHBvcnRzLkhpc3RvcnlOb2RlID0gSGlzdG9yeU5vZGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi9wcmltaXRpdmVIZWxwZXJzL3N0cmluZ3NcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi9jcmVhdGVFbGVtZW50XCIpO1xuY29uc3Qgc3R5bGVzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL3N0eWxlc1wiKTtcbi8qKlxuICogY3JlYXRlU2ltcGxlTGFiZWxlZEVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhbiBlbGVtZW50IGFuZCBhbiBhc3NvY2lhdGVkIGxhYmVsXG4gKlxuICogQHBhcmFtICAgaWQgICAgICAgIElEIHRvIHVzZSBmb3IgdGhlIGxhYmVsZWQgZWxlbSBjb250YWluZXJcbiAqIEBwYXJhbSAgIGNscyAgICAgICBDU1MgY2xhc3MgdG8gdXNlIGZvciB0aGVcbiAqIEBwYXJhbSAgIGxibCAgICAgICBUZXh0IG9mIHRoZSBsYWJlbFxuICogQHBhcmFtICAgY29udGVudCAgIENvbnRlbnQgb2YgdGhlIGVsZW1lbnQgdGhhdCBpcyBiZWluZyBsYWJlbGVkXG4gKiBAcGFyYW0gICBjaGlsZHJlbiAgQW55IGFkZGl0aW9uYWwgY2hpbGQgZWxlbWVudHNcbiAqIEBwYXJhbSAgIHBhcmVudCAgICBUaGUgbm9kZSB0aGlzIGVsZW1lbnQgc2hvdWxkIGJlIGFkZGVkIHRvXG4gKiBAcGFyYW0gICBza2lwWmVybyAgVHJ1ZSBpZiB3ZSBzaG91bGQgbm90IGRyYXcgYW55dGhpbmcgaWYgdGhlIGNvbnRlbnQgaXMgMFxuICpcbiAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIGVsZW1lbnQgKyBsYWJlbFxuICpcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2ltcGxlTGFiZWxlZEVsZW1lbnQoaWQsIGNscywgbGJsLCBjb250ZW50LCBhdHRyLCBjaGlsZHJlbiwgcGFyZW50LCBza2lwWmVybykge1xuICAgIDtcbiAgICBsZXQgb2JqO1xuICAgIGxldCBjTGJsO1xuICAgIGxldCBjQ29udGVudDtcbiAgICBpZiAoY29udGVudCA9PT0gdW5kZWZpbmVkIHx8IGNvbnRlbnQgPT09IG51bGwpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoKHR5cGVvZiBjb250ZW50ID09PSB0eXBlb2YgXCJzdHJpbmdcIikgJiYgKHN0cmluZ3NfMS50cmltKGNvbnRlbnQpLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc2tpcFplcm8gJiYgY29udGVudCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIENyZWF0ZSB0aGUgd3JhcHBlclxuICAgIG9iaiA9IHt9O1xuICAgIG9iai5pZCA9IGlkO1xuICAgIG9iai50eXBlID0gXCJkaXZcIjtcbiAgICBvYmouY2xzID0gY2xzO1xuICAgIG9iai5hdHRyID0gYXR0cjtcbiAgICBvYmouY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICBvYmoucGFyZW50ID0gcGFyZW50O1xuICAgIC8vIENyZWF0ZSB0aGUgbGFiZWxcbiAgICBjTGJsID0ge1xuICAgICAgICBjbHM6IFwibGJsXCIsXG4gICAgICAgIGNvbnRlbnQ6IGxibCxcbiAgICAgICAgdHlwZTogXCJzcGFuXCJcbiAgICB9O1xuICAgIC8vIENyZWF0ZSB0aGUgY29udGVudFxuICAgIGNDb250ZW50ID0ge1xuICAgICAgICBjbHM6IFwiY29udGVudFwiLFxuICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICB0eXBlOiBcInNwYW5cIlxuICAgIH07XG4gICAgb2JqLmNoaWxkcmVuID0gW2NMYmwsIGNDb250ZW50XTtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQob2JqKTtcbn1cbmV4cG9ydHMuY3JlYXRlU2ltcGxlTGFiZWxlZEVsZW1lbnQgPSBjcmVhdGVTaW1wbGVMYWJlbGVkRWxlbWVudDtcbjtcbi8qKlxuICogY3JlYXRlTGFiZWxlZEVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhbiBlbGVtZW50IGFsb25nIHdpdGggYSBsYWJlbFxuICpcbiAqIEBwYXJhbSAgIGRhdGFFbGVtICAgIFNwZWNzIGJ5IHdoaWNoIHRoZSBkYXRhIGVsZW1lbnQgc2hvdWxkIGJlIGNyZWF0ZWRcbiAqIEBwYXJhbSAgIGxhYmVsRWxlbSAgIFNwZWNzIGJ5IHdoaWNoIHRoZSBsYWJlbCBlbGVtZW50IHNob3VsZCBiZSBjcmVhdGVkXG4gKlxuICogQHJldHVybnMgVGhlIGxhYmVsZWQgZWxlbWVudFxuICpcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTGFiZWxlZEVsZW1lbnQoZGF0YUVsZW0sIGxhYmVsRWxlbSkge1xuICAgIC8vIHF1aXQgaWYgdGhlIFxuICAgIGlmICghZGF0YUVsZW0gfHwgIWxhYmVsRWxlbSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGNyZWF0ZSB0aGUgYWN0dWFsIGVsZW1lbnRcbiAgICBsZXQgZGF0YSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KGRhdGFFbGVtKTtcbiAgICAvLyBjcmVhdGUgdGhlIGxhYmVsZWQgZWxlbWVudFxuICAgIGxhYmVsRWxlbS5jbHMgPSBzdHlsZXNfMS5idWlsZENsYXNzU3RyaW5nKGxhYmVsRWxlbS5jbHMsIFwibGJsXCIpO1xuICAgIGxldCBsYmwgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudChsYWJlbEVsZW0pO1xuICAgIC8vIGNyYWV0ZSB0aGUgd3JhcHBlciBlbGVtZW50XG4gICAgbGV0IGNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHsgY2xzOiBcIndyYXBwZXJcIiwgY2hpbGRyZW46IFtsYmwsIGRhdGFdIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGxibDogbGJsLFxuICAgICAgICB3cmFwcGVyOiBjb250YWluZXJcbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVMYWJlbGVkRWxlbWVudCA9IGNyZWF0ZUxhYmVsZWRFbGVtZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfbW9kZWxfMSA9IHJlcXVpcmUoXCIuLi9tb2RlbC9fbW9kZWxcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBTZXJpYWxpemFibGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZXMgYSBtb2RlbCB0aGF0IGNhbiBiZSB0dXJuZWQgaW50byBhIHN0cmluZ1xuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBTZXJpYWxpemFibGUgZXh0ZW5kcyBfbW9kZWxfMS5fTW9kZWwge1xuICAgIC8qKlxuICAgICAqIHNlcmlhbGl6ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBUdXJuIHRoaXMgbW9kZWwgaW50byBhIHNhdmFibGUgSlNPTiBzdHJpbmdcbiAgICAgKiBAcmV0dXJucyBUaGUgc3RyaW5nIHZlcnNpb24gb2YgdGhpcyBkYXRhXG4gICAgICovXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuc2F2ZURhdGEoKTtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB0b1N0cmluZ1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBPdmVycmlkZSB0byBhbGxvdyBmb3IgbmF0aXZlIGphdmFzY3JpcHQgc3RyaW5naWZpY2F0aW9uXG4gICAgICogQHJldHVybnMgU3RyaW5nIHZlcnNpb24gb2YgdGhpcyBkYXRhXG4gICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcmlhbGl6ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBkZXNlcmlhbGl6ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBUdXJucyBhIHN0cmluZyBpbnRvIGEgdmVyc2lvbiBvZiB0aGlzIG1vZGVsXG4gICAgICogQHBhcmFtICAgZGF0YSAgVGhlIHN0cmluZyB0byBkZXNlcmlhbGl6ZVxuICAgICAqXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB3ZSBjb3VsZCBkZXNlcmlhbGl6ZVxuICAgICAqL1xuICAgIGRlc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgIHRoaXMuX2NvcHlEYXRhKHBhcnNlZERhdGEpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJub24gSlNPTjogXCIgKyBkYXRhKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuU2VyaWFsaXphYmxlID0gU2VyaWFsaXphYmxlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vcHJpbWl0aXZlSGVscGVycy9zdHJpbmdzXCIpO1xuY29uc3QgbmF2aWdhdGVfMSA9IHJlcXVpcmUoXCIuLi9vYmplY3RIZWxwZXJzL25hdmlnYXRlXCIpO1xuY29uc3Qgc2ltcGxlR3VhcmRfMSA9IHJlcXVpcmUoXCIuLi90eXBlR3VhcmRzL3NpbXBsZUd1YXJkXCIpO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG5jb25zdCBfdHlwZWd1YXJkc18xID0gcmVxdWlyZShcIi4uL3N0cnVjdHMvX3R5cGVndWFyZHNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBNb2RlbFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogR2VuZXJpYyBjbGFzcyB0byBiZSBhYmxlIHRvIGVhc2lseSBjcmVhdGUgbW9kZWxzIHRoYXQgY2FuIHNhdmUgZG93biB0byBKU09OLlxuICpcbiAqIEJ5IGRlZmF1bHQsIGNhbiBjb3B5IG92ZXIgc2ltcGxlIGRhdGEgKHByaW1pdGl2ZXMsIGFycmF5cywgb2JqZWN0cykgZm9yIGJvdGhcbiAqIGxvYWRpbmcgYW5kIHNhdmluZy5cbiAqIElmIG1vcmUgY29tcGxleCBsb2dpYyBpcyBuZWVkZWQsIHN1cHBvcnRzIGZ1bmN0aW9ucyBvZiB0aGUgZm9ybWF0XG4gKiAgICAgIF9jb3B5W0NhbWVsQ2FzZVByb3BlcnR5TmFtZV0gOiBnZXQgZGF0YSBvdXQgb2YgSlNPTiBvbnRvIHRoZSBjbGFzc1xuICogICAgICBfc2F2ZVtDYW1lbENhc2VQcm9wZXJ0eU5hbWVdIDogc2F2ZSBkYXRhIGludG8gSlNPTiBmcm9tIHRoaXMgY2xhc3NcbiAqXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC41XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIF9Nb2RlbCB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDUkVBVEUgVEhFIE1PREVMXG4gICAgLyoqXG4gICAgICogTW9kZWxcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGEgbmV3IG1vZGVsIGZyb20gc3BlY2lmaWMgZGF0YVxuICAgICAqIEBwYXJhbSAgIGRhdGFUb0NvcHkgIElmIHByb3ZpZGVkLCB0aGUgSlNPTiBvZiB0aGlzIGRhdGEgdG8gY29weSBvdmVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZGF0YVRvQ29weSkge1xuICAgICAgICAvLyBpbml0aWFsaXplIHRoZSBsaXN0ZW5lcnMgZm9yIG91ciBwcm9wZXJ0aWVzXG4gICAgICAgIHRoaXMuX19wcm9wZXJ0eUxpc3RlbmVycyA9IHt9O1xuICAgICAgICB0aGlzLl9fbW9kZWxMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgLy8gQ29weSBkYXRhIG92ZXIgZnJvbSB0aGUgcGFzc2VkIGluIGludGVyZmFjZVxuICAgICAgICB0aGlzLl9zZXREZWZhdWx0VmFsdWVzKCk7XG4gICAgICAgIGlmIChkYXRhVG9Db3B5KSB7XG4gICAgICAgICAgICBpZiAoZGF0YVRvQ29weS5zYXZlRGF0YSkge1xuICAgICAgICAgICAgICAgIGRhdGFUb0NvcHkgPSBkYXRhVG9Db3B5LnNhdmVEYXRhKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jb3B5RGF0YShkYXRhVG9Db3B5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfc2V0RGVmYXVsdFZhbHVlc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBPdmVycmlkYWJsZSBmdW5jdGlvbiB0byBpbml0aWFsaXplIGFueSBkZWZhdWx0IGRhdGEgdGhhdCBpcyBuZWVkZWRcbiAgICAgKi9cbiAgICBfc2V0RGVmYXVsdFZhbHVlcygpIHsgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gTU9WRSBEQVRBIEZST00gT1RIRVIgRUxFTUVOVFxuICAgIC8qKlxuICAgICAqIF9jb3B5RGF0YVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDb3BpZXMgZGF0YSBmcm9tIGEgSlNPTiB2ZXJzaW9uIG9mIHRoaXMgbW9kZWxcbiAgICAgKiBAcGFyYW0gICBkYXRhICAgIFRoZSBkYXRhIHRvIHNhdmUgaW50byBvdXIgbW9kZWxcbiAgICAgKi9cbiAgICBfY29weURhdGEoZGF0YSkge1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcChkYXRhLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY29weVBpZWNlKGtleSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NvcHlQaWVjZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDb3B5IGEgcGFydGljdWxhciBwaWVjZSBvZiBkYXRhIGludG8gdGhpcyBjbGFzc1xuICAgICAqIEBwYXJhbSAgIGtleSAgICAgVGhlIGtleSB0byBjb3B5IG92ZXJcbiAgICAgKiBAcGFyYW0gICB2YWx1ZSAgIFRoZSB2YWx1ZSB0byBjb3B5IG92ZXJcbiAgICAgKi9cbiAgICBfY29weVBpZWNlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgbGV0IGNhcGl0YWxpemVkTmFtZSA9IChrZXlbMF0udG9VcHBlckNhc2UoKSArIHN0cmluZ3NfMS5yZXN0KGtleSwgMSkpO1xuICAgICAgICBsZXQgY29weUZ1bmNOYW1lID0gXCJfY29weVwiICsgY2FwaXRhbGl6ZWROYW1lO1xuICAgICAgICAvLyBkb24ndCBvdmVycmlkZSB2YWx1ZXMgZm9yIHVuZGVmaW5lZCBlbGVtZW50c1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYSBjdXN0b20gZnVuY3Rpb24gdG8gd3JpdGUgdGhpcyBkYXRhLCB1c2UgaXRcbiAgICAgICAgaWYgKHRoaXNbY29weUZ1bmNOYW1lXSkge1xuICAgICAgICAgICAgdGhpc1tjb3B5RnVuY05hbWVdKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICA7XG4gICAgICAgIC8vIGlmIG91ciBjdXJyZW50IHZhbHVlIGZvciB0aGlzIGZpZWxkIGNhbiBiZSB1cGRhdGVkLCBkbyB0aGF0IGluc3RlYWRcbiAgICAgICAgaWYgKF90eXBlZ3VhcmRzXzEuaXNVcGRhdGFibGUodGhpc1trZXldKSkge1xuICAgICAgICAgICAgdGhpc1trZXldLnVwZGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNhdmFibGVWYWx1ZTtcbiAgICAgICAgLy8gbWFrZSBzaGFsbG93IGNvcGllcyBvZiBhcnJheXMgYnkgZGVmYXVsdFxuICAgICAgICBpZiAoc2ltcGxlR3VhcmRfMS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgc2F2YWJsZVZhbHVlID0gKHZhbHVlLnNsaWNlKCkpO1xuICAgICAgICAgICAgLy8gc3RyaW5naWZ5IGFuZCBwYXJzZSBvYmplY3RzIGJ5IGRlZmF1bHRcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaW1wbGVHdWFyZF8xLmlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICAgICAgc2F2YWJsZVZhbHVlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgICAgICAgICAgLy8ganVzdCB1c2UgcHJpbWl0aXZlcyBhcyBpc1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2F2YWJsZVZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3RoZXJ3aXNlLCBqdXN0IHNldCBvdXIgaW50ZXJuYWwgcHJvcGVydHkgdG8gaGF2ZSB0aGlzIHZhbHVlXG4gICAgICAgIHRoaXMuX3NldFZhbHVlKGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY29weU1vZGVsQXJyYXlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXJyXG4gICAgICogQHBhcmFtIGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgX2NvcHlNb2RlbEFycmF5KGFyciwgY29uc3RydWN0b3IpIHtcbiAgICAgICAgbGV0IG91dCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBtIG9mIGFycikge1xuICAgICAgICAgICAgbGV0IG1vZGVsID0gbmV3IGNvbnN0cnVjdG9yKG0pO1xuICAgICAgICAgICAgb3V0LnB1c2gobW9kZWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jb3B5TW9kZWxEaWN0aW9uYXJ5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSBkaWN0XG4gICAgICogQHBhcmFtIGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgX2NvcHlNb2RlbERpY3Rpb25hcnkoZGljdCwgY29uc3RydWN0b3IpIHtcbiAgICAgICAgbGV0IG91dCA9IHt9O1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcChkaWN0LCAobSwga2V5KSA9PiB7XG4gICAgICAgICAgICBvdXRba2V5XSA9IG5ldyBjb25zdHJ1Y3RvcihtKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiB1cGRhdGUgdmFyaW91cyBlbGVtZW50cyBvZiB0aGUgbW9kZWwgdG8gbWF0Y2ggdGhlIHBhc3NlZCBpbiBkYXRhXG4gICAgICovXG4gICAgdXBkYXRlKG1vZGVsKSB7XG4gICAgICAgIHRoaXMuX2NvcHlEYXRhKG1vZGVsKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFNBVkUgREFUQVxuICAgIC8qKlxuICAgICAqIHNhdmVEYXRhXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEdldHMgZGF0YSBvdXQgb2YgdGhpcyBtb2RlbCBpbiBKU09OIGZvcm1hdFxuICAgICAqL1xuICAgIHNhdmVEYXRhKCkge1xuICAgICAgICBsZXQgb3V0ID0ge307XG4gICAgICAgIG5hdmlnYXRlXzEubWFwKHRoaXMsICh2YWwsIGtleSkgPT4ge1xuICAgICAgICAgICAgLy8gZG9uJ3QgdHJ5IHRvIGNvcHkgZnVuY3Rpb25zXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBmb3JtYXR0ZWQga2V5XG4gICAgICAgICAgICBsZXQgZm10S2V5ID0ga2V5O1xuICAgICAgICAgICAgaWYgKGZtdEtleVswXSA9PT0gXCJfXCIpIHtcbiAgICAgICAgICAgICAgICBmbXRLZXkgPSBzdHJpbmdzXzEucmVzdChmbXRLZXksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZtdEtleSA9PT0gXCJfbW9kZWxMaXN0ZW5lcnNcIikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmbXRLZXkgPT09IFwiX3Byb3BlcnR5TGlzdGVuZXJzXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzYXZlIHRoaXMgcGFydGljdWxhciBrZXktdmFsdWVcbiAgICAgICAgICAgIGxldCBvdXRWYWwgPSB0aGlzLl9zYXZlUGllY2UoZm10S2V5LCB2YWwpO1xuICAgICAgICAgICAgaWYgKCFmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChvdXRWYWwpKSB7XG4gICAgICAgICAgICAgICAgb3V0W2ZtdEtleV0gPSBvdXRWYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfc2F2ZVBpZWNlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFNhdmUgYSBwaWVjZSBvZiBkYXRhIHRvIG91ciBvdXQgYXJyYXkuIElmIHRoZSBkYXRhIGlzIGEgbW9kZWwgaXRzZWxmLCBjYWxsc1xuICAgICAqIFNhdmVEYXRhIHRvIHJldHJpZXZlIHRoZSBkYXRhIGZyb20gdGhhdCBtb2RlbC5cbiAgICAgKiBAcGFyYW0gICBrZXkgICAgIFRoZSBrZXkgdG8gc2F2ZSBkYXRhIGZvclxuICAgICAqIEBwYXJhbSAgIHZhbHVlICAgVGhlIHZhbHVlIG9mIHRoYXQga2V5XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgdmFsdWVcbiAgICAgKi9cbiAgICBfc2F2ZVBpZWNlKGtleSwgdmFsKSB7XG4gICAgICAgIGxldCBjYXBpdGFsaXplZE5hbWUgPSAoa2V5WzBdLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmdzXzEucmVzdChrZXksIDEpKTtcbiAgICAgICAgbGV0IHNhdmVGdW5jTmFtZSA9IFwiX3NhdmVcIiArIGNhcGl0YWxpemVkTmFtZTtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBjdXN0b20gZnVuY3Rpb24gdG8gc2F2ZSB0aGlzIHBhcnRpY3VsYXIgZGF0YSBlbGVtZW50LCB1c2UgdGhhdFxuICAgICAgICBpZiAodGhpc1tzYXZlRnVuY05hbWVdKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1tzYXZlRnVuY05hbWVdKCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByaXZhdGVOYW1lID0gXCJfXCIgKyBrZXk7XG4gICAgICAgIGxldCBkYXRhID0gdmFsIHx8IHRoaXNbcHJpdmF0ZU5hbWVdO1xuICAgICAgICAvLyBkZXRlcm1pbmUgaWYgdGhpcyBpcyBhbiBhcnJheSBvZiBlbGVtZW50cywgYW5kIGlmIHNvLCBjaGVjayBpZiB0aGV5IGhhdmUgdGhlIGFiaWxpdHkgdG8gc2F2ZSB0aGVtc2VsdmVzXG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lclNhdmVQaWVjZShkYXRhKTtcbiAgICB9XG4gICAgX2lubmVyU2F2ZVBpZWNlKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NhdmVBcnJheShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhICYmIGRhdGEuc2F2ZURhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zYXZlTW9kZWwoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zYXZlT2JqZWN0KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NhdmVTaW1wbGUoZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3NhdmVBcnJheShkYXRhKSB7XG4gICAgICAgIGxldCBvdXRBcnIgPSBbXTtcbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGVhY2ggZWxlbWVudCB0byBzYXZlIGFwcHJvcHJpYXRlbHlcbiAgICAgICAgZm9yIChsZXQgZWxlbSBvZiBkYXRhKSB7XG4gICAgICAgICAgICBvdXRBcnIucHVzaCh0aGlzLl9pbm5lclNhdmVQaWVjZShlbGVtKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dEFycjtcbiAgICB9XG4gICAgX3NhdmVNb2RlbChkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhLnNhdmVEYXRhKCk7XG4gICAgfVxuICAgIF9zYXZlT2JqZWN0KGRhdGEpIHtcbiAgICAgICAgbGV0IG91dCA9IHt9O1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcChkYXRhLCAoZWxlbSwga2V5KSA9PiB7XG4gICAgICAgICAgICBvdXRba2V5XSA9IHRoaXMuX2lubmVyU2F2ZVBpZWNlKGVsZW0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgX3NhdmVTaW1wbGUoZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIE1BTkFHRSBMSVNURU5FUlNcbiAgICAvKipcbiAgICAgKiBfc2V0VmFsdWVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIZWxwZXIgdG8gdXBkYXRlIGEgdmFsdWUgaW4gdGhpcyBtb2RlbCAmIG5vdGlmeSBsaXN0ZW5lcnMgYWJvdXQgdGhlIGNoYW5nZVxuICAgICAqL1xuICAgIF9zZXRWYWx1ZShrZXksIHZhbHVlKSB7XG4gICAgICAgIGxldCBwcml2YXRlTmFtZSA9IFwiX1wiICsga2V5O1xuICAgICAgICBsZXQgY3VycmVudFZhbHVlID0gdGhpc1twcml2YXRlTmFtZV07XG4gICAgICAgIHRoaXNbcHJpdmF0ZU5hbWVdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX25vdGlmeUxpc3RlbmVycyhrZXksIGN1cnJlbnRWYWx1ZSwgdmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfbm90aWZ5TGlzdGVuZXJzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogTGV0IGFueSBzdWJzY3JpYmVycyB0byB0aGlzIG1vZGVsIGtub3cgdGhhdCBzb21lIGNoYW5nZXMgaGF2ZSBvY2N1cnJlZFxuICAgICAqIEBwYXJhbSAgIGtleSAgICAgVGhlIGtleSB0aGF0IGNoYW5nZWQgaW4gdGhlIG1vZGVsXG4gICAgICogQHBhcmFtICAgb2xkVmFsICBUaGUgcHJldmlvdXMgdmVyc2lvbiBvZiB0aGlzIGtleSdzIHZhbHVlXG4gICAgICogQHBhcmFtICAgbmV3VmFsICBUaGUgbmV3IHZlcnNpb24gb2YgdGhpcyBrZXkncyB2YWx1ZVxuICAgICAqL1xuICAgIF9ub3RpZnlMaXN0ZW5lcnMoa2V5LCBvbGRWYWwsIG5ld1ZhbCkge1xuICAgICAgICB0aGlzLl9ub3RpZnlNb2RlbExpc3RlbmVycyhrZXksIG9sZFZhbCwgbmV3VmFsKTtcbiAgICAgICAgdGhpcy5fbm90aWZ5UHJvcGVydHlMaXN0ZW5lcnMoa2V5LCBvbGRWYWwsIG5ld1ZhbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9ub3RpZnlNb2RlbExpc3RlbmVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBMZXQgYW55IGxpc3RlbmVycyB0aGF0IGNhcmUgYWJvdXQgYW55IGNoYW5nZSB0byB0aGUgbW9kZWwga25vdyB0aGF0IHRoaXNcbiAgICAgKiBwYXJ0aWN1bGFyIGtleSBoYXMgY2hhbmdlZCB0byB0aGlzIHBhcnRpY3VsYXIgdmFsdWVcbiAgICAgKi9cbiAgICBfbm90aWZ5TW9kZWxMaXN0ZW5lcnMoa2V5LCBvbGRWYWwsIG5ld1ZhbCkge1xuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5fX21vZGVsTGlzdGVuZXJzO1xuICAgICAgICBpZiAoIWxpc3RlbmVycyB8fCBsaXN0ZW5lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgbGlzdGVuZXIgb2YgbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBpZiAoIWxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0ZW5lcihrZXksIG5ld1ZhbCwgb2xkVmFsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfbm90aWZ5UHJvcGVydHlMaXN0ZXJuZXJzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIExldCBhbnkgbGlzdGVuZXJzIHRoYXQgY2FyZSBhYm91dCB0aGlzIHBhcnRpY3VsYXIgcHJvcGVydHkga25vdyB0aGF0IGl0IGhhc1xuICAgICAqIGNoYW5nZWRcbiAgICAgKi9cbiAgICBfbm90aWZ5UHJvcGVydHlMaXN0ZW5lcnMoa2V5LCBvbGRWYWwsIG5ld1ZhbCkge1xuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5fX3Byb3BlcnR5TGlzdGVuZXJzW2tleV07XG4gICAgICAgIGlmICghbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm90aWZ5IGFsbCByZWdpc3RlcmVkIGxpc3RlbmVyc1xuICAgICAgICBmb3IgKGxldCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbCwgb2xkVmFsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiByZWdpc3Rlckxpc3RlbmVyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQHBhcmFtIGtleVxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqIEBwYXJhbSB1bmlxdWVLZXlcbiAgICAgKi9cbiAgICByZWdpc3RlclByb3BlcnR5TGlzdGVuZXIoa2V5LCBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIXRoaXMuX19wcm9wZXJ0eUxpc3RlbmVyc1trZXldKSB7XG4gICAgICAgICAgICB0aGlzLl9fcHJvcGVydHlMaXN0ZW5lcnNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19wcm9wZXJ0eUxpc3RlbmVyc1trZXldLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiByZWdpc3Rlck1vZGVsTGlzdGVuZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogcmVnaXN0ZXIgYSBsaXN0ZW5lciBmb3IgYW55IGNoYW5nZSB0aGF0IG9jY3VycyBpbiB0aGlzIG1vZGVsXG4gICAgICovXG4gICAgcmVnaXN0ZXJNb2RlbExpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICghbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiB1bnJlZ2lzdGVyTGlzdGVuZXJzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGRlbGV0ZSBhbnkgbGlzdGVuZXJzIGF0dGFjaGVkIHRvIHRoaXMgbW9kZWwgKGFsbG93cyBmb3IgR0MpXG4gICAgICovXG4gICAgdW5yZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fX3Byb3BlcnR5TGlzdGVuZXJzID0ge307XG4gICAgICAgIHRoaXMuX19tb2RlbExpc3RlbmVycyA9IFtdO1xuICAgIH1cbn1cbmV4cG9ydHMuX01vZGVsID0gX01vZGVsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBuYXZpZ2F0ZV8xID0gcmVxdWlyZShcIi4uL29iamVjdEhlbHBlcnMvbmF2aWdhdGVcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdERhdGFNYWFuYWdlclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogZ2VuZXJpYyBtYW5hZ2VyIGZvciBhbnkgZWxlbWVudCB0aGF0IGhhcyBhbiBJRFxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgRGF0YU1hbmFnZXIge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ1JFQVRFIFRIRSBNQU5BR0VSXG4gICAgLyoqXG4gICAgICogRGF0YU1hbmFnZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogZ2VuZXJhdGUgYSBuZXcgZGF0YSBtYW5hZ2VyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5fcG9wdWxhdGVXaXRoRGVmYXVsdERhdGEoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3BvcHVsYXRlV2l0aERlZmF1bHREYXRhXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIHRoYXQgY2FuIGFzc2lnbiBkZWZhdWx0IGRhdGEgdG8gdGhpcyBtYW5hZ2VyXG4gICAgICovXG4gICAgX3BvcHVsYXRlV2l0aERlZmF1bHREYXRhKCkgeyB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUFuZEFkZERlZmF1bHRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogYWRkIGEgZ2VuZXJpYyBkZWZhdWx0IHRvIHRoaXMgbWFuYWdlclxuICAgICAqL1xuICAgIF9jcmVhdGVBbmRBZGREZWZhdWx0KGRhdGEpIHtcbiAgICAgICAgdGhpcy5hZGQoZGF0YSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQUREIEFORCBSRU1PVkUgREFUQVxuICAgIC8qKlxuICAgICAqIGFkZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBhZGQgYSBuZXcgZWxlbWVudCB0byB0aGlzIG1hbmFnZXJcbiAgICAgKi9cbiAgICBhZGQoZGF0dW0pIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGFpbnMoZGF0dW0uaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGF0YVtkYXR1bS5pZF0gPSBkYXR1bTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlbW92ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiByZW1vdmUgYW4gZWxlbWVudCBmcm9tIHRoaXMgbWFuYWdlclxuICAgICAqL1xuICAgIHJlbW92ZShpZCkge1xuICAgICAgICBpZiAoIXRoaXMuY29udGFpbnMoaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3V0ID0gdGhpcy5nZXQoaWQpO1xuICAgICAgICBkZWxldGUgdGhpcy5fZGF0YVtpZF07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNvbnRhaW5zXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHRlc3QgaWYgYSBwYXJ0aWN1bGFyIGVsZW1lbnQgaXMgcHJlc2VudCBpbiB0aGUgbWFuYWdlclxuICAgICAqL1xuICAgIGNvbnRhaW5zKGlkKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RhdGFbaWRdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjbGVhclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjbGVhciBvdXQgYWxsIGVsZW1lbnRzIGluIHRoZSBtYW5hZ2VyXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBSRVRSSUVWRSBEQVRBICAgICBcbiAgICAvKipcbiAgICAgKiBnZXRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogZ2V0IHRoZSBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBJRFxuICAgICAqL1xuICAgIGdldChpZCkge1xuICAgICAgICBpZiAoIXRoaXMuY29udGFpbnMoaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtpZF07XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBTVEFOREFSRCBDT0xMRUNUSU9OIEZPUk1cbiAgICAvKipcbiAgICAgKiB0b0FycmF5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGdldCB0aGUgZGF0YSBjb250YWluZWQgd2l0aGluIHRoaXMgbWFuYWdlciBhcyBhbiBhcnJheVxuICAgICAqL1xuICAgIHRvQXJyYXkoKSB7XG4gICAgICAgIGxldCBvdXQgPSBbXTtcbiAgICAgICAgbmF2aWdhdGVfMS5tYXAodGhpcy5fZGF0YSwgKGVsZW0pID0+IHtcbiAgICAgICAgICAgIG91dC5wdXNoKGVsZW0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdG9EaWN0aW9uYXJ5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGdldCB0aGUgZGF0YSBjb250YWluZWQgd3V0aGluIHRoaXMgbWFuYWdlciBhcyBhbiBkaWN0aW9uYXJ5XG4gICAgICovXG4gICAgdG9EaWN0aW9uYXJ5KCkge1xuICAgICAgICBsZXQgb3V0ID0ge307XG4gICAgICAgIG5hdmlnYXRlXzEubWFwKHRoaXMuX2RhdGEsIChlbGVtLCBpZCkgPT4ge1xuICAgICAgICAgICAgb3V0W2lkXSA9IGVsZW07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbn1cbmV4cG9ydHMuRGF0YU1hbmFnZXIgPSBEYXRhTWFuYWdlcjtcbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gVFlQRVMgQU5EIElOVEVSRkFDRVNcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jZW5kcmVnaW9uXG52YXIgSU5hdlRyYW5zaXRpb25UeXBlO1xuKGZ1bmN0aW9uIChJTmF2VHJhbnNpdGlvblR5cGUpIHtcbiAgICBJTmF2VHJhbnNpdGlvblR5cGVbSU5hdlRyYW5zaXRpb25UeXBlW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgSU5hdlRyYW5zaXRpb25UeXBlW0lOYXZUcmFuc2l0aW9uVHlwZVtcIk9QQUNJVFlcIl0gPSAxXSA9IFwiT1BBQ0lUWVwiO1xuICAgIElOYXZUcmFuc2l0aW9uVHlwZVtJTmF2VHJhbnNpdGlvblR5cGVbXCJTTElERV9MRUZUXCJdID0gMl0gPSBcIlNMSURFX0xFRlRcIjtcbiAgICBJTmF2VHJhbnNpdGlvblR5cGVbSU5hdlRyYW5zaXRpb25UeXBlW1wiU0xJREVfUklHSFRcIl0gPSAzXSA9IFwiU0xJREVfUklHSFRcIjtcbiAgICBJTmF2VHJhbnNpdGlvblR5cGVbSU5hdlRyYW5zaXRpb25UeXBlW1wiU0xJREVfVVBcIl0gPSA0XSA9IFwiU0xJREVfVVBcIjtcbiAgICBJTmF2VHJhbnNpdGlvblR5cGVbSU5hdlRyYW5zaXRpb25UeXBlW1wiU0xJREVfRE9XTlwiXSA9IDVdID0gXCJTTElERV9ET1dOXCI7XG59KShJTmF2VHJhbnNpdGlvblR5cGUgPSBleHBvcnRzLklOYXZUcmFuc2l0aW9uVHlwZSB8fCAoZXhwb3J0cy5JTmF2VHJhbnNpdGlvblR5cGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vcHJpbWl0aXZlSGVscGVycy9zdHJpbmdzXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBTY3JpcHRMb2FkZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIER5bmFtaWNhbGx5IGxvYWQgYSBKUyBmaWxlIHRvIHRoZSBkb2N1bWVudFxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBTY3JpcHRMb2FkZXIge1xuICAgIC8qKlxuICAgICAqIFNjcmlwdExvYWRlclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBJbml0aWFsaXplIHRoZSBzY3JpcHQgbG9hZGVyIHdpdGggdGhlIGFwcHJvcHJpYXRlIGZvcm1hdCBmdW5jdGlvblxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGZvcm1hdCkge1xuICAgICAgICB0aGlzLl9zY3JpcHRVUkxGb3JtYXQgPSBmb3JtYXQgfHwgXCJ7MH1cIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2xvYWRTY3JpcHRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRHluYW1pY2FsbHkgbG9hZCBhIHBhcnRpY3VsYXIgc2NyaXB0XG4gICAgICogQHBhcmFtICAgc2NyaXB0ICB1bmlxdWUgcGllY2UgdGhhdCBzaG91bGQgYmUgYXBwbGllZCBpbiBvdXIgZm9ybWF0dGVkIHN0cmluZ1xuICAgICAqICAgICAgICAgICAgICAgICAgdG8gbG9hZCB0aGlzIHBhcnRpY3VsYXIgVVJMXG4gICAgICovXG4gICAgbG9hZFNjcmlwdChzY3JpcHQpIHtcbiAgICAgICAgbGV0IGZvcm1hdHRlZFVSTCA9IHN0cmluZ3NfMS5mb3JtYXQodGhpcy5fc2NyaXB0VVJMRm9ybWF0LCBzY3JpcHQpO1xuICAgICAgICBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICB0eXBlOiBcInNjcmlwdFwiLFxuICAgICAgICAgICAgYXR0cjogeyBzcmM6IGZvcm1hdHRlZFVSTCB9LFxuICAgICAgICAgICAgcGFyZW50OiBkb2N1bWVudC5oZWFkXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuU2NyaXB0TG9hZGVyID0gU2NyaXB0TG9hZGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIGNsZWFuVVJMXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBHZW5lcmF0ZSB0aGUgY3VycmVudCBVUkwgd2l0aG91dCBhbnkgYWRkaXRpb25hbCBwYXJhbWV0ZXJzXG4gKi9cbmZ1bmN0aW9uIGNsZWFuVVJMKCkge1xuICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZi5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gsIFwiXCIpO1xufVxuZXhwb3J0cy5jbGVhblVSTCA9IGNsZWFuVVJMO1xuLyoqXG4gKiBzcGxpdFBhcmFtc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU3BsaXQgdGhlIHBhcmFtZXRlcnMgaW5jbHVkZWQgaW4gYSBVUkwgc3RyaW5nIGludG8gdGhlaXIgcmVxdWlzaXRlXG4gKiBrZXktdmFsdWUgcGFpcnNcbiAqL1xuZnVuY3Rpb24gc3BsaXRQYXJhbXMoKSB7XG4gICAgbGV0IHBhcmFtU3RyID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5yZXBsYWNlKFwiP1wiLCBcIlwiKTtcbiAgICBsZXQgdG1wID0gcGFyYW1TdHIuc3BsaXQoXCImXCIpO1xuICAgIGxldCBwYXJhbXMgPSBbXTtcbiAgICBmb3IgKGxldCBwIG9mIHRtcCkge1xuICAgICAgICBsZXQgc3BsaXRQID0gcC5zcGxpdChcIj1cIik7XG4gICAgICAgIGxldCBwYWlyID0ge1xuICAgICAgICAgICAga2V5OiBzcGxpdFBbMF0sXG4gICAgICAgICAgICB2YWw6IHNwbGl0UFsxXVxuICAgICAgICB9O1xuICAgICAgICBwYXJhbXMucHVzaChwYWlyKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmFtcztcbn1cbmV4cG9ydHMuc3BsaXRQYXJhbXMgPSBzcGxpdFBhcmFtcztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZHJhd2FibGVfMSA9IHJlcXVpcmUoXCIuLi9kcmF3YWJsZS9kcmF3YWJsZVwiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY2xhc3MgU2hpZWxkIGV4dGVuZHMgZHJhd2FibGVfMS5EcmF3YWJsZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIF9jcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJraXBTaGllbGRcIlxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZWxlbXMuc2hpZWxkQ29udGVudCA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJzaGllbGRDb250ZW50XCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLmJhc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVNoaWVsZERldGFpbHMoKTtcbiAgICB9XG4gICAgO1xuICAgIGRyYXcocGFyZW50KSB7XG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICBwYXJlbnQgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgc2hpZWxkIG9ubHkgc2hvd3MgaWYgd2UgYXJlIHNob3dpbmcgZm9yIGxvbmcgZW5vdWdoXG4gICAgICAgIC8vIGZvciBhIGh1bWFuIGJyYWluIHRvIHByb2Nlc3MgaXRcbiAgICAgICAgdGhpcy5fc2hvd0VsZW1lbnRUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc3VwZXIuZHJhdyhwYXJlbnQpO1xuICAgICAgICAgICAgdGhpcy5fc2hvd0VsZW1lbnRUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfSwgMjAwKTtcbiAgICB9XG4gICAgZXJhc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG93RWxlbWVudFRpbWVvdXQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fc2hvd0VsZW1lbnRUaW1lb3V0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5lcmFzZSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2hpZWxkID0gU2hpZWxkO1xuU2hpZWxkLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIua2lwU2hpZWxkXCI6IHtcbiAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoMCwwLDAsMC42KVwiLFxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIGxlZnQ6IFwiMFwiLFxuICAgICAgICB0b3A6IFwiMFwiLFxuICAgICAgICB6SW5kZXg6IFwiMTAwXCJcbiAgICB9LFxuICAgIFwiLmtpcFNoaWVsZCAuc2hpZWxkQ29udGVudFwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiXG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuO1xudmFyIFNWR1NoYXBlRW51bTtcbihmdW5jdGlvbiAoU1ZHU2hhcGVFbnVtKSB7XG4gICAgU1ZHU2hhcGVFbnVtW1NWR1NoYXBlRW51bVtcIkNIRUNLTUFSS1wiXSA9IDFdID0gXCJDSEVDS01BUktcIjtcbiAgICBTVkdTaGFwZUVudW1bU1ZHU2hhcGVFbnVtW1wiWFwiXSA9IDJdID0gXCJYXCI7XG4gICAgU1ZHU2hhcGVFbnVtW1NWR1NoYXBlRW51bVtcIlBMVVNcIl0gPSAzXSA9IFwiUExVU1wiO1xufSkoU1ZHU2hhcGVFbnVtID0gZXhwb3J0cy5TVkdTaGFwZUVudW0gfHwgKGV4cG9ydHMuU1ZHU2hhcGVFbnVtID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZHJhd2FibGVfMSA9IHJlcXVpcmUoXCIuLi9kcmF3YWJsZS9kcmF3YWJsZVwiKTtcbmNvbnN0IHN2Z0hlbHBlcnNfMSA9IHJlcXVpcmUoXCIuL3N2Z0hlbHBlcnNcIik7XG5jbGFzcyBTVkdEZWZpbml0aW9uc0VsZW1lbnQgZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fZWxlbXMgPSB7XG4gICAgICAgICAgICBiYXNlOiBzdmdIZWxwZXJzXzEuY3JlYXRlU1ZHRWxlbSh7IHR5cGU6IFwiZGVmc1wiIH0pXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2NyZWF0ZUVsZW1lbnRzKCk7XG4gICAgfVxuICAgIGdldCBiYXNlKCkgeyByZXR1cm4gdGhpcy5fZWxlbXMuYmFzZTsgfVxuICAgIGdldCBncmFkaWVudHMoKSB7IHJldHVybiB0aGlzLl9ncmFkaWVudHM7IH1cbiAgICBzZXQgZ3JhZGllbnRzKGRhdGEpIHsgdGhpcy5fZ3JhZGllbnRzID0gZGF0YTsgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIF9zaG91bGRTa2lwQ3JlYXRlRWxlbWVudHMoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9hZGREcm9wU2hhZG93KCk7XG4gICAgfVxuICAgIF9hZGREcm9wU2hhZG93KCkge1xuICAgICAgICAvLyBUYWtlbiBmcm9tIHRoaXMgU08gcG9zdDogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjA4ODQwOS9zdmctZHJvcC1zaGFkb3ctdXNpbmctY3NzM1xuICAgICAgICBsZXQgZGVmID0ge1xuICAgICAgICAgICAgdHlwZTogXCJmaWx0ZXJcIixcbiAgICAgICAgICAgIGlkOiBcImRyb3BzaGFkb3dcIixcbiAgICAgICAgICAgIGF0dHI6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIyMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjIwMCVcIixcbiAgICAgICAgICAgICAgICB4OiBcIi01MCVcIixcbiAgICAgICAgICAgICAgICB5OiBcIi01MCVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImZlR2F1c3NpYW5CbHVyXCIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluOiBcIlNvdXJjZUFscGhhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGREZXZpYXRpb246IFwiMC41XCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImZlT2Zmc2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR4OiBcIjAuMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHk6IFwiMC4xXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IFwib2Zmc2V0Ymx1clwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJmZUNvbXBvbmVudFRyYW5zZmVyXCIsXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJmZUZ1bmNBXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdhbW1hXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9uZW50OiBcIjEuMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbXBsaXR1ZGU6IFwiMC4zXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJmZU1lcmdlXCIsXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJmZU1lcmdlTm9kZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZmVNZXJnZU5vZGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyOiB7IGluOiBcIlNvdXJjZUdyYXBoaWNcIiB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgICAgIGxldCBmaWx0ZXIgPSBzdmdIZWxwZXJzXzEuY3JlYXRlU1ZHRWxlbShkZWYpO1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLmFwcGVuZENoaWxkKGZpbHRlcik7XG4gICAgfVxufVxuZXhwb3J0cy5TVkdEZWZpbml0aW9uc0VsZW1lbnQgPSBTVkdEZWZpbml0aW9uc0VsZW1lbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHN2Z0VsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL3N2Z0VsZW1lbnRcIik7XG5jb25zdCBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vLi4vZGF0YVN0cnVjdHVyZXMvY29sbGVjdGlvbi9jb2xsZWN0aW9uXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IGNsb25pbmdfMSA9IHJlcXVpcmUoXCIuLi8uLi9vYmplY3RIZWxwZXJzL2Nsb25pbmdcIik7XG5jb25zdCBwYXRoRWxlbWVudF8xID0gcmVxdWlyZShcIi4vcGF0aEVsZW1lbnRcIik7XG5jb25zdCByZWN0RWxlbWVudF8xID0gcmVxdWlyZShcIi4vcmVjdEVsZW1lbnRcIik7XG5jb25zdCBjaXJjbGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi9jaXJjbGVFbGVtZW50XCIpO1xuY29uc3QgYWRkaXRpb25hbFBhdGhzXzEgPSByZXF1aXJlKFwiLi4vYWRkaXRpb25hbFBhdGhzXCIpO1xuY29uc3QgdGV4dEVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL3RleHRFbGVtZW50XCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgR3JvdXBFbGVtZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAdmVyc2lvbiAxLjBcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBHcm91cEVsZW1lbnQgZXh0ZW5kcyBzdmdFbGVtZW50XzEuU1ZHRWxlbSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgY29uc3RydWN0b3IoYXR0cikge1xuICAgICAgICBzdXBlcihhdHRyKTtcbiAgICAgICAgLy8gSW5pdGlhdGUgY29sbGVjdGlvbnNcbiAgICAgICAgdGhpcy5fc3ZnRWxlbXMgPSBuZXcgY29sbGVjdGlvbl8xLkNvbGxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5fbm9uU2NhbGVkID0gW107XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgX25leHRJZCgpIHtcbiAgICAgICAgR3JvdXBFbGVtZW50Ll9sYXN0SWQgKz0gMTtcbiAgICAgICAgcmV0dXJuIEdyb3VwRWxlbWVudC5fbGFzdElkLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGdldCBub25TY2FsZWQoKSB7IHJldHVybiB0aGlzLl9ub25TY2FsZWQ7IH1cbiAgICAvKiogb3ZlcnJpZGUgdGhlIGRlZmF1bHQgc3R5bGUgZ2V0dGVyOyB3ZSBkb24ndCBuZWVkIHRvIGFwcGx5IGFueXRoaW5nICovXG4gICAgZ2V0IHN0eWxlKCkgeyByZXR1cm4gdGhpcy5fc3R5bGU7IH1cbiAgICBfc2V0QXR0cmlidXRlcyhhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGF0dHJpYnV0ZXMudHlwZSA9IFwiZ1wiO1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9XG4gICAgX3VwZGF0ZUV4dHJlbWEoYXR0cmlidXRlcykgeyB9XG4gICAgX3VwZGF0ZUV4dHJlbWFGcm9tQ2hpbGQoY2hpbGRFeHRyZW1hKSB7XG4gICAgICAgIGlmICghdGhpcy5fZXh0cmVtYSkge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmVtYSA9IGNsb25pbmdfMS5jbG9uZU9iamVjdChjaGlsZEV4dHJlbWEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZEV4dHJlbWEubWluLnggPCB0aGlzLl9leHRyZW1hLm1pbi54KSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyZW1hLm1pbi54ID0gY2hpbGRFeHRyZW1hLm1pbi54O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZEV4dHJlbWEubWluLnkgPCB0aGlzLl9leHRyZW1hLm1pbi55KSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyZW1hLm1pbi55ID0gY2hpbGRFeHRyZW1hLm1pbi55O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZEV4dHJlbWEubWF4LnggPCB0aGlzLl9leHRyZW1hLm1heC54KSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyZW1hLm1heC54ID0gY2hpbGRFeHRyZW1hLm1heC54O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZEV4dHJlbWEubWF4LnkgPCB0aGlzLl9leHRyZW1hLm1heC55KSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyZW1hLm1heC55ID0gY2hpbGRFeHRyZW1hLm1heC55O1xuICAgICAgICB9XG4gICAgfVxuICAgIF9hZGRDaGlsZEVsZW1lbnQoZWxlbSwgc2tpcFVwZGF0ZUV4dHJlbWEpIHtcbiAgICAgICAgLy8gc3R5bGUgdGhlIGVsZW1lbnQgYXBwcm9wcmlhdGVseVxuICAgICAgICBlbGVtLnN0eWxlLm1lcmdlKHRoaXMuX3N0eWxlKTtcbiAgICAgICAgLy8gYWRkIHRoZSBlbGVtZW50IHRvIG91ciBpbnRlcm5hbCBhcnJheVxuICAgICAgICB0aGlzLl9zdmdFbGVtcy5hZGQoZWxlbS5pZCwgZWxlbSk7XG4gICAgICAgIC8vIHByZXZlbnQgc2NhbGluZyBvZiB0aGUgZWxlbWVudCBpZiBhcHByb3ByaWF0ZVxuICAgICAgICBpZiAoZWxlbS5wcmV2ZW50U2NhbGluZykge1xuICAgICAgICAgICAgdGhpcy5fbm9uU2NhbGVkLnB1c2goZWxlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBleHRyZW1hIG9mIHRoZSBTVkcgaWYgYXBwcm9wcmlhdGVcbiAgICAgICAgaWYgKCFza2lwVXBkYXRlRXh0cmVtYSkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRXh0cmVtYShlbGVtLmV4dHJlbWEpO1xuICAgICAgICB9XG4gICAgICAgIGVsZW0uYWRkVXBkYXRlTGlzdGVuZXIoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRXh0cmVtYUZyb21DaGlsZChlbGVtLmV4dHJlbWEpO1xuICAgICAgICAgICAgdGhpcy5fbm90aWZ5VXBkYXRlTGlzdGVuZXJzKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyNyZWdpb24gQUREIFBBVEhcbiAgICAvKipcbiAgICAgKiBhZGRQYXRoXG4gICAgICpcbiAgICAgKiBBZGRzIGEgcGF0aCB0byB0aGUgU1ZHIGNhbnZhc1xuICAgICAqXG4gICAgICogQHBhcmFtIFx0cG9pbnRzICAgVGhlIHBvaW50cyB0byBhZGQgdG8gdGhlIHBhdGhcbiAgICAgKiBAcGFyYW1cdG5vRmluaXNoIFRydWUgaWYgd2Ugc2hvdWxkIGZpbmlzaCB0aGUgcGF0aCB3aXRob3V0IGNsb3NpbmdcbiAgICAgKiBAcGFyYW1cdGF0dHIgICAgIEFueSBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWRcbiAgICAgKiBAcGFyYW1cdGdyb3VwICAgIFRoZSBncm91cCB0aGlzIHBhdGggc2hvdWxkIGJlIGFkZGVkIHRvXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgcGF0aCB0aGF0IHdhcyBjcmVhdGVkXG4gICAgICpcbiAgICAgKi9cbiAgICBhZGRQYXRoKHBvaW50cywgbm9GaW5pc2gsIGF0dHIpIHtcbiAgICAgICAgYXR0ciA9IHRoaXMuX2luaXRpYWxpemVBdHRyaWJ1dGVzKGF0dHIpO1xuICAgICAgICBhdHRyLm5vRmluaXNoID0gbm9GaW5pc2g7XG4gICAgICAgIGxldCBwYXRoID0gbmV3IHBhdGhFbGVtZW50XzEuUGF0aEVsZW1lbnQocG9pbnRzLCBhdHRyKTtcbiAgICAgICAgdGhpcy5fYWRkQ2hpbGRFbGVtZW50KHBhdGgpO1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIEFERCBSRUNUQU5HTEVcbiAgICAvKipcbiAgICAgKiBhZGRSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB4XG4gICAgICogQHBhcmFtIHlcbiAgICAgKiBAcGFyYW0gd2lkdGhcbiAgICAgKiBAcGFyYW0gaGVpZ2h0XG4gICAgICogQHBhcmFtIGF0dHJcbiAgICAgKiBAcGFyYW0gZ3JvdXBcbiAgICAgKlxuICAgICAqL1xuICAgIGFkZFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBhdHRyKSB7XG4gICAgICAgIGF0dHIgPSB0aGlzLl9pbml0aWFsaXplQXR0cmlidXRlcyhhdHRyKTtcbiAgICAgICAgbGV0IHJlY3QgPSBuZXcgcmVjdEVsZW1lbnRfMS5SZWN0YW5nbGVFbGVtZW50KHgsIHksIHdpZHRoLCBoZWlnaHQsIGF0dHIpO1xuICAgICAgICB0aGlzLl9hZGRDaGlsZEVsZW1lbnQocmVjdCk7XG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gQUREIENJUkNMRVxuICAgIC8qKlxuICAgICAqIGFkZENpcmNsZVxuICAgICAqXG4gICAgICogYWRkcyBhIGNpcmNsZSB0byB0aGUgU1ZHIGNhbnZhc1xuICAgICAqIEBwYXJhbVx0Y2VudGVyUHRcbiAgICAgKiBAcGFyYW1cdHJhZGl1c1xuICAgICAqIEBwYXJhbVx0YXR0clxuICAgICAqIEBwYXJhbVx0Z3JvdXBcbiAgICAgKiBAcmV0dXJuc1x0VGhlIGNyZWF0ZWQgY2lyY2xlXG4gICAgICpcbiAgICAgKi9cbiAgICBhZGRDaXJjbGUoY2VudGVyUHQsIHJhZGl1cywgYXR0cikge1xuICAgICAgICBhdHRyID0gdGhpcy5faW5pdGlhbGl6ZUF0dHJpYnV0ZXMoYXR0cik7XG4gICAgICAgIGxldCBjaXJjbGUgPSBuZXcgY2lyY2xlRWxlbWVudF8xLkNpcmNsZUVsZW1lbnQoY2VudGVyUHQsIHJhZGl1cywgYXR0cik7XG4gICAgICAgIHRoaXMuX2FkZENoaWxkRWxlbWVudChjaXJjbGUpO1xuICAgICAgICByZXR1cm4gY2lyY2xlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBhZGRQZXJmZWN0QXJjXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFkZCBhIHBlcmZlY3QgYXJjIHRvIHRoZSBTVkcgQ2FudmFzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VGhlIGNyZWF0ZWQgYXJjIGVsZW1lbnRcbiAgICAgKi9cbiAgICBhZGRQZXJmZWN0QXJjKGNlbnRlclB0LCByYWRpdXMsIHN0YXJ0RGVnLCBlbmREZWcsIGRpcmVjdGlvbiwgYXR0cikge1xuICAgICAgICBhdHRyID0gdGhpcy5faW5pdGlhbGl6ZUF0dHJpYnV0ZXMoYXR0cik7XG4gICAgICAgIGxldCBhcmMgPSBuZXcgYWRkaXRpb25hbFBhdGhzXzEuQXJjRWxlbWVudChjZW50ZXJQdCwgcmFkaXVzLCBzdGFydERlZywgZW5kRGVnLCBkaXJlY3Rpb24sIGF0dHIpO1xuICAgICAgICB0aGlzLl9hZGRDaGlsZEVsZW1lbnQoYXJjKTtcbiAgICAgICAgcmV0dXJuIGFyYztcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRkUGllU2xpY2VcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWRkIGEgcGllIHNsaWNlIGVsZW1lbnQgdG8gdGhlIFNWRyBjYW52YXNcbiAgICAgKiBAcGFyYW0gXHRjZW50ZXJQdFxuICAgICAqIEBwYXJhbSBcdHJhZGl1c1xuICAgICAqIEBwYXJhbSBcdHN0YXJ0RGVnXG4gICAgICogQHBhcmFtIFx0ZW5kRGVnXG4gICAgICogQHBhcmFtIFx0ZGlyZWN0aW9uXG4gICAgICogQHBhcmFtIFx0YXR0clxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRoZSBjcmVhdGVkIHBpZSBzbGljZVxuICAgICAqL1xuICAgIGFkZFBpZVNsaWNlKGNlbnRlclB0LCByYWRpdXMsIHN0YXJ0RGVnLCBlbmREZWcsIGRpcmVjdGlvbiwgYXR0cikge1xuICAgICAgICBhdHRyID0gdGhpcy5faW5pdGlhbGl6ZUF0dHJpYnV0ZXMoYXR0cik7XG4gICAgICAgIGxldCBwaWVTbGljZSA9IG5ldyBhZGRpdGlvbmFsUGF0aHNfMS5QaWVTbGljZUVsZW1lbnQoY2VudGVyUHQsIHJhZGl1cywgc3RhcnREZWcsIGVuZERlZywgZGlyZWN0aW9uLCBhdHRyKTtcbiAgICAgICAgdGhpcy5fYWRkQ2hpbGRFbGVtZW50KHBpZVNsaWNlKTtcbiAgICAgICAgcmV0dXJuIHBpZVNsaWNlO1xuICAgIH1cbiAgICBhZGRDdXJ2ZShwb2ludHMsIGF0dHIpIHtcbiAgICAgICAgYXR0ciA9IHRoaXMuX2luaXRpYWxpemVBdHRyaWJ1dGVzKGF0dHIpO1xuICAgICAgICBsZXQgY3VydmUgPSBuZXcgYWRkaXRpb25hbFBhdGhzXzEuQ3VydmVFbGVtZW50KHBvaW50cywgYXR0cik7XG4gICAgICAgIHRoaXMuX2FkZENoaWxkRWxlbWVudChjdXJ2ZSk7XG4gICAgICAgIHJldHVybiBjdXJ2ZTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIEFERCBQT0xZR09OXG4gICAgLyoqXG4gICAgICogYWRkUmVndWxhclBvbHlnb25cbiAgICAgKlxuICAgICAqIGNyZWF0ZXMgYSByZWd1bGFyIHBvbHlnb24gdG8gdGhlIFNWRyBjYW52YXNcbiAgICAgKiBAcGFyYW0gICBjZW50ZXJQdCBUaGUgY2VudHJhbCBwb2ludCBvZiB0aGUgcG9seWdvblxuICAgICAqIEBwYXJhbSAgIHNpZGVzICAgIFRoZSBudW1iZXIgb2Ygc2lkZXMgb2YgdGhlIHBvbHlnb25cbiAgICAgKiBAcGFyYW0gICByYWRpdXMgICBUaGUgcmFkaXVzIG9mIHRoZSBwb2x5Z29uXG4gICAgICogQHBhcmFtICAgYXR0ciAgICAgQW55IGFkZGl0aW9uYWwgYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSAgIGdyb3VwICAgIFRoZSBncm91cCB0aGUgcG9seWdvbiBzaG91bGQgYmUgYWRkZWQgdG9cbiAgICAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBwb2x5Z29uIG9uIHRoZSBTVkcgQ2FudmFzXG4gICAgICpcbiAgICAgKi9cbiAgICBhZGRSZWd1bGFyUG9seWdvbihjZW50ZXJQdCwgc2lkZXMsIHJhZGl1cywgYXR0cikge1xuICAgICAgICBhdHRyID0gdGhpcy5faW5pdGlhbGl6ZUF0dHJpYnV0ZXMoYXR0cik7XG4gICAgICAgIGxldCBwb2x5Z29uID0gbmV3IGFkZGl0aW9uYWxQYXRoc18xLlBvbHlnb25FbGVtZW50KGNlbnRlclB0LCBzaWRlcywgcmFkaXVzLCBhdHRyKTtcbiAgICAgICAgdGhpcy5fYWRkQ2hpbGRFbGVtZW50KHBvbHlnb24pO1xuICAgICAgICByZXR1cm4gcG9seWdvbjtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIEFERCBTVEFSXG4gICAgLyoqXG4gICAgICogYWRkUmVndWxhclN0YXJcbiAgICAgKlxuICAgICAqIENyZWF0ZXMgYSByZWd1bGFyIHN0YXIgb24gdGhlIFNWRyBjYW52YXNcbiAgICAgKiBAcGFyYW0gICBjZW50ZXJQdCAgICAgIFx0VGhlIHBvaW50IGF0IHRoZSBjZW50ZXIgb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0gICBudW1iZXJPZlBvaW50cyBcdFRoZSBudW1iZXIgb2YgcG9pbnRzIG9mIHRoaXMgc3RhclxuICAgICAqIEBwYXJhbSAgIHJhZGl1cyAgICAgICAgXHRbZGVzY3JpcHRpb25dXG4gICAgICogQHBhcmFtICAgaW5uZXJSYWRpdXMgICBcdFtkZXNjcmlwdGlvbl1cbiAgICAgKiBAcGFyYW0gICBhdHRyICAgICAgICAgIFx0W2Rlc2NyaXB0aW9uXVxuICAgICAqIEBwYXJhbSAgIGdyb3VwICAgICAgICAgXHRbZGVzY3JpcHRpb25dXG4gICAgICogQHJldHVybnMgVGhlIGNyZWF0ZWQgc3RhclxuICAgICAqXG4gICAgICovXG4gICAgYWRkUmVndWxhclN0YXIoY2VudGVyUHQsIG51bWJlck9mUG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCBhdHRyKSB7XG4gICAgICAgIGF0dHIgPSB0aGlzLl9pbml0aWFsaXplQXR0cmlidXRlcyhhdHRyKTtcbiAgICAgICAgbGV0IHN0YXIgPSBuZXcgYWRkaXRpb25hbFBhdGhzXzEuU3RhckVsZW1lbnQoY2VudGVyUHQsIG51bWJlck9mUG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCBhdHRyKTtcbiAgICAgICAgdGhpcy5fYWRkQ2hpbGRFbGVtZW50KHN0YXIpO1xuICAgICAgICByZXR1cm4gc3RhcjtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIEFERCBURVhUXG4gICAgLyoqXG4gICAgICogYWRkdGV4dFxuICAgICAqXG4gICAgICogQWRkcyBhIHRleHQgZWxlbWVudCB0byB0aGUgU1ZHIGNhbnZhc1xuICAgICAqIEBwYXJhbSAgIHRleHQgICAgIFRoZSB0ZXh0IHRvIGFkZFxuICAgICAqIEBwYXJhbSAgIHBvaW50ICAgIFRoZSBwb2ludCBhdCB3aGljaCB0byBhZGQgdGhlIHBvaW50XG4gICAgICogQHBhcmFtICAgb3JpZ2luUHQgSWYgcHJvdmlkZWQsIHRoZSBvcmlnaW4gcG9pbnQgd2l0aGluIHRoZSB0ZXh0IGVsZW1lbnQgdGhhdCBkZWZpbmVzIHdoZXJlIHRoZSB0ZXh0IGlzIGRyYXduXG4gICAgICogQHBhcmFtICAgYXR0ciAgICAgQW55IGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICAgICAqIEBwYXJhbSAgIGdyb3VwICAgIFRoZSBncm91cCB0byBhZGQgdGhpcyBlbGVtZW50IHRvXG4gICAgICogQHJldHVybnMgVGhlIHRleHQgZWxlbWVudCBhZGRlZCB0byB0aGUgU1ZHXG4gICAgICpcbiAgICAgKi9cbiAgICBhZGRUZXh0KHRleHQsIHBvaW50LCBvcmlnaW5QdCwgYXR0cikge1xuICAgICAgICBhdHRyID0gdGhpcy5faW5pdGlhbGl6ZUF0dHJpYnV0ZXMoYXR0cik7XG4gICAgICAgIGxldCB0eHQgPSBuZXcgdGV4dEVsZW1lbnRfMS5UZXh0RWxlbWVudCh0ZXh0LCBwb2ludCwgb3JpZ2luUHQsIGF0dHIpO1xuICAgICAgICB0aGlzLl9hZGRDaGlsZEVsZW1lbnQodHh0LCB0cnVlKTtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRXh0cmVtYSh0eHQuZXh0cmVtYSk7XG4gICAgICAgIH0sIDEwKTtcbiAgICAgICAgcmV0dXJuIHR4dDtcbiAgICB9XG4gICAgYWRkRmxvd2FibGVUZXh0KHRleHQsIGJvdW5kcywgYXR0cikge1xuICAgICAgICAvL1RPRE86IEFkZCBmbG93YWJsZSB0ZXh0XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gQUREIEdST1VQXG4gICAgLyoqXG4gICAgICogYWRkR3JvdXBcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0YXR0clxuICAgICAqIEBwYXJhbSBcdGdyb3VwXG4gICAgICogQHJldHVybnNcdFRoZSBjcmVhdGVkIGVsZW1lbnRcbiAgICAgKlxuICAgICAqL1xuICAgIGFkZEdyb3VwKGF0dHIpIHtcbiAgICAgICAgYXR0ciA9IHRoaXMuX2luaXRpYWxpemVBdHRyaWJ1dGVzKGF0dHIpO1xuICAgICAgICBsZXQgZ3JwID0gbmV3IEdyb3VwRWxlbWVudChhdHRyKTtcbiAgICAgICAgdGhpcy5fYWRkQ2hpbGRFbGVtZW50KGdycCk7XG4gICAgICAgIHJldHVybiBncnA7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBBREQgU0hBUEVTXG4gICAgLyoqXG4gICAgICogYWRkU2hhcGVcbiAgICAgKlxuICAgICAqIEFkZHMgYSBwYXJ0aWN1bGFyIHNoYXBlIHRvIHRoZSBTVkcgY2FudmFzXG4gICAgICogQHBhcmFtICAgc2hhcGVUeXBlIFRoZSB0eXBlIG9mIHNoYXBlIHRvIGFkZFxuICAgICAqIEBwYXJhbSAgIHNjYWxlICAgICBXaGF0IHNjYWxlIHRoZSBzaGFwZSBzaG91bGQgYmUgZHJhd24gYXRcbiAgICAgKiBAcGFyYW0gICBhdHRyICAgICAgQW55IGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICAgICAqIEBwYXJhbSAgIGdyb3VwICAgICBXaGF0IGdyb3VwIHRoZSBlbGVtZW50IHNob3VsZCBiZSBhZGRlZCB0b1xuICAgICAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIHNoYXBlXG4gICAgICpcbiAgICAgKi9cbiAgICBhZGRTaGFwZShzaGFwZVR5cGUsIHNjYWxlLCBjZW50ZXJQdCwgYXR0cikge1xuICAgICAgICAvLyBVc2Ugb3VyIGRlZmF1bHQgc2NhbGUgaWYgb25lIHdhc24ndCBwYXNzZWQgaW5cbiAgICAgICAgaWYgKCFzY2FsZSkge1xuICAgICAgICAgICAgc2NhbGUgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2VudGVyUHQpIHtcbiAgICAgICAgICAgIGNlbnRlclB0ID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gRHJhdyB0aGUgYXBwcm9wcmlhdGUgc2hhcGVcbiAgICAgICAgc3dpdGNoIChzaGFwZVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5TVkdTaGFwZUVudW0uQ0hFQ0tNQVJLOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVja1NoYXBlKHNjYWxlLCBjZW50ZXJQdCwgYXR0cik7XG4gICAgICAgICAgICBjYXNlIF9pbnRlcmZhY2VzXzEuU1ZHU2hhcGVFbnVtLlg6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZEV4U2hhcGUoc2NhbGUsIGNlbnRlclB0LCBhdHRyKTtcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5TVkdTaGFwZUVudW0uUExVUzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkUGx1c1NoYXBlKHNjYWxlLCBjZW50ZXJQdCwgYXR0cik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNoZWNrbWFyayB0byB0aGUgY2FudmFzIHdpdGggdGhlIHByb3ZpZGVkIHNjYWxlXG4gICAgICpcbiAgICAgKi9cbiAgICBfYWRkQ2hlY2tTaGFwZShzY2FsZSwgY2VudGVyUHQsIGF0dHIpIHtcbiAgICAgICAgYXR0ciA9IHRoaXMuX2luaXRpYWxpemVBdHRyaWJ1dGVzKGF0dHIpO1xuICAgICAgICBsZXQgY2hlY2ttYXJrID0gbmV3IGFkZGl0aW9uYWxQYXRoc18xLkNoZWNrRWxlbWVudChudWxsLCBhdHRyLCBjZW50ZXJQdCk7XG4gICAgICAgIHRoaXMuX2FkZENoaWxkRWxlbWVudChjaGVja21hcmspO1xuICAgICAgICByZXR1cm4gY2hlY2ttYXJrO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGFuICdleCcgdG8gdGhlIGNhbnZhcyB3aXRoIHRoZSBwcm92aWRlZCBzY2FsZVxuICAgICAqXG4gICAgICovXG4gICAgX2FkZEV4U2hhcGUoc2NhbGUsIGNlbnRlclB0LCBhdHRyKSB7XG4gICAgICAgIGF0dHIgPSB0aGlzLl9pbml0aWFsaXplQXR0cmlidXRlcyhhdHRyKTtcbiAgICAgICAgbGV0IGV4RWxlbSA9IG5ldyBhZGRpdGlvbmFsUGF0aHNfMS5FeEVsZW1lbnQobnVsbCwgYXR0ciwgY2VudGVyUHQpO1xuICAgICAgICB0aGlzLl9hZGRDaGlsZEVsZW1lbnQoZXhFbGVtKTtcbiAgICAgICAgcmV0dXJuIGV4RWxlbTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHBsdXMgdG8gdGhlIGNhbnZhcyB3aXRoIHRoZSBwcm92aWRlZCBzY2FsZVxuICAgICAqXG4gICAgICovXG4gICAgX2FkZFBsdXNTaGFwZShzY2FsZSwgY2VudGVyUHQsIGF0dHIpIHtcbiAgICAgICAgYXR0ciA9IHRoaXMuX2luaXRpYWxpemVBdHRyaWJ1dGVzKGF0dHIpO1xuICAgICAgICBsZXQgcGx1c1N5bWJvbCA9IG5ldyBhZGRpdGlvbmFsUGF0aHNfMS5QbHVzRWxlbWVudChudWxsLCBhdHRyLCBjZW50ZXJQdCk7XG4gICAgICAgIHRoaXMuX2FkZENoaWxkRWxlbWVudChwbHVzU3ltYm9sKTtcbiAgICAgICAgcmV0dXJuIHBsdXNTeW1ib2w7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8qKlxuICAgICAqIF9pbml0aWFsaXplQXR0cmlidXRlc1xuICAgICAqXG4gICAgICogQ3JlYXRlIGF0dHJpYnV0ZXMgbmVlZGVkIHRvIGNyZWF0ZSBhIHNoYXBlXG4gICAgICogQHBhcmFtXHRhdHRyXHRUaGUgYXR0cmlidXRlcyB0byBpbml0aWFsaXplXG4gICAgICogQHBhcmFtXHRncm91cFx0VGhlIGdyb3VwIHRvIGFkZCB0aGlzIGVsZW1lbnQgdG9cbiAgICAgKiBAcmV0dXJuc1x0VGhlIHVwZGF0ZWQgYXR0cmlidXRlc1xuICAgICAqXG4gICAgICovXG4gICAgX2luaXRpYWxpemVBdHRyaWJ1dGVzKGF0dHIpIHtcbiAgICAgICAgaWYgKCFhdHRyKSB7XG4gICAgICAgICAgICBhdHRyID0ge307XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHRoZSBwYXJlbnRcbiAgICAgICAgYXR0ci5wYXJlbnQgPSB0aGlzLl9lbGVtcy5iYXNlO1xuICAgICAgICAvLyBpbml0aWFsaXplIHRoZSBJRCBvZiB0aGUgY2hpbGRcbiAgICAgICAgaWYgKCFhdHRyLmlkKSB7XG4gICAgICAgICAgICBhdHRyLmlkID0gR3JvdXBFbGVtZW50Ll9uZXh0SWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF0dHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNsZWFyXG4gICAgICpcbiAgICAgKiBDbGVhciB0aGUgY29udGVudHMgb2YgdGhpcyBncm91cFxuICAgICAqXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgdGhpcy5fc3ZnRWxlbXMuY2xlYXIoKTtcbiAgICB9XG59XG5leHBvcnRzLkdyb3VwRWxlbWVudCA9IEdyb3VwRWxlbWVudDtcbi8vI3JlZ2lvbiBJRCBUUkFDS0lOR1xuR3JvdXBFbGVtZW50Ll9sYXN0SWQgPSAwO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBuYXZpZ2F0ZV8xID0gcmVxdWlyZShcIi4uL29iamVjdEhlbHBlcnMvbmF2aWdhdGVcIik7XG5jb25zdCBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vcHJpbWl0aXZlSGVscGVycy9zdHJpbmdzXCIpO1xuY29uc3Qgc3R5bGVzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL3N0eWxlc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0U1ZHU3R5bGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEtlZXAgdHJhY2sgb2Ygc3R5bGUgY2hhbmdlcyBmb3IgU1ZHIGVsZW1lbnRzXG4gKiBAdmVyc2lvbiAxLjBcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBTVkdTdHlsZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgU1ZHU3R5bGUgb2JqZWN0XG4gICAgICpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzdHlsZXMpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICBpZiAoc3R5bGVzKSB7XG4gICAgICAgICAgICB0aGlzLm1lcmdlKHN0eWxlcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbmVlZHNOZXdTdHJpbmcgPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfc2V0U3R5bGVcbiAgICAgKlxuICAgICAqIFVwZGF0ZSBhIHBhcnRpY3VsYXIgc3R5bGVcbiAgICAgKiBAcGFyYW0gXHRrZXkgXHRUaGUga2V5XG4gICAgICogQHBhcmFtIFx0dmFsdWUgXHRUaGUgdmFsdWVcbiAgICAgKlxuICAgICAqL1xuICAgIF9zZXRTdHlsZShrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2lubmVyU3R5bGVba2V5XSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9uZWVkc05ld1N0cmluZyA9IHRydWU7XG4gICAgfVxuICAgIC8qKiBmaWxsIGNvbG9yIG9yIFwiTm9uZVwiICovXG4gICAgc2V0IGZpbGwoZmlsbCkgeyB0aGlzLl9zZXRTdHlsZShcImZpbGxcIiwgZmlsbCk7IH1cbiAgICBnZXQgZmlsbCgpIHsgcmV0dXJuIHRoaXMuX2lubmVyU3R5bGVbXCJmaWxsXCJdOyB9XG4gICAgLyoqIGZpbGwgb3BhY2l0eSAqL1xuICAgIHNldCBmaWxsT3BhY2l0eShvcGFjaXR5KSB7IHRoaXMuX3NldFN0eWxlKFwiZmlsbE9wYWNpdHlcIiwgb3BhY2l0eSk7IH1cbiAgICBnZXQgZmlsbE9wYWNpdHkoKSB7IHJldHVybiB0aGlzLl9pbm5lclN0eWxlW1wiZmlsbE9wYWNpdHlcIl07IH1cbiAgICAvKiogZm9udCBzaXplICovXG4gICAgc2V0IGZvbnRTaXplKHNpemUpIHsgdGhpcy5fc2V0U3R5bGUoXCJmb250U2l6ZVwiLCBzaXplKTsgfVxuICAgIGdldCBmb250U2l6ZSgpIHsgcmV0dXJuIHRoaXMuX2lubmVyU3R5bGVbXCJmb250U2l6ZVwiXTsgfVxuICAgIC8qKiBmb250IHdlaWdodCAqL1xuICAgIHNldCBmb250V2VpZ2h0KHdlaWdodCkgeyB0aGlzLl9zZXRTdHlsZShcImZvbnRXZWlnaHRcIiwgd2VpZ2h0KTsgfVxuICAgIGdldCBmb250V2VpZ2h0KCkgeyByZXR1cm4gdGhpcy5faW5uZXJTdHlsZVtcImZvbnRXZWlnaHRcIl07IH1cbiAgICAvKiogZm9udCBmYW1pbHkgKi9cbiAgICBzZXQgZm9udEZhbWlseShmYW1pbHkpIHsgdGhpcy5fc2V0U3R5bGUoXCJmb250RmFtaWx5XCIsIGZhbWlseSk7IH1cbiAgICBnZXQgZm9udEZhbWlseSgpIHsgcmV0dXJuIHRoaXMuX2lubmVyU3R5bGVbXCJmb250RmFtaWx5XCJdOyB9XG4gICAgLyoqIHN0cm9rZSBjb2xvciAqL1xuICAgIHNldCBzdHJva2Uoc3Ryb2tlKSB7IHRoaXMuX3NldFN0eWxlKFwic3Ryb2tlXCIsIHN0cm9rZSk7IH1cbiAgICBnZXQgc3Ryb2tlKCkgeyByZXR1cm4gdGhpcy5faW5uZXJTdHlsZVtcInN0cm9rZVwiXTsgfVxuICAgIC8qKiBzdHJva2Ugd2lkdGggKi9cbiAgICBzZXQgc3Ryb2tlV2lkdGgod2lkdGgpIHsgdGhpcy5fc2V0U3R5bGUoXCJzdHJva2VXaWR0aFwiLCB3aWR0aCk7IH1cbiAgICBnZXQgc3Ryb2tlV2lkdGgoKSB7IHJldHVybiB0aGlzLl9pbm5lclN0eWxlW1wic3Ryb2tlV2lkdGhcIl07IH1cbiAgICAvKiogc3Ryb2tlIG9wYWNpdHkgKi9cbiAgICBzZXQgc3Ryb2tlT3BhY2l0eShvcGFjaXR5KSB7IHRoaXMuX3NldFN0eWxlKFwic3Ryb2tlT3BhY2l0eVwiLCBvcGFjaXR5KTsgfVxuICAgIGdldCBzdHJva2VPcGFjaXR5KCkgeyByZXR1cm4gdGhpcy5faW5uZXJTdHlsZVtcInN0cm9rZU9wYWNpdHlcIl07IH1cbiAgICAvKiogc3Ryb2tlIGxpbmVjYXAgKi9cbiAgICBzZXQgc3Ryb2tlTGluZWNhcChsaW5lY2FwKSB7IHRoaXMuX3NldFN0eWxlKFwic3Ryb2tlTGluZWNhcFwiLCBsaW5lY2FwKTsgfVxuICAgIGdldCBzdHJva2VMaW5lY2FwKCkgeyByZXR1cm4gdGhpcy5faW5uZXJTdHlsZVtcInN0cm9rZUxpbmVjYXBcIl07IH1cbiAgICAvKiogc3Ryb2tlIGxpbmVqb2luICovXG4gICAgc2V0IHN0cm9rZUxpbmVqb2luKGxpbmVqb2luKSB7IHRoaXMuX3NldFN0eWxlKFwic3Ryb2tlTGluZWpvaW5cIiwgbGluZWpvaW4pOyB9XG4gICAgZ2V0IHN0cm9rZUxpbmVqb2luKCkgeyByZXR1cm4gdGhpcy5faW5uZXJTdHlsZVtcInN0cm9rZUxpbmVqb2luXCJdOyB9XG4gICAgLyoqIGZpbHRlciAqL1xuICAgIHNldCBmaWx0ZXIoZmlsdGVyKSB7XG4gICAgICAgIGlmIChmaWx0ZXIuc3Vic3RyKDAsIDQpICE9PSBcInVybChcIikge1xuICAgICAgICAgICAgZmlsdGVyID0gXCJ1cmwoXCIgKyBmaWx0ZXIgKyBcIilcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRTdHlsZShcImZpbHRlclwiLCBmaWx0ZXIpO1xuICAgIH1cbiAgICBnZXQgZmlsdGVyKCkgeyByZXR1cm4gdGhpcy5faW5uZXJTdHlsZVtcImZpbHRlclwiXTsgfVxuICAgIHNldCB0cmFuc2Zvcm0odHJhbnNmb3JtKSB7IHRoaXMuX3RyYW5zZm9ybSA9IHRyYW5zZm9ybTsgfVxuICAgIGdldCB0cmFuc2Zvcm0oKSB7IHJldHVybiB0aGlzLl90cmFuc2Zvcm07IH1cbiAgICBzZXQgdHJhbnNpdGlvbih0cmFuc2l0aW9uKSB7IHRoaXMuX3NldFN0eWxlKFwidHJhbnNpdGlvblwiLCB0cmFuc2l0aW9uKTsgfVxuICAgIGdldCB0cmFuc2l0aW9uKCkgeyByZXR1cm4gdGhpcy5faW5uZXJTdHlsZVtcInRyYW5zaXRpb25cIl07IH1cbiAgICBzZXQgc3Ryb2tlRGFzaEFycmF5KGRhc2hBcnJheSkgeyB0aGlzLl9zdHJva2VEYXNoQXJyYXkgPSBkYXNoQXJyYXk7IH1cbiAgICBnZXQgc3Ryb2tlRGFzaEFycmF5KCkgeyByZXR1cm4gdGhpcy5fc3Ryb2tlRGFzaEFycmF5OyB9XG4gICAgLyoqXG4gICAgICogbWVyZ2VcbiAgICAgKlxuICAgICAqIE1lcmdlIGFub3RoZXIgc3R5bGUgb2JqZWN0IGludG8gdGhpc1xuICAgICAqIEBwYXJhbSBcdHN0eWxlIFx0VGhlIHN0eWxlIHRvIG1lcmdlIGluXG4gICAgICpcbiAgICAgKi9cbiAgICBtZXJnZShzdHlsZSkge1xuICAgICAgICBsZXQgbWFwcGFibGUgPSAoc3R5bGUuX2lubmVyU3R5bGUpIHx8IHN0eWxlO1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcChtYXBwYWJsZSwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faW5uZXJTdHlsZVtrZXldIHx8ICh0aGlzLl9pbm5lclN0eWxlW2tleV0gPT09IFwiTm9uZVwiKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lubmVyU3R5bGVba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF0aGlzLl9zdHJva2VEYXNoQXJyYXkpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0cm9rZURhc2hBcnJheSA9IG1hcHBhYmxlLnN0cm9rZURhc2hBcnJheTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3RyYW5zZm9ybSkge1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtID0gbWFwcGFibGUudHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNsZWFyXG4gICAgICpcbiAgICAgKiBDbGVhciBvdXQgb3VyIGlubmVyIHN0eWxlcyB0byBkZWZhdWx0c1xuICAgICAqXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2lubmVyU3R5bGUgPSB7XG4gICAgICAgICAgICBmaWxsOiBcIk5vbmVcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJOb25lXCJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYXNzaWduU3R5bGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSBcdGVsZW1lbnQgXHRUaGUgZWxlbWVudCB0byBzZXQgc3R5bGVzIG9uXG4gICAgICpcbiAgICAgKi9cbiAgICBhc3NpZ25TdHlsZShlbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9uZWVkc05ld1N0cmluZykge1xuICAgICAgICAgICAgdGhpcy5fZ2VuZXJhdGVTdHlsZVN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgdGhpcy5fZ2VuZXJhdGVkU3R5bGVTdHJpbmcpO1xuICAgICAgICBpZiAodGhpcy5fc3Ryb2tlRGFzaEFycmF5KSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcInN0cm9rZS1kYXNoYXJyYXlcIiwgdGhpcy5fc3Ryb2tlRGFzaEFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLCB0aGlzLl90cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9nZW5lcmF0ZVN0eWxlU3RyaW5nXG4gICAgICpcbiAgICAgKiBHZW5lcmF0ZSB0aGUgYXBwcm9wcmlhdGUgc3RyaW5nIGZvciB0aGUgY3VycmVudCBzdHlsZVxuICAgICAqXG4gICAgICovXG4gICAgX2dlbmVyYXRlU3R5bGVTdHJpbmcoKSB7XG4gICAgICAgIHRoaXMuX2dlbmVyYXRlZFN0eWxlU3RyaW5nID0gXCJcIjtcbiAgICAgICAgbmF2aWdhdGVfMS5tYXAodGhpcy5faW5uZXJTdHlsZSwgKHByb3BWYWx1ZSwgcHJvcE5hbWUpID0+IHtcbiAgICAgICAgICAgIGxldCBmb3JtYXR0ZWRQcm9wTmFtZSA9IHN0eWxlc18xLmdldFByb3BlcnR5TmFtZShwcm9wTmFtZSk7XG4gICAgICAgICAgICB0aGlzLl9nZW5lcmF0ZWRTdHlsZVN0cmluZyArPSBzdHJpbmdzXzEuZm9ybWF0KFwiezB9OiB7MX07XCIsIGZvcm1hdHRlZFByb3BOYW1lLCBwcm9wVmFsdWUudG9TdHJpbmcoKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuU1ZHU3R5bGUgPSBTVkdTdHlsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgc3ZnRWxlbWVudF8xID0gcmVxdWlyZShcIi4vc3ZnRWxlbWVudFwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIFJlY3RhbmdsZUVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERyYXcgYSByZWN0YW5nbGUgb24gdGhlIFNWRyBlbGVtZW50XG4gKiBAdmVyc2lvbiAxLjBcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBSZWN0YW5nbGVFbGVtZW50IGV4dGVuZHMgc3ZnRWxlbWVudF8xLlNWR0VsZW0ge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHJlY3RhbmdsZSBlbGVtZW50XG4gICAgICogQHBhcmFtICAgeCAgICAgICAgICAgVGhlIGhvcml6b250YWwgcG9zaXRpb24gb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSAgIHkgICAgICAgICAgIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtICAgd2lkdGggICAgICAgVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0gICBoZWlnaHQgICAgICBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0gICBhdHRyaWJ1dGVzICBBdHRyaWJ1dGVzIHRvIHN0YXJ0IHdpdGhcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIHdpZHRoLCBoZWlnaHQsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgc3VwZXIoYXR0cmlidXRlcywgeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zZXRBdHRyaWJ1dGVzXG4gICAgICpcbiAgICAgKiBTZXQgdGhlIGFwcHJvcHJpYXRlIGF0dHJpYnV0ZXMgZm9yIHRoaXMgZWxlbWVudFxuICAgICAqXG4gICAgICogQHBhcmFtICAgYXR0cmlidXRlcyAgSW5pdGlhbCBzZXQgb2YgYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSAgIHggICAgICAgICAgIFRoZSBob3Jpem9udGFsIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gICB5ICAgICAgICAgICBUaGUgdmVydGljYWwgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSAgIHdpZHRoICAgICAgIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtICAgaGVpZ2h0ICAgICAgVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgdXBkYXRlZCBhdHRyaWJ1dGVzXG4gICAgICpcbiAgICAgKi9cbiAgICBfc2V0QXR0cmlidXRlcyhhdHRyaWJ1dGVzLCB4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGF0dHJpYnV0ZXMudHlwZSA9IFwicmVjdFwiO1xuICAgICAgICBhdHRyaWJ1dGVzLnggPSB4O1xuICAgICAgICBhdHRyaWJ1dGVzLnkgPSB5O1xuICAgICAgICBhdHRyaWJ1dGVzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGF0dHJpYnV0ZXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9XG4gICAgX3VwZGF0ZUV4dHJlbWEoYXR0cmlidXRlcykge1xuICAgICAgICBsZXQgcmVjdCA9IHtcbiAgICAgICAgICAgIHg6IGF0dHJpYnV0ZXMueCxcbiAgICAgICAgICAgIHk6IGF0dHJpYnV0ZXMueSxcbiAgICAgICAgICAgIHc6IGF0dHJpYnV0ZXMud2lkdGgsXG4gICAgICAgICAgICBoOiBhdHRyaWJ1dGVzLmhlaWdodFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9leHRyZW1hID0gdGhpcy5fYmFzaWNSZWN0VG9FeHRyZW1hKHJlY3QpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYmFzaWNSZWN0VG9FeHRyZW1hXG4gICAgICpcbiAgICAgKiBoZWxwZXIgZnVuY3Rpb24gdG8gdHVybiBhIGJhc2ljIHJlY3QgdG8gZXh0cmVtYVxuICAgICAqIEBwYXJhbVx0cmVjdFx0UmVjdCB0byBjb252ZXJ0XG4gICAgICogQHJldHVybnNcdFRoZSBleHRyZW1hIHRoYXQgY29ycmVzcG9uZCB3aXRoIHRoZSByZWN0XG4gICAgICpcbiAgICAgKi9cbiAgICBfYmFzaWNSZWN0VG9FeHRyZW1hKHJlY3QpIHtcbiAgICAgICAgbGV0IGV4dHJlbWEgPSB7XG4gICAgICAgICAgICBtaW46IHsgeDogcmVjdC54LCB5OiByZWN0LnkgfSxcbiAgICAgICAgICAgIG1heDogeyB4OiByZWN0LnggKyByZWN0LncsIHk6IHJlY3QueSArIHJlY3QuaCB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBleHRyZW1hO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2hlY2tCYXNpY1JlY3RGb3JCYWREYXRhXG4gICAgICpcbiAgICAgKiBoZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgdGhhdCBhIHJlY3RhbmdsZSBpcyBhY3R1YWxseSByZW5kZXJhYmxlXG4gICAgICogQHBhcmFtXHRyZWN0XHREZXRlcm1pbmUgaWYgYSByZWN0YW5nbGUgaXMgcmVuZGVyYWJsZVxuICAgICAqXG4gICAgICovXG4gICAgX2NoZWNrQmFzaWNSZWN0Rm9yQmFkRGF0YShyZWN0KSB7XG4gICAgICAgIGxldCBlcnIgPSBmYWxzZTtcbiAgICAgICAgLy8gY2hlY2sgZm9yIG51bGwgdmFsdWVzIGZpcnN0XG4gICAgICAgIGlmIChyZWN0LnggIT09IDAgJiYgIXJlY3QueCkge1xuICAgICAgICAgICAgZXJyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVjdC55ICE9PSAwICYmICFyZWN0LnkpIHtcbiAgICAgICAgICAgIGVyciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlY3QudyAhPT0gMCAmJiAhcmVjdC53KSB7XG4gICAgICAgICAgICBlcnIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWN0LmggIT09IDAgJiYgIXJlY3QuaCkge1xuICAgICAgICAgICAgZXJyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGVuIGZvciBub24tc2Vuc2ljYWxcbiAgICAgICAgaWYgKHJlY3QudyA8IDApIHtcbiAgICAgICAgICAgIGVyciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlY3QuaCA8IDApIHtcbiAgICAgICAgICAgIGVyciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBiYXNpYyByZWN0YW5nbGUgdmFsdWVzXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5SZWN0YW5nbGVFbGVtZW50ID0gUmVjdGFuZ2xlRWxlbWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgc3ZnRWxlbWVudF8xID0gcmVxdWlyZShcIi4vc3ZnRWxlbWVudFwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIENpcmNsZUVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEB2ZXJzaW9uIDEuMFxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIENpcmNsZUVsZW1lbnQgZXh0ZW5kcyBzdmdFbGVtZW50XzEuU1ZHRWxlbSB7XG4gICAgY29uc3RydWN0b3IoY2VudGVyLCByYWRpdXMsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgc3VwZXIoYXR0cmlidXRlcywgY2VudGVyLCByYWRpdXMpO1xuICAgIH1cbiAgICBfc2V0QXR0cmlidXRlcyhhdHRyaWJ1dGVzLCBjZW50ZXIsIHJhZGl1cykge1xuICAgICAgICBhdHRyaWJ1dGVzLnR5cGUgPSBcImNpcmNsZVwiO1xuICAgICAgICBhdHRyaWJ1dGVzLmN4ID0gY2VudGVyLng7XG4gICAgICAgIGF0dHJpYnV0ZXMuY3kgPSBjZW50ZXIueTtcbiAgICAgICAgYXR0cmlidXRlcy5yID0gcmFkaXVzO1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9XG4gICAgX3VwZGF0ZUV4dHJlbWEoYXR0cmlidXRlcykge1xuICAgICAgICB0aGlzLl9leHRyZW1hID0gdGhpcy5fZXh0cmVtYUZyb21DZW50ZXJQb2ludEFuZFJhZGl1cyh7IHg6IGF0dHJpYnV0ZXMuY3gsIHk6IGF0dHJpYnV0ZXMuY3kgfSwgYXR0cmlidXRlcy5yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2V4dHJlbWFGcm9tQ2VudGVyUG9pbnRBbmRSYWRpdXNcbiAgICAgKlxuICAgICAqIGhlbHBlciBmdW5jdGlvbiB0byBjYWxjdWxhdGUgZXh0cmVtYSBmcm9tIGEgY2VudHJhbCBwb2ludCBhbmQgcmFkaXVzXG4gICAgICpcbiAgICAgKi9cbiAgICBfZXh0cmVtYUZyb21DZW50ZXJQb2ludEFuZFJhZGl1cyhjZW50ZXIsIHJhZGl1cykge1xuICAgICAgICBsZXQgZXh0cmVtYSA9IHtcbiAgICAgICAgICAgIG1heDogeyB4OiBjZW50ZXIueCArIHJhZGl1cywgeTogY2VudGVyLnkgKyByYWRpdXMgfSxcbiAgICAgICAgICAgIG1pbjogeyB4OiBjZW50ZXIueCAtIHJhZGl1cywgeTogY2VudGVyLnkgLSByYWRpdXMgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZXh0cmVtYTtcbiAgICB9XG59XG5leHBvcnRzLkNpcmNsZUVsZW1lbnQgPSBDaXJjbGVFbGVtZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vYXJjXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NoZWNrXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2N1cnZlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2V4XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3BhdGhFeHRlbnNpb25cIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcGllU2xpY2VcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcGx1c1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wb2x5Z29uXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3N0YXJcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBwYXRoRXh0ZW5zaW9uXzEgPSByZXF1aXJlKFwiLi9wYXRoRXh0ZW5zaW9uXCIpO1xuY29uc3QgbWF0aHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9tYXRoc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0QXJjRWxlbWVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlIGFuIGFyYyB0byByZW5kZXIgb24gYW4gU1ZHIGNhbnZhc1xuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0Mi4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQXJjRWxlbWVudCBleHRlbmRzIHBhdGhFeHRlbnNpb25fMS5QYXRoRXh0ZW5zaW9uRWxlbWVudCB7XG4gICAgLyoqXG4gICAgICogQXJjRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gY2VudGVyUHRcbiAgICAgKiBAcGFyYW0gcmFkaXVzXG4gICAgICogQHBhcmFtIHN0YXJ0RGVncmVlXG4gICAgICogQHBhcmFtIGVuZERlZ3JlZVxuICAgICAqIEBwYXJhbSBkaXJlY3Rpb25cbiAgICAgKiBAcGFyYW0gYXR0clxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNlbnRlclB0LCByYWRpdXMsIHN0YXJ0RGVncmVlLCBlbmREZWdyZWUsIGRpcmVjdGlvbiwgYXR0cikge1xuICAgICAgICBzdXBlcihudWxsLCBhdHRyLCBjZW50ZXJQdCwgcmFkaXVzLCBzdGFydERlZ3JlZSwgZW5kRGVncmVlLCBkaXJlY3Rpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfZ2VuZXJhdGVQb2ludHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR2VuZXJhdGUgcG9pbnRzIGZvciB0aGlzIHBhcnRpY3VsYXIgYXJjXG4gICAgICogQHBhcmFtIFx0Y2VudGVyUHRcbiAgICAgKiBAcGFyYW0gXHRyYWRpdXNcbiAgICAgKiBAcGFyYW0gXHRzdGFydERlZ3JlZVxuICAgICAqIEBwYXJhbSBcdGVuZERlZ3JlZVxuICAgICAqIEBwYXJhbSBcdGRpcmVjdGlvblxuICAgICAqIEBwYXJhbSBcdG5vUmFkaWlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUaGUgY3JlYXRlZCBzZXQgb2YgcG9pbnRzIGZvciB0aGUgYXJjXG4gICAgICovXG4gICAgX2dlbmVyYXRlUG9pbnRzKGNlbnRlclB0LCByYWRpdXMsIHN0YXJ0RGVncmVlLCBlbmREZWdyZWUsIGRpcmVjdGlvbikge1xuICAgICAgICAvLyBnZW5lcmF0ZSBzb21lIHZhbHVlcyB0aGF0IHdlJ2xsIG5lZWQgbGF0ZXJcbiAgICAgICAgbGV0IGFkanVzdGVkUG9pbnQgPSB0aGlzLl9nZXRBZGp1c3RlZFBvaW50KGNlbnRlclB0KTtcbiAgICAgICAgbGV0IGFuZ2xlRGlmZiA9IChlbmREZWdyZWUgLSBzdGFydERlZ3JlZSk7XG4gICAgICAgIC8vIHN0YXJ0IHBvaW50IGlzIG5pY2UgYW5kIHNpbXBsZTogZ3JhYiB0aGUgcG9pbnQgb24gdGhlIGNpcmNsZSB3aGVyZSB3ZSBzaG91bGQgYmUgcmVuZGVyaW5nXG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMuX2NhbGN1bGF0ZVBvbHlnb25Qb2ludChhZGp1c3RlZFBvaW50LCBtYXRoc18xLmRlZ3JlZXNUb1JhZGlhbnMoc3RhcnREZWdyZWUpLCByYWRpdXMpO1xuICAgICAgICAvLyBlbmQgcG9pbnQgaXMgdHJpY2tpZXI7IHRoaXMgbmVlZHMgdG8gYWNjb3VudCBmb3IgdGhlIGFyYyBhdHRyaWJ1dGVzXG4gICAgICAgIGxldCBlbmQgPSB0aGlzLl9jYWxjdWxhdGVQb2x5Z29uUG9pbnQoYWRqdXN0ZWRQb2ludCwgbWF0aHNfMS5kZWdyZWVzVG9SYWRpYW5zKGVuZERlZ3JlZSksIHJhZGl1cyk7XG4gICAgICAgIGxldCBlbmRBcmMgPSB7XG4gICAgICAgICAgICB4OiBlbmQueCxcbiAgICAgICAgICAgIHk6IGVuZC55LFxuICAgICAgICAgICAgbGFyZ2VBcmM6IChhbmdsZURpZmYgPiAxODApID8gMSA6IDAsXG4gICAgICAgICAgICByYWRpdXM6IHsgeDogcmFkaXVzLCB5OiByYWRpdXMgfSxcbiAgICAgICAgICAgIHN3ZWVwRmxhZzogZGlyZWN0aW9uLFxuICAgICAgICAgICAgeFJvdGF0aW9uOiAwXG4gICAgICAgIH07XG4gICAgICAgIC8vIHJldHVybiB0aGUgcG9pbnRzIG9uIHRoZSBhcmNcbiAgICAgICAgbGV0IG91dCA9IFtcbiAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgZW5kQXJjXG4gICAgICAgIF07XG4gICAgICAgIC8vIGFkZCB0aGUgY2VudGVyIHBvaW50IGlmIHdlIGFyZSBhIHNsaWNlIG9mIGEgcGllXG4gICAgICAgIGlmICh0aGlzLl9zaG91bGRTaG93UmFkaWkoKSkge1xuICAgICAgICAgICAgb3V0LnB1c2goY2VudGVyUHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9nZXRBZGp1c3RlZFBvaW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFkanVzdCB0aGUgY2VudGVyIHBvaW50IGJ5IGEgc3Ryb2tlIG9mZnNldCBzbyB3ZSByZW5kZXIgY29ycmVjdGx5XG4gICAgICogQHBhcmFtIFx0Y2VudGVyUHQgXHRUaGUgY2VudHJhbCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VGhlIGFkanVzdGVkIHBvaW50XG4gICAgICovXG4gICAgX2dldEFkanVzdGVkUG9pbnQoY2VudGVyUHQpIHtcbiAgICAgICAgLy8gYWRqdXN0IGJ5IHRoZSB3aWR0aCBvZiB0aGUgc3Ryb2tlXG4gICAgICAgIGxldCBhZGp1c3QgPSB0aGlzLl9zdHlsZS5zdHJva2VXaWR0aCAqIE1hdGguc3FydCgyKSB8fCAwO1xuICAgICAgICBsZXQgYWRqdXN0ZWRQb2ludCA9IHtcbiAgICAgICAgICAgIHg6IGNlbnRlclB0LnggKyBhZGp1c3QsXG4gICAgICAgICAgICB5OiBjZW50ZXJQdC55ICsgYWRqdXN0XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBhZGp1c3RlZFBvaW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfc2hvdWxkU2hvd1JhZGlpXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFRydWUgaWYgdGhpcyBzaG91bGQgYmUgcmVuZGVyZWQgYXMgYSBwaWUgd2VkZ2UsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqIEByZXR1cm5zXHRGYWxzZVxuICAgICAqL1xuICAgIF9zaG91bGRTaG93UmFkaWkoKSB7IHJldHVybiBmYWxzZTsgfVxufVxuZXhwb3J0cy5BcmNFbGVtZW50ID0gQXJjRWxlbWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgcGF0aEV4dGVuc2lvbl8xID0gcmVxdWlyZShcIi4vcGF0aEV4dGVuc2lvblwiKTtcbmNvbnN0IG1hdGhzXzEgPSByZXF1aXJlKFwiLi4vLi4vbWF0aHNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdFBvbHlnb25FbGVtZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uXHQxLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgUG9seWdvbkVsZW1lbnQgZXh0ZW5kcyBwYXRoRXh0ZW5zaW9uXzEuUGF0aEV4dGVuc2lvbkVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGNlbnRlclB0LCBzaWRlcywgcmFkaXVzLCBhdHRyLCBpbm5lclJhZGl1cykge1xuICAgICAgICBzdXBlcihudWxsLCBhdHRyLCBjZW50ZXJQdCwgc2lkZXMsIHJhZGl1cywgaW5uZXJSYWRpdXMpO1xuICAgIH1cbiAgICBfZ2VuZXJhdGVQb2ludHMoY2VudGVyUHQsIHNpZGVzLCByYWRpdXMsIGlubmVyUmFkaXVzKSB7XG4gICAgICAgIC8vIEdlbmVyYXRlIHRoZSBwb2ludCBsaXN0IGZvciB0aGUgcG9seWdvblxuICAgICAgICBsZXQgcG9pbnRzID0gW107XG4gICAgICAgIGxldCBjdXJBbmdsZSA9IDA7XG4gICAgICAgIGxldCBpbnRBbmdsZSA9IG1hdGhzXzEuY2FsY3VsYXRlUG9seWdvbkludGVybmFsQW5nbGUoc2lkZXMpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpZGVzOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGxldCBwdCA9IHRoaXMuX2NhbGN1bGF0ZVBvbHlnb25Qb2ludChjZW50ZXJQdCwgY3VyQW5nbGUsIHJhZGl1cyk7XG4gICAgICAgICAgICBjdXJBbmdsZSArPSBpbnRBbmdsZTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHB0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgIH1cbn1cbmV4cG9ydHMuUG9seWdvbkVsZW1lbnQgPSBQb2x5Z29uRWxlbWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgc3ZnRWxlbWVudF8xID0gcmVxdWlyZShcIi4vc3ZnRWxlbWVudFwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uLy4uL3N0eWxlSGVscGVycy9jc3NcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdFRleHRFbGVtZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiByZW5kZXIgdGV4dCBvbiB0aGUgU1ZHIGNhbnZhc1xuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgVGV4dEVsZW1lbnQgZXh0ZW5kcyBzdmdFbGVtZW50XzEuU1ZHRWxlbSB7XG4gICAgY29uc3RydWN0b3IodGV4dCwgcG9pbnQsIG9yaWdpblB0LCBhdHRyKSB7XG4gICAgICAgIHN1cGVyKGF0dHIsIHRleHQsIHBvaW50LCBvcmlnaW5QdCk7XG4gICAgfVxuICAgIGdldCBzdHlsZSgpIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc3R5bGUuYXNzaWduU3R5bGUodGhpcy5fZWxlbXMuYmFzZSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX29yaWdpblB0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbm90aWZ5VXBkYXRlTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gICAgfVxuICAgIF9zZXRBdHRyaWJ1dGVzKGF0dHIsIHRleHQsIHBvaW50LCBvcmlnaW5QdCkge1xuICAgICAgICBhdHRyLnR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgYXR0ci54ID0gcG9pbnQueDtcbiAgICAgICAgYXR0ci55ID0gcG9pbnQueTtcbiAgICAgICAgLy8gc3RvcmUgdGhlIHBpZWNlcyB0aGF0IGhhdmUgdG8gYmUgYWRkZWQgcG9zdC1jcmVhdGlvblxuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5fb3JpZ2luUHQgPSBvcmlnaW5QdDtcbiAgICAgICAgcmV0dXJuIGF0dHI7XG4gICAgfVxuICAgIF9jcmVhdGVFbGVtZW50cyhhdHRyKSB7XG4gICAgICAgIHN1cGVyLl9jcmVhdGVFbGVtZW50cyhhdHRyKTtcbiAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJ1bnNlbGVjdGFibGVcIik7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgdGV4dFxuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLmlubmVySFRNTCA9IHRoaXMuX3RleHQ7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgb3JpZ2luIHBvaW50IGlmIHByb3ZpZGVkXG4gICAgICAgIGlmICh0aGlzLl9vcmlnaW5QdCkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlT3JpZ2luUG9pbnQoYXR0cik7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5zdHlsZS5kaXNwbGF5ID0gXCJkZWZhdWx0XCI7XG4gICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2hhbmRsZU9yaWdpblBvaW50KGF0dHIpIHtcbiAgICAgICAgbGV0IGJveCA9IHRoaXMubWVhc3VyZUVsZW1lbnQoKTtcbiAgICAgICAgbGV0IG5ld1B0ID0ge1xuICAgICAgICAgICAgeDogYXR0ci54IC0gKGJveC53ICogdGhpcy5fb3JpZ2luUHQueCksXG4gICAgICAgICAgICB5OiBhdHRyLnkgLSAoKGJveC5oIC0gKChhdHRyLnkgLSBib3gueSkgKiAyKSkgKiB0aGlzLl9vcmlnaW5QdC55KVxuICAgICAgICB9O1xuICAgICAgICBjb25zb2xlLmxvZyhcImJveDogKFwiICsgYm94LnggKyBcIiwgXCIgKyBib3gueSArIFwiKSAtPiAoXCIgKyBib3gudyArIFwiLCBcIiArIGJveC5oICsgXCIpXCIpO1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLnNldEF0dHJpYnV0ZShcInhcIiwgbmV3UHQueC50b1N0cmluZygpKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5zZXRBdHRyaWJ1dGUoXCJ5XCIsIG5ld1B0LnkudG9TdHJpbmcoKSk7XG4gICAgICAgIGJveC54ID0gbmV3UHQueDtcbiAgICAgICAgYm94LnkgPSBuZXdQdC55O1xuICAgICAgICBjb25zb2xlLmxvZyhcImJveDogKFwiICsgYm94LnggKyBcIiwgXCIgKyBib3gueSArIFwiKSAtPiAoXCIgKyBib3gudyArIFwiLCBcIiArIGJveC5oICsgXCIpXCIpO1xuICAgICAgICB0aGlzLl91cGRhdGVFeHRyZW1hKGJveCk7XG4gICAgICAgIHRoaXMuX25vdGlmeVVwZGF0ZUxpc3RlbmVycygpO1xuICAgIH1cbiAgICBfdXBkYXRlRXh0cmVtYUFuZE5vdGlmeUxpc3RlbmVycyhhdHRyKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUV4dHJlbWEoYXR0cik7XG4gICAgfVxuICAgIF91cGRhdGVFeHRyZW1hKGF0dHIpIHtcbiAgICAgICAgbGV0IHJlY3QgPSB0aGlzLm1lYXN1cmVFbGVtZW50KCk7XG4gICAgICAgIHRoaXMuX2V4dHJlbWEgPSB7XG4gICAgICAgICAgICBtaW46IHsgeDogcmVjdC54LCB5OiByZWN0LnkgfSxcbiAgICAgICAgICAgIG1heDogeyB4OiByZWN0LnggKyByZWN0LncsIHk6IHJlY3QueSArIHJlY3QuaCB9XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5UZXh0RWxlbWVudCA9IFRleHRFbGVtZW50O1xuVGV4dEVsZW1lbnQuX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi51bnNlbGVjdGFibGVcIjoge1xuICAgICAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgTW96VXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgIFdlYmtpdFVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICBraHRtbFVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICBvVXNlclNlbGVjdDogXCJub25lXCJcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0ZXN0VWlfMSA9IHJlcXVpcmUoXCIuLi90ZXN0VWlcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBDb25zb2xlVW5pdFRlc3RzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBSdW4gYWxsIGFwcHJvcHJpYXRlIHVuaXQgdGVzdHMgdGhhdCBjYW4gcnVuIGluIHRoZSBjb25zb2xlXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIENvbnNvbGVVbml0VGVzdFVJIGV4dGVuZHMgdGVzdFVpXzEuVGVzdFVJIHtcbiAgICAvKipcbiAgICAgKiByZW5kZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogUmVuZGVycyB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0IHRvIHRoZSBjb25zb2xlXG4gICAgICovXG4gICAgcmVuZGVyVGVzdChyZXN1bHQpIHtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSB0aGlzLl9idWlsZFRlc3RTdHJpbmcocmVzdWx0KTtcbiAgICAgICAgaWYgKHJlc3VsdC5wYXNzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0YXJ0R3JvdXBcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR2VuZXJhdGUgc2VwYXJhdG9yIGZvciBncm91cHNcbiAgICAgKi9cbiAgICBzdGFydEdyb3VwKGdyb3VwTmFtZSkge1xuICAgICAgICBsZXQgaGVhZGVyU3RyID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cE5hbWUubGVuZ3RoICsgMjsgaSArPSAxKSB7XG4gICAgICAgICAgICBoZWFkZXJTdHIgKz0gXCI9XCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3VycmVudEdyb3VwID0gZ3JvdXBOYW1lO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlxcblwiICsgaGVhZGVyU3RyICsgXCJcXG4gXCIgKyBncm91cE5hbWUgKyBcIiBcXG5cIiArIGhlYWRlclN0cik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0YXJ0U3ViZ3JvdXBcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR2VuZXJhdGUgc2VwYXJhdG9yIGZvciBzdWJncm91cHNcbiAgICAgKi9cbiAgICBzdGFydFN1Ymdyb3VwKHN1Ymdyb3VwTmFtZSkge1xuICAgICAgICBsZXQgaGVhZGVyU3RyID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdWJncm91cE5hbWUubGVuZ3RoICsgMjsgaSArPSAxKSB7XG4gICAgICAgICAgICBoZWFkZXJTdHIgKz0gXCItXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3VycmVudFN1Ymdyb3VwID0gc3ViZ3JvdXBOYW1lO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlxcbiBcIiArIHN1Ymdyb3VwTmFtZSArIFwiIFxcblwiICsgaGVhZGVyU3RyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2J1aWxkVGVzdFN0cmluZ1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGVzIGEgdGVzdCBlbGVtZW50IGZvciB0aGUgZGl2IHdpdGggdGhlIHNwZWNpZmllZCByZXN1bHRzXG4gICAgICogQHJldHVybnNcdFRoZSBzdHJpbmcgZGlzcGxheWluZyB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgX2J1aWxkVGVzdFN0cmluZyhyZXN1bHQpIHtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBcIlwiO1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLl9idWlsZFZhbHVlU3RyaW5nKHJlc3VsdCk7XG4gICAgICAgIGNvbnRlbnQgKz0gdGhpcy5fcGFzc1RvU3RyaW5nKHJlc3VsdC5wYXNzKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBjb250ZW50ICs9IFwiOiBcIjtcbiAgICAgICAgaWYgKCFyZXN1bHQucGFzcykge1xuICAgICAgICAgICAgY29udGVudCArPSB0aGlzLl9jdXJyZW50R3JvdXAgPyB0aGlzLl9jdXJyZW50R3JvdXAgKyBcIiAtLT4gXCIgOiBcIlwiO1xuICAgICAgICAgICAgY29udGVudCArPSB0aGlzLl9jdXJyZW50U3ViZ3JvdXAgPyB0aGlzLl9jdXJyZW50U3ViZ3JvdXAgKyBcIiAtLT4gXCIgOiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRlbnQgKz0gcmVzdWx0Lm5hbWU7XG4gICAgICAgIGNvbnRlbnQgKz0gKCEhdmFsdWUgPyBcIiBbXCIgKyB2YWx1ZSArIFwiXVwiIDogXCJcIik7XG4gICAgICAgIGNvbnRlbnQgKz0gKHJlc3VsdC5tZXNzYWdlID8gXCIgLSBcIiArIHJlc3VsdC5tZXNzYWdlIDogXCJcIik7XG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH1cbn1cbmV4cG9ydHMuQ29uc29sZVVuaXRUZXN0VUkgPSBDb25zb2xlVW5pdFRlc3RVSTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZHJhd2FibGVfMSA9IHJlcXVpcmUoXCIuLi8uLi9kcmF3YWJsZS9kcmF3YWJsZVwiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi8uLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgSFRNTFRlc3RcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEdlbmVyYXRlIGEgSFRNTCBVSSBmb3IgYSBzZXQgb2YgdW5pdCB0ZXN0c1xuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBVSSBleHRlbmRzIGRyYXdhYmxlXzEuRHJhd2FibGUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9lbGVtcyA9IHtcbiAgICAgICAgICAgIGJhc2U6IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICBjbHM6IFwidGVzdHNcIlxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBncm91cHM6IFtdXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2VsZW1zLnRlc3RDb250YWluZXIgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwidGVzdENvbnRhaW5lclwiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBhZGRWaXN1YWxCdXR0b25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWRkIGEgYnV0dG9uIHRoYXQgY2FuIHJlbmRlciBhbiBpbnRlZ3JhdGlvbiB0ZXN0IGZvciB2ZXJpZmljYXRpb24gd2l0aCB0aGVcbiAgICAgKiBzcGVjaWZpZWQgZGV0YWlsc1xuICAgICAqL1xuICAgIGFkZFZpc3VhbEJ1dHRvbihidG4pIHtcbiAgICAgICAgbGV0IGJ0bkVsZW0gPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwidmlzdWFsVGVzdEJ0blwiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9nZXRQYXJlbnRFbGVtZW50KCksXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHsgY29udGVudDogYnRuLmxhYmVsLCBjbHM6IFwiaW5uZXJCdG5cIiB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lcnM6IHtcbiAgICAgICAgICAgICAgICBjbGljazogKCkgPT4geyBidG4uY2FsbGJhY2soKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWRkVGVzdFJlc3VsdChyZXN1bHQpIHtcbiAgICAgICAgbGV0IGdyb3VwID0gdGhpcy5fZ2V0UGFyZW50RWxlbWVudCgpO1xuICAgICAgICBsZXQgdGVzdCA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJ0ZXN0XCIsXG4gICAgICAgICAgICBwYXJlbnQ6IGdyb3VwLFxuICAgICAgICAgICAgYXR0cjogeyB0aXRsZTogcmVzdWx0LnZhbHVlIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHsgY2xzOiByZXN1bHQucGFzc1N0ciwgY29udGVudDogcmVzdWx0LnBhc3NTdHIudG9VcHBlckNhc2UoKSwgcGFyZW50OiB0ZXN0IH0pO1xuICAgICAgICBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7IGNsczogXCJuYW1lXCIsIGNvbnRlbnQ6IHJlc3VsdC5uYW1lLCBwYXJlbnQ6IHRlc3QgfSk7XG4gICAgICAgIGlmICghcmVzdWx0LnBhc3MpIHtcbiAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHsgY2xzOiBcImVyclwiLCBjb250ZW50OiByZXN1bHQudmFsdWUsIHBhcmVudDogdGVzdCB9KTtcbiAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHsgY2xzOiBcIm1lc3NhZ2VcIiwgY29udGVudDogcmVzdWx0Lm1lc3NhZ2UsIHBhcmVudDogdGVzdCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBzdGFydEdyb3VwXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEdlbmVyYXRlIGEgZ3JvdXAgb2YgdW5pdCB0ZXN0cywgbGFiZWxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZVxuICAgICAqL1xuICAgIHN0YXJ0R3JvdXAoZ3JvdXBOYW1lKSB7XG4gICAgICAgIGxldCBncm91cCA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJncm91cFwiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy50ZXN0Q29udGFpbmVyXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5ncm91cHMucHVzaChncm91cCk7XG4gICAgICAgIC8vIGFkZCB0aGUgbmFtZSBvZiB0aGUgZ3JvdXBcbiAgICAgICAgY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImdyb3VwTmFtZVwiLFxuICAgICAgICAgICAgcGFyZW50OiBncm91cCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGdyb3VwTmFtZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RhcnRTdWJncm91cFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBHZW5lcmF0ZSBhIHN1Ymdyb3VwIG9mIHVuaXQgdGVzdHMsIGxhYmVsZWQgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWVcbiAgICAgKi9cbiAgICBzdGFydFN1Ymdyb3VwKHN1Ymdyb3VwTmFtZSkge1xuICAgICAgICAvLyBjcmVhdGUgdGhlIHRpdGxlIGVsZW1lbnQgZm9yIHRoaXMgZ3JvdXAgb2YgZWxlbXNcbiAgICAgICAgY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImZ1bmN0aW9uVGl0bGVcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IHN1Ymdyb3VwTmFtZSxcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZ2V0UGFyZW50RWxlbWVudCgpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfZ2V0UGFyZW50RWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1zLmdyb3Vwc1t0aGlzLl9lbGVtcy5ncm91cHMubGVuZ3RoIC0gMV0gfHwgdGhpcy5fZWxlbXMudGVzdENvbnRhaW5lcjtcbiAgICB9XG59XG5leHBvcnRzLlVJID0gVUk7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuLyoqIHN0eWxlcyB0byB1c2UgZm9yIHRoaXMgdW5pdCB0ZXN0ICovXG5VSS5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLmhpZGRlblwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwibm9uZVwiXG4gICAgfSxcbiAgICBcIi5ncm91cFwiOiB7XG4gICAgICAgIG1hcmdpbkJvdHRvbTogXCIxMHB4XCIsXG4gICAgICAgIGRpc3BsYXk6IFwiIzY2NlwiLFxuICAgICAgICBib3JkZXJDb2xsYXBzZTogXCJjb2xsYXBzZVwiLFxuICAgICAgICB3aWR0aDogXCIyMCVcIlxuICAgIH0sXG4gICAgXCIuZ3JvdXBOYW1lXCI6IHtcbiAgICAgICAgZm9udFNpemU6IFwiMS42ZW1cIixcbiAgICAgICAgY29sb3I6IFwiIzY2NlwiXG4gICAgfSxcbiAgICBcIi5mdW5jdGlvblRpdGxlXCI6IHtcbiAgICAgICAgZm9udFNpemU6IFwiMS4zZW1cIixcbiAgICAgICAgY29sb3I6IFwiIzg4OFwiLFxuICAgICAgICBtYXJnaW5MZWZ0OiBcIjVweFwiXG4gICAgfSxcbiAgICBcIi50ZXN0c1wiOiB7XG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiNTBweFwiLFxuICAgICAgICBmb250RmFtaWx5OiBcIlNlZ29lIFVJLCBDYWxpYnJpLCBIZWx2ZXRpY2FcIlxuICAgIH0sXG4gICAgXCIudGVzdHMgLnRlc3RDb250YWluZXJcIjoge1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleFdyYXA6IFwid3JhcFwiXG4gICAgfSxcbiAgICBcIi50ZXN0XCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJ0YWJsZS1yb3dcIlxuICAgIH0sXG4gICAgXCIudGVzdCA+IGRpdlwiOiB7XG4gICAgICAgIGJvcmRlcjogXCJzb2xpZCB0cmFuc3BhcmVudFwiLFxuICAgICAgICBib3JkZXJXaWR0aDogXCIxMHB4XCIsXG4gICAgICAgIGJvcmRlclJpZ2h0V2lkdGg6IFwiMjBweFwiLFxuICAgICAgICBtYXJnaW5SaWdodDogXCIxMHB4XCIsXG4gICAgICAgIGRpc3BsYXk6IFwidGFibGUtY2VsbFwiXG4gICAgfSxcbiAgICBcIi50ZXN0IC5mYWlsXCI6IHtcbiAgICAgICAgY29sb3I6IFwicmdiKDE5MCw1MCwzMClcIixcbiAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCJcbiAgICB9LFxuICAgIFwiLnRlc3QgLnBhc3NcIjoge1xuICAgICAgICBjb2xvcjogXCJyZ2IoNTAsMTkwLDMwKVwiLFxuICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMTBweFwiLFxuICAgICAgICBkaXNwbGF5OiBcInRhYmxlLWNlbGxcIlxuICAgIH0sXG4gICAgXCIudGVzdCAubmFtZVwiOiB7XG4gICAgICAgIGNvbG9yOiBcIiMzMzNcIixcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMTBweFwiLFxuICAgICAgICBkaXNwbGF5OiBcInRhYmxlLWNlbGxcIlxuICAgIH0sXG4gICAgXCIudGVzdCAuZXJyXCI6IHtcbiAgICAgICAgZm9udFN0eWxlOiBcIml0YWxpY1wiLFxuICAgICAgICBjb2xvcjogXCIjNjY2XCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjAuOGVtXCJcbiAgICB9LFxuICAgIFwiLnRlc3QgLm1lc3NhZ2VcIjoge1xuICAgICAgICBjb2xvcjogXCIjODg4XCIsXG4gICAgICAgIG1hcmdpblJpZ2h0OiBcIjEwcHhcIixcbiAgICAgICAgZGlzcGxheTogXCJ0YWJsZS1jZWxsXCJcbiAgICB9LFxuICAgIFwiLnZpc3VhbFRlc3RCdG5cIjoge1xuICAgICAgICBjb2xvcjogXCIjRkZGXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMnB4IDEwcHhcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjNweFwiLFxuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICB3aWR0aDogXCJhdXRvXCIsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogXCI4cHhcIlxuICAgIH0sXG4gICAgXCIuaW5uZXJCdG5cIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzA2Q1wiLFxuICAgICAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiLFxuICAgICAgICBwYWRkaW5nOiBcIjJweCAxMHB4XCJcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0ZXN0VWlfMSA9IHJlcXVpcmUoXCIuLi90ZXN0VWlcIik7XG5jb25zdCBodG1sVWlfMSA9IHJlcXVpcmUoXCIuL2h0bWxVaVwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIEhUTUxVbml0VGVzdFVJXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBIVE1MVW5pdFRlc3RVSSBleHRlbmRzIHRlc3RVaV8xLlRlc3RVSSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLyoqXG4gICAgICogSFRNTFVuaXRUZXN0VUlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgVUkgbmVlZGVkIGZvciB0aGUgSFRNTCBVbml0IFRlc3RlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9kcmF3YWJsZSA9IG5ldyBodG1sVWlfMS5VSSgpO1xuICAgICAgICB0aGlzLl9kcmF3YWJsZS5kcmF3KGRvY3VtZW50LmJvZHkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiByZW5kZXJUZXN0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFNob3cgdGhlIHJlc3VsdHMgb2YgdGhlIHNwZWNpZmllZCB0ZXN0XG4gICAgICovXG4gICAgcmVuZGVyVGVzdChyZXN1bHQpIHtcbiAgICAgICAgbGV0IGV4dGVuZGVkUmVzdWx0cyA9IHJlc3VsdDtcbiAgICAgICAgZXh0ZW5kZWRSZXN1bHRzLnZhbHVlID0gdGhpcy5fYnVpbGRWYWx1ZVN0cmluZyhyZXN1bHQpO1xuICAgICAgICBleHRlbmRlZFJlc3VsdHMucGFzc1N0ciA9IHRoaXMuX3Bhc3NUb1N0cmluZyhyZXN1bHQucGFzcyk7XG4gICAgICAgIHRoaXMuX2RyYXdhYmxlLmFkZFRlc3RSZXN1bHQoZXh0ZW5kZWRSZXN1bHRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RhcnRHcm91cFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgYSBncm91cCwgbGFiZWxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdGVzdFxuICAgICAqL1xuICAgIHN0YXJ0R3JvdXAoZ3JvdXBOYW1lKSB7XG4gICAgICAgIHRoaXMuX2RyYXdhYmxlLnN0YXJ0R3JvdXAoZ3JvdXBOYW1lKTtcbiAgICB9XG4gICAgc3RhcnRTdWJncm91cChzdWJncm91cE5hbWUpIHtcbiAgICAgICAgdGhpcy5fZHJhd2FibGUuc3RhcnRTdWJncm91cChzdWJncm91cE5hbWUpO1xuICAgIH1cbiAgICBhZGRWaXN1YWxUZXN0QnV0dG9uKGJ0bikge1xuICAgICAgICB0aGlzLl9kcmF3YWJsZS5hZGRWaXN1YWxCdXR0b24oYnRuKTtcbiAgICB9XG59XG5leHBvcnRzLkhUTUxVbml0VGVzdFVJID0gSFRNTFVuaXRUZXN0VUk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9hc3luY1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9iaW5kaW5nXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2JvdW5kVmlld3NcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vY2FudmFzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvZGVFdmVudFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb2xvclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb21tYW5kc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb21wYXJhYmxlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvbnRleHRNZW51XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2RhdGFTdHJ1Y3R1cmVzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2RlYnVnXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2RyYWdnYWJsZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kcmF3YWJsZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9keW5hbWljU2VsZWN0XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2VkaXRhYmxlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2V2ZW50c1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9leHRlcm5hbFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9maWxlU2VydmVyXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2Zvcm1cIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaGlzdG9yeVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9odG1sSGVscGVyc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9pZGVudGlmaWFibGVcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaW1hZ2VcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vbWFuYWdlcnNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vbWF0aHNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vbW9kZWxcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vbmFtZWRDbGFzc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9uYXZpZ2F0aW9uXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL29iamVjdEhlbHBlcnNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcG9wdXBzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3ByaW1pdGl2ZUhlbHBlcnNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcm91dGluZ1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zZXJpYWxpemFibGVcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc2VydmVyXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NoaWVsZHNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc29ydGluZ1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zdHJ1Y3RzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3N0eWxhYmxlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3N0eWxlSGVscGVyc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zdmdcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdG9vbHRpcFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90eXBlR3VhcmRzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3VuaXRUZXN0c1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi92aWV3c1wiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogd2FpdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU2V0IGEgdGltZW91dCBhbmQgcmVzb2x2ZSBhIHByb21pc2Ugd2hlbiB0aGUgdGltZW91dCBpcyBkb25lXG4gKiBAcGFyYW0gICB0aW1lSW5NcyAgICBUaW1lIHRvIHdhaXQgYmVmb3JlIGV4ZWN1dGluZyB0aGVcbiAqL1xuZnVuY3Rpb24gd2FpdCh0aW1lSW5Ncykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHdpbmRvdy5zZXRUaW1lb3V0KHJlc29sdmUsIHRpbWVJbk1zKSk7XG59XG5leHBvcnRzLndhaXQgPSB3YWl0O1xuLyoqXG4gKiBvbk5leHRSZW5kZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFJ1biBzb21lIGNvZGUgdGhlIG5leHQgdGltZSB0aGUgc2NyZWVuIGlzIHJlbmRlcmluZ1xuICovXG5mdW5jdGlvbiBuZXh0UmVuZGVyKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMubmV4dFJlbmRlciA9IG5leHRSZW5kZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9iaW5kZXJcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaGVscGVyXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2JvdW5kVmlld1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90eXBlR3VhcmRzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3VwZGF0ZWFibGVWaWV3XCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkcmF3YWJsZV8xID0gcmVxdWlyZShcIi4uL2RyYXdhYmxlL2RyYXdhYmxlXCIpO1xuY29uc3QgaGVscGVyXzEgPSByZXF1aXJlKFwiLi4vYmluZGluZy9oZWxwZXJcIik7XG5jb25zdCBodG1sR3VhcmRfMSA9IHJlcXVpcmUoXCIuLi90eXBlR3VhcmRzL2h0bWxHdWFyZFwiKTtcbmNvbnN0IF90eXBlZ3VhcmRzXzEgPSByZXF1aXJlKFwiLi4vZHJhd2FibGUvX3R5cGVndWFyZHNcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vYXN5bmNcIik7XG5jb25zdCBfdHlwZWd1YXJkc18yID0gcmVxdWlyZShcIi4uL3N0cnVjdHMvX3R5cGVndWFyZHNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdEJvdW5kVmlld1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY3JlYXRlIGEgdmlldyB0aGF0IGJpbmRzIHRvIGEgdmlldyBtb2RlbFxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4wLjFcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQm91bmRWaWV3IGV4dGVuZHMgZHJhd2FibGVfMS5EcmF3YWJsZSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDUkVBVEUgVEhFIFZJRVdcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgICAgICB0aGlzLl91cGRhdGVGdW5jdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5fbW9kZWwgPSB7fTtcbiAgICAgICAgdGhpcy5fY3JlYXRlRWxlbWVudHMoKTtcbiAgICB9XG4gICAgZ2V0IGNvbmZpZygpIHsgcmV0dXJuIHRoaXMuX2dldENvbmZpZygpOyB9XG4gICAgc2V0IGNvbmZpZyhkYXRhKSB7IHRoaXMuX3NldENvbmZpZyhkYXRhKTsgfVxuICAgIGdldCBtb2RlbCgpIHsgcmV0dXJuIHRoaXMuX2dldE1vZGVsKCk7IH1cbiAgICBzZXQgbW9kZWwoZGF0YSkgeyB0aGlzLl9zZXRNb2RlbChkYXRhKTsgfVxuICAgIGdldCB1cGRhdGVGdW5jdGlvbnMoKSB7IHJldHVybiB0aGlzLl91cGRhdGVGdW5jdGlvbnM7IH1cbiAgICBzZXQgdXBkYXRlRnVuY3Rpb25zKGRhdGEpIHsgdGhpcy5fdXBkYXRlRnVuY3Rpb25zID0gZGF0YTsgfVxuICAgIF9zaG91bGRTa2lwQ3JlYXRlRWxlbWVudHMoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBNT0RFTCBIQU5ETElOR1xuICAgIF9nZXRNb2RlbCgpIHtcbiAgICAgICAgbGV0IG9sZE1vZGVsID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLl9tb2RlbCkpO1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLl9vblBvdGVudGlhbE1vZGVsQ2hhbmdlKG9sZE1vZGVsKSwgMCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2RlbDtcbiAgICB9XG4gICAgX3NldE1vZGVsKGRhdGEpIHtcbiAgICAgICAgbGV0IG9sZE1vZGVsID0gdGhpcy5fbW9kZWw7XG4gICAgICAgIHRoaXMuX21vZGVsID0gZGF0YTtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGhpcy5fb25Qb3RlbnRpYWxNb2RlbENoYW5nZShvbGRNb2RlbCksIDApO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENPTkZJRyBIQU5ETElOR1xuICAgIF9nZXRDb25maWcoKSB7XG4gICAgICAgIGxldCBvbGRDb25maWcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuX2NvbmZpZykpO1xuICAgICAgICBhc3luY18xLndhaXQoMClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuX29uUG90ZW50aWFsQ29uZmlnQ2hhbmdlKG9sZENvbmZpZykpO1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnO1xuICAgIH1cbiAgICBfc2V0Q29uZmlnKGRhdGEpIHtcbiAgICAgICAgbGV0IG9sZENvbmZpZyA9IHRoaXMuX2NvbmZpZztcbiAgICAgICAgdGhpcy5fY29uZmlnID0gZGF0YTtcbiAgICAgICAgYXN5bmNfMS53YWl0KDApXG4gICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLl9vblBvdGVudGlhbENvbmZpZ0NoYW5nZShvbGRDb25maWcpKTtcbiAgICB9XG4gICAgX29uUG90ZW50aWFsQ29uZmlnQ2hhbmdlKG9sZENvbmZpZykge1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEVWRU5UIEhBTkRMRVJTXG4gICAgLyoqXG4gICAgICogX29uUG90ZW50aWFsTW9kZWxDaGFuZ2VcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogb3ZlcnJpZGFibGUgZnVuY3Rpb24gdG8gYWxsb3cgZm9yIGFueSBhcnJheS1iYXNlZCBjaGlsZCB2aWV3c1xuICAgICAqL1xuICAgIF9vblBvdGVudGlhbE1vZGVsQ2hhbmdlKG9sZE1vZGVsKSB7IH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEJJTkRJTkdcbiAgICAvKipcbiAgICAgKiBfYmluZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBiaW5kIGEgcGFydGljdWxhciBlbGVtZW50IG9mIHRoZSB2aWV3IG1vZGVsIHRvIHRoZSBzcGVjaWZpZWQgZWxlbWVudFxuICAgICAqL1xuICAgIF9iaW5kKGVsZW0sIGtleSkge1xuICAgICAgICBoZWxwZXJfMS5iaW5kKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSB0aGUgbnVsbCBjYXNlXG4gICAgICAgICAgICBpZiAoIXRoaXMuX21vZGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBoYW5kbGUgaWYgdGhlIHVzZXIgc3BlY2lmaWVkIGEgc3BlY2lmaWMga2V5IGluIHRoZSBtb2RlbFxuICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb2RlbFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCBqdXN0IHJldHVybiB0aGUgbW9kZWxcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb2RlbDtcbiAgICAgICAgfSwgdGhpcy5fY3JlYXRlVXBkYXRlRnVuYyhlbGVtLCBrZXkpLCAoKSA9PiB0aGlzLl9zaG91bGREZWxldGUoZWxlbSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlVXBkYXRlRnVuY1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoZWxwZXIgdGhhdCB3aWxsIGdlbmVyYXRlIGFuIHVwZGF0ZSBmdW5jdGlvbiBmb3IgYmluZGluZ1xuICAgICAqL1xuICAgIF9jcmVhdGVVcGRhdGVGdW5jKGVsZW0sIGtleSkge1xuICAgICAgICByZXR1cm4gKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAvLyBhbHdheXMgcHJlZmVyIGEgdXNlci1zcGVjaWZpZWQgZnVuY3Rpb24gb3ZlciB0aGUgZGVmYXVsdCBiZWhhdmlvclxuICAgICAgICAgICAgaWYgKHRoaXMuX3VwZGF0ZUZ1bmN0aW9uc1trZXldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRnVuY3Rpb25zW2tleV0odmFsdWUsIGVsZW0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl91cGRhdGVGdW5jdGlvbnNbXCJfXCJdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRnVuY3Rpb25zW1wiX1wiXSh2YWx1ZSwgZWxlbSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCBmYWxsIGJhY2sgb24gYSBkZWZhdWx0IGFwcHJvcHJpYXRlIHRvIHRoZSBlbGVtZW50IHR5cGVcbiAgICAgICAgICAgIGlmIChodG1sR3VhcmRfMS5pc0hUTUxFbGVtZW50KGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlSHRtbEVsZW1lbnQoZWxlbSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoX3R5cGVndWFyZHNfMi5pc1VwZGF0YWJsZShlbGVtKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVVwZGF0ZWFibGUoZWxlbSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQm91bmRWaWV3KGVsZW0sIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3VwZGF0ZUh0bWxFbGVtZW50KGVsZW0sIHZhbHVlKSB7XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBlbGVtLmlubmVySFRNTCA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIF91cGRhdGVVcGRhdGVhYmxlKGVsZW0sIHZhbHVlKSB7XG4gICAgICAgIGVsZW0udXBkYXRlKHZhbHVlKTtcbiAgICB9XG4gICAgX3VwZGF0ZUJvdW5kVmlldyhlbGVtLCB2YWx1ZSkge1xuICAgICAgICBlbGVtLm1vZGVsID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNldFVwZGF0ZUZ1bmN0aW9uXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHNwZWNpZnkgaG93IGEgcGFydGljdWxhciBlbGVtZW50IHNob3VsZCBiZSB1cGRhdGVkIHdoZW4gdGhlIG1vZGVsIHVwZGF0ZXNcbiAgICAgKi9cbiAgICBzZXRVcGRhdGVGdW5jdGlvbihrZXksIHVwZGF0ZUZ1bmMpIHtcbiAgICAgICAgaWYgKCF1cGRhdGVGdW5jKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXBkYXRlRnVuY3Rpb25zW2tleV0gPSB1cGRhdGVGdW5jO1xuICAgIH1cbiAgICBfc2hvdWxkRGVsZXRlKGVsZW0pIHtcbiAgICAgICAgLy8gaWYgdGhpcyBlbGVtZW50IGlzIG5vIGxvbmdlciByZW5kZXJlZCwgd2Ugc2hvdWxkIGtpbGwgaXRzIGJpbmRpbmdzXG4gICAgICAgIGlmIChfdHlwZWd1YXJkc18xLmlzRHJhd2FibGUoZWxlbSkpIHtcbiAgICAgICAgICAgIHJldHVybiAoIWVsZW0uYmFzZS5wYXJlbnROb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAoIWVsZW0ucGFyZW50Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBVTlJFTkRFUklOR1xuICAgIGVyYXNlKCkge1xuICAgICAgICBzdXBlci5lcmFzZSgpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhFTFBFUlNcbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiB3cmFwcGVyIGFyb3VuZCB0aGUgc3RhbmRhcmQgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGVsZW1lbnRzIHRoYXQgaGFuZGxlc1xuICAgICAqIGJpbmRpbmcgYSBsaXR0bGUgbW9yZSBudWFuY2VkXG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnQob2JqKSB7XG4gICAgICAgIC8vIHVzZSB0aGUgc3RhbmRhcmQgZnVuY3Rpb24sIGJ1dCByZWN1cnNlIHdpdGggdGhpcyBvbmVcbiAgICAgICAgbGV0IHJlY3Vyc2VGdW5jID0gKG9iaikgPT4geyByZXR1cm4gdGhpcy5fY3JlYXRlRWxlbWVudChvYmopOyB9O1xuICAgICAgICBsZXQgZWxlbSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVDdXN0b21FbGVtZW50KG9iaiwgdGhpcy5fZWxlbXMsIHJlY3Vyc2VGdW5jKTtcbiAgICAgICAgLy8gaWYgYSBiaW5kaW5nIGlzIHNwZWNpZmllZCwgc2V0IGl0IHVwXG4gICAgICAgIGlmIChvYmouYm91bmRUbykge1xuICAgICAgICAgICAgdGhpcy5fYmluZEVsZW1lbnQoZWxlbSwgb2JqKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbTtcbiAgICB9XG4gICAgX2VsZW0ob2JqKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVFbGVtZW50KG9iaik7XG4gICAgfVxuICAgIF9iaW5kRWxlbWVudChlbGVtLCBvYmopIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBib3VuZEVsZW0gPSBlbGVtO1xuICAgICAgICAgICAgaWYgKG9iai5rZXkgJiYgb2JqLmRyYXdhYmxlKSB7XG4gICAgICAgICAgICAgICAgYm91bmRFbGVtID0gdGhpcy5fZWxlbXNbb2JqLmtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9iaW5kKGJvdW5kRWxlbSwgb2JqLmJvdW5kVG8pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkJvdW5kVmlldyA9IEJvdW5kVmlldztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gaXNVcGRhdGVhYmxlVmlldyhlbGVtKSB7XG4gICAgaWYgKGVsZW0udXBkYXRlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmlzVXBkYXRlYWJsZVZpZXcgPSBpc1VwZGF0ZWFibGVWaWV3O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkcmF3YWJsZV8xID0gcmVxdWlyZShcIi4uL2RyYXdhYmxlL2RyYXdhYmxlXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgVXBkYXRlYWJsZVZpZXdcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhIHZpZXcgdGhhdCB3aWxsIGJlIHVzZWQgaW4gYSBNVkMgd29ybGRcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgVXBkYXRlYWJsZVZpZXcgZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8qKlxuICAgICAqIE1WQ1ZpZXdcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGEgdmlldyB0aGF0IHdpbGwgYmUgdXNlZCBmb3IgTVZDLXN0cnVjdHVyZWQgcHJvamVjdHNcbiAgICAgKiBAcGFyYW0gICBhZGRsUGFyYW1zICBBTnl0aGluZyBhZGRpdGlvbmFsIG5lZWRlZCB0byByZW5kZXIgdGhpcyB2aWV3XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoLi4uYWRkbFBhcmFtcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9jcmVhdGVFbGVtZW50cyguLi5hZGRsUGFyYW1zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBTa2lwIGNyZWF0aW5nIGVsZW1lbnRzIHVudGlsIHdlIGFyZSByZWFkeVxuICAgICAqL1xuICAgIF9zaG91bGRTa2lwQ3JlYXRlRWxlbWVudHMoKSB7IHJldHVybiB0cnVlOyB9XG59XG5leHBvcnRzLlVwZGF0ZWFibGVWaWV3ID0gVXBkYXRlYWJsZVZpZXc7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jYW52YXNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vY2FudmFzRWxlbWVudFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jYW52YXNHcm91cFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jYW52YXNTdHlsZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jaXJjbGVFbGVtZW50XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3BhdGhFbGVtZW50XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3JlY3RhbmdsZUVsZW1lbnRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdGV4dEVsZW1lbnRcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkcmF3YWJsZV8xID0gcmVxdWlyZShcIi4uL2RyYXdhYmxlL2RyYXdhYmxlXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgY2FudmFzR3JvdXBfMSA9IHJlcXVpcmUoXCIuL2NhbnZhc0dyb3VwXCIpO1xuY29uc3QgY29tYmluZV8xID0gcmVxdWlyZShcIi4uL29iamVjdEhlbHBlcnMvY29tYmluZVwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCBtYXRoc18xID0gcmVxdWlyZShcIi4uL21hdGhzL21hdGhzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIEhUTUw1Q2FudmFzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBzZXQgb2YgdG9vbHMgYXJvdW5kIHRoZSBIVE1MNSBjYW52YXNcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4xXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIEhUTUw1Q2FudmFzIGV4dGVuZHMgZHJhd2FibGVfMS5EcmF3YWJsZSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIENPTlNUUlVDVE9SXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgSFRNTDUgY2FudmFzIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0aWRcdFx0XHRVbnFpdWUgSUQgdG8gdXNlIGZvciB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtXHRvcHRpb25zXHRcdE9wdGlvbnMgdG8gY3JlYXRlIHRoZSBjYW52YXMgd2l0aFxuICAgICAqXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICB0aGlzLl9pZCA9IGlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faWQgPSBcImNhbnZhc1wiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluaXRpYWxpemUgdGhlIGxheWVycyBwcm9wZXJ0eVxuICAgICAgICB0aGlzLl9sYXllcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fbmVlZHNJbml0aWFsRGltZW5zaW9ucyA9IHRydWU7XG4gICAgICAgIHRoaXMuX3JlY29uY2lsZU9wdGlvbnMob3B0aW9ucyk7IC8vIFB1bGwgaW4gdXNlciBvcHRpb25zXG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVSZWN0YW5nbGVzKCk7IC8vIEluaXRpYWxpemUgdGhlIHZpZXdpbmcgcmVjdGFuZ2xlc1xuICAgICAgICB0aGlzLl9jcmVhdGVFbGVtZW50cygpOyAvLyBDcmVhdGUgZWxlbWVudHNcbiAgICAgICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTsgLy8gQWRkIGFsbCByZWxldmFudCBldmVudCBsaXN0ZW5lcnNcbiAgICB9XG4gICAgZ2V0IHJlbGF0aXZlVmlldygpIHsgcmV0dXJuIHRoaXMuX3JlbGF0aXZlVmlldzsgfVxuICAgIGdldCB6b29tRmFjdG9yKCkgeyByZXR1cm4gdGhpcy5fem9vbUZhY3RvcjsgfVxuICAgIHNldCB6b29tRmFjdG9yKHpvb20pIHsgdGhpcy5fem9vbUZhY3RvciA9IHpvb207IH1cbiAgICBnZXQgbmVlZHNSZWRyYXcoKSB7IHJldHVybiB0aGlzLl9uZWVkc1JlZHJhdzsgfVxuICAgIHNldCBuZWVkc1JlZHJhdyh2YWx1ZSkgeyB0aGlzLl9uZWVkc1JlZHJhdyA9IHZhbHVlOyB9XG4gICAgLyoqIHB1YmxpYyBnZXR0ZXIgZm9yIGNhbnZhcyBlbGVtZW50ICovXG4gICAgZ2V0IGNhbnZhcygpIHsgcmV0dXJuIHRoaXMuX2VsZW1zLmJhc2U7IH1cbiAgICAvKiogcHVibGljIGdldHRlciBmb3IgZWZmZWN0cyBjYW52YXMgKi9cbiAgICBnZXQgZWZmZWN0Q2FudmFzKCkgeyByZXR1cm4gdGhpcy5fZWxlbXMuZWZmZWN0Q2FudmFzOyB9XG4gICAgZ2V0IGNvbnRleHQoKSB7IHJldHVybiB0aGlzLl9jb250ZXh0OyB9XG4gICAgZ2V0IGVmZmVjdENvbnRleHQoKSB7IHJldHVybiB0aGlzLl9lZmZlY3RDb250ZXh0OyB9XG4gICAgZ2V0IGxheWVycygpIHsgcmV0dXJuIHRoaXMuX2xheWVyczsgfVxuICAgIHNldCBvblByZVJlbmRlcihwcmVSZW5kZXIpIHsgdGhpcy5fb25QcmVSZW5kZXIgPSBwcmVSZW5kZXI7IH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gSEFORExFIElOSVRJQUxJWkFUSU9OXG4gICAgLyoqXG4gICAgICogX3JlY29uY2lsZU9wdGlvbnNcbiAgICAgKlxuICAgICAqIHB1bGwgaW4gZGVmYXVsdCBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdHVzZXJPcHRpb25zXHRcdFRoZSBvcHRpb25zIHRvIHJlY29uY2lsZVxuICAgICAqXG4gICAgICovXG4gICAgX3JlY29uY2lsZU9wdGlvbnModXNlck9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF1c2VyT3B0aW9ucykge1xuICAgICAgICAgICAgdXNlck9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGVmYXVsdHMgPSB0aGlzLl9jcmVhdGVEZWZhdWx0T3B0aW9ucygpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gY29tYmluZV8xLnJlY29uY2lsZU9wdGlvbnModXNlck9wdGlvbnMsIGRlZmF1bHRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZURlZmF1bHRPcHRpb25zXG4gICAgICpcbiAgICAgKiBzZXQgb3VyIGRlZmF1bHQgb3B0aW9uc1xuICAgICAqXG4gICAgICogQHJldHVybnNcdFRoZSBzZXQgb2YgZGVmYXVsdCBvcHRpb25zIGZvciBjYW52YXNlc1xuICAgICAqXG4gICAgICovXG4gICAgX2NyZWF0ZURlZmF1bHRPcHRpb25zKCkge1xuICAgICAgICBsZXQgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBSRU5ERVJfUkFURTogMzAsXG4gICAgICAgICAgICBaT09NX0RFTFRBOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG91dCA9IHtcbiAgICAgICAgICAgICAgICAgICAgeDogMC4wMyAqIHRoaXMuX3pvb21GYWN0b3IueCxcbiAgICAgICAgICAgICAgICAgICAgeTogMC4wMyAqIHRoaXMuX3pvb21GYWN0b3IueVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBTSVpFOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDYwMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDQ1MFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIE1BWF9aT09NOiB7XG4gICAgICAgICAgICAgICAgeDogMTUsXG4gICAgICAgICAgICAgICAgeTogMTVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBNSU5fWk9PTToge1xuICAgICAgICAgICAgICAgIHg6IDAuMSxcbiAgICAgICAgICAgICAgICB5OiAwLjFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfaW5pdGlhbGl6ZVJlY3RhbmdsZXNcbiAgICAgKlxuICAgICAqIGNyZWF0ZSB0aGUgcmVjdGFuZ2xlcyB0aGF0IHRoZSBjYW52YXMgbmVlZHMgdG8gY2FyZSBhYm91dFxuICAgICAqXG4gICAgICovXG4gICAgX2luaXRpYWxpemVSZWN0YW5nbGVzKCkge1xuICAgICAgICAvLyBBQlNPTFVURVxuICAgICAgICB0aGlzLl9hYnNvbHV0ZURpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIHc6IHRoaXMuX29wdGlvbnMuU0laRS53aWR0aCxcbiAgICAgICAgICAgIGg6IHRoaXMuX29wdGlvbnMuU0laRS5oZWlnaHRcbiAgICAgICAgfTtcbiAgICAgICAgLy8gUkVMQVRJVkVcbiAgICAgICAgdGhpcy5fcmVsYXRpdmVWaWV3ID0ge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICB3OiB0aGlzLl9vcHRpb25zLlNJWkUud2lkdGgsXG4gICAgICAgICAgICBoOiB0aGlzLl9vcHRpb25zLlNJWkUuaGVpZ2h0XG4gICAgICAgIH07XG4gICAgICAgIC8vIFpPT00gU0NBTEVcbiAgICAgICAgdGhpcy5fem9vbUZhY3RvciA9IHtcbiAgICAgICAgICAgIHg6IDEsXG4gICAgICAgICAgICB5OiAxXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zaG91bGRTa2lwQ3JlYXRlRWxlbWVudHNcbiAgICAgKlxuICAgICAqIERvbid0IGxldCB0aGUgY29uc3RydWN0b3IgY3JlYXRlIGVsZW1lbnRzXG4gICAgICpcbiAgICAgKi9cbiAgICBfc2hvdWxkU2tpcENyZWF0ZUVsZW1lbnRzKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVFbGVtZW50c1xuICAgICAqXG4gICAgICogY3JlYXRlIHRoZSBjYW52YXMgZWxlbWVudFxuICAgICAqXG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICAvLyBjcmVhdGUgdGhlIGNhbnZhcyBlbGVtZW50c1xuICAgICAgICB0aGlzLl9lbGVtcyA9IHtcbiAgICAgICAgICAgIGJhc2U6IHRoaXMuX2NyZWF0ZUNhbnZhcygpLFxuICAgICAgICAgICAgZWZmZWN0Q2FudmFzOiB0aGlzLl9jcmVhdGVDYW52YXModHJ1ZSlcbiAgICAgICAgfTtcbiAgICAgICAgLy8gY3JlYXRlIHRoZSBjb250ZXh0cyBmb3IgZWFjaFxuICAgICAgICB0aGlzLl9jb250ZXh0ID0gdGhpcy5fZWxlbXMuYmFzZS5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIHRoaXMuX2VmZmVjdENvbnRleHQgPSB0aGlzLl9lbGVtcy5lZmZlY3RDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlQ2FudmFzXG4gICAgICpcbiAgICAgKiBjcmVhdGUgYW4gYWN0dWFsIGNhbnZhcyBlbGVtZW50IGFuZCBhc3NpZ25zIGl0IHRvIG91ciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRpc0ZvckVmZmVjdHMgXHRJZiB0cnVlLCBjcmVhdGVzIGFuIGVmZmVjdCBjYW52YXMgaW5zdGVhZFxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRoZSBjYW52YXMgdGhhdCBpcyBjcmVhdGVkXG4gICAgICpcbiAgICAgKi9cbiAgICBfY3JlYXRlQ2FudmFzKGlzRm9yRWZmZWN0cykge1xuICAgICAgICBsZXQgY2FudmFzO1xuICAgICAgICAvLyBDcmVhdGUgYSBjYW52YXMgb2YgdGhlIHJpZ2h0IHNpemVcbiAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHRoaXMuX29wdGlvbnMuU0laRS53aWR0aC50b1N0cmluZygpKTtcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCB0aGlzLl9vcHRpb25zLlNJWkUuaGVpZ2h0LnRvU3RyaW5nKCkpO1xuICAgICAgICAvLyBnaXZlIHRoZSBjYW52YXMgdGhlIHJpZ2h0IGNsYXNzXG4gICAgICAgIGxldCBjbHMgPSBcImNhbnZhc1wiO1xuICAgICAgICBpZiAoaXNGb3JFZmZlY3RzKSB7XG4gICAgICAgICAgICBjbHMgKz0gXCIgZWZmZWN0c1wiO1xuICAgICAgICB9XG4gICAgICAgIGNzc18xLmFkZENsYXNzKGNhbnZhcywgY2xzKTtcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIERSQVdJTkcgQ09NTUFORFNcbiAgICAvKipcbiAgICAgKiBkcmF3XG4gICAgICpcbiAgICAgKiBkcmF3cyB0aGUgY2FudmFzIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0cGFyZW50XHRUaGUgcGFyZW50IGVsZW1lbnQgdG8gZHJhdyBvblxuICAgICAqXG4gICAgICovXG4gICAgZHJhdyhwYXJlbnQpIHtcbiAgICAgICAgc3VwZXIuZHJhdyhwYXJlbnQpO1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbXMuZWZmZWN0Q2FudmFzKTtcbiAgICAgICAgLy8gZmxhZyB0aGF0IHdlIG5lZWQgdG8gcmVkcmF3IGluc3RlYWQgb2YgY2FsbGluZyBpdCBkaXJlY3RseVxuICAgICAgICB0aGlzLl9uZWVkc1JlZHJhdyA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNsZWFyXG4gICAgICpcbiAgICAgKiBjbGVhciB0aGUgY2FudmFzZXNcbiAgICAgKlxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl9vcHRpb25zLlNJWkUud2lkdGgsIHRoaXMuX29wdGlvbnMuU0laRS5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9lZmZlY3RDb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl9vcHRpb25zLlNJWkUud2lkdGgsIHRoaXMuX29wdGlvbnMuU0laRS5oZWlnaHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfZHJhd0VhY2hFbGVtZW50XG4gICAgICpcbiAgICAgKiBsb29wIHRocm91Z2ggZXZlcnkgZWxlbWVudCBpbiB0aGUgY2FudmFzXG4gICAgICpcbiAgICAgKi9cbiAgICBfZHJhd0VhY2hFbGVtZW50KCkge1xuICAgICAgICAvLyBmaXJzdCBjbGVhciB0aGUgY2FudmFzXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgLy8gdGhlbiBsb29wIHRocm91Z2ggZWFjaCBvZiB0aGUgbGF5ZXJzIGluIG9yZGVyXG4gICAgICAgIGxldCBsYXllcjtcbiAgICAgICAgZm9yIChsYXllciBvZiB0aGlzLl9sYXllcnMpIHtcbiAgICAgICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxheWVyLnVwZGF0ZURpbWVuc2lvbnModGhpcy5fcmVsYXRpdmVWaWV3KTtcbiAgICAgICAgICAgIGxheWVyLmRyYXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVuZGVyRnJhbWVcbiAgICAgKlxuICAgICAqIG1ha2Ugc3VyZSB3ZSBhY3R1YWxseSBkcmF3IHNvbWV0aGluZ1xuICAgICAqXG4gICAgICovXG4gICAgX3JlbmRlckZyYW1lKCkge1xuICAgICAgICAvLyBNYWtlIHN1cmUgd2Ugb25seSBkbyB0aGlzIGtpbmQgb2Ygc3R1ZmYgaWYgc29tZXRoaW5nIGNoYW5nZWRcbiAgICAgICAgaWYgKHRoaXMuX25lZWRzUmVkcmF3KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fb25QcmVSZW5kZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblByZVJlbmRlcigpO1xuICAgICAgICAgICAgfSAvLyBDYWxsIHByZS1yZW5kZXIgY29kZVxuICAgICAgICAgICAgdGhpcy5fZHJhd0VhY2hFbGVtZW50KCk7IC8vIGFjdHVhbGx5IGRyYXcgZWxlbWVudHNcbiAgICAgICAgICAgIHRoaXMuX25lZWRzUmVkcmF3ID0gZmFsc2U7IC8vIFNldCB0aGF0IHdlIG5vIGxvbmdlciBuZWVkIHRvIHJlZHJhd1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCBhbmltYXRpb24gbGlzdGVuZXJzXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4geyB0aGlzLl9yZW5kZXJGcmFtZSgpOyB9KTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIEFERC9SRU1PVkUgRUxFTUVOVFNcbiAgICAvKipcbiAgICAgKiBhZGRFbGVtZW50XG4gICAgICpcbiAgICAgKiBhZGQgYW4gZWxlbWVudCB0byB0aGUgY2FudmFzXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGVsZW1cdFRoZSBlbGVtZW50IHRvIGFkZCB0byB0aGUgY2FudmFzXG4gICAgICpcbiAgICAgKi9cbiAgICBhZGRFbGVtZW50KGVsZW0pIHtcbiAgICAgICAgLy8gZ3JhYiB0aGUgYXBwcm9wcmlhdGUgbGF5ZXIgdG8gYWRkIHRvIChvciBjcmVhdGUgaXQgaWYgaXQgZG9lc24ndCB5ZXQgZXhpc3QpXG4gICAgICAgIGxldCBsYXllciA9IHRoaXMuX2dldE9yQ3JlYXRlTGF5ZXIoZWxlbS5sYXllcik7XG4gICAgICAgIC8vIEFkZCB0aGUgZWxlbWVudCB0byB0aGUgYXBwcm9wcmlhdGUgbGF5ZXJcbiAgICAgICAgbGF5ZXIuYWRkRWxlbWVudChlbGVtKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBhYnNvbHV0ZSBkaW1lbnNpb25zXG4gICAgICAgIHRoaXMuX3VwZGF0ZUFic29sdXRlRGltZW5zaW9uc0Zyb21FbGVtKGVsZW0uZGltZW5zaW9ucyk7XG4gICAgICAgIC8vIE1hcmsgdGhhdCB3ZSBuZWVkIHRvIHJlZHJhd1xuICAgICAgICB0aGlzLl9uZWVkc1JlZHJhdyA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlbW92ZUVsZW1lbnRcbiAgICAgKlxuICAgICAqIHJlbW92ZSBhbiBlbGVtZW50IGZyb20gb3VyIGludGVybmFsIGNvbGxlY3Rpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbVx0aWRcdFx0VGhlIGlkIG9mIHRoZSBlbGVtZW50IHRvIHJlbW92ZVxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRydWUgaWYgdGhlIGVsZW1lbnQgd2FzIHJlbW92ZWRcbiAgICAgKlxuICAgICAqL1xuICAgIHJlbW92ZUVsZW1lbnQoaWQpIHtcbiAgICAgICAgbGV0IHN1Y2Nlc3M7XG4gICAgICAgIC8vIHJlbHkgb24gdGhlIGxheWVycyB0byByZW1vdmUgdGhlaXIgb3duIGVsZW1lbnRzXG4gICAgICAgIGxldCBsYXllcjtcbiAgICAgICAgZm9yIChsYXllciBvZiB0aGlzLl9sYXllcnMpIHtcbiAgICAgICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1Y2Nlc3MgPSBsYXllci5yZW1vdmVFbGVtZW50KGlkKTtcbiAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF91cGRhdGVBYnNvbHV0ZURpbWVuc2lvbnNGcm9tRWxlbVxuICAgICAqXG4gICAgICogVXBkYXRlIGhvdyBiaWcgdGhlIGNhbnZhcyBpcyBiYXNlZCBvbiB0aGUgZWxlbWVudHMgdGhhdCBleGlzdCBvbiB0aGUgY2FudmFzXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGFkZGVkRGltZW5zaW9uc1x0XHRUaGUgZGltZW5zaW9ucyBvZiB0aGUgZWxlbWVudCB3ZSBhcmUgYWRkaW5nXG4gICAgICpcbiAgICAgKi9cbiAgICAvLyBUT0RPOiBEb2VzIHRoaXMgbmVlZCB0byBleGlzdD9cbiAgICBfdXBkYXRlQWJzb2x1dGVEaW1lbnNpb25zRnJvbUVsZW0oYWRkZWREaW1lbnNpb25zKSB7XG4gICAgICAgIC8vIENoZWNrIGZvciB4IGV4dHJlbWEgY2hhbmdlc1xuICAgICAgICBpZiAodGhpcy5fbmVlZHNJbml0aWFsRGltZW5zaW9ucyB8fCBhZGRlZERpbWVuc2lvbnMueCA8IHRoaXMuX2Fic29sdXRlRGltZW5zaW9ucy54KSB7XG4gICAgICAgICAgICB0aGlzLl9hYnNvbHV0ZURpbWVuc2lvbnMueCA9IGFkZGVkRGltZW5zaW9ucy54O1xuICAgICAgICB9XG4gICAgICAgIGlmICgoYWRkZWREaW1lbnNpb25zLnggKyBhZGRlZERpbWVuc2lvbnMudykgPiAodGhpcy5fYWJzb2x1dGVEaW1lbnNpb25zLnggKyB0aGlzLl9hYnNvbHV0ZURpbWVuc2lvbnMudykpIHtcbiAgICAgICAgICAgIHRoaXMuX2Fic29sdXRlRGltZW5zaW9ucy53ID0gKChhZGRlZERpbWVuc2lvbnMueCArIGFkZGVkRGltZW5zaW9ucy53KSAtIHRoaXMuX2Fic29sdXRlRGltZW5zaW9ucy54KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBmb3IgeSBleHRyZW1hIGNoYW5nZXNcbiAgICAgICAgaWYgKHRoaXMuX25lZWRzSW5pdGlhbERpbWVuc2lvbnMgfHwgYWRkZWREaW1lbnNpb25zLnkgPCB0aGlzLl9hYnNvbHV0ZURpbWVuc2lvbnMueSkge1xuICAgICAgICAgICAgdGhpcy5fYWJzb2x1dGVEaW1lbnNpb25zLnkgPSBhZGRlZERpbWVuc2lvbnMueTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGFkZGVkRGltZW5zaW9ucy55ICsgYWRkZWREaW1lbnNpb25zLmgpID4gKHRoaXMuX2Fic29sdXRlRGltZW5zaW9ucy55ICsgdGhpcy5fYWJzb2x1dGVEaW1lbnNpb25zLmgpKSB7XG4gICAgICAgICAgICB0aGlzLl9hYnNvbHV0ZURpbWVuc2lvbnMuaCA9ICgoYWRkZWREaW1lbnNpb25zLnkgKyBhZGRlZERpbWVuc2lvbnMuaCkgLSB0aGlzLl9hYnNvbHV0ZURpbWVuc2lvbnMueSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbmVlZHNJbml0aWFsRGltZW5zaW9ucyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfZ2V0T3JDcmVhdGVMYXllclxuICAgICAqXG4gICAgICogZmluZCB0aGUgZXhpc3RpbmcgbGF5ZXIgb3IgY3JlYXRlIGl0IGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0bGF5ZXJJZHhcdFRoZSBpbmRleCBvZiB0aGUgbGF5ZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUaGUgZ3JvdXAgZm9yIHRoZSBsYXllclxuICAgICAqXG4gICAgICovXG4gICAgX2dldE9yQ3JlYXRlTGF5ZXIobGF5ZXJJZHgpIHtcbiAgICAgICAgbGV0IGxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVySWR4XTtcbiAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgbGF5ZXIgPSBuZXcgY2FudmFzR3JvdXBfMS5DYW52YXNHcm91cChcImxheWVyXCIgKyBsYXllcklkeCk7XG4gICAgICAgICAgICB0aGlzLl9sYXllcnNbbGF5ZXJJZHhdID0gbGF5ZXI7XG4gICAgICAgICAgICBsYXllci5jYW52YXMgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsYXllcjtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIFpPT00gSEFORExJTkdcbiAgICAvKipcbiAgICAgKiBfb25Nb3VzZVdoZWVsXG4gICAgICpcbiAgICAgKiBoYW5kbGUgdGhlIG1vdXNld2hlZWwgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0ZXZlbnRcdFRoZSBhY3R1YWwgZXZlbnQgdHJpZ2dlcmVkIGJ5IHRoZSBtb3VzZXdoZWVsXG4gICAgICpcbiAgICAgKi9cbiAgICBfb25Nb3VzZVdoZWVsKGV2ZW50KSB7XG4gICAgICAgIGxldCBkZWx0YSA9IGV2ZW50LmRlbHRhWTtcbiAgICAgICAgZGVsdGEgPSAoTWF0aC5hYnMoZGVsdGEpIC8gZGVsdGEpO1xuICAgICAgICB0aGlzLnpvb20oZGVsdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB6b29tXG4gICAgICpcbiAgICAgKiBhY3R1YWxseSB6b29tIHRoZSBjYW52YXMgYW4gYXBwcm9wcmlhdGUgYW1vdW50XG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGRlbHRhXHRUaGUgYW1vdW50IHRvIHpvb20gYnlcbiAgICAgKlxuICAgICAqL1xuICAgIHpvb20oZGVsdGEpIHtcbiAgICAgICAgLy8gR2V0IHRoZSBzdGFuZGFyZCB6b29tIHdlIHNob3VsZCBiZSBhcHBseWluZ1xuICAgICAgICBsZXQgem9vbURlbHRhID0gdGhpcy5fb3B0aW9ucy5aT09NX0RFTFRBKCk7XG4gICAgICAgIC8vIGhvdyBtdWNoIGhhcyB0aGUgem9vbSB2YWx1ZSBjaGFuZ2VkP1xuICAgICAgICBsZXQgem9vbVhEZWx0YSA9IHRoaXMuX3pvb21GYWN0b3IueCArIChkZWx0YSAqIHpvb21EZWx0YS54KTtcbiAgICAgICAgem9vbVhEZWx0YSA9IG1hdGhzXzEubm9ybWFsaXplVmFsdWUoem9vbVhEZWx0YSwgdGhpcy5fb3B0aW9ucy5NSU5fWk9PTS54LCB0aGlzLl9vcHRpb25zLk1BWF9aT09NLngpO1xuICAgICAgICBsZXQgem9vbVlEZWx0YSA9IHRoaXMuX3pvb21GYWN0b3IueSArIChkZWx0YSAqIHpvb21EZWx0YS55KTtcbiAgICAgICAgem9vbVlEZWx0YSA9IG1hdGhzXzEubm9ybWFsaXplVmFsdWUoem9vbVlEZWx0YSwgdGhpcy5fb3B0aW9ucy5NSU5fWk9PTS55LCB0aGlzLl9vcHRpb25zLk1BWF9aT09NLnkpO1xuICAgICAgICAvLyBUaGUgYWN0dWFsIHdpZHRoIGlzIGVxdWFsIHRvOlxuICAgICAgICAvL1x0cGh5c2ljYWwgZGltZW5zaW9uICogKDEgLyB6b29tIHZhbHVlKVxuICAgICAgICBsZXQgcGh5c2ljYWxEaW0gPSB0aGlzLl9vcHRpb25zLlNJWkU7XG4gICAgICAgIGxldCBuZXdXaWR0aCA9IG1hdGhzXzEucm91bmRUb1BsYWNlKHBoeXNpY2FsRGltLndpZHRoICogKDEgLyB6b29tWERlbHRhKSwgMTApO1xuICAgICAgICB0aGlzLl96b29tRmFjdG9yLnggPSB6b29tWERlbHRhO1xuICAgICAgICBsZXQgbmV3SGVpZ2h0ID0gbWF0aHNfMS5yb3VuZFRvUGxhY2UocGh5c2ljYWxEaW0uaGVpZ2h0ICogKDEgLyB6b29tWURlbHRhKSwgMTApO1xuICAgICAgICB0aGlzLl96b29tRmFjdG9yLnkgPSB6b29tWURlbHRhO1xuICAgICAgICAvLyBOb3cgY2FsY3VsYXRlIGhvdyBkaWZmZXJlbnQgdGhhdCBpcyBmcm9tIHRoZSBjdXJyZW50IGRpbWVuc2lvbnNcbiAgICAgICAgbGV0IHdpZHRoRGVsdGEgPSBuZXdXaWR0aCAtIHRoaXMuX3JlbGF0aXZlVmlldy53O1xuICAgICAgICBsZXQgaGVpZ2h0RGVsdGEgPSBuZXdIZWlnaHQgLSB0aGlzLl9yZWxhdGl2ZVZpZXcuaDtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBuZXcgdmlldyBiYXNlZCBvbiB0aGUgYXBwcm9wcmlhdGUgZGVsdGFzXG4gICAgICAgIGxldCBuZXdWaWV3ID0ge1xuICAgICAgICAgICAgeDogdGhpcy5fcmVsYXRpdmVWaWV3LnggLSAod2lkdGhEZWx0YSAvIDIpLFxuICAgICAgICAgICAgeTogdGhpcy5fcmVsYXRpdmVWaWV3LnkgLSAoaGVpZ2h0RGVsdGEgLyAyKSxcbiAgICAgICAgICAgIHc6IHRoaXMuX3JlbGF0aXZlVmlldy53ICsgd2lkdGhEZWx0YSxcbiAgICAgICAgICAgIGg6IHRoaXMuX3JlbGF0aXZlVmlldy5oICsgaGVpZ2h0RGVsdGFcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcmVsYXRpdmVWaWV3ID0gbmV3VmlldztcbiAgICAgICAgdGhpcy5fbmVlZHNSZWRyYXcgPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjaGFuZ2VWaWV3XG4gICAgICpcbiAgICAgKiB1cGRhdGUgdGhlIHZpZXcgYmVpbmcgZGlzcGxheWVkIG9uIHRoZSBjYW52YXNcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0bmV3RGlzcGxheVx0VGhlIGRpbWVuc2lvbnMgb2YgdGhlIG5ldyB2aWV3XG4gICAgICpcbiAgICAgKi9cbiAgICBjaGFuZ2VWaWV3KG5ld0Rpc3BsYXkpIHtcbiAgICAgICAgdGhpcy5fcmVsYXRpdmVWaWV3ID0gbmV3RGlzcGxheTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIFBBTiBIQU5ETElOR1xuICAgIC8qKlxuICAgICAqIF9vbkRyYWdcbiAgICAgKlxuICAgICAqIG1vdmUgdGhlIGNhbnZhcyBhcm91bmQgdmlhIGEgbW91c2UgZHJhZ1xuICAgICAqXG4gICAgICogQHBhcmFtXHRkZWx0YVx0VGhlIGFtb3VudCB0aGUgbW91c2UgaGFzIGRyYWdnZWRcbiAgICAgKlxuICAgICAqL1xuICAgIF9vbkRyYWcoZGVsdGEpIHtcbiAgICAgICAgaWYgKCFkZWx0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXdDb3JuZXIgPSB0aGlzLl9jYWxjdWxhdGVOZXdDb3JuZXJGcm9tRGVsdGEoZGVsdGEpO1xuICAgICAgICB0aGlzLnBhbihuZXdDb3JuZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2FsY3VsYXRlTmV3Q29ybmVyRnJvbURlbHRhXG4gICAgICpcbiAgICAgKiB0YWtlIHpvb20gaW50byBhY2NvdW50IHdoZW4gY2FsY3VsYXRpbmcgdGhlIG5ldyBjb3JuZXIgb2YgdGhlIGNhbnZhc1xuICAgICAqXG4gICAgICogQHBhcmFtXHRkZWx0YVx0VGhlIGFtb3VudCB0aGF0IGhhcyBiZWVuIGRyYWdnZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUaGUgbmV3IGNvcm5lciBmb3IgdGhlIGNhbnZhc1xuICAgICAqXG4gICAgICovXG4gICAgX2NhbGN1bGF0ZU5ld0Nvcm5lckZyb21EZWx0YShkZWx0YSkge1xuICAgICAgICBsZXQgbmV3Q29ybmVyID0ge1xuICAgICAgICAgICAgeDogdGhpcy5fcmVsYXRpdmVWaWV3LnggLSAoZGVsdGEueCAvIHRoaXMuX3pvb21GYWN0b3IueCksXG4gICAgICAgICAgICB5OiB0aGlzLl9yZWxhdGl2ZVZpZXcueSAtIChkZWx0YS55IC8gdGhpcy5fem9vbUZhY3Rvci55KVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3Q29ybmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBwYW5cbiAgICAgKlxuICAgICAqIGhhbmRsZSBhIHBhbiBldmVudFxuICAgICAqXG4gICAgICogQHBhcmFtXHRjb3JuZXJQb2ludFx0XHRUaGUgbmV3IGNvcm5lciBmb3IgdGhlIGNhbnZhc1xuICAgICAqXG4gICAgICovXG4gICAgcGFuKGNvcm5lclBvaW50KSB7XG4gICAgICAgIHRoaXMuX3JlbGF0aXZlVmlldy54ID0gY29ybmVyUG9pbnQueDtcbiAgICAgICAgdGhpcy5fcmVsYXRpdmVWaWV3LnkgPSBjb3JuZXJQb2ludC55O1xuICAgICAgICB0aGlzLl9uZWVkc1JlZHJhdyA9IHRydWU7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBFVkVOVCBIQU5ETElOR1xuICAgIC8qKlxuICAgICAqIF9hZGRFdmVudExpc3RlbmVyc1xuICAgICAqXG4gICAgICogYWRkIGFsbCBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBjYW52YXMgaXRzZWxmXG4gICAgICpcbiAgICAgKi9cbiAgICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIC8vIEFkZCB6b29tIGxpc3RlbmVyc1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbk1vdXNlV2hlZWwoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQWRkIHBhbiBsaXN0ZW5lcnNcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLnN0eWxlLmN1cnNvciA9IFwiLXdlYmtpdC1ncmFiYmluZ1wiO1xuICAgICAgICAgICAgdGhpcy5fc3RhcnREcmFnUG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgeDogZXZlbnQuc2NyZWVuWCxcbiAgICAgICAgICAgICAgICB5OiBldmVudC5zY3JlZW5ZXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0RHJhZ1BvaW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZGVsdGFEcmFnUG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgeDogZXZlbnQuc2NyZWVuWCAtIHRoaXMuX3N0YXJ0RHJhZ1BvaW50LngsXG4gICAgICAgICAgICAgICAgeTogZXZlbnQuc2NyZWVuWSAtIHRoaXMuX3N0YXJ0RHJhZ1BvaW50LnlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9zdGFydERyYWdQb2ludCA9IHtcbiAgICAgICAgICAgICAgICB4OiBldmVudC5zY3JlZW5YLFxuICAgICAgICAgICAgICAgIHk6IGV2ZW50LnNjcmVlbllcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9vbkRyYWcodGhpcy5fZGVsdGFEcmFnUG9pbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0RHJhZ1BvaW50ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2RlbHRhRHJhZ1BvaW50ID0ge1xuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLmJhc2Uuc3R5bGUuY3Vyc29yID0gXCItd2Via2l0LWdyYWJcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBsZXQgcHQgPSB7XG4gICAgICAgICAgICAgICAgeDogZS5wYWdlWCxcbiAgICAgICAgICAgICAgICB5OiBlLnBhZ2VZXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5fb25DbGljayhlLCBwdCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGxldCBwdCA9IHtcbiAgICAgICAgICAgICAgICB4OiBlLnBhZ2VYLFxuICAgICAgICAgICAgICAgIHk6IGUucGFnZVlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9vbkhvdmVyKGUsIHB0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEFkZCBhbmltYXRpb24gbGlzdGVuZXJzXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRnJhbWUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkNsaWNrXG4gICAgICpcbiAgICAgKiBoYW5kbGUgY2xpY2tzIG9uIHRoZSBjYW52YXNcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0ZVx0XHRUaGUgZXZlbnQgaXRzZWxmIG9mIHRoZSBtb3VzZSBjbGlja1xuICAgICAqIEBwYXJhbVx0cG9pbnRcdFRoZSBwb2ludCB0aGF0IHdhcyBjbGlja2VkXG4gICAgICpcbiAgICAgKi9cbiAgICBfb25DbGljayhlLCBwb2ludCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVFdmVudChfaW50ZXJmYWNlc18xLkV2ZW50VHlwZUVudW0uQ0xJQ0ssIHBvaW50LCBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uSG92ZXJcbiAgICAgKlxuICAgICAqIGhhbmRsZSBob3ZlcmluZyBvdmVyIGVsZW1lbnRzIG9uIHRoZSBjYW52YXNcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0ZVx0XHRUaGUgYWN0dWFsIG1vdXNlb3ZlciBldmVudFxuICAgICAqIEBwYXJhbVx0cG9pbnRcdFRoZSBwb2ludCB0aGF0J3MgYmVpbmcgaG92ZXJlZCBvdmVyXG4gICAgICpcbiAgICAgKi9cbiAgICBfb25Ib3ZlcihlLCBwb2ludCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVFdmVudChfaW50ZXJmYWNlc18xLkV2ZW50VHlwZUVudW0uSE9WRVIsIHBvaW50LCBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2hhbmRsZUV2ZW50XG4gICAgICpcbiAgICAgKiBoYW5kbGUgYSBnZW5lcmFsIGV2ZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGV2ZW50VHlwZVx0VGhlIHR5cGUgb2YgZXZlbnQgYmVpbmcgaGFuZGxlZFxuICAgICAqIEBwYXJhbVx0cG9pbnRcdFx0VGhlIHBvaW50IHRoaXMgZXZlbnQgYXBwbGllcyB0b1xuICAgICAqIEBwYXJhbVx0ZVx0XHRcdFRoZSBhY3R1YWwgZXZlbnQgZGF0YVxuICAgICAqXG4gICAgICovXG4gICAgX2hhbmRsZUV2ZW50KGV2ZW50VHlwZSwgcG9pbnQsIGUpIHtcbiAgICAgICAgLy9sZXQgcmVsYXRpdmVQdDogSVBvaW50ID0gdGhpcy5jb252ZXJ0UGh5c2ljYWxQb2ludFRvUmVsYXRpdmVQb2ludChwb2ludCk7XG4gICAgICAgIGxldCBsYXllcjtcbiAgICAgICAgZm9yIChsYXllciBvZiB0aGlzLl9sYXllcnMpIHtcbiAgICAgICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxheWVyLmhhbmRsZUV2ZW50KGV2ZW50VHlwZSwgcG9pbnQsIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBQT0lOVCBDT05WRVJTSU9OIEZVTkNUSU9OU1xuICAgIC8qKlxuICAgICAqIGNvbnZlcnRSZWxhdGl2ZVBvaW50VG9BYnNvbHV0ZVBvaW50XG4gICAgICpcbiAgICAgKiBjb252ZXJ0IGEgcG9pbnQgZnJvbSBvdXIgcmVsYXRpdmUgY2FudmFzIGZyYW1lIChlLmcuIHZpc2libGUgZnJhbWUpIGFuZFxuICAgICAqIHRoZSBwaHlzaWNhbCBzcGFjZVxuICAgICAqXG4gICAgICogQHBhcmFtXHRyZWxhdGl2ZVB0XHRUaGUgcG9pbnQgdG8gY29udmVydFxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRoZSBjb252ZXJ0ZWQgcG9pbnRcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnZlcnRSZWxhdGl2ZVBvaW50VG9QaHlzaWNhbFBvaW50KHJlbGF0aXZlUHQpIHtcbiAgICAgICAgbGV0IG91dDtcbiAgICAgICAgLy8gR3JhYiBkaW1lbnNpb25zIG9mIHRoZSBjYW52YXNcbiAgICAgICAgLy8gVE9ETzogbWFrZSBtb3JlIHZlcnNhdGlsZVxuICAgICAgICBsZXQgY2FudmFzTGVmdCA9IHRoaXMuX2VsZW1zLmJhc2Uub2Zmc2V0TGVmdDtcbiAgICAgICAgbGV0IGNhbnZhc1RvcCA9IHRoaXMuX2VsZW1zLmJhc2Uub2Zmc2V0VG9wO1xuICAgICAgICBsZXQgY2FudmFzV2lkdGggPSB0aGlzLl9lbGVtcy5iYXNlLm9mZnNldFdpZHRoO1xuICAgICAgICBsZXQgY2FudmFzSGVpZ2h0ID0gdGhpcy5fZWxlbXMuYmFzZS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGxldCB4ID0gKCgocmVsYXRpdmVQdC54IC0gdGhpcy5fcmVsYXRpdmVWaWV3LngpICogY2FudmFzV2lkdGgpIC8gdGhpcy5fcmVsYXRpdmVWaWV3LncpICsgY2FudmFzTGVmdDtcbiAgICAgICAgbGV0IHkgPSAoKChyZWxhdGl2ZVB0LnkgLSB0aGlzLl9yZWxhdGl2ZVZpZXcueSkgKiBjYW52YXNIZWlnaHQpIC8gdGhpcy5fcmVsYXRpdmVWaWV3LmgpICsgY2FudmFzVG9wO1xuICAgICAgICBvdXQgPSB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjb252ZXJ0UGh5c2ljYWxQb2ludFRvUmVsYXRpdmVQb2ludFxuICAgICAqXG4gICAgICogY29udmVydCBhIHBoeXNpY2FsIHBvaW50IHRvIG9uZSB3aXRoaW4gdGhlIHZpc2libGUgY2FudmFzIGZyYW1lXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdHBoeXNpY2FsUHRcdFRoZSBwb2ludCB0byBjb252ZXJ0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VGhlIGNvbnZlcnRlZCByZWxhdGl2ZSBwb2ludFxuICAgICAqXG4gICAgICovXG4gICAgY29udmVydFBoeXNpY2FsUG9pbnRUb1JlbGF0aXZlUG9pbnQocGh5c2ljYWxQdCkge1xuICAgICAgICBsZXQgb3V0O1xuICAgICAgICAvLyBHcmFiIGRpbWVuc2lvbnMgb2YgdGhlIGNhbnZhc1xuICAgICAgICAvLyBUT0RPOiBtYWtlIG1vcmUgdmVyc2F0aWxlXG4gICAgICAgIGxldCBjYW52YXNMZWZ0ID0gdGhpcy5fZWxlbXMuYmFzZS5vZmZzZXRMZWZ0O1xuICAgICAgICBsZXQgY2FudmFzVG9wID0gdGhpcy5fZWxlbXMuYmFzZS5vZmZzZXRUb3A7XG4gICAgICAgIGxldCBjYW52YXNXaWR0aCA9IHRoaXMuX2VsZW1zLmJhc2Uub2Zmc2V0V2lkdGg7XG4gICAgICAgIGxldCBjYW52YXNIZWlnaHQgPSB0aGlzLl9lbGVtcy5iYXNlLm9mZnNldEhlaWdodDtcbiAgICAgICAgLy8gY29udmVydCBlYWNoIGFzcGVjdCBvZiB0aGUgcG9pbnRcbiAgICAgICAgbGV0IHggPSAoKChwaHlzaWNhbFB0LnggLSBjYW52YXNMZWZ0KSAqIHRoaXMuX3JlbGF0aXZlVmlldy53KSAvIGNhbnZhc1dpZHRoKSArIHRoaXMuX3JlbGF0aXZlVmlldy54O1xuICAgICAgICBsZXQgeSA9ICgoKHBoeXNpY2FsUHQueSAtIGNhbnZhc1RvcCkgKiB0aGlzLl9yZWxhdGl2ZVZpZXcuaCkgLyBjYW52YXNIZWlnaHQpICsgdGhpcy5fcmVsYXRpdmVWaWV3Lnk7XG4gICAgICAgIG91dCA9IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNvbnZlcnRBYnNvbHV0ZVBvaW50VG9SZWxhdGl2ZVBvaW50XG4gICAgICpcbiAgICAgKiBjb252ZXJ0IGEgcG9pbnQgZnJvbSBhYnNvbHV0ZSBwb3NpdGlvbiB0byBhIHZpc2libGUgcG9pbnRcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnZlcnRBYnNvbHV0ZVBvaW50VG9SZWxhdGl2ZVBvaW50KGFic29sdXRlUHQpIHtcbiAgICAgICAgbGV0IG91dDtcbiAgICAgICAgLy8gYWJzb2x1dGUgcG9zaXRpb24gbWF5IGV4aXN0IG91dHNpZGUgb2YgdnNpaWJsZSByZWN0LCBidXQgd2lsbCBiZSB2aXNpYmxlIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGNhbnZhc1xuICAgICAgICBvdXQgPSB7XG4gICAgICAgICAgICB4OiBtYXRoc18xLnJvdW5kVG9QbGFjZSgoYWJzb2x1dGVQdC54IC0gdGhpcy5fcmVsYXRpdmVWaWV3LngpICogdGhpcy5fem9vbUZhY3Rvci54LCAxMCksXG4gICAgICAgICAgICB5OiBtYXRoc18xLnJvdW5kVG9QbGFjZSgoYWJzb2x1dGVQdC55IC0gdGhpcy5fcmVsYXRpdmVWaWV3LnkpICogdGhpcy5fem9vbUZhY3Rvci55LCAxMClcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY29udmVydFJlbGF0aXZlUG9pbnRUb0Fic29sdXRlUG9pbnRcbiAgICAgKlxuICAgICAqIGNvbnZlcnQgYSBwb2ludCBmcm9tIGEgdmlzaWJsZSBwb2ludCB0byBhbiBhYnNvbHV0ZSBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtXHRyZWxhdGl2ZVB0XHRUaGUgcG9pbnQgaW4gcmVsYXRpdmUgZGltZW5zaW9uc1xuICAgICAqXG4gICAgICogQHJldHVybnNcdFRIZSBjb252ZXJ0ZWQgYWJzb2x1dGUgcG9pbnRcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnZlcnRSZWxhdGl2ZVBvaW50VG9BYnNvbHV0ZVBvaW50KHJlbGF0aXZlUHQpIHtcbiAgICAgICAgbGV0IG91dDtcbiAgICAgICAgb3V0ID0ge1xuICAgICAgICAgICAgeDogbWF0aHNfMS5yb3VuZFRvUGxhY2UoKChyZWxhdGl2ZVB0LnggLyB0aGlzLl96b29tRmFjdG9yLngpICsgdGhpcy5fcmVsYXRpdmVWaWV3LngpLCAxMCksXG4gICAgICAgICAgICB5OiBtYXRoc18xLnJvdW5kVG9QbGFjZSgoKHJlbGF0aXZlUHQueSAvIHRoaXMuX3pvb21GYWN0b3IueSkgKyB0aGlzLl9yZWxhdGl2ZVZpZXcueSksIDEwKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjb252ZXJ0QWJzb2x1dGVSZWN0VG9SZWxhdGl2ZVJlY3RcbiAgICAgKlxuICAgICAqIFR1cm4gYSBzZXQgb2YgYWJzb2x1dGUgZGltZW5zaW9ucyB0byB0aGVpciByZWxhdGl2ZSBjb3VudGVycGFydFxuICAgICAqXG4gICAgICogQHBhcmFtIFx0YWJzb2x1dGVSZWN0IFx0VGhlIGFic29sdXRlIHJlY3QgdG8gY29udmVydCB0byByZWxhdGl2ZSBkaW1lbnNpb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VGhlIGNvbnZlcnRlZCByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnZlcnRBYnNvbHV0ZVJlY3RUb1JlbGF0aXZlUmVjdChhYnNvbHV0ZVJlY3QpIHtcbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSB0b3AgbGVmdCBjb3JuZXJcbiAgICAgICAgbGV0IGxlZnRUb3BDb3JuZXIgPSB7XG4gICAgICAgICAgICB4OiBhYnNvbHV0ZVJlY3QueCxcbiAgICAgICAgICAgIHk6IGFic29sdXRlUmVjdC55XG4gICAgICAgIH07XG4gICAgICAgIGxldCByZWxMZWZ0VG9wQ29ybmVyID0gdGhpcy5jb252ZXJ0QWJzb2x1dGVQb2ludFRvUmVsYXRpdmVQb2ludChsZWZ0VG9wQ29ybmVyKTtcbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBib3R0b20tcmlnaHQgY29ybmVyXG4gICAgICAgIGxldCByaWdodEJvdHRvbUNvcm5lciA9IHtcbiAgICAgICAgICAgIHg6IGFic29sdXRlUmVjdC54ICsgYWJzb2x1dGVSZWN0LncsXG4gICAgICAgICAgICB5OiBhYnNvbHV0ZVJlY3QueSArIGFic29sdXRlUmVjdC5oXG4gICAgICAgIH07XG4gICAgICAgIGxldCByZWxSaWdodEJvdHRvbUNvcm5lciA9IHRoaXMuY29udmVydEFic29sdXRlUG9pbnRUb1JlbGF0aXZlUG9pbnQocmlnaHRCb3R0b21Db3JuZXIpO1xuICAgICAgICAvLyByZXR1cm4gYSByZWN0IGJhc2VkIG9uIHRoZSBjb3JuZXJzIHdlIGNhbGN1bGF0ZWRcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHJlbExlZnRUb3BDb3JuZXIueCxcbiAgICAgICAgICAgIHk6IHJlbExlZnRUb3BDb3JuZXIueSxcbiAgICAgICAgICAgIHc6IHJlbFJpZ2h0Qm90dG9tQ29ybmVyLnggLSByZWxMZWZ0VG9wQ29ybmVyLngsXG4gICAgICAgICAgICBoOiByZWxSaWdodEJvdHRvbUNvcm5lci55IC0gcmVsTGVmdFRvcENvcm5lci55XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBIRUxQRVJTXG4gICAgLyoqXG4gICAgICogZGVidWdSZWxhdGl2ZURpbWVuc2lvbnNcbiAgICAgKlxuICAgICAqIGRlYnVnIHRoZSBjdXJyZW50IHZpZXcgb2YgdGhlIGNhbnZhc1xuICAgICAqXG4gICAgICovXG4gICAgZGVidWdSZWxhdGl2ZURpbWVuc2lvbnMoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ0FOVkFTIERJTUVOU0lPTlM6XCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhNYXRoLnJvdW5kKHRoaXMucmVsYXRpdmVWaWV3LngpICsgXCIsIFwiICsgTWF0aC5yb3VuZCh0aGlzLnJlbGF0aXZlVmlldy55KSk7XG4gICAgICAgIGNvbnNvbGUubG9nKE1hdGgucm91bmQodGhpcy5yZWxhdGl2ZVZpZXcudykgKyBcIiB4IFwiICsgTWF0aC5yb3VuZCh0aGlzLnJlbGF0aXZlVmlldy5oKSk7XG4gICAgfVxufVxuZXhwb3J0cy5IVE1MNUNhbnZhcyA9IEhUTUw1Q2FudmFzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjYW52YXNFbGVtZW50XzEgPSByZXF1aXJlKFwiLi9jYW52YXNFbGVtZW50XCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuL19pbnRlcmZhY2VzXCIpO1xuY29uc3Qgc2ltcGxlR3VhcmRfMSA9IHJlcXVpcmUoXCIuLi90eXBlR3VhcmRzL3NpbXBsZUd1YXJkXCIpO1xuY29uc3QgY2xvbmluZ18xID0gcmVxdWlyZShcIi4uL29iamVjdEhlbHBlcnMvY2xvbmluZ1wiKTtcbmNsYXNzIENpcmNsZUVsZW1lbnQgZXh0ZW5kcyBjYW52YXNFbGVtZW50XzEuQ2FudmFzRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoaWQsIGNlbnRlciwgdGVtcCkge1xuICAgICAgICBzdXBlcihpZCk7XG4gICAgICAgIGxldCByYWRpdXM7XG4gICAgICAgIGlmIChzaW1wbGVHdWFyZF8xLmlzTnVtYmVyKHRlbXApKSB7XG4gICAgICAgICAgICByYWRpdXMgPSB7XG4gICAgICAgICAgICAgICAgeDogdGVtcCxcbiAgICAgICAgICAgICAgICB5OiB0ZW1wXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmFkaXVzID0gdGVtcDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kaW1lbnNpb25zID0ge1xuICAgICAgICAgICAgeDogY2VudGVyLnggLSByYWRpdXMueCxcbiAgICAgICAgICAgIHk6IGNlbnRlci55IC0gcmFkaXVzLnksXG4gICAgICAgICAgICB3OiByYWRpdXMueCAqIDIsXG4gICAgICAgICAgICBoOiByYWRpdXMueSAqIDJcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fY2VudGVyID0gY2VudGVyO1xuICAgICAgICB0aGlzLl9yYWRpdXMgPSByYWRpdXM7XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVSZWN0cygpO1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRWxlbWVudFR5cGUuQ2lyY2xlOyB9XG4gICAgX29uRHJhdyhjb250ZXh0KSB7XG4gICAgICAgIC8vIFRPRE86IEhBTkRMRSBTQ0FMSU5HIElGIE5FRUQgQkVcbiAgICAgICAgLy8gZHJhdyB0aGUgYWN0dWFsIHRleHQgb2YgdGhlIGVsZW1lbnRcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5hcmModGhpcy5fZGlzcGxheURpbWVuc2lvbnMueCArIHRoaXMuX2Rpc3BsYXlSYWRpdXMueCwgdGhpcy5fZGlzcGxheURpbWVuc2lvbnMueSArIHRoaXMuX2Rpc3BsYXlSYWRpdXMueSwgdGhpcy5fZGlzcGxheVJhZGl1cy54LCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAvLyByZXR1cm4gc3R5bGUgdG8gbm9ybVxuICAgICAgICB0aGlzLl9yZXN0b3JlU3R5bGUoY29udGV4dCk7XG4gICAgfVxuICAgIC8qKiBjaGFuZ2UgdGhlIGRpbWVuc2lvbnMgYmFzZWQgb24gYSBwYW4gLyB6b29tIGNoYW5nZSBvbiB0aGUgY2FudmFzICovXG4gICAgdXBkYXRlRGltZW5zaW9ucyhjYW52YXNEaW1lbnNpb25zKSB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZURpbWVuc2lvbnMoY2FudmFzRGltZW5zaW9ucyk7XG4gICAgICAgIHRoaXMuX2Rpc3BsYXlSYWRpdXMgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLl9yYWRpdXMueCAqIHRoaXMuX2NhbnZhcy56b29tRmFjdG9yLngsXG4gICAgICAgICAgICB5OiB0aGlzLl9yYWRpdXMueSAqIHRoaXMuX2NhbnZhcy56b29tRmFjdG9yLnlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqIG92ZXJyaWRlIGRlZmF1bHQgZGltZW5zaW9ucyBmb3IgY2lyY2xlIHNwZWNpZmljIGRpbWVuc2lvbnMgKi9cbiAgICBfZGVidWdEaW1lbnNpb25zKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNJUkNMRTpcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2VudGVyIHB0OiBcIiArIE1hdGgucm91bmQodGhpcy5fZGlzcGxheURpbWVuc2lvbnMueCArIHRoaXMuX2Rpc3BsYXlSYWRpdXMueCkgKyBcIiwgXCIgKyBNYXRoLnJvdW5kKHRoaXMuX2Rpc3BsYXlEaW1lbnNpb25zLnkgKyB0aGlzLl9kaXNwbGF5UmFkaXVzLnkpKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJyYWRpdXM6IFwiICsgTWF0aC5yb3VuZCh0aGlzLl9kaXNwbGF5UmFkaXVzLngpKTtcbiAgICAgICAgdGhpcy5fY2FudmFzLmRlYnVnUmVsYXRpdmVEaW1lbnNpb25zKCk7XG4gICAgfVxuICAgIC8qKiBjcmVhdGUgYSBjbG9uZSB0byBiZSB1c2VkIGluIGVmZmVjdCBjYWxjdWxhdGlvbnMgKi9cbiAgICBfY2xvbmVGb3JFZmZlY3QoaWQpIHtcbiAgICAgICAgLy8gY2xvbmUgcmVsZXZhbnQgZGF0YSBcbiAgICAgICAgbGV0IGNlbnRlciA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMuX2RpbWVuc2lvbnMueCArIHRoaXMuX3JhZGl1cy54LFxuICAgICAgICAgICAgeTogdGhpcy5fZGltZW5zaW9ucy55ICsgdGhpcy5fcmFkaXVzLnlcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHJhZGl1cyA9IGNsb25pbmdfMS5jbG9uZVBvaW50KHRoaXMuX3JhZGl1cyk7XG4gICAgICAgIGxldCBlbGVtID0gbmV3IENpcmNsZUVsZW1lbnQoaWQsIGNlbnRlciwgcmFkaXVzKTtcbiAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgfVxuICAgIC8qKiBhbGxvdyBlZmZlY3QgZWxlbWVudHMgdG8gYmUgcmVzaXplZCAqL1xuICAgIF9zY2FsZShzY2FsZUFtdCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzRWZmZWN0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuX3NjYWxlKHNjYWxlQW10KTtcbiAgICAgICAgLy8gVXBkYXRlIHRoaXMgcmFkaXVzXG4gICAgICAgIHRoaXMuX3JhZGl1cyA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMuX3JhZGl1cy54ICogc2NhbGVBbXQsXG4gICAgICAgICAgICB5OiB0aGlzLl9yYWRpdXMueSAqIHNjYWxlQW10XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5DaXJjbGVFbGVtZW50ID0gQ2lyY2xlRWxlbWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2FudmFzRWxlbWVudF8xID0gcmVxdWlyZShcIi4vY2FudmFzRWxlbWVudFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IGNsb25pbmdfMSA9IHJlcXVpcmUoXCIuLi9vYmplY3RIZWxwZXJzL2Nsb25pbmdcIik7XG5jb25zdCB0cmlnXzEgPSByZXF1aXJlKFwiLi4vbWF0aHMvdHJpZ1wiKTtcbmNsYXNzIFBhdGhFbGVtZW50IGV4dGVuZHMgY2FudmFzRWxlbWVudF8xLkNhbnZhc0VsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGlkLCBwb2ludHMpIHtcbiAgICAgICAgc3VwZXIoaWQpO1xuICAgICAgICB0aGlzLl9pbml0aWFsaXplUmVjdHMoKTtcbiAgICAgICAgaWYgKHBvaW50cykge1xuICAgICAgICAgICAgdGhpcy5fcG9pbnRzID0gcG9pbnRzO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRXh0cmVtYUZyb21Qb2ludHMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3BvaW50cyA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCB0eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5FbGVtZW50VHlwZS5QYXRoOyB9XG4gICAgLyoqIGNyZWF0ZSBhbiBlbXB0eSBkaW1lbnNpb25zIHJlY3QgKi9cbiAgICBfaW5pdGlhbGl6ZVJlY3RzKCkge1xuICAgICAgICB0aGlzLl9kaW1lbnNpb25zID0ge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICB3OiAwLFxuICAgICAgICAgICAgaDogMFxuICAgICAgICB9O1xuICAgICAgICBzdXBlci5faW5pdGlhbGl6ZVJlY3RzKCk7XG4gICAgICAgIHRoaXMuX25lZWRzSW5pdGlhbERpbWVuc2lvbnMgPSB0cnVlO1xuICAgIH1cbiAgICAvKiogYWRkIGEgbmV3IHBvaW50IHRvIHRoaXMgcGF0aCAqL1xuICAgIGFkZFBvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMuX3BvaW50cy5wdXNoKHBvaW50KTtcbiAgICAgICAgLy8gVXBkYXRlIGV4dHJlbWFcbiAgICAgICAgdGhpcy5fdXBkYXRlRXh0cmVtYUZyb21Qb2ludChwb2ludCk7XG4gICAgfVxuICAgIC8qKiBsb29wIHRocm91Z2ggYW5kIHVwZGF0ZSBleHRyZW1hcyBiYXNlZCBvbiBhbGwgcG9pbnRzICovXG4gICAgX3VwZGF0ZUV4dHJlbWFGcm9tUG9pbnRzKCkge1xuICAgICAgICBsZXQgcG9pbnQ7XG4gICAgICAgIGZvciAocG9pbnQgb2YgdGhpcy5fcG9pbnRzKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVFeHRyZW1hRnJvbVBvaW50KHBvaW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogY2hlY2sgaWYgZXh0cmVtYSBuZWVkIHRvIGJlIHVwZGF0ZWQgZm9yIGEgc2luZ2xlIHBvaW50ICovXG4gICAgX3VwZGF0ZUV4dHJlbWFGcm9tUG9pbnQocG9pbnQpIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHggZXh0cmVtZXNcbiAgICAgICAgaWYgKHRoaXMuX25lZWRzSW5pdGlhbERpbWVuc2lvbnMgfHwgcG9pbnQueCA8IHRoaXMuX2RpbWVuc2lvbnMueCkge1xuICAgICAgICAgICAgdGhpcy5fZGltZW5zaW9ucy54ID0gcG9pbnQueDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwb2ludC54ID4gKHRoaXMuX2RpbWVuc2lvbnMueCArIHRoaXMuX2RpbWVuc2lvbnMudykpIHtcbiAgICAgICAgICAgIHRoaXMuX2RpbWVuc2lvbnMudyA9IChwb2ludC54IC0gdGhpcy5fZGltZW5zaW9ucy54KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBmb3IgeSBleHRyZW1lc1xuICAgICAgICBpZiAodGhpcy5fbmVlZHNJbml0aWFsRGltZW5zaW9ucyB8fCBwb2ludC55IDwgdGhpcy5fZGltZW5zaW9ucy55KSB7XG4gICAgICAgICAgICB0aGlzLl9kaW1lbnNpb25zLnkgPSBwb2ludC55O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBvaW50LnkgPiAodGhpcy5fZGltZW5zaW9ucy55ICsgdGhpcy5fZGltZW5zaW9ucy5oKSkge1xuICAgICAgICAgICAgdGhpcy5fZGltZW5zaW9ucy5oID0gKHBvaW50LnkgLSB0aGlzLl9kaW1lbnNpb25zLnkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX25lZWRzSW5pdGlhbERpbWVuc2lvbnMgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqIGFjdHVhbGx5IGNyZWF0ZSB0aGUgcGF0aCBvbiB0aGUgY2FudmFzICovXG4gICAgX29uRHJhdyhjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIC8vIEFkZCBlYWNoIHBvaW50XG4gICAgICAgIGxldCBwb2ludDtcbiAgICAgICAgZm9yIChwb2ludCBvZiB0aGlzLl9kaXNwbGF5UG9pbnRzKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhwb2ludC54LCBwb2ludC55KTsgLy9UT0RPOiBbZnV0dXJlXSBhZGQgY3VydmVzIGFuZCBhcmNzIGFzIHdlbGxcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICB9XG4gICAgLyoqICAqL1xuICAgIHVwZGF0ZURpbWVuc2lvbnMoY2FudmFzRGltZW5zaW9ucykge1xuICAgICAgICBzdXBlci51cGRhdGVEaW1lbnNpb25zKGNhbnZhc0RpbWVuc2lvbnMpO1xuICAgICAgICAvLyBXZSBuZWVkIHRvIHVwZGF0ZSBlYWNoIG9mIG91ciBwb2ludHNcbiAgICAgICAgdGhpcy5fZGlzcGxheVBvaW50cyA9IFtdO1xuICAgICAgICBsZXQgcG9pbnQ7XG4gICAgICAgIGZvciAocG9pbnQgb2YgdGhpcy5fcG9pbnRzKSB7XG4gICAgICAgICAgICAvL2xldCBkaXNwbGF5UG9pbnQ6IElQb2ludCA9IHRoaXMuX2NhbnZhcy5jb252ZXJ0QWJzb2x1dGVQb2ludFRvUmVsYXRpdmVQb2ludChwb2ludCk7XG4gICAgICAgICAgICBsZXQgZGlzcGxheVBvaW50ID0ge1xuICAgICAgICAgICAgICAgIHg6IChwb2ludC54IC0gY2FudmFzRGltZW5zaW9ucy54KSAqIHRoaXMuX2NhbnZhcy56b29tRmFjdG9yLngsXG4gICAgICAgICAgICAgICAgeTogKHBvaW50LnkgLSBjYW52YXNEaW1lbnNpb25zLnkpICogdGhpcy5fY2FudmFzLnpvb21GYWN0b3IueVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXlQb2ludHMucHVzaChkaXNwbGF5UG9pbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkanVzdERpbWVuc2lvbnMoYWRqdXN0UHQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzRWZmZWN0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuYWRqdXN0RGltZW5zaW9ucyhhZGp1c3RQdCk7XG4gICAgICAgIGxldCBwb2ludDtcbiAgICAgICAgZm9yIChwb2ludCBvZiB0aGlzLl9wb2ludHMpIHtcbiAgICAgICAgICAgIHBvaW50LnggKz0gYWRqdXN0UHQueDtcbiAgICAgICAgICAgIHBvaW50LnkgKz0gYWRqdXN0UHQueTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogY2xvbmUgaW4gb3JkZXIgdG8gYmUgYWJsZSB0byBhcHBseSB2YXJpb3VzIGVmZmVjdHMgKi9cbiAgICBfY2xvbmVGb3JFZmZlY3QoaWQpIHtcbiAgICAgICAgbGV0IG91dCA9IG5ldyBQYXRoRWxlbWVudChpZCwgY2xvbmluZ18xLmNsb25lUG9pbnRBcnJheSh0aGlzLl9wb2ludHMpKTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgX3NjYWxlKHNjYWxlQW10KSB7XG4gICAgICAgIGlmICghdGhpcy5faXNFZmZlY3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIGNlbnRyYWwgcG9pbnQgKGRlZmluZWQgYXMgdGhlIGNlbnRlciBvZiBlYWNoIGV4dHJlbWEpXG4gICAgICAgIGxldCBjZW50ZXIgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLl9kaW1lbnNpb25zLnggKyAodGhpcy5fZGltZW5zaW9ucy53IC8gMiksXG4gICAgICAgICAgICB5OiB0aGlzLl9kaW1lbnNpb25zLnkgKyAodGhpcy5fZGltZW5zaW9ucy5oIC8gMilcbiAgICAgICAgfTtcbiAgICAgICAgLy8gU2NhbGUgZWFjaCBwb2ludCB0byBiZSBzb21lIGFtb3VudCBmdXJ0aGVyIGZyb20gdGhlIGNlbnRlclxuICAgICAgICBsZXQgcHQ7XG4gICAgICAgIGxldCB0bXBQb2ludHMgPSBbXTtcbiAgICAgICAgZm9yIChwdCBvZiB0aGlzLl9wb2ludHMpIHtcbiAgICAgICAgICAgIGxldCB0bXBQdCA9IHRoaXMuX3NjYWxlUG9pbnQocHQsIGNlbnRlciwgc2NhbGVBbXQpO1xuICAgICAgICAgICAgdG1wUG9pbnRzLnB1c2godG1wUHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBvdXIgcG9pbnRzIGFycmF5IHRvIHRoZSBuZXcgcG9pbnRzIGFycmF5XG4gICAgICAgIHRoaXMuX3BvaW50cyA9IHRtcFBvaW50cztcbiAgICAgICAgdGhpcy5fdXBkYXRlRXh0cmVtYUZyb21Qb2ludHMoKTtcbiAgICB9XG4gICAgX3NjYWxlUG9pbnQocHQsIGNlbnRlciwgc2NhbGVBbXQpIHtcbiAgICAgICAgbGV0IGFuZ2xlID0gdHJpZ18xLmdldEFuZ2xlKGNlbnRlciwgcHQpO1xuICAgICAgICBsZXQgZGlzdGFuY2UgPSB0cmlnXzEuZ2V0RGlzdGFuY2UoY2VudGVyLCBwdCk7XG4gICAgICAgIGxldCBuZXdEaXN0YW5jZSA9IGRpc3RhbmNlICogc2NhbGVBbXQ7XG4gICAgICAgIGxldCBuZXdQdCA9IHRyaWdfMS5nZXRFbmRQb2ludChjZW50ZXIsIGFuZ2xlLCBuZXdEaXN0YW5jZSk7XG4gICAgICAgIHJldHVybiBuZXdQdDtcbiAgICB9XG59XG5leHBvcnRzLlBhdGhFbGVtZW50ID0gUGF0aEVsZW1lbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNhbnZhc0VsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL2NhbnZhc0VsZW1lbnRcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBjbG9uaW5nXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9jbG9uaW5nXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgUmVjdGFuZ2xlRWxlbWVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlIGEgcmVjdGFuZ2xlIG9uIHRoZSBjYW52YXNcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgUmVjdGFuZ2xlRWxlbWVudCBleHRlbmRzIGNhbnZhc0VsZW1lbnRfMS5DYW52YXNFbGVtZW50IHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvKipcbiAgICAgKiAgY3JlYXRlIGEgcmVjdGFuZ2xlIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gICBpZCAgICAgICAgICB1bmlxdWUgSUQgZm9yIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0gICBkaW1lbnNpb25zICB0aGUgc2l6ZSBvZiB0aGUgcmVjdGFuZ2xlIChpbiBjYW52YXMgY29vcmRpbmF0ZXMpXG4gICAgICpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpZCwgZGltZW5zaW9ucykge1xuICAgICAgICBzdXBlcihpZCk7XG4gICAgICAgIC8vI3JlZ2lvbiBQUk9QRVJUSUVTXG4gICAgICAgIC8qKiB0eXBlIG9mIHRoaXMgZWxlbWVudCAqL1xuICAgICAgICB0aGlzLl90eXBlID0gX2ludGVyZmFjZXNfMS5FbGVtZW50VHlwZS5SZWN0YW5nbGU7XG4gICAgICAgIC8qKiB3aGF0IGJvcmRlciByYWRpdXMgc2hvdWxkIGJlIHVzZWQgKGlmIGFueSkgZm9yIHRoaXMgcmVjdGFuZ2xlICovXG4gICAgICAgIHRoaXMuX2JvcmRlclJhZGl1cyA9IDA7XG4gICAgICAgIHRoaXMuX2RpbWVuc2lvbnMgPSBkaW1lbnNpb25zO1xuICAgICAgICB0aGlzLl9pbml0aWFsaXplUmVjdHMoKTtcbiAgICB9XG4gICAgZ2V0IHR5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkVsZW1lbnRUeXBlLlJlY3RhbmdsZTsgfVxuICAgIHNldCBib3JkZXJSYWRpdXMoYlJhZCkgeyB0aGlzLl9ib3JkZXJSYWRpdXMgPSBiUmFkOyB9XG4gICAgLyoqXG4gICAgICogX29uRHJhd1xuICAgICAqXG4gICAgICogYWN0dWFsbHkgZHJhdyB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtICAgY29udGV4dCAgICAgQ29udGV4dCBpbiB3aGljaCB0byBkcmF3IHRoaXMgZWxlbWVudFxuICAgICAqXG4gICAgICovXG4gICAgX29uRHJhdyhjb250ZXh0KSB7XG4gICAgICAgIGlmICh0aGlzLl9ib3JkZXJSYWRpdXMgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3Vucm91bmRlZFJlY3QoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yb3VuZGVkUmVjdChjb250ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfdW5yb3VuZGVkUmVjdFxuICAgICAqXG4gICAgICogRHJhdyBhIHBsYWluIHVucm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0gICBjb250ZXh0ICAgICBUaGUgY29udGV4dCBpbiB3aGljaCB0byByZW5kZXIgdGhpcyBlbGVtZW50XG4gICAgICpcbiAgICAgKi9cbiAgICBfdW5yb3VuZGVkUmVjdChjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoLy8gQ3JlYXRlIHRoZSBhY3R1YWwgcmVjdGFuZ2xlXG4gICAgICAgIHRoaXMuX2Rpc3BsYXlEaW1lbnNpb25zLngsIC8vIC4uLlxuICAgICAgICB0aGlzLl9kaXNwbGF5RGltZW5zaW9ucy55LCAvLyAuLi5cbiAgICAgICAgdGhpcy5fZGlzcGxheURpbWVuc2lvbnMudywgLy8gLi4uXG4gICAgICAgIHRoaXMuX2Rpc3BsYXlEaW1lbnNpb25zLmggLy8gLi4uXG4gICAgICAgICk7IC8vIC4uLlxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcm91bmRlZFJlY3RcbiAgICAgKlxuICAgICAqIERyYXcgYSByZWN0YW5nbGUgd2l0aCByb3VuZGVkIGNvcm5lcnNcbiAgICAgKiBAcGFyYW0gICBjb250ZXh0ICAgICBUaGUgY29udGV4dCBpbiB3aGljaCB0byBkcmF3IHRoaXMgcmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKi9cbiAgICBfcm91bmRlZFJlY3QoY29udGV4dCkge1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBsZXQgZGltID0gdGhpcy5fZGlzcGxheURpbWVuc2lvbnM7XG4gICAgICAgIGxldCByYWRpdXMgPSB0aGlzLl9kaXNwbGF5Qm9yZGVyUmFkaXVzO1xuICAgICAgICAvLyB0b3Agc3RyYWlnaHQgbGluZVxuICAgICAgICBjb250ZXh0Lm1vdmVUbyhkaW0ueCArIHJhZGl1cy54LCBkaW0ueSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKGRpbS54ICsgZGltLncgLSByYWRpdXMueCwgZGltLnkpO1xuICAgICAgICAvLyB0b3AgcmlnaHQgcm91bmRlZCBjb3JuZXJcbiAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKGRpbS54ICsgZGltLncsIGRpbS55LCBkaW0ueCArIGRpbS53LCBkaW0ueSArIHJhZGl1cy55KTtcbiAgICAgICAgLy8gcmlnaHQgdmVydGljYWwgc2lkZVxuICAgICAgICBjb250ZXh0LmxpbmVUbyhkaW0ueCArIGRpbS53LCBkaW0ueSArIGRpbS5oIC0gcmFkaXVzLnkpO1xuICAgICAgICAvLyBib3R0b20gcmlnaHQgcm91bmRlZCBjb3JuZXJcbiAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKGRpbS54ICsgZGltLncsIGRpbS55ICsgZGltLmgsIGRpbS54ICsgZGltLncgLSByYWRpdXMueCwgZGltLnkgKyBkaW0uaCk7XG4gICAgICAgIC8vIGJvdHRvbSBzdHJhaWdodCBsaW5lXG4gICAgICAgIGNvbnRleHQubGluZVRvKGRpbS54ICsgcmFkaXVzLngsIGRpbS55ICsgZGltLmgpO1xuICAgICAgICAvLyBib3R0b20gbGVmdCByb3VuZGVkIGNvcm5lclxuICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8oZGltLngsIGRpbS55ICsgZGltLmgsIGRpbS54LCBkaW0ueSArIGRpbS5oIC0gcmFkaXVzLnkpO1xuICAgICAgICAvLyBsZWZ0IHN0cmFpZ2h0IGxpbmVcbiAgICAgICAgY29udGV4dC5saW5lVG8oZGltLngsIGRpbS55ICsgcmFkaXVzLnkpO1xuICAgICAgICAvLyB0b3AgbGVmdCByb3VuZGVkIGNvcm5lclxuICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8oZGltLngsIGRpbS55LCBkaW0ueCArIHJhZGl1cy54LCBkaW0ueSk7XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGVEaW1lbnNpb25zXG4gICAgICpcbiAgICAgKiBVcGRhdGUgb3VyIHJlY3RhbmdsZSdzIGRpbWVuc2lvbnNcbiAgICAgKiBAcGFyYW0gICBjYW52YXNEaW1lbnNpb25zICAgIFRoZSBkaW1lbnNpb25zIG9mIHRoZSBjYW52YXMgYXMgYSB3aG9sZVxuICAgICAqXG4gICAgICovXG4gICAgdXBkYXRlRGltZW5zaW9ucyhjYW52YXNEaW1lbnNpb25zKSB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZURpbWVuc2lvbnMoY2FudmFzRGltZW5zaW9ucyk7XG4gICAgICAgIHRoaXMuX2Rpc3BsYXlCb3JkZXJSYWRpdXMgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLl9ib3JkZXJSYWRpdXMgKiB0aGlzLl9jYW52YXMuem9vbUZhY3Rvci54LFxuICAgICAgICAgICAgeTogdGhpcy5fYm9yZGVyUmFkaXVzICogdGhpcy5fY2FudmFzLnpvb21GYWN0b3IueVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2xvbmVGb3JFZmZlY3RcbiAgICAgKlxuICAgICAqIGNsb25lIGFuIGVsZW1lbnQgZm9yIGFuIGVmZmVjdCB0byBiZSBhcHBsaWVkXG4gICAgICogQHBhcmFtICAgaWQgIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgY2xvbmVkIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJucyBUaGUgY2xvbmVkIHJlY3RhbmdsZVxuICAgICAqXG4gICAgICovXG4gICAgX2Nsb25lRm9yRWZmZWN0KGlkKSB7XG4gICAgICAgIGxldCBkaW0gPSBjbG9uaW5nXzEuY2xvbmVSZWN0KHRoaXMuX2RpbWVuc2lvbnMpO1xuICAgICAgICBsZXQgY2xvbmUgPSBuZXcgUmVjdGFuZ2xlRWxlbWVudChpZCwgZGltKTtcbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cbn1cbmV4cG9ydHMuUmVjdGFuZ2xlRWxlbWVudCA9IFJlY3RhbmdsZUVsZW1lbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNhbnZhc0VsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL2NhbnZhc0VsZW1lbnRcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdFRleHRFbGVtZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBEcmF3IHRleHQgb24gYSBjYW52YXNcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgVGV4dEVsZW1lbnQgZXh0ZW5kcyBjYW52YXNFbGVtZW50XzEuQ2FudmFzRWxlbWVudCB7XG4gICAgLyoqXG4gICAgICogY3JlYXRlIHRoZSB0ZXh0IGVsZW1lbnRcbiAgICAgKiBAcGFyYW1cdGlkXHRcdFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgZWxlbWVudFxuICAgICAqIEBwYXJhbVx0dGV4dFx0VGhlIHRleHQgdG8gZGlzcGxheSBmb3IgdGhlIGVsZW1lbnRcbiAgICAgKiBAcGFyYW1cdHBvaW50XHRUaGUgdG9wLWxlZnQgcG9pbnQgZm9yIHRoZSB0ZXh0XG4gICAgICpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpZCwgdGV4dCwgcG9pbnQpIHtcbiAgICAgICAgc3VwZXIoaWQpO1xuICAgICAgICAvLyNyZWdpb24gUFJPUEVSVElFU1xuICAgICAgICAvKiogd2hhdCB0eXBlIG9mIGVsZW1lbnQgdGhpcyBpcyAqL1xuICAgICAgICB0aGlzLl90eXBlID0gX2ludGVyZmFjZXNfMS5FbGVtZW50VHlwZS5UZXh0O1xuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5fZGltZW5zaW9ucyA9IHtcbiAgICAgICAgICAgIHg6IHBvaW50LngsXG4gICAgICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICAgICAgdzogMTAsXG4gICAgICAgICAgICBoOiAxMCAvLyBTYW1lIGZvciBoZWlnaHRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZVJlY3RzKCk7XG4gICAgICAgIHRoaXMuX2FkZFN0eWxlQ2hhbmdlTGlzdGVuZXIoKTtcbiAgICB9XG4gICAgZ2V0IHR5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkVsZW1lbnRUeXBlLlRleHQ7IH1cbiAgICBzZXQgdGV4dCh0eHQpIHsgdGhpcy5fdGV4dCA9IHR4dDsgfVxuICAgIHNldCBmaXhlZChmaXhlZCkgeyB0aGlzLl9maXhlZCA9IGZpeGVkOyB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLyoqXG4gICAgICogX3NldENhbnZhc1xuICAgICAqXG4gICAgICogaGFuZGxlIHRoZSBjYW52YXMgYmVpbmcgYXNzaWduZWQgdG8gdGhpcyBlbGVtZW50XG4gICAgICogQHBhcmFtXHRjYW52YXNcdFRoZVxuICAgICAqXG4gICAgICovXG4gICAgX3NldENhbnZhcyhjYW52YXMpIHtcbiAgICAgICAgc3VwZXIuX3NldENhbnZhcyhjYW52YXMpO1xuICAgICAgICB0aGlzLl9jYWxjdWxhdGVUZXh0TWV0cmljcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYWRkU3R5bGVDaGFuZ2VMaXN0ZW5lclxuICAgICAqXG4gICAgICogSGFuZGxlIHdoZW4gdGhlIHN0eWxlIGNoYW5nZXMgZm9yIHRoaXMgZWxlbWVudFxuICAgICAqXG4gICAgICovXG4gICAgX2FkZFN0eWxlQ2hhbmdlTGlzdGVuZXIoKSB7XG4gICAgICAgIHRoaXMuX3N0eWxlLmFkZFN0eWxlQ2hhbmdlTGlzdGVuZXIoX2ludGVyZmFjZXNfMS5TdHlsZUNoYW5nZUVudW0uRk9OVF9TSVpFLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9kaW1lbnNpb25zLmggPSB0aGlzLl9zdHlsZS5mb250U2l6ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jYWxjdWxhdGVUZXh0TWV0cmljc1xuICAgICAqXG4gICAgICogZGV0ZXJtaW5lIGhvdyBiaWcgdGhlIHRleHQgc2hvdWxkIGJlXG4gICAgICpcbiAgICAgKi9cbiAgICBfY2FsY3VsYXRlVGV4dE1ldHJpY3MoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2FudmFzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLl9jYW52YXMuY29udGV4dDtcbiAgICAgICAgdGhpcy5fYXBwbHlTdHlsZShjb250ZXh0KTtcbiAgICAgICAgbGV0IG1ldHJpY3MgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRoaXMuX3RleHQpO1xuICAgICAgICB0aGlzLl9yZXN0b3JlU3R5bGUoY29udGV4dCk7XG4gICAgICAgIC8vIFNldCB0aGUgcmVhbCBtZWFzdXJlbWVudHNcbiAgICAgICAgdGhpcy5fZGltZW5zaW9ucy53ID0gbWV0cmljcy53aWR0aDtcbiAgICAgICAgdGhpcy5fZGltZW5zaW9ucy5oID0gdGhpcy5zdHlsZS5mb250U2l6ZTtcbiAgICAgICAgLy8gc2V0IHRoZSBkaXNwbGF5IGRpbWVuc2lvbnMgdG8gYmUgdGhpcyBzdGF0aWNhbGx5XG4gICAgICAgIHRoaXMuX2Rpc3BsYXlEaW1lbnNpb25zLncgPSBtZXRyaWNzLndpZHRoO1xuICAgICAgICB0aGlzLl9kaXNwbGF5RGltZW5zaW9ucy5oID0gdGhpcy5zdHlsZS5mb250U2l6ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uRHJhd1xuICAgICAqXG4gICAgICogZHJhdyB0aGUgdGV4dCBlbGVtZW50IG9uIHRoZSBjYW52YXNcbiAgICAgKiBAcGFyYW1cdGNvbnRleHRcdFx0VGhlIGNhbnZhcyB1cG9uIHdoaWNoIHRvIHJlbmRlclxuICAgICAqXG4gICAgICovXG4gICAgX29uRHJhdyhjb250ZXh0KSB7XG4gICAgICAgIC8vIGRyYXcgdGhlIGFjdHVhbCB0ZXh0IG9mIHRoZSBlbGVtZW50XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy5fdGV4dCwgdGhpcy5fZGlzcGxheURpbWVuc2lvbnMueCwgdGhpcy5fZGlzcGxheURpbWVuc2lvbnMueSArICh0aGlzLl9maXhlZCA/IHRoaXMuX2RpbWVuc2lvbnMuaCA6IHRoaXMuX2Rpc3BsYXlEaW1lbnNpb25zLmgpKTtcbiAgICAgICAgLy8gY29uc2lkZXIgdGhlIGRpc3BsYXkgZGltZW5zaW9ucyB0aGUgc2FtZSBhcyB0aGUgb3JpZ2luYWwgY2FsY3VsYXRpb25cbiAgICAgICAgdGhpcy5fZGlzcGxheURpbWVuc2lvbnMudyA9IHRoaXMuX2RpbWVuc2lvbnMudztcbiAgICAgICAgdGhpcy5fZGlzcGxheURpbWVuc2lvbnMuaCA9IHRoaXMuX2RpbWVuc2lvbnMuaDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2Nsb25lRm9yRWZmZWN0XG4gICAgICpcbiAgICAgKiBjbG9uZSBhIHRleHQgZWZmZWN0XG4gICAgICogQHBhcmFtXHRpZFx0VGhlIGlkZW50aWZpZXIgdG8gdXNlIGZvciB0aGUgY2xvbmVkIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJuc1x0VGhlIGNsb25lZCB0ZXh0IGVsZW1lbnRcbiAgICAgKlxuICAgICAqL1xuICAgIF9jbG9uZUZvckVmZmVjdChpZCkge1xuICAgICAgICBsZXQgcHQgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLl9kaW1lbnNpb25zLngsXG4gICAgICAgICAgICB5OiB0aGlzLl9kaW1lbnNpb25zLnlcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IG91dCA9IG5ldyBUZXh0RWxlbWVudChpZCwgdGhpcy5fdGV4dCwgcHQpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbn1cbmV4cG9ydHMuVGV4dEVsZW1lbnQgPSBUZXh0RWxlbWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvZGVFdmVudFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0X0NvZGVFdmVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogZXZlbnQgaGFuZGxlciBkZXNpZ25lZCB0byBiZSB1c2VkIGFzIGEgc2luZ2xldG9uIGZvciBzaW5nbGUgZXZlbnRzOyBhbGxvd3NcbiAqIGZvciB0eXBlIHNhZmV0eSBhbmQgZm9yIHBhc3NpbmcgY29udGV4dCBhbG9uZyB3aXRoIHRoZSBldmVudCwgaW5jbHVkaW5nIHdoYXRcbiAqIGVsZW1lbnQgdHJpZ2dlcmVkIHRoZSBldmVudCAod2l0aG91dCBoYXZpbmcgdG8gcmVseSBvbiB0aGUgZWxlbWVudCBiZWluZ1xuICogaWRlbnRpZmlhYmxlKVxuICpcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb25cdDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIF9Db2RlRXZlbnQge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZGlzcGF0Y2hcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogaGFuZGxlIHNlbmRpbmcgZGV0YWlscyB0byB0aGVcbiAgICAgKi9cbiAgICBkaXNwYXRjaCh0YXJnZXQsIGRhdGEpIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGluY2x1ZGUgdGhlIHN0YW5kYXJkIGRhdGEgYXMgd2VsbCB3aXRoIHRoZSBldmVudFxuICAgICAgICBsZXQgZGlzcGF0Y2hEYXRhID0gZGF0YTtcbiAgICAgICAgZGlzcGF0Y2hEYXRhLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgZGlzcGF0Y2hEYXRhLm5hbWUgPSB0aGlzLl9uYW1lO1xuICAgICAgICAvLyBnZXQgYWxsIGxpc3RlbmVycyBmb3IgdGhpcyBzcGVjaWZpYyBlbGVtZW50LCBvciBmb3IgYW55IGVsZW1lbnRcbiAgICAgICAgbGV0IGxpc3RlbmVycyA9IFtdO1xuICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY29uY2F0KHRoaXMuX2xpc3RlbmVycy5nZXQodGFyZ2V0KSk7XG4gICAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5jb25jYXQodGhpcy5fbGlzdGVuZXJzLmdldChudWxsKSk7XG4gICAgICAgIC8vIGxldCBhbGwgbGlzdGVuZXJzIGtub3cgd2hhdCdzIGhhcHBlbmluZ1xuICAgICAgICBmb3IgKGxldCBjYiBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGlmICghY2IpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNiKGRpc3BhdGNoRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRkRXZlbnRMaXN0ZW5lclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBhbGxvdyBhbnkgb2JqZWN0IHRvIGxpc3RlbiB0byB0aGlzIGV2ZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0gICBjYiAgICAgIHRoZSBjYWxsYmFjayB0byB1c2Ugd2hlbiB0aGlzIGV2ZW50IGlzIHJhaXNlZFxuICAgICAqIEBwYXJhbSAgIHRhcmdldCAgaWYgcHJvdmlkZWQsIGxpbWl0cyBjYWxsYmFja3MgdG8gZXZlbnRzIHJhaXNlZCBieSB0aGUgc3BlY2lmaWVkIHRhcmdldFxuICAgICAqL1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoY2IsIHRhcmdldCkge1xuICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBnZXQgdGhlIGN1cnJlbnQgc2V0IG9mIGxpc3RlbmVyc1xuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzLmdldCh0YXJnZXQpO1xuICAgICAgICBpZiAoIWxpc3RlbmVycykge1xuICAgICAgICAgICAgbGlzdGVuZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgbGlzdGVuZXJzLnB1c2goY2IpO1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMuc2V0KHRhcmdldCwgbGlzdGVuZXJzKTtcbiAgICB9XG59XG5leHBvcnRzLl9Db2RlRXZlbnQgPSBfQ29kZUV2ZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vX2NvbnN0YW50c1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb2xvclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9nbG9iYWxcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaGVscGVyc1wiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBUaGUgYW1vdW50IHRoZSBodWUgc2hvdWxkIGluY3JlYXNlIHdoZW4gY3ljbGluZyB0aHJvdWdoIG5ldyBjb2xvcnMgKi9cbmV4cG9ydHMuSFVFX0lOVEVSVkFMID0gMjI7XG4vKiogVGhlIGFtb3VudCB0aGF0IHRoZSBsaWdodG5lc3Mgc2hvdWxkIGluY3JlYXNlIHdoZW4gY3ljbGluZyB0aHJvdWdoIG5ldyBjb2xvcnMgKi9cbmV4cG9ydHMuTElHSFRfSU5URVJWQUwgPSAyMDtcbi8qKiBUaGUgYW1vdW50IHRoYXQgdGhlIHNhdHVyYXRpb24gc2hvdWxkIGluY3JlYXNlIHdoZW4gY3ljbGluZyB0aHJvdWdoIG5ldyBjb2xvcnMgKi9cbmV4cG9ydHMuU0FUVVJBVElPTl9JTlRFUlZBTCA9IDIwO1xuLyoqIFRoZSBtYXggYW5kIG1pbiBzYXR1cmF0aW9uIHZhbHVlIHRoYXQgc2hvdWxkIGJlIHVzZWQgZm9yIGN5Y2xpbmcgY29sb3JzICovXG5leHBvcnRzLlNBVFVSQVRJT05fTElNSVRTID0ge1xuICAgIG1heDogMTAwLFxuICAgIG1pbjogMjBcbn07XG4vKiogVGhlIG1heCBhbmQgbWluIGxpZ2h0bmVzcyB2YWx1ZXMgdGhhdCBzaG91bGQgYmUgdXNlZCBmb3IgY3ljbGluZyBjb2xvcnMgKi9cbmV4cG9ydHMuTElHSFRORVNTX0xJTUlUUyA9IHtcbiAgICBtYXg6IDgwLFxuICAgIG1pbjogMzVcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBIU0xQaWVjZTtcbihmdW5jdGlvbiAoSFNMUGllY2UpIHtcbiAgICBIU0xQaWVjZVtIU0xQaWVjZVtcIkhVRVwiXSA9IDFdID0gXCJIVUVcIjtcbiAgICBIU0xQaWVjZVtIU0xQaWVjZVtcIlNBVFVSQVRJT05cIl0gPSAyXSA9IFwiU0FUVVJBVElPTlwiO1xuICAgIEhTTFBpZWNlW0hTTFBpZWNlW1wiTElHSFRORVNTXCJdID0gM10gPSBcIkxJR0hUTkVTU1wiO1xuICAgIEhTTFBpZWNlW0hTTFBpZWNlW1wiQUxQSEFcIl0gPSA0XSA9IFwiQUxQSEFcIjtcbn0pKEhTTFBpZWNlID0gZXhwb3J0cy5IU0xQaWVjZSB8fCAoZXhwb3J0cy5IU0xQaWVjZSA9IHt9KSk7XG52YXIgUkdCRW51bTtcbihmdW5jdGlvbiAoUkdCRW51bSkge1xuICAgIFJHQkVudW1bUkdCRW51bVtcIlJFRFwiXSA9IDBdID0gXCJSRURcIjtcbiAgICBSR0JFbnVtW1JHQkVudW1bXCJHUkVFTlwiXSA9IDFdID0gXCJHUkVFTlwiO1xuICAgIFJHQkVudW1bUkdCRW51bVtcIkJMVUVcIl0gPSAyXSA9IFwiQkxVRVwiO1xuICAgIFJHQkVudW1bUkdCRW51bVtcIkFMUEhBXCJdID0gM10gPSBcIkFMUEhBXCI7XG59KShSR0JFbnVtID0gZXhwb3J0cy5SR0JFbnVtIHx8IChleHBvcnRzLlJHQkVudW0gPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogVGhlIGFtb3VudCB0aGUgaHVlIHNob3VsZCBpbmNyZWFzZSB3aGVuIGN5Y2xpbmcgdGhyb3VnaCBuZXcgY29sb3JzICovXG5leHBvcnRzLkhVRV9JTlRFUlZBTCA9IDIyO1xuLyoqIFRoZSBhbW91bnQgdGhhdCB0aGUgbGlnaHRuZXNzIHNob3VsZCBpbmNyZWFzZSB3aGVuIGN5Y2xpbmcgdGhyb3VnaCBuZXcgY29sb3JzICovXG5leHBvcnRzLkxJR0hUX0lOVEVSVkFMID0gMjA7XG4vKiogVGhlIGFtb3VudCB0aGF0IHRoZSBzYXR1cmF0aW9uIHNob3VsZCBpbmNyZWFzZSB3aGVuIGN5Y2xpbmcgdGhyb3VnaCBuZXcgY29sb3JzICovXG5leHBvcnRzLlNBVFVSQVRJT05fSU5URVJWQUwgPSAyMDtcbi8qKiBUaGUgbWF4IGFuZCBtaW4gc2F0dXJhdGlvbiB2YWx1ZSB0aGF0IHNob3VsZCBiZSB1c2VkIGZvciBjeWNsaW5nIGNvbG9ycyAqL1xuZXhwb3J0cy5TQVRVUkFUSU9OX0xJTUlUUyA9IHtcbiAgICBtYXg6IDEwMCxcbiAgICBtaW46IDIwXG59O1xuLyoqIFRoZSBtYXggYW5kIG1pbiBsaWdodG5lc3MgdmFsdWVzIHRoYXQgc2hvdWxkIGJlIHVzZWQgZm9yIGN5Y2xpbmcgY29sb3JzICovXG5leHBvcnRzLkxJR0hUTkVTU19MSU1JVFMgPSB7XG4gICAgbWF4OiA4MCxcbiAgICBtaW46IDM1XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb2xvcl8xID0gcmVxdWlyZShcIi4vY29sb3JcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdEdsb2JhbENvbG9yXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBoYW5kbGUgdGhlIGdsb2JhbCBkZXNjcmlwdGlvbiBvZiBjb2xvcnNcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb25cdDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIF9HbG9iYWxDb2xvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3VzZWRDb2xvcnMgPSB7fTtcbiAgICAgICAgdGhpcy5faW5uZXJDb2xvciA9IG5ldyBjb2xvcl8xLkhTTENvbG9yKFwiaHNsKDMzMCwgODAlLCA1MCUpXCIpO1xuICAgIH1cbiAgICBnZW5lcmF0ZUNvbG9yKGlkLCBmaXJzdFJvdGF0ZSkge1xuICAgICAgICBsZXQgY29sb3JTdHIgPSB0aGlzLl91c2VkQ29sb3JzW2lkXSB8fCBcIlwiO1xuICAgICAgICAvLyBHcmFiIHRoZSBuZXh0IGF2YWlsYWJsZSBjb2xvclxuICAgICAgICBpZiAoIWNvbG9yU3RyKSB7XG4gICAgICAgICAgICBjb2xvclN0ciA9IHRoaXMuX2lubmVyQ29sb3IuZ2V0TmV4dENvbG9yKGZpcnN0Um90YXRlIHx8IF9pbnRlcmZhY2VzXzEuSFNMUGllY2VFbnVtLkhVRSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbG9yID0gbmV3IGNvbG9yXzEuSGV4Q29sb3IoY29sb3JTdHIpO1xuICAgICAgICAvLyBJZiB3ZSByZWNlaXZlZCBhbiBpZGVudGlmaWVyLCB1c2UgaXRcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICB0aGlzLl91c2VkQ29sb3JzW2lkXSA9IGNvbG9yU3RyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG4gICAgO1xuICAgIGdldEN1cnJlbnRDb2xvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyQ29sb3I7XG4gICAgfVxufVxuZXhwb3J0cy5HbG9iYWxDb2xvciA9IG5ldyBfR2xvYmFsQ29sb3IoKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29sb3JfMSA9IHJlcXVpcmUoXCIuL2NvbG9yXCIpO1xuLyoqXG4gKiBnZXRBcHBhcmVudENvbG9yXG4gKlxuICogQ2FsY3VsYXRlcyB0aGUgbm9uLW9wYWNpdHkgdmFsdWUgb2YgdGhlIHNlbWktdHJhbnNwYXJlbnQgZnJvbnQgY29sb3Igd2hlbiBwbGFjZWQgb3ZlciBhbm90aGVyIGNvbG9yXG4gKlxuICogQHBhcmFtIFx0ZnJvbnRDb2xvclx0QSBjb2xvciBzdHJpbmcgaW5jbHVkaW5nIGFuIGFscGhhIHZhbHVlXG4gKiBAcGFyYW0gXHRiYWNrQ29sb3JcdFRoZSBjb2xvciB0aGF0IGFwcGVhcnMgaW4gdGhlIGJhY2tncm91bmRcbiAqIEBwYXJhbSBcdG9wYWNpdHlcdFx0VGhlIG9wYWNpdHkgb2YgdGhlIGZpcnN0IGNvbG9yLCBpZiBub3QgaW5jbHVkZWQgaW4gdGhlIGNvbG9yIHN0cmluZ1xuICpcbiAqIEByZXR1cm5zXHRUaGUgY3JlYXRlZCBhcHBhcmVudCBjb2xvciBhcyBhIGhleCBzdHJpbmdcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldEFwcGFyZW50Q29sb3IoZnJvbnRDb2xvciwgYmFja0NvbG9yLCBvcGFjaXR5KSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBjb2xvciBvYmplY3RcbiAgICBsZXQgY29sID0gbmV3IGNvbG9yXzEuQW55Q29sb3IoZnJvbnRDb2xvciwgb3BhY2l0eSk7XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBuZXcgY29sb3JcbiAgICBjb2wuZ2V0QXBwYXJlbnRDb2xvcihiYWNrQ29sb3IpO1xuICAgIHJldHVybiBjb2wudG9IZXhTdHJpbmcoKTtcbn1cbmV4cG9ydHMuZ2V0QXBwYXJlbnRDb2xvciA9IGdldEFwcGFyZW50Q29sb3I7XG4vKipcbiAqIGdldENvbXBsZW1lbnRhcnlDb2xvclxuICpcbiAqIEZpbmQgYSBjb2xvciB0aGF0IHdvcmtzIHdlbGwgd2l0aCB0aGUgY29sb3IgcGFzc2VkIGluXG4gKlxuICogQHBhcmFtIFx0Y29sb3JcdFx0VGhlIGNvbG9yIHRvIGZpbmQgYSBjb21wbGVtZW50IGZvclxuICogQHBhcmFtIFx0Y3V0b2ZmIFx0XHRIb3cgZGlmZmVyZW50IHRoZSBsaWdodG5lc3NlcyBvZiB0aGUgY29sb3JzIG5lZWQgdG8gYmVcbiAqXG4gKiBAcmV0dXJuc1x0VGhlIGNvbG9yIHN0cmluZyBmb3IgdGhlIGFwcHJvcHJpYXRlIGNvbXBsZW1lbnRhcnkgY29sb3JcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldENvbXBsZW1lbnRhcnlDb2xvcihjb2xvciwgY3V0b2ZmKSB7XG4gICAgbGV0IGxpZ2h0bmVzcztcbiAgICBjdXRvZmYgPSBjdXRvZmYgfHwgNDU7XG4gICAgLy8gR3JhYiB0aGUgYXBwcm9wcmlhdGUgY29sb3JcbiAgICBsZXQgY29sID0gbmV3IGNvbG9yXzEuQW55Q29sb3IoY29sb3IpO1xuICAgIC8vIEdyYWIgdGhlIGN1cnJlbnQgbGlnaHRuZXNzIHZhbHVlXG4gICAgbGlnaHRuZXNzID0gY29sLmdldExpZ2h0bmVzcygpO1xuICAgIGlmIChsaWdodG5lc3MgPCBjdXRvZmYpIHtcbiAgICAgICAgY29sLmxpZ2h0bmVzcyA9IDk1O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29sLmxpZ2h0bmVzcyA9IDU7XG4gICAgfVxuICAgIGNvbC5nZW5lcmF0ZVJnYlZhbHVlcygpO1xuICAgIHJldHVybiBjb2wudG9SZ2JhU3RyaW5nKCk7XG59XG5leHBvcnRzLmdldENvbXBsZW1lbnRhcnlDb2xvciA9IGdldENvbXBsZW1lbnRhcnlDb2xvcjtcbi8qKlxuICogaGV4VG9SZ2JcbiAqXG4gKiBDb252ZXJ0cyBhIGhleCBjb2xvciBzdHJpbmcgdG8gYSBSR0IgY29sb3Igc3RyaW5nXG4gKlxuICogQHBhcmFtIFx0aGV4IFx0VGhlIGhleCBzdHJpbmcgdG8gY29udmVydFxuICpcbiAqIEByZXR1cm5zIFRoZSBhcHByb3ByaWF0ZSBSR0Igc3RyaW5nXG4gKlxuICovXG5mdW5jdGlvbiBoZXhUb1JnYihoZXgpIHtcbiAgICBsZXQgYyA9IG5ldyBjb2xvcl8xLkhleENvbG9yKGhleCk7XG4gICAgcmV0dXJuIGMudG9SZ2JTdHJpbmcoKTtcbn1cbmV4cG9ydHMuaGV4VG9SZ2IgPSBoZXhUb1JnYjtcbjtcbi8qKlxuICogaGV4VG9SZ2JhXG4gKlxuICogQ29udmVydHMgYSBoZXggY29sb3Igc3RyaW5nIHRvIHJnYmEgY29sb3Igc3RyaW5nXG4gKlxuICogQHBhcmFtIFx0aGV4IFx0VGhlIGhleCBzdHJpbmcgdG8gcGFyc2VcbiAqIEBwYXJhbSBcdGFscGhhIFx0VGhlIGFscGhhIHZhbHVlIHRvIGdpdmUgdGhlIGNvbG9yXG4gKlxuICogQHJldHVybnNcdFRoZSByZ2JhIHZlcnNpb24gb2YgdGhpcyBoZXggc3RyaW5nXG4gKlxuICovXG5mdW5jdGlvbiBoZXhUb1JnYmEoaGV4LCBhbHBoYSkge1xuICAgIGxldCBjID0gbmV3IGNvbG9yXzEuSGV4Q29sb3IoaGV4LCBhbHBoYSk7XG4gICAgcmV0dXJuIGMudG9SZ2JhU3RyaW5nKCk7XG59XG5leHBvcnRzLmhleFRvUmdiYSA9IGhleFRvUmdiYTtcbjtcbi8qKlxuICogaHNsVG9SZ2JcbiAqXG4gKiBDb252ZXJ0cyBhIEhTTCBzdHJpbmcgdG8gUkdCIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBoc2wgLSBUaGUgSFNMIHN0cmluZyB0byBwYXJzZVxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBSR0Igc3RyaW5nIHRoYXQgY29ycmVzcG9uZHNcbiAqXG4gKi9cbmZ1bmN0aW9uIGhzbFRvUmdiKGhzbCkge1xuICAgIGxldCBjID0gbmV3IGNvbG9yXzEuSFNMQ29sb3IoaHNsKTtcbiAgICByZXR1cm4gYy50b1JnYlN0cmluZygpO1xufVxuZXhwb3J0cy5oc2xUb1JnYiA9IGhzbFRvUmdiO1xuO1xuLyoqXG4gKiBoc2xhVG9SZ2JhXG4gKlxuICogQ29udmVydHMgYSBIU0xBIHN0cmluZyB0byBhIFJHQiBzdHJpbmdcbiAqXG4gKiBAcGFyYW0gXHRoc2wgXHRUaGUgSFNMIHN0cmluZyB0byBjb252ZXJ0XG4gKiBAcGFyYW0gXHRhbHBoYSBcdFRoZSBhbHBoYSB2YWx1ZSB0byB1c2UsIGlmIHRoZSBoc2wgc3RyaW5nIGRvZXNuJ3QgaW5jbHVkZSBpdFxuICpcbiAqIEByZXR1cm5zIFRoZSBhcHByb3ByaWF0ZSBSR0JBIHN0cmluZ1xuICpcbiAqL1xuZnVuY3Rpb24gaHNsYVRvUmdiYShoc2wsIGFscGhhKSB7XG4gICAgbGV0IGMgPSBuZXcgY29sb3JfMS5IU0xDb2xvcihoc2wsIGFscGhhKTtcbiAgICByZXR1cm4gYy50b1JnYmFTdHJpbmcoKTtcbn1cbmV4cG9ydHMuaHNsYVRvUmdiYSA9IGhzbGFUb1JnYmE7XG47XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb21tYW5kXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRDdXN0b21pemFibGVDb21tYW5kXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBmcmFtZXdvcmsgY29tbWFuZCB0aGF0IGFsbG93cyBmb3IgYSBcImRvXCIgYW5kIGFuIFwidW5kb1wiXG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uXHQxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBDdXN0b21pemFibGVDb21tYW5kIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBSVU5OSU5HIFRIRSBDT01NQU5EXG4gICAgY29uc3RydWN0b3Iob25FeGVjdXRlLCBvblVuZXhlY3V0ZSkge1xuICAgICAgICB0aGlzLl9vbkV4ZWN1dGUgPSBvbkV4ZWN1dGU7XG4gICAgICAgIHRoaXMuX29uVW5leGVjdXRlID0gb25VbmV4ZWN1dGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGV4ZWN1dGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBwZXJmb3JtIHRoZSBhY3Rpb24gb24gdGhpcyBjb21tZW5kXG4gICAgICovXG4gICAgZXhlY3V0ZShwYXJhbXMpIHtcbiAgICAgICAgLy8gdmFsaWRhdGUgdGhhdCB3ZSBjYW4gZXhlY3V0ZSB0aGlzIGNvbW1hbmRcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSBDb21tYW5kU3RhdGUuRVhFQ1VURUQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImFscmVhZHkgcGVyZm9ybWVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fb25FeGVjdXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJubyBkbyBhY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXhlY3V0ZSB0aGUgY29tbWFuZCAmIHVwZGF0ZSB0aGUgc3RhdGVcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBDb21tYW5kU3RhdGUuRVhFQ1VURUQ7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkV4ZWN1dGUocGFyYW1zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdW5leGVjdXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogcmV2ZXJzZSB0aGUgYWN0aW9uIG9mIHRoaXMgY29tbWFuZFxuICAgICAqL1xuICAgIHVuZXhlY3V0ZShwYXJhbXMpIHtcbiAgICAgICAgLy8gdmFsaWRhdGUgdGhhdCB3ZSBjYW4gdW5leGVjdXRlIHRoaXMgY29tbWFuZFxuICAgICAgICBpZiAodGhpcy5fc3RhdGUgIT09IENvbW1hbmRTdGF0ZS5FWEVDVVRFRCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IHlldCBwZXJmb3JtZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9vblVuZXhlY3V0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8gdW5kbyBhY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV2ZXJzZSB0aGUgY29tbWFuZCAmIHVwZGF0ZSB0aGUgc3RhdGVcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBDb21tYW5kU3RhdGUuUkVWRVJTRUQ7XG4gICAgICAgIHJldHVybiB0aGlzLl9vblVuZXhlY3V0ZShwYXJhbXMpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ3VzdG9taXphYmxlQ29tbWFuZCA9IEN1c3RvbWl6YWJsZUNvbW1hbmQ7XG52YXIgQ29tbWFuZFN0YXRlO1xuKGZ1bmN0aW9uIChDb21tYW5kU3RhdGUpIHtcbiAgICBDb21tYW5kU3RhdGVbQ29tbWFuZFN0YXRlW1wiRVJSXCJdID0gMF0gPSBcIkVSUlwiO1xuICAgIENvbW1hbmRTdGF0ZVtDb21tYW5kU3RhdGVbXCJFWEVDVVRFRFwiXSA9IDFdID0gXCJFWEVDVVRFRFwiO1xuICAgIENvbW1hbmRTdGF0ZVtDb21tYW5kU3RhdGVbXCJSRVZFUlNFRFwiXSA9IDJdID0gXCJSRVZFUlNFRFwiO1xufSkoQ29tbWFuZFN0YXRlID0gZXhwb3J0cy5Db21tYW5kU3RhdGUgfHwgKGV4cG9ydHMuQ29tbWFuZFN0YXRlID0ge30pKTtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvbXBhcmFibGVcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vY29udGV4dE1lbnVcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29udGV4dE1lbnVDb2xvcnM7XG4oZnVuY3Rpb24gKENvbnRleHRNZW51Q29sb3JzKSB7XG4gICAgQ29udGV4dE1lbnVDb2xvcnNbQ29udGV4dE1lbnVDb2xvcnNbXCJNQUlOX0NPTE9SXCJdID0gMF0gPSBcIk1BSU5fQ09MT1JcIjtcbiAgICBDb250ZXh0TWVudUNvbG9yc1tDb250ZXh0TWVudUNvbG9yc1tcIkZPTlRfQ09MT1JcIl0gPSAxXSA9IFwiRk9OVF9DT0xPUlwiO1xuICAgIENvbnRleHRNZW51Q29sb3JzW0NvbnRleHRNZW51Q29sb3JzW1wiU1VCX01FTlVfQ09MT1JcIl0gPSAyXSA9IFwiU1VCX01FTlVfQ09MT1JcIjtcbiAgICBDb250ZXh0TWVudUNvbG9yc1tDb250ZXh0TWVudUNvbG9yc1tcIlNVQl9NRU5VX0JPUkRFUlwiXSA9IDNdID0gXCJTVUJfTUVOVV9CT1JERVJcIjtcbiAgICBDb250ZXh0TWVudUNvbG9yc1tDb250ZXh0TWVudUNvbG9yc1tcIlNVQl9TVUJfTUVOVV9DT0xPUlwiXSA9IDRdID0gXCJTVUJfU1VCX01FTlVfQ09MT1JcIjtcbiAgICBDb250ZXh0TWVudUNvbG9yc1tDb250ZXh0TWVudUNvbG9yc1tcIlNVQl9TVUJfTUVOVV9CT1JERVJcIl0gPSA1XSA9IFwiU1VCX1NVQl9NRU5VX0JPUkRFUlwiO1xufSkoQ29udGV4dE1lbnVDb2xvcnMgPSBleHBvcnRzLkNvbnRleHRNZW51Q29sb3JzIHx8IChleHBvcnRzLkNvbnRleHRNZW51Q29sb3JzID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZHJhd2FibGVfMSA9IHJlcXVpcmUoXCIuLi9kcmF3YWJsZS9kcmF3YWJsZVwiKTtcbmNvbnN0IGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9kYXRhU3RydWN0dXJlcy9jb2xsZWN0aW9uL2NvbGxlY3Rpb25cIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IG5hdmlnYXRlXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9uYXZpZ2F0ZVwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyBDb250ZXh0TWVudVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY3JlYXRlcyBhIGN1c3RvbSBjb250ZXh0IG1lbnVcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIENvbnRleHRNZW51IGV4dGVuZHMgZHJhd2FibGVfMS5EcmF3YWJsZSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY3VzdG9tIGNvbnRleHQgKHJpZ2h0LWNsaWNrKSBtZW51IGZvciBhIGdpdmVuIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gXHR0YXJnZXQgICAgXHRUaGUgZWxlbWVudCB0byBjcmVhdGUgdGhlIGN1c3RvbSBtZW51IGZvclxuICAgICAqIEBwYXJhbSBcdG5vU3R5bGVzXHRUcnVlIGlmIHdlIHNob3VsZG4ndCBjcmVhdGUgY3NzIGNsYXNzZXMgZm9yIHRoZSBzdGFuZGFyZCBtZW51IHN0eWxlc1xuICAgICAqIEBwYXJhbVx0Y29sb3JzXHRcdE9wdGlvbmFsIHNldCBvZiB0aGVtZSBjb2xvcnMgdG8gdXNlIGZvciB0aGUgbWVudVxuICAgICAqXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBub1N0eWxlcywgY29sb3JzKSB7XG4gICAgICAgIC8vIEluaXRpYWxpemUgb3VyIERyYXdhYmxlXG4gICAgICAgIHN1cGVyKHsgY2xzOiBcImN0eE1lbnVcIiB9KTtcbiAgICAgICAgdGhpcy5fYWRkQ2xhc3NOYW1lKFwiQ29udGV4dE1lbnVcIik7XG4gICAgICAgIC8vIFNldCBvdXIgaW5pdGlhbCBwcm9wZXJ0aWVzXG4gICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5fbm9TdHlsZXMgPSBub1N0eWxlcztcbiAgICAgICAgdGhpcy5fY29sb3JzID0gY29sb3JzIHx8IHtcbiAgICAgICAgICAgIG1lbnVCRzogXCJyZ2JhKDQwLDQwLDQwLDEpXCIsXG4gICAgICAgICAgICBtZW51VGV4dDogXCIjRkZGXCIsXG4gICAgICAgICAgICBtZW51T3B0Qkc6IFwicmdiYSg0MCw0MCw0MCwuOSlcIixcbiAgICAgICAgICAgIG1lbnVCb3JkZXI6IFwiIzc3N1wiLFxuICAgICAgICAgICAgbWVudU9wdE5lc3RlZDogXCJyZ2JhKDQwLDQwLDQwLC44NSlcIixcbiAgICAgICAgICAgIG1lbnVCb3JkZXJOZXN0ZWQ6IFwiIzg4OFwiLFxuICAgICAgICAgICAgbWVudVNlbGVjdGVkVGV4dDogXCIjNTA1MDUwXCIsXG4gICAgICAgICAgICBtZW51U2VsZWN0ZWRCb3JkZXI6IFwiIzk5OVwiXG4gICAgICAgIH07XG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIG9wdGlvbiBhcnJheVxuICAgICAgICB0aGlzLl9vcHRpb25zID0gbmV3IGNvbGxlY3Rpb25fMS5Db2xsZWN0aW9uKCk7XG4gICAgICAgIC8vIENyZWF0ZSBvdXIgb3RoZXIgZWxlbWVudHNcbiAgICAgICAgdGhpcy5fY3JlYXRlRWxlbWVudHMoKTtcbiAgICAgICAgLy8gQWRkIGxpc3RlbmVyc1xuICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuICAgIH1cbiAgICAvKiogcHVibGljIGFjY2Vzc2libGUgZnVuY3Rpb24gZm9yIHRoZSBiYXNlIGVsZW1lbnQgKi9cbiAgICBnZXQgYmFzZSgpIHsgcmV0dXJuIHRoaXMuX2VsZW1zLmJhc2U7IH1cbiAgICAvKipcbiAgICAgKiBhZGRPcHRpb25cbiAgICAgKlxuICAgICAqIGFkZHMgYW4gb3B0aW9uIHRvIG91ciBjb250ZXh0IG1lbnVcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0b3B0XHRcdFx0VGhlIG9wdGlvbiB0byBhZGRcbiAgICAgKiBAcGFyYW1cdHN1Yk9wdGlvbnNcdEFueSBuZXN0ZWQgb3B0aW9ucyB0byBpbmNsdWRlXG4gICAgICogQHBhcmFtXHRwYXJlbnRcdFx0V2hhdCB0aGUgcGFyZW50IGVsZW1lbnQgc2hvdWxkIGJlIChkZWZhdWx0cyB0byBvcHRpb24gY29udGFpbmVyKVxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRydWUgaWYgdGhlIG9wdGlvbiBjb3VsZCBiZSBhZGRlZFxuICAgICAqXG4gICAgICovXG4gICAgYWRkT3B0aW9uKG9wdCwgc3ViT3B0aW9ucywgcGFyZW50KSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgb3B0aW9uIGxhYmVsIGlzIHVuaXF1ZVxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5oYXNFbGVtZW50KG9wdC5sYWJlbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDcmVhdGUgdGhlIGVsZW1lbnQgZm9yIHRoZSBvcHRpb24gaWYgbm90IGluY2x1ZGVkXG4gICAgICAgIGlmICghb3B0LmVsZW1zKSB7XG4gICAgICAgICAgICBvcHQuZWxlbXMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICA7XG4gICAgICAgIGlmICghb3B0LmVsZW1zLmJhc2UpIHtcbiAgICAgICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gdGhpcy5fZWxlbXMub3B0aW9uX2NvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5lbGVtcy5iYXNlID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJjdHhPcHRpb25cIiwgb3B0LmxhYmVsLCBudWxsLCBudWxsLCBwYXJlbnQpO1xuICAgICAgICAgICAgb3B0LmVsZW1zLmJhc2Uub25jbGljayA9IG9wdC5jYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgdGhlIG9wdGlvbiB0byBvdXIgY29sbGVjdGlvblxuICAgICAgICB0aGlzLl9vcHRpb25zLmFkZChvcHQubGFiZWwsIG9wdCk7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBzdWJvcHRpb25zIGFuZCBhZGQgdGhlbSBhcyB3ZWxsXG4gICAgICAgIGxldCBzdWJfc3VjY2VzcyA9IHRydWU7XG4gICAgICAgIGZvciAobGV0IHNfb3B0IG9mIHN1Yk9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5hZGRTdWJPcHRpb24ob3B0LCBzX29wdCkpIHtcbiAgICAgICAgICAgICAgICBzdWJfc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghc3ViX3N1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtpbmcgaXQgdGhpcyBmYXIgbWVhbnMgd2UgYWRkZWQgZXZlcnl0aGluZyBva1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRkU3ViT3B0aW9uXG4gICAgICpcbiAgICAgKiBBZGRzIGEgbmVzdGVkIG9wdGlvbiB0byBvdXIgY29udGV4dCBtZW51XG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRzcmNPcHRpb25cdFRoZSBvcHRpb24gd2UgYXJlIG5lc3RpbmcgdW5kZXJcbiAgICAgKiBAcGFyYW0gXHRzdWJPcHRpb24gXHRUaGUgc3ViIG9wdGlvbiB3ZSBhcmUgY3VycmVudGx5IGFkZGluZ1xuICAgICAqXG4gICAgICogQHJldHVybnNcdFRydWUgaWYgdGhlIHN1Ym9wdGlvbiB3YXMgYWRkZWRcbiAgICAgKlxuICAgICAqL1xuICAgIGFkZFN1Yk9wdGlvbihzcmNPcHRpb24sIHN1Yk9wdGlvbikge1xuICAgICAgICAvLyBUcnkgdG8gZ3JhYiB0aGUgb3B0aW9uIGZyb20gb3VyIGNvbGxlY3Rpb24gaWYgbm90IHBhc3NlZCBpbiBjb3JyZWN0bHlcbiAgICAgICAgaWYgKCFzcmNPcHRpb24uZWxlbXMpIHtcbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBuZXcgb3B0aW9uLCBjcmVhdGUgaXQgZmlyc3RcbiAgICAgICAgICAgIGlmICghdGhpcy5fb3B0aW9ucy5oYXNFbGVtZW50KHNyY09wdGlvbi5sYWJlbCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE9wdGlvbihzcmNPcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVHJ5IHRvIGdyYWIgdGhlIG9wdGlvbiBmcm9tIG91ciBjb2xsZWN0aW9uXG4gICAgICAgICAgICBzcmNPcHRpb24gPSB0aGlzLl9nZXRPcHRpb24oc3JjT3B0aW9uLmxhYmVsKTtcbiAgICAgICAgICAgIC8vIFF1aXQgaWYgd2UgY291bGRuJ3QgZmluZCBhbiBvcHRpb25cbiAgICAgICAgICAgIGlmICghc3JjT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFF1aXQgaWYgdGhlIG9wdGlvbiBoYXNuJ3QgYmVlbiBhcHByb3ByaWF0ZWx5IGluaXRpYWxpemVkXG4gICAgICAgIGlmICghc3JjT3B0aW9uLmVsZW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBzdWJtZW51IGRpdiBpZiBpdCdzIG1pc3NpbmdcbiAgICAgICAgaWYgKCFzcmNPcHRpb24uZWxlbXMuc3ViX21lbnUpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkU3ViTWVudShzcmNPcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCB0aGUgYWN0dWFsIHN1YiBtZW51XG4gICAgICAgIHRoaXMuYWRkT3B0aW9uKHN1Yk9wdGlvbiwgW10sIHNyY09wdGlvbi5lbGVtcy5zdWJfbWVudSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9idWlsZFN1Yk1lbnVcbiAgICAgKlxuICAgICAqIGNyZWF0ZXMgYSBzdWIgbWVudVxuICAgICAqIEBwYXJhbVx0c3JjT3B0aW9uXHRUaGUgb3B0aW9uIHRvIG5lc3QgdW5kZXJcbiAgICAgKlxuICAgICAqL1xuICAgIF9idWlsZFN1Yk1lbnUoc3JjT3B0aW9uKSB7XG4gICAgICAgIHNyY09wdGlvbi5lbGVtcy5zdWJfbWVudSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwic3ViTWVudSBoaWRkZW5cIiwgXCJcIiwgbnVsbCwgbnVsbCwgc3JjT3B0aW9uLmVsZW1zLmJhc2UpO1xuICAgICAgICBzcmNPcHRpb24uZWxlbXMuYmFzZS5pbm5lckhUTUwgKz0gXCIuLi5cIjtcbiAgICAgICAgaWYgKCF0aGlzLl9ub1N0eWxlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBtb3VzZS1vdmVyIG9ubHkgaWYgd2UgZGlkbid0IGFkZCBzdGFuZGFyZCBjbGFzc2VzXG4gICAgICAgIHNyY09wdGlvbi5lbGVtcy5zdWJfbWVudS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHNyY09wdGlvbi5lbGVtcy5iYXNlLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgc3JjT3B0aW9uLmVsZW1zLnN1Yl9tZW51LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH0pO1xuICAgICAgICBzcmNPcHRpb24uZWxlbXMuYmFzZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgc3JjT3B0aW9uLmVsZW1zLnN1Yl9tZW51LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9nZXRPcHRpb25cbiAgICAgKlxuICAgICAqIGdyYWJzIGEgcGFydGljdWxhciBvcHRpb24gZnJvbSBvdXIgbWVudVxuICAgICAqXG4gICAgICogQHBhcmFtXHRsYmxcdFx0VGhlIGxhYmVsIG9mIHRoZSBvcHRpb24gd2UgYXJlIGdyYWJiaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VGhlIG9wdGlvbiB3aXRoIHRoaXMgbGFiZWxcbiAgICAgKlxuICAgICAqL1xuICAgIF9nZXRPcHRpb24obGJsKSB7XG4gICAgICAgIGlmICghbGJsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaUNvbCA9IHRoaXMuX29wdGlvbnMuZ2V0RWxlbWVudChsYmwpO1xuICAgICAgICAvLyBHcmFiIHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBpbiBvdXIgY29sbGVjdGlvblxuICAgICAgICBpZiAoaUNvbCkge1xuICAgICAgICAgICAgcmV0dXJuIGlDb2wudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiByZW1vdmVPcHRpb25cbiAgICAgKlxuICAgICAqIHJlbW92ZXMgYW4gb3B0aW9uIGZyb20gb3VyIG1lbnVcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0bGJsXHRcdFRoZSBsYWJlbCBvZiB0aGUgb3B0aW9uIGJlaW5nIHJlbW92ZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUcnVlIGlmIHRoZSBvcHRpb24gd2FzIHJlbW92ZWRcbiAgICAgKlxuICAgICAqL1xuICAgIHJlbW92ZU9wdGlvbihsYmwpIHtcbiAgICAgICAgbGV0IG9wdDtcbiAgICAgICAgbGV0IGlDb2w7XG4gICAgICAgIGlDb2wgPSB0aGlzLl9vcHRpb25zLnJlbW92ZShsYmwpO1xuICAgICAgICBpZiAoIWlDb2wpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBvcHQgPSBpQ29sLnZhbHVlO1xuICAgICAgICAvLyBBbHNvIHJlbW92ZSB0aGUgSFRNTCBlbGVtZW50IGFkZGVkIGJ5IHRoaXMgb3B0aW9uXG4gICAgICAgIGlmIChvcHQuZWxlbXMuYmFzZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBvcHQuZWxlbXMuYmFzZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9wdC5lbGVtcy5iYXNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm4gdHJ1ZSBpZiB3ZSBtYWRlIGl0IHRoaXMgZmFyXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogY2xlYXJPcHRpb25zXG4gICAgICpcbiAgICAgKiBSZW1vdmVzIGFsbCBvZiBvdXIgb3B0aW9uc1xuICAgICAqXG4gICAgICovXG4gICAgY2xlYXJPcHRpb25zKCkge1xuICAgICAgICB0aGlzLl9vcHRpb25zLnJlc2V0TG9vcCh0cnVlKTtcbiAgICAgICAgbGV0IG9wdDtcbiAgICAgICAgbGV0IGlDb2w7XG4gICAgICAgIC8vIFJlbW92ZSBhbGwgSFRNTCBFTGVtZW50c1xuICAgICAgICB3aGlsZSAodGhpcy5fb3B0aW9ucy5oYXNOZXh0KHRydWUpKSB7XG4gICAgICAgICAgICBpQ29sID0gdGhpcy5fb3B0aW9ucy5nZXROZXh0KHRydWUpO1xuICAgICAgICAgICAgaWYgKCFpQ29sKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHQgPSBpQ29sLnZhbHVlO1xuICAgICAgICAgICAgaWYgKG9wdC5lbGVtcy5iYXNlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbXMuYmFzZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9wdC5lbGVtcy5iYXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDbGVhciB0aGUgY29sbGVjdGlvblxuICAgICAgICB0aGlzLl9vcHRpb25zLmNsZWFyKCk7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBfYWRkRXZlbnRMaXN0ZW5lcnNcbiAgICAgKlxuICAgICAqIEFkZHMgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSByZWxldmFudCBwaWVjZXMgdG8gc2hvdyBhbmQvb3IgaGlkZSB0aGUgY29udGV4dCBtZW51XG4gICAgICpcbiAgICAgKi9cbiAgICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIC8vIEVyYXNlIHRoZSBjdXJyZW50bHkgc2hvd2luZyBjb250ZXh0IG1lbnUgYWx3YXlzIG9uIG1vdXNlZG93biBhbmQgb24gcmlnaHQtY2xpY2tcbiAgICAgICAgaWYgKCFDb250ZXh0TWVudS5fd2luZG93TGlzdGVuZXJzQWRkZWQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hpZGVFeGlzdGluZ01lbnUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hpZGVFeGlzdGluZ01lbnUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgQ29udGV4dE1lbnUuX3dpbmRvd0xpc3RlbmVyc0FkZGVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNob3cgdGhpcyBtZW51IHdoZW4gaXQncyB0YXJnZXQgaXMgaGl0XG4gICAgICAgIHRoaXMuX3RhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGxldCBwb3NfeDtcbiAgICAgICAgICAgIGxldCBwb3NfeTtcbiAgICAgICAgICAgIHRoaXMuZXJhc2UoKTtcbiAgICAgICAgICAgIC8vIFNob3cgdGhlIG5vcm1hbCByY2xpY2sgbWVudSB3aGVuIGhvbGRpbmcgY29udHJvbFxuICAgICAgICAgICAgaWYgKGUuY3RybEtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RvcCBidWJibGluZyBzaW5jZSB3ZSBoYXZlIGZvdW5kIG91ciB0YXJnZXRcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAvLyBHcmFiIHRoZSBhcHByb3hpbWF0ZSBwb3NpdGlvblxuICAgICAgICAgICAgcG9zX3ggPSBlLmNsaWVudFg7XG4gICAgICAgICAgICBwb3NfeSA9IGUuY2xpZW50WTtcbiAgICAgICAgICAgIC8vIEFkanVzdCB0aGUgZGlzcGxheVxuICAgICAgICAgICAgdGhpcy5iYXNlLnN0eWxlLmxlZnQgPSAocG9zX3ggKyBcInB4XCIpO1xuICAgICAgICAgICAgdGhpcy5iYXNlLnN0eWxlLnRvcCA9IChwb3NfeSArIFwicHhcIik7XG4gICAgICAgICAgICAvLyBEcmF3IGluIG91ciBiZXN0IGd1ZXNzIHBvc2l0aW9uXG4gICAgICAgICAgICB0aGlzLmRyYXcoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSB0b28gZmFyIG92ZXIsIHNoaWZ0IGl0LlxuICAgICAgICAgICAgaWYgKChwb3NfeCArIHRoaXMuYmFzZS5vZmZzZXRXaWR0aCkgPiB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgIHBvc194ID0gKHdpbmRvdy5pbm5lcldpZHRoIC0gdGhpcy5iYXNlLm9mZnNldFdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIHRvbyBsb3csIG1vdmUgdXBcbiAgICAgICAgICAgIGlmICgocG9zX3kgKyB0aGlzLmJhc2Uub2Zmc2V0SGVpZ2h0KSA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICAgICAgICAgIHBvc195ID0gKHdpbmRvdy5pbm5lckhlaWdodCAtIHRoaXMuYmFzZS5vZmZzZXRIZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWRqdXN0IHRoZSBkaXNwbGF5XG4gICAgICAgICAgICB0aGlzLmJhc2Uuc3R5bGUubGVmdCA9IChwb3NfeCArIFwicHhcIik7XG4gICAgICAgICAgICB0aGlzLmJhc2Uuc3R5bGUudG9wID0gKHBvc195ICsgXCJweFwiKTtcbiAgICAgICAgICAgIC8vIHByZXZlbnQgdGhlIHJlYWwgci1jbGljayBtZW51XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUVsZW1lbnRzXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIHRoZSBiYXNpYyBlbGVtZW50cyBvZiB0aGUgY29udGV4dCBtZW51ICYgb3B0aW9uYWxseSBhZGRzIHRoZVxuICAgICAqIHN0YW5kYXJkIGNsYXNzZXNcbiAgICAgKlxuICAgICAqL1xuICAgIF9jcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMub3B0aW9uX2NvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwib3B0aW9uQ29udGFpbmVyXCIsIFwiXCIsIG51bGwsIG51bGwsIHRoaXMuYmFzZSk7XG4gICAgICAgIHRoaXMuX3NldFRoZW1lQ29sb3JzKCk7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBfc2V0VGhlbWVDb2xvcnNcbiAgICAgKlxuICAgICAqIFNldHMgdGhlIHRoZW1lIGNvbG9ycyBmb3IgdGhlIGNvbnRleHQgbWVudVxuICAgICAqXG4gICAgICovXG4gICAgX3NldFRoZW1lQ29sb3JzKCkge1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLl9jb2xvcnMsIChjb2xvciwgdW5pcXVlSWQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0VGhlbWVDb2xvcih1bmlxdWVJZCwgY29sb3IpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2hpZGVFeGlzdGluZ01lbnVcbiAgICAgKlxuICAgICAqIEhpZGVzIHdoYXRldmVyIGNvbnRleHQgbWVudSBpcyBjdXJyZW50bHkgc2hvd2luZ1xuICAgICAqXG4gICAgICovXG4gICAgX2hpZGVFeGlzdGluZ01lbnUoKSB7XG4gICAgICAgIGlmIChDb250ZXh0TWVudS5fc2hvd2luZ01lbnUpIHtcbiAgICAgICAgICAgIGlmIChDb250ZXh0TWVudS5fc2hvd2luZ01lbnUuYmFzZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgQ29udGV4dE1lbnUuX3Nob3dpbmdNZW51LmJhc2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChDb250ZXh0TWVudS5fc2hvd2luZ01lbnUuYmFzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkNvbnRleHRNZW51ID0gQ29udGV4dE1lbnU7XG4vKiogdGhlIHN0eWxlcyB0byB1c2UgZm9yIHRoZSBzdGFuZGFyZCBjb250ZXh0IG1lbnUgKi9cbkNvbnRleHRNZW51Ll91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIuY3R4TWVudVwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCI8bWVudUJHPlwiLFxuICAgICAgICBjb2xvcjogXCI8bWVudVRleHQ+XCIsXG4gICAgICAgIGZvbnRGYW1pbHk6IFwiJ0NhbGlicmkgTGlnaHQnLCBIZWx2ZXRpY2FcIixcbiAgICAgICAgYm94U2hhZG93OiBcIjFweCAxcHggM3B4IDJweCByZ2JhKDAsMCwwLC4xKVwiLFxuICAgICAgICBmb250U2l6ZTogXCIxNHB4XCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgcGFkZGluZ1RvcDogXCIycHhcIixcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogXCIycHhcIixcbiAgICAgICAgd2lkdGg6IFwiMTAlXCIsXG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbiAgICB9LFxuICAgIFwiLmN0eE1lbnUgLnN1Yk1lbnVcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiPG1lbnVPcHRCRz5cIixcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICB0b3A6IFwiLTJweFwiLFxuICAgICAgICBib3hTaGFkb3c6IFwiMXB4IDFweCAxcHggMXB4IHJnYmEoMCwwLDAsLjEpXCIsXG4gICAgICAgIGxlZnQ6IFwiY2FsYygxMDAlIC0gMXB4KVwiLFxuICAgICAgICBib3JkZXJMZWZ0OiBcIjFweCBzb2xpZCA8bWVudUJvcmRlcj5cIlxuICAgIH0sXG4gICAgXCIuY3R4TWVudSAuc3ViTWVudSAuc3ViTWVudVwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCI8bWVudU9wdE5lc3RlZD5cIixcbiAgICAgICAgYm9yZGVyTGVmdDogXCIxcHggc29saWQgPG1lbnVCb3JkZXJOZXN0ZWQ+XCJcbiAgICB9LFxuICAgIFwiLmN0eE1lbnUgLmN0eE9wdGlvblwiOiB7XG4gICAgICAgIHBhZGRpbmc6IFwiNHB4IDEwcHhcIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIlxuICAgIH0sXG4gICAgXCIuY3R4TWVudSAuY3R4T3B0aW9uOmhvdmVyXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIjxtZW51U2VsZWN0ZWRUZXh0PlwiLFxuICAgICAgICBjb2xvcjogXCI8bWVudU9wdEJHPlwiLFxuICAgICAgICBib3JkZXJMZWZ0OiBcIjdweCBzb2xpZCA8bWVudVNlbGVjdGVkQm9yZGVyPlwiXG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvbGxlY3Rpb25cIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vbGlua2VkTGlzdFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90cmVlc1wiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb2xsZWN0aW9uXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2xpbmtlZExpc3RcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vbGlua2VkTm9kZVwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGxpbmtlZE5vZGVfMSA9IHJlcXVpcmUoXCIuL2xpbmtlZE5vZGVcIik7XG5jb25zdCBjb21wYXJhYmxlXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGFyYWJsZS9jb21wYXJhYmxlXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBMaW5rZWRMaXN0PFQ+XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGdlbmVyaWMgc3RvcmFnZSBmb3IgaXRlbXMgYXMgYSBsaW5rZWVkIGxpc3RcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBMaW5rZWRMaXN0IHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBUSEUgTElOS0VEIExJU1RcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHsgcmV0dXJuIHRoaXMuX2xlbmd0aDsgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQUREIEVMRU1FTlRTXG4gICAgLyoqXG4gICAgICogYWRkXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogYWRkIGFuIGVsZW1lbnQgdG8gdGhlIGVuZCBvZiB0aGUgbGlua2VkIGxpc3RcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0ZGF0YVx0VGhlIGVsZW1lbnQgdG8gYWRkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VHJ1ZSBpZiB0aGUgZWxlbWVudCB3YXMgYWRkZWQgc3VjY2Vzc2Z1bGx5XG4gICAgICovXG4gICAgYWRkKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KGRhdGEsIHRoaXMuX2xlbmd0aCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGluc2VydFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGFkZCBhbiBlbGVtZW50IGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0ZGF0YVx0VGhlIGVsZW1lbnQgdG8gYWRkXG4gICAgICogQHBhcmFtXHRpZHhcdFx0VGhlIGluZGV4IGF0IHdoaWNoIHRvIGFkZCB0aGUgZWxlbWVudFxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRydWUgaWYgdGhlIGVsZW1lbnQgd2FzIGFkZGVkIHN1Y2Nlc3NmdWxseVxuICAgICAqL1xuICAgIGluc2VydChkYXRhLCBpZHgpIHtcbiAgICAgICAgLy8gdmFsaWRhdGUgdGhhdCB3ZSdsbCBiZSBhYmxlIHRvIGluc2VydFxuICAgICAgICBpZiAoaWR4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZHggPiB0aGlzLl9sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjcmVhdGUgdGhlIG5vZGVcbiAgICAgICAgbGV0IG5ld05vZGUgPSBuZXcgbGlua2VkTm9kZV8xLkxpbmtlZE5vZGUoZGF0YSk7XG4gICAgICAgIC8vIGdyYWIgdGhlIGFkamFjZW50IG5vZGVzXG4gICAgICAgIGxldCBuZXh0Tm9kZSA9IHRoaXMuX2dldE5vZGVBdElkeChpZHgpO1xuICAgICAgICBsZXQgcHJldk5vZGUgPSB0aGlzLl9nZXROb2RlQXRJZHgoaWR4IC0gMSk7XG4gICAgICAgIC8vIGlmIHRoZXJlJ3MgYSBub2RlIGFmdGVyIHRoaXMgZWxlbWVudCwgdXBkYXRlIHRoZSBwb2ludGVyc1xuICAgICAgICBpZiAobmV4dE5vZGUpIHtcbiAgICAgICAgICAgIG5leHROb2RlLnByZXZpb3VzID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIG5ld05vZGUubmV4dCA9IG5leHROb2RlO1xuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCB0aGlzIG11c3QgYmUgdGhlIG5ldyBsYXN0IG5vZGVcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3ROb2RlID0gbmV3Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGVyZSdzIGEgbm9kZSBiZWZvcmUgdGhpcyBlbGVtZW50LCB1cGRhdGUgdGhlIHBvaW50ZXJzXG4gICAgICAgIGlmIChwcmV2Tm9kZSkge1xuICAgICAgICAgICAgcHJldk5vZGUubmV4dCA9IG5ld05vZGU7XG4gICAgICAgICAgICBuZXdOb2RlLnByZXZpb3VzID0gcHJldk5vZGU7XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UsIHRoaXMgbXVzdCBiZSB0aGUgbmV3IGZpcnN0IG5vZGVcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0Tm9kZSA9IG5ld05vZGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5jcmVtZW50IHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhpcyBsaXN0XG4gICAgICAgIHRoaXMuX2xlbmd0aCArPSAxO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFJFTU9WRSBFTEVNRU5UU1xuICAgIC8qKlxuICAgICAqIHJlbW92ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHJlbW92ZSB0aGUgZWxlbWVudCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGlkeFx0XHRUaGUgaW5kZXggdG8gcmVtb3ZlIGZyb21cbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUaGUgZGF0YSBjb250YWluZWQgYXQgdGhhdCBpbmRleFxuICAgICAqL1xuICAgIHJlbW92ZShpZHgpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLl9nZXROb2RlQXRJZHgoaWR4KTtcbiAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5wcmV2aW91cykge1xuICAgICAgICAgICAgbm9kZS5wcmV2aW91cy5uZXh0ID0gbm9kZS5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLm5leHQpIHtcbiAgICAgICAgICAgIG5vZGUubmV4dC5wcmV2aW91cyA9IG5vZGUucHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2xhc3ROb2RlID09PSBub2RlKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0Tm9kZSA9IG5vZGUucHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2ZpcnN0Tm9kZSA9PT0gbm9kZSkge1xuICAgICAgICAgICAgdGhpcy5fZmlyc3ROb2RlID0gbm9kZS5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgdG90YWwgbnVtYmVyIG9mIGVsZW1lbnRzXG4gICAgICAgIHRoaXMuX2xlbmd0aCAtPSAxO1xuICAgICAgICAvLyByZXR1cm4gdGhlIGRhdGEgdGhhdCB3YXMgaW4gdGhlIG5vZGVcbiAgICAgICAgcmV0dXJuIG5vZGUuZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZmluZEFuZFJlbW92ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGRlc2NyaXB0aW9uXG4gICAgICovXG4gICAgZmluZEFuZFJlbW92ZSh2YWwpIHtcbiAgICAgICAgbGV0IGlkeCA9IHRoaXMuZ2V0SW5kZXgodmFsKTtcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gISF0aGlzLnJlbW92ZShpZHgpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEdFVCBFTEVNRU5UU1xuICAgIGdldChpZHgpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLl9nZXROb2RlQXRJZHgoaWR4KTtcbiAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZS5kYXRhO1xuICAgIH1cbiAgICBnZXRJbmRleCh2YWwpIHtcbiAgICAgICAgbGV0IGNudCA9IDA7XG4gICAgICAgIGxldCBjdXJOb2RlID0gdGhpcy5fZmlyc3ROb2RlO1xuICAgICAgICB3aGlsZSAoY3VyTm9kZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRXF1YWwodmFsLCBjdXJOb2RlLmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1ck5vZGUgPSBjdXJOb2RlLm5leHQ7XG4gICAgICAgICAgICBjbnQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29udGFpbnModmFsKSB7XG4gICAgICAgIGxldCBpZHggPSB0aGlzLmdldEluZGV4KHZhbCk7XG4gICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF9nZXROb2RlQXRJZHgoaWR4KSB7XG4gICAgICAgIC8vIHZhbGlkYXRlIHRoYXQgd2UgaGF2ZSBhIHZhbGlkIGlucHV0XG4gICAgICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWR4ID49IHRoaXMuX2xlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2VhcmNoIGZyb20gdGhlIGVuZCBvZiB0aGUgbGlzdCB0aGF0IHdpbGwgYmUgY2xvc2VyIHRvIHRoZSBub2RlXG4gICAgICAgIGlmIChpZHggPCB0aGlzLl9sZW5ndGggLyAyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Tm9kZUF0SWR4Rm9yd2FyZChpZHgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldE5vZGVBdElkeEJhY2t3YXJkKGlkeCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2lzRXF1YWwoYSwgYikge1xuICAgICAgICBpZiAoY29tcGFyYWJsZV8xLmlzRXF1YXRhYmxlKGEpICYmIGNvbXBhcmFibGVfMS5pc0VxdWF0YWJsZShiKSkge1xuICAgICAgICAgICAgcmV0dXJuIChhLmVxdWFscyhiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChhID09PSBiKTtcbiAgICB9XG4gICAgX2dldE5vZGVBdElkeEZvcndhcmQoaWR4KSB7XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCB1bnRpbCB3ZSd2ZSBoaXQgdGhlIG5vZGUgYXQgdGhlIHNwZWNpZmllZCBpbmRleFxuICAgICAgICBsZXQgY3VyTm9kZSA9IHRoaXMuX2ZpcnN0Tm9kZTtcbiAgICAgICAgZm9yIChsZXQgY291bnQgPSAwOyBjb3VudCA8IGlkeDsgY291bnQgKz0gMSkge1xuICAgICAgICAgICAgY3VyTm9kZSA9IGN1ck5vZGUubmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VyTm9kZTtcbiAgICB9XG4gICAgX2dldE5vZGVBdElkeEJhY2t3YXJkKGlkeCkge1xuICAgICAgICBsZXQgY3VyTm9kZSA9IHRoaXMuX2xhc3ROb2RlO1xuICAgICAgICBmb3IgKGxldCBjb3VudCA9IHRoaXMuX2xlbmd0aCAtIDE7IGNvdW50ID4gaWR4OyBjb3VudCAtPSAxKSB7XG4gICAgICAgICAgICBjdXJOb2RlID0gY3VyTm9kZS5wcmV2aW91cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VyTm9kZTtcbiAgICB9XG59XG5leHBvcnRzLkxpbmtlZExpc3QgPSBMaW5rZWRMaXN0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vYmluYXJ5VHJlZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zZWxmQmFsYW5jaW5nVHJlZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90cmVlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3RyaWVcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBiaW5hcnlUcmVlXzEgPSByZXF1aXJlKFwiLi9iaW5hcnlUcmVlXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRCYWxhbmNlZEJpbmFyeVRyZWVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGhhbmRsZSBiYWxhbmNpbmcgYSBiaW5hcnkgdHJlZVxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQmFsYW5jZWRCaW5hcnlUcmVlIGV4dGVuZHMgYmluYXJ5VHJlZV8xLkJpbmFyeVRyZWUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICBzdXBlcihudWxsKTtcbiAgICAgICAgdGhpcy5fcm9vdCA9IG5ldyBiaW5hcnlUcmVlXzEuQmluYXJ5VHJlZShkYXRhKTtcbiAgICB9XG4gICAgLyoqIHBhc3MgdGhyb3VnaHMgZm9yIHRoZSBkYXRhIHByb3BydHkgdG8gZHJhdyBmcm9tIHRoZSBiaW5hcnkgdHJlZSBub2RlICovXG4gICAgZ2V0IF9kYXRhKCkgeyByZXR1cm4gdGhpcy5fcm9vdC5fZGF0YTsgfVxuICAgIHNldCBfZGF0YSh2YWx1ZSkgeyB9XG4gICAgYWRkKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyLmFkZCh2YWx1ZSk7XG4gICAgICAgIHdoaWxlICghdGhpcy5pc0JhbGFuY2VkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlYmFsYW5jZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZSh2YWx1ZSkge1xuICAgICAgICBzdXBlci5yZW1vdmUodmFsdWUpO1xuICAgICAgICB3aGlsZSAoIXRoaXMuaXNCYWxhbmNlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWJhbGFuY2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmViYWxhbmNlKCkge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRvU3RyaW5nKCkpO1xuICAgICAgICAvLyB0cnkgYmFsYW5jaW5nIGVhY2ggc2lkZSB0byBzZWUgaWYgdGhhdCBnZXRzIHVzIGFueXdoZXJlXG4gICAgICAgIHRoaXMuX3JlYmFsYW5jZVN1YlRyZWUoXCJsZWZ0XCIpO1xuICAgICAgICB0aGlzLl9yZWJhbGFuY2VTdWJUcmVlKFwicmlnaHRcIik7XG4gICAgICAgIC8vIGlmIHdlIGFyZSBub3cgYmFsYW5jZWQsIG5vIG5lZWQgdG8gZG8gYW55dGhpbmcgZWxzZVxuICAgICAgICBpZiAodGhpcy5pc0JhbGFuY2VkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGVmdERlcHRoID0gdGhpcy5fZ2V0U2lkZURlcHRoKFwibGVmdFwiKTtcbiAgICAgICAgbGV0IHJpZ2h0RGVwdGggPSB0aGlzLl9nZXRTaWRlRGVwdGgoXCJyaWdodFwiKTtcbiAgICAgICAgaWYgKGxlZnREZXB0aCA+IHJpZ2h0RGVwdGgpIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZShcImxlZnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yb3RhdGUoXCJyaWdodFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIF9yb3RhdGUodHlwZSkge1xuICAgICAgICBsZXQgc3ViVHJlZSA9IHRoaXMuX3N1YlRyZWVzW3R5cGVdO1xuICAgICAgICBsZXQgb3Bwb3NpdGVTaWRlID0gdGhpcy5fb3Bwb3NpdGVTaWRlKHR5cGUpO1xuICAgICAgICAvLyB1cGRhdGUgcGFyZW50cyBhcHByb3ByaWF0ZWx5XG4gICAgICAgIHN1YlRyZWUuX3BhcmVudCA9IHRoaXMuX3BhcmVudDtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gc3ViVHJlZTtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSB3YXkgdGhlIGNoaWxkcmVuIHBvaW50XG4gICAgICAgIGlmIChzdWJUcmVlW29wcG9zaXRlU2lkZV0pIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YlRyZWVzW3R5cGVdID0gc3ViVHJlZVtvcHBvc2l0ZVNpZGVdO1xuICAgICAgICAgICAgdGhpcy5fc3ViVHJlZXNbdHlwZV0uX3BhcmVudCA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fc3ViVHJlZXNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgc3ViVHJlZVtvcHBvc2l0ZVNpZGVdID0gdGhpcztcbiAgICB9XG4gICAgX29wcG9zaXRlU2lkZSh0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjogcmV0dXJuIFwicmlnaHRcIjtcbiAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOiByZXR1cm4gXCJsZWZ0XCI7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmViYWxhbmNlU3ViVHJlZSh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1N1YlRyZWVCYWxhbmNlZCh0eXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdWJUcmVlc1t0eXBlXS5fcmViYWxhbmNlKCk7XG4gICAgfVxuICAgIF9jcmVhdGVTdWJUcmVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmFsYW5jZWRCaW5hcnlUcmVlKHZhbHVlKTtcbiAgICB9XG59XG5leHBvcnRzLkJhbGFuY2VkQmluYXJ5VHJlZSA9IEJhbGFuY2VkQmluYXJ5VHJlZTtcbmNsYXNzIFNlbGZCYWxhbmNpbmdCaW5hcnlUcmVlIGV4dGVuZHMgYmluYXJ5VHJlZV8xLkJpbmFyeVRyZWUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gT1ZFUlJJREVTXG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIobnVsbCk7XG4gICAgICAgIHRoaXMuX3RyZWUgPSBuZXcgYmluYXJ5VHJlZV8xLkJpbmFyeVRyZWUodmFsdWUpO1xuICAgIH1cbiAgICBhZGQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdHJlZS5hZGQodmFsdWUpO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAodGhpcy5fdHJlZS5pc0JhbGFuY2VkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZWJhbGFuY2UodGhpcy5fdHJlZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQWZ0ZXIgUmViYWxhbmNlOiBcIiArIHRoaXMudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIHJlbW92ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl90cmVlLnJlbW92ZSh2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLl90cmVlLmlzQmFsYW5jZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlYmFsYW5jZSh0aGlzLl90cmVlKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBQQVNTIFRIUk9VR0ggRlVOQ1RJT05TXG4gICAgaXNCYWxhbmNlZCgpIHsgcmV0dXJuIHRoaXMuX3RyZWUuaXNCYWxhbmNlZCgpOyB9XG4gICAgaXNDb21wbGV0ZSgpIHsgcmV0dXJuIHRoaXMuX3RyZWUuaXNDb21wbGV0ZSgpOyB9XG4gICAgaXNMZWFmTm9kZSgpIHsgcmV0dXJuIHRoaXMuX3RyZWUuaXNMZWFmTm9kZSgpOyB9XG4gICAgdG9TdHJpbmcoKSB7IHJldHVybiB0aGlzLl90cmVlLnRvU3RyaW5nKCk7IH1cbiAgICBnZXREZXB0aCgpIHsgcmV0dXJuIHRoaXMuX3RyZWUuZ2V0RGVwdGgoKTsgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgX3JlYmFsYW5jZSh0cmVlKSB7XG4gICAgICAgIC8vIHRyeSB0byByZWJhbGFuY2UgYXQgYSBsb3dlciBsZXZlbCBmaXJzdFxuICAgICAgICB0aGlzLl9yZWJhbGFuY2VTdWJUcmVlKHRyZWUsIFwibGVmdFwiKTtcbiAgICAgICAgdGhpcy5fcmViYWxhbmNlU3ViVHJlZSh0cmVlLCBcInJpZ2h0XCIpO1xuICAgICAgICAvLyBpZiB3ZSBhcmUgYmFsYW5jZWQgbm93LCBjb250aW51ZSBvblxuICAgICAgICBpZiAodHJlZS5pc0JhbGFuY2VkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBvdGhlcndpc2UsIHdlIG5lZWQgdG8gZmlndXJlIG91dCB3aGljaCBzaWRlIG5lZWRzIHRvIGJlIGFkanVzdGVkXG4gICAgICAgIGxldCBsZWZ0RGVwdGggPSB0cmVlLl9nZXRTaWRlRGVwdGgoXCJsZWZ0XCIpO1xuICAgICAgICBsZXQgcmlnaHREZXB0aCA9IHRyZWUuX2dldFNpZGVEZXB0aChcInJpZ2h0XCIpO1xuICAgICAgICBpZiAobGVmdERlcHRoID4gcmlnaHREZXB0aCkge1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlKHRyZWUsIFwibGVmdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZSh0cmVlLCBcInJpZ2h0XCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9yZWJhbGFuY2VTdWJUcmVlKHRyZWUsIHNpZGUpIHtcbiAgICAgICAgaWYgKCF0cmVlLl9zdWJUcmVlc1tzaWRlXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmVlLl9zdWJUcmVlc1tzaWRlXS5pc0JhbGFuY2VkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmViYWxhbmNlKHRyZWUuX3N1YlRyZWVzW3NpZGVdKTtcbiAgICB9XG4gICAgX3JvdGF0ZSh0cmVlLCBzaWRlKSB7XG4gICAgICAgIGxldCBvcHBvc2l0ZVNpZGUgPSB0aGlzLl9vcHBvc2l0ZVNpZGUoc2lkZSk7XG4gICAgICAgIC8vIGdldCB0aGUgbm9kZSB3ZSBhcmUgc3dhcHBpbmcgd2l0aFxuICAgICAgICBsZXQgbmV3Um9vdCA9IHRyZWUuX3N1YlRyZWVzW3NpZGVdO1xuICAgICAgICBpZiAoIW5ld1Jvb3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIG9sZCBwYXJlbnQgYXBwcm9wcmlhdGVseSBwb2ludHMgdG8gdGhlIG5ldyByb290XG4gICAgICAgIGxldCBwYXJlbnQgPSB0cmVlLl9wYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHBhcmVudC5fc3ViVHJlZXNbdHJlZS5fZ2V0UmVsYXRpb25Ub1BhcmVudCgpXSA9IG5ld1Jvb3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl90cmVlID0gbmV3Um9vdDtcbiAgICAgICAgfVxuICAgICAgICAvLyB1cGRhdGUgdGhlIHJlc3BlY3RpdmUgcGFyZW50cyBvZiB0aGUgbm9kZXMgdGhhdCBhcmUgZ2V0dGluZyB1cGRhdGVkXG4gICAgICAgIG5ld1Jvb3QuX3BhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdHJlZS5fcGFyZW50ID0gbmV3Um9vdDtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSB3YXkgdGhlIGNoaWxkcmVuIHBvaW50XG4gICAgICAgIGlmIChuZXdSb290Ll9zdWJUcmVlc1tvcHBvc2l0ZVNpZGVdKSB7XG4gICAgICAgICAgICB0cmVlLl9zdWJUcmVlc1tzaWRlXSA9IG5ld1Jvb3QuX3N1YlRyZWVzW29wcG9zaXRlU2lkZV07XG4gICAgICAgICAgICB0cmVlLl9zdWJUcmVlc1tzaWRlXS5fcGFyZW50ID0gdHJlZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0cmVlLl9zdWJUcmVlc1tzaWRlXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgbmV3IHJvb3QgcG9pbnRzIHRvIHRoZSBvbGQgbm9kZVxuICAgICAgICBuZXdSb290Ll9zdWJUcmVlc1tvcHBvc2l0ZVNpZGVdID0gdHJlZTtcbiAgICB9XG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEVMUEVSU1xuICAgIF9vcHBvc2l0ZVNpZGUodHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6IHJldHVybiBcInJpZ2h0XCI7XG4gICAgICAgICAgICBjYXNlIFwicmlnaHRcIjogcmV0dXJuIFwibGVmdFwiO1xuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlNlbGZCYWxhbmNpbmdCaW5hcnlUcmVlID0gU2VsZkJhbGFuY2luZ0JpbmFyeVRyZWU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi8uLi9wcmltaXRpdmVIZWxwZXJzL3N0cmluZ3NcIik7XG5jb25zdCB0cmVlXzEgPSByZXF1aXJlKFwiLi90cmVlXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRUcmllXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTcGVjaWFsIGZvcm0gb2YgdHJlZSB0aGF0IGlzIHJlYWxseSBnb29kIGF0IGtlZXBpbmcgdHJhY2sgb2Ygd29yZHMgYW5kXG4gKiBwcmVmaXhlc1xuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgVHJpZSBleHRlbmRzIHRyZWVfMS5UcmVlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBBRERJTkcgV09SRFNcbiAgICBhZGQod29yZCkge1xuICAgICAgICBpZiAod29yZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVRlcm1pbmF0aW5nV29yZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlTm9uVGVybWluYXRpbmdXb3JkKHdvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9oYW5kbGVUZXJtaW5hdGluZ1dvcmQoKSB7XG4gICAgICAgIHRoaXMuX3Rlcm1pbmF0ZXMgPSB0cnVlO1xuICAgIH1cbiAgICBfaGFuZGxlTm9uVGVybWluYXRpbmdXb3JkKHdvcmQpIHtcbiAgICAgICAgbGV0IHNwbGl0V29yZCA9IHRoaXMuX3NwbGl0V29yZCh3b3JkKTtcbiAgICAgICAgaWYgKCF0aGlzLl9zdWJUcmVlc1tzcGxpdFdvcmQuZmlyc3RDaGFyXSkge1xuICAgICAgICAgICAgdGhpcy5fc3ViVHJlZXNbc3BsaXRXb3JkLmZpcnN0Q2hhcl0gPSBuZXcgVHJpZShzcGxpdFdvcmQuZmlyc3RDaGFyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdWJUcmVlc1tzcGxpdFdvcmQuZmlyc3RDaGFyXS5hZGQoc3BsaXRXb3JkLnJlc3RPZldvcmQpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFJFTU9WRSBBIFdPUkRcbiAgICByZW1vdmUod29yZCkge1xuICAgICAgICBpZiAod29yZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3Rlcm1pbmF0ZXMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBzcGxpdFdvcmQgPSB0aGlzLl9zcGxpdFdvcmQod29yZCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3N1YlRyZWVzW3NwbGl0V29yZC5maXJzdENoYXJdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc3ViVHJlZXNbc3BsaXRXb3JkLmZpcnN0Q2hhcl0ucmVtb3ZlKHNwbGl0V29yZC5yZXN0T2ZXb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBGSU5ESU5HIEEgV09SRFxuICAgIGV4aXN0cyh3b3JkKSB7XG4gICAgICAgIGlmICh3b3JkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Rlcm1pbmF0ZXM7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNwbGl0V29yZCA9IHRoaXMuX3NwbGl0V29yZCh3b3JkKTtcbiAgICAgICAgaWYgKCF0aGlzLl9zdWJUcmVlc1tzcGxpdFdvcmQuZmlyc3RDaGFyXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdWJUcmVlc1tzcGxpdFdvcmQuZmlyc3RDaGFyXS5leGlzdHMoc3BsaXRXb3JkLnJlc3RPZldvcmQpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhFTFBFUlNcbiAgICBfc3BsaXRXb3JkKHdvcmQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpcnN0Q2hhcjogd29yZC5jaGFyQXQoMCksXG4gICAgICAgICAgICByZXN0T2ZXb3JkOiBzdHJpbmdzXzEucmVzdCh3b3JkLCAxKVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuVHJpZSA9IFRyaWU7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kZWJ1Z1wiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG5hdmlnYXRlXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9uYXZpZ2F0ZVwiKTtcbmV4cG9ydHMuSVNfREVCVUcgPSBmYWxzZTtcbi8qKlxuICogcHJpbnRPYmplY3RcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHByaW50IG91dCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIHByaW50T2JqZWN0KG9iaikge1xuICAgIGxldCBzdHIgPSBnZXRPYmplY3RTdHJpbmcob2JqKTtcbiAgICBjb25zb2xlLmxvZyhzdHIpO1xufVxuZXhwb3J0cy5wcmludE9iamVjdCA9IHByaW50T2JqZWN0O1xuLyoqXG4gKiBnZXRPYmplY3RTdHJpbmdcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGJ1aWxkIGEgZm9ybWF0dGVkIHN0cmluZyBmb3IgYW55IGFyYml0cmFyeSBvYmplY3RcbiAqIEBwYXJhbSAgIG9iaiAgICAgICAgIFRoZSBvYmplY3QgdG8gcHJpbnRcbiAqIEBwYXJhbSAgIHByZWZpeCAgICAgIFRoZSBjdXJyZW50IHByZWZpeCB0byB1c2UgZm9yIHRoaXMgbGF5ZXJcbiAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBnZXRPYmplY3RTdHJpbmcob2JqLCBwcmVmaXgsIGlzSHRtbCkge1xuICAgIGlmICghcHJlZml4KSB7XG4gICAgICAgIHByZWZpeCA9IFwiXCI7XG4gICAgfVxuICAgIGlmICgodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikgfHxcbiAgICAgICAgKHR5cGVvZiBvYmogPT09IFwibnVtYmVyXCIpIHx8XG4gICAgICAgICh0eXBlb2Ygb2JqID09PSBcImJvb2xlYW5cIikgfHxcbiAgICAgICAgKG9iaiBpbnN0YW5jZW9mIERhdGUpIHx8XG4gICAgICAgIChvYmogaW5zdGFuY2VvZiBGdW5jdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIG9iai50b1N0cmluZygpO1xuICAgIH1cbiAgICBsZXQgbmV3TGluZSA9IGlzSHRtbCA/IFwiPGJyPlwiIDogXCJcXG5cIjtcbiAgICBsZXQgdGFiID0gaXNIdG1sID8gXCImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDtcIiA6IFwiXFx0XCI7XG4gICAgbGV0IG91dHB1dFN0ciA9IFwiXCI7XG4gICAgb3V0cHV0U3RyICs9IFwie1wiO1xuICAgIG5hdmlnYXRlXzEubWFwKG9iaiwgKGVsZW0sIGtleSkgPT4ge1xuICAgICAgICBvdXRwdXRTdHIgKz0gbmV3TGluZSArIHRhYiArIHByZWZpeCArIGtleSArIFwiIDogXCIgKyBnZXRPYmplY3RTdHJpbmcoZWxlbSwgcHJlZml4ICsgdGFiLCBpc0h0bWwpO1xuICAgIH0pO1xuICAgIG91dHB1dFN0ciArPSBuZXdMaW5lICsgcHJlZml4ICsgXCJ9XFxuXCI7XG4gICAgcmV0dXJuIG91dHB1dFN0cjtcbn1cbmV4cG9ydHMuZ2V0T2JqZWN0U3RyaW5nID0gZ2V0T2JqZWN0U3RyaW5nO1xuLyoqXG4gKiBwcmludENhbGxTdGFja1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUHJpbnQgb3V0IHRoZSBjdXJyZW50IGNhbGxzdGFja1xuICovXG5mdW5jdGlvbiBwcmludENhbGxTdGFjaygpIHtcbiAgICBjb25zb2xlLmxvZyhuZXcgRXJyb3IoKS5zdGFjayk7XG59XG5leHBvcnRzLnByaW50Q2FsbFN0YWNrID0gcHJpbnRDYWxsU3RhY2s7XG4vKipcbiAqIGRlYnVnUG9pbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQcmludCB0aGUgY29vcmRpbmF0ZXMgY29udGFpbmVkIGluIGEgcG9pbnRcbiAqIEBwYXJhbSBwb2ludCBcdHRoZSBwb2ludCB0byBwcmludCBmb3IgZGVidWdnaW5nXG4gKi9cbmZ1bmN0aW9uIGRlYnVnUG9pbnQocG9pbnQpIHtcbiAgICBpZiAoIXBvaW50LnopIHtcbiAgICAgICAgY29uc29sZS5sb2coXCIyRCBQT0lOVDogKFwiICsgcG9pbnQueCArIFwiLCBcIiArIHBvaW50LnkgKyBcIilcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIjNEIFBPSU5UOiAoXCIgKyBwb2ludC54ICsgXCIsIFwiICsgcG9pbnQueSArIFwiLCBcIiArIHBvaW50LnogKyBcIilcIik7XG4gICAgfVxufVxuZXhwb3J0cy5kZWJ1Z1BvaW50ID0gZGVidWdQb2ludDtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL19pbnRlcmZhY2VzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NsYXNzaWNEcmFnZ2FibGVcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZHJhZ2dhYmxlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2RyYWdnYWJsZVdyYXBwZXJcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZXhpc3RpbmdEcmFnZ2FibGVcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaHRtbDVEcmFnZ2FibGVcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRHJhZ2dhYmxlRnVuY3Rpb25zO1xuKGZ1bmN0aW9uIChEcmFnZ2FibGVGdW5jdGlvbnMpIHtcbiAgICBEcmFnZ2FibGVGdW5jdGlvbnNbRHJhZ2dhYmxlRnVuY3Rpb25zW1wiRHJhZ0VudGVyXCJdID0gMF0gPSBcIkRyYWdFbnRlclwiO1xuICAgIERyYWdnYWJsZUZ1bmN0aW9uc1tEcmFnZ2FibGVGdW5jdGlvbnNbXCJEcmFnTGVhdmVcIl0gPSAxXSA9IFwiRHJhZ0xlYXZlXCI7XG4gICAgRHJhZ2dhYmxlRnVuY3Rpb25zW0RyYWdnYWJsZUZ1bmN0aW9uc1tcIkRyb3BcIl0gPSAyXSA9IFwiRHJvcFwiO1xuICAgIERyYWdnYWJsZUZ1bmN0aW9uc1tEcmFnZ2FibGVGdW5jdGlvbnNbXCJNb3ZlXCJdID0gM10gPSBcIk1vdmVcIjtcbn0pKERyYWdnYWJsZUZ1bmN0aW9ucyA9IGV4cG9ydHMuRHJhZ2dhYmxlRnVuY3Rpb25zIHx8IChleHBvcnRzLkRyYWdnYWJsZUZ1bmN0aW9ucyA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9fdHlwZWd1YXJkc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kcmF3YWJsZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zaW1wbGVEcmF3YWJsZVwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRyYXdhYmxlXzEgPSByZXF1aXJlKFwiLi9kcmF3YWJsZVwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0U2ltcGxlRHJhd2FibGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFZlcnkgYmFzaWMgaW1wbGVtZW50YXRpb24gb2YgdGhlIERyYXdhYmxlIGNsYXNzIHRoYXQgY29udGFpbnMganVzdCBhXG4gKiBzaW5nbGUgZWxlbWVudC5cbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFNpbXBsZURyYXdhYmxlIGV4dGVuZHMgZHJhd2FibGVfMS5EcmF3YWJsZSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvKipcbiAgICAgKiBTaW1wbGVEcmF3YWJsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjcmVhdGUgYSBzaW1wbGUgRHJhd2FibGUgZWxlbWVudFxuICAgICAqIEBwYXJhbVx0b2JqXHRcdFRoZSBkZXRhaWxzIGFib3V0IHRoZSBlbGVtZW50IHdlIHNob3VsZCBkcmF3XG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob2JqKSB7IHN1cGVyKG9iaik7IH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRG8gbm90aGluZywgc2luY2Ugd2Ugd2lsbCBjcmVhdGUgdGhlIGJhc2UgZWxlbWVudCBpbiB0aGUgY29uc3RydXRvclxuICAgICAqL1xuICAgIF9jcmVhdGVFbGVtZW50cygpIHsgfVxufVxuZXhwb3J0cy5TaW1wbGVEcmF3YWJsZSA9IFNpbXBsZURyYXdhYmxlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vZHluYW1pY09wdGlvblwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9keW5hbWljU2VsZWN0XCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZHJhd2FibGVfMSA9IHJlcXVpcmUoXCIuLi9kcmF3YWJsZS9kcmF3YWJsZVwiKTtcbmNvbnN0IGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9kYXRhU3RydWN0dXJlcy9jb2xsZWN0aW9uL2NvbGxlY3Rpb25cIik7XG5jb25zdCBkeW5hbWljT3B0aW9uXzEgPSByZXF1aXJlKFwiLi9keW5hbWljT3B0aW9uXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuLi9kYXRhU3RydWN0dXJlcy9jb2xsZWN0aW9uL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG5jb25zdCBjc3NfMSA9IHJlcXVpcmUoXCIuLi9zdHlsZUhlbHBlcnMvY3NzXCIpO1xuY29uc3QgdHJhbnNpdGlvbl8xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy90cmFuc2l0aW9uXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIER5bmFtaWNTZWxlY3RcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhIHNlbGVjdCBlbGVtZW50IHRoYXQgY2FuIGxvYWQgZHluYW1pYyBvcHRpb25zXG4gKiAvLyBUT0RPOiBzdXBwb3J0IG1vcmUgdGhhbiBqdXN0IGFuIElEIGJlaW5nIHJldHJpZXZlZFxuICogLy8gVE9ETzogZml4IGRyYXdlciBidWdzIChrZXlib2FyZCBpbnB1dCwgZmxpY2tlcilcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjFcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgRHluYW1pY1NlbGVjdCBleHRlbmRzIGRyYXdhYmxlXzEuRHJhd2FibGUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ09OU1RSVUNUT1JcbiAgICAvKipcbiAgICAgKiBEeW5hbWljU2VsZWN0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSB0aGUgRHluYW1pYyBTZWxlY3QgZWxlbWVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvLyBpbml0aWFsaXplIG91ciBjb2xsZWN0aW9uXG4gICAgICAgIHRoaXMuX2F2YWlsYWJsZU9wdGlvbnMgPSBuZXcgY29sbGVjdGlvbl8xLkNvbGxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5fYXZhaWxhYmxlT3B0aW9ucy5hZGRUeXBlID0gX2ludGVyZmFjZXNfMS5Db2xsZWN0aW9uVHlwZUVudW0uUmVwbGFjZUR1cGxpY2F0ZUtleXM7XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHsgcmV0dXJuIHRoaXMuX3ZhbHVlOyB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDUkVBVEUgRUxFTUVOVFNcbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR2VuZXJhdGUgdGhlIGVsZW1lbnRzIG5lZWRlZCBieSB0aGUgZHluYW1pYyBzZWxlY3QgZmllbGRcbiAgICAgKi9cbiAgICBfY3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zID0ge307XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwiZHluYW1pY1NlbGVjdFwiXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dCA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIHR5cGU6IFwiaW5wdXRcIixcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuYmFzZSxcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzOiB7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IChlKSA9PiB7IHRoaXMuX29uUXVlcnlUZXh0Q2hhbmdlKGUpOyB9LFxuICAgICAgICAgICAgICAgIGtleWRvd246IChlKSA9PiB7IHRoaXMuX29uS2V5RXZlbnQoZSk7IH0sXG4gICAgICAgICAgICAgICAgYmx1cjogKGUpID0+IHsgdGhpcy5fb25CbHVyKGUpOyB9LFxuICAgICAgICAgICAgICAgIGZvY3VzOiAoZSkgPT4geyB0aGlzLl9vbkZvY3VzKGUpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5jbGVhckJ0biA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJjbGVhckJ0blwiLFxuICAgICAgICAgICAgY29udGVudDogXCJ4XCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLmJhc2UsXG4gICAgICAgICAgICBldmVudExpc3RlbmVyczoge1xuICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7IHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlID0gXCJcIjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZWxlbXMuZHJhd2VyID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImRyYXdlciBjb2xsYXBzZWRcIixcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuYmFzZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5uZXJPcHRpb25zID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImlubmVyT3B0aW9uc1wiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5kcmF3ZXJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmxvYWRpbmdJY29uID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoeyBjbHM6IFwiaGlkZGVuIGxvYWRpbmdcIiwgcGFyZW50OiB0aGlzLl9lbGVtcy5kcmF3ZXIgfSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gRFJBV0VSIEZVTkNUSU9OU1xuICAgIC8qKlxuICAgICAqIF9leHBhbmREcmF3ZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRXhwYW5kIHRoZSBkcmF3ZXIgb2Ygb3B0aW9uc1xuICAgICAqL1xuICAgIF9leHBhbmREcmF3ZXIoKSB7XG4gICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKHRoaXMuX2VsZW1zLmRyYXdlciwgXCJjb2xsYXBzZWRcIik7XG4gICAgICAgIHRyYW5zaXRpb25fMS50cmFuc2l0aW9uKHRoaXMuX2VsZW1zLmRyYXdlciwgeyBoZWlnaHQ6IFwiMFwiLCBvcGFjaXR5OiBcIjBcIiB9LCB7IGhlaWdodDogXCI8aGVpZ2h0PlwiLCBvcGFjaXR5OiBcIjFcIiB9LCAzMDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY29sbGFwc2VEcmF3ZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ29sbGFwc2UgdGhlIGRyYXdlciBvZiBvcHRpb25zXG4gICAgICovXG4gICAgX2NvbGxhcHNlRHJhd2VyKCkge1xuICAgICAgICB0cmFuc2l0aW9uXzEudHJhbnNpdGlvbih0aGlzLl9lbGVtcy5kcmF3ZXIsIHsgaGVpZ2h0OiBcIjxoZWlnaHQ+XCIsIG9wYWNpdHk6IFwiMVwiIH0sIHsgaGVpZ2h0OiBcIjBcIiwgb3BhY2l0eTogXCIwXCIgfSwgMzAwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmRyYXdlciwgXCJjb2xsYXBzZWRcIik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb24gICBcbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEFVR01FTlQgT1BUSU9OU1xuICAgIC8qKlxuICAgICAqIGFkZE9wdGlvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGRzIGFuIG9wdGlvbiB0byBvdXIgc2VsZWN0IGZpZWxkXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICBvcHQgICAgIFRoZSBvcHRpb24gdG8gYWRkXG4gICAgICovXG4gICAgYWRkT3B0aW9uKG9wdCkge1xuICAgICAgICBsZXQgb3B0aW9uID0gbmV3IGR5bmFtaWNPcHRpb25fMS5EeW5hbWljT3B0aW9uKG9wdCwgdGhpcyk7XG4gICAgICAgIGlmICh0aGlzLl9hdmFpbGFibGVPcHRpb25zLmFkZChvcHRpb24uaWQsIG9wdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgO1xuICAgICAgICB0aGlzLl91cGRhdGVGaWx0ZXJpbmcodGhpcy5fZWxlbXMuaW5wdXQudmFsdWUpO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbm5lck9wdGlvbnMuYXBwZW5kQ2hpbGQob3B0aW9uLmJhc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBhZGRPcHRpb25zXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFkZCBhIHNldCBvZiBvcHRpb25zIHRvIHRoZSBzZWxlY3QgZWxlbWVudFxuICAgICAqIEBwYXJhbSAgIG9wdHMgICAgVGhlIG9wdGlvbnMgdG8gYWRkXG4gICAgICovXG4gICAgYWRkT3B0aW9ucyhvcHRzKSB7XG4gICAgICAgIGxldCBvcHQ7XG4gICAgICAgIGZvciAob3B0IG9mIG9wdHMpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkT3B0aW9uKG9wdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBFVkVOVCBMSVNURU5FUlNcbiAgICAvKipcbiAgICAgKiBhZGRFdmVudExpc3RlbmVyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFsbG93IGFkZGl0aW9uYWwgbGlzdGVuZXJzIG9uIHRoaXMgc2VsZWN0IGZpZWxkXG4gICAgICovXG4gICAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fc2VsZWN0TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdExpc3RlbmVycyA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RMaXN0ZW5lcnMucHVzaChmdW5jKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzZWFyY2hcIjpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3NlYXJjaExpc3RlbmVycykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWFyY2hMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VhcmNoTGlzdGVuZXJzLnB1c2goZnVuYyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY2hhbmdlXCI6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jaGFuZ2VMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlTGlzdGVuZXJzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBzdXBlci5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9ub3RpZnlDaGFuZ2VMaXN0ZW5lcnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogTm90aWZ5IGFueSBsaXN0ZW5lcnMgdGhhdCBzb21lIGNvbnRlbnQgY2hhbmdlZFxuICAgICAqL1xuICAgIF9ub3RpZnlDaGFuZ2VMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGxldCBsaXN0ZW5lcjtcbiAgICAgICAgaWYgKCF0aGlzLl9jaGFuZ2VMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxpc3RlbmVyIG9mIHRoaXMuX2NoYW5nZUxpc3RlbmVycykge1xuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGlzdGVuZXIodGhpcy5fZWxlbXMuaW5wdXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9ub3RpZnlTZWxlY3RMaXN0ZW5lcnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogTm90aWZ5IGFueSBsaXN0ZW5lcnMgdGhhdCB3ZSBoYXZlIHNlbGVjdGVkIGFuIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gICBzZWxlY3RlZE9wdGlvbiAgVGhlIG9wdGlvbiB0aGF0IHdhcyBzZWxlY3RlZFxuICAgICAqL1xuICAgIF9ub3RpZnlTZWxlY3RMaXN0ZW5lcnMoc2VsZWN0ZWRPcHRpb24pIHtcbiAgICAgICAgbGV0IGxpc3RlbmVyO1xuICAgICAgICBpZiAoIXRoaXMuX3NlbGVjdExpc3RlbmVycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGlzdGVuZXIgb2YgdGhpcy5fc2VsZWN0TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBpZiAoIWxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0ZW5lcihzZWxlY3RlZE9wdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX25vdGlmeVNlYXJjaExpc3RlbmVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gc2VhcmNoXG4gICAgICovXG4gICAgX25vdGlmeVNlYXJjaExpc3RlbmVycyhzZWFyY2gpIHtcbiAgICAgICAgbGV0IGxpc3RlbmVyO1xuICAgICAgICBpZiAoIXRoaXMuX3NlYXJjaExpc3RlbmVycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGlzdGVuZXIgb2YgdGhpcy5fc2VhcmNoTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBpZiAoIWxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0ZW5lcihzZWFyY2gpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkNoYW5nZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgd2hlbiB0aGUgdGV4dCBmaWVsZCBjaGFuZ2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICBlICAgQ2hhbmdlIGV2ZW50XG4gICAgICovXG4gICAgX29uUXVlcnlUZXh0Q2hhbmdlKGUpIHtcbiAgICAgICAgbGV0IGN1clRleHQgPSB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZTtcbiAgICAgICAgLy8gdXBkYXRlIHdoaWNoIG9wdGlvbnMgYXJlIGZpbHRlcmVkXG4gICAgICAgIHRoaXMuX3VwZGF0ZUZpbHRlcmluZyhjdXJUZXh0KTtcbiAgICAgICAgLy8gbGV0IGxpc3RlbmVycyBrbm93IHRoYXQgd2UgaGF2ZSB1cGRhdGVzXG4gICAgICAgIHRoaXMuX25vdGlmeUNoYW5nZUxpc3RlbmVycygpO1xuICAgICAgICAvLyBydW4gYSBuZXcgcXVlcnkgaWYgd2UgY2FuXG4gICAgICAgIHRoaXMuX3F1ZXJ5KGN1clRleHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25LZXlVcFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDaGVjayBpZiB3ZSBuZWVkIHRvIGhhbmRsZSBhbiBlbnRlciBwcmVzcyBpbiB0aGUgdGV4dCBmaWVsZFxuICAgICAqXG4gICAgICogQHBhcmFtICAgZSAgIFRoZSBrZXlib2FyZCBldmVudCBmaXJlZFxuICAgICAqL1xuICAgIF9vbktleUV2ZW50KGUpIHtcbiAgICAgICAgbGV0IGZvdW5kTmV4dCA9IGZhbHNlO1xuICAgICAgICBsZXQgcGFpcjtcbiAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgICAgIC8vIGVudGVyXG4gICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgIHBhaXIgPSB0aGlzLl9hdmFpbGFibGVPcHRpb25zLmdldEN1cnJlbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAocGFpcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdChwYWlyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoKHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyB1cCBhcnJvd1xuICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICBwYWlyID0gdGhpcy5fYXZhaWxhYmxlT3B0aW9ucy5nZXRDdXJyZW50KCk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGZvdW5kTmV4dCA9PT0gZmFsc2UgJiYgdGhpcy5fYXZhaWxhYmxlT3B0aW9ucy5oYXNOZXh0KHRydWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvcHQgPSB0aGlzLl9hdmFpbGFibGVPcHRpb25zLmdldE5leHQodHJ1ZSkudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kTmV4dCA9IG9wdC5oaWxpdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kTmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFpcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFpci52YWx1ZS51bmhpbGl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gZG93biBhcnJvd1xuICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICBwYWlyID0gdGhpcy5fYXZhaWxhYmxlT3B0aW9ucy5nZXRDdXJyZW50KCk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGZvdW5kTmV4dCA9PT0gZmFsc2UgJiYgdGhpcy5fYXZhaWxhYmxlT3B0aW9ucy5oYXNOZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9wdCA9IHRoaXMuX2F2YWlsYWJsZU9wdGlvbnMuZ2V0TmV4dCgpLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBmb3VuZE5leHQgPSBvcHQuaGlsaXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmb3VuZE5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhaXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhaXIudmFsdWUudW5oaWxpdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25CbHVyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhhbmRsZSB3aGVuIGZvY3VzIGlzIGxvc3Qgb24gdGhlIHNlYXJjaCBlbGVtZW50XG4gICAgICogQHBhcmFtICAgZXZlbnQgICBUaGUgZm9jdXMgZXZlbnRcbiAgICAgKi9cbiAgICBfb25CbHVyKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2NvbGxhcHNlRHJhd2VyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkZvY3VzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhhbmRsZSB3aGVuIGZvY3VzIGlzIGdpdmVuIHRvIHRoZSBzZWFyY2ggZWxlbWVudFxuICAgICAqIEBwYXJhbSAgIGV2ZW50ICAgVGhlIGZvY3VzIGV2ZW50XG4gICAgICovXG4gICAgX29uRm9jdXMoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5fZXhwYW5kRHJhd2VyKCk7XG4gICAgICAgIHRoaXMuX2F2YWlsYWJsZU9wdGlvbnMucmVzZXRMb29wKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNlbGVjdFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgc2VsZWN0aW5nIGFuIGVsZW1lbnQgaW4gdGhlIHNlYXJjaCBmaWVsZFxuICAgICAqIEBwYXJhbSAgIHNlbGVjdGVkT3B0aW9uICBUaGUgb3B0aW9uIHRoYXQgd2FzIHNlbGVjdGVkXG4gICAgICovXG4gICAgc2VsZWN0KHNlbGVjdGVkT3B0aW9uKSB7XG4gICAgICAgIHRoaXMuX2NvbGxhcHNlRHJhd2VyKCk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlID0gc2VsZWN0ZWRPcHRpb24uZGlzcGxheTtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBzZWxlY3RlZE9wdGlvbi5pZDtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQuYmx1cigpO1xuICAgICAgICB0aGlzLl9ub3RpZnlTZWxlY3RMaXN0ZW5lcnMoc2VsZWN0ZWRPcHRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzZWFyY2hcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlIHNlYXJjaGluZyBmb3IgYSBzdHJpbmcgdGhhdCB3YXNuJ3QgYW4gb3B0aW9uIGluXG4gICAgICogb3VyIHNlYXJjaCByZXN1bHRzXG4gICAgICovXG4gICAgc2VhcmNoKHNlYXJjaFN0cikge1xuICAgICAgICB0aGlzLl9jb2xsYXBzZURyYXdlcigpO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZSA9IHNlYXJjaFN0cjtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQuYmx1cigpO1xuICAgICAgICB0aGlzLl9ub3RpZnlTZWFyY2hMaXN0ZW5lcnMoc2VhcmNoU3RyKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBIQU5ETEUgRklMVEVSSU5HXG4gICAgLyoqXG4gICAgICogX3VwZGF0ZUZpbHRlcmluZ1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBtYWtlIHN1cmUgb3VyIGZpbHRlcmVkIHRleHQgcmVmbGVjdHMgdGhlIG1vc3QgdXAtdG8tZGF0ZSB2YWx1ZSBpbiB0aGVcbiAgICAgKiB0ZXh0IGZpZWxkXG4gICAgICovXG4gICAgX3VwZGF0ZUZpbHRlcmluZyhjdXJUZXh0KSB7XG4gICAgICAgIC8vIHNwbGl0IHRoZSB0ZXh0IGJ5IHNwYWNlIGZvciBzbWFydGVyIGZpbHRlcmluZ1xuICAgICAgICBsZXQgd29yZHMgPSBjdXJUZXh0LnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIgXCIpO1xuICAgICAgICB0aGlzLl9hdmFpbGFibGVPcHRpb25zLm1hcCgoZWxlbSkgPT4ge1xuICAgICAgICAgICAgZWxlbS50cnlGaWx0ZXIod29yZHMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBRVUVSWSBIQU5ETElOR1xuICAgIC8qKlxuICAgICAqIF9xdWVyeVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgcXVlcnlpbmcgZm9yIGFkZGl0aW9uYWwgb3B0aW9ucyB0byBhZGRcbiAgICAgKiBAcGFyYW0gICBxdWVyeVRleHQgICBUaGUgdGV4dCB0byBzZWFyY2hcbiAgICAgKi9cbiAgICBfcXVlcnkocXVlcnlUZXh0KSB7XG4gICAgICAgIC8vIHF1aXQgaWYgd2UncmUgYWxyZWFkeSBydW5uaW5nIHRoaXMgcXVlcnlcbiAgICAgICAgaWYgKHF1ZXJ5VGV4dCA9PT0gdGhpcy5fY3VycmVudFF1ZXJ5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UncmUgaW4gdGhlIHByb2Nlc3Mgb2YgcXVlcnlpbmcsIGp1c3QgcXVldWUgdXAgYSBuZXcgcXVlcnkgZm9yIG5leHQgdGltZVxuICAgICAgICBpZiAodGhpcy5faXNRdWVyeWluZykge1xuICAgICAgICAgICAgdGhpcy5fbmV4dFF1ZXJ5ID0gcXVlcnlUZXh0O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgbm90aGluZyB0byBxdWVyeSwgcXVpdFxuICAgICAgICBpZiAoIXF1ZXJ5VGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2N1cnJlbnRRdWVyeSA9IHF1ZXJ5VGV4dDtcbiAgICAgICAgdGhpcy5faXNRdWVyeWluZyA9IHRydWU7XG4gICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKHRoaXMuX2VsZW1zLmxvYWRpbmdJY29uLCBcImhpZGRlblwiKTtcbiAgICAgICAgdGhpcy5fb25RdWVyeShxdWVyeVRleHQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFF1ZXJ5ID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuX2lzUXVlcnlpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmxvYWRpbmdJY29uLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBuZXh0IHF1ZXJ5IGlmIGFwcHJvcHJpYXRlXG4gICAgICAgICAgICBpZiAodGhpcy5fbmV4dFF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcXVlcnkodGhpcy5fbmV4dFF1ZXJ5KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9uZXh0UXVlcnkgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDTEVBUklOR1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUZpbHRlcmluZyhcIlwiKTtcbiAgICAgICAgdGhpcy5fbm90aWZ5Q2hhbmdlTGlzdGVuZXJzKCk7XG4gICAgfVxufVxuZXhwb3J0cy5EeW5hbWljU2VsZWN0ID0gRHluYW1pY1NlbGVjdDtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG4vKioga2VlcCB0cmFjayBvZiB0aGUgc3R5bGVzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHNlbGVjdCBmaWVsZCAqL1xuRHluYW1pY1NlbGVjdC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiQGtleWZyYW1lcyByb3RhdGVcIjoge1xuICAgICAgICBcImZyb21cIjogeyB0cmFuc2Zvcm06IFwicm90YXRlKDBkZWcpXCIgfSxcbiAgICAgICAgXCJ0b1wiOiB7IHRyYW5zZm9ybTogXCJyb3RhdGUoMzYwZGVnKVwiIH1cbiAgICB9LFxuICAgIFwiLmR5bmFtaWNTZWxlY3RcIjoge1xuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICBmb250RmFtaWx5OiBcIlNlZ29lIFVJLCBPcGVuIFNhbnMsIEhlbHZldGljYVwiLFxuICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgIFwiaW5wdXRcIjoge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMmVtXCIsXG4gICAgICAgICAgICAgICAgekluZGV4OiBcIjNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLmNsZWFyQnRuXCI6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjNTU1XCIsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgZWFzZS1pbi1vdXQgLjFzXCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICBsZWZ0OiBcImNhbGMoMTAwJSAtIDI1cHgpXCIsXG4gICAgICAgICAgICAgICAgdG9wOiBcIjBcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIyMHB4XCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjIwcHhcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIyMHB4XCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IFwiNTAlIDEwMCVcIixcbiAgICAgICAgICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgXCImOmhvdmVyXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogXCJzY2FsZSgxLjEpXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIi5kcmF3ZXJcIjoge1xuICAgICAgICAgICAgICAgIGJveFNoYWRvdzogXCIxcHggMXB4IDVweCAycHggcmdiYSgwLDAsMCwuMilcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCI8MD5cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI0ZGRlwiLFxuICAgICAgICAgICAgICAgIG1pbldpZHRoOiBcIjIwMHB4XCIsXG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjMwMHB4XCIsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgIGxlZnQ6IFwiMFwiLFxuICAgICAgICAgICAgICAgIHRvcDogXCIzZW1cIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiLFxuICAgICAgICAgICAgICAgIHpJbmRleDogXCIyXCIsXG4gICAgICAgICAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiLmxvYWRpbmdcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIycHggdHJhbnNwYXJlbnQgc29saWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclRvcDogXCIycHggIzMzMyBzb2xpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBcInJvdGF0ZSAxcyBsaW5lYXIgaW5maW5pdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjIwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIyMHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IFwiaGVpZ2h0IGVhc2UtaW4tb3V0IC4xc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCI1cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiJi5oaWRkZW5cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCImLmNvbGxhcHNlZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBcIjBcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL190eXBlZ3VhcmRzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2VkaXRhYmxlXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX3R5cGVndWFyZHNfMSA9IHJlcXVpcmUoXCIuLi9uYW1lZENsYXNzL190eXBlZ3VhcmRzXCIpO1xuLyoqIGNoZWNrIGlmIHRoZSBlbGVtZW50IGltcGxlbWVudHMgdGhlIEVkaXRhYmxlIGNsYXNzICovXG5mdW5jdGlvbiBpc0VkaXRhYmxlKHRlc3QpIHtcbiAgICByZXR1cm4gX3R5cGVndWFyZHNfMS5pc05hbWVkQ2xhc3ModGVzdCwgXCJFZGl0YWJsZVwiKTtcbn1cbmV4cG9ydHMuaXNFZGl0YWJsZSA9IGlzRWRpdGFibGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRyYXdhYmxlXzEgPSByZXF1aXJlKFwiLi4vZHJhd2FibGUvZHJhd2FibGVcIik7XG5jb25zdCBjc3NfMSA9IHJlcXVpcmUoXCIuLi9zdHlsZUhlbHBlcnMvY3NzXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG5jb25zdCBnZW5lcmFsSGVscGVyc18xID0gcmVxdWlyZShcIi4uL2h0bWxIZWxwZXJzL2dlbmVyYWxIZWxwZXJzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdEVkaXRhYmxlPFQ+XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERyYXdhYmxlIGVsZW1lbnQgdGhhdCBhbHNvIGFsbG93cyBmb3IgZWRpdGluZyBpbmxpbmVcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb25cdDEuMy4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgRWRpdGFibGUgZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIElOSVRJQUxJWkUgT1VSIEVESVRBQkxFXG4gICAgLyoqXG4gICAgICogRWRpdGFibGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlcyBhbiBFZGl0YWJsZSBvYmplY3RcbiAgICAgKiBAcGFyYW1cdG9wdGlvbnNcdFx0QW55IG9wdGlvbnMgbmVlZGVkIHRvIGNvbmZpZ3VyZSB0aGUgZWRpdGFibGVcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBvcHRpb25zIGlmIHRoZXkgd2VyZW4ndCBwYXNzZWQgaW5cbiAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5jbHMgPSAob3B0aW9ucy5jbHMgfHwgXCJcIikgKyBcIiBlZGl0YWJsZVwiO1xuICAgICAgICBpZiAob3B0aW9ucy5pc011bHRpbGluZSkge1xuICAgICAgICAgICAgb3B0aW9ucy5jbHMgKz0gXCIgbXVsdGlsaW5lXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FsbCB0aGUgRHJhd2FibGUgY29uc3RydWN0b3JcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2FkZENsYXNzTmFtZShcIkVkaXRhYmxlXCIpO1xuICAgICAgICAvLyBTdG9yZSBvdXIgcHJvcGVydGllc1xuICAgICAgICB0aGlzLnR5cGUgPSBvcHRpb25zLmlucHV0VHlwZTtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBvcHRpb25zLnZhbHVlO1xuICAgICAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBvcHRpb25zLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgdGhpcy5faXNNdWx0aWxpbmUgPSBvcHRpb25zLmlzTXVsdGlsaW5lO1xuICAgICAgICAvLyBhZGQgdGhlIHZhbGlkYXRpb24gKyBmb3JtYXR0aW5nIGhhbmRsZXJzXG4gICAgICAgIHRoaXMuX2FkZEhhbmRsZXJzKG9wdGlvbnMpO1xuICAgICAgICAvLyBJbml0aWFsaXplIG91ciBtb2RpZnlpbmcgZmxhZ1xuICAgICAgICB0aGlzLl9pc01vZGlmeWluZyA9IGZhbHNlO1xuICAgICAgICAvLyBDcmVhdGUgdGhlIGVsZW1lbnRzLCBhbG9uZyB3aXRoIHRoZWlyIGxpc3RlbmVyc1xuICAgICAgICB0aGlzLl9jcmVhdGVFbGVtZW50cygpO1xuICAgICAgICB0aGlzLl9hZGRMaXN0ZW5lcnMoKTtcbiAgICAgICAgLy8gYWRkIHRoZSBCRyBjb2xvciBvZiBhbiBhY3RpdmUgZWRpdGFibGVcbiAgICAgICAgdGhpcy5zZXRUaGVtZUNvbG9yKFwiZWRpdGFibGVMaWdodEJHXCIsIG9wdGlvbnMubGlnaHRCZyB8fCBcInJnYmEoMCwwLDAsLjEpXCIpO1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7IHJldHVybiB0aGlzLl92YWx1ZTsgfVxuICAgIHNldCB2YWx1ZSh2YWwpIHtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWw7XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlID0gdGhpcy5mb3JtYXQodmFsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2FkZEhhbmRsZXJzXG4gICAgICpcbiAgICAgKiBBZGRzIGFsbCBoYW5kbGVycyBzcGVjaWZpZWQgYnkgdGhlIHVzZXJcbiAgICAgKiBAcGFyYW0gXHRvcHRpb25zXHRcdE9wdGlvbnMgc3BlY2lmaWVkIGJ5IHRoZSB1c2VyXG4gICAgICpcbiAgICAgKi9cbiAgICBfYWRkSGFuZGxlcnMob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9uVmFsaWRhdGUgPSBvcHRpb25zLm9uVmFsaWRhdGU7XG4gICAgICAgIHRoaXMub25VcGRhdGUgPSBvcHRpb25zLm9uVXBkYXRlO1xuICAgICAgICB0aGlzLmZvcm1hdCA9IG9wdGlvbnMub25Gb3JtYXQ7XG4gICAgICAgIHRoaXMucGFyc2VDb250ZW50ID0gb3B0aW9ucy5vblBhcnNlQ29udGVudDtcbiAgICAgICAgdGhpcy5fYWRkRGVmYXVsdEZvcm1hdEhhbmRsZXJzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9hZGREZWZhdWx0Rm9ybWF0SGFuZGxlcnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGRzIGRlZmF1bHQgaGFuZGxlcnMgZm9yIGRlYWxpbmcgd2l0aCBmb3JtYXR0aW5nIG9mIHRoZSBFZGl0YWJsZVxuICAgICAqL1xuICAgIF9hZGREZWZhdWx0Rm9ybWF0SGFuZGxlcnMoKSB7XG4gICAgICAgIGlmICghdGhpcy5mb3JtYXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZERlZmF1bHRGb3JtYXRIYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnBhcnNlQ29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5fYWRkRGVmYXVsdFBhcnNlSGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9hZGREZWZhdWx0UGFyc2VIYW5kbGVyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlIHBhcnNpbmcgdGhyb3VnaCB0eXBlIG92ZXJyaWRlIGlmIHRoZSB1c2VyIGRpZG4ndCBzcGVjaWZ5IGFueXRoaW5nXG4gICAgICovXG4gICAgX2FkZERlZmF1bHRQYXJzZUhhbmRsZXIoKSB7XG4gICAgICAgIHRoaXMucGFyc2VDb250ZW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9hZGREZWZhdWx0Rm9ybWF0SGFuZGxlclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhhbmRsZSBmb3JtYXR0aW5nIHRocm91Z2ggdG9TdHJpbmcgaWYgdGhlIHVzZXIgZGlkbid0IHNwZWNpZnkgYW55dGhpbmdcbiAgICAgKi9cbiAgICBfYWRkRGVmYXVsdEZvcm1hdEhhbmRsZXIoKSB7XG4gICAgICAgIHRoaXMuZm9ybWF0ID0gZnVuY3Rpb24gKHZhbHVlLCBmb3JFZGl0KSB7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJldCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgaWYgKCFmb3JFZGl0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldCA9IHRoaXMuX2RlZmF1bHRWYWx1ZSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zaG91bGRTa2lwQ3JlYXRlRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBJZiB0cnVlLCBkb2Vzbid0IHJ1biB0aGUgZWxlbWVudCBjcmVhdGlvbiB1bnRpbCBtYW51YWxseSBjYWxsZWRcbiAgICAgKiBAcmV0dXJuc1x0VHJ1ZVxuICAgICAqL1xuICAgIF9zaG91bGRTa2lwQ3JlYXRlRWxlbWVudHMoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDUkVBVEUgRUxFTUVOVFMgJiBMSVNURU5FUlNcbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgZWxlbWVudHMgZm9yIHRoZSBlZGl0YWJsZVxuICAgICAqL1xuICAgIF9jcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgbGV0IGJhc2UgPSB0aGlzLl9lbGVtcy5iYXNlO1xuICAgICAgICB0aGlzLl9lbGVtcy5kaXNwbGF5ID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImRpc3BsYXkgdW5zZWxlY3RhYmxlXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLmJhc2UsXG4gICAgICAgICAgICBmb2N1c2FibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0ID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgdHlwZTogXCJpbnB1dFwiLFxuICAgICAgICAgICAgY2xzOiBcImlucHV0IGhpZGRlblwiLFxuICAgICAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgICAgIGF0dHI6IHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogdGhpcy50eXBlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuYmFzZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcmVuZGVyRGlzcGxheVZpZXcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2FkZExpc3RlbmVyc1xuICAgICAqXG4gICAgICogQWRkIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgZWRpdGFibGVcbiAgICAgKlxuICAgICAqL1xuICAgIF9hZGRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIC8vIENsaWNrIGV2ZW50IG9uIG91ciBiYXNlIGVsZW1lbnRcbiAgICAgICAgdGhpcy5fZWxlbXMuZGlzcGxheS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHsgdGhpcy5faGFuZGxlRm9jdXNFdmVudChlKTsgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmRpc3BsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIChlKSA9PiB7IHRoaXMuX2hhbmRsZUZvY3VzRXZlbnQoZSk7IH0pO1xuICAgICAgICAvLyBFbnRlciBrZXkgcmVjb2duaXRpb24gb24gb3VyIGlucHV0IGVsZW1lbnRcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsIChldikgPT4ge1xuICAgICAgICAgICAgaWYgKGV2LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzTW9kaWZ5aW5nICYmICFldi5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IHByb2Nlc3MgZW50ZXIga2V5IGV4Y2VwdCBmb3IgbXVsdGkgbGluZSBlbGVtZW50cyB3aXRoIHNoaWZ0IGtleVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghdGhpcy5faXNNdWx0aWxpbmUgfHwgIWV2LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEJsdXIgcmVjb2duaXRpb24gb24gb3VyIGlucHV0IGVsZW1lbnRcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzTW9kaWZ5aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2F2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2hhbmRsZUZvY3VzRXZlbnQoZSkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzTW9kaWZ5aW5nKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGlmeSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEFORExFIENIQU5HRVMgVE8gVEhFIEVMRU1FTlRcbiAgICAvKipcbiAgICAgKiBfc2F2ZVxuICAgICAqXG4gICAgICogU2F2ZSB0aGUgY29udGVudHMgb2YgdGhlIEVkaXRhYmxlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBlZGl0YWJsZSB3YXMgc3VjY2Vzc2Z1bGx5IHNhdmVkXG4gICAgICpcbiAgICAgKi9cbiAgICBfc2F2ZSgpIHtcbiAgICAgICAgbGV0IHZhbGlkYXRlZDtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZTtcbiAgICAgICAgdmFsaWRhdGVkID0gdGhpcy5fdmFsaWRhdGUoY29udGVudCk7XG4gICAgICAgIC8vIFVwZGF0ZSBVSSAvIHNhdmVkIGRhdGEgYmFzZWQgb24gd2hldGhlciB2YWxpZGF0aW9uIHBhc3NlZFxuICAgICAgICBpZiAoIXZhbGlkYXRlZC5wYXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vblZhbGlkYXRpb25GYWlsZWQodmFsaWRhdGVkLmFsbG93TGVhdmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uVmFsaWRhdGlvblBhc3NlZChjb250ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFZBTElEQVRFIFVTRVIgSU5QVVQgSU4gVEhFIEVMRU1FTlRcbiAgICAvKipcbiAgICAgKiBfdmFsaWRhdGVcbiAgICAgKlxuICAgICAqIHZhbGlkYXRlIHdoZXRoZXIgdGhlIGN1cnJlbnQgZGF0YSBpbiB0aGUgaW5wdXQgZmllbGQgaXMgdmFsaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0Y29udGVudFx0XHRDb250ZW50IHRvIHZhbGlkYXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0UmVzdWx0IG9mIHRoZSB2YWxpZGF0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBfdmFsaWRhdGUoY29udGVudCkge1xuICAgICAgICBsZXQgdmFsaWRhdGVkO1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgZWRpdGFibGUgY291bGQgYmUgdmFsaWRhdGVkXG4gICAgICAgIGlmICh0aGlzLm9uVmFsaWRhdGUpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlZCA9IHRoaXMub25WYWxpZGF0ZShjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbGlkYXRlZCA9IHsgcGFzc2VkOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uVmFsaWRhdGlvbkZhaWxlZFxuICAgICAqXG4gICAgICogdmFsaWRhdGlvbiBmYWlsaW5nIGZvciB0aGlzIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0YWxsb3dMZWF2ZVx0VHJ1ZSBpZiB0aGUgdXNlciBzaG91bGQgYmUgYWJsZSB0byBuYXZpZ2F0ZSBhd2F5XG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0RmFsc2VcbiAgICAgKlxuICAgICAqL1xuICAgIF9vblZhbGlkYXRpb25GYWlsZWQoYWxsb3dMZWF2ZSkge1xuICAgICAgICAvLyBBZGQgdGhlIGVycm9yIGNsYXNzXG4gICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmlucHV0LCBcImVycm9yXCIpO1xuICAgICAgICAvLyBJZiB3ZSB3b24ndCBhbGxvdyB0aGUgdXNlciB0byBsZWF2ZSwgZG9uJ3RcbiAgICAgICAgaWYgKCFhbGxvd0xlYXZlKSB7XG4gICAgICAgICAgICBnZW5lcmFsSGVscGVyc18xLnNlbGVjdCh0aGlzLl9lbGVtcy5pbnB1dCk7XG4gICAgICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uVmFsaWRhdGlvblBhc3NlZFxuICAgICAqXG4gICAgICogaGFuZGxlIHZhbGlkYXRpb24gcGFzc2luZyBmb3IgdGhpcyBlbGVtZW50XG4gICAgICogQHBhcmFtXHRjb250ZW50XHRcdENvbnRlbnQgdG8gc2V0IGZvciB0aGUgZWRpdGFibGVcbiAgICAgKiBAcmV0dXJuc1x0VHJ1ZVxuICAgICAqXG4gICAgICovXG4gICAgX29uVmFsaWRhdGlvblBhc3NlZChjb250ZW50KSB7XG4gICAgICAgIC8vIFJlbW92ZSBhbnkgZXJyb3IgaGlsaXRpbmcgaWYgd2UgZGlkIGl0XG4gICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKHRoaXMuX2VsZW1zLmlucHV0LCBcImVycm9yXCIpO1xuICAgICAgICAvLyBSZXNhdmUgb3VyIHZhbHVlIHRocm91Z2ggb3VyIHVuZm9ybWF0IGZ1bmN0aW9uXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5wYXJzZUNvbnRlbnQoY29udGVudCk7XG4gICAgICAgIC8vIENhbGwgb3VyIHVwZGF0ZSBmdW5jdGlvbiBpbiBvcmRlciB0byBub3RpZnkgb3VyIHBhcmVudFxuICAgICAgICBpZiAodGhpcy5vblVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZSh0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzd2FwIHRoZSBVSSBiYWNrIHRvIHRoZSBkaXNwbGF5IHZlcnNpb25cbiAgICAgICAgdGhpcy5faGlkZUVsZW1lbnQodGhpcy5fZWxlbXMuaW5wdXQpO1xuICAgICAgICB0aGlzLl9zaG93RWxlbWVudCh0aGlzLl9lbGVtcy5kaXNwbGF5KTtcbiAgICAgICAgLy8gcmVtb3ZlIG91ciBtb2RpZnlpbmcgZmxhZ1xuICAgICAgICB0aGlzLl9pc01vZGlmeWluZyA9IGZhbHNlO1xuICAgICAgICAvLyB1cGRhdGUgY29udGVudCBvZiB0aGUgZGlzcGxheSBlbGVtZW50XG4gICAgICAgIHRoaXMuX3JlbmRlckRpc3BsYXlWaWV3KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEVOQUJMRSBUSEUgRUxFTUVOVCBGT1IgRURJVElOR1xuICAgIC8qKlxuICAgICAqIG1vZGlmeVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBNb2RpZmllcyB0aGUgRWRpdGFibGUgZWxlbWVudFxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgd2Ugd2VyZSBhYmxlIHRvIHN0YXJ0IG1vZGlmeWluZyB0aGUgZWxlbWVudFxuICAgICAqL1xuICAgIG1vZGlmeSgpIHtcbiAgICAgICAgLy8gRG9uJ3Qgc3RhcnQgbW9kaWZ5aW5nIGFnYWluIGlmIHdlIGFyZSBhbHJlYWR5IG1vZGlmeWluZ1xuICAgICAgICBpZiAodGhpcy5faXNNb2RpZnlpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgb3VyIHByb3BlcnR5IHRvIHRydWVcbiAgICAgICAgdGhpcy5faXNNb2RpZnlpbmcgPSB0cnVlO1xuICAgICAgICAvLyBHcmFiIHRoZSBhcHByb3ByaWF0ZWx5IGZvcm1hdHRlZCBzdHJpbmcgZm9yIHRoaXMgZWxlbWVudFxuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZSA9IHRoaXMuZm9ybWF0KHRoaXMudmFsdWUsIHRydWUpO1xuICAgICAgICAvLyBnZXQgdGhlIGFwcHJvcHJpYXRlIHNpemUgZm9yIHRoZSBlbGVtZW50XG4gICAgICAgIGxldCBzaXplID0gdGhpcy5fZWxlbXMuZGlzcGxheS5vZmZzZXRXaWR0aDtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQuc3R5bGUud2lkdGggPSAoc2l6ZSAtIDYpICsgXCJweFwiO1xuICAgICAgICAvLyBVcGRhdGUgdGhlIEhUTUwgdG8gaGF2ZSBhbiBlZGl0YWJsZSBmaWVsZFxuICAgICAgICB0aGlzLl9oaWRlRWxlbWVudCh0aGlzLl9lbGVtcy5kaXNwbGF5KTtcbiAgICAgICAgdGhpcy5fc2hvd0VsZW1lbnQodGhpcy5fZWxlbXMuaW5wdXQpO1xuICAgICAgICAvLyBTZWxlY3Qgb3VyIGlucHV0XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IGdlbmVyYWxIZWxwZXJzXzEuc2VsZWN0KHRoaXMuX2VsZW1zLmlucHV0KSwgMTAwKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgZm9jdXMoKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUZvY3VzRXZlbnQoKTtcbiAgICB9XG4gICAgX2hpZGVFbGVtZW50KGVsZW0pIHtcbiAgICAgICAgY3NzXzEuYWRkQ2xhc3MoZWxlbSwgXCJoaWRkZW5cIik7XG4gICAgfVxuICAgIF9zaG93RWxlbWVudChlbGVtKSB7XG4gICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKGVsZW0sIFwiaGlkZGVuXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVuZGVyRGlzcGxheVZpZXdcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogT3ZlcnJpZGFibGUgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIHRoZSBkaXNwbGF5LXZlcnNpb24gb2YgdGhlIGVkaXRhYmxlXG4gICAgICovXG4gICAgX3JlbmRlckRpc3BsYXlWaWV3KCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5kaXNwbGF5LmlubmVySFRNTCA9IHRoaXMuZm9ybWF0KHRoaXMuX3ZhbHVlKTtcbiAgICB9XG59XG5leHBvcnRzLkVkaXRhYmxlID0gRWRpdGFibGU7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuLyoqIHN0eWxlcyB0byB1c2UgZm9yIHN0YW5kYXJkIEVkaXRhYmxlcyAqL1xuRWRpdGFibGUuX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi51bnNlbGVjdGFibGVcIjoge1xuICAgICAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgTW96VXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgIFdlYmtpdFVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICBraHRtbFVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICBvVXNlclNlbGVjdDogXCJub25lXCJcbiAgICB9LFxuICAgIFwiLmVkaXRhYmxlXCI6IHtcbiAgICAgICAgZm9udEZhbWlseTogXCJPcGVuIFNhbnMsIFNlZ29lIFVJLCBIZWx2ZXRpY2FcIixcbiAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgXCJpbnB1dFwiOiB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJPcGVuIFNhbnMsIFNlZ29lIFVJLCBIZWx2ZXRpY2FcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiPGVkaXRhYmxlTGlnaHRCRz5cIixcbiAgICAgICAgICAgICAgICBib3JkZXI6IFwiMnB4IHNvbGlkICNBQUFcIixcbiAgICAgICAgICAgICAgICBtaW5XaWR0aDogXCIxNTBweFwiLFxuICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6IFwibm93cmFwXCIsXG4gICAgICAgICAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiJjpmb2N1c1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMnB4IGRvdHRlZCByZ2JhKDAsMCwwLC40KVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogXCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCImLmVycm9yXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBcIiNDMzBcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiJi5tdWx0aWxpbmUgLmlucHV0XCI6IHtcbiAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiBcImF1dG9cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLmRpc3BsYXlcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlcjogXCIycHggc29saWQgdHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgXCImOmhvdmVyXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCI8ZWRpdGFibGVMaWdodEJHPlwiLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLmhpZGRlblwiOiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG47XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9ldmVudFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9ldmVudERlZmluaXRpb25cIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZXZlbnRIYW5kbGVyXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2dvb2dsZUF1dGhcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vZ29vZ2xlTG9naW5WaWV3XCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZHJhd2FibGVfMSA9IHJlcXVpcmUoXCIuLi8uLi9kcmF3YWJsZS9kcmF3YWJsZVwiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi8uLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY29uc3QgZXJyb3JQb3B1cF8xID0gcmVxdWlyZShcIi4uLy4uL3BvcHVwcy9lcnJvclBvcHVwXCIpO1xuLy8jZW5kcmVnaW9uXG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBHb29nbGVWaWV3XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGUgYSByZXVzYWJsZSBsb2dpbiBidXR0b24gZm9yIHNpZ25pbmcgaW4gd2l0aCBnb29nbGUgYWNjb3VudHNcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgR29vZ2xlTG9naW5CdXR0b24gZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgYSBHb29nbGUgbG9naW4gYnV0dG9uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2xpZW50SWQsIGRvbWFpbikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9jbGllbnRJZCA9IGNsaWVudElkO1xuICAgICAgICB0aGlzLl9kb21haW4gPSBkb21haW47XG4gICAgICAgIHRoaXMuX2xvZ2luTGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuX2xvZ291dExpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLl9jcmVhdGVFbGVtZW50cygpO1xuICAgIH1cbiAgICBnZXQgaXNMb2dnZWRJbigpIHsgcmV0dXJuIHRoaXMuX2lzTG9nZ2VkSW47IH1cbiAgICBzZXQgaXNMb2dnZWRJbihkYXRhKSB7IHRoaXMuX2lzTG9nZ2VkSW4gPSBkYXRhOyB9XG4gICAgX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50cygpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgdGhlIGVsZW1lbnRzIG5lZWRlZCB0byBkaXNwbGF5IHRoZSBsb2dpbiBidXR0b25cbiAgICAgKi9cbiAgICBfY3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIGdhcGkubG9hZCgnYXV0aDInLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgYXV0aDIgPSBnYXBpLmF1dGgyLmluaXQoe1xuICAgICAgICAgICAgICAgIGNsaWVudF9pZDogdGhpcy5fY2xpZW50SWQsXG4gICAgICAgICAgICAgICAgaGQ6IHRoaXMuX2RvbWFpbiB8fCBcImdtYWlsLmNvbVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF1dGgyLmN1cnJlbnRVc2VyLmxpc3RlbigodXNlcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdXNlci5nZXRCYXNpY1Byb2ZpbGUoKSkge1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLl9vblNpZ25Jbih1c2VyKTsgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoeyBpZDogXCJlbGdvb2dcIiwgY2xzOiBcImctc2lnbmluMlwiIH0pO1xuICAgICAgICAvLyBhY3R1YWxseSBjcmVhdGUgdGhlIHN0eWxlZCBidXR0b25cbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZ2FwaS5zaWduaW4yLnJlbmRlcignZWxnb29nJywge1xuICAgICAgICAgICAgICAgICdzY29wZSc6ICdwcm9maWxlIGVtYWlsJyxcbiAgICAgICAgICAgICAgICAnbG9uZ3RpdGxlJzogZmFsc2UsXG4gICAgICAgICAgICAgICAgJ3RoZW1lJzogJ2xpZ2h0JyxcbiAgICAgICAgICAgICAgICAnb25zdWNjZXNzJzogKGRhdGEpID0+IHsgdGhpcy5fb25TaWduSW4oZGF0YSk7IH0sXG4gICAgICAgICAgICAgICAgJ29uZmFpbHVyZSc6ICgpID0+IHsgY29uc29sZS5sb2coXCJlcnJvciBvY2N1cnJlZFwiKTsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIDEwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uU2lnbkluXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhhbmRsZSB3aGVuIHdlJ3ZlIGF0dGVtcHRlZCB0byBsb2cgaW4gdGhyb3VnaCBnb29nbGUncyBhcGlcbiAgICAgKiBAcGFyYW0gZ29vZ2xlVXNlclxuICAgICAqL1xuICAgIF9vblNpZ25Jbihnb29nbGVVc2VyKSB7XG4gICAgICAgIC8vIHZlcmlmeSB0aGF0IHRoaXMgaXMgYSBuZXcgbG9naW5cbiAgICAgICAgbGV0IHByb2ZpbGUgPSBnb29nbGVVc2VyLmdldEJhc2ljUHJvZmlsZSgpO1xuICAgICAgICBpZiAodGhpcy5fZ29vZ2xlUHJvZmlsZSAmJiAocHJvZmlsZS5nZXRJZCgpID09PSB0aGlzLl9nb29nbGVQcm9maWxlLmdldElkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgaXQgaXMsIHVwZGF0ZSBvdXIgcHJvZmlsZSBpbmZvXG4gICAgICAgIHRoaXMuX2dvb2dsZVByb2ZpbGUgPSBwcm9maWxlO1xuICAgICAgICBsZXQgaWRfdG9rZW4gPSBnb29nbGVVc2VyLmdldEF1dGhSZXNwb25zZSgpLmlkX3Rva2VuO1xuICAgICAgICAvLyB2YWxpZGF0ZSBhZ2FpbnN0IHRoZSBzZXJ2ZXIgYXMgd2VsbFxuICAgICAgICB0aGlzLl9sb2dpbihpZF90b2tlbiwgKCkgPT4geyB0aGlzLl9vblNpZ25lZEluKCk7IH0sICgpID0+IHsgdGhpcy5fb25TaWduSW5GYWlsdXJlKCk7IH0pO1xuICAgICAgICAvLyBiZSBvdmVybGF5IGNhdXRpb3VzOyBsb2dvdXQgd2l0aCBldmVyeSByZWZyZXNoXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2lnbk91dCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uU2lnbmVkSW5cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlIHdoZW4gYSB1c2VyIGlzIGFjdHVhbGx5IGxvZ2dlZCBpbiB0aHJvdWdoIHRoZSBnb29nbGUgQVBJXG4gICAgICovXG4gICAgX29uU2lnbmVkSW4oKSB7XG4gICAgICAgIC8vIGludGVybmFsIHRhZyBmb3IgdHJhY2tpbmdcbiAgICAgICAgdGhpcy5faXNMb2dnZWRJbiA9IHRydWU7XG4gICAgICAgIC8vIG5vdGlmeSBsaXN0ZW5lcnNcbiAgICAgICAgZm9yIChsZXQgbGlzdGVuZXIgb2YgdGhpcy5fbG9naW5MaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3RlbmVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uU2lnbkluRmFpbHVyZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgd2hlbiBzaWduaW5nIGluIGZhaWxzXG4gICAgICovXG4gICAgX29uU2lnbkluRmFpbHVyZSgpIHtcbiAgICAgICAgbGV0IGVycm9yUG9wdXAgPSBuZXcgZXJyb3JQb3B1cF8xLkVycm9yUG9wdXAoXCJXZSBjb3VsZG4ndCBsb2cgeW91IGluIHNlY3VyZWx5LiBBcmUgeW91IHN1cHBvc2VkIHRvIGJlIGhlcmU/XCIpO1xuICAgICAgICBlcnJvclBvcHVwLmRyYXcoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgIHRoaXMuc2lnbk91dCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzaWduT3V0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFsbG93IGEgdXNlciB0byBzcGVjaWZ5IHRoYXQgdGhleSBhcmUgbG9nZ2luZyBvdXRcbiAgICAgKi9cbiAgICBzaWduT3V0KCkge1xuICAgICAgICBsZXQgYXV0aDIgPSBnYXBpLmF1dGgyLmdldEF1dGhJbnN0YW5jZSgpO1xuICAgICAgICBhdXRoMi5zaWduT3V0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9nb29nbGVQcm9maWxlID0gbnVsbDtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBvdXIgc2VydmVyIGFzIHdlbGxcbiAgICAgICAgICAgIHRoaXMuX2xvZ291dCgpO1xuICAgICAgICAgICAgLy8gcmVsb2FkIHRoZSBwYWdlIHRvIHJlZnJlc2ggdGhlIFVJXG4gICAgICAgICAgICAvL3dpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZExvZ2luTGlzdGVuZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIGZvciB0aGUgbG9nIGluIGV2ZW50XG4gICAgICogQHBhcmFtICAgbGlzdGVuZXIgICAgV2hhdCB0byBkbyBvbiBsb2cgaW5cbiAgICAgKi9cbiAgICBhZGRMb2dpbkxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2xvZ2luTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBhZGRMb2dvdXRMaXN0ZW5lclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGQgYSBsaXN0ZW5lciBmb3IgdGhlIGxvZyBvdXQgZXZlbnRcbiAgICAgKiBAcGFyYW0gICBsaXN0ZW5lciAgICBXaGF0IHRvIGRvIG9uIGxvZ291dFxuICAgICAqL1xuICAgIGFkZExvZ291dExpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2xvZ291dExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG59XG5leHBvcnRzLkdvb2dsZUxvZ2luQnV0dG9uID0gR29vZ2xlTG9naW5CdXR0b247XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9maWxlU3lzdGVtXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL2NvbXBpbGVkX2pzL2ZpbGVTeXN0ZW1BUEkuZC50c1wiIC8+XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIEZpbGVTdG9yYWdlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBbGxvdyBzdG9yaW5nIGludG8gYSBsb2NhbCBmaWxlc3lzdGVtXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIF9GaWxlU3RvcmFnZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgICAgIC8vI3JlZ2lvbiBQUk9QRVJUSUVTXG4gICAgICAgIC8qKiBzZXQgYSBkZWZhdWx0IHN0b3JhZ2Ugc2l6ZSAqL1xuICAgICAgICB0aGlzLl9ERUZBVUxUX1NJWkUgPSAxMDAgKiAxMDI0ICogMTAyNDtcbiAgICAgICAgLy8jZW5kcmVnaW9uXG4gICAgICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgfVxuICAgIC8vI25kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBQVUJMSUMgRlVOQ1RJT05TXG4gICAgLyoqXG4gICAgICogc2F2ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBTYXZlIGEgZmlsZSB0byBsb2NhbCBzdG9yYWdlXG4gICAgICogQHBhcmFtICAgZmlsZU5hbWUgICAgVGhlIG5hbWUgb2YgdGhlIGZpbGUgdG8gc2F2ZVxuICAgICAqIEBwYXJhbSAgIGRhdGEgICAgICAgIFRoZSBkYXRhIHdpdGhpbiB0aGUgZmlsZSB0byBzYXZlXG4gICAgICovXG4gICAgc2F2ZShmaWxlTmFtZSwgZGF0YSwgZGlyZWN0b3J5UGF0aCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGZzID0geWllbGQgdGhpcy5fZ2V0RmlsZVN5c3RlbSgpO1xuICAgICAgICAgICAgbGV0IGRpckVudHJ5ID0geWllbGQgdGhpcy5fZ2V0RGlyZWN0b3J5RW50cnkoZnMsIGRpcmVjdG9yeVBhdGgsIHRydWUpO1xuICAgICAgICAgICAgbGV0IGZpbGUgPSB5aWVsZCB0aGlzLl9jcmVhdGVGaWxlKGRpckVudHJ5LCBmaWxlTmFtZSk7XG4gICAgICAgICAgICBsZXQgZncgPSB5aWVsZCB0aGlzLl9nZXRGaWxlV3JpdGVyKGZpbGUpO1xuICAgICAgICAgICAgbGV0IHN1Y2Nlc3MgPSB5aWVsZCB0aGlzLl93cml0ZUZpbGUoZncsIGZpbGUsIGRhdGEpO1xuICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBsb2FkXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIExvYWQgYSBmaWxlIGZyb20gbG9jYWwgc3RvcmFnZVxuICAgICAqIEBwYXJhbSBmaWxlTmFtZVxuICAgICAqL1xuICAgIGxvYWQoZmlsZU5hbWUsIGRpcmVjdG9yeVBhdGgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBmcyA9IHlpZWxkIHRoaXMuX2dldEZpbGVTeXN0ZW0oKTtcbiAgICAgICAgICAgIGxldCBkaXJFbnRyeSA9IHlpZWxkIHRoaXMuX2dldERpcmVjdG9yeUVudHJ5KGZzLCBkaXJlY3RvcnlQYXRoLCBmYWxzZSk7XG4gICAgICAgICAgICBsZXQgZmlsZUVudHJ5ID0geWllbGQgdGhpcy5fZ2V0RmlsZUVudHJ5KGRpckVudHJ5LCBmaWxlTmFtZSk7XG4gICAgICAgICAgICBsZXQgZmlsZSA9IHlpZWxkIHRoaXMuX2dldEZpbGUoZmlsZUVudHJ5KTtcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gdGhpcy5fcmVhZEZpbGUoZmlsZSk7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICogZGVsZXRlTG9jYWxGaWxlXG4gICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgKiBAcGFyYW0gZGlyZWN0b3J5UGF0aFxuICAgICogQHBhcmFtIGZpbGVOYW1lXG4gICAgKi9cbiAgICBkZWxldGVMb2NhbEZpbGUoZGlyZWN0b3J5UGF0aCwgZmlsZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBmcyA9IHlpZWxkIHRoaXMuX2dldEZpbGVTeXN0ZW0oKTtcbiAgICAgICAgICAgIGxldCBkaXJFbnRyeSA9IHlpZWxkIHRoaXMuX2dldERpcmVjdG9yeUVudHJ5KGZzLCBkaXJlY3RvcnlQYXRoLCBmYWxzZSk7XG4gICAgICAgICAgICBsZXQgZmlsZUVudHJ5ID0geWllbGQgdGhpcy5fZ2V0RmlsZUVudHJ5KGRpckVudHJ5LCBmaWxlTmFtZSk7XG4gICAgICAgICAgICBsZXQgZGVsZXRlZCA9IHRoaXMuX2RlbGV0ZUZpbGUoZmlsZUVudHJ5KTtcbiAgICAgICAgICAgIHJldHVybiBkZWxldGVkO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY3JlYXRlRGlyZWN0b3J5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSBhIGxvY2FsIGRpcmVjdG9yeVxuICAgICAqIEBwYXJhbSAgIGRpcmVjdG9yeVBhdGggICBUaGUgbmFtZSBvZiB0aGUgZGlyZWN0b3J5IHRvIGNyZWF0ZVxuICAgICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCB3aWxsIGNyZWF0ZSBhIGRpcmVjdG9yeVxuICAgICAqXG4gICAgICovXG4gICAgY3JlYXRlRGlyZWN0b3J5KGRpcmVjdG9yeVBhdGgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBmcyA9IHlpZWxkIHRoaXMuX2dldEZpbGVTeXN0ZW0oKTtcbiAgICAgICAgICAgIGxldCBkaXJFbnRyeSA9IHlpZWxkIHRoaXMuX2dldERpcmVjdG9yeUVudHJ5KGZzLCBkaXJlY3RvcnlQYXRoLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiAhIWRpckVudHJ5O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0RGlyZWN0b3J5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlQYXRoXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXREaXJlY3RvcnkoZGlyZWN0b3J5UGF0aCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGZzID0geWllbGQgdGhpcy5fZ2V0RmlsZVN5c3RlbSgpO1xuICAgICAgICAgICAgbGV0IGRpckVudHJ5ID0geWllbGQgdGhpcy5fZ2V0RGlyZWN0b3J5RW50cnkoZnMsIGRpcmVjdG9yeVBhdGgpO1xuICAgICAgICAgICAgcmV0dXJuIGRpckVudHJ5O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0RGlyZWN0b3J5Q29udGVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRmluZCBldmVyeXRoaW5nIHRoYXQgaXMgZGlyZWN0bHkgYSBwYXJ0IG9mIHRoaXMgZGlyZWN0b3J5XG4gICAgICogQHBhcmFtICAgZGlyZWN0b3J5TmFtZSAgIFRoZSBkaXJlY3RvcnkgdG8gZmluZFxuICAgICAqXG4gICAgICovXG4gICAgZ2V0RGlyZWN0b3J5Q29udGVudHMoZGlyZWN0b3J5TmFtZSwgY3JlYXRlKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgZnMgPSB5aWVsZCB0aGlzLl9nZXRGaWxlU3lzdGVtKCk7XG4gICAgICAgICAgICBsZXQgZGlyRW50cnkgPSB5aWVsZCB0aGlzLl9nZXREaXJlY3RvcnlFbnRyeShmcywgZGlyZWN0b3J5TmFtZSwgY3JlYXRlKTtcbiAgICAgICAgICAgIGxldCBjb250ZW50cyA9IHlpZWxkIHRoaXMuX3JlYWREaXJlY3RvcnlDb250ZW50cyhkaXJFbnRyeSk7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudHM7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEZJTEVTWVNURU1cbiAgICAvKipcbiAgICAgKiBfcmVxdWVzdEZpbGVTeXN0ZW1cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRW5zdXJlIHdlIGhhdmUgYSBmaWxlIHN5c3RlbSBpbiBvcmRlciB0byBraWNrIG9mZiB0aGUgcmVxdWVzdFxuICAgICAqL1xuICAgIF9nZXRGaWxlU3lzdGVtKHNpemUsIHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZW4ndCByZXNpemluZywganVzdCB1c2UgdGhlIGN1cnJlbnQgZmlsZSBzeXN0ZW1cbiAgICAgICAgICAgIGlmICh0aGlzLl9maWxlU3lzdGVtICYmICFzaXplKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9maWxlU3lzdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoaXMgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgZmlsZSBzeXN0ZW0sIHF1aXQgd2l0aCBhbiBlcnJvclxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RGaWxlU3lzdGVtID0gd2luZG93LnJlcXVlc3RGaWxlU3lzdGVtIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0RmlsZVN5c3RlbTtcbiAgICAgICAgICAgIGlmICghcmVxdWVzdEZpbGVTeXN0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBmaWxlIHN5c3RlbVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGEgc2l6ZSB3YXNuJ3QgcHJvdmlkZWQsIHNldCBhIGRlZmF1bHQgb2YgMTBtYlxuICAgICAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IHRoaXMuX0RFRkFVTFRfU0laRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGEgdHlwZSB3YXNuJ3Qgc3BlY2lmaWVkLCBkZWZhdWx0IHRvIHBlcnNpc3RlbnRcbiAgICAgICAgICAgIGlmICghdHlwZSkge1xuICAgICAgICAgICAgICAgIHR5cGUgPSBQRVJTSVNURU5UO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZmlsZVN5c3RlbVR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgbGV0IHF1b3RhU2l6ZSA9IHlpZWxkIHRoaXMuX3JlcXVlc3RRdW90YShzaXplKTtcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCB0aGlzLl9yZXF1ZXN0RmlsZVN5c3RlbSh0eXBlLCBxdW90YVNpemUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3JlcXVlc3RRdW90YVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBSZXF1ZXN0IHNvbWUgc3RvcmFnZSBmb3Igb3VyIGFwcFxuICAgICAqIEBwYXJhbSBzaXplICBUaGUgYW1vdW50IG9mIHN0b3JhZ2UgdG8gcmVxdWVzdCwgaW4gYnl0ZXNcbiAgICAgKi9cbiAgICBfcmVxdWVzdFF1b3RhKHNpemUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIElmIGl0J3MgQ2hyb21lLCB3ZSBuZWVkIHRvIGdldCBhIHF1b3RhXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy53ZWJraXRTdG9yYWdlSW5mby5yZXF1ZXN0UXVvdGEoUEVSU0lTVEVOVCwgc2l6ZSwgKGdyYW50ZWRCeXRlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGdyYW50ZWRCeXRlcyk7XG4gICAgICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVFcnJvcihlcnIsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBmYWlsZWQsIHdlIGRvbid0IG5lZWQgdG8gcmVxdWVzdCBhIHF1b3RhXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoc2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVxdWVzdEZpbGVTeXN0ZW1cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogUmV0cmlldmUgdGhlIGxvY2FsIGZpbGUgc3lzdGVtIHRoYXQgd2Ugd2lsbCBiZSBzYXZpbmcgaW50b1xuICAgICAqL1xuICAgIF9yZXF1ZXN0RmlsZVN5c3RlbSh0eXBlLCBzaXplKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0RmlsZVN5c3RlbSh0eXBlLCBzaXplLCAoZnMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxlU3lzdGVtID0gZnM7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLl9maWxlU3lzdGVtKTtcbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVFcnJvcihlcnIsIHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gRklMRSBDUkVBVElPTlxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVGaWxlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSBhIGZpbGUgd2l0aCBhIHBhcnRpY3VsYXIgbmFtZVxuICAgICAqL1xuICAgIF9jcmVhdGVGaWxlKGRpckVudHJ5LCBmaWxlTmFtZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMuX2dldEZpbGVFbnRyeShkaXJFbnRyeSwgZmlsZU5hbWUsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2dldEZpbGVXcml0ZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogcmV0dXJuIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmV0cmlldmUgYSBmaWxlIHdyaXRlclxuICAgICAqL1xuICAgIF9nZXRGaWxlV3JpdGVyKGZpbGVFbnRyeSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgZmlsZUVudHJ5LmNyZWF0ZVdyaXRlcigod3JpdGVyKSA9PiB7IHJlc29sdmUod3JpdGVyKTsgfSwgKGVycikgPT4geyB0aGlzLl9oYW5kbGVFcnJvcihlcnIsIHJlamVjdCk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3dyaXRlRmlsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGQgZGV0YWlscyB0byBhIHBhcnRpY3VsYXIgZmlsZVxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICovXG4gICAgX3dyaXRlRmlsZSh3cml0ZXIsIGVudHJ5LCBkYXRhLCBhcHBlbmQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSB3aGVuIHRoZSBmaWxlIGlzIGRvbmUgd3JpdGluZ1xuICAgICAgICAgICAgd3JpdGVyLm9ud3JpdGVlbmQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHdyaXRlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLnNlZWsoMCk7XG4gICAgICAgICAgICAgICAgICAgIHdyaXRlci53cml0ZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBhbnkgZXJyb3JzIHRoYXQgb2NjdXIgaW4gd3JpdGluZ1xuICAgICAgICAgICAgd3JpdGVyLm9uZXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlRXJyb3IoZXJyLCByZWplY3QpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBub3QgYXBwZW5kaW5kLCBjbGVhciB0aGUgZmlsZSB0aGVuIHdyaXRlIHZpYSB0aGUgb253cml0ZWVuZCBoYW5kbGVyXG4gICAgICAgICAgICBpZiAoIWFwcGVuZCkge1xuICAgICAgICAgICAgICAgIHdyaXRlci50cnVuY2F0ZSgwKTtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBhcmUgYXBwZW5kaW5nLCBmaW5kIHRoZSBlbmQgb2YgdGhlIGZpbGUgYW5kIGFuZCBkbyBzb1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgd3JpdGVyLnNlZWsod3JpdGVyLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgd3JpdGVyLndyaXRlKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBSRUFEIEZJTEVTXG4gICAgLyoqXG4gICAgICogX2dldEZpbGVFbnRyeVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBSZXRyaWV2ZSBtZXRhLWRldGFpbHMgYWJvdXQgYSBmaWxlXG4gICAgICovXG4gICAgX2dldEZpbGVFbnRyeShkaXIsIGZpbGVOYW1lLCBjcmVhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGRpci5nZXRGaWxlKGZpbGVOYW1lLCB7IGNyZWF0ZTogY3JlYXRlLCBleGNsdXNpdmU6IGZhbHNlIH0sIChmaWxlRW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGZpbGVFbnRyeSk7XG4gICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlRXJyb3IoZXJyLCByZWplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfZ2V0RmlsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBHcmFiIHRoZSBmaWxlIG9iamVjdCB3aXRoaW4gYSBGaWxlRW50cnlcbiAgICAgKi9cbiAgICBfZ2V0RmlsZShmaWxlRW50cnkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGZpbGVFbnRyeS5maWxlKChmaWxlKSA9PiB7IHJlc29sdmUoZmlsZSk7IH0sIChlcnIpID0+IHsgdGhpcy5faGFuZGxlRXJyb3IoZXJyLCByZWplY3QpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9yZWFkRmlsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBSZWFkIHRoZSBjb250ZW50cyBvZiBhIGZpbGUgaW50byB0aGUgcmVzb2x2ZSBmdW5jdGlvblxuICAgICAqL1xuICAgIF9yZWFkRmlsZShmaWxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlRXJyb3IoZXJyLCByZWplY3QpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBESVJFQ1RPUlkgTUFOSVBVTEFUSU9OXG4gICAgLyoqXG4gICAgICogX2dldERpcmVjdG9yeUVudHJ5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSBkaXJlY3RvcnlOYW1lXG4gICAgICogQHBhcmFtIGNyZWF0ZVxuICAgICAqL1xuICAgIF9nZXREaXJlY3RvcnlFbnRyeShmaWxlU3lzdGVtLCBkaXJlY3RvcnlOYW1lLCBjcmVhdGUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIGFueSBjaGFyYWN0ZXJzIHdlIGRvbid0IHdhbnQgaW4gb3VyIGRpcmVjdG9yeSBuYW1lXG4gICAgICAgICAgICBkaXJlY3RvcnlOYW1lID0gX2NsZWFuRGlyZWN0b3J5KGRpcmVjdG9yeU5hbWUpO1xuICAgICAgICAgICAgLy8ga2ljayB0aGluZ3Mgb2ZmIHdpdGggdGhlIHJvb3QgZGlyZWN0b3IgZm9yIHRoZSBsb2FkZWQgZmlsZSBzeXN0ZW1cbiAgICAgICAgICAgIGxldCBmc1Jvb3QgPSB5aWVsZCB0aGlzLl9nZXRGaWxlU3lzdGVtUm9vdChmaWxlU3lzdGVtKTtcbiAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBkaXJlY3Rvcnkgc3RyaW5nIHRvIGdldCB0aGUgYXBwcm9wcmlhdGUgcGF0aFxuICAgICAgICAgICAgLy8gKGZvciBub3cgaGFuZGxlIGVpdGhlciB0eXBlcyBvZiBzbGFzaGVzKVxuICAgICAgICAgICAgbGV0IGN1ckRpciA9IGZzUm9vdDtcbiAgICAgICAgICAgIGxldCBwYXRoUGllY2VzID0gdGhpcy5fc3BsaXREaXJlY3RvcnlQYXRoUGllY2VzKGRpcmVjdG9yeU5hbWUpO1xuICAgICAgICAgICAgZm9yIChsZXQgcGF0aFBpZWNlIG9mIHBhdGhQaWVjZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhdGhQaWVjZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIGEgcHJvbWlzZSB0byByZXR1cm4gdGhpcyBzdWItZGlyZWN0b3J5XG4gICAgICAgICAgICAgICAgY3VyRGlyID0geWllbGQgdGhpcy5fZ2V0U3ViRGlyZWN0b3J5KGN1ckRpciwgcGF0aFBpZWNlLCBjcmVhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBjaGFpbmVkIHByb21pc2VzXG4gICAgICAgICAgICByZXR1cm4gY3VyRGlyO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2dldEZpbGVTeXN0ZW1Sb290XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEdyYWIgdGhlIHJvb3QgZGlyZWN0b3J5IG9mIG91ciBjdXJyZW50IGZpbGUgc3lzdGVtXG4gICAgICovXG4gICAgX2dldEZpbGVTeXN0ZW1Sb290KGZpbGVTeXN0ZW0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICghZmlsZVN5c3RlbSkge1xuICAgICAgICAgICAgICAgIHJlamVjdChcIk5vIGZpbGVzeXN0ZW1cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKGZpbGVTeXN0ZW0ucm9vdCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfc3BsaXREaXJlY3RvcnlQYXRoUGllY2VzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFNwbGl0IGEgZGlyZWN0b3J5IHBhdGggaW50byBpdHMgcmVsZXZhbnQgc3VicGF0aHNcbiAgICAgKi9cbiAgICBfc3BsaXREaXJlY3RvcnlQYXRoUGllY2VzKGRpcmVjdG9yeU5hbWUpIHtcbiAgICAgICAgaWYgKCFkaXJlY3RvcnlOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpcmVjdG9yeU5hbWUuc3BsaXQoL1tcXC9cXFxcXS9nKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2dldFN1YkRpcmVjdG9yeVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBGaW5kIGEgbmVzdGVkIGRpcmVjdG9yeVxuICAgICAqL1xuICAgIF9nZXRTdWJEaXJlY3RvcnkoZGlyZWN0b3J5RW50cnksIHN1YlBhdGgsIGNyZWF0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgZGlyZWN0b3J5RW50cnkuZ2V0RGlyZWN0b3J5KHN1YlBhdGgsIHsgY3JlYXRlOiBjcmVhdGUgfSwgKGRpcikgPT4geyByZXNvbHZlKGRpcik7IH0sIChlcnIpID0+IHsgcmVqZWN0KGVycik7IH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3JlYWREaXJlY3RvcnlDb250ZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBGaW5kIHRoZSBjb250ZW50cyBvZiBhIHBhcnRpY3VsYXIgZGlyZWN0b3J5XG4gICAgICovXG4gICAgX3JlYWREaXJlY3RvcnlDb250ZW50cyhkaXJFbnRyeSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHJlYWRlciA9IGRpckVudHJ5LmNyZWF0ZVJlYWRlcigpO1xuICAgICAgICAgICAgcmVhZGVyLnJlYWRFbnRyaWVzKChlbnRyaWVzKSA9PiB7IHJlc29sdmUoZW50cmllcyk7IH0sIChlcnIpID0+IHsgdGhpcy5faGFuZGxlRXJyb3IoZXJyLCByZWplY3QpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIERFTEVURSBGSUxFXG4gICAgLyoqXG4gICAgICogX2RlbGV0ZUZpbGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogZGVsZXRlIGEgZmlsZSBmcm9tIG91ciBzeXN0ZW1cbiAgICAgKi9cbiAgICBfZGVsZXRlRmlsZShmaWxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBmaWxlLnJlbW92ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVFcnJvcihlcnIsIHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEVMUEVSU1xuICAgIC8qKlxuICAgICAqIF9oYW5kbGVFcnJvclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBMb2cgYXBwcm9wcmlhdGUgZGV0YWlscyB3aGVuIGFuIGVycm9yIG9jY3Vyc1xuICAgICAqL1xuICAgIF9oYW5kbGVFcnJvcihlcnIsIHJlamVjdCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIGlmIChyZWplY3QpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5fRmlsZVN0b3JhZ2UgPSBfRmlsZVN0b3JhZ2U7XG5mdW5jdGlvbiBfY2xlYW5EaXJlY3RvcnkoZGlyZWN0b3J5TmFtZSkge1xuICAgIGxldCBsb29wQ250ID0gMDtcbiAgICAvLyBlbnN1cmUgdGhhdCB0aGUgZGlyZWN0b3J5IHBhdGggZG9lc24ndCBoYXZlIGFueSB1cC1zdHJlYW0gbW90aW9uc1xuICAgIHdoaWxlIChkaXJlY3RvcnlOYW1lLmluZGV4T2YoXCIuLlwiKSAhPT0gLTEpIHtcbiAgICAgICAgLy8gcmVwbGFjZSBhbnkgcHJvYmxlbWF0aWMgY2hhcmFjdGVyIHN0cmluZ3NcbiAgICAgICAgZGlyZWN0b3J5TmFtZSA9IGRpcmVjdG9yeU5hbWUucmVwbGFjZSgvXFwuXFwuL2csIFwiXCIpO1xuICAgICAgICBkaXJlY3RvcnlOYW1lID0gZGlyZWN0b3J5TmFtZS5yZXBsYWNlKC9cXC9cXC8vZywgXCIvXCIpO1xuICAgICAgICBkaXJlY3RvcnlOYW1lID0gZGlyZWN0b3J5TmFtZS5yZXBsYWNlKC9cXFxcXFxcXC9nLCBcIlxcXFxcIik7XG4gICAgICAgIC8vIHZlcmlmeSB3ZSBhcmVuJ3QgaW4gYW4gaW5maW5pdGUgbG9vcFxuICAgICAgICBsb29wQ250ICs9IDE7XG4gICAgICAgIGlmIChsb29wQ250ID4gMTAwMCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRpcmVjdG9yeU5hbWU7XG59XG5leHBvcnRzLkZpbGVTdG9yYWdlID0gbmV3IF9GaWxlU3RvcmFnZSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZXZlbnRIYW5kbGVyXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2hlbHBlcnNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vX2ZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2J1dHRvbkZpZWxkc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb21wbGV4RmllbGRzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2ZpbGVGaWVsZHNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZm9ybXNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc2ltcGxlRmllbGRzXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL190b2dnbGVCdXR0b25GaWVsZFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9leHBhbmRhYmxlQnV0dG9uc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9tdWx0aVNlbGVjdEJ1dHRvbkZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NpbmdsZVNlbGVjdEJ1dHRvbkZpZWxkXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbXVsdGlTZWxlY3RCdXR0b25GaWVsZF8xID0gcmVxdWlyZShcIi4vbXVsdGlTZWxlY3RCdXR0b25GaWVsZFwiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi8uLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgRXhwYW5kYWJsZUJ1dHRvbkZpZWxkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBZGQgc3RhbmRhcmQgZm9ybSBlbGVtZW50IHRvIGNyZWF0ZSBuZXcgYnV0dG9ucyBpbmxpbmVcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgRXhwYW5kYWJsZUJ1dHRvbkZpZWxkIGV4dGVuZHMgbXVsdGlTZWxlY3RCdXR0b25GaWVsZF8xLk11bHRpU2VsZWN0QnV0dG9uRmllbGQge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgY29uc3RydWN0b3IoaWQsIHRlbXBsYXRlKSB7XG4gICAgICAgIHN1cGVyKGlkLCB0ZW1wbGF0ZSk7XG4gICAgICAgIEV4cGFuZGFibGVCdXR0b25GaWVsZC5faW5zdGFuY2VzLnB1c2godGhpcyk7XG4gICAgfVxuICAgIHN0YXRpYyBzZXQgb3B0aW9ucyhvcHRzKSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdHM7XG4gICAgICAgIGZvciAobGV0IGluc3RhbmNlIG9mIHRoaXMuX2luc3RhbmNlcykge1xuICAgICAgICAgICAgaW5zdGFuY2UuX2NyZWF0ZUF2YWlsYWJsZU9wdGlvbnMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFBST1BFUlRJRVNcbiAgICBnZXQgX2RlZmF1bHRDbHMoKSB7IHJldHVybiBcInRvZ2dsZUJ0bnMgZXhwYW5kYWJsZVwiOyB9XG4gICAgZ2V0IF9hZGRCdG5MYWJlbCgpIHsgcmV0dXJuIFwiKyBBZGRcIjsgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVDbG9uZWRFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSBhcHBlbmRUb0lkXG4gICAgICovXG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JZCkge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5faWQgKyBhcHBlbmRUb0lkLCB0aGlzLnRlbXBsYXRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uQ2hhbmdlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENoYW5naW5nIGJ1dHRvbnMgYWx3YXlzIHN1Y2NlZWRzXG4gICAgICovXG4gICAgX2dldFZhbHVlRnJvbUZpZWxkKCkgeyByZXR1cm4gdGhpcy5fZGF0YTsgfVxuICAgIC8qKlxuICAgICAqIF9vbkNyZWF0ZUVsZW1lbnRzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSB0aGUgYXBwcm9wcmlhdGUgZWxlbWVudHMgZm9yIHRoaXNcbiAgICAgKi9cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJvcHRFbGVtZW50XCJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUF2YWlsYWJsZU9wdGlvbnMoKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlSW5wdXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZVRhZ3NcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIHRoZSB0YWdzIHNlY3Rpb24gb2YgdGhpcyBmb3JtIGVsZW1lbnRcbiAgICAgKi9cbiAgICBfY3JlYXRlQXZhaWxhYmxlT3B0aW9ucygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtcy5vcHRzKSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtcy5vcHRzID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgIGNsczogXCJvcHRzXCIsXG4gICAgICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLm9wdHMuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuY29uc3RydWN0b3IuX29wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGF2YWlsYWJsZSBvcHRpb25zXG4gICAgICAgIGZvciAobGV0IG9wdCBvZiB0aGlzLmNvbnN0cnVjdG9yLl9vcHRpb25zKSB7XG4gICAgICAgICAgICBsZXQgb3B0RWxlbSA9IHRoaXMuX2NyZWF0ZUF2YWlsYWJsZU9wdGlvbihvcHQpO1xuICAgICAgICAgICAgdGhpcy5fZWxlbXMub3B0cy5hcHBlbmRDaGlsZChvcHRFbGVtKTtcbiAgICAgICAgfVxuICAgICAgICA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVUYWdcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGEgdG9nZ2xlIGJ1dHRvbiBmb3IgdGhpcyBlbGVtZW50XG4gICAgICogQHBhcmFtICAgb3B0XG4gICAgICogQHJldHVybnMgVGhlIGNyZWF0ZWQgZWxlbWVudFxuICAgICAqL1xuICAgIF9jcmVhdGVBdmFpbGFibGVPcHRpb24ob3B0KSB7XG4gICAgICAgIGxldCB0YWdFbGVtID0gdGhpcy5fY3JlYXRlT3B0aW9uRWxlbWVudChvcHQpO1xuICAgICAgICByZXR1cm4gdGFnRWxlbTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUlucHV0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSB0aGUgYXBwcm9wcmlhdGUgaW5wdXQgZWxlbWVudHMgdG8gYmUgYWJsZSB0byBjcmVhdGUgbmV3IG9wdGlvbnNcbiAgICAgKiBpbmxpbmVcbiAgICAgKi9cbiAgICBfY3JlYXRlSW5wdXQoKSB7XG4gICAgICAgIGxldCBpbnB1dFdyYXBwZXIgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwiYWRkT3B0V3JhcHBlclwiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9hZGRJbnB1dEZpZWxkKGlucHV0V3JhcHBlcik7XG4gICAgICAgIHRoaXMuX2FkZEFkZEJ1dHRvbihpbnB1dFdyYXBwZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYWRkSW5wdXRGaWVsZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBpZiBhcHByb3ByaWF0ZSwgYWRkIGEgdGV4dCBmaWVsZCB0aGF0IGNhbiBiZSB1c2VkIHRvIGFkZCBuZXcgZWxlbWVudHNcbiAgICAgKiBAcGFyYW0gaW5wdXRXcmFwcGVyXG4gICAgICovXG4gICAgX2FkZElucHV0RmllbGQoaW5wdXRXcmFwcGVyKSB7XG4gICAgICAgIGlmICghdGhpcy5fc2hvd0lucHV0RmllbGQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dCA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJhZGRPcHRcIixcbiAgICAgICAgICAgIHR5cGU6IFwiaW5wdXRcIixcbiAgICAgICAgICAgIHBhcmVudDogaW5wdXRXcmFwcGVyLFxuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lcnM6IHtcbiAgICAgICAgICAgICAgICBrZXlkb3duOiAoa2V5RXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleUV2ZW50LmtleUNvZGUgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkTmV3T3B0aW9uKHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJJbnB1dEZpZWxkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2FkZEFkZEJ1dHRvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGQgdGhlIGFwcHJvcHJpYXRlIGJ1dHRvbiB0byBjcmVhdGUgbmV3IGVsZW1lbnRzIHRvIGFkZFxuICAgICAqL1xuICAgIF9hZGRBZGRCdXR0b24oaW5wdXRXcmFwcGVyKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmFkZEJ0biA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJhZGRCdG5cIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuX2FkZEJ0bkxhYmVsLFxuICAgICAgICAgICAgcGFyZW50OiBpbnB1dFdyYXBwZXIsXG4gICAgICAgICAgICBhdHRyOiB7XG4gICAgICAgICAgICAgICAgdGFiaW5kZXg6IFwiMFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lcnM6IHtcbiAgICAgICAgICAgICAgICBjbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGROZXdPcHRpb24odGhpcy5fZWxlbXMuaW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGVhcklucHV0RmllbGQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGtleWRvd246IChrZXlFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5RXZlbnQua2V5Q29kZSAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGROZXdPcHRpb24odGhpcy5fZWxlbXMuaW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGVhcklucHV0RmllbGQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2xlYXJJbnB1dEZpZWxkXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENsZWFyIG91dCB0aGUgaW5wdXQgZmllbGQgaWYgd2UgaGF2ZSBvbmVcbiAgICAgKi9cbiAgICBfY2xlYXJJbnB1dEZpZWxkKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2VsZW1zLmlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQudmFsdWUgPSBcIlwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYWRkTmV3T3B0aW9uXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFkZCBhIG5ldyB0YWcgdG8gb3VyIGNvbGxlY3Rpb25cbiAgICAgKi9cbiAgICBfYWRkTmV3T3B0aW9uKG5hbWUpIHtcbiAgICAgICAgLy8gb25seSBhZGQgbmV3IGVsZW1lbnRzXG4gICAgICAgIGlmIChuYW1lICYmIHRoaXMuX2RvZXNFbGVtZW50QWxyZWFkeUV4aXN0KG5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9wdCA9IHRoaXMuX2NyZWF0ZU5ld09wdGlvbihuYW1lKTtcbiAgICAgICAgbGV0IG9wdEVsZW0gPSB0aGlzLl9jcmVhdGVBdmFpbGFibGVPcHRpb24ob3B0KTtcbiAgICAgICAgdGhpcy5fZWxlbXMub3B0cy5hcHBlbmRDaGlsZChvcHRFbGVtKTtcbiAgICAgICAgdGhpcy5fc2VsZWN0QnRuKG9wdEVsZW0sIG9wdC52YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBVcGRhdGUgdGhlIGN1cnJlbnQgc2VsZWN0aW9ucyBvZiB0aGUgZWxlbWVudFxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICovXG4gICAgdXBkYXRlKGRhdGEsIGFsbG93RXZlbnRzKSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUF2YWlsYWJsZU9wdGlvbnMoKTtcbiAgICAgICAgc3VwZXIudXBkYXRlKGRhdGEsIGFsbG93RXZlbnRzKTtcbiAgICB9XG59XG5leHBvcnRzLkV4cGFuZGFibGVCdXR0b25GaWVsZCA9IEV4cGFuZGFibGVCdXR0b25GaWVsZDtcbkV4cGFuZGFibGVCdXR0b25GaWVsZC5faW5zdGFuY2VzID0gW107XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuRXhwYW5kYWJsZUJ1dHRvbkZpZWxkLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIub3B0RWxlbWVudFwiOiB7XG4gICAgICAgIHdoaXRlU3BhY2U6IFwibm93cmFwXCIsXG4gICAgICAgIG1hcmdpblRvcDogXCIxMHB4XCIsXG4gICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgXCIub3B0c1wiOiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleEdyb3c6IFwiMVwiLFxuICAgICAgICAgICAgICAgIGZsZXhXcmFwOiBcIndyYXBcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiLnRvZ2dsZUJ0blwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIuYWRkT3B0V3JhcHBlclwiOiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgbWF4V2lkdGg6IFwiMzAwcHhcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgICAgICAgICBcIi5hZGRPcHRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmxleEdyb3c6IFwiMVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiLmFkZEJ0blwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiPGZvcm1UaGVtZT5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNGRkZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMnB4IDEwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpdGVTcGFjZTogXCJub3dyYXBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgZWFzZS1pbi1vdXQgLjJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhTaHJpbms6IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjMwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiJjpob3ZlclwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogXCJzY2FsZSgxLjA1KVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX3RvZ2dsZUJ1dHRvbkZpZWxkXzEgPSByZXF1aXJlKFwiLi9fdG9nZ2xlQnV0dG9uRmllbGRcIik7XG5jb25zdCBjc3NfMSA9IHJlcXVpcmUoXCIuLi8uLi9zdHlsZUhlbHBlcnMvY3NzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgU2luZ2xlU2VsZWN0QnV0dG9uRmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHRvZ2dsZSBidXR0b25zIGFzIGVxdWl2YWxlbnQgdG8gcmFkaW8gYnV0dG9uc1xuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBTaW5nbGVTZWxlY3RCdXR0b25GaWVsZCBleHRlbmRzIF90b2dnbGVCdXR0b25GaWVsZF8xLlRvZ2dsZUJ1dHRvbkZpZWxkIHtcbiAgICBnZXQgX2RlZmF1bHRWYWx1ZSgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBnZXQgX211bHRpU2VsZWN0KCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAvKiogaGFuZGxlIGEgYnV0dG9uIGJlaW5nIHNlbGVjdGVkICovXG4gICAgX3NlbGVjdEJ0bihidG4sIHZhbHVlKSB7XG4gICAgICAgIGlmICghYnRuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkQnRuKSB7XG4gICAgICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyh0aGlzLl9zZWxlY3RlZEJ0biwgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWRCdG4gPT09IGJ0bikge1xuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IHRoaXMuX2RlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkQnRuID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kYXRhID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkQnRuID0gYnRuO1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyhidG4sIFwic2VsZWN0ZWRcIik7XG4gICAgfVxuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVTZWxlY3RCdXR0b25GaWVsZCh0aGlzLl9pZCArIGFwcGVuZFRvSUQsIHRoaXMpO1xuICAgIH1cbiAgICBfc2hvdWxkQmVTZWxlY3RlZChlbGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhID09PSBlbGVtLnZhbHVlO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkQnRuKSB7XG4gICAgICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyh0aGlzLl9zZWxlY3RlZEJ0biwgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkQnRuID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kYXRhID0gdGhpcy5fZGVmYXVsdFZhbHVlO1xuICAgIH1cbn1cbmV4cG9ydHMuU2luZ2xlU2VsZWN0QnV0dG9uRmllbGQgPSBTaW5nbGVTZWxlY3RCdXR0b25GaWVsZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL19pbnRlcmZhY2VzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL190eXBlZ3VhcmRzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL19jb2xsYXBzaWJsZUZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2FycmF5Q2hpbGRGaWVsZFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9hcnJheUZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NlY3Rpb25GaWVsZFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IF9jb2xsYXBzaWJsZUZpZWxkXzEgPSByZXF1aXJlKFwiLi9fY29sbGFwc2libGVGaWVsZFwiKTtcbmNvbnN0IF9maWVsZF8xID0gcmVxdWlyZShcIi4uL19maWVsZFwiKTtcbmNvbnN0IGhlbHBlcnNfMSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzXCIpO1xuY29uc3QgbmF2aWdhdGVfMSA9IHJlcXVpcmUoXCIuLi8uLi9vYmplY3RIZWxwZXJzL25hdmlnYXRlXCIpO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IGFycmF5Q2hpbGRGaWVsZF8xID0gcmVxdWlyZShcIi4vYXJyYXlDaGlsZEZpZWxkXCIpO1xuY29uc3QgZ2VuZXJhbEhlbHBlcnNfMSA9IHJlcXVpcmUoXCIuLi8uLi9odG1sSGVscGVycy9nZW5lcmFsSGVscGVyc1wiKTtcbmNvbnN0IGV2ZW50SGFuZGxlcl8xID0gcmVxdWlyZShcIi4uL2V2ZW50SGFuZGxlclwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzIgPSByZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IF90eXBlZ3VhcmRzXzEgPSByZXF1aXJlKFwiLi9fdHlwZWd1YXJkc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyBBcnJheUZpZWxkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGUgYW4gZWxlbWVudCBpbiB0aGUgZm9ybSB0aGF0IGNhbiBiZSBhZGRlZCB0b1xuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBBcnJheUZpZWxkIGV4dGVuZHMgX2NvbGxhcHNpYmxlRmllbGRfMS5Db2xsYXBzaWJsZUZpZWxkIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENPTlNUUlVDVCBUSEUgRk9STSBFTEVNRU5UXG4gICAgLyoqXG4gICAgICogQXJyYXlFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEdlbmVyYXRlIGEgZm9ybSBlbGVtZW50IHRoYXQgY2FuIGNvbnRhaW4gbG90cyBvZiBjb3BpZXNcbiAgICAgKiBAcGFyYW0gaWQgICAgICAgIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGFycmF5IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gdGVtcGxhdGUgIERldGFpbHMgZm9yIHRoZSBvdmVyYWxsIGFycmF5XG4gICAgICogQHBhcmFtIGNoaWxkcmVuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaWQsIHRlbXBsYXRlLCBjaGlsZHJlbikge1xuICAgICAgICBzdXBlcihpZCwgdGVtcGxhdGUpO1xuICAgICAgICAvLyBjb3B5IG9sZCB0ZW1wbGF0ZSBvdmVyIGZyb20gYW4gZXhpc3RpbmcgZWxlbWVudFxuICAgICAgICBpZiAoaGVscGVyc18xLmlzRmllbGQodGVtcGxhdGUpKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGlsZFRlbXBsYXRlID0gdGVtcGxhdGUuY2hpbGRUZW1wbGF0ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvdGhlcndpc2UsIHVzZSB0aGUgY2hpbGRyZW4gcGFzc2VkIGluIGFzIG91ciB0ZW1wbGF0ZVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkVGVtcGxhdGUgPSBjaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBjcmVhdGUgdGhlIGNoaWxkcmVuIGFycmF5OyB0aGlzIHdpbGwgYmUgcGFyc2VkIGFmdGVyIGVsZW1lbnRzIGFyZSBjcmVhdGVkXG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gW107XG4gICAgfVxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFBST1BFUlRJRVNcbiAgICBnZXQgX3R5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkZpZWxkVHlwZUVudW0uQVJSQVk7IH1cbiAgICBnZXQgX2RlZmF1bHRWYWx1ZSgpIHsgcmV0dXJuIFtdOyB9XG4gICAgZ2V0IF9kZWZhdWx0Q2xzKCkgeyByZXR1cm4gXCJhcnJheVwiOyB9XG4gICAgZ2V0IGNoaWxkVGVtcGxhdGUoKSB7IHJldHVybiB0aGlzLl9jaGlsZFRlbXBsYXRlOyB9XG4gICAgX2dldFVuY29sb3JlZFN0eWxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlVGhlbWVzKEFycmF5RmllbGQuX3VuY29sb3JlZFN0eWxlcywgX2NvbGxhcHNpYmxlRmllbGRfMS5Db2xsYXBzaWJsZUZpZWxkLl91bmNvbG9yZWRTdHlsZXMsIF9maWVsZF8xLkZpZWxkLl91bmNvbG9yZWRTdHlsZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzZXRUaGVtZUNvbG9yXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHVwZGF0ZSB0aGUgYXBwcm9wcmlhdGUgdGhlbWUgY29sb3IgZm9yIHRoZSBmb3JtXG4gICAgICovXG4gICAgc2V0VGhlbWVDb2xvcih1bmlxdWVJZCwgY29sb3IsIG5vUmVwbGFjZSkge1xuICAgICAgICBzdXBlci5zZXRUaGVtZUNvbG9yKHVuaXF1ZUlkLCBjb2xvcik7XG4gICAgICAgIC8vIGlmIHRoZXJlIGFyZSBubyBjaGlsZHJlbiB5ZXQsIGFwcGx5IHRvIHRoZSBjaGlsZCB0ZW1wbGF0ZVxuICAgICAgICBpZiAoIXRoaXMuX2NoaWxkcmVuIHx8IHRoaXMuX2NoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGhlbHBlcnNfMS5pc0ZpZWxkKHRoaXMuX2NoaWxkVGVtcGxhdGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hpbGRUZW1wbGF0ZS5zZXRUaGVtZUNvbG9yKHVuaXF1ZUlkLCBjb2xvciwgbm9SZXBsYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5hdmlnYXRlXzEubWFwKHRoaXMuX2NoaWxkVGVtcGxhdGUsIChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5zZXRUaGVtZUNvbG9yKHVuaXF1ZUlkLCBjb2xvciwgbm9SZXBsYWNlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLl9jaGlsZHJlbiwgKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICBjaGlsZC5zZXRUaGVtZUNvbG9yKHVuaXF1ZUlkLCBjb2xvciwgbm9SZXBsYWNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9wYXJzZUZpZWxkVGVtcGxhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogUGFyc2UgdGhlIGRldGFpbHMgb2Ygb3VyIG93biB0ZW1wbGF0ZVxuICAgICAqL1xuICAgIF9wYXJzZUZpZWxkVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgc3VwZXIuX3BhcnNlRmllbGRUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICAgIC8vIGN1c3RvbWl6ZSB0aGUgbGFiZWwgdG8gdXNlIGZvciB0aGUgbmV3IGJ1dHRvblxuICAgICAgICB0aGlzLl9uZXdMYWJlbCA9IHRlbXBsYXRlLm5ld0xhYmVsIHx8IFwiKyBBZGQgTmV3IEVsZW1lbnRcIjtcbiAgICAgICAgLy8gZGV0ZXJtaW5lIHdoZXRoZXIgY2hpbGRyZW4gY2FuIGJlIHJlYXJyYW5nZWRcbiAgICAgICAgdGhpcy5fYWxsb3dSZW9yZGVyaW5nID0gdGVtcGxhdGUuYWxsb3dSZW9yZGVyaW5nO1xuICAgICAgICBpZiAoZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5fYWxsb3dSZW9yZGVyaW5nKSkge1xuICAgICAgICAgICAgdGVtcGxhdGUuYWxsb3dSZW9yZGVyaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25DcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjcmVhdGUgdGhlIGVsZW1lbnRzIGZvciB0aGUgYXJyYXlcbiAgICAgKi9cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgLy8gc2hvdyB0aGUgdGl0bGVcbiAgICAgICAgdGhpcy5fY3JlYXRlQ29sbGFwc2libGVUaXRsZSgpO1xuICAgICAgICAvLyBoYW5kbGUgc2hvd2luZyB0aGUgY2hpbGRyZW5cbiAgICAgICAgdGhpcy5fZWxlbXMuY2hpbGRyZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7IGNsczogXCJmb3JtQ2hpbGRyZW5cIiwgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlIH0pO1xuICAgICAgICB0aGlzLl9jcmVhdGVOZXdCdXR0b24oKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlU3R5bGVzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVOZXdCdXR0b25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWRkIHRoZSBidXR0b24gdG8gY3JlYXRlIGEgbmV3IGVudHJ5IGludG8gb3VyIGFycmF5XG4gICAgICovXG4gICAgX2NyZWF0ZU5ld0J1dHRvbigpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMubmV3QnV0dG9uID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImFycmF5Q2hpbGQgbmV3XCIsXG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLl9uZXdMYWJlbCxcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuY2hpbGRyZW5Db250YWluZXIsXG4gICAgICAgICAgICBldmVudExpc3RlbmVyczoge1xuICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7IHRoaXMuX2NyZWF0ZU5ld0NoaWxkKCk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVDbG9uZWRFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZSBhIGNsb25lZCB2ZXJzaW9uIG9mIHRoaXMgZWxlbWVudFxuICAgICAqL1xuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBcnJheUZpZWxkKHRoaXMuX2lkICsgYXBwZW5kVG9JRCwgdGhpcyk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEFORExFIENIQU5HRVNcbiAgICAvKipcbiAgICAgKiBfb25DaGFuZ2VcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogYXJyYXkgZWxlbWVudHMgYXJlIGFsd2F5cyB2YWxpZGF0ZWQgYXMgdHJ1ZVxuICAgICAqL1xuICAgIF9nZXRWYWx1ZUZyb21GaWVsZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoYW5kbGUgd2hlbiBhbiBleHRlcm5hbCBmb3JjZSBuZWVkcyB0byB1cGRhdGUgdGhlIGZvcm1cbiAgICAgKi9cbiAgICB1cGRhdGUoZGF0YSwgYWxsb3dFdmVudHMpIHtcbiAgICAgICAgLy8gRmlyc3QgY2xlYXIgb3V0IHRoZSBleGlzdGluZyBkYXRhXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgLy8gcXVpdCBpZiB0aGVyZSdzIG5vIG90aGVyIGRhdGEgdG8gYWRkXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlY3JlYXRlIHRoZSBjaGlsZHJlblxuICAgICAgICBkYXRhLm1hcCgoZWxlbSkgPT4ge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5fY3JlYXRlTmV3Q2hpbGQoKTtcbiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZShlbGVtLCBhbGxvd0V2ZW50cyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBDSElMRFJFTlxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVOZXdDaGlsZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjcmVhdGUgYSBuZXcgY2hpbGQgZWxlbWVudCBpbiB0aGUgYXJyYXlcbiAgICAgKi9cbiAgICBfY3JlYXRlTmV3Q2hpbGQoKSB7XG4gICAgICAgIGxldCBlbGVtID0gdGhpcy5fZ2VuZXJhdGVDaGlsZEVsZW1lbnQoKTtcbiAgICAgICAgdGhpcy5fYWRkTmV3Q2hpbGRMaXN0ZW5lcnMoZWxlbSk7XG4gICAgICAgIHRoaXMuX2ZpbmFsaXplTmV3Q2hpbGQoZWxlbSk7XG4gICAgICAgIHJldHVybiBlbGVtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfZ2VuZXJhdGVDaGlsZEVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogZ2VuZXJhdGUgYSBuZXcgY2hpbGQgYXJyYXkgZWxlbWVudFxuICAgICAqL1xuICAgIF9nZW5lcmF0ZUNoaWxkRWxlbWVudCgpIHtcbiAgICAgICAgbGV0IGlkeCA9IHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgbGV0IGVsZW07XG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYWxyZWFkeSBhbiBlbGVtZW50LCBqdXN0IGNsb25lIGl0XG4gICAgICAgIGlmIChfdHlwZWd1YXJkc18xLmlzQXJyYXlDaGlsZEVsZW1lbnQodGhpcy5fY2hpbGRUZW1wbGF0ZSkpIHtcbiAgICAgICAgICAgIGVsZW0gPSB0aGlzLl9jbG9uZUZvcm1FbGVtZW50KHRoaXMuX2NoaWxkVGVtcGxhdGUsIHRoaXMuX2lkICsgXCJ8XCIgKyBpZHgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UsIHNwaW4gdXAgYSBuZXcgY2hpbGQgYWx0b2dldGhlclxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlbSA9IG5ldyBhcnJheUNoaWxkRmllbGRfMS5BcnJheUNoaWxkRmllbGQodGhpcy5faWQgKyBcInxcIiArIGlkeC50b1N0cmluZygpLCB0aGlzLl9jaGlsZFRlbXBsYXRlLCB7IGFsbG93UmVvcmRlcmluZzogdGhpcy5fYWxsb3dSZW9yZGVyaW5nIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfZmluYWxpemVOZXdDaGlsZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBhZGQgdGhlIGNyZWF0ZWQgY2hpbGQgdG8gb3VyIHN0eWxlIG1hcCBhbmQgb3VyIGNoaWxkcmVuXG4gICAgICovXG4gICAgX2ZpbmFsaXplTmV3Q2hpbGQoZWxlbSkge1xuICAgICAgICB0aGlzLl9hcHBseUNvbG9ycyhlbGVtKTtcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4ucHVzaChlbGVtKTtcbiAgICAgICAgZ2VuZXJhbEhlbHBlcnNfMS5yZW1vdmVFbGVtZW50KHRoaXMuX2VsZW1zLm5ld0J1dHRvbik7XG4gICAgICAgIGVsZW0uZHJhdyh0aGlzLl9lbGVtcy5jaGlsZHJlbkNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX2VsZW1zLmNoaWxkcmVuQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1zLm5ld0J1dHRvbik7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsgZWxlbS5mb2N1cygpOyB9LCAzMDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYWRkTmV3Q2hpbGRMaXN0ZW5lcnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogbWFrZSBzdXJlIHRoZSBjaGlsZCBoYXMgdGhlIGFwcHJvcHJpYXRlIGxpc3RlbmVyc1xuICAgICAqL1xuICAgIF9hZGROZXdDaGlsZExpc3RlbmVycyhjaGlsZCkge1xuICAgICAgICAvLyBoYW5kbGUgd2hlbiB0aGUgY2hpbGQgaXMgcmVhcnJhbmdlZCBpbiB0aGUgb3JkZXJcbiAgICAgICAgY2hpbGQuYWRkT3JkZXJpbmdMaXN0ZW5lcih0aGlzKTtcbiAgICAgICAgLy8gaGFuZGxlIHRoZSBjaGlsZCB1cGRhdGluZ1xuICAgICAgICBldmVudEhhbmRsZXJfMS5mb3JtRXZlbnRIYW5kbGVyLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRIYW5kbGVyXzEuRk9STV9FTEVNX0NIQU5HRSwge1xuICAgICAgICAgICAgZnVuYzogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGtleSA9IGV2ZW50LmNvbnRleHQua2V5O1xuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09IGNoaWxkLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVJbnRlcm5hbERhdGEodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoQ2hhbmdlRXZlbnQoY2hpbGQuaWQpO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVuaXF1ZUlkOiB0aGlzLmlkICsgXCJ8XCIgKyBjaGlsZC5pZCxcbiAgICAgICAgICAgIHRhcmdldDogY2hpbGRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF91cGRhdGVJbnRlcm5hbERhdGFcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogTWFrZSBzdXJlIHdlIGFyZSBhd2FyZSBvZiB0aGUgY29udGVudHMgb2Ygb3VyIGNoaWxkcmVuXG4gICAgICovXG4gICAgX3VwZGF0ZUludGVybmFsRGF0YShpbnRlcm5hbE9ubHkpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gW107XG4gICAgICAgICAgICBsZXQgY250ID0gMDtcbiAgICAgICAgICAgIGxldCBwID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBlbGVtIG9mIHRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgcC5wdXNoKHRoaXMuX3VwZGF0ZUludGVybmFsRmllbGQoZWxlbSwgZGF0YSwgaW50ZXJuYWxPbmx5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5aWVsZCBQcm9taXNlLmFsbChwKTtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3VwZGF0ZUludGVybmFsRmllbGQoZWxlbSwgZGF0YSwgaW50ZXJuYWxPbmx5KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAoZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQoZWxlbSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgY2hpbGREYXRhID0geWllbGQgZWxlbS5zYXZlKGludGVybmFsT25seSk7XG4gICAgICAgICAgICBpZiAoZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQoY2hpbGREYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEucHVzaChjaGlsZERhdGEpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gT1ZFUlJJREUgU1RBTkRBUkQgRlVOQ1RJT05TIFRIQVQgTkVFRCBDVVNUT00gTE9HSUNcbiAgICAvKipcbiAgICAqIHNhdmVcbiAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAqIEhhbmRsZSBzYXZpbmcgdGhlIHNlY3Rpb25cbiAgICAqIEBwYXJhbSAgIGludGVybmFsT25seSAgICBJZiB0cnVlLCBkb2Vzbid0IGRvIGFsbCB0aGUgdXBkYXRpbmcgdGhhdCB3b3VsZFxuICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGhhcHBlbiBvbiBhIHJlYWwgc2F2ZVxuICAgICpcbiAgICAqIEByZXR1cm5zIFRoZSBkYXRhIGNvbnRhaW5lZCBpbiB0aGlzIHNlY3Rpb25zIGNoaWxkIGVsZW1lbnRzXG4gICAgKi9cbiAgICBzYXZlKGludGVybmFsT25seSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gc2F2ZSBhbGwgb2YgdGhlIGNoaWxkIGVsZW1lbnRzXG4gICAgICAgICAgICB0aGlzLl9kYXRhID0geWllbGQgdGhpcy5fdXBkYXRlSW50ZXJuYWxEYXRhKGludGVybmFsT25seSk7XG4gICAgICAgICAgICAvLyByZXR1cm4gdGhlIGRhdGEgdGhhdCB3YXMgY3JlYXRlZFxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjYW5TYXZlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHRoaXMgZWxlbWVudCBjYW4gc2F2ZSwgYmFzZWQgb24gd2hldGhlciBpdHMgY2hpbGRyZW5cbiAgICAgKiBoYXZlIGVycm9ycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgd2UgY2FuIHNhdmUgdGhpcyBlbGVtZW50XG4gICAgICovXG4gICAgY2FuU2F2ZSgpIHtcbiAgICAgICAgbGV0IGNhblNhdmUgPSB7XG4gICAgICAgICAgICBoYXNFcnJvcnM6IGZhbHNlLFxuICAgICAgICAgICAgaGFzTWlzc2luZ1JlcXVpcmVkOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLl9jaGlsZHJlbiwgKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICBsZXQgY2hpbGRDYW5TYXZlID0gY2hpbGQuY2FuU2F2ZSgpO1xuICAgICAgICAgICAgY2FuU2F2ZS5oYXNFcnJvcnMgPSBjYW5TYXZlLmhhc0Vycm9ycyB8fCBjaGlsZENhblNhdmUuaGFzRXJyb3JzO1xuICAgICAgICAgICAgY2FuU2F2ZS5oYXNNaXNzaW5nUmVxdWlyZWQgPSBjYW5TYXZlLmhhc01pc3NpbmdSZXF1aXJlZCB8fCBjaGlsZENhblNhdmUuaGFzTWlzc2luZ1JlcXVpcmVkO1xuICAgICAgICB9LCAoKSA9PiB7IHJldHVybiBjYW5TYXZlLmhhc0Vycm9ycyAmJiBjYW5TYXZlLmhhc01pc3NpbmdSZXF1aXJlZDsgfSk7XG4gICAgICAgIHJldHVybiBjYW5TYXZlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25DbGVhclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoYW5kbGUgY2xlYXJpbmcgb3V0IHRoZSBhcnJheVxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5jaGlsZHJlbkNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICB0aGlzLl9jaGlsZHJlbiA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBvbkNoYW5nZU9yZGVyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIE1ha2Ugc3VyZSB3ZSByZXNwZWN0IHRoZSBuZXcgb3JkZXIgb2YgdGhlc2VcbiAgICAgKi9cbiAgICBvbkNoYW5nZU9yZGVyKGNoaWxkLCBkaXJlY3Rpb24sIG1vdmVUbykge1xuICAgICAgICAvLyB1cGRhdGUgZGF0YSBhcnJheVxuICAgICAgICBsZXQgY3VySWR4O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2NoaWxkcmVuLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY2hpbGRyZW5baV0gPT09IGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgY3VySWR4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgbmV4dElkeCA9IGZhbHNleV8xLmlzTnVsbE9yVW5kZWZpbmVkKG1vdmVUbykgPyBjdXJJZHggKyBkaXJlY3Rpb24gOiBtb3ZlVG87XG4gICAgICAgIGlmIChuZXh0SWR4IDwgMCkge1xuICAgICAgICAgICAgbmV4dElkeCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHRJZHggPj0gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICBuZXh0SWR4ID0gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jaGlsZHJlbi5zcGxpY2UoY3VySWR4LCAxKTtcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4uc3BsaWNlKG5leHRJZHgsIDAsIGNoaWxkKTtcbiAgICAgICAgLy8gdXBkYXRlIFVJIGFycmF5XG4gICAgICAgIGxldCBjaGlsZEVsZW0gPSB0aGlzLl9lbGVtcy5jaGlsZHJlbkNvbnRhaW5lci5jaGlsZHJlbltjdXJJZHhdO1xuICAgICAgICBsZXQgbmV4dFNpYmxpbmcgPSB0aGlzLl9lbGVtcy5jaGlsZHJlbkNvbnRhaW5lci5jaGlsZHJlbltuZXh0SWR4ICsgKGRpcmVjdGlvbiA9PT0gX2ludGVyZmFjZXNfMi5EaXJlY3Rpb25UeXBlLkZPUldBUkQgPyAxIDogMCldO1xuICAgICAgICB0aGlzLl9lbGVtcy5jaGlsZHJlbkNvbnRhaW5lci5yZW1vdmVDaGlsZChjaGlsZEVsZW0pO1xuICAgICAgICBpZiAobmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLmNoaWxkcmVuQ29udGFpbmVyLmluc2VydEJlZm9yZShjaGlsZEVsZW0sIG5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLmNoaWxkcmVuQ29udGFpbmVyLmFwcGVuZENoaWxkKGNoaWxkRWxlbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogZm9jdXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR2l2ZSBmb2N1cyB0byB0aGUgZmlyc3QgZmllbGQgaW4gb3VyIGZpcnN0IGNoaWxkIGVsZW1lbnRcbiAgICAgKi9cbiAgICBmb2N1cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jaGlsZHJlbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hpbGQuZm9jdXMoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBHRVQgRUxFTUVOVFMgQUZURVIgQ1JFQVRJT05cbiAgICBnZXRGaWVsZChpZCkge1xuICAgICAgICAvLyBmaXJzdCBjaGVjayB0aGlzIGVsZW1lbnRcbiAgICAgICAgaWYgKGlkID09PSB0aGlzLl9pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlbiBjaGVjayBjaGlsZCBlbGVtZW50c1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQgPSBjLmdldEZpZWxkKGlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbmV4cG9ydHMuQXJyYXlGaWVsZCA9IEFycmF5RmllbGQ7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuQXJyYXlGaWVsZC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLmtpcEZvcm1FbGVtLmFycmF5XCI6IHtcbiAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICBcIj4gLmZvcm1DaGlsZHJlblwiOiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJncmlkXCIsXG4gICAgICAgICAgICAgICAgZ3JpZFRlbXBsYXRlQ29sdW1uczogXCIxZnIgMWZyIDFmclwiLFxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5HYXA6IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgIGdyaWRSb3dHYXA6IFwiMTBweFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIuYXJyYXkgLmZvcm1DaGlsZHJlblwiOiB7XG4gICAgICAgICAgICAgICAgZ3JpZFRlbXBsYXRlQ29sdW1uczogXCIxMDAlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiYuY29sbGFwc2VkXCI6IHtcbiAgICAgICAgICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgXCIua2lwQnRuLm5ld1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLmFycmF5Q2hpbGQubmV3XCI6IHtcbiAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IGRhc2hlZCA8Zm9ybVN1YlRoZW1lPlwiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogXCIwLjVcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI0ZGRlwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjEuM2VtXCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCI8Zm9ybVN1YlRoZW1lPlwiLFxuICAgICAgICAgICAgICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIHdlYmtpdFVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIE1velVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIG1zVXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiLm1vYmlsZSAmXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcImNhbGMoMTAwJSAtIDIwcHgpXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCImOmhvdmVyXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IFwiMVwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vZmlsZVBhdGhGaWVsZFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9maWxlVXBsb2FkRmllbGRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcGhvdG9QYXRoRmllbGRcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfZmllbGRfMSA9IHJlcXVpcmUoXCIuLi9fZmllbGRcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgaGVscGVyc18xID0gcmVxdWlyZShcIi4uL2hlbHBlcnNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgRmlsZVVwbG9hZEZpZWxkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBoYW5kbGUgZmlsZSB1cGxvYWRzIHN1Y2ggdGhhdCB0aGV5IHJldHVybiBhIGZpbGUgbGlzdFxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBGaWxlVXBsb2FkRmllbGQgZXh0ZW5kcyBfZmllbGRfMS5GaWVsZCB7XG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gUFJPUEVSVElFU1xuICAgIC8qKiB0cmFjayB0aGUgdHlwZSBvZiBmb3JtIGVsZW1lbnQgdGhpcyBpcyAqL1xuICAgIGdldCBfdHlwZSgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRmllbGRUeXBlRW51bS5GSUxFX1VQTE9BRDsgfVxuICAgIC8qKiBnaXZlIHRoaXMgZm9yIGVsZW1lbnQgYSBkZWZhdWx0IENTUyBjbGFzcyAqL1xuICAgIGdldCBfZGVmYXVsdENscygpIHsgcmV0dXJuIFwiZmlsZVwiOyB9XG4gICAgLyoqIHNldCBhIGRlZmF1bHQgdmFsdWUgZm9yIHRoaXMgZm9ybSBlbGVtZW50IHR5cGUgKi9cbiAgICBnZXQgX2RlZmF1bHRWYWx1ZSgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8qKlxuICAgICAqIF9wYXJzZUZpZWxkVGVtcGxhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogUGFyc2UgdGhlIGRldGFpbHMgb2YgaG93IHRvIHJlbmRlciB0aGlzIGVsZW1lbnRcbiAgICAgKi9cbiAgICBfcGFyc2VGaWVsZFRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAgIHN1cGVyLl9wYXJzZUZpZWxkVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgICB0aGlzLl9hdHRyID0gdGVtcGxhdGUuYXR0cjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uQ3JlYXRlRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlIGNyZWF0aW5nIGVsZW1lbnRzXG4gICAgICovXG4gICAgX29uQ3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVN0YW5kYXJkTGFiZWwodGhpcy5fZWxlbXMuYmFzZSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0ID0gaGVscGVyc18xLmNyZWF0ZUlucHV0RWxlbWVudChcIlwiLCBcIlwiLCBcImZpbGVcIiwgdGhpcy5fZGF0YSwgbnVsbCwgbnVsbCwgdGhpcy5fZWxlbXMuYmFzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkNoYW5nZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgd2hlbiB0aGUgdXNlciBoYXMgdXBsb2FkZWQgYSBmaWxlXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZmlsZSBwYXNzZXMgdmFsaWRhdGlvblxuICAgICAqL1xuICAgIF9nZXRWYWx1ZUZyb21GaWVsZCgpIHtcbiAgICAgICAgbGV0IGZpbGVzID0gdGhpcy5fZWxlbXMuaW5wdXQuZmlsZXM7XG4gICAgICAgIHJldHVybiBmaWxlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUNsb25lZEVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlIGNsb25pbmcgdGhpcyBlbGVtZW50XG4gICAgICogQHBhcmFtICAgYXBwZW5kVG9JZCAgVGhlIElEIHRvIGFwcGVuZCB0byB0aGUgY2xvbmVkIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBjbG9uZWQgZWxlbWVudFxuICAgICAqL1xuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWxlVXBsb2FkRmllbGQodGhpcy5pZCArIGFwcGVuZFRvSWQsIHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydHMuRmlsZVVwbG9hZEZpZWxkID0gRmlsZVVwbG9hZEZpZWxkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGZpbGVQYXRoRmllbGRfMSA9IHJlcXVpcmUoXCIuL2ZpbGVQYXRoRmllbGRcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IGZhbHNleV8xID0gcmVxdWlyZShcIi4uLy4uL3R5cGVHdWFyZHMvZmFsc2V5XCIpO1xuY29uc3QgaGVscGVyc18xID0gcmVxdWlyZShcIi4uL2hlbHBlcnNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qIEBjbGFzcyBQaG90b1BhdGhGaWVsZFxuKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qIGNyZWF0ZSBhbiBlbGVtZW50IHRvIHVwbG9hZCBwaG90b3NcbiogQGF1dGhvciAgS2lwIFByaWNlXG4qIEB2ZXJzaW9uIDEuMC4wXG4qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5jbGFzcyBQaG90b1BhdGhGaWVsZCBleHRlbmRzIGZpbGVQYXRoRmllbGRfMS5GaWxlUGF0aEZpZWxkIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFBST1BFUlRJRVNcbiAgICAvKiogZGVmYXVsdCBjbGFzcyBmb3IgdGhpcyBlbGVtZW50ICovXG4gICAgZ2V0IF9kZWZhdWx0Q2xzKCkgeyByZXR1cm4gXCJwaG90b3BhdGhcIjsgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ1JFQVRFIEVMRU1FTlRTIEZPUiBQSE9UTyBVUExPQURcbiAgICAvKipcbiAgICAgKiBfb25DcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgY3JlYXRpbmcgZWxlbWVudHMgZm9yIHRoZSBmb3JtIGVsZW1lbnRcbiAgICAgKi9cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMucGhvdG9XcmFwcGVyID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJwaG90b1dyYXBwZXJcIiwgXCJcIiwgbnVsbCwgbnVsbCwgdGhpcy5fZWxlbXMuYmFzZSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmRpc3BsYXkgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICB0eXBlOiBcImltZ1wiLFxuICAgICAgICAgICAgY2xzOiBcInBob3RvXCIsXG4gICAgICAgICAgICBhdHRyOiB7IFwic3JjXCI6IHRoaXMuX2RhdGEgfSxcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMucGhvdG9XcmFwcGVyXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBkcmF3IHRoZSBwaG90byBlbGVtZW50XG4gICAgICAgIHRoaXMuX2VsZW1zLm92ZXJsYXkgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlU2ltcGxlRWxlbWVudChcIlwiLCBcInBob3RvT3ZlcmxheVwiLCBcIlwiLCBudWxsLCBudWxsLCB0aGlzLl9lbGVtcy5waG90b1dyYXBwZXIpO1xuICAgICAgICAvLyBoYW5kbGUgc2V0dGluZyBhIG1hbnVhbCBsaW5rXG4gICAgICAgIHRoaXMuX2VsZW1zLmxpbmtCdG4gPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlU2ltcGxlRWxlbWVudChcIlwiLCBcInBob3RvQnRuIGxpbmtcIiwgXCJDSEFOR0UgTElOS1wiLCBudWxsLCBudWxsLCB0aGlzLl9lbGVtcy5vdmVybGF5KTtcbiAgICAgICAgdGhpcy5fZWxlbXMubGlua0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGxpbmtVUkwgPSB3aW5kb3cucHJvbXB0KFwiV2hhdCBzaG91bGQgdGhlIGxpbmsgYmUgc2V0IHRvP1wiLCB0aGlzLl9kYXRhKTtcbiAgICAgICAgICAgIC8vIG5vIGNoYW5nZSBvciBjYW5jZWw6IGRvbid0IGNvbnRpbnVlXG4gICAgICAgICAgICBpZiAobGlua1VSTCA9PT0gdGhpcy5fZGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChsaW5rVVJMKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSBzYXZlIG9mZiB0aGUgbGluayBhbmQgdXNlIGl0IGluIG91ciBjaGFuZ2UgZnVuY3Rpb25cbiAgICAgICAgICAgIHRoaXMuX3RlbXBMaW5rID0gbGlua1VSTDtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZUV2ZW50RmlyZWQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIERyYXcgdGhlIG9wdGlvbiBmb3IgZmlsZSB1cGxvYWRcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQgPSBoZWxwZXJzXzEuY3JlYXRlSW5wdXRFbGVtZW50KHRoaXMuX2lkICsgXCJ8aW5wdXRcIiwgXCJwaG90b0lucHV0XCIsIFwiZmlsZVwiLCBcIlwiLCBudWxsLCBudWxsLCB0aGlzLl9lbGVtcy5vdmVybGF5KTtcbiAgICAgICAgdGhpcy5fZWxlbXMudXBsb2FkQnRuID0gaGVscGVyc18xLmNyZWF0ZUxhYmVsRm9ySW5wdXQoXCJVUExPQURcIiwgdGhpcy5faWQgKyBcInxpbnB1dFwiLCBcInBob3RvQnRuIHVwbG9hZFwiLCB0aGlzLl9lbGVtcy5vdmVybGF5KTtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VFdmVudEZpcmVkKCk7XG4gICAgICAgICAgICB0aGlzLl9vbkZpbGVTZWxlY3RlZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlQ2xvbmVkRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgY2xvbmluZyB0aGlzIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gICBhcHBlbmRUb0lEICBJZiBwcm92aWRlZCwgdGhlIElEIHRvIGFwcGVuZCB0byB0aGlzIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBjbG9uZWQgZWxlbWVudFxuICAgICAqL1xuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQaG90b1BhdGhGaWVsZCh0aGlzLmlkICsgYXBwZW5kVG9JRCwgdGhpcy5fY29uZmlnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdXBkYXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFVwZGF0ZSB0aGUgZGF0YSB3aXRoaW4gdGhpcyBmb3JtXG4gICAgICogQHBhcmFtICAgZGF0YSAgICBUaGUgZGV0YWlscyB0byB1cGRhdGUgdGhpcyBlbGVtZW50IHdpdGhcbiAgICAgKi9cbiAgICB1cGRhdGUoZGF0YSwgYWxsb3dFdmVudHMpIHtcbiAgICAgICAgdGhpcy5fZmlsZXMgPSBudWxsO1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIGRhdGEgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLl9lbGVtcy5kaXNwbGF5LnNyYyA9IGRhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkZpbGVTZWxlY3RlZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoYW5kbGUgd2hlbiBhIGZpbGUgaXMgc2VsZWN0ZWRcbiAgICAgKi9cbiAgICBfb25GaWxlU2VsZWN0ZWQoKSB7XG4gICAgICAgIGxldCBmaWxlO1xuICAgICAgICAvLyBRdWl0IGVhcmx5IGlmIHdlIGRvbid0IGhhdmUgYW55IGZpbGVzXG4gICAgICAgIGlmICghdGhpcy5fZmlsZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUcnkgdG8gZ3JhYiB0aGUgZmlyc3QgZmlsZSAmIHF1aXQgaWYgd2UgY2FuJ3RcbiAgICAgICAgZmlsZSA9IHRoaXMuX2ZpbGVzWzBdO1xuICAgICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb2FkIHRoZSBpbWFnZSBhcyBhIHByZXZpZXdcbiAgICAgICAgdGhpcy5fcmVhZEZpbGUoZmlsZSlcbiAgICAgICAgICAgIC50aGVuKChwaG90b1VSTCkgPT4geyB0aGlzLl9lbGVtcy5kaXNwbGF5LnNyYyA9IHBob3RvVVJMOyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uTGlua0NoYW5nZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBtYW5hZ2Ugd2hlbiB0aGUgZGV0YWlscyBvZiB0aGlzIHBob3RvIGNoYW5nZVxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGxpbmsgd2FzIGNoYW5nZWQgYXBwcm9wcmlhdGVseVxuICAgICAqL1xuICAgIF9vbkxpbmtDaGFuZ2UoKSB7XG4gICAgICAgIGxldCBsaW5rID0gc3VwZXIuX29uTGlua0NoYW5nZSgpO1xuICAgICAgICB0aGlzLl9lbGVtcy5kaXNwbGF5LnNyYyA9IGxpbms7XG4gICAgICAgIHJldHVybiBsaW5rO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25DbGVhclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoYW5kbGUgY2xlYXJpbmcgZGV0YWlscyB3aXRoaW4gdGhlIGZpbGUgc2VsZWN0b3JcbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IFwiXCI7XG4gICAgICAgIHRoaXMuX2VsZW1zLmRpc3BsYXkuc3JjID0gXCJcIjsgLy8gcmVzZXQgdGhlIHBob3RvbGlua1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzYXZlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSAgIGludGVybmFsT25seSAgICBJZiB0cnVlLCB3ZSdyZSBvbmx5IHNhdmluZyB0byBvdXIgb3duIGRhdGEgZmllbGQsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIG5vdCBhbiBleHRlcm5hbCBjYWxsZXJzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgZmlsZSBwYXRoIHRoYXQgaXMgbm93IHNhdmVkXG4gICAgICovXG4gICAgc2F2ZShpbnRlcm5hbE9ubHkpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmIChpbnRlcm5hbE9ubHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IC8vIERvbid0IGRvIGFueXRoaW5nIGlmIHRoaXMgaXMgYW4gaW50ZXJuYWwgY2hhbmdlXG4gICAgICAgICAgICBpZiAodGhpcy5fZmlsZXMgJiYgdGhpcy5fb25TYXZlQ2FsbGJhY2spIHsgLy8gTWFrZSBzdXJlIHRoYXQgaWYgd2UgaGF2ZSBmaWxlcywgd2UncmUgdXBsb2FkaW5nIHRoZW1cbiAgICAgICAgICAgICAgICBsZXQgYmxvYnMgPSB5aWVsZCB0aGlzLl9yZXNpemVJbWFnZXModGhpcy5fZmlsZXMpOyAvLyByZXNpemUgaW1hZ2VzIGFzIGFwcHJvcHJpYXRlXG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YSA9IHlpZWxkIHRoaXMuX29uU2F2ZUNhbGxiYWNrKHRoaXMuX2ZpbGVzLCBibG9icyk7IC8vIFJ1biBvdXIgY2FsbGJhY2tcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhOyAvLyBSZXR1cm4gdGhlIGFwcHJvcHJpYXRlIGRhdGFcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhFTFBFUlNcbiAgICBfcmVhZEZpbGUoZmlsZSwgZGVmZXIpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZpbGVSZWFkZXIucmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfbG9hZEltYWdlKGRhdGFVcmwpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGltZy5zcmMgPSBkYXRhVXJsO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHsgcmVzb2x2ZShpbWcpOyB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVuZGVyT25DYW52YXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogZ2VuZXJhdGUgdGhlIGZpbGVzIG9uIGNhbnZhcywgaW4gb3JkZXIgdG8gcmVzaXplIHRoZW1cbiAgICAgKi9cbiAgICBfcmVuZGVyT25DYW52YXMoaW1nKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgY3ZzID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoeyB0eXBlOiBcImNhbnZhc1wiIH0pO1xuICAgICAgICAgICAgLy8gc2V0IGRlZmF1bHQgY2FudmFzIHNpemVcbiAgICAgICAgICAgIGN2cy53aWR0aCA9IHRoaXMuX2NvbmZpZy5tYXhTaXplO1xuICAgICAgICAgICAgY3ZzLmhlaWdodCA9IHRoaXMuX2NvbmZpZy5tYXhTaXplO1xuICAgICAgICAgICAgLy8gYWRhcHQgY2FudmFzIHRvIGltZyBzaXplXG4gICAgICAgICAgICBpZiAoaW1nLndpZHRoID4gaW1nLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGN2cy5oZWlnaHQgPSAoaW1nLmhlaWdodCAqIHRoaXMuX2NvbmZpZy5tYXhTaXplKSAvIGltZy53aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGltZy5oZWlnaHQgPiBpbWcud2lkdGgpIHtcbiAgICAgICAgICAgICAgICBjdnMud2lkdGggPSAoaW1nLndpZHRoICogdGhpcy5fY29uZmlnLm1heFNpemUpIC8gaW1nLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlbmRlciB0aGUgaW1hZ2UgYXQgdGhpcyBzaXplXG4gICAgICAgICAgICBsZXQgY3R4ID0gY3ZzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBjdnMud2lkdGgsIGN2cy5oZWlnaHQpO1xuICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBjYW52YXMncyBkYXRhIGFzIGEgZmlsZVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgY3ZzLnRvQmxvYigoYmxvYikgPT4geyByZXNvbHZlKGJsb2IpOyB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3Jlc2l6ZUltYWdlc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiByZXNpemUgYWxsIGltYWdlcyBpbmNsdWRlZCBpbiB0aGlzIGltYWdlIHVwbG9hZFxuICAgICAqL1xuICAgIF9yZXNpemVJbWFnZXMoZmlsZXMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHF1aXQgaWYgdGhlcmUgaXMgbm8gcmVzaXppbmcgdG8gZG9cbiAgICAgICAgICAgIGlmICghdGhpcy5fY29uZmlnLm1heFNpemUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBvdXRGaWxlcyA9IFtdO1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGVhY2ggZmlsZSBhbmQgcmVzaXplIGl0XG4gICAgICAgICAgICBmb3IgKGxldCBmSWR4ID0gMDsgZklkeCA8IGZpbGVzLmxlbmd0aDsgZklkeCArPSAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IGJsb2IgPSB5aWVsZCB0aGlzLl9yZXNpemVJbWFnZShmaWxlc1tmSWR4XSwgb3V0RmlsZXMpO1xuICAgICAgICAgICAgICAgIG91dEZpbGVzLnB1c2goYmxvYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZXR1cm4gdGhlIHJlc2l6ZWQgaW1hZ2VzXG4gICAgICAgICAgICByZXR1cm4gb3V0RmlsZXM7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfcmVzaXplSW1hZ2UoZmlsZSwgb3V0RmlsZXMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBkYXRhVXJsID0geWllbGQgdGhpcy5fcmVhZEZpbGUoZmlsZSk7XG4gICAgICAgICAgICBsZXQgaW1nID0geWllbGQgdGhpcy5fbG9hZEltYWdlKGRhdGFVcmwpO1xuICAgICAgICAgICAgbGV0IGJsb2IgPSB5aWVsZCB0aGlzLl9yZW5kZXJPbkNhbnZhcyhpbWcpO1xuICAgICAgICAgICAgcmV0dXJuIGJsb2I7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuUGhvdG9QYXRoRmllbGQgPSBQaG90b1BhdGhGaWVsZDtcbi8vLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG4vKiogc3R5bGUgdGhlIGVsZW1lbnRzIGZvciB0aGlzIGZvcm0gZWxlbWVudCAqL1xuUGhvdG9QYXRoRmllbGQuX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi5raXBGb3JtRWxlbS5waG90b3BhdGggLnBob3RvT3ZlcmxheVwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDAsMCwwLC41KVwiLFxuICAgICAgICBvcGFjaXR5OiBcIjBcIixcbiAgICAgICAgdHJhbnNpdGlvbjogXCIuMXMgb3BhY2l0eSBlYXNlLWluLW91dFwiLFxuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBsZWZ0OiBcIjBcIixcbiAgICAgICAgdG9wOiBcIjBcIixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCIxMDAlXCJcbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtLnBob3RvcGF0aCAucGhvdG9XcmFwcGVyOmhvdmVyIC5waG90b092ZXJsYXlcIjoge1xuICAgICAgICBvcGFjaXR5OiBcIjFcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0ucGhvdG9wYXRoIC5waG90b1dyYXBwZXJcIjoge1xuICAgICAgICB3aWR0aDogXCIxMDBweFwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwcHhcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwcHhcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCA8Zm9ybVRoZW1lPlwiLFxuICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0ucGhvdG9wYXRoIC5waG90b1dyYXBwZXIgaW1nXCI6IHtcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5waG90b3BhdGggLnBob3RvV3JhcHBlciAucGhvdG9CdG5cIjoge1xuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCI8Zm9ybVRoZW1lPlwiLFxuICAgICAgICBjb2xvcjogXCIjRkZGXCIsXG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgZm9udFNpemU6IFwiMC43ZW1cIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgbWFyZ2luVG9wOiBcIjZweFwiLFxuICAgICAgICBvcGFjaXR5OiBcIjAuOFwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5waG90b3BhdGggLnBob3RvV3JhcHBlciAucGhvdG9CdG46aG92ZXJcIjoge1xuICAgICAgICBvcGFjaXR5OiBcIjFcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0ucGhvdG9wYXRoIC5waG90b1dyYXBwZXIgaW5wdXRbdHlwZT0nZmlsZSddXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vX2Zvcm1cIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZW1iZWRkZWRGb3JtXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2Z1bGxTY3JlZW5Gb3JtXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2lubGluZUZvcm1cIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcG9wdXBGb3JtXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2Zvcm1fMSA9IHJlcXVpcmUoXCIuL19mb3JtXCIpO1xuY2xhc3MgRW1iZWRkZWRGb3JtIGV4dGVuZHMgX2Zvcm1fMS5fRm9ybSB7XG59XG5leHBvcnRzLkVtYmVkZGVkRm9ybSA9IEVtYmVkZGVkRm9ybTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2Zvcm1fMSA9IHJlcXVpcmUoXCIuL19mb3JtXCIpO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi4vLi4vc3R5bGVIZWxwZXJzL2Nzc1wiKTtcbmNsYXNzIEZ1bGxTY3JlZW5Gb3JtIGV4dGVuZHMgX2Zvcm1fMS5fRm9ybSB7XG4gICAgX2dldFVuY29sb3JlZFN0eWxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlVGhlbWVzKEZ1bGxTY3JlZW5Gb3JtLl91bmNvbG9yZWRTdHlsZXMsIF9mb3JtXzEuX0Zvcm0uX3VuY29sb3JlZFN0eWxlcyk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ1JFQVRFIEVMRU1FTlRTXG4gICAgX2NyZWF0ZUJhc2UoKSB7XG4gICAgICAgIGxldCBvdXQgPSBzdXBlci5fY3JlYXRlQmFzZSgpO1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyhvdXQsIFwiZnVsbHNjcmVlblwiKTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG59XG5leHBvcnRzLkZ1bGxTY3JlZW5Gb3JtID0gRnVsbFNjcmVlbkZvcm07XG4vLy4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuRnVsbFNjcmVlbkZvcm0uX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi5raXBGb3JtLmZ1bGxzY3JlZW5cIjoge1xuICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgICBsZWZ0OiBcIjBcIixcbiAgICAgICAgdG9wOiBcIjBcIixcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCI8Zm9ybUJhY2tncm91bmRUaGVtZT5cIixcbiAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICBcIi5iYWNrZ3JvdW5kXCI6IHtcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogXCIxMDAwcHhcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI0ZGRlwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZzogXCIxNXB4XCIsXG4gICAgICAgICAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLnNlY3Rpb25IZWFkZXJDb250YWluZXJcIjoge1xuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgICAgICAgICBcIi5zZWN0aW9uSGVhZGVyXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIi5jYXJldFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiBcIjVweFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfZm9ybV8xID0gcmVxdWlyZShcIi4vX2Zvcm1cIik7XG5jb25zdCBjc3NfMSA9IHJlcXVpcmUoXCIuLi8uLi9zdHlsZUhlbHBlcnMvY3NzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRJbmxpbmVGb3JtXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBzcGVjaWFsIHR5cGUgb2YgZm9ybSB0aGF0IGRvZXNuJ3QgcmVuZGVyIGJ1dHRvbnMsIGJ1dCBpbnN0ZWFkIHNhdmVzXG4gKiBldmVyeXRpbWUgdGhlcmUgaXMgYSBjaGFuZ2VcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb25cdDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIElubGluZUZvcm0gZXh0ZW5kcyBfZm9ybV8xLl9Gb3JtIHtcbiAgICBfZ2V0VW5jb2xvcmVkU3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVyZ2VUaGVtZXMoSW5saW5lRm9ybS5fdW5jb2xvcmVkU3R5bGVzLCBfZm9ybV8xLl9Gb3JtLl91bmNvbG9yZWRTdHlsZXMpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIF9jcmVhdGVCYXNlKCkge1xuICAgICAgICBsZXQgb3V0ID0gc3VwZXIuX2NyZWF0ZUJhc2UoKTtcbiAgICAgICAgY3NzXzEuYWRkQ2xhc3Mob3V0LCBcImlubGluZVwiKTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgX2NyZWF0ZVBvc3RGb3JtKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgX29uRm9ybUNoYW5nZShldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzRm9ybUNoYW5nZUZvck1lKGV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFueSBjaGFuZ2Ugd2l0aGluIG91ciBmb3JtIHNob3VsZCBiZSB0cmVhdGVkIGFzIGEgc2F2ZSBmb3IgXG4gICAgICAgIC8vIGlubGluZSBmb3Jtc1xuICAgICAgICB0aGlzLnRyeVNhdmUoKTtcbiAgICB9XG59XG5leHBvcnRzLklubGluZUZvcm0gPSBJbmxpbmVGb3JtO1xuLy8uLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBTVFlMRVNcbklubGluZUZvcm0uX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi5raXBGb3JtLmlubGluZVwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgIFwiLmZvcm1DaGlsZHJlbi5mbGV4IC5raXBGb3JtRWxlbVwiOiB7XG4gICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMjBweFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9mb3JtXzEgPSByZXF1aXJlKFwiLi9fZm9ybVwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uLy4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vLi4vYXN5bmNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdFBvcHVwRm9ybVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogZm9ybSB0aGF0IHJlbmRlcnMgYXMgYSBwb3B1cCBkaXNwbGF5IGF1dG9tYXRpY2FsbHlcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb25cdDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFBvcHVwRm9ybSBleHRlbmRzIF9mb3JtXzEuX0Zvcm0ge1xuICAgIF9nZXRVbmNvbG9yZWRTdHlsZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXJnZVRoZW1lcyhQb3B1cEZvcm0uX3VuY29sb3JlZFN0eWxlcywgX2Zvcm1fMS5fRm9ybS5fdW5jb2xvcmVkU3R5bGVzKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICBfY3JlYXRlQmFzZSgpIHtcbiAgICAgICAgbGV0IG91dCA9IHN1cGVyLl9jcmVhdGVCYXNlKCk7XG4gICAgICAgIGNzc18xLmFkZENsYXNzKG91dCwgXCJwb3B1cFwiKTtcbiAgICAgICAgY3NzXzEuYWRkQ2xhc3Mob3V0LCBcImhpZGRlblwiKTtcbiAgICAgICAgdGhpcy5faXNIaWRkZW4gPSB0cnVlO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBfY3JlYXRlUHJlRm9ybSgpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMub3ZlcmxheSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJmb3JtT3ZlcmxheVwiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlLFxuICAgICAgICB9KTtcbiAgICAgICAgc3VwZXIuX2NyZWF0ZVByZUZvcm0oKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuY2xvc2VCdXR0b24gPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwiY2xvc2Uga2lwQnRuXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIiYjeDI3MTU7XCIsXG4gICAgICAgICAgICBldmVudExpc3RlbmVyczoge1xuICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGFzeW5jXzEud2FpdCgxMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJ5Q2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVRpdGxlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtcy5vdmVybGF5O1xuICAgIH1cbiAgICBfY3JlYXRlVGl0bGUoKSB7XG4gICAgICAgIGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJ0aXRsZUJhclwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICB7IGNsczogXCJmb3JtVGl0bGVcIiwgY29udGVudDogdGhpcy5fY29uZmlnLmhpZGVUaXRsZSA/IFwiXCIgOiB0aGlzLl9jb25maWcubGFiZWwgfSxcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtcy5jbG9zZUJ1dHRvblxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuYmFja2dyb3VuZFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGNoaWxkIGRvZXNuJ3QgcmVuZGVyIHRoZSB0aXRsZVxuICAgICAgICB0aGlzLl9jb25maWcuaGlkZVRpdGxlID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gU0FWSU5HIEFORCBDQU5DRUxJTkdcbiAgICB0cnlTYXZlKCkge1xuICAgICAgICBjb25zdCBfc3VwZXIgPSBPYmplY3QuY3JlYXRlKG51bGwsIHtcbiAgICAgICAgICAgIHRyeVNhdmU6IHsgZ2V0OiAoKSA9PiBzdXBlci50cnlTYXZlIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgb3V0ID0gX3N1cGVyLnRyeVNhdmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRyeUNhbmNlbChpZ25vcmVVbnNhdmVkQ2hhbmdlcykge1xuICAgICAgICBsZXQgb3V0ID0gc3VwZXIudHJ5Q2FuY2VsKCk7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhPVyBPUiBISURFIEZPUk1cbiAgICAvKipcbiAgICAqIHNob3dcbiAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAqIHNob3cgdGhlIGZvcm0gb24gdGhlIGFwcHJvcHJpYXRlIHBhcmVudCBpZiBpdCBzdHlsZWQgYSBhcyBhIHBvcHVwXG4gICAgKi9cbiAgICBzaG93KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzSGlkZGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJoaWRkZW5cIik7XG4gICAgICAgIHRoaXMuX2lzSGlkZGVuID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGhpZGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogaGlkZSB0aGUgZm9ybSBpZiBpdCBpcyBzdHlsZWQgYXMgYSBwb3B1cFxuICAgICAqL1xuICAgIGhpZGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0hpZGRlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiaGlkZGVuXCIpO1xuICAgICAgICB0aGlzLl9pc0hpZGRlbiA9IHRydWU7XG4gICAgfVxufVxuZXhwb3J0cy5Qb3B1cEZvcm0gPSBQb3B1cEZvcm07XG4vLy4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuUG9wdXBGb3JtLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIua2lwRm9ybS5wb3B1cFwiOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgIGxlZnQ6IFwiMFwiLFxuICAgICAgICB0b3A6IFwiMFwiLFxuICAgICAgICBtYXJnaW46IFwiMFwiLFxuICAgICAgICBwYWRkaW5nOiBcIjBcIixcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgXCImLmhpZGRlblwiOiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIi5mb3JtT3ZlcmxheVwiOiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICB0b3A6IFwiMFwiLFxuICAgICAgICAgICAgICAgIGxlZnQ6IFwiMFwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDAsMCwwLC42KVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLmJhY2tncm91bmRcIjoge1xuICAgICAgICAgICAgICAgIGJveFNoYWRvdzogXCIxcHggMXB4IDhweCAzcHggcmdiYSgwLDAsMCwuMilcIixcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiM3B4XCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNGRkZcIixcbiAgICAgICAgICAgICAgICBtaW5XaWR0aDogXCI0MCVcIixcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogXCI5MCVcIixcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6IFwiOTAlXCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgICAgICAgICBcIi50aXRsZUJhciwgLmtpcEJ0bnNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiPGZvcm1TdWJUaGVtZT5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNGRkZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiM3B4IDIwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCIuY2xvc2Uua2lwQnRuXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjEuNWVtXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCIuZm9ybVRpdGxlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhHcm93OiBcIjFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjEuNWVtXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCIuZm9ybUNvbnRlbnRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMTVweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IFwiMTAwMHB4XCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCIua2lwQnRucyAua2lwQnRuXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjRkZGXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNGRkZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiJi5wcmltYXJ5XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMS4yZW1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vY2hlY2tib3hGaWVsZFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb2xvckZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2RhdGVGaWVsZFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kYXRlVGltZUZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2hpZGRlbkZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL251bWJlckZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL29iamVjdFNlbGVjdEZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3Bhc3N3b3JkRmllbGRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcGVyY2VudGFnZUZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NlbGVjdEZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3RleHRBcmVhRmllbGRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdGV4dEZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3RpbWVGaWVsZFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9maWVsZF8xID0gcmVxdWlyZShcIi4uL19maWVsZFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBoZWxwZXJzXzEgPSByZXF1aXJlKFwiLi4vaGVscGVyc1wiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi8uLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKiBAY2xhc3MgQ2hlY2tib3hGaWVsZFxuKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qIGNyZWF0ZSBhIGNoZWNrYm94IGZvcm0gZWxlbWVudFxuKiBAYXV0aG9yICBLaXAgUHJpY2VcbiogQHZlcnNpb24gMS4wLjFcbiogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cbmNsYXNzIENoZWNrYm94RmllbGQgZXh0ZW5kcyBfZmllbGRfMS5GaWVsZCB7XG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gUFJPUEVSVElFU1xuICAgIGdldCBfdHlwZSgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRmllbGRUeXBlRW51bS5DSEVDS0JPWDsgfVxuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBnZXQgX2RlZmF1bHRDbHMoKSB7IHJldHVybiBcImNoZWNrXCI7IH1cbiAgICBnZXQgX2RlZmF1bHRMYXlvdXQoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkZvcm1FbGVtZW50TGF5b3V0RW51bS5MQUJFTF9BRlRFUjsgfVxuICAgIF9nZXRVbmNvbG9yZWRTdHlsZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXJnZVRoZW1lcyhDaGVja2JveEZpZWxkLl91bmNvbG9yZWRTdHlsZXMsIF9maWVsZF8xLkZpZWxkLl91bmNvbG9yZWRTdHlsZXMpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8qKiBjcmVhdGUgdGhlIGNoZWNrIGVsZW1lbnRzICovXG4gICAgX29uQ3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVN0YW5kYXJkSW5wdXQoKTtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBjdXN0b20gVUkgZm9yIHRoZSBjaGVja2JveFxuICAgICAgICB0aGlzLl9lbGVtcy5sYmwgPSBoZWxwZXJzXzEuY3JlYXRlTGFiZWxGb3JJbnB1dChcIlwiLCB0aGlzLl9pZCArIFwifGlucHV0XCIsIFwiXCIsIHRoaXMuX2VsZW1zLmJhc2UpO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dEJveCA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJpbnB1dEJveFwiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5sYmwsXG4gICAgICAgICAgICBhdHRyOiB7IHRhYmluZGV4OiAwIH0sXG4gICAgICAgICAgICBldmVudExpc3RlbmVyczoge1xuICAgICAgICAgICAgICAgIGtleXByZXNzOiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgIT09IDEzICYmIGV2ZW50LmtleUNvZGUgIT09IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQuY2hlY2tlZCA9ICF0aGlzLl9lbGVtcy5pbnB1dC5jaGVja2VkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0SW5uZXJCb3ggPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwiaW5uZXJJbnB1dEJveFwiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5pbnB1dEJveFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5uZXJMYmwgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlU2ltcGxlRWxlbWVudChcIlwiLCBcImlubmVyTGJsXCIsIHRoaXMuX2NvbmZpZy5sYWJlbCwgbnVsbCwgbnVsbCwgdGhpcy5fZWxlbXMubGJsKTtcbiAgICAgICAgdGhpcy5faGFuZGxlU3RhbmRhcmRMYXlvdXQoKTtcbiAgICB9XG4gICAgLyoqIGhhbmRsZSB3aGVuIHRoZSBjaGVja2JveCBpcyBjbGlja2VkICovXG4gICAgX2dldFZhbHVlRnJvbUZpZWxkKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLl9lbGVtcy5pbnB1dC5jaGVja2VkO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVDbG9uZWRFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY2xvbmUgdGhlIGFwcHJvcHJpYXRlIGVsZW1lbnRcbiAgICAgKi9cbiAgICBfY3JlYXRlQ2xvbmVkRWxlbWVudChhcHBlbmRUb0lEKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hlY2tib3hGaWVsZCh0aGlzLl9pZCArIGFwcGVuZFRvSUQsIHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiB1cGRhdGUgdGhlIGNvbnRlbnRzIG9mIHRoZSBlbGVtZW50XG4gICAgICogKi9cbiAgICB1cGRhdGUoZGF0YSwgYWxsb3dFdmVudHMpIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0LmNoZWNrZWQgPSBkYXRhO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2hlY2tib3hGaWVsZCA9IENoZWNrYm94RmllbGQ7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuQ2hlY2tib3hGaWVsZC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgICcua2lwRm9ybUVsZW0gaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJzoge1xuICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIixcbiAgICAgICAgem9vbTogXCIxLjVcIixcbiAgICAgICAgd2lkdGg6IFwiMThweFwiLFxuICAgICAgICBoZWlnaHQ6IFwiMThweFwiLFxuICAgICAgICBtYXJnaW46IFwiMFwiLFxuICAgICAgICBtYXJnaW5SaWdodDogXCI1cHhcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCA8Zm9ybVRoZW1lPlwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbSBpbnB1dFt0eXBlPSdjaGVja2JveCddICsgbGFiZWxcIjoge1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIlxuICAgIH0sXG4gICAgJy5raXBGb3JtRWxlbSBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0gKyBsYWJlbCAuaW5wdXRCb3gnOiB7XG4gICAgICAgIHdpZHRoOiBcIjE4cHhcIixcbiAgICAgICAgaGVpZ2h0OiBcIjE4cHhcIixcbiAgICAgICAgbWFyZ2luOiBcIjBcIixcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiNXB4XCIsXG4gICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgPGZvcm1UaGVtZT5cIixcbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgYm94U2l6aW5nOiBcImNvbnRlbnQtYm94XCIsXG4gICAgICAgIGZsZXhTaHJpbms6IFwiMFwiLFxuICAgICAgICBtYXJnaW5Ub3A6IFwiNHB4XCJcbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtIGlucHV0W3R5cGU9J2NoZWNrYm94J10gKyBsYWJlbCAuaW5wdXRCb3ggLmlubmVySW5wdXRCb3hcIjoge1xuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICB3aWR0aDogXCIwXCIsXG4gICAgICAgIGhlaWdodDogXCIwXCIsXG4gICAgICAgIGxlZnQ6IFwiOXB4XCIsXG4gICAgICAgIHRvcDogXCI5cHhcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIjxmb3JtVGhlbWU+XCIsXG4gICAgICAgIHRyYW5zaXRpb246IFwiYWxsIGVhc2UtaW4tb3V0IC4xc1wiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbSBpbnB1dFt0eXBlPSdjaGVja2JveCddOmNoZWNrZWQgKyBsYWJlbCAuaW5wdXRCb3ggLmlubmVySW5wdXRCb3gsIC5raXBGb3JtRWxlbSBpbnB1dFt0eXBlPSdjaGVja2JveCddOmNoZWNrZWQgKyBsYWJlbDpob3ZlciAuaW5wdXRCb3ggLmlubmVySW5wdXRCb3hcIjoge1xuICAgICAgICBsZWZ0OiBcIjJweFwiLFxuICAgICAgICB0b3A6IFwiMnB4XCIsXG4gICAgICAgIHdpZHRoOiBcIjE0cHhcIixcbiAgICAgICAgaGVpZ2h0OiBcIjE0cHhcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0gaW5wdXRbdHlwZT0nY2hlY2tib3gnXSArIGxhYmVsOmhvdmVyIC5pbnB1dEJveCAuaW5uZXJJbnB1dEJveFwiOiB7XG4gICAgICAgIGxlZnQ6IFwiNHB4XCIsXG4gICAgICAgIHRvcDogXCI0cHhcIixcbiAgICAgICAgd2lkdGg6IFwiMTBweFwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTBweFwiLFxuICAgICAgICBvcGFjaXR5OiBcIjAuN1wiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5jaGVjayBpbnB1dFt0eXBlPSdjaGVja2JveCddICsgbGFiZWwgLmlubmVyTGJsXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICBmb250U2l6ZTogXCIwLjllbVwiLFxuICAgICAgICBwYWRkaW5nVG9wOiBcIjNweFwiXG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuLi9faW50ZXJmYWNlc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIENvbG9yRmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZXMgYSBmb3JtIGVsZW1lbnQgZm9yIGNvbGxlY3RpbmcgY29sb3JzXG4gKiBAdmVyc2lvbiAxLjAuMVxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIENvbG9yRmllbGQgZXh0ZW5kcyBfZmllbGRfMS5GaWVsZCB7XG4gICAgLyoqIHR5cGUgb2YgZWxlbWVudCAqL1xuICAgIGdldCBfdHlwZSgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRmllbGRUeXBlRW51bS5DT0xPUjsgfVxuICAgIC8qKiBkZWZhdWx0IHZhbHVlIHRvIHVzZSAqL1xuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4gXCIjMDAwMDAwXCI7IH1cbiAgICAvKiogZGVmYXVsdCBDU1MgY2xhc3MgdG8gdXNlICovXG4gICAgZ2V0IF9kZWZhdWx0Q2xzKCkgeyByZXR1cm4gXCJjb2xvclwiOyB9XG4gICAgLyoqXG4gICAgICogX29uQ3JlYXRlRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGVsZW1lbnRzIGZvciB0aGlzIGZvcm0gZWxlbWVudFxuICAgICAqL1xuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9jcmVhdGVTdGFuZGFyZExhYmVsZWRJbnB1dCgpO1xuICAgICAgICB0aGlzLl9oYW5kbGVTdGFuZGFyZExheW91dCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25DaGFuZ2VcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlIHRoZSBjaGFuZ2UgZXZlbnQgZm9yIHRoaXMgaW5wdXRcbiAgICAgKi9cbiAgICBfZ2V0VmFsdWVGcm9tRmllbGQoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVDbG9uZWRFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENsb25lIHRoaXMgZWxlbWVudFxuICAgICAqIEBwYXJhbSAgIGFwcGVuZFRvSUQgIEFkZGl0aW9uYWwgSUQgcGllY2UgdG8gdXNlXG4gICAgICovXG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JRCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbG9yRmllbGQodGhpcy5faWQgKyBhcHBlbmRUb0lELCB0aGlzKTtcbiAgICB9XG59XG5leHBvcnRzLkNvbG9yRmllbGQgPSBDb2xvckZpZWxkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfZmllbGRfMSA9IHJlcXVpcmUoXCIuLi9fZmllbGRcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgZGF0ZXNfMSA9IHJlcXVpcmUoXCIuLi8uLi9wcmltaXRpdmVIZWxwZXJzL2RhdGVzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKiBAY2xhc3MgRGF0ZUZpZWxkXG4qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiogY3JlYXRlIGEgZGF0ZSBlbGVtZW50IGZvciBhIGZvcm1cbiogQGF1dGhvciAgS2lwIFByaWNlXG4qIEB2ZXJzaW9uIDEuMC4xXG4qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiovXG5jbGFzcyBEYXRlRmllbGQgZXh0ZW5kcyBfZmllbGRfMS5GaWVsZCB7XG4gICAgZ2V0IF90eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtLkRBVEU7IH1cbiAgICBnZXQgX2RlZmF1bHRWYWx1ZSgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBnZXQgX2RlZmF1bHRDbHMoKSB7IHJldHVybiBcImRhdGVcIjsgfVxuICAgIC8qKiBjcmVhdGUgdGhlIGRpc3BsYXkgZm9yIHRoZSBkYXRlIGVsZW1lbnQgKi9cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5fY3JlYXRlU3RhbmRhcmRMYWJlbGVkSW5wdXQoKTtcbiAgICAgICAgdGhpcy5faGFuZGxlU3RhbmRhcmRMYXlvdXQoKTtcbiAgICB9XG4gICAgX2dldFZhbHVlRnJvbUZpZWxkKCkge1xuICAgICAgICAvLyBmaXJzdCBjb252ZXJ0IHRoZSBzdHJpbmcgdmFsdWUgdG8gYSBkYXRlXG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlO1xuICAgICAgICBsZXQgZGF0ZVZhbHVlID0gZGF0ZXNfMS5pbnB1dFRvRGF0ZSh2YWx1ZSk7XG4gICAgICAgIC8vIHJ1biBzdGFuZGFyZCB2YWxpZGF0aW9uc1xuICAgICAgICByZXR1cm4gZGF0ZVZhbHVlO1xuICAgIH1cbiAgICBfY3JlYXRlQ2xvbmVkRWxlbWVudChhcHBlbmRUb0lEKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZUZpZWxkKHRoaXMuX2lkICsgYXBwZW5kVG9JRCwgdGhpcyk7XG4gICAgfVxuICAgIHVwZGF0ZShkYXRhLCBhbGxvd0V2ZW50cykge1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtcy5pbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlID0gZGF0ZXNfMS5pbnB1dERhdGVGbXQoZGF0YSk7XG4gICAgfVxuICAgIF90ZXN0RXF1YWxpdHkobmV3RGF0ZSkge1xuICAgICAgICByZXR1cm4gKGRhdGVzXzEuZGF0ZURpZmYobmV3RGF0ZSwgdGhpcy5fZGF0YSkgPT09IDApO1xuICAgIH1cbn1cbmV4cG9ydHMuRGF0ZUZpZWxkID0gRGF0ZUZpZWxkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfZmllbGRfMSA9IHJlcXVpcmUoXCIuLi9fZmllbGRcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uLy4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG5jb25zdCBoZWxwZXJzXzEgPSByZXF1aXJlKFwiLi4vaGVscGVyc1wiKTtcbmNvbnN0IGRhdGVzXzEgPSByZXF1aXJlKFwiLi4vLi4vcHJpbWl0aXZlSGVscGVycy9kYXRlc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyBEYXRlVGltZUZpZWxkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjcmVhdGUgYW4gZWxlbWVudCB0byBjb2xsZWN0IGRhdGUgYW5kIHRpbWUgZm9yIGEgZm9ybVxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBEYXRlVGltZUZpZWxkIGV4dGVuZHMgX2ZpZWxkXzEuRmllbGQge1xuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFBST1BFUlRJRVNcbiAgICBnZXQgX3R5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkZpZWxkVHlwZUVudW0uREFURV9USU1FOyB9XG4gICAgZ2V0IF9kZWZhdWx0VmFsdWUoKSB7IHJldHVybiBudWxsOyB9XG4gICAgZ2V0IF9kZWZhdWx0Q2xzKCkgeyByZXR1cm4gXCJkYXRlVGltZVwiOyB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5fY3JlYXRlU3RhbmRhcmRMYWJlbCh0aGlzLl9lbGVtcy5iYXNlKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXRXcmFwcGVyID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJpbnB1dHNcIiwgXCJcIiwgbnVsbCwgbnVsbCwgdGhpcy5fZWxlbXMuYmFzZSk7XG4gICAgICAgIC8vIGRyYXcgdGhlIGRhdGVcbiAgICAgICAgbGV0IGRhdGVXcmFwcGVyID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoeyBjbHM6IFwiZGF0ZVdyYXBwZXJcIiwgcGFyZW50OiB0aGlzLl9lbGVtcy5pbnB1dFdyYXBwZXIgfSk7XG4gICAgICAgIGxldCBkYXRlTGJsID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJsYmxcIiwgXCJEYXRlOiBcIiwgbnVsbCwgbnVsbCwgZGF0ZVdyYXBwZXIpO1xuICAgICAgICB0aGlzLl9lbGVtcy5kYXRlSW5wdXQgPSBoZWxwZXJzXzEuY3JlYXRlSW5wdXRFbGVtZW50KFwiXCIsIFwiZGF0ZUlucHV0XCIsIFwiZGF0ZVwiLCB0aGlzLl9kYXRhLCBudWxsLCBudWxsLCBkYXRlV3JhcHBlcik7XG4gICAgICAgIHRoaXMuX2VsZW1zLmRhdGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZUV2ZW50RmlyZWQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGRyYXcgdGhlIHRpbWVcbiAgICAgICAgbGV0IHRpbWVWYWwgPSAodGhpcy5fZGF0YSA/IGRhdGVzXzEuc2hvcnRUaW1lKHRoaXMuX2RhdGEpIDogXCJcIik7XG4gICAgICAgIGxldCB0aW1lV3JhcHBlciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHsgY2xzOiBcInRpbWVXcmFwcGVyXCIsIHBhcmVudDogdGhpcy5fZWxlbXMuaW5wdXRXcmFwcGVyIH0pO1xuICAgICAgICBsZXQgdGltZUxibCA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwibGJsXCIsIFwiVGltZTogXCIsIG51bGwsIG51bGwsIHRpbWVXcmFwcGVyKTtcbiAgICAgICAgdGhpcy5fZWxlbXMudGltZUlucHV0ID0gaGVscGVyc18xLmNyZWF0ZUlucHV0RWxlbWVudChcIlwiLCBcInRpbWVJbnB1dFwiLCBcInRpbWVcIiwgdGltZVZhbCwgbnVsbCwgbnVsbCwgdGltZVdyYXBwZXIpO1xuICAgICAgICB0aGlzLl9lbGVtcy50aW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VFdmVudEZpcmVkKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfZ2V0VmFsdWVGcm9tRmllbGQoKSB7XG4gICAgICAgIGxldCB0aW1lU3RyID0gdGhpcy5fZWxlbXMudGltZUlucHV0LnZhbHVlO1xuICAgICAgICBsZXQgZGF0ZVN0ciA9IHRoaXMuX2VsZW1zLmRhdGVJbnB1dC52YWx1ZTtcbiAgICAgICAgbGV0IGRhdGUgPSBkYXRlc18xLmlucHV0VG9EYXRlKGRhdGVTdHIsIHRpbWVTdHIpO1xuICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JRCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGVUaW1lRmllbGQodGhpcy5faWQgKyBhcHBlbmRUb0lELCB0aGlzKTtcbiAgICB9XG4gICAgdXBkYXRlKGRhdGEsIGFsbG93RXZlbnRzKSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgICAgIGlmICghdGhpcy5fZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9lbGVtcy5kYXRlSW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLmRhdGVJbnB1dC52YWx1ZSA9IGRhdGVzXzEuaW5wdXREYXRlRm10KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9lbGVtcy50aW1lSW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLnRpbWVJbnB1dC52YWx1ZSA9IGRhdGVzXzEuaW5wdXRUaW1lRm10KGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5EYXRlVGltZUZpZWxkID0gRGF0ZVRpbWVGaWVsZDtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG5EYXRlVGltZUZpZWxkLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIua2lwRm9ybUVsZW0uZGF0ZVRpbWUgLmlucHV0c1wiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIGZsZXhXcmFwOiBcIndyYXBcIixcbiAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICBcIi5kYXRlV3JhcHBlclwiOiB7XG4gICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMTBweFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtLmRhdGVUaW1lIC5pbnB1dHMgaW5wdXRcIjoge1xuICAgICAgICBtYXJnaW5SaWdodDogXCIyMHB4XCIsXG4gICAgICAgIGZsZXhHcm93OiBcIjFcIixcbiAgICAgICAgbWluV2lkdGg6IFwiMTUwcHhcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0uZGF0ZVRpbWUgLmlucHV0cyAubGJsXCI6IHtcbiAgICAgICAgZmxleFNocmluazogXCIxXCIsXG4gICAgICAgIG1heFdpZHRoOiBcIjUwcHhcIixcbiAgICAgICAgbWFyZ2luVG9wOiBcIjRweFwiXG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfZmllbGRfMSA9IHJlcXVpcmUoXCIuLi9fZmllbGRcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL19pbnRlcmZhY2VzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIEhpZGRlbkZpZWxkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBoYW5kbGUgYSBkYXRhIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHNldCwgYnV0IG5vdCBkaXNwbGF5ZWQgdG8gdGhlIHVzZXJcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjFcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgSGlkZGVuRmllbGQgZXh0ZW5kcyBfZmllbGRfMS5GaWVsZCB7XG4gICAgZ2V0IF90eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtLkhJRERFTjsgfVxuICAgIGdldCBfZGVmYXVsdENscygpIHsgcmV0dXJuIFwiaGlkZGVuXCI7IH1cbiAgICBnZXQgX2RlZmF1bHRWYWx1ZSgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHsgfVxuICAgIF9nZXRWYWx1ZUZyb21GaWVsZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgfVxuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIaWRkZW5GaWVsZCh0aGlzLmlkICsgYXBwZW5kVG9JRCwgdGhpcyk7XG4gICAgfVxuICAgIHNhdmUoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5IaWRkZW5GaWVsZCA9IEhpZGRlbkZpZWxkO1xuSGlkZGVuRmllbGQuX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcImtpcEZvcm1FbGVtLmhpZGRlblwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwibm9uZVwiXG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IF9maWVsZF8xID0gcmVxdWlyZShcIi4uL19maWVsZFwiKTtcbmNvbnN0IGhlbHBlcnNfMSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzXCIpO1xuY29uc3QgbmF2aWdhdGVfMSA9IHJlcXVpcmUoXCIuLi8uLi9vYmplY3RIZWxwZXJzL25hdmlnYXRlXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIE9iamVjdFNlbGVjdEZpZWxkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjcmVhdGUgYSBkcm9wZG93biBmb3IgYSBmb3JtXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4xXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIE9iamVjdFNlbGVjdEZpZWxkIGV4dGVuZHMgX2ZpZWxkXzEuRmllbGQge1xuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFBST1BFUlRJRVNcbiAgICBnZXQgX3R5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkZpZWxkVHlwZUVudW0uU0VMRUNUOyB9XG4gICAgZ2V0IF9kZWZhdWx0VmFsdWUoKSB7IHJldHVybiBudWxsOyB9XG4gICAgZ2V0IF9kZWZhdWx0Q2xzKCkgeyByZXR1cm4gXCJzZWxlY3RcIjsgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLyoqXG4gICAgICogX3BhcnNlRmllbGRUZW1wbGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBHZXQgYWRkaXRpb25hbCBkZXRhaWxzIGFib3V0IGhvdyB0aGlzIHNlbGVjdCBmaWVsZCBzaG91bGQgYmUgc2V0IHVwXG4gICAgICovXG4gICAgX3BhcnNlRmllbGRUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAgICAgICBzdXBlci5fcGFyc2VGaWVsZFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgICAgLy8gcGFyc2Ugb3B0aW9ucyBpbnRvIGFuIGFycmF5IGluc3RlYWQgb2YgYSBkaWN0aW9uYXJ5XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBbXTtcbiAgICAgICAgbmF2aWdhdGVfMS5tYXAodGVtcGxhdGUub3B0aW9ucywgKG9iaiwgZGlzcGxheSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBkaXNwbGF5LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBvYmpcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uQ3JlYXRlRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIHRoZSBlbGVtZW50cyBuZWVkZWQgZm9yIHRoZSBzZWxlY3QgZmllbGRcbiAgICAgKi9cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgLy8gbWFwIHRoZSBvYmplY3RzIHRvIHRoZSBpbmRleCBpbiB3aGljaCB0aGV5IGFyZSBzdG9yZWRcbiAgICAgICAgbGV0IHNsaW1PcHRpb25zID0ge307XG4gICAgICAgIGZvciAobGV0IG9JZHggPSAwOyBvSWR4IDwgdGhpcy5fb3B0aW9ucy5sZW5ndGg7IG9JZHggKz0gMSkge1xuICAgICAgICAgICAgbGV0IG8gPSB0aGlzLl9vcHRpb25zW29JZHhdO1xuICAgICAgICAgICAgc2xpbU9wdGlvbnNbb0lkeF0gPSBvLmRpc3BsYXk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3JlYXRlIGEgc3RhbmRhcmQgc2VsZWN0IGVsZW1lbnRcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQgPSBoZWxwZXJzXzEuY3JlYXRlU2VsZWN0RWxlbWVudCh0aGlzLl9pZCwgXCJpbnB1dFwiLCBzbGltT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVN0YW5kYXJkTGFiZWwoKTtcbiAgICAgICAgdGhpcy5faGFuZGxlU3RhbmRhcmRMYXlvdXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uQ2hhbmdlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIG1hbmFnZSB3aGVuIGRldGFpbHMgaW4gdGhpcyBzZWxlY3QgZmllbGQgY2hhbmdlZFxuICAgICAqL1xuICAgIF9nZXRWYWx1ZUZyb21GaWVsZCgpIHtcbiAgICAgICAgbGV0IGlkeCA9IHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlO1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLl9vcHRpb25zW2lkeF07XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUNsb25lZEVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR2VuZXJhdGUgdGhlIGNsb25lZCBzZWxlY3QgZWxlbWVudFxuICAgICAqL1xuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmplY3RTZWxlY3RGaWVsZCh0aGlzLl9pZCArIGFwcGVuZFRvSUQsIHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydHMuT2JqZWN0U2VsZWN0RmllbGQgPSBPYmplY3RTZWxlY3RGaWVsZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuLi9faW50ZXJmYWNlc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyBQYXNzd29yZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY3JlYXRlIGEgIHBhc3N3b3JkIGVsZW1lbnQgZm9yIGEgZm9ybVxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBQYXNzd29yZEZpZWxkIGV4dGVuZHMgX2ZpZWxkXzEuRmllbGQge1xuICAgIGdldCBfdHlwZSgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRmllbGRUeXBlRW51bS5QQVNTV09SRDsgfVxuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4gXCJcIjsgfVxuICAgIGdldCBfZGVmYXVsdENscygpIHsgcmV0dXJuIFwicGFzc3dvcmRcIjsgfVxuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9jcmVhdGVTdGFuZGFyZExhYmVsZWRJbnB1dChmYWxzZSk7XG4gICAgICAgIHRoaXMuX2hhbmRsZVN0YW5kYXJkTGF5b3V0KCk7XG4gICAgfVxuICAgIF9nZXRWYWx1ZUZyb21GaWVsZCgpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5fZWxlbXMuaW5wdXQudmFsdWU7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JRCkge1xuICAgICAgICByZXR1cm4gbmV3IFBhc3N3b3JkRmllbGQodGhpcy5faWQgKyBhcHBlbmRUb0lELCB0aGlzKTtcbiAgICB9XG59XG5leHBvcnRzLlBhc3N3b3JkRmllbGQgPSBQYXNzd29yZEZpZWxkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBudW1iZXJGaWVsZF8xID0gcmVxdWlyZShcIi4vbnVtYmVyRmllbGRcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uLy4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyBcdFBlcmNlbnRhZ2VGaWVsZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTaG93IGEgbnVtZXJpYyBmb3JtIHNwZWNpZmljIHRvIHBlcmNlbnRhZ2VzLiBPbmx5IGRpZmZlcnMgZnJvbSBhIG51bWVyaWNcbiAqIGVsZW1lbnQgaW4gdGhlIGRpc3BsYXlcbiAqXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgUGVyY2VudGFnZUZpZWxkIGV4dGVuZHMgbnVtYmVyRmllbGRfMS5OdW1iZXJGaWVsZCB7XG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gUFJPUEVSVElFU1xuICAgIGdldCBfdHlwZSgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRmllbGRUeXBlRW51bS5QRVJDRU5UQUdFOyB9XG4gICAgZ2V0IF9kZWZhdWx0VmFsdWUoKSB7IHJldHVybiAwOyB9XG4gICAgZ2V0IF9kZWZhdWx0Q2xzKCkgeyByZXR1cm4gXCJwZXJjZW50YWdlXCI7IH1cbiAgICBfZ2V0VW5jb2xvcmVkU3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVyZ2VUaGVtZXMoUGVyY2VudGFnZUZpZWxkLl91bmNvbG9yZWRTdHlsZXMsIF9maWVsZF8xLkZpZWxkLl91bmNvbG9yZWRTdHlsZXMpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIF9jcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgc3VwZXIuX2NyZWF0ZUVsZW1lbnRzKCk7XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgZWxlbWVudCB0aGF0IGluZGljYXRlcyB0aGlzIGV4cGVjdHMgYSBwZXJjZW50YWdlXG4gICAgICAgIGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJwZXJjZW50YWdlTGJsXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIiVcIixcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuYmFzZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUNsb25lZEVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjcmVhdGUgYSBuZXcgcGVyY2VudGFnZSBlbGVtZW50IGFzIHJlcXVpcmVkXG4gICAgICovXG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JRCkge1xuICAgICAgICByZXR1cm4gbmV3IFBlcmNlbnRhZ2VGaWVsZCh0aGlzLl9pZCArIGFwcGVuZFRvSUQsIHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydHMuUGVyY2VudGFnZUZpZWxkID0gUGVyY2VudGFnZUZpZWxkO1xuLy8jZW5kcmVnaW9uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBTVFlMRVNcblBlcmNlbnRhZ2VGaWVsZC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLnBlcmNlbnRhZ2VcIjoge1xuICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgIFwiaW5wdXRcIjoge1xuICAgICAgICAgICAgICAgIG1heFdpZHRoOiBcIjNlbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIucGVyY2VudGFnZUxibFwiOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IFwiIzU1NVwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiNXB4XCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IF9maWVsZF8xID0gcmVxdWlyZShcIi4uL19maWVsZFwiKTtcbmNvbnN0IGhlbHBlcnNfMSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzXCIpO1xuY29uc3Qgc3RyaW5nc18xID0gcmVxdWlyZShcIi4uLy4uL3ByaW1pdGl2ZUhlbHBlcnMvc3RyaW5nc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyBTZWxlY3RGaWVsZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY3JlYXRlIGEgZHJvcGRvd24gZm9yIGEgZm9ybSB3aXRoIGVpdGhlciBudW1lcmljIG9yIHN0cmluZyBiYWNraW5nIGRhdGFcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMi4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgU2VsZWN0RmllbGQgZXh0ZW5kcyBfZmllbGRfMS5GaWVsZCB7XG4gICAgZ2V0IF90eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtLlNFTEVDVDsgfVxuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIGdldCBfZGVmYXVsdENscygpIHsgcmV0dXJuIFwic2VsZWN0XCI7IH1cbiAgICAvKipcbiAgICAgKiBfcGFyc2VGaWVsZFRlbXBsYXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEdldCBhZGRpdGlvbmFsIGRldGFpbHMgYWJvdXQgaG93IHRoaXMgc2VsZWN0IGZpZWxkIHNob3VsZCBiZSBzZXQgdXBcbiAgICAgKi9cbiAgICBfcGFyc2VGaWVsZFRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAgIHN1cGVyLl9wYXJzZUZpZWxkVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gdGVtcGxhdGUub3B0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uQ3JlYXRlRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIHRoZSBlbGVtZW50cyBuZWVkZWQgZm9yIHRoZSBzZWxlY3QgZmllbGRcbiAgICAgKi9cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQgPSBoZWxwZXJzXzEuY3JlYXRlU2VsZWN0RWxlbWVudCh0aGlzLl9pZCwgXCJpbnB1dFwiLCB0aGlzLl9vcHRpb25zKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlU3RhbmRhcmRMYWJlbCgpO1xuICAgICAgICB0aGlzLl9oYW5kbGVTdGFuZGFyZExheW91dCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25DaGFuZ2VcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogbWFuYWdlIHdoZW4gZGV0YWlscyBpbiB0aGlzIHNlbGVjdCBmaWVsZCBjaGFuZ2VkXG4gICAgICovXG4gICAgX2dldFZhbHVlRnJvbUZpZWxkKCkge1xuICAgICAgICBsZXQgdiA9IHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlO1xuICAgICAgICBsZXQgdmFsdWUgPSB2O1xuICAgICAgICBpZiAoc3RyaW5nc18xLmlzTnVtZXJpYyh2KSkge1xuICAgICAgICAgICAgdmFsdWUgPSArdjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVDbG9uZWRFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEdlbmVyYXRlIHRoZSBjbG9uZWQgc2VsZWN0IGVsZW1lbnRcbiAgICAgKi9cbiAgICBfY3JlYXRlQ2xvbmVkRWxlbWVudChhcHBlbmRUb0lEKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0RmllbGQodGhpcy5faWQgKyBhcHBlbmRUb0lELCB0aGlzKTtcbiAgICB9XG59XG5leHBvcnRzLlNlbGVjdEZpZWxkID0gU2VsZWN0RmllbGQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9maWVsZF8xID0gcmVxdWlyZShcIi4uL19maWVsZFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBoZWxwZXJzXzEgPSByZXF1aXJlKFwiLi4vaGVscGVyc1wiKTtcbmNvbnN0IGZhbHNleV8xID0gcmVxdWlyZShcIi4uLy4uL3R5cGVHdWFyZHMvZmFsc2V5XCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIFRleHRBcmVhRmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNyZWF0ZSBhIHRleHQgYXJlYSBlbGVtZW50IGZvciBhIGZvcm1cbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjFcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgVGV4dEFyZWFGaWVsZCBleHRlbmRzIF9maWVsZF8xLkZpZWxkIHtcbiAgICBnZXQgX3R5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkZpZWxkVHlwZUVudW0uVEVYVEFSRUE7IH1cbiAgICBnZXQgX2RlZmF1bHRWYWx1ZSgpIHsgcmV0dXJuIFwiXCI7IH1cbiAgICBnZXQgX2RlZmF1bHRDbHMoKSB7IHJldHVybiBcInRleHRhcmVhXCI7IH1cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgbGV0IGlucHV0ID0gaGVscGVyc18xLmNyZWF0ZUlucHV0RWxlbWVudCh0aGlzLl9pZCwgXCJpbnB1dFwiLCBcInRleHRhcmVhXCIsIHRoaXMuX2RhdGEpO1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLnVzZUdob3N0VGV4dCkge1xuICAgICAgICAgICAgaW5wdXQucGxhY2Vob2xkZXIgPSB0aGlzLl9jb25maWcubGFiZWwgfHwgXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICB0aGlzLl9jcmVhdGVTdGFuZGFyZExhYmVsKCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZVN0YW5kYXJkTGF5b3V0KCk7XG4gICAgfVxuICAgIF9nZXRWYWx1ZUZyb21GaWVsZCgpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5fZWxlbXMuaW5wdXQudmFsdWU7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxuL2csIFwiPGJyPlwiKTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC8gICAgL2csIFwiJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7XCIpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0QXJlYUZpZWxkKHRoaXMuX2lkICsgYXBwZW5kVG9JRCwgdGhpcyk7XG4gICAgfVxuICAgIHVwZGF0ZShkYXRhLCBhbGxvd0V2ZW50cykge1xuICAgICAgICBpZiAoZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQoZGF0YSkpIHtcbiAgICAgICAgICAgIGRhdGEgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICBsZXQgZGlzcGxheVN0ciA9IGRhdGEucmVwbGFjZSgvPGJyPi9nLCBcIlxcblwiKTtcbiAgICAgICAgZGlzcGxheVN0ciA9IGRpc3BsYXlTdHIucmVwbGFjZSgvXFwmbmJzcDsvZywgXCIgXCIpO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZSA9IGRpc3BsYXlTdHI7XG4gICAgfVxufVxuZXhwb3J0cy5UZXh0QXJlYUZpZWxkID0gVGV4dEFyZWFGaWVsZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuLi9faW50ZXJmYWNlc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyBUZXh0RmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNyZWF0ZSBhIHRleHQgZWxlbWVudCBmb3IgYSBmb3JtXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4xXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFRleHRGaWVsZCBleHRlbmRzIF9maWVsZF8xLkZpZWxkIHtcbiAgICBnZXQgX3R5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkZpZWxkVHlwZUVudW0uVEVYVDsgfVxuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4gXCJcIjsgfVxuICAgIGdldCBfZGVmYXVsdENscygpIHsgcmV0dXJuIFwidGV4dFwiOyB9XG4gICAgX29uQ3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVN0YW5kYXJkTGFiZWxlZElucHV0KGZhbHNlKTtcbiAgICAgICAgdGhpcy5faGFuZGxlU3RhbmRhcmRMYXlvdXQoKTtcbiAgICB9XG4gICAgX2dldFZhbHVlRnJvbUZpZWxkKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBfY3JlYXRlQ2xvbmVkRWxlbWVudChhcHBlbmRUb0lEKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dEZpZWxkKHRoaXMuX2lkICsgYXBwZW5kVG9JRCwgdGhpcyk7XG4gICAgfVxufVxuZXhwb3J0cy5UZXh0RmllbGQgPSBUZXh0RmllbGQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9maWVsZF8xID0gcmVxdWlyZShcIi4uL19maWVsZFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBkYXRlc18xID0gcmVxdWlyZShcIi4uLy4uL3ByaW1pdGl2ZUhlbHBlcnMvZGF0ZXNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgVGltZUZpZWxkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjcmVhdGUgYSB0aW1lIGVsZW1lbnQgZm9yIGEgZm9ybVxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBUaW1lRmllbGQgZXh0ZW5kcyBfZmllbGRfMS5GaWVsZCB7XG4gICAgZ2V0IF90eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtLlRJTUU7IH1cbiAgICBnZXQgX2RlZmF1bHRWYWx1ZSgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBnZXQgX2RlZmF1bHRDbHMoKSB7IHJldHVybiBcInRpbWVcIjsgfVxuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9jcmVhdGVTdGFuZGFyZExhYmVsZWRJbnB1dCgpO1xuICAgICAgICB0aGlzLl9oYW5kbGVTdGFuZGFyZExheW91dCgpO1xuICAgIH1cbiAgICBfZ2V0VmFsdWVGcm9tRmllbGQoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlO1xuICAgICAgICBsZXQgZGF0ZVZhbHVlID0gZGF0ZXNfMS5pbnB1dFRvRGF0ZShcIlwiLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBkYXRlVmFsdWU7XG4gICAgfVxuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lRmllbGQodGhpcy5faWQgKyBhcHBlbmRUb0lELCB0aGlzKTtcbiAgICB9XG4gICAgdXBkYXRlKGRhdGEsIGFsbG93RXZlbnRzKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICBpZiAoIXRoaXMuX2VsZW1zLmlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQudmFsdWUgPSBkYXRlc18xLmlucHV0VGltZUZtdChkYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLlRpbWVGaWVsZCA9IFRpbWVGaWVsZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2hpc3RvcnlcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaGlzdG9yeU5vZGVcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdW5kb0NoYWluXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaGlzdG9yeV8xID0gcmVxdWlyZShcIi4vaGlzdG9yeVwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIFVuZG9DaGFpblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQWxsb3cgYWN0aW9ucyB0byBiZSB1bmRvbmUgLyByZWRvbmVcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgVW5kb0NoYWluIGV4dGVuZHMgaGlzdG9yeV8xLkhpc3RvcnlDaGFpbiB7XG4gICAgLyoqXG4gICAgICogVW5kb0NoYWluXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSBhbiB1bmRvIGNoYWluIGFuZCByZWdpc3RlcnMgYXBwcm9wcmlhdGUgbGlzdGVuZXJzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWV2ZW50LmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IC8vIHdlIGFsd2F5cyBuZWVkIGN0cmwgdG8gYmUgcHJlc3NlZFxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgIT09IDkwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSAvLyBsaWtld2lzZSwgd2UgYWx3YXlzIG5lZWQgYSB6XG4gICAgICAgICAgICBpZiAodGhpcy5fc2hvdWxkSWdub3JlRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSAvLyBhbG8gbGlzdGVuIHRvIHVzZXItc3BlY2lmaWVkIGlnbm9yZXNcbiAgICAgICAgICAgIC8vIHNoaWZ0IGtleSBtZWFucyB3ZSdyZSB0cnlpbmcgdG8gcmVkb1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWRvKCk7XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCBwZXJmb3JtIGFuIHVuZG9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5kbygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdW5kb1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBVbmRvIGFuIGFjdGlvbi4gQWxzbyBmaXJlZCBieSBjdHJsICsgejtcbiAgICAgKi9cbiAgICB1bmRvKCkge1xuICAgICAgICBsZXQgdW5kb2FibGUgPSB0aGlzLm5hdmlnYXRlQmFjaygpO1xuICAgICAgICBpZiAoIXVuZG9hYmxlIHx8ICF1bmRvYWJsZS5yZXZlcnNlRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB1bmRvYWJsZS5yZXZlcnNlRnVuY3Rpb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcmVkb1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBSZWRvIGFuIGFjdGlvbi4gQWxzbyBmaXJlZCBieSBjdHJsICsgc2hpZnQgKyB6LlxuICAgICAqL1xuICAgIHJlZG8oKSB7XG4gICAgICAgIGxldCB1bmRvYWJsZSA9IHRoaXMubmF2aWdhdGVGb3J3YXJkKCk7XG4gICAgICAgIGlmICghdW5kb2FibGUgfHwgIXVuZG9hYmxlLmZvcndhcmRGdW5jdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHVuZG9hYmxlLmZvcndhcmRGdW5jdGlvbigpO1xuICAgIH1cbn1cbmV4cG9ydHMuVW5kb0NoYWluID0gVW5kb0NoYWluO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vX3R5cGVndWFyZHNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vY3JlYXRlRWxlbWVudFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jcmVhdGVTcGVjaWZpY0VsZW1lbnRzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2VsZW1lbnRQb3NpdGlvbmluZ1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9nZW5lcmFsSGVscGVyc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90YWJsZXNcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBpbnRlcmZhY2VHdWFyZF8xID0gcmVxdWlyZShcIi4uL3R5cGVHdWFyZHMvaW50ZXJmYWNlR3VhcmRcIik7XG4vKipcbiAqIGlzRWxlbURlZmluaXRpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNoZWNrIGlmIHRoZSBlbGVtZW50IGlzIGFuIGVsZW1lbnQgZGVmaW5pdGlvbiBpbXBsZW1lbnRhdGlvblxuICovXG5mdW5jdGlvbiBpc0lFbGVtRGVmaW5pdGlvbih0ZXN0KSB7XG4gICAgbGV0IG91dDtcbiAgICBsZXQgY29tcCA9IHtcbiAgICAgICAgYWZ0ZXJfY29udGVudDogXCJcIixcbiAgICAgICAgYXR0cjogbnVsbCxcbiAgICAgICAgYmVmb3JlX2NvbnRlbnQ6IFwiXCIsXG4gICAgICAgIGNoaWxkcmVuOiBudWxsLFxuICAgICAgICBjbHM6IFwiXCIsXG4gICAgICAgIGNvbnRlbnQ6IFwiXCIsXG4gICAgICAgIGlkOiBcIlwiLFxuICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgIHR5cGU6IFwiXCJcbiAgICB9O1xuICAgIGlmIChpbnRlcmZhY2VHdWFyZF8xLmlzSW50ZXJmYWNlKHRlc3QsIGNvbXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmlzSUVsZW1EZWZpbml0aW9uID0gaXNJRWxlbURlZmluaXRpb247XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9fdHlwZUd1YXJkc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9pZGVudGlmaWFibGVNb2RlbFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi91bmlxdWVJZFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGlzSWRlbnRpZmlhYmxlTW9kZWwobW9kZWwpIHtcbiAgICBpZiAoIW1vZGVsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFtb2RlbC5pZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy5pc0lkZW50aWZpYWJsZU1vZGVsID0gaXNJZGVudGlmaWFibGVNb2RlbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgc2VyaWFsaXphYmxlTW9kZWxfMSA9IHJlcXVpcmUoXCIuLi9zZXJpYWxpemFibGUvc2VyaWFsaXphYmxlTW9kZWxcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBJZGVudGlmaWFibGU8VD5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZXMgYSBtb2RlbCB0aGF0IGhhcyBhbiBhc3NvY2lhdGVkIElEXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIElkZW50aWZpYWJsZU1vZGVsIGV4dGVuZHMgc2VyaWFsaXphYmxlTW9kZWxfMS5TZXJpYWxpemFibGUge1xuICAgIC8qKlxuICAgICAqIElkZW50aWZpYWJsZU1vZGVsXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGEgbmV3IG1vZGVsIHdpdGggYSB1bmlxdWUgSURcbiAgICAgKiBAcGFyYW0gICBkYXRhVG9Db3B5ICBJZiBhdmFpbGFibGUsIHRoZSBpbnRlcmZhY2UgdG8gY29weSBpbnRvIHRoaXMgbW9kZWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihkYXRhVG9Db3B5KSB7XG4gICAgICAgIHN1cGVyKGRhdGFUb0NvcHkpO1xuICAgICAgICAvLyBtYWtlIHN1cmUgd2UgaGF2ZSBhbiBhcHByb3ByaWF0ZSBpZCBzdG9yZWQgc3RhdGljYWxseVxuICAgICAgICBpZiAoZGF0YVRvQ29weSAmJiBkYXRhVG9Db3B5LmlkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLl91cGRhdGVMYXN0SWQoZGF0YVRvQ29weS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pZCA9IHRoaXMuY29uc3RydWN0b3IuX2dlbmVyYXRlTmV3SWQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgaWQoKSB7IHJldHVybiB0aGlzLl9pZDsgfVxuICAgIHNldCBpZChkYXRhKSB7IHRoaXMuX2lkID0gZGF0YTsgfVxuICAgIC8qKiBhbGxvdyBjbGFzc2VzIHRvIHNwZWNpZnkgYSBwcmVmaXggdG8gdGhlaXIgSUQgZWFzaWx5ICovXG4gICAgc3RhdGljIGdldCBfcHJlZml4KCkgeyByZXR1cm4gXCJcIjsgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLyoqXG4gICAgICogX2dlbmVyYXRlTmV3SWRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBzcGluIHVwIGEgbmV3IElEIGZvciBhIG5ldyBtb2RlbFxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBuZXcgSURcbiAgICAgKi9cbiAgICBzdGF0aWMgX2dlbmVyYXRlTmV3SWQoKSB7XG4gICAgICAgIHRoaXMuX2xhc3RJZCArPSAxO1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJlZml4ICsgdGhpcy5fbGFzdElkLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF91cGRhdGVMYXN0SWRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBXaGVuIGluY29ycG9yYXRpbmcgYW4gZXhpc3RpbmcgbW9kZWwsIHVwZGF0ZSB0aGUgbGFzdCBJRCB1c2VkXG4gICAgICogQHBhcmFtICAgbGFzdElkICBNb3N0IHJlY2VudCBpRCB1c2VkIGluIGEgbW9kZWxcbiAgICAgKi9cbiAgICBzdGF0aWMgX3VwZGF0ZUxhc3RJZChsYXN0SWQpIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGFyZW4ndCBpbmNsdWRpbmcgdGhlIHByZWZpeFxuICAgICAgICBsZXQgcHJlZml4UmVnID0gbmV3IFJlZ0V4cCh0aGlzLl9wcmVmaXgsIFwiZ1wiKTtcbiAgICAgICAgbGFzdElkID0gbGFzdElkLnJlcGxhY2UocHJlZml4UmVnLCBcIlwiKTtcbiAgICAgICAgbGV0IGxhc3ROdW1lcmljSWQgPSBwYXJzZUludChsYXN0SWQpO1xuICAgICAgICAvLyBkb24ndCBmYWlsIG9uIE5hTiBjb25kaXRpb25zOyBqdXN0IGluY3JlbWVudFxuICAgICAgICBpZiAoaXNOYU4obGFzdE51bWVyaWNJZCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJZCArPSAxO1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBsYXN0IGlkIGlmIHRoaXMgaXMgZ3JlYXRlclxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxhc3ROdW1lcmljSWQgPiB0aGlzLl9sYXN0SWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJZCA9IGxhc3ROdW1lcmljSWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLklkZW50aWZpYWJsZU1vZGVsID0gSWRlbnRpZmlhYmxlTW9kZWw7XG4vKiogdHJhY2sgdGhlIGxhc3QgSUQgdXNlZCBpbiBhIG1vZGVsICovXG5JZGVudGlmaWFibGVNb2RlbC5fbGFzdElkID0gMDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xubGV0IF9pZCA9IDA7XG5mdW5jdGlvbiBnZW5lcmF0ZVVuaXF1ZUlEKHByZWZpeCkge1xuICAgIGlmICghcHJlZml4KSB7XG4gICAgICAgIHByZWZpeCA9IFwiaWRcIjtcbiAgICB9XG4gICAgX2lkICs9IDE7XG4gICAgcmV0dXJuIHByZWZpeCArIF9pZDtcbn1cbmV4cG9ydHMuZ2VuZXJhdGVVbmlxdWVJRCA9IGdlbmVyYXRlVW5pcXVlSUQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9pbWFnZUVsZW1lbnRcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkcmF3YWJsZV8xID0gcmVxdWlyZShcIi4uL2RyYXdhYmxlL2RyYXdhYmxlXCIpO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL2Nzc1wiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY2xhc3MgSW1hZ2VFbGVtZW50IGV4dGVuZHMgZHJhd2FibGVfMS5EcmF3YWJsZSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDUkVBVEUgVEhFIEVMRU1FTlRcbiAgICBjb25zdHJ1Y3RvcihzcmMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fc3JjID0gc3JjO1xuICAgICAgICB0aGlzLl9jcmVhdGVFbGVtZW50cygpO1xuICAgIH1cbiAgICBzZXRUaGVtZUNvbG9yKGtleSwgY29sb3IsIG5vUmVwbGFjZSkge1xuICAgICAgICBzdXBlci5zZXRUaGVtZUNvbG9yKGtleSwgY29sb3IsIG5vUmVwbGFjZSk7XG4gICAgfVxuICAgIGdldCBzcmMoKSB7IHJldHVybiB0aGlzLl9zcmM7IH1cbiAgICBzZXQgc3JjKHNyYykge1xuICAgICAgICBpZiAoIXNyYykge1xuICAgICAgICAgICAgc3JjID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc3JjID09PSBzcmMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zcmMgPSBzcmM7XG4gICAgICAgIHRoaXMuX2NsZWFyQ2xhc3NlcygpO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbWcuc2V0QXR0cmlidXRlKFwic3JjXCIsIHNyYyk7XG4gICAgICAgIHRoaXMuX2NoZWNrRm9ySW1hZ2VMb2FkKCk7XG4gICAgfVxuICAgIF9zaG91bGRTa2lwQ3JlYXRlRWxlbWVudHMoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBrZXk6IFwiYmFzZVwiLFxuICAgICAgICAgICAgY2xzOiBcImltYWdlV3JhcHBlclwiICsgKHRoaXMuX3NyYyA/IFwiXCIgOiBcIiBub0ltYWdlXCIpLFxuICAgICAgICAgICAgY2hpbGRyZW46IFt7XG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJpbWdcIixcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJpbWdcIixcbiAgICAgICAgICAgICAgICAgICAgYXR0cjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiB0aGlzLl9zcmMgPyB0aGlzLl9zcmMgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogKCkgPT4gdGhpcy5fb25FcnJvcigpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9LCB0aGlzLl9lbGVtcyk7XG4gICAgfVxuICAgIF9vbkVycm9yKCkge1xuICAgICAgICB0aGlzLnNyYyA9IFwiXCI7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gRU5TVVJFIFRIQVQgVEhFIElNQUdFIElTIEFQUFJPUFJJQVRFTFkgU0laRURcbiAgICBfY2hlY2tGb3JJbWFnZUxvYWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZG9lc0ltYWdlSGF2ZU1pc3NpbmdTaXplKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX21lYXN1cmVJbWFnZSgpO1xuICAgICAgICAgICAgdGhpcy5fcmVzaXplKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLl9jaGVja0ZvckltYWdlTG9hZCgpLCAxMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2RvZXNJbWFnZUhhdmVNaXNzaW5nU2l6ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zcmMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2VsZW1zLmltZy5vZmZzZXRIZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fZWxlbXMuaW1nLm9mZnNldFdpZHRoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIF9tZWFzdXJlSW1hZ2UoKSB7XG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMuX2VsZW1zLmltZy5vZmZzZXRXaWR0aDtcbiAgICAgICAgbGV0IGhlaWdodCA9IHRoaXMuX2VsZW1zLmltZy5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHRoaXMuX3dpZHRoVG9IZWlnaHRSYXRpbyA9ICh3aWR0aCAvIGhlaWdodCk7XG4gICAgfVxuICAgIF9yZXNpemUoKSB7XG4gICAgICAgIHRoaXMuX2NsZWFyQ2xhc3NlcygpO1xuICAgICAgICAvLyBubyBwaWN0dXJlXG4gICAgICAgIGlmICghdGhpcy5fc3JjKSB7XG4gICAgICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcIm5vSW1hZ2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVydGljYWwgcGljdHVyZVxuICAgICAgICBlbHNlIGlmICh0aGlzLl93aWR0aFRvSGVpZ2h0UmF0aW8gPCAxKSB7XG4gICAgICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcInZlcnRpY2FsSW1hZ2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaG9yaXpvbnRhbCBwaWN0dXJlXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3dpZHRoVG9IZWlnaHRSYXRpbyA+IDEpIHtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiaG9yaXpvbnRhbEltYWdlXCIpO1xuICAgICAgICAgICAgLy8gc3F1YXJlIHBpY3R1cmVcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwic3F1YXJlSW1hZ2VcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NsZWFyQ2xhc3NlcygpIHtcbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJub0ltYWdlXCIpO1xuICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcInZlcnRpY2FsSW1hZ2VcIik7XG4gICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiaG9yaXpvbnRhbEltYWdlXCIpO1xuICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcInNxdWFyZUltYWdlXCIpO1xuICAgIH1cbn1cbmV4cG9ydHMuSW1hZ2VFbGVtZW50ID0gSW1hZ2VFbGVtZW50O1xuLy8uLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBTVFlMRVNcbkltYWdlRWxlbWVudC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLmltYWdlV3JhcHBlclwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCI8aW1hZ2VFbGVtZW50UHJpbWFyeT5cIixcbiAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICBcIiYudmVydGljYWxJbWFnZSBpbWdcIjoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCImLmhvcml6b250YWxJbWFnZSBpbWdcIjoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCImLnNxdWFyZUltYWdlIGltZ1wiOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiYubm9JbWFnZVwiOiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiaW1nXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vYXN5bmNNYW5hZ2VyXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2RhdGFNYW5hZ2VyXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkYXRhTWFuYWdlcl8xID0gcmVxdWlyZShcIi4vZGF0YU1hbmFnZXJcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdEFzeW5jTWFuYWdlclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogTWFuYWdlcyBhIHNldCBvZiBtb2RlbHMgdGhhdCBjYW4gYmUgbG9hZGVkIGZyb20gdGhlIHNlcnZlclxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4xLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQXN5bmNNYW5hZ2VyIGV4dGVuZHMgZGF0YU1hbmFnZXJfMS5EYXRhTWFuYWdlciB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDUkVBVEUgVEhFIE1BTkFHRVJcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5faW5GbGlnaHQgPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUFuZEFkZERlZmF1bHRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogYWRkIGEgZGVmYXVsdCB2YWx1ZVxuICAgICAqL1xuICAgIF9jcmVhdGVBbmRBZGREZWZhdWx0KGQpIHtcbiAgICAgICAgbGV0IG1vZGVsID0gdGhpcy5jcmVhdGUoZCk7XG4gICAgICAgIHRoaXMuYWRkKG1vZGVsKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBSRVRSSUVWRSBEQVRBXG4gICAgLyoqXG4gICAgICogZ2V0T3JDcmVhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogZ2V0IHRoZSBkYXRhIGFzc29jaWF0ZWQgd2l0aCBhIHBhcnRpY3VsYXIgSURcbiAgICAgKi9cbiAgICBnZXRPckNyZWF0ZShpZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gdmFsaWRhdGUgaW5wdXRcbiAgICAgICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJubyBJRCBwcm92aWRlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBpbmZvIG9uIHRoaXMgZWxlbWVudDsgaWYgc28sIHJldHVybiBpdFxuICAgICAgICAgICAgbGV0IGRhdHVtID0gdGhpcy5nZXQoaWQpO1xuICAgICAgICAgICAgaWYgKGRhdHVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdHVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2UgYXJlIGFscmVhZHkgcnVubmluZyBhIHJlcXVlc3QgZm9yIHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgLy8gaWYgc28sIHJldHVybiB0aGUgY3VycmVudCByZXF1ZXN0XG4gICAgICAgICAgICBpZiAodGhpcy5faW5GbGlnaHRbaWRdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luRmxpZ2h0W2lkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgcnVuIHRoZSBhcHByb3ByaWF0ZSBsb2FkaW5nIGNvZGUgZm9yIHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgdGhpcy5faW5GbGlnaHRbaWRdID0gdGhpcy5fbG9hZEFuZENyZWF0ZShpZCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5GbGlnaHRbaWRdO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2xvYWRBbmRDcmVhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjcmVhdGUgYSBuZXcgZWxlbWVudCB2aWEgdGhlIGFwcHJvcHJpYXRlIGxvYWRpbmcgY2FsbFxuICAgICAqL1xuICAgIF9sb2FkQW5kQ3JlYXRlKGlkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgZCA9IHlpZWxkIHRoaXMubG9hZChpZCk7XG4gICAgICAgICAgICBpZiAoIWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJubyBkYXRhIGZvdW5kIGZvciBpZCAnXCIgKyBpZCArIFwiJ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgYXBwcm9wcmlhdGUgbW9kZWxcbiAgICAgICAgICAgIGxldCBtb2RlbCA9IHRoaXMuY3JlYXRlKGQpO1xuICAgICAgICAgICAgbGV0IGRhdHVtID0gbW9kZWw7XG4gICAgICAgICAgICB0aGlzLmFkZChkYXR1bSk7XG4gICAgICAgICAgICByZXR1cm4gZGF0dW07XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuQXN5bmNNYW5hZ2VyID0gQXN5bmNNYW5hZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0cmlnXzEgPSByZXF1aXJlKFwiLi90cmlnXCIpO1xuY29uc3Qgc3R5bGVzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL3N0eWxlc1wiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY29uc3QgZWxlbWVudFBvc2l0aW9uaW5nXzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvZWxlbWVudFBvc2l0aW9uaW5nXCIpO1xuLyoqXG4gKiBhcnJhbmdlUmFkaWFsbHlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQXJyYW5nZSBhIHNlcmllcyBvZiBlbGVtZW50cyBhcm91bmQgYSBjZW50cmFsIGVsZW1lbnQsIG1ha2luZyBzdXJlIHRoZXJlIGlzIGVub3VnaCByb29tIGZvciBlYWNoIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0gXHRjZW50cmFsRUxlbSBcdHRoZSBlbGVtZW50IHRvIHVzZSBhcyB0aGUgY2VudGVyIHBvaW50XG4gKiBAcGFyYW0gXHRmcmluZ2VFbGVtcyBcdHRoZSBlbGVtZW50cyB0byBhcnJhbmdlIGFyb3VuZCB0aGUgY2VudHJhbCBlbGVtZW50XG4gKiBAcGFyYW0gXHRtaW5BbmdsZSBcdFx0dGhlIGFuZ2xlIGF0IHdoaWNoIHRvIHN0YXJ0IChpbiBkZWdyZWVzKVxuICogQHBhcmFtIFx0bWF4QW5nbGUgXHRcdHRoZSBhbmdsZSBhdCB3aGljaCB0byBzdG9wIChpbiBkZWdyZWVzKVxuICovXG5mdW5jdGlvbiBhcnJhbmdlUmFkaWFsbHkoY2VudHJhbEVMZW0sIGZyaW5nZUVsZW1zLCBtaW5BbmdsZSwgbWF4QW5nbGUpIHtcbiAgICAvLyBUaGUgY2FsY3VsYXRpb24gZm9yIHRoaXMgbmVlZHMgdG8gYmUgYXMgZm9sbG93czpcbiAgICAvL1x0XHQxLiBFYWNoIGVsZW1lbnQgZ2V0cyBhbiBhbmdsZSBhc3NpZ25lZFxuICAgIC8vIFx0XHQyLiBlYWNoIGVsZW1lbnQgaGFzIGl0cyBkaW1lbnNpb25zIGRldGVybWluZWQsIHRoZW4gdGhlIGRpc3RhbmNlIG9mIGNpcmNsZSB0aGF0IHdvdWxkIGJlIG5lZWRlIHRvIGZpdCBhbGwgWFxuICAgIC8vIHNldCBkZWZhdWx0cyBmb3IgYW5nbGVzXG4gICAgbWluQW5nbGUgPSBtaW5BbmdsZSB8fCAwO1xuICAgIG1heEFuZ2xlID0gbWF4QW5nbGUgfHwgMzYwO1xuICAgIGxldCBhdmFpbGFibGVBbmdsZSA9IG1heEFuZ2xlIC0gbWluQW5nbGU7XG4gICAgbGV0IGRlbHRhQW5nbGUgPSBhdmFpbGFibGVBbmdsZSAvIGZyaW5nZUVsZW1zLmxlbmd0aDtcbiAgICBsZXQgbWF4RGlzdGFuY2UgPSAwO1xuICAgIGxldCBjZW50cmFsUG9pbnQgPSB7XG4gICAgICAgIHg6IGNlbnRyYWxFTGVtLm9mZnNldFdpZHRoIC8gMixcbiAgICAgICAgeTogY2VudHJhbEVMZW0ub2Zmc2V0SGVpZ2h0IC8gMlxuICAgIH07XG4gICAgbGV0IGVsZW07XG4gICAgLy8gRmlyc3QgY2FsY3VsYXRlIHRoZSBtYXggZGlzdGFuY2Ugd2UgbmVlZCB0byBtb3ZlIGVsZW1lbnRzIGF3YXlcbiAgICBmb3IgKGVsZW0gb2YgZnJpbmdlRWxlbXMpIHtcbiAgICAgICAgbGV0IGVsZW1SYWRpdXMgPSBNYXRoLm1heChlbGVtLm9mZnNldFdpZHRoLCBlbGVtLm9mZnNldEhlaWdodCk7XG4gICAgICAgIGxldCBjZW50cmFsQW5nbGUgPSBhdmFpbGFibGVBbmdsZSAvIGZyaW5nZUVsZW1zLmxlbmd0aDtcbiAgICAgICAgbGV0IGludGVybmFsQW5nbGUgPSAxODAgLSBjZW50cmFsQW5nbGU7XG4gICAgICAgIGxldCBhcHByb3ByaWF0ZURpc3RhbmNlID0gKGVsZW1SYWRpdXMgKiBNYXRoLnNpbih0cmlnXzEuZGVncmVlc1RvUmFkaWFucyhpbnRlcm5hbEFuZ2xlKSkpIC8gTWF0aC5zaW4odHJpZ18xLmRlZ3JlZXNUb1JhZGlhbnMoY2VudHJhbEFuZ2xlKSk7XG4gICAgICAgIGlmIChhcHByb3ByaWF0ZURpc3RhbmNlID4gbWF4RGlzdGFuY2UpIHtcbiAgICAgICAgICAgIG1heERpc3RhbmNlID0gYXBwcm9wcmlhdGVEaXN0YW5jZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBhY3R1YWxseSBwb3NpdGlvbiB0aGUgZWxlbWVudHNcbiAgICBsZXQgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZnJpbmdlRWxlbXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgbGV0IHB0ID0gdHJpZ18xLmdldEVuZFBvaW50KGNlbnRyYWxQb2ludCwgbWluQW5nbGUgKyAoZGVsdGFBbmdsZSAqIGkpLCBtYXhEaXN0YW5jZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHB0KTtcbiAgICAgICAgZWxlbSA9IGZyaW5nZUVsZW1zW2ldO1xuICAgICAgICBlbGVtLnN0eWxlLmxlZnQgPSAocHQueCAtIChlbGVtLm9mZnNldFdpZHRoIC8gMikpICsgXCJweFwiO1xuICAgICAgICBlbGVtLnN0eWxlLnRvcCA9IChwdC55IC0gKGVsZW0ub2Zmc2V0SGVpZ2h0IC8gMikpICsgXCJweFwiO1xuICAgIH1cbn1cbmV4cG9ydHMuYXJyYW5nZVJhZGlhbGx5ID0gYXJyYW5nZVJhZGlhbGx5O1xuLyoqXG4gKiBkcmF3TGluZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERyYXdzIGEgbGluZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqXG4gKiBAcGFyYW0gXHRzdGFydCAgICAgICBcdFRoZSBzdGFydCBwb2ludCBvZiB0aGUgbGluZVxuICogQHBhcmFtIFx0ZW5kICAgICAgICAgXHRUaGUgZW5kIHBvaW50IG9mIHRoZSBsaW5lXG4gKiBAcGFyYW0gXHRob3N0ICAgICAgICBcdFRoZSBlbGVtZW50IHRvIGRyYXcgdGhlIGxpbmUgb25cbiAqIEBwYXJhbSBcdGxibCAgICAgICBcdFx0SWYgaW5jbHVkZWQsIHdoYXQgdG8gbGFiZWwgdGhlIGxpbmVcbiAqIEBwYXJhbSBcdGxibE5vUm90YXRlIFx0SWYgdHJ1ZSwgZG9lc24ndCByb3RhdGUgdGhlIHRleHQgdG8gbWF0Y2ggdGhlIGxpbmUgYW5nbGVcbiAqXG4gKiBAcmV0dXJucyBUaGUgbGluZSB0aGF0IHdhcyBkcmF3blxuICovXG5mdW5jdGlvbiBkcmF3TGluZShzdGFydCwgZW5kLCBob3N0LCBsYmwsIGxibE5vUm90YXRlKSB7XG4gICAgO1xuICAgIGxldCBhbmdsZTtcbiAgICBsZXQgZGlzdGFuY2U7XG4gICAgbGV0IGRpdjtcbiAgICBsZXQgY2xzO1xuICAgIGxldCBsYmxFbGVtO1xuICAgIGRpc3RhbmNlID0gdHJpZ18xLmdldERpc3RhbmNlKHN0YXJ0LCBlbmQpO1xuICAgIGFuZ2xlID0gdHJpZ18xLmdldEFuZ2xlKHN0YXJ0LCBlbmQpO1xuICAgIC8vIENyZWF0ZSBhIENTUyBjbGFzcyB0aGF0IGNhbiBiZSBvdmVycmlkZGVuIGZvciBnZW5lcmFsIG9wdGlvbnNcbiAgICBjbHMgPSB7XG4gICAgICAgIFwicG9zaXRpb25cIjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICBcImhlaWdodFwiOiBcIjFweFwiLFxuICAgICAgICBcInRyYW5zZm9ybS1vcmlnaW5cIjogXCIwcHggMHB4XCJcbiAgICB9O1xuICAgIHN0eWxlc18xLmNyZWF0ZUNsYXNzKFwiLmFuZ2xlZExpbmVcIiwgY2xzKTtcbiAgICAvLyBDcmVhdGUgdGhlIGRpdiBhbmQgZ2l2ZSBpdCBtaW5pbWFsIHN0eWxpbmcgdG8gc2hvdyB0aGUgbGluZVxuICAgIGRpdiA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwiYW5nbGVkTGluZVwiKTtcbiAgICBkaXYuc3R5bGUubGVmdCA9IHN0YXJ0LnggKyBcInB4XCI7XG4gICAgZGl2LnN0eWxlLnRvcCA9IHN0YXJ0LnkgKyBcInB4XCI7XG4gICAgLy8gQXBwcm9yaWF0ZWx5IGFzc2lnbiB0aGUgc2l6ZSBvZiB0aGUgZWxlbWVudFxuICAgIGRpdi5zdHlsZS53aWR0aCA9IGRpc3RhbmNlICsgXCJweFwiO1xuICAgIC8vIFJvdGF0ZSB0byBvdXIgc3BlY2lmaWVkIGRlZ3JlZVxuICAgIGRpdi5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZShcIiArIGFuZ2xlICsgXCJkZWcpXCI7XG4gICAgLy8gQWRkIHRvIHRoZSBzcGVjaWZpZWQgcGFyZW50IGVsZW1lbnRcbiAgICBpZiAoaG9zdCkge1xuICAgICAgICBob3N0LmFwcGVuZENoaWxkKGRpdik7XG4gICAgfVxuICAgIC8vIElmIHRoZXJlIGlzIGFsc28gYSBsYWJlbCwgY3JlYXRlIHRoYXRcbiAgICBpZiAobGJsKSB7XG4gICAgICAgIGxibEVsZW0gPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlU2ltcGxlRWxlbWVudChcIlwiLCBcImxibFwiLCBsYmwpO1xuICAgICAgICBpZiAobGJsTm9Sb3RhdGUpIHtcbiAgICAgICAgICAgIGxibEVsZW0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoXCIgKyAoLTEgKiBhbmdsZSkgKyBcImRlZylcIjtcbiAgICAgICAgICAgIGxibEVsZW0uc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gXCIoMCwgMClcIjtcbiAgICAgICAgfVxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobGJsRWxlbSk7XG4gICAgfVxuICAgIHJldHVybiBkaXY7XG59XG5leHBvcnRzLmRyYXdMaW5lID0gZHJhd0xpbmU7XG47XG4vKipcbiAqIHVwZGF0ZUxpbmVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVXBkYXRlIGFuIGV4aXN0aW5nIGxpbmUgdG8gaGF2ZSBhIG5ldyBlbmQtcG9pbnRcbiAqXG4gKiBAcGFyYW0gXHRsaW5lXHRUaGUgbGluZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBcdGVuZFx0XHRUaGUgZW5kIHBvaW50IHRvIHVzZSBmb3IgdGhlIGxpbmVcbiAqXG4gKiBAcmV0dXJuc1x0VGhlIHVwZGF0ZWQgbGluZVxuICovXG5mdW5jdGlvbiB1cGRhdGVMaW5lKGxpbmUsIGVuZCkge1xuICAgIGxldCBzdGFydCA9IHtcbiAgICAgICAgeDogcGFyc2VJbnQobGluZS5zdHlsZS5sZWZ0KSxcbiAgICAgICAgeTogcGFyc2VJbnQobGluZS5zdHlsZS50b3ApXG4gICAgfTtcbiAgICBsZXQgZGlzdGFuY2UgPSB0cmlnXzEuZ2V0RGlzdGFuY2Uoc3RhcnQsIGVuZCk7XG4gICAgbGV0IGFuZ2xlID0gdHJpZ18xLmdldEFuZ2xlKHN0YXJ0LCBlbmQpO1xuICAgIGxpbmUuc3R5bGUud2lkdGggPSBkaXN0YW5jZSArIFwicHhcIixcbiAgICAgICAgbGluZS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZShcIiArIGFuZ2xlICsgXCJkZWcpXCI7XG4gICAgcmV0dXJuIGxpbmU7XG59XG5leHBvcnRzLnVwZGF0ZUxpbmUgPSB1cGRhdGVMaW5lO1xuLyoqXG4gKiBjb25uZWN0RWxlbWVudHNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBEcmF3cyBhIGxpbmUgYmV0d2VlbiB0aGUgdHdvIHByb3ZpZGVkIGVsZW1lbnRzXG4gKlxuICogQHBhcmFtIFx0c3RhcnRfZWxlbSBcdFRoZSBlbGVtZW50IHRvIHN0YXJ0IHRoZSBsaW5lIGF0XG4gKiBAcGFyYW0gXHRlbmRfZWxlbSAgIFx0VGhlIGVsZW1lbnQgdG8gZW5kIHRoZSBsaW5lIGF0XG4gKlxuICogQHJldHVybiBcdFRoZSBsaW5lIHRoYXQgZ2V0cyBkcmF3blxuICovXG5mdW5jdGlvbiBjb25uZWN0RWxlbWVudHMoc3RhcnRfZWxlbSwgZW5kX2VsZW0sIGxibCwgbGJsTm9Sb3RhdGUpIHtcbiAgICA7XG4gICAgbGV0IHN0YXJ0X3BvaW50O1xuICAgIGxldCBlbmRfcG9pbnQ7XG4gICAgbGV0IHhfMTtcbiAgICBsZXQgeF8yO1xuICAgIGxldCB5XzE7XG4gICAgbGV0IHlfMjtcbiAgICBsZXQgcGFyZW50O1xuICAgIC8vIFNldCBvdXIgcGFyZW50IHRvIHVzZSB3aGVuIGNhbGN1bGF0aW5nIHRoZSBnbG9iYWwgb2Zmc2V0c1xuICAgIHBhcmVudCA9IGVsZW1lbnRQb3NpdGlvbmluZ18xLmZpbmRDb21tb25QYXJlbnQoc3RhcnRfZWxlbSwgZW5kX2VsZW0pO1xuICAgIC8vIFNldCB0aGUgdmFsdWVzIHRvIGJlIHRoZSBjZW50ZXIgb2YgZWFjaCBlbGVtZW50XG4gICAgeF8xID0gZWxlbWVudFBvc2l0aW9uaW5nXzEuZ2xvYmFsT2Zmc2V0TGVmdChzdGFydF9lbGVtLCBwYXJlbnQpICsgKHN0YXJ0X2VsZW0ub2Zmc2V0V2lkdGggLyAyKTtcbiAgICB4XzIgPSBlbGVtZW50UG9zaXRpb25pbmdfMS5nbG9iYWxPZmZzZXRMZWZ0KGVuZF9lbGVtLCBwYXJlbnQpICsgKGVuZF9lbGVtLm9mZnNldFdpZHRoIC8gMik7XG4gICAgeV8xID0gZWxlbWVudFBvc2l0aW9uaW5nXzEuZ2xvYmFsT2Zmc2V0VG9wKHN0YXJ0X2VsZW0sIHBhcmVudCkgKyAoc3RhcnRfZWxlbS5vZmZzZXRIZWlnaHQgLyAyKTtcbiAgICB5XzIgPSBlbGVtZW50UG9zaXRpb25pbmdfMS5nbG9iYWxPZmZzZXRUb3AoZW5kX2VsZW0sIHBhcmVudCkgKyAoZW5kX2VsZW0ub2Zmc2V0SGVpZ2h0IC8gMik7XG4gICAgLy8gQ3JlYXRlIHRoZSBvYmplY3RzIGZvciB0aGVzZSBwb2ludHNcbiAgICBzdGFydF9wb2ludCA9IHsgeDogeF8xLCB5OiB5XzEgfTtcbiAgICBlbmRfcG9pbnQgPSB7IHg6IHhfMiwgeTogeV8yIH07XG4gICAgcmV0dXJuIGRyYXdMaW5lKHN0YXJ0X3BvaW50LCBlbmRfcG9pbnQsIHBhcmVudCwgbGJsLCBsYmxOb1JvdGF0ZSk7XG59XG5leHBvcnRzLmNvbm5lY3RFbGVtZW50cyA9IGNvbm5lY3RFbGVtZW50cztcbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL19tb2RlbFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9fdHlwZWd1YXJkc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9uYW1lZENsYXNzXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL19pbnRlcmZhY2VzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL25hdmlnYXRlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL25hdmlnYXRpb25TdGF0ZVwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29sbGVjdGlvbl8xID0gcmVxdWlyZShcIi4uL2RhdGFTdHJ1Y3R1cmVzL2NvbGxlY3Rpb24vY29sbGVjdGlvblwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IGhpc3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9oaXN0b3J5L2hpc3RvcnlcIik7XG5jb25zdCB0cmFuc2l0aW9uXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL3RyYW5zaXRpb25cIik7XG5jb25zdCBfdHlwZWd1YXJkc18xID0gcmVxdWlyZShcIi4uL3N0cnVjdHMvX3R5cGVndWFyZHNcIik7XG4vLyNyZWdpb24gU1RBTkRBUkQgTkFWSUdBVElPTlxuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHROYXZpZ2F0b3JcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEhhbmRsZXMgbW92aW5nIGJldHdlZW4gZGlmZmVyZW50IHBhZ2VzIGZvciBhIHNpbmdsZS1wYWdlIGFwcGxpY2F0aW9uLFxuICogaW5jbHVkaW5nIGFkZGluZyBuYXZpZ2F0b3IgaGlzdG9yeSBwb2ludHMgYW5kIHVwZGF0aW5nIHZpZXdzIC8gbW9kZWxzXG4gKlxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjIuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBOYXZpZ2F0b3Ige1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLyoqXG4gICAgICogTmF2aWdhdG9yXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSB0aGlzIHNwZWNpZmljIGluc3RhbmNlIG9mIGEgbmF2aWdhdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgICAgIC8vI3JlZ2lvbiBQUk9QRVJUSUVTXG4gICAgICAgIC8qKiBrZWVwIHRyYWNrIG9mIHRoZSB2aWV3cyAqL1xuICAgICAgICB0aGlzLl92aWV3cyA9IG5ldyBjb2xsZWN0aW9uXzEuQ29sbGVjdGlvbigpO1xuICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIG91ciBpbnRlcm5hbCBoaXN0b3J5XG4gICAgICAgIHRoaXMuX2hpc3RvcnkgPSBuZXcgaGlzdG9yeV8xLkhpc3RvcnlDaGFpbigpO1xuICAgICAgICAvLyByZWdpc3RlciB0aGUgbGlzdGVuZXIgd2hlbiB0aGUgdXNlciBwcmVzc2VzIHRoZSBiYWNrIGJ1dHRvblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVN0YXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9jcmVhdGVIZWFkZXIoKTtcbiAgICB9XG4gICAgZ2V0IGN1cnJlbnRWaWV3KCkgeyByZXR1cm4gdGhpcy5fY3VycmVudFZpZXc7IH1cbiAgICBnZXQgaGlzdG9yeSgpIHsgcmV0dXJuIHRoaXMuX2hpc3Rvcnk7IH1cbiAgICAvKipcbiAgICAgKiBuYXZpZ2F0ZVRvXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIE1vdmUgdG8gYSBwYXJ0aWN1bGFyIHZpZXcgaW4gdGhpcyBuYXZpZ2F0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0bmF2aWdhdGlvblBhdGhcdEhvdyB0byBnZXQgdG8gdGhlIHNwZWNpZmllZCB2aWV3XG4gICAgICogQHBhcmFtXHRjb25zdHJ1Y3Rvclx0XHRIb3cgdG8gY3JlYXRlIHRoaXMgdmlldyAoaWYgbm90IGFscmVhZHkgY3JlYXRlZClcbiAgICAgKiBAcGFyYW1cdGFkZGxEYXRhXHRcdEFueXRoaW5nIGVsc2UgdGhhdCBuZWVkcyB0byBiZSBwYXNzZWQgYWxvbmcgKGUuZy4gbW9kZWxzKVxuICAgICAqL1xuICAgIG5hdmlnYXRlVG8obmF2aWdhdGlvblBhdGgsIGNvbnN0cnVjdG9yLCBhZGRsRGF0YSwgZnJvbUhpc3RvcnlOYXZpZ2F0aW9uKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyBpbml0aWFsaXplIHRoZSBhZGRpdGlvbmFsIGRhdGEgYXJyYXkgaWYgdW5wYXNzZWRcbiAgICAgICAgICAgIGlmICghYWRkbERhdGEpIHtcbiAgICAgICAgICAgICAgICBhZGRsRGF0YSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2hlY2sgdGhhdCB3ZSBjYW4gbmF2aWdhdGUgYXdheSBmcm9tIHRoZSBjdXJyZW50IHNjcmVlblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9jYW5OYXZpZ2F0ZUF3YXkoYWRkbERhdGEuaXNDYW5jZWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGN1cnJlbnRWaWV3SGFuZGxlZCA9IHlpZWxkIHRoaXMuX2hhbmRsZUN1cnJlbnRWaWV3T25OYXZpZ2F0ZShhZGRsRGF0YS5pc0NhbmNlbCk7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRWaWV3SGFuZGxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRyeSB0byBncmFiIHRoZSB2aWV3IGZyb20gb3VyIGNvbGxlY3Rpb24gKHF1aXQgaWYgaXQgZG9lc24ndCBleGlzdCBhbmQgd2UgY2FuJ3QgY3JlYXRlIGl0KVxuICAgICAgICAgICAgbGV0IHZpZXcgPSB0aGlzLl92aWV3cy5nZXRWYWx1ZShuYXZpZ2F0aW9uUGF0aCk7XG4gICAgICAgICAgICBpZiAoIXZpZXcgJiYgIWNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgd2UgY291bGRuJ3QgZmluZCBpdCwgY3JlYXRlIGl0XG4gICAgICAgICAgICBpZiAoIXZpZXcpIHtcbiAgICAgICAgICAgICAgICB2aWV3ID0gdGhpcy5fY3JlYXRlVmlldyhjb25zdHJ1Y3RvciwgYWRkbERhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdzLmFkZChuYXZpZ2F0aW9uUGF0aCwgdmlldyk7XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCBjaGVjayBpZiB0aGlzIGNhbiByZWNlaXZlIGFuIHVwZGF0ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKF90eXBlZ3VhcmRzXzEuaXNVcGRhdGFibGUodmlldykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVmlldyh2aWV3LCBhZGRsRGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZHJhdyB0aGUgdmlldyBvbiB0aGUgYXBwcm9wcmlhdGUgcGFyZW50XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVUcmFuc2l0aW9uKHZpZXcpO1xuICAgICAgICAgICAgLy8gdXBkYXRlIG91ciBpbnRlcm5hbCB2aWV3IHRyYWNraW5nXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VmlldyA9IHRoaXMuX3ZpZXdzLmdldEVsZW1lbnQobmF2aWdhdGlvblBhdGgpO1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBicm93c2VyIGhpc3RvcnlcbiAgICAgICAgICAgIGlmICghZnJvbUhpc3RvcnlOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlSGlzdG9yeShuYXZpZ2F0aW9uUGF0aCwgYWRkbERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2FuTmF2aWdhdGVBd2F5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFZlcmlmeSB0aGF0IHdlIGNhbiBtb3ZlIGF3YXkgZnJvbSB0aGUgY3VycmVudCBwYWdlXG4gICAgICogQHBhcmFtIGlzQ2FuY2VsXG4gICAgICovXG4gICAgX2Nhbk5hdmlnYXRlQXdheShpc0NhbmNlbCkge1xuICAgICAgICBpZiAoIXRoaXMuX2N1cnJlbnRWaWV3KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2N1cnJlbnRWaWV3LnZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2N1cnJlbnRWaWV3LnZhbHVlLmNhbk5hdmlnYXRlQXdheShpc0NhbmNlbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2hhbmRsZUN1cnJlbnRWaWV3T25OYXZpZ2F0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBVcGRhdGUgdGhlIGN1cnJlbnQgdmlldyBpbiB0aGUgaGlzdG9yeSBhcyBuZWVkZWQgb24gbmF2aWdhdGUgYXdheVxuICAgICAqIEBwYXJhbSBcdGlzQ2FuY2VsIFx0VHJ1ZSBpZiB3ZSBhcmUgbW92aW5nIGJlY2F1c2Ugb2YgYSBjYW5jZWwgZXZlbnRcbiAgICAgKiBAcmV0dXJuc1x0VHJ1ZSBpZiB3ZSBjb3VsZCBuYXZpZ2F0ZSBhd2F5LCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBfaGFuZGxlQ3VycmVudFZpZXdPbk5hdmlnYXRlKGlzQ2FuY2VsKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhhdCB3ZSBoYXZlIGEgY3VycmVudCB2aWV3XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2N1cnJlbnRWaWV3KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgaWYgdGhlcmUgaXMgYW55IGluZm9ybWF0aW9uIHRoaXMgdmlldyB3YW50cyB0byBhZGQgdG8gdGhlIGFkZGxEYXRhIGFycmF5XG4gICAgICAgICAgICBsZXQgbmF2QXdheURhdGEgPSB5aWVsZCB0aGlzLl9jdXJyZW50Vmlldy52YWx1ZS5vbk5hdmlnYXRlQXdheShpc0NhbmNlbCk7XG4gICAgICAgICAgICBpZiAoIW5hdkF3YXlEYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBzbywgdXBkYXRlIHRoZSBoaXN0b3J5IHN0YXRlIGZvciB0aGlzIHZpZXdcbiAgICAgICAgICAgIGxldCBoaXN0b3J5U3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvblBhdGg6IG51bGwsXG4gICAgICAgICAgICAgICAgZGF0YTogbmF2QXdheURhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9oaXN0b3J5LnVwZGF0ZUN1cnJlbnRTdGF0ZShoaXN0b3J5U3RhdGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlVmlld1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBPdmVycmlkYWJsZSBjb25zdHJ1Y3RvciBtZXRob2QgZm9yIHZpZXdzOyBvdmVycmlkZSB0byBwYXNzIGluZm8gaW50byB0aGVcbiAgICAgKiBjb25zdHJ1Y3RvciBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRjb25zdHJ1Y3RvciBcdE1ldGhvZCB0byBjcmVhdGUgdGhlIHZpZXdcbiAgICAgKiBAcGFyYW0gXHRhZGRsRGF0YSBcdFx0QWRkaXRpb25hbCBkYXRhIHRoYXQgY291bGQgYmUgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRoZSBjcmVhdGVkIGRyYXdhYmxlXG4gICAgICovXG4gICAgX2NyZWF0ZVZpZXcoY29uc3RydWN0b3IsIGFkZGxEYXRhKSB7XG4gICAgICAgIGxldCB2aWV3ID0gbmV3IGNvbnN0cnVjdG9yKCk7XG4gICAgICAgIHJldHVybiB2aWV3O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfdXBkYXRlVmlld1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBVcGRhdGUgdGhlIGNyZWF0ZWQgdmlldyB3aXRoIG5ldyBkYXRhLiBPdmVycmlkYWJsZSBpZiBkaWZmZXJlbnQgZGF0YSBvdWdodFxuICAgICAqIHRvIGJlIHBhc3NlZCBpblxuICAgICAqIEBwYXJhbSBcdHZpZXcgXHRcdFRoZSB2aWV3IHRvIHVwZGF0ZVxuICAgICAqIEBwYXJhbSBcdGFkZGxEYXRhIFx0QWRkaXRpb25hbCBkYXRhIHRvIHBhc3MgaW50byB0aGUgdmlld1xuICAgICAqXG4gICAgICovXG4gICAgX3VwZGF0ZVZpZXcodmlldywgYWRkbERhdGEpIHtcbiAgICAgICAgdmlldy51cGRhdGUoYWRkbERhdGEubW9kZWwsIGFkZGxEYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3VwZGF0ZUhpc3RvcnlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWRkIHRoaXMgbmF2aWdhdGUgZXZlbnQgdG8gdGhlIGhpc3Rvcnkgb2YgdGhlIHBhZ2VcbiAgICAgKiBAcGFyYW0gXHRuYXZpZ2F0aW9uUGF0aCBcdFRoZSBwYXRoIHRvIG5hdmlnYXRlIHRvXG4gICAgICogQHBhcmFtIFx0YWRkbEFyZ3MgXHRcdEFueSBhZGRpdGlvbmFsIGRhdGEgZm9yIHRoaXNcbiAgICAgKi9cbiAgICBfdXBkYXRlSGlzdG9yeShuYXZpZ2F0aW9uUGF0aCwgYWRkbEFyZ3MpIHtcbiAgICAgICAgbGV0IGhpc3RvcnkgPSB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uUGF0aDogbmF2aWdhdGlvblBhdGgsXG4gICAgICAgICAgICB1cmw6IGFkZGxBcmdzLnVybCB8fCBcIlwiLFxuICAgICAgICAgICAgdGl0bGU6IGFkZGxBcmdzLnRpdGxlIHx8IG5hdmlnYXRpb25QYXRoLFxuICAgICAgICAgICAgZGF0YTogYWRkbEFyZ3NcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcHVzaEhpc3RvcnlTdGF0ZShoaXN0b3J5KTtcbiAgICAgICAgLy8gYWxzbyBwdXNoIHRvIG91ciBpbnRlcm5hbCBoaXN0b3J5XG4gICAgICAgIHRoaXMuX2hpc3RvcnkucHVzaChoaXN0b3J5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2hhbmRsZVRyYW5zaXRpb25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogU3dpdGNoZXMgYmV0d2VlbiB0d28gc2VwYXJhdGUgdmlld3MgaW4gdGhpcyBuYXZpZ2F0aW9uIHdvcmxkXG4gICAgICovXG4gICAgX2hhbmRsZVRyYW5zaXRpb24odmlldykge1xuICAgICAgICAvLyB2ZXJpZnkgd2UgaGF2ZSBlbm91Z2ggZGF0YSB0byBoYW5kbGUgdGhpc1xuICAgICAgICBpZiAoIXZpZXcgfHwgIXRoaXMuX3BhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5fdHJhbnNpdGlvblR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5JTmF2VHJhbnNpdGlvblR5cGUuT1BBQ0lUWTpcbiAgICAgICAgICAgICAgICB0aGlzLl9vcGFjaXR5VHJhbnNpdGlvbih2aWV3KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vVE9ETzogSGFuZGxlIGFsbCB0aGUgb3RoZXIgY2FzZXNcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fbm9UcmFuc2l0aW9uKHZpZXcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9ub1RyYW5zaXRpb25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogU3dhcCBvdXQgdGhlIHBhcmVudCBjb250ZW50cyBmb3IgdGhlIGNoaWxkIGNvbnRlbnRzXG4gICAgICovXG4gICAgX25vVHJhbnNpdGlvbih2aWV3KSB7XG4gICAgICAgIHRoaXMuX3BhcmVudC5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICB2aWV3LmRyYXcodGhpcy5fcGFyZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29wYWNpdHlUcmFuc2l0aW9uXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEZhZGUgb3V0IHRoZSBwYXJlbnQsIHN3YXAgb3V0IGNvbnRlbnQsIHRoZW4gZmFkZSBiYWNrIGluXG4gICAgICovXG4gICAgX29wYWNpdHlUcmFuc2l0aW9uKHZpZXcpIHtcbiAgICAgICAgdHJhbnNpdGlvbl8xLnRyYW5zaXRpb24odGhpcy5fcGFyZW50LCB7IG9wYWNpdHk6IFwiMVwiIH0sIHsgb3BhY2l0eTogXCIwXCIgfSwgMjAwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudC5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICAgICAgdmlldy5kcmF3KHRoaXMuX3BhcmVudCk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uXzEudHJhbnNpdGlvbih0aGlzLl9wYXJlbnQsIHsgb3BhY2l0eTogXCIwXCIgfSwgeyBvcGFjaXR5OiBcIjFcIiB9LCAyMDApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcHVzaEhpc3RvcnlTdGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBtYWtlIHN1cmUgd2UgY2FuIHJldHVybiB0byB0aGUgcmlnaHQgcGFnZVxuICAgICAqXG4gICAgICogQHBhcmFtICAgaGlzdG9yeSAgICAgVGhlIHBhZ2UgdG8gcmV0dXJuIHRvIHdoZW4gaGl0dGluZyB0aGUgYmFjayBidXR0b25cbiAgICAgKi9cbiAgICBfcHVzaEhpc3RvcnlTdGF0ZShoaXN0b3J5KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoaGlzdG9yeSwgaGlzdG9yeS50aXRsZSwgaGlzdG9yeS51cmwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkNvdWxkbid0IHNhdmUgaGlzdG9yeSBzdGF0ZTogXCIgKyBlcnIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9oYW5kbGVTdGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBPdmVycmlkZSB0aGUgYmFjayBidXR0b24gdG8gZ28gdG8gdGhlIHJpZ2h0IHBhZ2VcbiAgICAgKi9cbiAgICBfaGFuZGxlU3RhdGUoKSB7XG4gICAgICAgIGxldCBzdGF0ZSA9IHdpbmRvdy5oaXN0b3J5LnN0YXRlO1xuICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvKHN0YXRlLm5hdmlnYXRpb25QYXRoLCBudWxsLCBzdGF0ZS5kYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLk5hdmlnYXRvciA9IE5hdmlnYXRvcjtcbi8vI2VuZHJlZ2lvblxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdE5hdmlnYXRpb25TdGF0ZTxUPlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogS2VlcCB0cmFjayBvZiBzdGF0ZSBhdCB0aGUgbmF2aWdhdGlvbiBsZXZlbFxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBBcHBsaWNhdGlvblN0YXRlIHtcbiAgICAvKipcbiAgICAgKiBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgbmF2aWdhdGlvbiBzdGF0ZVxuICAgICAqXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX21vZGVscyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXRTdGF0ZVxuICAgICAqXG4gICAgICogR2V0cyB0aGUgY3VycmVudCBzdGF0ZSBvZiBhIHBhcnRpY3VsYXIgbW9kZWxcbiAgICAgKiBAcGFyYW0gXHRrZXlcdFx0VGhlIHN0YXRlIG1vZGVsIHRvIHJldHJpZXZlXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXRTdGF0ZShrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVsc1trZXldO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzZXRTdGF0ZVxuICAgICAqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBzdGF0ZSBvZiBhIHBhcnRpY3VsYXIgbW9kZWxcbiAgICAgKiBAcGFyYW0gXHRrZXlcdFx0VGhlIHN0YXRlIG1vZGVsIHRvIHJldHJpZXZlXG4gICAgICogQHBhcmFtIFx0dmFsdWVcdFRoZSB2YWx1ZSB0byBzZXQgZm9yIHRoZSBtb2RlbFxuICAgICAqXG4gICAgICovXG4gICAgc2V0U3RhdGUoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tb2RlbHNba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjbGVhclN0YXRlXG4gICAgICpcbiAgICAgKiBDbGVhcnMgb3V0IHRoZSBjdXJyZW50IHN0YXRlIGZvciBhIHN0YXRlIG1vZGVsXG4gICAgICogQHBhcmFtIFx0a2V5XHRcdFRoZSBzdGF0ZSBtb2RlbCB0byBjbGVhclxuICAgICAqXG4gICAgICovXG4gICAgY2xlYXJTdGF0ZShrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX21vZGVsc1trZXldO1xuICAgIH1cbn1cbmV4cG9ydHMuQXBwbGljYXRpb25TdGF0ZSA9IEFwcGxpY2F0aW9uU3RhdGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jbG9uaW5nXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvbWJpbmVcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZm9ybWF0dGluZ1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9uYXZpZ2F0ZVwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi9wcmltaXRpdmVIZWxwZXJzL3N0cmluZ3NcIik7XG5jb25zdCBuYXZpZ2F0ZV8xID0gcmVxdWlyZShcIi4vbmF2aWdhdGVcIik7XG4vKipcbiAqIHN0cmluZ2lmeVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogdHVybiBhIEpTT04gb2JqZWN0IGludG8gYSBzdHJpbmcgdmVyc2lvblxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnkob2JqLCBhc0h0bWwsIHByZWZpeCkge1xuICAgIGxldCBvdXQgPSBbXTtcbiAgICBsZXQgbmV3TGluZUNoYXIgPSBhc0h0bWwgPyBcIjxicj5cIiA6IFwiXFxuXCI7XG4gICAgbGV0IHRhYkNoYXIgPSBhc0h0bWwgPyBcIiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwO1wiIDogXCJcXHRcIjtcbiAgICBpZiAoIXByZWZpeCkge1xuICAgICAgICBwcmVmaXggPSBcIlwiO1xuICAgIH1cbiAgICBuYXZpZ2F0ZV8xLm1hcChvYmosICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgIGxldCB2YWxTdHI7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgdmFsU3RyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgIHZhbFN0ciA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsU3RyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoXCJ0b1N0cmluZ1wiKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWxTdHIgPSBuZXdMaW5lQ2hhciArIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWxTdHIgPSBuZXdMaW5lQ2hhciArIHN0cmluZ2lmeSh2YWx1ZSwgYXNIdG1sLCB0YWJDaGFyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb3V0LnB1c2goX2Zvcm1hdChwcmVmaXggKyBrZXksIHZhbFN0ciwgYXNIdG1sKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG91dC5qb2luKFwiXCIpO1xufVxuZXhwb3J0cy5zdHJpbmdpZnkgPSBzdHJpbmdpZnk7XG4vKipcbiAqIF9mb3JtYXRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGZvcm1hdCBhIHBhcnRpY3VsYXIgcHJvcGVydHkgYXBwcm9wcmlhdGVseVxuICovXG5mdW5jdGlvbiBfZm9ybWF0KGtleSwgdmFsdWUsIGFzSHRtbCkge1xuICAgIGlmIChhc0h0bWwpIHtcbiAgICAgICAgcmV0dXJuIF9mb3JtYXRQcm9wZXJ0eUFzSFRNTChrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIF9mb3JtYXRQcm9wZXJ0eUFzUGxhaW5UZXh0KGtleSwgdmFsdWUpO1xufVxuLyoqXG4gKiBfZm9ybWF0UHJvcGVydHlBc0hUTUxcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHNob3cgYSBwcm9wZXJ0eSBhcyBIVE1MXG4gKi9cbmZ1bmN0aW9uIF9mb3JtYXRQcm9wZXJ0eUFzSFRNTChrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIHN0cmluZ3NfMS5mb3JtYXQoXCI8Yj57MH08L2I+OiB7MX17Mn1cIiwga2V5LCB2YWx1ZSwgXCI8YnI+XCIpO1xufVxuLyoqXG4gKiBfZm9ybWF0UHJvcGVydHlBc1BsYWluVGV4dFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogc2hvdyBhIEpTT04gcHJvcGVydHkgYXMgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIF9mb3JtYXRQcm9wZXJ0eUFzUGxhaW5UZXh0KGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gc3RyaW5nc18xLmZvcm1hdChcInswfTogezF9XFxuXCIsIGtleSwgdmFsdWUpO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZXJyb3JQb3B1cFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9sb2dpblBvcHVwXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3BvcHVwXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3RvYXN0UG9wdXBcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4veWVzTm9Qb3B1cFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHBvcHVwXzEgPSByZXF1aXJlKFwiLi9wb3B1cFwiKTtcbmNvbnN0IGNyZWF0ZVNwZWNpZmljRWxlbWVudHNfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9jcmVhdGVTcGVjaWZpY0VsZW1lbnRzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIExvZ2luUG9wdXBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZXMgYSBwb3B1cCB3aXRoIGZpZWxkcyBmb3IgaGFuZGxpbmcgbG9naW5cbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgTG9naW5Qb3B1cCBleHRlbmRzIHBvcHVwXzEuUG9wdXAge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBMb2dpblBvcHVwIG9iamVjdFxuICAgICAqIEBwYXJhbSAgIG9iaiAgICAgSWYgcHJvdmlkZWQsIHRoZSBkYXRhIHRvIGNyZWF0ZSB0aGUgYmFzZSBlbGVtZW50IG9mIHRoZSBwb3B1cFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9iaikge1xuICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICBvYmouY2xzICs9IFwiIGxvZ2luXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmogPSB7IGNsczogXCJsb2dpbiBwb3B1cFwiIH07XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIob2JqKTtcbiAgICB9XG4gICAgc2V0IGxvZ2luQ2FsbGJhY2soZnVuYykgeyB0aGlzLl9sb2dpbkNhbGxiYWNrID0gZnVuYzsgfVxuICAgIC8qKiBtYWtlIHN1cmUgd2UgZ2V0IGEgbWl4IG9mIGNvcmUgc3R5bGVzIGFuZCB0aGVzZSBzdHlsZXMgKi9cbiAgICBfZ2V0VW5jb2xvcmVkU3R5bGVzKCkgeyByZXR1cm4gdGhpcy5fbWVyZ2VUaGVtZXMoTG9naW5Qb3B1cC5fdW5jb2xvcmVkU3R5bGVzLCBwb3B1cF8xLlBvcHVwLl91bmNvbG9yZWRTdHlsZXMpOyB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUVsZW1lbnRzXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIHRoZSBlbGVtZW50cyBmb3IgdGhpcyBwYXJ0aWN1bGFyIHBvcHVwXG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICBzdXBlci5fY3JlYXRlRWxlbWVudHMoKTtcbiAgICAgICAgbGV0IHVzZXJuYW1lRWxlbXMgPSBjcmVhdGVTcGVjaWZpY0VsZW1lbnRzXzEuY3JlYXRlTGFiZWxlZEVsZW1lbnQoeyB0eXBlOiBcImlucHV0XCIsIGF0dHI6IHsgdHlwZTogXCJ0ZXh0XCIgfSB9LCB7IGNvbnRlbnQ6IFwiVXNlcm5hbWVcIiB9KTtcbiAgICAgICAgdGhpcy5fZWxlbXMudXNlcm5hbWUgPSB1c2VybmFtZUVsZW1zLmRhdGE7XG4gICAgICAgIHRoaXMuX2VsZW1zLmNvbnRlbnQuYXBwZW5kQ2hpbGQodXNlcm5hbWVFbGVtcy53cmFwcGVyKTtcbiAgICAgICAgbGV0IHBhc3N3b3JkRWxlbXMgPSBjcmVhdGVTcGVjaWZpY0VsZW1lbnRzXzEuY3JlYXRlTGFiZWxlZEVsZW1lbnQoeyB0eXBlOiBcImlucHV0XCIsIGF0dHI6IHsgdHlwZTogXCJwYXNzd29yZFwiIH0gfSwgeyBjb250ZW50OiBcIlBhc3N3b3JkXCIgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLnBhc3N3b3JkID0gcGFzc3dvcmRFbGVtcy5kYXRhO1xuICAgICAgICB0aGlzLl9lbGVtcy5jb250ZW50LmFwcGVuZENoaWxkKHBhc3N3b3JkRWxlbXMud3JhcHBlcik7XG4gICAgICAgIHRoaXMuYWRkQnV0dG9uKFwiTG9naW5cIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lcmFzZSgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2dpbkNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbG9naW5DYWxsYmFjayh0aGlzLl9lbGVtcy51c2VybmFtZS52YWx1ZSwgdGhpcy5fZWxlbXMucGFzc3dvcmQudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRCdXR0b24oXCJDYW5jZWxcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lcmFzZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZXJhc2VcbiAgICAgKlxuICAgICAqIEhhbmRsZXMgdW5kcmF3aW5nIHRoZSBwb3B1cFxuICAgICAqL1xuICAgIGVyYXNlKCkge1xuICAgICAgICBzdXBlci5lcmFzZSgpO1xuICAgICAgICB0aGlzLl9lbGVtcy51c2VybmFtZS52YWx1ZSA9IFwiXCI7XG4gICAgICAgIHRoaXMuX2VsZW1zLnBhc3N3b3JkLnZhbHVlID0gXCJcIjtcbiAgICB9XG59XG5leHBvcnRzLkxvZ2luUG9wdXAgPSBMb2dpblBvcHVwO1xuLyoqIGRyYXcgc3BlY2lmaWMgc3R5bGVzIGZvciB0aGlzIHBhcnRpY3VsYXIgcG9wdXAgKi9cbkxvZ2luUG9wdXAuX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi5wb3B1cC5sb2dpbiAud3JhcHBlciArIC53cmFwcGVyXCI6IHtcbiAgICAgICAgbWFyZ2luVG9wOiBcIjEwcHhcIlxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHBvcHVwXzEgPSByZXF1aXJlKFwiLi9wb3B1cFwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCB0cmFuc2l0aW9uXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL3RyYW5zaXRpb25cIik7XG5jbGFzcyBUb2FzdFBvcHVwIGV4dGVuZHMgcG9wdXBfMS5Qb3B1cCB7XG4gICAgY29uc3RydWN0b3IoZGV0YWlscywgdGl0bGUsIHNob3dGb3IsIG9iaikge1xuICAgICAgICBzdXBlcihvYmopO1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcInRvYXN0XCIpO1xuICAgICAgICB0aGlzLl9zaG93Rm9yID0gc2hvd0ZvciB8fCAyMDAwO1xuICAgICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VGl0bGUodGl0bGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkQ29udGVudChcIlwiLCBcIlwiLCBkZXRhaWxzKTtcbiAgICAgICAgdGhpcy5hZGRCdXR0b24oXCJEaXNtaXNzXCIsICgpID0+IHsgdGhpcy5lcmFzZSgpOyB9KTtcbiAgICB9XG4gICAgX2dldFVuY29sb3JlZFN0eWxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlVGhlbWVzKHBvcHVwXzEuUG9wdXAuX3VuY29sb3JlZFN0eWxlcywgVG9hc3RQb3B1cC5fdW5jb2xvcmVkU3R5bGVzKTtcbiAgICB9XG4gICAgZHJhdyhwYXJlbnQsIGZvcmNlKSB7XG4gICAgICAgIHN1cGVyLmRyYXcocGFyZW50LCBmb3JjZSk7XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBzaG93IGEgc2xpZGUgYW5pbWF0aW9uXG4gICAgICAgIHRyYW5zaXRpb25fMS50cmFuc2l0aW9uKHRoaXMuX2VsZW1zLmZyYW1lLCB7IHRvcDogXCIxMDAlXCIgfSwgeyB0b3A6IFwiY2FsYygxMDAlIC0gPGhlaWdodD4pXCIgfSwgMzAwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLmZyYW1lLnN0eWxlLnRvcCA9IHRoaXMuX2VsZW1zLmZyYW1lLm9mZnNldFRvcCArIFwicHhcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFJlbW92ZSB0aGlzIHBvcHVwIGFmdGVyIHRoZSBzcGVjaWZpZWQgdGltZW91dFxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVyYXNlKCk7XG4gICAgICAgIH0sIHRoaXMuX3Nob3dGb3IpO1xuICAgIH1cbiAgICBlcmFzZSgpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2VsZW1zLmZyYW1lLnN0eWxlLnRvcDtcbiAgICAgICAgdHJhbnNpdGlvbl8xLnRyYW5zaXRpb24odGhpcy5fZWxlbXMuZnJhbWUsIHsgdG9wOiBcImNhbGMoMTAwJSAtIDxoZWlnaHQ+KVwiLCBvcGFjaXR5OiBcIjFcIiB9LCB7IHRvcDogXCIxMDAlXCIsIG9wYWNpdHk6IFwiMFwiIH0sIDMwMCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBzdXBlci5lcmFzZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlRvYXN0UG9wdXAgPSBUb2FzdFBvcHVwO1xuVG9hc3RQb3B1cC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLnRvYXN0XCI6IHtcbiAgICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCJcbiAgICB9LFxuICAgIFwiLnRvYXN0IC5vdmVybGF5XCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJub25lXCIsXG4gICAgICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiXG4gICAgfSxcbiAgICBcIi50b2FzdCAuY2xvc2VCdG5cIjoge1xuICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIixcbiAgICB9LFxuICAgIFwiLnRvYXN0IC5wb3B1cEJ1dHRvblwiOiB7XG4gICAgICAgIHBvaW50ZXJFdmVudHM6IFwiYXV0b1wiXG4gICAgfSxcbiAgICBcIi50b2FzdCAuZnJhbWVcIjoge1xuICAgICAgICB3aWR0aDogXCIxNSVcIixcbiAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgbGVmdDogXCI4NSVcIixcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vYXJyYXlzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2RhdGVzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL251bWJlcnNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc3RyaW5nc1wiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9yb3V0aW5nXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NjcmlwdExvYWRlclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi91cmxcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBzY3JpcHRMb2FkZXJfMSA9IHJlcXVpcmUoXCIuL3NjcmlwdExvYWRlclwiKTtcbmNvbnN0IHVybF8xID0gcmVxdWlyZShcIi4vdXJsXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgUm91dGVyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBc3Npc3Qgd2l0aCByb3V0aW5nIGJhc2VkIG9uIHRoZSBVUkwgbG9hZGVkXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFJvdXRlciB7XG4gICAgLyoqXG4gICAgICogcm91dGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogUm91dGUgdGhpcyBwYWdlIHRvIGEgcGFydGljdWxhciBzZXQgb2YgY29kZSwgYmFzZWQgb24gZGV0YWlscyBvbiB0aGVcbiAgICAgKiBVUkwgdGhhdCBicm91Z2h0IHVzIGhlcmVcbiAgICAgKi9cbiAgICByb3V0ZSgpIHtcbiAgICAgICAgdGhpcy5fcm91dGUodXJsXzEuY2xlYW5VUkwoKSwgdXJsXzEuc3BsaXRQYXJhbXMoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVTY3JpcHRMb2FkZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogT3ZlcnJpZGFibGUgZnVuY3Rpb24gdGhhdCBkZXRlcm1pbmVzIGhvdyBKUyBmaWxlcyBhcmUgZHluYW1pY2FsbHkgbG9hZGVkXG4gICAgICovXG4gICAgX2NyZWF0ZVNjcmlwdExvYWRlcigpIHtcbiAgICAgICAgdGhpcy5fbG9hZGVyID0gbmV3IHNjcmlwdExvYWRlcl8xLlNjcmlwdExvYWRlcihcInswfVwiKTtcbiAgICB9XG59XG5leHBvcnRzLlJvdXRlciA9IFJvdXRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NlcmlhbGl6YWJsZU1vZGVsXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2FqYXhcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZmlsZUlPXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbmF2aWdhdGVfMSA9IHJlcXVpcmUoXCIuLi9vYmplY3RIZWxwZXJzL25hdmlnYXRlXCIpO1xuLyoqXG4gKiBhamF4XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBSdW4gYW4gYXN5bmMgYWpheCBjYWxsIHRvIHRoZSBzcGVjaWZpZWQgc2VydmVyXG4gKiBAcGFyYW0gICBhamF4RGV0YWlscyAgICAgVGhlIHR5cGUgb2YgcmVxdWVzdCB0byBydW5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHdpbGwgcmV0dXJuIHRoZSByZXN1bHRzIG9mIHRoZSBhamF4IGNhbGxcbiAqL1xuZnVuY3Rpb24gYWpheChhamF4RGV0YWlscykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIF9pbm5lckFqYXgoYWpheERldGFpbHMsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSk7XG59XG5leHBvcnRzLmFqYXggPSBhamF4O1xuLyoqXG4gKiBhamF4UmVxdWVzdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU2VuZHMgYW4gQUpBWCByZXF1ZXN0IHRvIGEgdXJsIG9mIG91ciBjaG9pY2UgYXMgZWl0aGVyIGEgUE9TVCBvciBHRVRcbiAqXG4gKiBAcGFyYW0gICBhamF4RGV0YWlscyBkZXRhaWxzIGFib3V0IHRoZSByZXF1ZXN0IGJlaW5nIHNlbnRcbiAqIEBwYXJhbSAgIHJlc29sdmUgICAgIHByb21pc2UgcmVzb2x2ZVxuICogQHBhcmFtICAgcmVqZWN0ICAgICAgcHJvbWlzZSByZWplY3RcbiAqXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCB0aGF0IHdhcyBzZW50XG4qL1xuZnVuY3Rpb24gX2lubmVyQWpheChhamF4RGV0YWlscywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgLy8gdHJ5IHRvIGNyZWF0ZSB0aGUgcmVxdWVzdFxuICAgIGxldCByZXF1ZXN0ID0gX2dldFhtbFJlcXVlc3RPYmplY3QoKTtcbiAgICBpZiAoIXJlcXVlc3QpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIC8vIHJlZ2lzdGVyIHRoZSBhcHByb3ByaWF0ZSBjYWxsYmFja3NcbiAgICBfYXNzaWduWG1sUmVxdWVzdENhbGxiYWNrcyhyZXF1ZXN0LCAoLi4ucGFyYW1zKSA9PiByZXNvbHZlKC4uLnBhcmFtcyksICguLi5wYXJhbXMpID0+IHJlamVjdCguLi5wYXJhbXMpKTtcbiAgICAvLyBzZW5kIHRoZSBhY3R1YWwgcmVxdWVzdFxuICAgIF9zZW5kWG1sUmVxdWVzdChyZXF1ZXN0LCBhamF4RGV0YWlscyk7XG4gICAgcmV0dXJuIHJlcXVlc3Q7XG59XG47XG4vKipcbiAqIF9nZXRYbWxSZXF1ZXN0T2JqZWN0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjcmVhdGUgdGhlIFhtbCByZXF1ZXN0IG9iamVjdFxuICpcbiAqIEByZXR1cm5zIEEgY3JlYXRlZCByZXF1ZXN0LCBhcHByb3ByaWF0ZSBmb3IgdGhlIHBhcnRpY3VsYXIgYnJvd3NlclxuICpcbiAqL1xuZnVuY3Rpb24gX2dldFhtbFJlcXVlc3RPYmplY3QoKSB7XG4gICAgbGV0IHJlcXVlc3QgPSBudWxsO1xuICAgIC8vIE5vbiBJRVxuICAgIHRyeSB7XG4gICAgICAgIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gdHJ5IHRoZSBmaXJzdCBJRSBhcHByb2FjaFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVxdWVzdCA9IG5ldyBBY3RpdmVYT2JqZWN0KFwiTXN4bWwyLlhNTEhUVFBcIik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIHRyeSB0aGUgMm5kIElFIGFwcHJvYWNoXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSBuZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxIVFRQXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVxdWVzdDtcbn1cbi8qKlxuICogX2Fzc2lnblhtbFJlcXVlc3RDYWxsYmFja3NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGhhbmRsZSB0aGUgeG1sIHJlcXVlc3QgZ2V0dGluZyBiYWNrIHRvIHVzXG4gKlxuICogQHBhcmFtICAgcmVxdWVzdCAgICAgVGhlIEFKQVggcmVxdWVzdCwgYXBwcm9wcmlhdGUgZm9yIHRoZSBicm93c2VyXG4gKiBAcGFyYW0gICBzdWNjZXNzQ2IgICBXaGF0IHRvIGRvIGlmIHRoZSByZXF1ZXN0IHN1Y2Nlc3NmdWxseSByZXR1cm5zXG4gKiBAcGFyYW0gICBlcnJvckNiICAgICBXaGF0IHRvIGRvIGlmIHRoZSByZXF1ZXN0IGZhaWxzXG4gKlxuICogQHJldHVybnMgVGhlIHJlcXVlc3QsIG5vdyBjb25maWd1cmVkIHRvIGhhbmRsZSBzdWNjZXNzICsgZXJyb3Igc3RhdGVzXG4gKi9cbmZ1bmN0aW9uIF9hc3NpZ25YbWxSZXF1ZXN0Q2FsbGJhY2tzKHJlcXVlc3QsIHN1Y2Nlc3NDYiwgZXJyb3JDYikge1xuICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAvLyB3YWl0IHRpbCB0aGUgcmVzcG9uc2UgaXMgcmVhZHlcbiAgICAgICAgaWYgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN1Y2Nlc3M6IGFueSAyeHggY29kZVxuICAgICAgICBpZiAoX2lzVmFsaWRSZXNwb25zZShyZXF1ZXN0LnN0YXR1cykpIHtcbiAgICAgICAgICAgIHN1Y2Nlc3NDYihyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAvLyBmYWlsdXJlOiBhbnl0aGluZyBidXQgYSAyWFggY29kZVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXJyb3JDYihyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiByZXF1ZXN0O1xufVxuLyoqXG4gKiBfYWRkSGVhZGVyRGF0YVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogc2VuZCBhbGwgZGV0YWlscyB0aGF0IGJlbG9uZyBpbiB0aGUgaGVhZGVyIHRocm91Z2ggdGhlIGhlYWRlclxuICovXG5mdW5jdGlvbiBfYWRkSGVhZGVyRGF0YShyZXF1ZXN0LCBoZWFkZXJQYXJhbXMpIHtcbiAgICBpZiAoIWhlYWRlclBhcmFtcykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIG5hdmlnYXRlXzEubWFwKGhlYWRlclBhcmFtcywgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsdWUpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBfc2VuZFhtbFJlcXVlc3RcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGhhbmRsZSB0aGUgYWN0dWFsIHNlbmRpbmcgb2YgdGhlIHJlcXVlc3RcbiAqXG4gKiBAcGFyYW0gICByZXF1ZXN0ICAgICBUaGUgQUpBWCByZXF1ZXN0IHRvIHNlbmRcbiAqIEBwYXJhbSAgIHR5cGUgICAgICAgIFdoZXRoZXIgdGhpcyBpcyBhIFBPU1Qgb3IgYSBHRVQgcmVxdWVzdFxuICogQHBhcmFtICAgdXJsICAgICAgICAgV2hlcmUgdG8gc2VuZCB0aGUgcmVxdWVzdFxuICogQHBhcmFtICAgcGFyYW1zICAgICAgV2hhdCBwYXJhbWV0ZXJzIG9yIGRhdGEgc2hvdWxkIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdFxuICpcbiAqIEByZXR1cm5zIFRoZSBzZW50IHJlcXVlc3RcbiAqXG4gKi9cbmZ1bmN0aW9uIF9zZW5kWG1sUmVxdWVzdChyZXF1ZXN0LCB7IHR5cGUsIHJlcXVlc3RVcmwsIHBhcmFtcywgaGVhZGVyUGFyYW1zIH0pIHtcbiAgICByZXF1ZXN0Lm9wZW4odHlwZSwgcmVxdWVzdFVybCwgdHJ1ZSk7XG4gICAgX2FkZEhlYWRlckRhdGEocmVxdWVzdCwgaGVhZGVyUGFyYW1zKTtcbiAgICBsZXQgdXJsUGFyYW1zID0gbnVsbDtcbiAgICBpZiAodHlwZSA9PT0gXCJQT1NUXCIpIHtcbiAgICAgICAgX3NldFJlcXVlc3RIZWFkZXIocmVxdWVzdCwgcGFyYW1zKTtcbiAgICAgICAgdXJsUGFyYW1zID0gcGFyYW1zO1xuICAgIH1cbiAgICByZXF1ZXN0LnNlbmQodXJsUGFyYW1zKTtcbiAgICByZXR1cm4gcmVxdWVzdDtcbn1cbi8qKlxuICogX3NldFJlcXVlc3RIZWFkZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGhhbmRsZSBzZW5kaW5nIFBPU1QgQUpBWCBxdWVyaWVzXG4gKlxuICogQHBhcmFtICAgcmVxdWVzdCAgICAgVGhlIHJlcXVlc3QgdG8gc2VuZFxuICogQHBhcmFtICAgdXJsICAgICAgICAgVGhlIFVSTCB0byB3aGljaCB0byBzZW5kIHRoZSByZXF1ZXN0XG4gKiBAcGFyYW0gICBwYXJhbXMgICAgICBUaGUgcGFyYW1ldGVycyBvciBkYXRhIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdFxuICpcbiAqIEByZXR1cm5zIFRoZSBzZW50IHJlcXVlc3RcbiAqXG4gKi9cbmZ1bmN0aW9uIF9zZXRSZXF1ZXN0SGVhZGVyKHJlcXVlc3QsIHBhcmFtcykge1xuICAgIGxldCByZXFIZWFkZXJUeXBlO1xuICAgIGlmIChwYXJhbXMgaW5zdGFuY2VvZiBGb3JtRGF0YSkge1xuICAgICAgICByZXFIZWFkZXJUeXBlID0gXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXFIZWFkZXJUeXBlID0gXCJhcHBsaWNhdGlvbi9qc29uXCI7XG4gICAgfVxuICAgIGlmIChyZXFIZWFkZXJUeXBlKSB7XG4gICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCByZXFIZWFkZXJUeXBlKTtcbiAgICB9XG59XG4vKipcbiAqIF9idWlsZFBhcmFtZXRlcnNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHR1cm4gYSBwYXJhbSBvYmplY3QgaW50byBhIHN0cmluZyBzdWl0YWJsZSBmb3IgYSBVUklcbiAqXG4gKiBAcGFyYW0gICBwYXJhbXMgICAgICBMaXN0IG9mIHBhcmFtZXRlcnMgdGhhdCB3ZSB3aWxsIHR1cm4gaW50byBhbiBhcHByb3ByaWF0ZSBBSkFYIHJlcXVlc3Qgc3RyaW5nXG4gKlxuICogQHJldHVybnMgVGhlIHN0cmluZyBjb250YWluaW5nIGFsbCBhcHByb3ByaWF0ZSBwYXJhbXRlcnNcbiAqXG4gKi9cbmZ1bmN0aW9uIF9idWlsZFBhcmFtZXRlcnMocGFyYW1zKSB7XG4gICAgbGV0IHBhcmFtT3V0ID0gW107XG4gICAgbmF2aWdhdGVfMS5tYXAocGFyYW1zLCAodmFsLCBrZXkpID0+IHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGFkZCB0aGUga2V5LXZhbHVlIHBhaXIsIHByb3Blcmx5IGVzY2FwZWRcbiAgICAgICAgbGV0IHVybFBhcmFtID0gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpO1xuICAgICAgICBwYXJhbU91dC5wdXNoKHVybFBhcmFtKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGFyYW1PdXQuam9pbihcIiZcIik7XG59XG4vKipcbiAqIF9pc1ZhbGlkUmVzcG9uc2VcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHZlcmlmeSB0aGF0IHRoZSByZXNwb25zZSBjb3VudHMgYXMgYSB2YWxpZCBvbmVcbiAqL1xuZnVuY3Rpb24gX2lzVmFsaWRSZXNwb25zZShyZXNwb25zZUNvZGUpIHtcbiAgICBpZiAocmVzcG9uc2VDb2RlIDwgMjAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG5mdW5jdGlvbiBsb2FkRmlsZShmaWxlRGV0YWlscykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRoaXMuX2lubmVyTG9hZEZpbGUoZmlsZURldGFpbHMsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSk7XG59XG5leHBvcnRzLmxvYWRGaWxlID0gbG9hZEZpbGU7XG4vKipcbiAqIGxvYWRGaWxlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBsb2FkIGEgZmlsZSBmcm9tIGEgcGFydGljdWxhciBVUkxcbiAqXG4gKiBAcGFyYW0gICB1cmwgICAgICAgICBUaGUgVVJMIHRvIGxvYWQgYSBmaWxlIGZyb21cbiAqIEBwYXJhbSAgIHN1Y2Nlc3MgICAgIFdoYXQgdG8gZG8gd2hlbiB0aGUgZmlsZSBpcyBsb2FkZWQgc3VjY2Vzc2Z1bGx5XG4gKiBAcGFyYW0gICBlcnJvciAgICAgICBXaGF0IGRvIGRvIGlmIHRoZSBmaWxlIGNhbid0IGJlIGxvYWRlZFxuICovXG5mdW5jdGlvbiBfaW5uZXJMb2FkRmlsZShmaWxlRGV0YWlscywgc3VjY2VzcywgZXJyb3IpIHtcbiAgICAvLyBraWNrb2ZmIHRoZSByZXF1ZXN0IHRvIHRoZSBmaWxlXG4gICAgbGV0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIGZpbGVEZXRhaWxzLmZpbGVuYW1lKTtcbiAgICAvLyBoYW5kbGUgdGhlIGZpbGUgYWN0dWFsbHkgY2hhbmdpbmcgc3RhdHVzXG4gICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT0gNCAmJiByZXF1ZXN0LnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgIHN1Y2Nlc3MocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIGVycm9yKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gYWN0dWFsbHkgc2VuZCB0aGUgYXBwcm9wcmlhdGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZCgpO1xufVxuZXhwb3J0cy5faW5uZXJMb2FkRmlsZSA9IF9pbm5lckxvYWRGaWxlO1xuO1xuZnVuY3Rpb24gc2F2ZUZpbGUoZmlsZURldGFpbHMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgX2lubmVyU2F2ZUZpbGUoZmlsZURldGFpbHMsIHJlc29sdmUpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5zYXZlRmlsZSA9IHNhdmVGaWxlO1xuZnVuY3Rpb24gX2lubmVyU2F2ZUZpbGUoeyBmaWxlbmFtZSwgY29udGVudCB9LCByZXNvbHZlKSB7XG4gICAgbGV0IGJsb2I7XG4gICAgLy8gbWFrZSBzdXJlIHdlIGhhbmRsZSBlaXRoZXIgdHlwZSBvZiBjb250ZW50IHNlbnQgb3VyIHdheVxuICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBibG9iID0gbmV3IEJsb2IoW2NvbnRlbnRdLCB7IHR5cGU6IFwidGV4dC9wbGFpblwiIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYmxvYiA9IGNvbnRlbnQ7XG4gICAgfVxuICAgIC8vIGFsbG93IHRoZSB1c2VyIHRvIGRvd25sb2FkIHRoZSBnZW5lcmF0ZWQgZmlsZVxuICAgIF9nZW5lcmF0ZURvd25sb2FkKGZpbGVuYW1lLCBibG9iKTtcbn1cbmZ1bmN0aW9uIF9nZW5lcmF0ZURvd25sb2FkKGZpbGVuYW1lLCBmaWxlKSB7XG4gICAgLy8gU2F2ZSB0aGUgZmlsZSB0byB0aGUgdXNlcidzIG1hY2hpbmVcbiAgICAvLyAodGFrZW4gZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNjY1MTE1L2NyZWF0ZS1hLWZpbGUtaW4tbWVtb3J5LWZvci11c2VyLXRvLWRvd25sb2FkLW5vdC10aHJvdWdoLXNlcnZlcilcbiAgICAvLyBoYW5kbGUgSUUgc2F2aW5nXG4gICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xuICAgICAgICB3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZUJsb2IoZmlsZSwgXCJ1XCIpO1xuICAgIH1cbiAgICAvLyBoYW5kbGUgYWxsIG90aGVyIGJyb3dzZXJzXG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBlbGVtID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgdHlwZTogXCJhXCIsXG4gICAgICAgICAgICBhdHRyOiB7XG4gICAgICAgICAgICAgICAgXCJocmVmXCI6IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpLFxuICAgICAgICAgICAgICAgIFwiZG93bmxvYWRcIjogZmlsZW5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGFkZCB0aGUgZWxlbWVudCB0byB0aGUgZG9jdW1lbnQgJiBzaW11bGF0ZSBhIGNsaWNrXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgICAgIGVsZW0uY2xpY2soKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbGVtKTtcbiAgICB9XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9sb2FkaW5nU2hpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NoaWVsZFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHNoaWVsZF8xID0gcmVxdWlyZShcIi4vc2hpZWxkXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG4vKipcbiAqIEBjbGFzcyBMb2FkaW5nU2hpZWxkXG4gKlxuICogU2hvdyBhIGxvYWRpbmcgaW5kaWNhdGlvblxuICogQHZlcnNpb24gMS4wLjBcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICpcbiAqL1xuY2xhc3MgTG9hZGluZ1NoaWVsZCBleHRlbmRzIHNoaWVsZF8xLlNoaWVsZCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbG9hZGluZyBzaGllbGRcbiAgICAgKiBAcGFyYW0gICBsb2FkaW5nVGV4dCAgIEFkZGl0aW9uYWwgZXR4dCB0byBkaXNwbGF5IHdoaWxlIGxvYWRpbmdcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGxvYWRpbmdUZXh0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2xvYWRpbmdUZXh0ID0gbG9hZGluZ1RleHQgfHwgXCJMb2FkaW5nLi4uXCI7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUVsZW1lbnRzKCk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8qKiBtYWtlIHN1cmUgd2UgcmV0dXJuIHRoZSByaWdodCBzZXQgb2Ygc3R5bGVzICovXG4gICAgX2dldFVuY29sb3JlZFN0eWxlcygpIHsgcmV0dXJuIHRoaXMuX21lcmdlVGhlbWVzKExvYWRpbmdTaGllbGQuX3VuY29sb3JlZFN0eWxlcywgc2hpZWxkXzEuU2hpZWxkLl91bmNvbG9yZWRTdHlsZXMpOyB9XG4gICAgLyoqIHNraXAgY3JlYXRpbmcgZWxlbWVudHMgYmVmb3JlIGRhdGEgaXMgc2V0ICovXG4gICAgX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50cygpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlU2hpZWxkRGV0YWlsc1xuICAgICAqXG4gICAgICogQ3JlYXRlXG4gICAgICpcbiAgICAgKi9cbiAgICBfY3JlYXRlU2hpZWxkRGV0YWlscygpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMud3JhcHBlciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJsb2FkaW5nQ29udGFpbmVyXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLnNoaWVsZENvbnRlbnRcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLnRleHQgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwibG9hZGluZ1RleHRcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuX2xvYWRpbmdUZXh0LFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy53cmFwcGVyXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5pY29uID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImxvYWRpbmdJY29uXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLndyYXBwZXJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5Mb2FkaW5nU2hpZWxkID0gTG9hZGluZ1NoaWVsZDtcbi8qKiBzdHlsZXMgZm9yIHRoZSBsb2FkaW5nIHNoaWVsZCAqL1xuTG9hZGluZ1NoaWVsZC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLmtpcFNoaWVsZCBsb2FkaW5nQ29udGFpbmVyXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXG4gICAgfSxcbiAgICBcIi5raXBTaGllbGQgLmxvYWRpbmdUZXh0XCI6IHtcbiAgICAgICAgZm9udEZhbWlseTogJ1wiT3BlblNhbnNMaWdodFwiLCBcIkhlbHZldGljYVwiJyxcbiAgICAgICAgZm9udFNpemU6IFwiMS40ZW1cIixcbiAgICAgICAgY29sb3I6IFwiI0ZGRlwiXG4gICAgfSxcbiAgICBcIi5raXBTaGllbGQgLmxvYWRpbmdJY29uXCI6IHtcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB0cmFuc3BhcmVudFwiLFxuICAgICAgICBib3JkZXJUb3A6IFwiMXB4IHNvbGlkICNGRkZcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjI1cHhcIixcbiAgICAgICAgd2lkdGg6IFwiMjVweFwiLFxuICAgICAgICBoZWlnaHQ6IFwiMjVweFwiLFxuICAgICAgICBhbmltYXRpb246IFwicm90YXRlIGluZmluaXRlIGxpbmVhciAxc1wiLFxuICAgICAgICBtYXJnaW46IFwiYXV0b1wiXG4gICAgfSxcbiAgICBcIkBrZXlmcmFtZXMgcm90YXRlXCI6IHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBcInJvdGF0ZSgwZGVnKVwiXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IFwicm90YXRlKDM2MGRlZylcIlxuICAgICAgICB9XG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2J1Y2tldGVyXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRCdWNrZXRIZWxwZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGhhbmRsZSBidWNrZXRpbmcgZWxlbWVudHMgaW50byBhIGRpY3Rpb25hcnlcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb25cdDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIF9CdWNrZXRIZWxwZXIge1xuICAgIGJ1Y2tldCh0aGluZ3MsIGdldEJ1Y2tldCwgLi4uYWRkbFBhcmFtcykge1xuICAgICAgICBsZXQgb3V0ID0ge307XG4gICAgICAgIGlmICghdGhpbmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHQgb2YgdGhpbmdzKSB7XG4gICAgICAgICAgICBsZXQgYnVja2V0ID0gZ2V0QnVja2V0KHQsIC4uLmFkZGxQYXJhbXMpO1xuICAgICAgICAgICAgaWYgKCFvdXRbYnVja2V0XSkge1xuICAgICAgICAgICAgICAgIG91dFtidWNrZXRdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRbYnVja2V0XS5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxufVxuZXhwb3J0cy5CdWNrZXRIZWxwZXIgPSBuZXcgX0J1Y2tldEhlbHBlcigpO1xuZnVuY3Rpb24gYnVja2V0KHRoaW5ncywgZ2V0QnVja2V0LCAuLi5hZGRsUGFyYW1zKSB7XG4gICAgcmV0dXJuIGV4cG9ydHMuQnVja2V0SGVscGVyLmJ1Y2tldCh0aGluZ3MsIGdldEJ1Y2tldCwgLi4uYWRkbFBhcmFtcyk7XG59XG5leHBvcnRzLmJ1Y2tldCA9IGJ1Y2tldDtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL190eXBlZ3VhcmRzXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3N0eWxhYmxlXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL19jb25zdGFudHNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vY3NzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3N0eWxlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90cmFuc2l0aW9uXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5USEVNRV9CR19DT0xPUl9DTFMgPSBcInRoZW1lQkdDb2xvclwiO1xuZXhwb3J0cy5USEVNRV9DT0xPUl9DTFMgPSBcInRoZW1lQ29sb3JcIjtcbmV4cG9ydHMuVEhFTUVfQ09MT1JfSE9WRVJfQ0xTID0gXCJ0aGVtZUJHSG92ZXJDb2xvclwiO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xuICAgIHJlc3VsdFtcImRlZmF1bHRcIl0gPSBtb2Q7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBpbnRlcmZhY2VzID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL19pbnRlcmZhY2VzXCIpKTtcbmV4cG9ydHMuaW50ZXJmYWNlcyA9IGludGVyZmFjZXM7XG5jb25zdCBzdmdEZWZpbml0aW9ucyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9zdmdEZWZpbml0aW9uc1wiKSk7XG5leHBvcnRzLnN2Z0RlZmluaXRpb25zID0gc3ZnRGVmaW5pdGlvbnM7XG5jb25zdCBzdmdEcmF3YWJsZSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9zdmdEcmF3YWJsZVwiKSk7XG5leHBvcnRzLnN2Z0RyYXdhYmxlID0gc3ZnRHJhd2FibGU7XG5jb25zdCBzdmdIZWxwZXJzID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3N2Z0hlbHBlcnNcIikpO1xuZXhwb3J0cy5zdmdIZWxwZXJzID0gc3ZnSGVscGVycztcbmNvbnN0IHN2Z1N0eWxlID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3N2Z1N0eWxlXCIpKTtcbmV4cG9ydHMuc3ZnU3R5bGUgPSBzdmdTdHlsZTtcbmNvbnN0IGVsZW1lbnRzID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL2VsZW1lbnRzXCIpKTtcbmV4cG9ydHMuZWxlbWVudHMgPSBlbGVtZW50cztcbmNvbnN0IGFkZGl0aW9uYWxQYXRocyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9hZGRpdGlvbmFsUGF0aHNcIikpO1xuZXhwb3J0cy5hZGRpdGlvbmFsUGF0aHMgPSBhZGRpdGlvbmFsUGF0aHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRyYXdhYmxlXzEgPSByZXF1aXJlKFwiLi4vZHJhd2FibGUvZHJhd2FibGVcIik7XG5jb25zdCBjb21iaW5lXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9jb21iaW5lXCIpO1xuY29uc3Qgc3ZnSGVscGVyc18xID0gcmVxdWlyZShcIi4vc3ZnSGVscGVyc1wiKTtcbmNvbnN0IGdyb3VwRWxlbWVudF8xID0gcmVxdWlyZShcIi4vZWxlbWVudHMvZ3JvdXBFbGVtZW50XCIpO1xuY29uc3Qgc3ZnRGVmaW5pdGlvbnNfMSA9IHJlcXVpcmUoXCIuL3N2Z0RlZmluaXRpb25zXCIpO1xuY29uc3QgZHJhZ2dhYmxlV3JhcHBlcl8xID0gcmVxdWlyZShcIi4uL2RyYWdnYWJsZS9kcmFnZ2FibGVXcmFwcGVyXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIFx0U1ZHRHJhd2FibGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhIGRyYXdhYmxlIFNWRyBjYW52YXNcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4xLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgU1ZHRHJhd2FibGUgZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIGEgYmFzaWMgU1ZHIGNhbnZhc1xuICAgICAqIEBwYXJhbSBcdGlkICAgICBUaGUgSUQgb2YgdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSBcdGJvdW5kcyBUaGUgcmVhbC13b3JsZCAoZS5nLiBpbiB3aW5kb3cpIGJvdW5kcyBvZiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIFx0b3B0cyAgIEFueSBvcHRpb25zIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIGNhbnZhc1xuICAgICAqXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYm91bmRzLCBvcHRzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IGJvdW5kcyB8fCB7IHg6IDAsIHk6IDAsIHc6IDAsIGg6IDAgfTtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgZGVmYXVsdCBtYXhpbWEgLyBtaW5pbWFcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZUludGVybmFsU2l6aW5nKCk7XG4gICAgICAgIC8vIFJlY29uY2lsZSBvcHRpb25zXG4gICAgICAgIGxldCBkZWZhdWx0cyA9IHRoaXMuX2NyZWF0ZURlZmF1bHRPcHRpb25zKCk7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBjb21iaW5lXzEucmVjb25jaWxlT3B0aW9ucyhvcHRzLCBkZWZhdWx0cyk7XG4gICAgICAgIC8vIGNyZWF0ZSBlbGVtZW50cyBuZWVkZWQgYnkgdGhpcyBkcmF3YWJsZVxuICAgICAgICB0aGlzLl9jcmVhdGVFbGVtZW50cygpO1xuICAgICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIGdldCB2aWV3KCkge1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuX3ZlcmlmeVZpZXdNZWV0c0FzcGVjdFJhdGlvKCk7IH0sIDApO1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlldztcbiAgICB9XG4gICAgc2V0IHZpZXcocmVjdCkge1xuICAgICAgICB0aGlzLl92aWV3LnggPSByZWN0Lng7XG4gICAgICAgIHRoaXMuX3ZpZXcueSA9IHJlY3QueTtcbiAgICAgICAgdGhpcy5fdmlldy53ID0gcmVjdC53O1xuICAgICAgICB0aGlzLl92aWV3LmggPSByZWN0Lmg7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkgeyByZXR1cm4gdGhpcy5fb3B0aW9uczsgfVxuICAgIC8qKiBzdHlsZXMgZm9yIHRoZSBTVkcgZWxlbWVudCAqL1xuICAgIGdldCBzdHlsZSgpIHsgcmV0dXJuIHRoaXMuX2dyb3VwLnN0eWxlOyB9XG4gICAgX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50cygpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAvKipcbiAgICAgKiBfaW5pdGlhbGl6ZUludGVybmFsU2l6aW5nXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIE1ha2Ugc3VyZSB3ZSBoYXZlIGRlZmF1bHQgdmFsdWVzIGZvciBleHRyZW1hXG4gICAgICpcbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZUludGVybmFsU2l6aW5nKCkge1xuICAgICAgICB0aGlzLl9leHRyZW1hID0ge1xuICAgICAgICAgICAgbWluOiB7XG4gICAgICAgICAgICAgICAgeDogMTAwMDAwMCxcbiAgICAgICAgICAgICAgICB5OiAxMDAwMDAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWF4OiB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIHZpZXdwb3J0XG4gICAgICAgIHRoaXMuX3ZpZXcgPSB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIHc6IDAsXG4gICAgICAgICAgICBoOiAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVEZWZhdWx0T3B0aW9uc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBHZXQgdGhlIHNldCBvZiBkZWZhdWx0IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuc1x0VGhlIGNyZWF0ZWQgZGVmYXVsdCBvcHRpb25zXG4gICAgICpcbiAgICAgKi9cbiAgICBfY3JlYXRlRGVmYXVsdE9wdGlvbnMoKSB7XG4gICAgICAgIGxldCBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGd1dHRlcjogMixcbiAgICAgICAgICAgIGF1dG9fcmVzaXplOiB0cnVlLFxuICAgICAgICAgICAgem9vbV94OiAwLjA4LFxuICAgICAgICAgICAgem9vbV95OiAwLjA4LFxuICAgICAgICAgICAgcGFuX3g6IHRydWUsXG4gICAgICAgICAgICBwYW5feTogdHJ1ZSxcbiAgICAgICAgICAgIHByZXZlbnRfZXZlbnRzOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGVmYXVsdHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIGVsZW1lbnRzIG5lZWRlZCBmb3IgdGhpcyBTVkcgZHJhd2FibGVcbiAgICAgKlxuICAgICAqL1xuICAgIF9jcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBiYXNlIGVsZW1lbnRcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZSA9IHN2Z0hlbHBlcnNfMS5jcmVhdGVTVkcoe1xuICAgICAgICAgICAgaWQ6IHRoaXMuX2lkLFxuICAgICAgICAgICAgYXR0cjoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLl9ib3VuZHMudyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuX2JvdW5kcy5oXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDcmVhdGUgdGhlIGRlZmluaXRpb25zIGVsZW1lbnRcbiAgICAgICAgbGV0IGRlZnMgPSBuZXcgc3ZnRGVmaW5pdGlvbnNfMS5TVkdEZWZpbml0aW9uc0VsZW1lbnQoKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuZGVmaW5pdGlvbnMgPSBkZWZzLmJhc2U7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbXMuZGVmaW5pdGlvbnMpO1xuICAgICAgICAvLyBhZGQgdGhlIGdyb3VwIHRoYXQgY29udGFpbnMgZXZlcnl0aGluZ1xuICAgICAgICB0aGlzLl9ncm91cCA9IG5ldyBncm91cEVsZW1lbnRfMS5Hcm91cEVsZW1lbnQoeyBwYXJlbnQ6IHRoaXMuX2VsZW1zLmJhc2UgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmNvcmVHcm91cCA9IHRoaXMuX2dyb3VwLmJhc2U7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UuYXBwZW5kQ2hpbGQodGhpcy5fZ3JvdXAuYmFzZSk7XG4gICAgfVxuICAgIC8vI3JlZ2lvbiBFVkVOVCBIQU5ETElOR1xuICAgIC8qKlxuICAgICAqIF9hZGRFdmVudExpc3RlbmVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGRzIHRoZSByZWxldmFudCBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBTVkcgb2JqZWN0XG4gICAgICpcbiAgICAgKi9cbiAgICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIC8vIGRvbid0IGxpc3RlbiBmb3IgZXZlbnRzIGlmIGFza2VkIG5vdCB0b1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5wcmV2ZW50X2V2ZW50cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCB0aGUgd2hlZWwgbGlzdGVuZXIgdG8gdGhlIFNWRyBlbGVtZW50XG4gICAgICAgIHRoaXMuYmFzZS5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGxldCBkZWx0YSA9IGUuZGVsdGFZO1xuICAgICAgICAgICAgZGVsdGEgPSAoZGVsdGEgPiAwKSA/IDEgOiAtMTtcbiAgICAgICAgICAgIHRoaXMuX29uWm9vbShkZWx0YSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBBZGQgdGhlIGRyYWcgbGlzdGVuZXJzXG4gICAgICAgIGRyYWdnYWJsZVdyYXBwZXJfMS5tYWtlRHJhZ2dhYmxlKHRoaXMuYmFzZSwge1xuICAgICAgICAgICAgdGFyZ2V0OiBkb2N1bWVudC5ib2R5LFxuICAgICAgICAgICAgb25Nb3ZlOiAoZGVsdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblBhbihkZWx0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNOb25TdGFuZGFyZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uWm9vbVxuICAgICAqXG4gICAgICogaGFuZGxlIHpvb21pbmcgaW4gJiBvdXRcbiAgICAgKiBAcGFyYW1cdGRpcmVjdGlvblx0SWYgcG9zaXRpdmUsIHpvb21zIGluLiBJZiBuZWdhdGl2ZSwgem9vbXMgb3V0XG4gICAgICpcbiAgICAgKi9cbiAgICBfb25ab29tKGRpcmVjdGlvbikge1xuICAgICAgICBsZXQgeEFtdCA9IHRoaXMuX29wdGlvbnMuem9vbV94ICogZGlyZWN0aW9uO1xuICAgICAgICBsZXQgeUFtdCA9IHRoaXMuX29wdGlvbnMuem9vbV95ICogZGlyZWN0aW9uO1xuICAgICAgICBsZXQgeFVuaXQgPSB0aGlzLl92aWV3LncgKiB4QW10O1xuICAgICAgICBsZXQgeVVuaXQgPSB0aGlzLl92aWV3LmggKiB5QW10O1xuICAgICAgICAvLyBSZXNpemUgYXBwcm9wcmlhdGVseSBpbiB0aGUgeC1kaW1lbnNpb25cbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuem9vbV94KSB7XG4gICAgICAgICAgICB0aGlzLl92aWV3LnggLT0geFVuaXQ7XG4gICAgICAgICAgICB0aGlzLl92aWV3LncgKz0gKDIgKiB4VW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzaXZlIGFwcHJvcHJpYXRlbHkgaW4gdGhlIHktZGltZW5zaW9uXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnpvb21feSkge1xuICAgICAgICAgICAgdGhpcy5fdmlldy55IC09IHlVbml0O1xuICAgICAgICAgICAgdGhpcy5fdmlldy5oICs9ICgyICogeVVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlZnJlc2ggdGhlIHZpZXdib3ggYXR0cmlidXRlXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVWaWV3Ym94QXR0cmlidXRlKHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25QYW5cbiAgICAgKlxuICAgICAqIGhhbmRsZSBwYW5uaW5nIHRoZSBTVkcgY2FudmFzXG4gICAgICogQHBhcmFtXHRkZWx0YVx0VGhlIGFtb3VudCB0byBwYW4gYnlcbiAgICAgKlxuICAgICAqL1xuICAgIF9vblBhbihkZWx0YSkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5wYW5feCkge1xuICAgICAgICAgICAgdGhpcy5fdmlldy54IC09ICh0aGlzLmNhbGN1bGF0ZVNWR1dpZHRoKGRlbHRhLngpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5wYW5feSkge1xuICAgICAgICAgICAgdGhpcy5fdmlldy55IC09ICh0aGlzLmNhbGN1bGF0ZVNWR0hlaWdodChkZWx0YS55KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIHRoZSB2aWV3IGJveFxuICAgICAgICB0aGlzLmdlbmVyYXRlVmlld2JveEF0dHJpYnV0ZSh0cnVlKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIFdJRFRIIEFORCBIRUlHSFQgQ0FMQ1VMQVRJT05cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSByZWFsLXdvcmxkIHdpZHRoIG9mIHRoZSBjYW52YXNcbiAgICAgKiBAcGFyYW0gXHR3IFx0VGhlIHdpZHRoIHRvIHNldFxuICAgICAqXG4gICAgICovXG4gICAgc2V0IHdpZHRoKHcpIHtcbiAgICAgICAgdGhpcy5fYm91bmRzLncgPSB3O1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHcudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHJlYWwtd29ybGQgaGVpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgKiBAcGFyYW0gXHRoIFx0VGhlIGhlaWdodCB0byBzZXRcbiAgICAgKlxuICAgICAqL1xuICAgIHNldCBoZWlnaHQoaCkge1xuICAgICAgICB0aGlzLl9ib3VuZHMuaCA9IGg7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2Uuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIGgudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGdlbmVyYXRlVmlld2JveEF0dHJpYnV0ZVxuICAgICAqXG4gICAgICogQ3JlYXRlIGEgc3RyaW5nIHRoYXQgY2FuIGJlIHVzZWQgaW4gdGhlIHZpZXdib3ggYXR0cmlidXRlIGZvciB0aGUgU1ZHXG4gICAgICogQHBhcmFtICBcdHNldFx0XHRUcnVlIGlmIHdlIHNob3VsZCBhbHNvIHNldCB0aGUgYXR0cmlidXRlIGFmdGVyIGdlbmVyYXRpbmcgaXRcbiAgICAgKiBAcmV0dXJucyBUaGUgdmlld2JveCBhdHRyaWJ1dGUgZm9yIHRoZSBjdXJyZW50IHZpZXdcbiAgICAgKlxuICAgICAqL1xuICAgIGdlbmVyYXRlVmlld2JveEF0dHJpYnV0ZShzZXQpIHtcbiAgICAgICAgbGV0IHZfYm94ID0gXCJcIjtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgbm8gbmVnYXRpdmUgd2lkdGhzIG9yIGhlaWdodHNcbiAgICAgICAgaWYgKHRoaXMuX3ZpZXcudyA8IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXcudyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3ZpZXcuaCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXcuaCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2VuZXJhdGUgdGhlIHZpZXcgYm94IHN0cmluZ1xuICAgICAgICB2X2JveCA9IHRoaXMuX3ZpZXcueCArIFwiIFwiICsgdGhpcy5fdmlldy55ICsgXCIgXCIgKyB0aGlzLl92aWV3LncgKyBcIiBcIiArIHRoaXMuX3ZpZXcuaDtcbiAgICAgICAgLy8gU2V0IHRoZSBhdHRyaWJ1dGUgaWYgcmVxdWVzdGVkXG4gICAgICAgIGlmIChzZXQpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZS5zZXRBdHRyaWJ1dGUoXCJ2aWV3Ym94XCIsIHZfYm94KTtcbiAgICAgICAgICAgIHRoaXMuYmFzZS5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIHZfYm94KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm4gdGhlIHZpZXdib3ggdmFsdWVcbiAgICAgICAgcmV0dXJuIHZfYm94O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2FsY3VsYXRlVmlld1xuICAgICAqXG4gICAgICogQ2FsY3VsYXRlIHdoYXQgdGhlIHZpZXcgb2YgdGhlIFNWRyBzaG91bGQgYmUsIGJhc2VkIG9uIHRoZSBleHRyZW1hXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZXh0cmVtYSB3ZXJlIGFwcHJvcHJpYXRlbHkgY2FsY3VsYXRlZFxuICAgICAqXG4gICAgICovXG4gICAgX2NhbGN1bGF0ZVZpZXcoKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0byB0aGUgZXh0cmVtYVxuICAgICAgICB0aGlzLl92aWV3LnggPSB0aGlzLl9leHRyZW1hLm1pbi54IC0gdGhpcy5fb3B0aW9ucy5ndXR0ZXI7XG4gICAgICAgIHRoaXMuX3ZpZXcueSA9IHRoaXMuX2V4dHJlbWEubWluLnkgLSB0aGlzLl9vcHRpb25zLmd1dHRlcjtcbiAgICAgICAgdGhpcy5fdmlldy53ID0gKHRoaXMuX2V4dHJlbWEubWF4LnggLSB0aGlzLl9leHRyZW1hLm1pbi54KSArICgyICogdGhpcy5fb3B0aW9ucy5ndXR0ZXIpO1xuICAgICAgICB0aGlzLl92aWV3LmggPSAodGhpcy5fZXh0cmVtYS5tYXgueSAtIHRoaXMuX2V4dHJlbWEubWluLnkpICsgKDIgKiB0aGlzLl9vcHRpb25zLmd1dHRlcik7XG4gICAgICAgIC8vIGNoZWNrIHRoYXQgdGhpcyBtZWV0cyB0aGUgZXhwZWN0ZWQgZGltZW5zaW9uc1xuICAgICAgICB0aGlzLl92ZXJpZnlWaWV3TWVldHNBc3BlY3RSYXRpbygpO1xuICAgICAgICAvLyByZWZyZXNoIHRoZSB2aWV3Ym94IGF0dHJpYnV0ZVxuICAgICAgICB0aGlzLmdlbmVyYXRlVmlld2JveEF0dHJpYnV0ZSh0cnVlKTtcbiAgICAgICAgLy8gUmV0dXJuIHRoYXQgd2Ugc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQgdGhlIHZpZXdcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF92ZXJpZnlWaWV3TWVldHNBc3BlY3RSYXRpbygpIHtcbiAgICAgICAgbGV0IGV4cGVjdGVkUmF0aW8gPSB0aGlzLl9ib3VuZHMudyAvIHRoaXMuX2JvdW5kcy5oO1xuICAgICAgICBsZXQgY3VycmVudFJhdGlvID0gdGhpcy5fdmlldy53IC8gdGhpcy5fdmlldy5oO1xuICAgICAgICBpZiAoY3VycmVudFJhdGlvIDwgZXhwZWN0ZWRSYXRpbykge1xuICAgICAgICAgICAgdGhpcy5fdmlldy53ID0gdGhpcy5fdmlldy5oICogZXhwZWN0ZWRSYXRpbztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXJyZW50UmF0aW8gPiBleHBlY3RlZFJhdGlvKSB7XG4gICAgICAgICAgICB0aGlzLl92aWV3LmggPSB0aGlzLl92aWV3LncgLyBleHBlY3RlZFJhdGlvO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF91cGRhdGVFeHRyZW1hXG4gICAgICpcbiAgICAgKiBVcGRhdGVzIHRoZSBleHRyZW1lIHBvaW50cyBvZiB0aGlzIFNWRyBlbGVtZW50IGFmdGVyIGFkZGluZyBhbiBlbGVtZW50XG4gICAgICogQHBhcmFtIFx0ZXh0cmVtYSBcdFRoZSBleHRyZW1hIG9mIHRoZSBlbGVtZW50IGp1c3QgYWRkZWRcbiAgICAgKlxuICAgICAqL1xuICAgIF91cGRhdGVFeHRyZW1hKGV4dHJlbWEpIHtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBtaW5pbWEgaWYgYXBwcm9wcmlhdGVcbiAgICAgICAgaWYgKGV4dHJlbWEubWluLnggPCB0aGlzLl9leHRyZW1hLm1pbi54KSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyZW1hLm1pbi54ID0gZXh0cmVtYS5taW4ueDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0cmVtYS5taW4ueSA8IHRoaXMuX2V4dHJlbWEubWluLnkpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJlbWEubWluLnkgPSBleHRyZW1hLm1pbi55O1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgbWF4aW1hIGlzIGFwcHJvcHJpYXRlXG4gICAgICAgIGlmIChleHRyZW1hLm1heC54ID4gdGhpcy5fZXh0cmVtYS5tYXgueCkge1xuICAgICAgICAgICAgdGhpcy5fZXh0cmVtYS5tYXgueCA9IGV4dHJlbWEubWF4Lng7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4dHJlbWEubWF4LnkgPiB0aGlzLl9leHRyZW1hLm1heC55KSB7XG4gICAgICAgICAgICB0aGlzLl9leHRyZW1hLm1heC55ID0gZXh0cmVtYS5tYXgueTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5hdXRvX3Jlc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FsY3VsYXRlVmlldygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBDT05WRVJTSU9OU1xuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZVNWR0Nvb3JkaW5hdGVzXG4gICAgICpcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBTVkcgY29vcmRpbmF0ZXMgZnJvbSByZWFsIGNvb3JkaW5hdGVzXG4gICAgICogQHBhcmFtICAgcHRcdFRoZSByZWFsIGNvb3JkaW5hdGVzIHRvIGNvbnZlcnRcbiAgICAgKiBAcmV0dXJucyBUaGUgU1ZHIGNvb3JkaW5hdGVzIGZvciB0aGlzIHJlYWwgcG9pbnRcbiAgICAgKlxuICAgICAqL1xuICAgIGNhbGN1bGF0ZVNWR0Nvb3JkaW5hdGVzKHB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb252ZXJ0Q29vcmRpbmF0ZXMocHQsIHRoaXMuX3ZpZXcsIHRoaXMuX2JvdW5kcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZVNjcmVlbkNvb3JkaW5hdGVzXG4gICAgICpcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHJlYWwgY29vcmRpbmF0ZXMgZnJvbSBTVkcgY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0gXHRwdCBcdFRoZSBwb2ludCB0byBjb252ZXJ0IHRvIHJlYWwgY29vcmRpbmF0ZXNcbiAgICAgKiBAcmV0dXJuc1x0VGhlIHJlYWwgY29vcmRpbmF0ZXMgZm9yIHRoaXMgU1ZHIHBvaW50XG4gICAgICpcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVTY3JlZW5Db29yZGluYXRlcyhwdCkge1xuICAgICAgICBsZXQgb3V0UHQgPSB0aGlzLl9jb252ZXJ0Q29vcmRpbmF0ZXMocHQsIHRoaXMuX2JvdW5kcywgdGhpcy5fdmlldyk7XG4gICAgICAgIHJldHVybiBvdXRQdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NvbnZlcnRDb29yZGluYXRlc1xuICAgICAqXG4gICAgICogQ29udmVydCBvbmUgc2V0IG9mIGNvb3JkaW5hdGVzIHRvIGFub3RoZXJcbiAgICAgKiBAcGFyYW1cdHB0XHRcdFx0VGhlIHBvaW50IHRvIGNvbnZlcnRcbiAgICAgKiBAcGFyYW1cdG51bWVyYXRvclx0VGhlIHJhdGlvIHRvIGNvbnNpZGVyIHRoZSBudW1lcmF0b3JcbiAgICAgKiBAcGFyYW1cdGRlbm9taW5hdG9yXHRUaGUgcmF0aW8gdG8gY29uc2lkZXIgdGhlIGRlbm9taW5hdG9yXG4gICAgICogQHJldHVybnNcdFRoZSBjb252ZXJ0ZWQgcG9pbnRcbiAgICAgKlxuICAgICAqL1xuICAgIF9jb252ZXJ0Q29vcmRpbmF0ZXMocHQsIG51bWVyYXRvciwgZGVub21pbmF0b3IpIHtcbiAgICAgICAgbGV0IG91dDtcbiAgICAgICAgbGV0IHhfcmF0aW8gPSAobnVtZXJhdG9yLncgLyBkZW5vbWluYXRvci53KTtcbiAgICAgICAgbGV0IHlfcmF0aW8gPSAobnVtZXJhdG9yLmggLyBkZW5vbWluYXRvci5oKTtcbiAgICAgICAgb3V0ID0ge1xuICAgICAgICAgICAgeDogKHhfcmF0aW8gKiAocHQueCAtIGRlbm9taW5hdG9yLngpKSArIG51bWVyYXRvci54LFxuICAgICAgICAgICAgeTogKHlfcmF0aW8gKiAocHQueSAtIGRlbm9taW5hdG9yLnkpKSArIG51bWVyYXRvci55XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jb252ZXJ0RGlzdGFuY2VcbiAgICAgKlxuICAgICAqXG4gICAgICpcbiAgICAgKi9cbiAgICBfY29udmVydERpc3RhbmNlKG1lYXN1cmUsIG51bWVyYXRvciwgZGVub21pbmF0b3IpIHtcbiAgICAgICAgbGV0IHJhdGlvID0gbnVtZXJhdG9yIC8gZGVub21pbmF0b3I7XG4gICAgICAgIHJldHVybiAobWVhc3VyZSAqIHJhdGlvKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlU1ZHV2lkdGhcbiAgICAgKlxuICAgICAqIENhbGN1bGF0ZSBob3cgd2lkZSBzb21ldGhpbmcgaXMgaW4gU1ZHIGNvb3JkaW5hdGVzIHdoZW4gbWVhc3VyZWQgaW4gcmVhbFxuICAgICAqIGNvb3JkaW5hdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtXHR3aWR0aFx0VGhlIHdpZHRoIHRvIGNvbnZlcnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUaGUgU1ZHIGVxdWl2YWxlbnQgb2YgdGhlIHdpZHRoXG4gICAgICpcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVTVkdXaWR0aCh3aWR0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udmVydERpc3RhbmNlKHdpZHRoLCB0aGlzLl92aWV3LncsIHRoaXMuX2JvdW5kcy53KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlU1ZHSGVpZ2h0XG4gICAgICpcbiAgICAgKiBDYWxjdWxhdGUgaG93IGhpZ2ggc29tZXRoaW5nIGlzIGluIFNWRyBjb29yZGluYXRlcyBmcm9tIHRoZSByZWFsXG4gICAgICogbWVhc3VyZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGhlaWdodFx0VGhlIGhlaWdodCB0byBjb252ZXJ0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VGhlIGNvbnZlcnRlZCBoZWlnaHRcbiAgICAgKlxuICAgICAqL1xuICAgIGNhbGN1bGF0ZVNWR0hlaWdodChoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnZlcnREaXN0YW5jZShoZWlnaHQsIHRoaXMuX3ZpZXcuaCwgdGhpcy5fYm91bmRzLmgpO1xuICAgIH1cbiAgICBjYWxjdWxhdGVTY3JlZW5XaWR0aCh3aWR0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udmVydERpc3RhbmNlKHdpZHRoLCB0aGlzLl9ib3VuZHMudywgdGhpcy5fdmlldy53KTtcbiAgICB9XG4gICAgY2FsY3VsYXRlU2NyZWVuSGVpZ2h0KGhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udmVydERpc3RhbmNlKGhlaWdodCwgdGhpcy5fYm91bmRzLmgsIHRoaXMuX3ZpZXcuaCk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBBREQgQ0hJTERSRU5cbiAgICAvKipcbiAgICAgKiBhZGRQYXRoXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFkZCBhIHBhdGggdG8gb3VyIFNWRyBjYW52YXNcbiAgICAgKiBAcGFyYW0gXHRwb2ludHMgXHRUaGUgcG9pbnRzIGluIHRoZSBwYXRoIHRvIGFkZFxuICAgICAqIEBwYXJhbSBcdG5vRmluaXNoIFx0VHJ1ZSBpZiB0aGlzIHBhdGggc2hvdWxkIGJlIGxlZnQgdW5maW5pc2hlZFxuICAgICAqIEBwYXJhbSBcdGF0dHIgXHRcdEFueSBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlIHNldCBmb3IgdGhlIHBhdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUaGUgY3JlYXRlZCBQYXRoRWxlbWVudFxuICAgICAqL1xuICAgIGFkZFBhdGgocG9pbnRzLCBub0ZpbmlzaCwgYXR0cikge1xuICAgICAgICBsZXQgcGF0aCA9IHRoaXMuX2dyb3VwLmFkZFBhdGgocG9pbnRzLCBub0ZpbmlzaCwgYXR0cik7XG4gICAgICAgIHRoaXMuX2FkZEVsZW1lbnRMaXN0ZW5lcihwYXRoKTtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZFJlY3RhbmdsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGQgYSByZWN0YW5nbGUgdG8gb3VyIFNWRyBjYW52YXNcbiAgICAgKiBAcGFyYW0gXHR4IFx0XHRYIGNvb3JkaW5hdGUgZm9yIHRoZSByZWN0XG4gICAgICogQHBhcmFtIFx0eSBcdFx0eSBjb29yZGluYXRlIGZvciB0aGUgcmVjdFxuICAgICAqIEBwYXJhbSBcdHdpZHRoIFx0V2lkdGggZm9yIHRoZSByZWN0XG4gICAgICogQHBhcmFtIFx0aGVpZ2h0IFx0SGVpZ2h0IGZvciB0aGUgcmVjdFxuICAgICAqIEBwYXJhbSBcdGF0dHIgXHRBbnkgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBiZSBzZXQgZm9yIHRoZSByZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VGhlIGNyZWF0ZWQgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgYWRkUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIGF0dHIpIHtcbiAgICAgICAgbGV0IHJlY3QgPSB0aGlzLl9ncm91cC5hZGRSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgYXR0cik7XG4gICAgICAgIHRoaXMuX2FkZEVsZW1lbnRMaXN0ZW5lcihyZWN0KTtcbiAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZENpcmNsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGQgYSBjaXJjbGUgdG8gb3VyIFNWRyBjYW52YXNcbiAgICAgKiBAcGFyYW0gXHRjZW50ZXJQdFx0Q2VudHJhbCBwb2ludCBmb3IgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSBcdHJhZGl1c1x0XHRSYWRpdXMgZm9yIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0gXHRhdHRyXHRcdEFueSBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlIHNldCBmb3IgdGhlIGNpcmNsZVxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRoZSBjcmVhdGVkIGNpcmNsZVxuICAgICAqL1xuICAgIGFkZENpcmNsZShjZW50ZXJQdCwgcmFkaXVzLCBhdHRyKSB7XG4gICAgICAgIGxldCBjaXJjbGUgPSB0aGlzLl9ncm91cC5hZGRDaXJjbGUoY2VudGVyUHQsIHJhZGl1cywgYXR0cik7XG4gICAgICAgIHRoaXMuX2FkZEVsZW1lbnRMaXN0ZW5lcihjaXJjbGUpO1xuICAgICAgICByZXR1cm4gY2lyY2xlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBhZGRQZXJmZWN0QXJjXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFkZCBhbiBhcmMgdG8gb3VyIFNWRyBjYW52YXNcbiAgICAgKiBAcGFyYW0gY2VudGVyUHRcbiAgICAgKiBAcGFyYW0gcmFkaXVzXG4gICAgICogQHBhcmFtIHN0YXJ0RGVnXG4gICAgICogQHBhcmFtIGVuZERlZ1xuICAgICAqIEBwYXJhbSBkaXJlY3Rpb25cbiAgICAgKiBAcGFyYW0gYXR0clxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRoZSBjcmVhdGVkIGFyY1xuICAgICAqL1xuICAgIGFkZFBlcmZlY3RBcmMoY2VudGVyUHQsIHJhZGl1cywgc3RhcnREZWcsIGVuZERlZywgZGlyZWN0aW9uLCBhdHRyKSB7XG4gICAgICAgIGxldCBhcmMgPSB0aGlzLl9ncm91cC5hZGRQZXJmZWN0QXJjKGNlbnRlclB0LCByYWRpdXMsIHN0YXJ0RGVnLCBlbmREZWcsIGRpcmVjdGlvbiwgYXR0cik7XG4gICAgICAgIHRoaXMuX2FkZEVsZW1lbnRMaXN0ZW5lcihhcmMpO1xuICAgICAgICByZXR1cm4gYXJjO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBhZGRQaWVTbGljZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gY2VudGVyUHRcbiAgICAgKiBAcGFyYW0gcmFkaXVzXG4gICAgICogQHBhcmFtIHN0YXJ0RGVnXG4gICAgICogQHBhcmFtIGVuZERlZ1xuICAgICAqIEBwYXJhbSBkaXJlY3Rpb25cbiAgICAgKiBAcGFyYW0gYXR0clxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRoZSBjcmVhdGVkIHBpZSBzbGljZVxuICAgICAqL1xuICAgIGFkZFBpZVNsaWNlKGNlbnRlclB0LCByYWRpdXMsIHN0YXJ0RGVnLCBlbmREZWcsIGRpcmVjdGlvbiwgYXR0cikge1xuICAgICAgICBsZXQgcGllU2xpY2UgPSB0aGlzLl9ncm91cC5hZGRQaWVTbGljZShjZW50ZXJQdCwgcmFkaXVzLCBzdGFydERlZywgZW5kRGVnLCBkaXJlY3Rpb24sIGF0dHIpO1xuICAgICAgICB0aGlzLl9hZGRFbGVtZW50TGlzdGVuZXIocGllU2xpY2UpO1xuICAgICAgICByZXR1cm4gcGllU2xpY2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZFJlZ3VsYXJQb2x5Z29uXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFkZCBhIG11bHRpLXNpZGVkIHBvbHlnb24gdG8gb3VyIFNWRyBjYW52YXNcbiAgICAgKiBAcGFyYW0gXHRjZW50ZXJQdCBcdENlbnRyYWwgcG9pbnQgZm9yIHRoZSBzaGFwZVxuICAgICAqIEBwYXJhbSBcdHNpZGVzIFx0XHROdW1iZXIgb2Ygc2lkZXMgZm9yIHRoZSBwb2x5Z29uXG4gICAgICogQHBhcmFtIFx0cmFkaXVzIFx0XHRSYWRpdXMgZm9yIHRoZSBwb2x5Z29uXG4gICAgICogQHBhcmFtIFx0YXR0ciBcdFx0QW55IGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYmUgc2V0IGZvciB0aGUgY2lyY2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VGhlIGNyZWF0ZWQgcG9seWdvblxuICAgICAqL1xuICAgIGFkZFJlZ3VsYXJQb2x5Z29uKGNlbnRlclB0LCBzaWRlcywgcmFkaXVzLCBhdHRyKSB7XG4gICAgICAgIGxldCBwb2x5Z29uID0gdGhpcy5fZ3JvdXAuYWRkUmVndWxhclBvbHlnb24oY2VudGVyUHQsIHNpZGVzLCByYWRpdXMsIGF0dHIpO1xuICAgICAgICB0aGlzLl9hZGRFbGVtZW50TGlzdGVuZXIocG9seWdvbik7XG4gICAgICAgIHJldHVybiBwb2x5Z29uO1xuICAgIH1cbiAgICBhZGRSZWd1bGFyU3RhcihjZW50ZXJQdCwgbnVtYmVyT2ZQb2ludHMsIHJhZGl1cywgaW5uZXJSYWRpdXMsIGF0dHIpIHtcbiAgICAgICAgbGV0IHN0YXIgPSB0aGlzLl9ncm91cC5hZGRSZWd1bGFyU3RhcihjZW50ZXJQdCwgbnVtYmVyT2ZQb2ludHMsIHJhZGl1cywgaW5uZXJSYWRpdXMsIGF0dHIpO1xuICAgICAgICB0aGlzLl9hZGRFbGVtZW50TGlzdGVuZXIoc3Rhcik7XG4gICAgICAgIHJldHVybiBzdGFyO1xuICAgIH1cbiAgICBhZGRUZXh0KHRleHQsIHBvaW50LCBvcmlnaW5QdCwgYXR0cikge1xuICAgICAgICBsZXQgdHh0ID0gdGhpcy5fZ3JvdXAuYWRkVGV4dCh0ZXh0LCBwb2ludCwgb3JpZ2luUHQsIGF0dHIpO1xuICAgICAgICB0aGlzLl9hZGRFbGVtZW50TGlzdGVuZXIodHh0KTtcbiAgICAgICAgcmV0dXJuIHR4dDtcbiAgICB9XG4gICAgYWRkRmxvd2FibGVUZXh0KHRleHQsIGJvdW5kcywgYXR0cikge1xuICAgICAgICBsZXQgdHh0ID0gdGhpcy5fZ3JvdXAuYWRkRmxvd2FibGVUZXh0KHRleHQsIGJvdW5kcywgYXR0cik7XG4gICAgICAgIHRoaXMuX2FkZEVsZW1lbnRMaXN0ZW5lcih0eHQpO1xuICAgICAgICByZXR1cm4gdHh0O1xuICAgIH1cbiAgICBhZGRHcm91cChhdHRyKSB7XG4gICAgICAgIGxldCBncm91cCA9IHRoaXMuX2dyb3VwLmFkZEdyb3VwKGF0dHIpO1xuICAgICAgICB0aGlzLl9hZGRFbGVtZW50TGlzdGVuZXIoZ3JvdXApO1xuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuICAgIGFkZFNoYXBlKHNoYXBlVHlwZSwgc2NhbGUsIGNlbnRlclB0LCBhdHRyKSB7XG4gICAgICAgIGxldCBzaGFwZSA9IHRoaXMuX2dyb3VwLmFkZFNoYXBlKHNoYXBlVHlwZSwgc2NhbGUsIGNlbnRlclB0LCBhdHRyKTtcbiAgICAgICAgdGhpcy5fYWRkRWxlbWVudExpc3RlbmVyKHNoYXBlKTtcbiAgICAgICAgcmV0dXJuIHNoYXBlO1xuICAgIH1cbiAgICBfYWRkRWxlbWVudExpc3RlbmVyKGVsZW0pIHtcbiAgICAgICAgZWxlbS5hZGRVcGRhdGVMaXN0ZW5lcigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVFeHRyZW1hKGVsZW0uZXh0cmVtYSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvKipcbiAgICAgKiBfY29udmVydFBvaW50c1RvUGF0aFBvaW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gdHVybiBhbiBhcnJheSBvZiBJUG9pbnQgZWxlbWVudHMgdG8gSVBhdGhQb2ludCBlbGVtZW50c1xuICAgICAqIEBwYXJhbSAgIHBvaW50cyBcdFRoZSBwb2ludHMgdG8gY29udmVydFxuICAgICAqIEBwYXJhbSAgIHNjYWxlICBcdFRoZSBzY2FsZSB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSBJUG9pbnQgYmVmb3JlIHR1cm5pbmcgaW50byBhIElQYXRoUG9pbnRcbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiBzY2FsZWQgSVBhdGhQb2ludHNcbiAgICAgKi9cbiAgICBfY29udmVydFBvaW50c1RvUGF0aFBvaW50cyhwb2ludHMsIHNjYWxlKSB7XG4gICAgICAgIGlmICghc2NhbGUpIHtcbiAgICAgICAgICAgIHNjYWxlID0gMTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcGF0aFBvaW50cyA9IFtdO1xuICAgICAgICAvLyBMb29wIHRocm91Z2ggZWFjaCBvZiB0aGUgcG9pbnRzXG4gICAgICAgIGZvciAobGV0IHB0IG9mIHBvaW50cykge1xuICAgICAgICAgICAgcHQueCAqPSBzY2FsZTsgLy8gU2NhbGUgdGhlIHggZGltZW5zaW9uXG4gICAgICAgICAgICBwdC55ICo9IHNjYWxlOyAvLyBTY2FsZSB0aGUgeSBkaW1lbnNpb25cbiAgICAgICAgICAgIHBhdGhQb2ludHMucHVzaChwdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhdGhQb2ludHM7XG4gICAgfVxuICAgIC8vXG4gICAgLyoqXG4gICAgICogcm90YXRlRWxlbWVudFxuICAgICAqXG4gICAgICogUm90YXRlcyBhbiBlbGVtZW50IGFyb3VuZCBhIHBhcnRpY3VsYXIgcG9pbnRcbiAgICAgKiBAcGFyYW0gICBlbGVtICAgICAgICAgVGhlIGVsZW1lbnQgdG8gcm90YXRlXG4gICAgICogQHBhcmFtICAgZGVncmVlICAgICAgIEhvdyBtYW55IGRlZ3JlZXMgdG8gcm90YXRlIHRoZSBlbGVtZW50XG4gICAgICogQHBhcmFtICAgcm90YXRlQXJvdW5kIFdoYXQgcG9pbnQgdG8gcm90YXRlIGFyb3VuZFxuICAgICAqIEByZXR1cm5zIFRoZSByb3RhdGVkIFNWRyBFbGVtZW50XG4gICAgICpcbiAgICAgKi9cbiAgICByb3RhdGVFbGVtZW50KGVsZW0sIGRlZ3JlZSwgcm90YXRlQXJvdW5kKSB7XG4gICAgICAgIGxldCBib3g7XG4gICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBwb2ludCBhcm91bmQgd2hpY2ggdG8gcm90YXRlLCBzZXQgaXQgdG8gYmUgdGhlIGNlbnRlciBvZiB0aGUgZWxlbWVudFxuICAgICAgICBpZiAoIXJvdGF0ZUFyb3VuZCkge1xuICAgICAgICAgICAgYm94ID0gZWxlbS5tZWFzdXJlRWxlbWVudCgpO1xuICAgICAgICAgICAgcm90YXRlQXJvdW5kID0ge1xuICAgICAgICAgICAgICAgIHg6IGJveC54ICsgKGJveC53IC8gMiksXG4gICAgICAgICAgICAgICAgeTogYm94LnkgKyAoYm94LmggLyAyKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtLmJhc2Uuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKFwiICsgZGVncmVlICsgXCIsIFwiICsgcm90YXRlQXJvdW5kLnggKyBcIiwgXCIgKyByb3RhdGVBcm91bmQueSArIFwiKVwiKTtcbiAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNsZWFyXG4gICAgICpcbiAgICAgKiBDbGVhciBldmVyeXRoaW5nIG9mZiB0aGUgY2FudmFzXG4gICAgICpcbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fZ3JvdXAuY2xlYXIoKTtcbiAgICB9XG59XG5leHBvcnRzLlNWR0RyYXdhYmxlID0gU1ZHRHJhd2FibGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHBhdGhFeHRlbnNpb25fMSA9IHJlcXVpcmUoXCIuL3BhdGhFeHRlbnNpb25cIik7XG4vKipcbiAqIEBjbGFzc1x0Q2hlY2tFbGVtZW50XG4gKlxuICovXG5jbGFzcyBDaGVja0VsZW1lbnQgZXh0ZW5kcyBwYXRoRXh0ZW5zaW9uXzEuUGF0aEV4dGVuc2lvbkVsZW1lbnQge1xuICAgIF9nZW5lcmF0ZVBvaW50cyhjZW50ZXJQdCkge1xuICAgICAgICBsZXQgcHRzID0gW1xuICAgICAgICAgICAgeyB4OiAtMC4xNSwgeTogMi45NSB9LFxuICAgICAgICAgICAgeyB4OiAxLCB5OiA0IH0sXG4gICAgICAgICAgICB7IHg6IDEuMjUsIHk6IDQgfSxcbiAgICAgICAgICAgIHsgeDogMywgeTogMC4yNSB9LFxuICAgICAgICAgICAgeyB4OiAyLjQsIHk6IDAgfSxcbiAgICAgICAgICAgIHsgeDogMSwgeTogMyB9LFxuICAgICAgICAgICAgeyB4OiAwLjMsIHk6IDIuMyB9XG4gICAgICAgIF07XG4gICAgICAgIGZvciAobGV0IHB0IG9mIHB0cykge1xuICAgICAgICAgICAgcHQueCArPSBjZW50ZXJQdC54O1xuICAgICAgICAgICAgcHQueSArPSBjZW50ZXJQdC55O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwdHM7XG4gICAgfVxufVxuZXhwb3J0cy5DaGVja0VsZW1lbnQgPSBDaGVja0VsZW1lbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHBhdGhFeHRlbnNpb25fMSA9IHJlcXVpcmUoXCIuL3BhdGhFeHRlbnNpb25cIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdEN1cnZlRWxlbWVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUmVuZGVyIGEgY3VydmUgYXMgYW4gU1ZHIGVsZW1lbnRcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQ3VydmVFbGVtZW50IGV4dGVuZHMgcGF0aEV4dGVuc2lvbl8xLlBhdGhFeHRlbnNpb25FbGVtZW50IHtcbiAgICBfZ2VuZXJhdGVQb2ludHMoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59XG5leHBvcnRzLkN1cnZlRWxlbWVudCA9IEN1cnZlRWxlbWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgcGF0aEV4dGVuc2lvbl8xID0gcmVxdWlyZShcIi4vcGF0aEV4dGVuc2lvblwiKTtcbi8qKlxuICogQGNsYXNzXHRFeEVsZW1lbnRcbiAqXG4gKi9cbmNsYXNzIEV4RWxlbWVudCBleHRlbmRzIHBhdGhFeHRlbnNpb25fMS5QYXRoRXh0ZW5zaW9uRWxlbWVudCB7XG4gICAgX2dlbmVyYXRlUG9pbnRzKGNlbnRlclB0KSB7XG4gICAgICAgIGxldCBwdHMgPSBbXG4gICAgICAgICAgICB7IHg6IDAuMjUsIHk6IDAuNiB9LFxuICAgICAgICAgICAgeyB4OiAxLCB5OiAwIH0sXG4gICAgICAgICAgICB7IHg6IDIsIHk6IDEuMSB9LFxuICAgICAgICAgICAgeyB4OiAzLCB5OiAwIH0sXG4gICAgICAgICAgICB7IHg6IDMuNzUsIHk6IDAuNiB9LFxuICAgICAgICAgICAgeyB4OiAyLjY2LCB5OiAxLjc1IH0sXG4gICAgICAgICAgICB7IHg6IDMuNzUsIHk6IDIuOSB9LFxuICAgICAgICAgICAgeyB4OiAzLCB5OiAzLjUgfSxcbiAgICAgICAgICAgIHsgeDogMiwgeTogMi41IH0sXG4gICAgICAgICAgICB7IHg6IDEsIHk6IDMuNSB9LFxuICAgICAgICAgICAgeyB4OiAwLjI1LCB5OiAyLjkgfSxcbiAgICAgICAgICAgIHsgeDogMS4zMywgeTogMS43NSB9XG4gICAgICAgIF07XG4gICAgICAgIGZvciAobGV0IHB0IG9mIHB0cykge1xuICAgICAgICAgICAgcHQueCArPSBjZW50ZXJQdC54O1xuICAgICAgICAgICAgcHQueSArPSBjZW50ZXJQdC55O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwdHM7XG4gICAgfVxufVxuZXhwb3J0cy5FeEVsZW1lbnQgPSBFeEVsZW1lbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGFyY18xID0gcmVxdWlyZShcIi4vYXJjXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRQaWVTbGljZUVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhIHNsaWNlIG9mIGEgcGllXG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFBpZVNsaWNlRWxlbWVudCBleHRlbmRzIGFyY18xLkFyY0VsZW1lbnQge1xuICAgIC8qKlxuICAgICAqIF9zaG91bGRTaG93UmFkaWlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogVHJ1ZSBpZiB0aGlzIHNob3VsZCBiZSByZW5kZXJlZCBhcyBhIHBpZSB3ZWRnZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICogQHJldHVybnNcdFRydWVcbiAgICAgKi9cbiAgICBfc2hvdWxkU2hvd1JhZGlpKCkgeyByZXR1cm4gdHJ1ZTsgfVxufVxuZXhwb3J0cy5QaWVTbGljZUVsZW1lbnQgPSBQaWVTbGljZUVsZW1lbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHBhdGhFeHRlbnNpb25fMSA9IHJlcXVpcmUoXCIuL3BhdGhFeHRlbnNpb25cIik7XG4vKipcbiAqIEBjbGFzc1x0UGx1c0VsZW1lbnRcbiAqXG4gKi9cbmNsYXNzIFBsdXNFbGVtZW50IGV4dGVuZHMgcGF0aEV4dGVuc2lvbl8xLlBhdGhFeHRlbnNpb25FbGVtZW50IHtcbiAgICBfZ2VuZXJhdGVQb2ludHMoY2VudGVyUHQpIHtcbiAgICAgICAgbGV0IHB0cyA9IFtcbiAgICAgICAgICAgIHsgeDogMiwgeTogMiB9LFxuICAgICAgICAgICAgeyB4OiAyLCB5OiAwIH0sXG4gICAgICAgICAgICB7IHg6IDMsIHk6IDAgfSxcbiAgICAgICAgICAgIHsgeDogMywgeTogMiB9LFxuICAgICAgICAgICAgeyB4OiA1LCB5OiAyIH0sXG4gICAgICAgICAgICB7IHg6IDUsIHk6IDMgfSxcbiAgICAgICAgICAgIHsgeDogMywgeTogMyB9LFxuICAgICAgICAgICAgeyB4OiAzLCB5OiA1IH0sXG4gICAgICAgICAgICB7IHg6IDIsIHk6IDUgfSxcbiAgICAgICAgICAgIHsgeDogMiwgeTogMyB9LFxuICAgICAgICAgICAgeyB4OiAwLCB5OiAzIH0sXG4gICAgICAgICAgICB7IHg6IDAsIHk6IDIgfVxuICAgICAgICBdO1xuICAgICAgICBmb3IgKGxldCBwdCBvZiBwdHMpIHtcbiAgICAgICAgICAgIHB0LnggKz0gY2VudGVyUHQueDtcbiAgICAgICAgICAgIHB0LnkgKz0gY2VudGVyUHQueTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHRzO1xuICAgIH1cbn1cbmV4cG9ydHMuUGx1c0VsZW1lbnQgPSBQbHVzRWxlbWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgcG9seWdvbl8xID0gcmVxdWlyZShcIi4vcG9seWdvblwiKTtcbmNvbnN0IG1hdGhzXzEgPSByZXF1aXJlKFwiLi4vLi4vbWF0aHNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdFN0YXJFbGVtZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAdmVyc2lvbiAxLjBcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBTdGFyRWxlbWVudCBleHRlbmRzIHBvbHlnb25fMS5Qb2x5Z29uRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoY2VudGVyUHQsIG51bWJlck9mUG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCBhdHRyKSB7XG4gICAgICAgIHN1cGVyKGNlbnRlclB0LCBudW1iZXJPZlBvaW50cywgcmFkaXVzLCBhdHRyLCBpbm5lclJhZGl1cyk7XG4gICAgfVxuICAgIF9nZW5lcmF0ZVBvaW50cyhjZW50ZXJQdCwgbnVtYmVyT2ZQb2ludHMsIHJhZGl1cywgaW5uZXJSYWRpdXMpIHtcbiAgICAgICAgbGV0IGN1ckFuZ2xlID0gMDtcbiAgICAgICAgbGV0IGludEFuZ2xlID0gKG1hdGhzXzEuY2FsY3VsYXRlUG9seWdvbkludGVybmFsQW5nbGUobnVtYmVyT2ZQb2ludHMpIC8gMik7XG4gICAgICAgIGxldCBwb2ludHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZlBvaW50czsgaSArPSAxKSB7XG4gICAgICAgICAgICBsZXQgcHQ7XG4gICAgICAgICAgICAvLyBPdXRlciBwb2ludFxuICAgICAgICAgICAgcHQgPSB0aGlzLl9jYWxjdWxhdGVQb2x5Z29uUG9pbnQoY2VudGVyUHQsIGN1ckFuZ2xlLCByYWRpdXMpO1xuICAgICAgICAgICAgY3VyQW5nbGUgKz0gaW50QW5nbGU7XG4gICAgICAgICAgICBwb2ludHMucHVzaChwdCk7XG4gICAgICAgICAgICAvLyBJbm5lciBwb2ludFxuICAgICAgICAgICAgcHQgPSB0aGlzLl9jYWxjdWxhdGVQb2x5Z29uUG9pbnQoY2VudGVyUHQsIGN1ckFuZ2xlLCBpbm5lclJhZGl1cyk7XG4gICAgICAgICAgICBjdXJBbmdsZSArPSBpbnRBbmdsZTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHB0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgIH1cbn1cbmV4cG9ydHMuU3RhckVsZW1lbnQgPSBTdGFyRWxlbWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NpcmNsZUVsZW1lbnRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZ3JvdXBFbGVtZW50XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3BhdGhFbGVtZW50XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3JlY3RFbGVtZW50XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3N2Z0VsZW1lbnRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdGV4dEVsZW1lbnRcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vX2NvbnN0YW50c1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90b29sdGlwXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2ZhbHNleVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9odG1sR3VhcmRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaW50ZXJmYWNlR3VhcmRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc2ltcGxlR3VhcmRcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vdGVzdFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90ZXN0VWlcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vY29uc29sZVRlc3RcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaHRtbFRlc3RcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vY29uc29sZVRlc3RcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vY29uc29sZVVuaXRUZXN0VWlcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0ZXN0XzEgPSByZXF1aXJlKFwiLi4vdGVzdFwiKTtcbmNvbnN0IGNvbnNvbGVVbml0VGVzdFVpXzEgPSByZXF1aXJlKFwiLi9jb25zb2xlVW5pdFRlc3RVaVwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0Q29uc29sZVVuaXRUZXN0ZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFVuaXQgdGVzdGVyIHRoYXQgcmVuZGVycyByZXN1bHRzIGluIHRoZSBjb25zb2xlXG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uXHQxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBDb25zb2xlVW5pdFRlc3RlciBleHRlbmRzIHRlc3RfMS5Vbml0VGVzdGVyIHtcbiAgICBnZXQgX3VpKCkge1xuICAgICAgICBpZiAodGhpcy5fX3VpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fX3VpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX191aSA9IG5ldyBjb25zb2xlVW5pdFRlc3RVaV8xLkNvbnNvbGVVbml0VGVzdFVJKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9fdWk7XG4gICAgfVxuICAgIHZpc3VhbFRlc3QodGl0bGUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKHRpdGxlICsgXCIgOiBWaXN1YWwgdGVzdHMgY2FuJ3QgYmUgcGVyZm9ybWVkIHRocm91Z2ggdGhlIGNvbnNvbGVcIik7XG4gICAgfVxufVxuZXhwb3J0cy5Db25zb2xlVW5pdFRlc3RlciA9IENvbnNvbGVVbml0VGVzdGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vaHRtbFVpXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2h0bWxVbml0VGVzdFVpXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2h0bWxVbml0VGVzdGVyXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdGVzdF8xID0gcmVxdWlyZShcIi4uL3Rlc3RcIik7XG5jb25zdCBodG1sVW5pdFRlc3RVaV8xID0gcmVxdWlyZShcIi4vaHRtbFVuaXRUZXN0VWlcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdEhUTUxVbml0VGVzdGVyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBVbml0IHRlc3RlciB0aGF0IHJlbmRlcnMgcmVzdWx0cyBhcyBIVE1MIGVsZW1lbnRzXG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uXHQxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBIVE1MVW5pdFRlc3RlciBleHRlbmRzIHRlc3RfMS5Vbml0VGVzdGVyIHtcbiAgICBnZXQgX3VpKCkge1xuICAgICAgICBpZiAodGhpcy5fX3VpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fX3VpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX191aSA9IG5ldyBodG1sVW5pdFRlc3RVaV8xLkhUTUxVbml0VGVzdFVJKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9fdWk7XG4gICAgfVxuICAgIHZpc3VhbFRlc3QodGl0bGUsIGJ1dHRvbnMpIHtcbiAgICAgICAgdGhpcy5fdWkuc3RhcnRTdWJncm91cCh0aXRsZSk7XG4gICAgICAgIGZvciAobGV0IGJ0biBvZiBidXR0b25zKSB7XG4gICAgICAgICAgICB0aGlzLl91aS5hZGRWaXN1YWxUZXN0QnV0dG9uKGJ0bik7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkhUTUxVbml0VGVzdGVyID0gSFRNTFVuaXRUZXN0ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi92aWV3XCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZHJhd2FibGVfMSA9IHJlcXVpcmUoXCIuLi9kcmF3YWJsZS9kcmF3YWJsZVwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIFZpZXdcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFZpZXcgYmFzZWQgb24gTVZDIHBhcmFkaWdtIHRoYXQgY2FuIGFsc28gYmUgdXNlZCBpbiBuYXZpZ2F0aW9uXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMS4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFZpZXcgZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICAvKipcbiAgICAgKiB1cGRhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY2hhbmdlIHRoZSB2aWV3IGJhc2VkIG9uIGRldGFpbHMgaW4gdGhlIG1vZGVsXG4gICAgICovXG4gICAgdXBkYXRlKC4uLnBhcmFtcykge1xuICAgICAgICAvLyBiYXNlIGltcGxlbWVudGF0aW9uIGRvZXMgbm90aGluZ1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjYW5OYXZpZ2F0ZUF3YXlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogVHJ1ZSBpZiB3ZSBjYW4gbGVhdmUgdGhpcyB2aWV3IGluIGl0J3MgY3VycmVudCBzdGF0ZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICogQHBhcmFtICAgaXNDYW5jZWwgICAgVHJ1ZSBpZiB0aGUgdXNlciBjaG9zZSB0byBjYW5jZWxcbiAgICAgKi9cbiAgICBjYW5OYXZpZ2F0ZUF3YXkoaXNDYW5jZWwpIHtcbiAgICAgICAgLy8gQXNzdW1lIHdlIGNhbiBtb3ZlIGF3YXlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIG9uTmF2aWdhdGVBd2F5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFdoYXQgdG8gZG8gaWYgdGhlIHVzZXIgaXMgbGVhdmluZyB0aGlzIHZpZXdcbiAgICAgKiBAcGFyYW0gICBpc0NhbmNlbCAgICBUcnVlIGlmIHRoZSB1c2VyIGNob3NlIHRvIGNhbmNlbFxuICAgICAqL1xuICAgIG9uTmF2aWdhdGVBd2F5KGlzQ2FuY2VsKSB7XG4gICAgICAgIC8vIGJhc2UgaW1wbGVtZW50YXRpb24gZG9lc24ndCBkbyBhbnl0aGluZyBvbiBuYXYgYXdheVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5leHBvcnRzLlZpZXcgPSBWaWV3O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==