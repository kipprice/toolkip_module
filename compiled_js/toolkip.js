!function(e,t){for(var s in t)e[s]=t[s]}(exports,function(e){var t={};function s(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=90)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),n=s(11),r=s(32),o=s(14),a=s(4),l=s(6);function u(e,t){if(e)return h(e,t)}function h(e,t,s){let u,_;return e.drawable?(_=new e.drawable,u=_.base):u=function(e){let t,s=e.type||"div";t=e.namespace?document.createElementNS(e.namespace,s):document.createElement(s);return t}(e),s||(s=h),function(e,t,s,i){t.id&&e.setAttribute("id",t.id);t.key&&s&&(s[t.key]=i||e)}(u,e,t,_),function(e,t){if(!t.cls)return;"string"==typeof t.cls?i.addClass(e,t.cls):"object"==typeof t.cls&&a.map(t.cls,(t,s)=>{n.createClass(s,t),i.addClass(e,s)})}(u,e),function(e,t){t.attr||(t.attr={});d(t)&&(t.focusable=!0);(function(e){if(!d(e))return!1;if(e.attr.tabIndex)return!1;return!0})(t)&&(t.attr.tabindex=0);a.map(t.attr,(t,s)=>{if(!l.isNullOrUndefined(t))if(t.key){let s=t;c(e,s.key,s.val)}else c(e,s,t)})}(u,e),function(e,t){if(!t.style)return;a.map(t.style,(t,s)=>{e.style[s]=t})}(u,e),function(e,t){if(!t.eventListeners)return;if(t.focusable&&t.eventListeners.click&&!t.eventListeners.keypress){let s=t.eventListeners.click;t.eventListeners.keypress=e=>{13!==e.keyCode&&32!==e.keyCode||(s(e),e.preventDefault())};let i=!1;t.eventListeners.mousedown=t=>{i=!0,e.blur()},t.eventListeners.mouseup=e=>{i=!1},t.eventListeners.focus=t=>{if(i)return t.preventDefault(),e.blur(),!1}}a.map(t.eventListeners,(t,s)=>{e.addEventListener(s,t)})}(u,e),function(e,t){if(!t.tooltip);}(0,e),function(e,t){t.before_content&&(e.innerHTML=t.before_content);t.content&&(e.innerHTML+=t.content);t.boundContent&&(e.innerHTML=r.bind(t.boundContent,t=>{e.innerHTML=t}))}(u,e),function(e,t,s,i){if(!t.children)return;for(let n of t.children)if(n)if(o.isDrawable(n))n.draw(e);else if(n.setAttribute)e.appendChild(n);else{let r=n;t.namespace&&(r.namespace=t.namespace);let o=i(r,s);e.appendChild(o)}else console.warn("cannot append non-existent child element")}(u,e,t,s),function(e,t){if(!e.after_content)return;t.innerHTML+=e.after_content}(e,u),function(e,t){if(!e.parent)return;e.parent.appendChild(t)}(e,u),u}function d(e){return l.isNullOrUndefined(e.focusable)?!!e.eventListeners&&!!e.eventListeners.click:e.focusable}function c(e,t,s){switch(t){case"value":e.value=s;break;default:e.setAttribute(t,s)}}t.createSimpleElement=function(e,t,s,i,n,r){let o;return o={},o.id=e,o.type="div",o.content=s,o.cls=t,o.attr=i,o.children=n,o.parent=r,u(o)},t.createElement=u,t.createCustomElement=function(e,t,s){if(e)return h(e,t,s)},t.createSVGElement=function(e,t){if(e)return e.namespace||(e.namespace="http://www.w3.org/2000/svg"),h(e,t)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(7),n=s(14);function r(e,t,s){let i,n,r;for(n in r=document.getElementsByTagName("style"),s||r.length>0?i=r[0]:(i=document.createElement("style"),i.innerHTML=""),i.innerHTML+="\n"+e+" {\n",t)t.hasOwnProperty(n)&&(t[n].key?i.innerHTML+="\t"+t[n].key+": "+t[n].val+";\n":i.innerHTML+="\t"+n+" : "+t[n]+";\n");return i.innerHTML+="\n}",s||document.head.appendChild(i),i}t.addClass=function(e,t){let s,r;e&&t&&(r=n.isDrawable(e)?e.base:e,s=r.getAttribute("class"),s?(s=" "+s+" ",-1===s.indexOf(" "+t+" ")&&(s+=t,r.setAttribute("class",i.trim(s)))):r.setAttribute("class",t))},t.removeClass=function(e,t){let s,r,o;e&&t&&(o=n.isDrawable(e)?e.base:e,s=" "+o.getAttribute("class")+" ",r=s.length,s=s.replace(" "+t+" "," "),s.length!==r&&o.setAttribute("class",i.trim(s)))},t.hasClass=function(e,t){let s,i;if(e)return s=n.isDrawable(e)?e.base:e,i=" "+s.getAttribute("class")+" ",-1!==i.indexOf(" "+t+" ")},t.setProperty=function(e,t,s,i){let n,r,o,a,l;for(o=0;o<document.styleSheets.length;o+=1)if(r=document.all?"rules":"cssRules",a=document.styleSheets[o][r],a)for(n=0;n<a.length;n+=1)if(l=a[n],l.selectorText===e&&(l.style[t]||i))return l.style[t]=s,!0;return!1},t.getProperty=function(e,t){let s,i,n,r,o;for(n=0;n<document.styleSheets.length;n+=1)if(i=document.all?"rules":"cssRules",r=document.styleSheets[n][i],r)for(s=0;s<r.length;s+=1)if(o=r[s],o.selectorText===e)return o.style[t];return""},t.oldCreateClass=r,t.getComputedStyle=function(e,t){let s,i;return i=void 0!==e.draw?e.base:e,window.getComputedStyle?(s=window.getComputedStyle(i),t?s.getPropertyValue(t):s):i.currentStyle?(s=i.currentStyle,t?s[t]:s):null},t.addHiddenClass=function(){let e;e={display:"none"},r(".hidden",e)},t.addUnselectableClass=function(){let e;return e={"user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","khtml-user-select":"none","o-user-select":"none"},r(".unselectable",e,!0)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.TEXT=1]="TEXT",e[e.NUMBER=2]="NUMBER",e[e.DATE=3]="DATE",e[e.TIME=4]="TIME",e[e.DATE_TIME=5]="DATE_TIME",e[e.SELECT=6]="SELECT",e[e.CHECKBOX=7]="CHECKBOX",e[e.TEXTAREA=8]="TEXTAREA",e[e.ARRAY=9]="ARRAY",e[e.ARRAY_CHILD=10]="ARRAY_CHILD",e[e.TOGGLE_BUTTON=11]="TOGGLE_BUTTON",e[e.CUSTOM=12]="CUSTOM",e[e.SECTION=13]="SECTION",e[e.HIDDEN=14]="HIDDEN",e[e.FILE_UPLOAD=15]="FILE_UPLOAD",e[e.FILE_PATH=16]="FILE_PATH",e[e.COLOR=17]="COLOR",e[e.PERCENTAGE=18]="PERCENTAGE",e[e.PASSWORD=19]="PASSWORD"}(t.FieldTypeEnum||(t.FieldTypeEnum={})),function(e){e[e.KEEP_ERROR_VALUE=1]="KEEP_ERROR_VALUE",e[e.RESTORE_OLD_VALUE=2]="RESTORE_OLD_VALUE",e[e.CLEAR_ERROR_VALUE=3]="CLEAR_ERROR_VALUE",e[e.NO_BLUR_PROCESSED=4]="NO_BLUR_PROCESSED"}(t.ValidationType||(t.ValidationType={})),function(e){e[e.MULTILINE=0]="MULTILINE",e[e.TABLE=1]="TABLE",e[e.FLEX=2]="FLEX",e[e.LABEL_AFTER=3]="LABEL_AFTER"}(t.FormElementLayoutEnum||(t.FormElementLayoutEnum={})),function(e){e[e.EMBEDDED=1]="EMBEDDED",e[e.POPUP=2]="POPUP",e[e.INLINE=3]="INLINE",e[e.FULLSCREEN=4]="FULLSCREEN"}(t.FormStyleOptions||(t.FormStyleOptions={}))},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(2),r=s(5),o=s(6),a=s(1),l=s(68),u=s(17),h=s(0),d=s(69),c=s(13),_=s(11),p=s(21),m=s(8),f=s(10);class g extends r.Drawable{constructor(e,t){super(),this._standardCls="kipFormElem",this._addClassName("FormElement"),this._id=e,this._hasErrors=!1,m.isField(t)?this._parseFieldTemplate(t.template):this._parseFieldTemplate(t),this._createElements()}get id(){return this._id}get type(){return this._type}get template(){return this._config}get _defaultLayout(){return n.FormElementLayoutEnum.MULTILINE}get data(){return this._data}set data(e){this.update(e,!1)}get hasErrors(){return this._hasErrors}get input(){return this._elems.input?this._elems.input:null}get _labelElem(){return this._elems.lblContainer||this._elems.lbl}_shouldSkipCreateElements(){return!0}_parseFieldTemplate(e){o.isNullOrUndefined(e)&&(e={}),this._config=e,e.label||(e.label=this._id),e.layout||(e.layout=this._defaultLayout),e.defaultValue||(e.defaultValue=this._defaultValue),o.isNullOrUndefined(e.value)&&(e.value=e.defaultValue),o.isNullOrUndefined(e.validationType)&&(e.validationType=n.ValidationType.KEEP_ERROR_VALUE),this._processTemplateClass(),this._processRequiredElement(),this._registerOnOtherChangeListener(),this._data=e.defaultValue}_processTemplateClass(){let e=this._config;e.cls=_.buildClassString(this._standardCls,this._defaultCls,e.cls,e.required?"required":"")}_processRequiredElement(){this._config.required&&(this._data||p.formEventHandler.dispatchEvent(p.FORM_SAVABLE_CHANGE,new p.FormSavableEvent({hasErrors:!1,hasMissingRequired:!0})))}_registerOnOtherChangeListener(){this._config.onOtherChange&&p.formEventHandler.addEventListener(p.FORM_ELEM_CHANGE,{func:e=>{this._handleOtherChange(e)}})}_createElements(){h.createElement({cls:this._config.cls,key:"base",children:[{cls:"error",key:"error"}]},this._elems),this._onCreateElements(),this._elems.input&&this._registerInputListeners(this._elems.input),this._createStyles(),a.hasClass(this._elems.base,"hidden")&&(this._isHidden=!0)}_registerInputListeners(e){e.addEventListener("input",()=>{this._changeEventFired(!0)}),e.addEventListener("change",()=>{this._changeEventFired()})}_addStandardElemsToCore(){this._elems.base.appendChild(this._labelElem),this._elems.base.appendChild(this._elems.input)}_handleStandardLayout(){let e=n.FormElementLayoutEnum;switch(this._config.layout){case e.TABLE:return this._tableLayout(),!0;case e.FLEX:return this._flexLayout(),!0;case e.MULTILINE:return this._multiLineLayout(),!0;case e.LABEL_AFTER:return this._labelAfterLayout(),!0}return!1}_tableLayout(){let e=[];for(var t=0;t<2;t+=1){let s=h.createElement({type:"td",cls:"frmCel"});e[t]=s}this._labelElem&&e[0].appendChild(this._labelElem),this._elems.input&&e[1].appendChild(this._elems.input),this._elems.table=l.createTable("","",e),this._elems.base.appendChild(this._elems.table)}_flexLayout(){this._addStandardElemsToCore(),a.addClass(this._elems.base,"flex")}_multiLineLayout(){this._addStandardElemsToCore(),a.addClass(this._elems.base,"multiline")}_labelAfterLayout(){this._elems.base.appendChild(this._elems.input),this._elems.base.appendChild(this._labelElem)}save(e){return i(this,void 0,void 0,(function*(){return this._data}))}canSave(){return{hasErrors:this._hasErrors,hasMissingRequired:this._hasBlankRequiredElems()}}_hasBlankRequiredElems(){return!!this._config.required&&this._data===this._config.defaultValue}update(e,t){!this._testEquality(e)&&t&&window.setTimeout(()=>{this._dispatchChangeEvent()},0),this.clear(),o.isNullOrUndefined(e)&&(e=this._config.defaultValue),this._data=e,this._updateUI(e)}_testEquality(e){return u.equals(e,this._data)}_updateUI(e){this._elems.input&&(this._elems.input.value=e)}clear(){this._data=this._config.defaultValue,this._clearUI()}_clearUI(){this._elems.input&&(this._elems.input.value=this._config.defaultValue)}focus(){return!!this._elems.input&&(this._elems.input.focus(),!0)}_dispatchSavableChangeEvent(){p.formEventHandler.dispatchEvent(p.FORM_SAVABLE_CHANGE,new p.FormSavableEvent({target:this}))}_dispatchChangeEvent(e){p.formEventHandler.dispatchEvent(p.FORM_ELEM_CHANGE,new p.FormElemChangeEvent({key:this._id,subkey:e,data:this._data,target:this}))}_handleOtherChange(e){this._config.onOtherChange&&this._config.onOtherChange(e.context.key,e.context.data,this)}_changeEventFired(e){if(this._clearErrors(),e&&!this._shouldValidateBeforeBlur())return;f.wait(0).then(()=>this._dispatchSavableChangeEvent());let t=this._getValueFromField(e);this._testEquality(t)||this._validate(t)&&this._dispatchChangeEvent()}_shouldValidateBeforeBlur(){return!0}_validate(e){let t={title:"",details:""};return this._runValidation(e,t)?(this._data=e,!0):(this._onValidationError(t),!1)}_runValidation(e,t){return this._config.onValidate&&!this._config.onValidate(e,t)?(this._hasErrors=!0,!1):(this._hasErrors=!1,!0)}_onValidationError(e){this._updateErrorElem(e),this._updateInputOnError()}_updateErrorElem(e){if(!this._elems.error)return;let t=this._buildValidationErrorDisplay(e);this._elems.error.innerHTML=t}_updateInputOnError(){if(!this._elems.input)return;let e;switch(this._config.validationType){case n.ValidationType.CLEAR_ERROR_VALUE:e=this._config.defaultValue;break;case n.ValidationType.KEEP_ERROR_VALUE:e=this._elems.input.value;break;case n.ValidationType.NO_BLUR_PROCESSED:e=this._elems.input.value,window.setTimeout(()=>{this._elems.input.focus()},10);break;case n.ValidationType.RESTORE_OLD_VALUE:e=this._data;break;default:e=this._config.defaultValue}this._elems.input.value=e}_buildValidationErrorDisplay(e){if(!e)return"Invalid data";let t;return t=e.title?e.title+": ":"Uh-oh: ",t+=e.details||this._id+"'s data couldn't be saved",t}_clearErrors(){this._elems.error&&(this._elems.error.innerHTML="")}_createStandardInput(){let e={};this._config.useGhostText&&(e.placeholder=this._config.label),this._elems.input=m.createInputElement(this._id+"|input","input",n.FieldTypeEnum[this.type],this._data,e)}_createStandardLabel(e){let t=this._config.label;if(this._config.useGhostText&&(t=""),this._elems.lblContainer=h.createElement({cls:"labelContainer",parent:e}),this._elems.lbl=m.createLabelForInput(t,this._id,"lbl",this._elems.lblContainer),this._config.helpText){this._elems.helpTextIcon=h.createElement({type:"span",cls:"helpTextIcon",content:"?",parent:this._elems.lblContainer});new d.Tooltip({content:this._config.helpText},this._elems.helpTextIcon)}}_createStandardLabeledInput(e){this._createStandardInput(),this._createStandardLabel(e?this._elems.input:null)}_cloneFormElement(e,t){return t||(t=""),e._createClonedElement(t)}_createClonedElement(e){return new this.constructor(this._id+e,this._config)}getField(e){return e===this._id?this:null}show(){return i(this,void 0,void 0,(function*(){this._isHidden&&(this._isHidden=!1,a.removeClass(this._elems.base,"hidden"),yield c.transition(this._elems.base,{height:"0"},{height:"<height>"},200))}))}hide(){return i(this,void 0,void 0,(function*(){this._isHidden||(this._isHidden=!0,yield c.transition(this._elems.base,{maxHeight:"<height>",overflow:"hidden"},{maxHeight:"0 !important",overflow:"hidden"},200),a.addClass(this._elems.base,"hidden"))}))}}t.Field=g,g._uncoloredStyles={".kipFormElem, .kipFormElem input, .kipFormElem select, .kipFormElem textarea":{fontSize:"1em",width:"100%",boxSizing:"border-box",fontFamily:"Segoe UI, Open Sans, Helvetica"},".kipFormElem":{marginTop:"10px",position:"relative"},".kipFormElem.hidden":{display:"none"},".kipFormElem input, .kipFormElem textarea, .kipFormElem select":{border:"1px solid #CCC",borderRadius:"3px"},".kipFormElem textarea":{minHeight:"100px",maxWidth:"100%"},".kipFormElem .labelContainer":{display:"flex",alignItems:"center"},".kipFormElem .helpTextIcon":{width:"19px",height:"19px",boxSizing:"border-box",paddingTop:"4px",backgroundColor:"<formSubTheme>",color:"#FFF",borderRadius:"50%",fontSize:"0.8em",textAlign:"center",fontFamily:"SpecialElite",cursor:"pointer",nested:{"&:hover":{transform:"scale(1.1)"}}},".kipFormElem .lbl":{fontSize:"0.9em",color:"#666",width:"100%",boxSizing:"border-box"},".kipFormElem.required .lbl":{},".kipFormElem.required .lbl:after":{content:'"*"',color:"<formSubTheme>",fontWeight:"bold",position:"absolute",marginLeft:"2px"},".kipFormElem .error":{color:"#C30",fontSize:"0.7em",fontStyle:"italic"},".kipFormElem.flex":{display:"flex",alignItems:"center",nested:{"> div:not(.error), > label, > span, > input":{width:"auto",marginRight:"10px"}}},".kipFormElem.multiline":{nested:{"input, textarea, select":{marginTop:"5px"}}}}},function(e,t,s){"use strict";function i(e,t){let s,i=!t;for(s in e)if(e.hasOwnProperty(s)){if(i)return s;s===t&&(i=!0)}return""}function n(e){let t=Object.keys(e)||[];for(let s=t.length-1;s>=0;s-=1){let i=t[s];e.hasOwnProperty(i)||t.splice(s,1)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.map=function(e,t,s){let i=[];if(!e)return i;if(e.map){let n;e.map((e,r,o)=>{if(n)return;let a=t(e,r,o);i.push(a),s&&s()&&(n=!0)})}else{let n,r=0;for(n in e)if(e.hasOwnProperty(n)){let o=t(e[n],n,r);if(o&&i.push(o),r+=1,!s)continue;if(s())break}}return i},t.getNextKey=i,t.getKeys=n,t.keyCount=function(e){return n(e).length},t.isEmptyObject=function(e){return!i(e)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(51),n=s(0);class r extends i.Stylable{constructor(e){super(),this._addClassName("Drawable"),this._elems={},e&&(this._elems.base=n.createElement(e)),this._shouldSkipCreateElements()||(this._createElements(),window.setTimeout(()=>{this._registerMediaListeners()},100))}get base(){return this._elems.base}_registerMediaListener(e,t){this._elems&&(super._registerMediaListener(e,t,this._elems.base),super._registerMediaListener(e,t,document.body))}_shouldSkipCreateElements(){return!1}draw(e,t){this._elems&&this._elems.base&&(this._hasCreatedStyles?(this._refresh(),this._parent=e||this._parent,this._parent&&(this._drawBase(),this._afterDraw())):window.setTimeout(()=>{this.draw(e,t)},0))}_drawBase(e){let t=this._elems.base;if(e||!t.parentNode){if(e&&t.parentNode&&t.parentNode.removeChild(t),!this._parent)return;this._parent.appendChild(t)}}erase(){let e=this._elems.base;e&&e.parentNode&&e.parentNode.removeChild(e)}_refresh(){}_afterDraw(){}_onResize(){}addEventListener(e,t){this._elems.base.addEventListener(e,t)}}t.Drawable=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNullOrUndefined=function(e,t){return void 0===e||(null===e||!(!t||""!==e))}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(6);function n(e,t){return e.substr(t,1)}function r(e,t){return e.substring(t,e.length)}function o(e){return/^[0-9]+$/.test(e)}t.piece=function(e,t,s=1){let i;return i=e.split(t),i[s]||""},t.addPiece=function(e,t,s){return e.length>0&&(e+=s),e+t},t.titleCase=function(e,t=" "){let s,i,o;for(o="",s=e.split(t),i=0;i<s.length;i+=1)0!==i&&(o+=t),o+=n(s[i],0).toUpperCase(),o+=r(s[i],1).toLowerCase();return o},t.sentenceCase=function(e){let t;return t=n(e,0).toUpperCase(),t+=r(e,1).toLowerCase(),t},t.charAt=n,t.rest=r,t.trim=function(e){let t;return t=e.replace(/^\s*/g,""),t=t.replace(/\s*?$/g,""),t},t.stripSpaces=function(e){let t;return t=e.replace(/\s/g,""),t=t.replace(/\&nbsp\;/g,""),t},t.format=function(e,...t){let s=e.split("");t||(t=[]);let n="",r=!1;for(let e=0;e<s.length;e+=1){let a=s[e];"\\"!==a?"{"===a?(r=!0,s[e]=""):"}"===a&&r?(s[e]=i.isNullOrUndefined(t[+n])?"{"+n+"}":t[+n].toString(),r=!1,n=""):o(a)&&r?(n+=a,s[e]=""):r&&(r=!1,n=""):(s[e]="",e+=1)}return s.join("")},t.isNumeric=o,t.addLeadingZeroes=function(e,t){let s,i;for(s="string"==typeof t?t:t.toString(),i=s.length;i<e;i+=1)s="0"+s;return s},t.stripHTML=function(e){let t;return t=e.replace(/\<.*?\>/g,""),t}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(6),n=s(0),r=s(4),o=s(18);function a(e,t){let s=[];if(i.isNullOrUndefined(t)){let e=l("-- select an option --",-1,!0);e.attr.disabled="true",s.push(n.createElement(e))}return r.map(e,(e,i)=>{let r=l(e,i,i===t);s.push(n.createElement(r))}),s}function l(e,t,s){let i={type:"option",attr:{value:t},content:e};return s&&(i.attr.selected="true"),i}t.cloneTemplate=function(e){return{value:e.value,position:e.position,required:e.required,onValidate:e.onValidate,onOtherChange:e.onOtherChange,label:e.label,cls:e.cls,layout:e.layout}},t.createSelectElement=function(e,t,s,r){let o=a(s,r);i.isNullOrUndefined(r)&&(r=-1);let l=n.createElement({id:e,cls:t,type:"select",children:o});return i.isNullOrUndefined(r)||(l.value=r.toString()),l},t.createSelectOptions=a,t.createLabeledCheckbox=function(e,t,s,i){let r=n.createSimpleElement(e+"|wrapper",t+"|wrapper"),o={type:"input",id:e,cls:t,attr:{type:"checkbox",checked:i.toString(),name:e},parent:r},a=n.createElement(o);return n.createSimpleElement("",t+"|lbl",s,{for:e},null,r),{wrapper:r,checkbox:a}},t.createLabelForInput=function(e,t,s,i,r){return r||(r={}),r.for=t,n.createElement({type:"label",cls:s,attr:r,content:e,parent:i})},t.createRadioButtons=function(){},t.createInputElement=function(e,t,s,i,r,a,l){let u="input";return"textarea"===(s=s.toLowerCase())&&(s="",u="textarea"),(r=r||{}).type=s,i&&("checkbox"===s||"radio"===s?r.checked=i:r.value="date"===s?o.inputDateFmt(i):i),n.createElement({type:u,id:e,cls:t,attr:r,children:a,parent:l})},t.isField=function(e){return!!e&&(void 0!==e.id&&void 0!==e.type&&void 0!==e.template)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Rectangle=0]="Rectangle",e[e.Text=1]="Text",e[e.Circle=2]="Circle",e[e.Path=3]="Path",e[e.Group=4]="Group"}(t.ElementType||(t.ElementType={})),function(e){e[e.CLICK=0]="CLICK",e[e.HOVER=1]="HOVER",e[e.LEAVE=2]="LEAVE",e[e.R_CLICK=3]="R_CLICK",e[e.DBL_CLICK=4]="DBL_CLICK",e[e.KEY_PRESS=5]="KEY_PRESS",e[e.FOCUS=6]="FOCUS",e[e.BLUR=7]="BLUR"}(t.EventTypeEnum||(t.EventTypeEnum={})),function(e){e[e.FILL_COLOR=0]="FILL_COLOR",e[e.STROKE_COLOR=1]="STROKE_COLOR",e[e.FONT_FAMILY=2]="FONT_FAMILY",e[e.FONT_VARIANT=3]="FONT_VARIANT",e[e.FONT_SIZE=4]="FONT_SIZE",e[e.STROKE_SIZE=5]="STROKE_SIZE",e[e.TEXT_ALIGN=6]="TEXT_ALIGN",e[e.FONT=7]="FONT"}(t.StyleChangeEnum||(t.StyleChangeEnum={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(91))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(7),n=s(4);function r(e,t,s,i,n){let r=o(e,t,n);return r||i?function(e,t){let s=a(!t);s.innerHTML+=e,t||s.parentNode||document.head.appendChild(s);return s}(r,s):null}function o(e,t,s){let r=function(e,t,s){let r=function(e,t){let s;t||(s=function(e){let t,s,i;for(let n=0;n<document.styleSheets.length;n+=1){t=document.all?"rules":"cssRules";try{s=document.styleSheets[n][t]}catch(e){continue}if(s)for(let t=0;t<s.length;t+=1)if(i=s[t],i.selectorText===e)return i}}(e));s||(s={style:{}});return s}(e,s),o=-1!==e.indexOf("@keyframes"),a="";return n.map(t,(e,t)=>{r.style[t]||(a+=o?function(e,t){let s="";n.map(t,(e,t)=>{e&&(s+="\t\t"+t+" : "+e+";\n")}),s&&(s=i.format("\t{0} \\{\n{1}\\}",e,s));return s}(t,e):function(e,t){return i.format("\t{0} : {1};\n",l(e),t)}(t,e))}),a}(e,t,s);return r&&(r=i.format("\n{0} \\{\n{1}\n\\}",e,r),-1!==e.indexOf("{")&&(r+="\n}")),r}function a(e){let t,s;return e&&(t=document.getElementsByTagName("style"),t.length>0)?(s=t[0],s):(s=document.createElement("style"),s)}function l(e){if(e.toLowerCase()===e)return e;let t,s=e.split("");for(let e=0;e<s.length;e++)t=s[e],t.toLowerCase()!==t&&(s[e]="-"+t.toLowerCase());return s.join("")}t.createClass=r,t.generateContentForCSSClass=o,t.createStyleElement=a,t.getPropertyName=l,t.buildClassString=function(...e){let t="";for(let s=0;s<e.length;s+=1)e[s]&&(t=i.addPiece(t,e[s]," "));return t},t.createFontDefinition=function(e,t,s,n){let o=[];for(let e of t)o.push(i.format("url({0}) format({1})",e.url,e.format));return r("@font-face",{fontFamily:e,src:o.join(",")},s,n)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(23),n=s(17),r=s(7),o=s(27);class a extends i.NamedClass{constructor(e,t){super("Collection"),this._data={},this._sortedData=new Array,this._addType=e||o.CollectionTypeEnum.IgnoreDuplicateKeys,this._equalityTest=t,this._equalityTest||(this._equalityTest=(e,t)=>e===t)}get keys(){return Object.keys(this._data)}set addType(e){this._addType=e}get iteration(){return this._iteration}get length(){return this._sortedData.length}set equalityTest(e){this._equalityTest=e}add(e,t){let s,i,n;return this._addType===o.CollectionTypeEnum.IgnoreDuplicateKeys&&this._data[e]?-1:(this._data[e]&&(n=!0),i=this._sortedData.length,s={key:e,value:t,sortedIdx:i,origIdx:i},this._data[e]=s,n||this._sortedData.push(e),i)}remove(e){return this._removeElementByKey(e)}removeElementByValue(e){return this._removeElementByValue(e)}_removeElementByKey(e){let t;return t=this._data[e],t?(this._sortedData.splice(t.sortedIdx,1),this._resetSortedKeys(t.sortedIdx),delete this._data[e],t):null}_removeElementByIndex(e){let t;return e>=this.length||e<0?null:(t=this._sortedData[e],this._removeElementByKey(t))}_removeElementByValue(e){let t;return t=this._findElement(e),this._removeElementByKey(t&&t.key)}clear(){this._data={},this._sortedData=[]}_resetSortedKeys(e,t){if(e||(e=0),t||0===t||(t=this._sortedData.length),e>t)return;if(e>t){let s=e;e=t,t=s}let s,i;for(let n=e;n<t;n+=1)i=this._sortedData[n],i&&(s=this._data[i],s&&(s.sortedIdx=n))}sort(e){let t;t=(t,s)=>{let i,n;return i=this._data[t],n=this._data[s],e(i,n)},this._sortedData.sort(t),this._resetSortedKeys()}map(e){if(e){for(this.resetLoop();this.hasNext();){let t=this.getNext();if(!t)continue;let s=t.value,i=t.key;e(s,i,this.getIndex(i))}this.resetLoop()}}resetLoop(e){this._iteration=e?this.length+1:-1}hasNext(e){return e?this._iteration-1>=0:this._iteration+1<this._sortedData.length}getNext(e){return e?this._iteration-=1:this._iteration+=1,this._data[this._sortedData[this._iteration]]}getCurrent(){return-1===this._iteration?null:this._data[this._sortedData[this._iteration]]}toArray(){let e;for(e of this._sortedData)(void 0).push(this._data[e])}toValueArray(){let e=[];return this.map(t=>{e.push(t)}),e}getElement(e){let t;if("string"==typeof e)t=this._data[e];else if("number"==typeof e){if(e<0||e>this._sortedData.length)return null;t=this._data[this._sortedData[e]]}return t}getValue(e){let t;return t=this.getElement(e),t?t.value:null}getIndex(e){if("string"==typeof e)return this._data[e]&&this._data[e].sortedIdx;{let t;return t=this._findElement(e),t&&t.sortedIdx}}_findElement(e){let t,s;for(t in this._data)if(this._data.hasOwnProperty(t)&&(s=this._data[t],this._equalityTest(s.value,e)))return s;return null}getKey(e){if("number"==typeof e)return this._sortedData[e];{let t;return t=this._findElement(e),t&&t.key}}hasElement(e){return"string"==typeof e?!!this._data[e]:"number"==typeof e?!!this._sortedData[e]&&!!this._data[this._sortedData[e]]:null!==this._findElement(e)}toString(){let e="";return this.map((t,s,i)=>{e.length>0&&(e+=", "),e+=r.format("{0} => {1}",s,t.toString())}),e}equals(e){if(this.length!==e.length)return!1;if(this._sortedData.length!==e._sortedData.length)return!1;let t=!1;return this.map((s,i,r)=>{e._data[i]||(t=!0),n.equals(s,e._data[i].value)||(t=!0)}),!t}}t.Collection=a},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(4),r=s(10),o=s(1),a=s(11);t.TransitionController=new class{constructor(){this._lastClsId=0,this._generatedClasses={}}transition(e){return i(this,void 0,void 0,(function*(){if(!e.elem)return Promise.reject("no element");if(!e.time)return Promise.reject("no time");let t=this._getClass(e.start,e.elem);e.end.transition||(e.end.transition="all ease-in-out "+e.time/1e3+"s");let s=this._getClass(e.end,e.elem);yield this._animate(e,t,s)}))}transitionProperty(e){return Promise.reject("not implemented")}_getClass(e,t){e=this._replacePlaceholders(e,t);let s=JSON.stringify(e).replace(/ /g,"");if(this._generatedClasses[s])return this._generatedClasses[s];let i=this._generateRandomClassName();return this._generatedClasses[s]=i,this._createTransitionClass(i,e,t),i}_generateRandomClassName(){return this._lastClsId+=1,"gencls"+this._lastClsId}_createTransitionClass(e,t,s){this._styleElem||this._createStyleElem(),this._styleElem.innerHTML+=a.generateContentForCSSClass("."+e,t,!0)}_replacePlaceholders(e,t){return n.map(e,(s,i)=>{s=(s=(s=(s=(s=(s=s.replace("<width>",t.offsetWidth+1+"px")).replace("<height>",t.offsetHeight+"px")).replace("<left>",t.offsetLeft+"px")).replace("<top>",t.offsetTop+"px")).replace("<right>",t.offsetLeft+t.offsetWidth+"px")).replace("<bottom>",t.offsetTop+t.offsetHeight+"px"),e[i]=s}),e}_createStyleElem(){this._styleElem=a.createStyleElement(!1),document.head.appendChild(this._styleElem)}_animate(e,t,s){return i(this,void 0,void 0,(function*(){yield r.nextRender(),o.addClass(e.elem,t),yield r.wait(e.delay||0),o.addClass(e.elem,s),yield r.wait(e.time),o.removeClass(e.elem,t),yield r.nextRender(),this._removeEndClass(e.elem,s)}))}_removeEndClass(e,t){return i(this,void 0,void 0,(function*(){yield r.wait(10),o.removeClass(e,t)}))}},t.transition=function(e,s,i,n,r){return t.TransitionController.transition({elem:e,start:s,end:i,time:n,delay:r||0})}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDrawable=function(e){return!!e.draw},t.isDrawableElement=function(e){return!!e.appendChild}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(19);function n(e){return{x:e.x,y:e.y}}t.cloneRect=function(e){return{x:e.x,y:e.y,w:e.w,h:e.h}},t.clonePoint=n,t.clonePointArray=function(e){let t,s=[];for(t of e){let e=n(t);s.push(e)}return s},t.cloneObject=function(e){return JSON.parse(JSON.stringify(e))},t.shallowCloneObject=function(e){return i.combineObjects({},e)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(9),n=s(53),r=s(54);t.CanvasElement=class{constructor(e,t){this._layer=1,this._id=e,this._isEffect=t,this._eventFunctions=[],this._style=new n.CanvasElementStyle}get id(){return this._id}set canvas(e){this._setCanvas(e)}set parent(e){this._parent=e}get style(){return this._style}set style(e){this._style=e}get layer(){return this._layer}set layer(e){this._layer=e}get isOffScreen(){return this._isOffScreen}get dimensions(){return this._dimensions}set dimensions(e){this._setDimensions(e)}get displayDimensions(){return this._displayDimensions}get isHoverTarget(){return this._isHoverTarget}set isHoverTarget(e){this._isHoverTarget=e}get isHidden(){return this._isHidden}_initializeRects(){this._displayDimensions={x:this._dimensions.x,y:this._dimensions.y,w:this._dimensions.w,h:this._dimensions.h}}_applyStyle(e){this._style.setStyle(e)}_restoreStyle(e){this._style.restoreStyle(e)}transform(e){if(!this._parent)return;let t=this._cloneForEffect(this.id+"|e");t._isEffect=!0,t._layer=this._layer,t.style=this._cloneStyle(),e.color&&(t._style.fillColor=e.color),e.scale&&t._scale(e.scale),this._parent.addElement(t)}_cloneStyle(){return new n.CanvasElementStyle(this._style)}_scale(e){if(!this._isEffect)return;let t=e*this._dimensions.w,s=(t-this._dimensions.w)/2,i=e*this._dimensions.h,n=(i-this._dimensions.h)/2;this._dimensions={x:this._dimensions.x-s,y:this._dimensions.y-n,w:t,h:i}}updateDimensions(e){this._displayDimensions=this._canvas.convertAbsoluteRectToRelativeRect(this._dimensions),this._setIsOffScreen(e)}adjustDimensions(e){this._isEffect||(this._dimensions.x+=e.x,this._dimensions.y+=e.y)}draw(){if(this._isOffScreen)return;if(!this._canvas)return;if(this._isHidden)return;let e;e=this._isEffect?this._canvas.effectContext:this._canvas.context,this._applyStyle(e),this._onDraw(e),this._restoreStyle(e),this._isDrawn=!0}_setIsOffScreen(e){this._isOffScreen=!r.doBasicRectsOverlap(e,this._dimensions)}_setDimensions(e){this._dimensions=e,this._canvas&&(this._canvas.needsRedraw=!0)}_setCanvas(e){this._canvas=e}addEventListener(e,t){let s=this._eventFunctions[e];s||(s=[],this._eventFunctions[e]=s),s.push(t)}click(e,t){this.handleEvent(i.EventTypeEnum.CLICK,e,t)}doubleClick(e,t){this.handleEvent(i.EventTypeEnum.DBL_CLICK,e,t)}rightClick(e,t){this.handleEvent(i.EventTypeEnum.R_CLICK,e,t)}hover(e,t){this.handleEvent(i.EventTypeEnum.HOVER,e,t)}leave(e,t){this.handleEvent(i.EventTypeEnum.LEAVE,e,t)}keyPress(e,t){this.handleEvent(i.EventTypeEnum.KEY_PRESS,e,t)}focus(e,t){this.handleEvent(i.EventTypeEnum.FOCUS,e,t)}blur(e,t){this.handleEvent(i.EventTypeEnum.BLUR,e,t)}handleEvent(e,t,s){e===i.EventTypeEnum.BLUR||e===i.EventTypeEnum.LEAVE?(this._parent&&this._parent.removeElement(this.id+"|e"),this._isHoverTarget=!1):e===i.EventTypeEnum.HOVER&&(this._isHoverTarget=!0);let n,r=this._eventFunctions[e];if(r){for(n of r)n(t,s);this._canvas||(this._canvas.needsRedraw=!0)}}swapVisibility(){this._isHidden?this.show():this.hide()}hide(){this._isHidden||(this._isHidden=!0,this._canvas.needsRedraw=!0)}show(){this._isHidden&&(this._isHidden=!1,this._canvas.needsRedraw=!0)}_debugDimensions(){console.log("CANVAS ELEM: "+this._id),console.log("x: "+Math.round(this._displayDimensions.x)+" (from "+this._dimensions.x+")"),console.log("y: "+Math.round(this._displayDimensions.y)+" (from "+this._dimensions.y+")"),console.log("w: "+Math.round(this._displayDimensions.w)+" (from "+this._dimensions.w+")"),console.log("h: "+Math.round(this._displayDimensions.h)+" (from "+this._dimensions.h+")"),console.log("\nparent: "+(this._parent?this._parent.id:"none")),console.log("===\n"),this._canvas&&this._canvas.debugRelativeDimensions(),console.log("offscreen? "+this._isOffScreen),console.log("--------------------\n\n")}debugDimensions(){this._debugDimensions()}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(6);function n(e){return!i.isNullOrUndefined(e)&&!!e.equals}function r(e){if(i.isNullOrUndefined(e))return!1;let t=e;return!!(t.lessThan&&t.greaterThan&&t.equals)}t.equals=function(e,t){return n(e)?e.equals(t):e===t},t.lesserThan=function(e,t){return r(e)?e.lesserThan(t):e<t},t.greaterThan=function(e,t){return r(e)?e.greaterThan(t):e>t},t.isEquatable=n,t.isComparable=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(39),n=s(7);function r(e,t,s,i,n){let r,o;return r=864e5,i||(e=a(e,!0),t=a(t,!0)),o=e>t||s?e-t:t-e,n||(o/=864e5),o}function o(e){let t;return t=new Date,e?t:(t=a(t),t)}function a(e,t){let s,i=l(e);return s=t?new Date(i+" 00:00Z"):new Date(i),s}function l(e){if(!e)return"";let t;return t=d(e),e.getMonth()+1+"/"+e.getDate()+"/"+t}function u(e,t){let s,i,n,r;return s=+e.getMinutes(),n=+e.getHours(),r="",i=s<10?"0"+s:s.toString(),t&&(r=" AM",n>=12&&(r=" PM"),n>12&&(n-=12),0===n&&(n=12)),n+":"+i+r}function h(e){if(!e)return!1;let t=e.getFullYear();return t%4==0&&(t%100!=0||t%400==0)}function d(e){return+e.getFullYear()%100}function c(e,t){return l(e)===l(t)}function _(e,t,s,i){t[s]||(t[s]=0),t[i]||(t[i]=0);let n=t[s],r=n%e,o=Math.floor(n/e);return t[s]=r,t[i]+=o,t}function p(e,t,s){return 1===e?e+" "+t:(s||(s=t+"s"),e+" "+s)}t.dateDiff=r,function(e){e[e.EXCLUSIVE=-1]="EXCLUSIVE",e[e.DEFAULT=0]="DEFAULT",e[e.INCLUSIVE=1]="INCLUSIVE"}(t.InclusivityEnum||(t.InclusivityEnum={})),t.monthDiff=function(e,t,s,i){let n,r;e>t||s?(n=e.getMonth()-t.getMonth(),r=e.getFullYear()-t.getFullYear()):(n=t.getMonth()-e.getMonth(),r=t.getFullYear()-e.getFullYear());let o=12*r+n;return o+=+i,o},t.getToday=o,t.clearTimeInfo=a,t.businessDateDiff=function(e,t,s,i,n){let o,a,l,u;o=r(e,t,s,i,n),a=(t>e?e.getDay():t.getDay())+1,a%=7,a<0&&(a=6);let h=0;for(u=0;u<Math.abs(o);u+=1)0!==a&&6!==a||(h+=1),a+=1,a%=7,a<0&&(a=6);return l=o<0?-1:1,o-h*l},t.shortDate=l,t.inputDateFmt=function(e){let t,s,i;return i=e.getFullYear(),t=e.getMonth()+1,t<10&&(t="0"+t),s=+e.getDate(),s<10&&(s="0"+s),e.getFullYear()+"-"+t+"-"+s},t.inputToDate=function(e,t){let s;if(e){let t=e.split("-");s=new Date(+t[0],+t[1]-1,+t[2])}else{if(!t)return s=null,s;s=o()}if(t){let e=t.split(":");s.setHours(+e[0]),s.setMinutes(+e[1])}return s},t.shortTime=u,t.inputTimeFmt=function(e,t){let s=[],n=e.getHours();s.push(i.padToDigits(n,2));let r=e.getMinutes();if(s.push(i.padToDigits(r,2)),t){let t=e.getSeconds();s.push(i.padToDigits(t,2))}return s.join(":")},t.shortDateTime=function(e,t){return l(e)+" "+u(e,t)},t.stopwatchDisplay=function(e,t,s){let i,r,o;return t?(i=(void 0).toString(),r=(void 0).toString(),o=(void 0).toString()):(i=n.addLeadingZeroes(2,void 0),r=n.addLeadingZeroes(2,void 0),o=n.addLeadingZeroes(2,void 0)),void 0+"D  "+o+":"+r+":"+i+" '"+e},t.updatedStopwatchDisplay=function(e,t){let s=function(e){let t={},s=e;return t.days=Math.floor(s/864e5),s-=24*t.days*60*60*1e3,t.hours=Math.floor(s/36e5),s-=60*t.hours*60*1e3,t.minutes=Math.floor(s/6e4),s-=60*t.minutes*1e3,t.seconds=Math.floor(s/1e3),s-=1e3*t.seconds,t.milliseconds=s,t}(e),i=[];return s.days&&i.push(s.days+" days"),s.hours&&i.push(s.hours+" hours"),s.minutes&&i.push(s.minutes+" minutes"),s.seconds&&i.push(s.seconds+" seconds"),s.milliseconds&&t.showMilli&&i.push(s.milliseconds+" ms"),i.join(" ")},t.addToDate=function(e,t){return t.milliseconds&&e.setMilliseconds(e.getMilliseconds()+t.milliseconds),t.seconds&&e.setSeconds(e.getSeconds()+t.seconds),t.minutes&&e.setMinutes(e.getMinutes()+t.minutes),t.hours&&e.setHours(e.getHours()+t.hours),t.days&&e.setDate(e.getDate()+t.days),t.months&&e.setMonth(e.getMonth()+t.months),t.years&&e.setFullYear(e.getFullYear()+t.years),e},t.getMonthName=function(e,t){switch(e.getMonth()){case 0:return t?"Jan":"January";case 1:return t?"Feb":"February";case 2:return t?"Mar":"March";case 3:return t?"Apr":"April";case 4:return"May";case 5:return t?"Jun":"June";case 6:return t?"Jul":"July";case 7:return t?"Aug":"August";case 8:return t?"Sept":"September";case 9:return t?"Oct":"October";case 10:return t?"Nov":"November";case 11:return t?"Dec":"December"}return""},t.getDayOfWeek=function(e,t){switch(e.getDay()){case 0:return t?"Sun":"Sunday";case 1:return t?"Mon":"Monday";case 2:return t?"Tues":"Tuesday";case 3:return t?"Wed":"Wednesday";case 4:return t?"Thurs":"Thursday";case 5:return t?"Fri":"Friday";case 6:return t?"Sat":"Saturday"}return""},t.getLengthOfMonthInDays=function(e){if(!e)return-1;switch(e.getMonth()){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return h(e)?29:28;default:return 30}},t.isLeapYear=h,t.getShortYear=d,t.isWeekend=function(e){let t=e.getDay();return 0===t||6===t},t.isToday=function(e){return c(o(),a(e))},t.isSameDate=c,t.getDisplayDuration=function(e){_(1e3,e,"milliseconds","seconds"),_(60,e,"seconds","minutes"),_(60,e,"minutes","hours"),_(24,e,"hours","days"),_(30,e,"days","months"),_(12,e,"months","years");let t=[];return e.years&&t.push(p(e.years,"year")),e.months&&t.push(p(e.months,"month")),e.days&&t.push(p(e.days,"day")),e.hours&&t.push(p(e.hours,"hour")),e.minutes&&t.push(p(e.minutes,"minute")),e.seconds&&t.push(p(e.seconds,"second")),e.milliseconds&&t.push(p(e.milliseconds,"millisecond")),t.join(" ")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(4),n=s(6);function r(e,t,s){let o;return o=e||{},t&&function(e,t,s){if(!e)return t;e.__proto__&&(t.__proto__=Object.create(e.__proto__));i.map(e,(e,i)=>{if(!n.isNullOrUndefined(e))if(s&&"object"==typeof e){let n=t[i];if(!n)return void(t[i]=e);n=r(n,e,s),t[i]=n}else t[i]=e})}(t,o,s),o}t.combineObjects=r,t.reconcileOptions=function(e,t){let s,i;for(s in e||(e={}),t)t.hasOwnProperty(s)&&(i=e[s],null==i&&(e[s]=t[s]));return e}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5),n=s(0),r=s(1),o=s(29),a=s(14);class l extends i.Drawable{constructor(e){e?e.cls=(e.cls||"")+" popup":e={cls:"popup"},super(e),e.themeColor?this.setThemeColor("popupTheme",e.themeColor):this.setThemeColor("popupTheme","#06F",!0)}setThemeColor(e,t,s){super.setThemeColor(e,t,s)}_createElements(){this._createOverlay(),this._createFrame(),this._createTitle(),this._createCloseButton(),this._createContentElement(),this._createButtonContainer()}_createOverlay(){this._elems.overlay=n.createSimpleElement("","overlay"),this._elems.overlay.addEventListener("click",()=>{this.erase()}),this._elems.base.appendChild(this._elems.overlay)}_createFrame(){this._elems.frame=n.createSimpleElement("","frame"),this._elems.base.appendChild(this._elems.frame)}_createTitle(){this._elems.title=n.createElement({cls:"popupTitle",parent:this._elems.frame})}_createCloseButton(){this._elems.closeBtn=n.createSimpleElement("","closeBtn","",null,[{content:"x",cls:"x"}]),this._elems.closeBtn.addEventListener("click",()=>{this.erase()}),this._elems.frame.appendChild(this._elems.closeBtn)}_createContentElement(){this._elems.content=n.createSimpleElement("","content"),this._elems.frame.appendChild(this._elems.content)}_createButtonContainer(){this._elems.buttonContainer=n.createElement({cls:"buttonContainer",parent:this._elems.frame})}setTitle(e){this._elems.title.innerHTML=e,e?r.addClass(this._elems.title,"hasContent"):r.removeClass(this._elems.title,"hasContent")}addContent(e,t,s){let i;i=o.isString(e)?n.createSimpleElement(e,t,s):a.isDrawable(e)?e.base:e instanceof HTMLElement?e:n.createElement(e),i&&this._elems.content.appendChild(i)}clearContent(){this._elems.content.innerHTML=""}addButton(e,t){n.createElement({cls:"popupButton",parent:this._elems.buttonContainer,content:e}).addEventListener("click",()=>{t()})}}t.Popup=l,l._uncoloredStyles={".overlay":{backgroundColor:"rgba(0,0,0,.6)",position:"absolute",left:"0",top:"0",width:"100%",height:"100%"},".popup":{display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Segoe UI, OpenSans, Helvetica",position:"fixed",width:"100%",height:"100%",left:"0",top:"0",zIndex:"5"},".frame":{position:"absolute",backgroundColor:"#FFF",borderRadius:"3px",boxShadow:"1px 1px 5px 2px rgba(0,0,0,.2)",display:"block",borderTop:"10px solid <popupTheme>",padding:"10px",maxHeight:"90%",overflowY:"auto"},".popup .popupTitle":{fontSize:"1.3em",fontWeight:"bold"},".popup .popupTitle.hasContent":{marginBottom:"5px"},".popup .content":{fontSize:"0.9em"},".popup .buttonContainer":{display:"flex",marginTop:"8px",justifyContent:"flex-end"},".popup .buttonContainer .popupButton":{padding:"2px 10px",backgroundColor:"<popupTheme>",color:"#FFF",cursor:"pointer",marginLeft:"15px",borderRadius:"30px",transition:"all ease-in-out .1s"},".popup .buttonContainer .popupButton:hover":{transform:"scale(1.1)"},".popup .closeBtn":{width:"16px",height:"16px",borderRadius:"8px",cursor:"pointer",position:"absolute",left:"calc(100% - 7px)",top:"-15px",backgroundColor:"#DDD",boxShadow:"1px 1px 5px 2px rgba(0,0,0,.1)",color:"#333",display:"flex",justifyContent:"center",alignItems:"center",transition:"all ease-in-out .1s"},".popup .closeBtn .x":{paddingBottom:"2px"},".popup .closeBtn:hover":{transform:"scale(1.1)"}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(65),n=s(67);class r extends i.Event{get _key(){return t.FORM_ELEM_CHANGE}}t.FormElemChangeEvent=r;class o extends i.Event{get _key(){return t.FORM_SAVABLE_CHANGE}}t.FormSavableEvent=o,t.FORM_ELEM_CHANGE="formelemchange",t.FORM_SAVABLE_CHANGE="formsavablechange";class a extends n.EventHandler{}t.formEventHandler=new a,t.formEventHandler.createEvent(t.FORM_ELEM_CHANGE,"Form Element Changed"),t.formEventHandler.createEvent(t.FORM_SAVABLE_CHANGE,"Form Savable Change")},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(19),r=s(0),o=s(21),a=s(1),l=s(42),u=s(76),h=s(46),d=s(5),c=s(45);class _ extends d.Drawable{constructor(e,t){super(),this._onSave=[],this._onCancel=[],this._hasChanges=!1,this._canSaveTracker={hasMissingRequired:!1,hasErrors:!1},this._config=e||{},this._addClassName("Form"),this._colors=n.combineObjects({formBackgroundTheme:"#FFF",formTheme:"#EFC500",formSubTheme:"#444"},this._config.colors||{}),this._applyColors(),this._createElements(t)}registerSaveHandler(e){this._onSave.push(e)}_notifySave(e){if(this._onSave)for(let t of this._onSave)t(e)}registerCancelHandler(e){this._onCancel.push(e)}_notifyCancel(e){if(this._onCancel)for(let t of this._onCancel)t(e)}setThemeColor(e,t,s){super.setThemeColor(e,t,s)}_getUniqueThemeName(){return"Form"}_shouldSkipCreateElements(){return!0}_createElements(e){this._elems={},this._createBase(),this._createPreForm(),this._createFormContainer(),this._createCoreSection(e),this._createPostForm()}_createBase(){let e="kipForm";return this._config.cls&&(e+=" "+this._config.cls),this._elems.base=r.createElement({cls:e,type:"form",id:this._config.id}),this._elems.base}_createCoreSection(e){let t={label:this._config.label,cls:this._config.cls,layout:this._config.layout,hideTitle:this._config.hideTitle,uncollapsible:!this._config.hideTitle};this._elems.coreSection=new c.SectionField(this._id,t,e),this._applyColors(this._elems.coreSection),this._addEventHandlers(),this._elems.coreSection.draw(this._elems.formContainer)}_createPreForm(){return this._elems.background=r.createElement({cls:"background",parent:this._elems.base}),this._elems.background}_createFormContainer(){return this._elems.formContainer=r.createElement({cls:"formContent",parent:this._elems.background}),this._elems.formContainer}_createPostForm(){let e=[{display:"Save",callback:()=>this.trySave(),cls:"save primary",key:"saveButton"},{display:"Cancel",callback:()=>{this.tryCancel()},cls:"cancel tertiary"}];return this._config.addlButtons&&e.splice(1,0,...this._config.addlButtons),this._createButtons(e)}_createButtons(e){let t=[];for(let s of e)s&&t.push(this._createButton(s));return r.createElement({cls:"kipBtns",parent:this._elems.background,children:t})}_createButton(e){return r.createElement({key:e.key||"",type:"button",cls:"kipBtn "+(e.cls?e.cls:" secondary"),content:e.display,eventListeners:{click:t=>{e.callback(),t.preventDefault()}}},this._elems)}_addEventHandlers(){o.formEventHandler.addEventListener(o.FORM_ELEM_CHANGE,{func:e=>this._handleFormChange(e),uniqueId:this._id+"|form"}),o.formEventHandler.addEventListener(o.FORM_SAVABLE_CHANGE,{func:e=>this._handleSavabilityChange(e)})}_handleFormChange(e){e.context.key===this._id&&this._onFormChange(e)}_onFormChange(e){this._isFormChangeForMe(e)&&(this._hasChanges=!0)}_isFormChangeForMe(e){return e.context.key===this._id}_handleSavabilityChange(e){if(!this._elems.saveButton)return;this.canSave()?this._enableSave():this._disableSave()}_disableSave(){this._elems.saveButton.title=this._getCannotSaveMessage(),this._elems.saveButton.setAttribute("disabled","true"),a.addClass(this._elems.saveButton,"disabled")}_enableSave(){this._elems.saveButton.title="",this._elems.saveButton.removeAttribute("disabled"),a.removeClass(this._elems.saveButton,"disabled")}getData(){return i(this,void 0,void 0,(function*(){return this._elems.coreSection.save(!0)}))}_save(){return i(this,void 0,void 0,(function*(){let e=yield this._elems.coreSection.save();return this._notifySave(e),this._hasChanges=!1,e}))}trySave(){return i(this,void 0,void 0,(function*(){return this.canSave()?yield this._save():(this._showCannotSaveMessage(),null)}))}canSave(){return this._canSaveTracker=this._elems.coreSection.canSave(),!this._canSaveTracker.hasErrors&&!this._canSaveTracker.hasMissingRequired}_showCannotSaveMessage(){let e=this._getCannotSaveMessage();if(!e)return;let t=new l.ErrorPopup(e,"Couldn't Save");t.setThemeColor("popupTheme",this._colors.formTheme),t.draw(document.body)}_getCannotSaveMessage(){let e="";return this._canSaveTracker.hasErrors&&this._canSaveTracker.hasMissingRequired?e="This form has missing data and errors; correct errors and fill in all required fields before saving.":this._canSaveTracker.hasErrors?e="There are some errors in your form; correct them before saving.":this._canSaveTracker.hasMissingRequired&&(e="There are some fields with missing data; fill them in before saving."),e}_cancelConfirmation(){if(this._hasChanges){let e=new u.YesNoPopup("You have unsaved changes. Are you sure you want to cancel?",e=>{e===h.YesNoEnum.YES&&this._cancel()});e.setThemeColor("popupTheme",this._colors.formTheme),e.draw(document.body)}else this._cancel()}_cancel(){this.clear(),this._notifyCancel(this._hasChanges),this._hasChanges=!1}tryCancel(e){return!this._hasChanges||e?(this._cancel(),!0):(this._cancelConfirmation(),!1)}clear(){this._elems.coreSection.clear()}update(e,t){this._elems.coreSection.update(e,t),this._hasChanges=!1}undo(){}redo(){}_trackChanges(){}focus(){this._elems.coreSection.focus()}addFormElement(e,t){return this._elems.coreSection.addChildElement(e,t)}getField(e){return this._elems.coreSection.getField(e)}}t._Form=_,_._uncoloredStyles={".kipForm":{fontFamily:"Open Sans,Segoe UI Light,Helvetica",fontSize:"1em",boxSizing:"border-box",fontWeight:"100",nested:{".background":{display:"flex",flexDirection:"column"},".formContent":{flexShrink:"1",flexGrow:"1",position:"relative",padding:"5px",overflowY:"auto"},".kipBtn":{cursor:"pointer",opacity:"0.7",transition:"all ease-in-out .1s",fontFamily:"Open Sans,Segoe UI Light,Helvetica",fontSize:"1em",nested:{"&:hover:not(.disabled)":{opacity:"1"},"&.disabled":{cursor:"not-allowed",opacity:"0.4"}}},".kipBtns":{display:"flex",flexDirection:"row-reverse",nested:{".kipBtn":{padding:"3px 15px",margin:"5px",borderRadius:"3px",nested:{"&.primary":{backgroundColor:"<formTheme>",color:"#FFF"},"&.secondary":{border:"1px solid <formTheme>",color:"<formTheme>"},"&.tertiary":{border:"1px solid <formSubTheme>",color:"<formSubTheme>"}}}}},button:{backgroundColor:"transparent",border:"none"}}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(33);t.NamedClass=class{constructor(...e){this._class_names=e}get className(){return this._class_names.slice().reverse().join("::")}get paddedClassName(){return this._class_names.join(" <-- ")}_addClassName(e){return!i.contains(this._class_names,e)&&(this._class_names.push(e),!0)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUpdatable=function(e){if(e)return!!e.update}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(55);function n(e){let t;return t={x:e.x,y:e.y,w:e.width,h:e.height},t}function r(e){let t;return t={x:e.left+window.scrollX,y:e.top+window.scrollY,w:e.width,h:e.height},t}t.clientRectToShape=function(e){let t;return t=new Array,t[0]={x:e.left,y:e.top},t[1]={x:e.left+e.width,y:e.top},t[2]={x:e.left+e.width,y:e.top+e.height},t[3]={x:e.left,y:e.top+e.height},t},t.svgRectToShape=function(e){let t;return t=new Array,t[0]={x:e.x,y:e.y},t[1]={x:e.x+e.width,y:e.y},t[2]={x:e.x+e.width,y:e.y+e.height},t[3]={x:e.x,y:e.y+e.height},t},t.svgRectToBasicRect=n,t.clientRectToBasicRect=r,t.toBasicRect=function(e){let t;return i.isIBasicRect(e)?t=e:i.isClientRect(e)?t=r(e):i.isSVGRect(e)&&(t=n(e)),t}},function(e,t,s){"use strict";function i(e,t,s){return o(e,"offsetLeft",t,s)}function n(e,t,s){return o(e,"offsetTop",t,s)}function r(e,t,s){return{left:i(e,t,s),top:n(e,t,s)}}function o(e,t,s,i){let n=0;for(;e&&e!==s;)e[t]&&(n+=e[t]),e=i?e.parentNode:e.offsetParent;return n}Object.defineProperty(t,"__esModule",{value:!0}),t.globalOffsetLeft=i,t.globalOffsetTop=n,t.globalOffsets=r,t.getScrollPosition=function(){return{x:window.pageXOffset?window.pageXOffset:document.body.scrollLeft,y:window.pageYOffset?window.pageYOffset:document.body.scrollTop}},t.measureElement=function(e,t){let s=!1;if(!e.parentNode){s=!0;let i=e.style.opacity;e.style.opacity="0",window.setTimeout(()=>{e.style.opacity=i}),t||(t=document.body),t.appendChild(e)}let i=e.getBoundingClientRect();return s&&t.removeChild(e),i},t.findCommonParent=function(e,t){let s,i;if(e&&t)for(s=e,i=t;s;){for(;i;){if(s===i)return s;i=i.parentNode}s=s.parentNode,i=t}},t.moveRelToElem=function(e,t,s,i,n){let o,a,l,u;return o=r(e),a=r(e),l=a.left+s-o.left,u=a.top+i-o.top,n||(e.style.position="absolute",e.style.left=l+"px",e.style.top=u+"px"),{x:l,y:u}},t.isInDOM=function(e){let t=e.parentNode;for(;t;){if(t===document.body)return!0;t=t.parentNode}return!1}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ReplaceDuplicateKeys=1]="ReplaceDuplicateKeys",e[e.IgnoreDuplicateKeys=2]="IgnoreDuplicateKeys"}(t.CollectionTypeEnum||(t.CollectionTypeEnum={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeValue=function(e,t,s){return e<t&&(e=t),e>s&&(e=s),e},t.boundedRandomNumber=function(e,t,s){return t||(t=0),s?t+=1:e+=1,t+Math.floor(Math.random()*(e-t))},t.roundToPlace=function(e,t){return Math.round(e*t)/t}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isString=function(e){return"string"==typeof e},t.isNumber=function(e){return"number"==typeof e},t.isBoolean=function(e){return"boolean"==typeof e},t.isFunction=function(e){return"function"==typeof e},t.isArray=function(e){return e instanceof Array},t.isObject=function(e){return typeof e==typeof{}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),n=s(34),r=s(6);function o(e,t){let s;for(s=t;s;){if(s===e)return!0;s=s.parentNode}return!1}t.removeSubclassFromAllElements=function(e,t,s){let n,r,o;for(n=document.getElementsByClassName(e),r=0;r<n.length;r+=1)o=n[r],o!==s&&i.removeClass(o,t)},t.isChildEventTarget=function(e,t){return o(t,e.target)},t.isChild=o,t.appendChildren=function(e,...t){let s;for(s=0;s<t.length;s+=1)e.appendChild(t[s])},t.clearChildren=function(e){for(let t=e.children.length-1;t>=0;t-=1){let s=e.children[t];e.removeChild(s)}},t.moveElemRelativePosition=function(e,t){let s=parseInt(e.style.top)||0,i=parseInt(e.style.left)||0;e.style.top=s+t.y+"px",e.style.left=i+t.x+"px"},t.resetPageFocus=function(){let e=-1;r.isNullOrUndefined(document.body.tabIndex)&&(e=document.body.tabIndex),document.body.tabIndex=0,document.body.focus(),document.body.tabIndex=e},t.removeElement=function(e){e.parentNode&&e.parentNode.removeChild(e)},t.select=function(e){if(n.isSelectable(e))e.select();else{let t=document.createRange();t.selectNodeContents(e);let s=window.getSelection();s.removeAllRanges(),s.addRange(t)}},t.HTML_TAB="&nbsp;&nbsp;&nbsp;&nbsp;",t.encodeForHTML=function(e){return e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/\\n/g,"<br>")).replace(/\\t/g,t.HTML_TAB)},t.decodeFromHTML=function(e){return e=(e=(e=(e=(e=(e=(e=(e=e.replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&quot;/g,'"')).replace(/&apos;/g,"'")).replace(/<br>/g,"\n")).replace(new RegExp(t.HTML_TAB,"g"),"\t")).replace(/&nbsp;/g," ")},t.replaceElemWithElem=function(e,t){if(!e.parentNode)return;let s=e.nextSibling,i=e.parentNode;i.removeChild(e),i.insertBefore(t,s)},t.isVisible=function(e){return 0!==e.offsetWidth||0!==e.offsetHeight}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),n=s(0),r=s(1),o=s(13);class a extends i.Field{_parseFieldTemplate(e){super._parseFieldTemplate(e),this._isCollapsed=!e.isExpanded&&!e.hideTitle&&!e.uncollapsible}_createCollapsibleTitle(){let e="sectionHeaderContainer";this._config.hideTitle&&(e+=" hidden"),this._elems.titleContainer=n.createElement({cls:e,parent:this._elems.base,eventListeners:{click:()=>{this._onCaretClicked()}}}),this._elems.title=n.createSimpleElement("","sectionHeader",this._config.label,null,null,this._elems.titleContainer),this._config.uncollapsible||(this._elems.collapseElem=n.createSimpleElement("","caret","",null,null,this._elems.titleContainer),r.addClass(this._elems.base,"collapsible"),this._isCollapsed&&(r.addClass(this._elems.base,"collapsed"),this._isCollapsed=!0))}_onCaretClicked(){this._config.uncollapsible||(this._isCollapsed?this.expand():this.collapse())}collapse(){this._isTransitioning||(this._isTransitioning=!0,this._isCollapsed=!0,o.transition(this._elems.childrenContainer,{height:"<height>",overflow:"hidden"},{height:"0",overflow:"hidden"},500).then(()=>{r.addClass(this._elems.base,"collapsed"),this._isTransitioning=!1}))}expand(){this._isTransitioning||(this._isTransitioning=!0,this._isCollapsed=!1,r.removeClass(this._elems.base,"collapsed"),o.transition(this._elems.childrenContainer,{height:"0",overflow:"hidden"},{height:"<height>"},500).then(()=>{this._isTransitioning=!1}))}}t.CollapsibleField=a,a._uncoloredStyles={".kipFormElem.collapsible .formChildren":{},".kipFormElem.collapsible.collapsed .formChildren":{height:"0",overflow:"hidden"},".kipFormElem.collapsible .sectionHeaderContainer":{display:"flex",justifyContent:"space-between",boxSizing:"border-box",cursor:"pointer",padding:"10px 10px",alignItems:"center",width:"calc(100% + 20px)",marginLeft:"-10px",borderRadius:"30px",nested:{"&.hidden":{display:"none"}}},".kipFormElem.collapsible .caret":{transformOrigin:"50% 50%",width:".8em",fontSize:"1em",transition:"all ease-in-out .1s",cursor:"pointer",color:"<formSubTheme>"},".kipFormElem.collapsible.collapsed .caret":{transform:"rotate(180deg)"},".kipFormElem.collapsible .sectionHeaderContainer:hover":{backgroundColor:"rgba(0,0,0,.05)"}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(50);t.bind=function(e,t,s,n){return i.Binder.bind(e,t,s,n)?e():null}},function(e,t,s){"use strict";function i(e,t,s){if(!e)return-1;for(let i=0;i<e.length;i+=1)if(s){if(s(e[i],t))return i}else if(e[i]===t)return i;return-1}Object.defineProperty(t,"__esModule",{value:!0}),t.contains=function(e,t,s){return-1!==i(e,t,s)},t.indexOf=i,t.removeElemFromArr=function(e,t,s){let i,n;for(s||(s=function(e,t){return e===t}),i=e.length-1;i>=0;i-=1)s(e[i],t)&&(n=e.splice(i,1));return n}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(14);t.isHTMLElement=function(e){return!!e&&(!i.isDrawable(e)&&!!e.appendChild)},t.isSelectable=function(e){return!!e.select}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInterface=function(e,t){let s,i,n=!0;for(s in t)if(t.hasOwnProperty(s)&&(i=t[s],i&&void 0===e[s])){n=!1;break}if(!n)return!1;let r=!1;for(s in e)if(e.hasOwnProperty(s)&&void 0===t[s]){r=!0;break}return!r}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(28);function n(e){return Math.PI*e/180}t.degreesToRadians=n,t.radiansToDegrees=function(e){return 180*e/Math.PI},t.getEndPoint=function(e,t,s){let i=n(t);return{x:Math.cos(i)*s+e.x,y:Math.sin(i)*s+e.y}},t.getCentralPoint=function(e){return{x:e.offsetLeft+e.offsetWidth/2,y:e.offsetTop+e.offsetWidth/2}},t.getAngle=function(e,t){let s,i,n,r,o;return s=t.x-e.x,i=t.y-e.y,0===s?i<0?270:90:0===i?s<0?180:0:(n=s*i>0?1:-1,r=s<0?Math.PI:0,o=Math.atan(Math.abs(i)/Math.abs(s)),o=o*n+r,o*(180/Math.PI))},t.getDistance=function(e,t){let s,i,n;return i=e.x-t.x,n=e.y-t.y,s=Math.sqrt(i*i+n*n),s},t.calculatePolygonInternalAngle=function(e){return i.roundToPlace(n(360/e),1e3)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.HUE=1]="HUE",e[e.SATURATION=2]="SATURATION",e[e.LIGHTNESS=3]="LIGHTNESS",e[e.ALPHA=4]="ALPHA"}(t.HSLPieceEnum||(t.HSLPieceEnum={})),function(e){e[e.RED=0]="RED",e[e.GREEN=1]="GREEN",e[e.BLUE=2]="BLUE",e[e.ALPHA=3]="ALPHA"}(t.RGBEnum||(t.RGBEnum={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(23),n=s(6),r=s(39),o=s(7),a=s(105),l=s(37),u=s(106),h=s(28);class d extends i.NamedClass{constructor(){super("Color"),this._alpha=1}set alpha(e){e=Math.min(1,Math.max(0,e)),this._alpha=e}get alpha(){return this._alpha}set red(e){e=Math.min(255,Math.max(0,Math.round(e))),this._red=e}get red(){return this._red}set green(e){e=Math.min(255,Math.max(0,Math.round(e))),this._green=e}get green(){return this._green}set blue(e){e=Math.min(255,Math.max(0,Math.round(e))),this._blue=e}get blue(){return this._blue}set hue(e){e=Math.min(360,Math.max(0,Math.round(e))),this._hue=e}get hue(){return this._hue}set saturation(e){e=Math.min(100,Math.max(0,Math.round(e))),this._saturation=e}get saturation(){return this._saturation}set lightness(e){e=Math.min(100,Math.max(0,Math.round(e))),this._lightness=e}get lightness(){return this._lightness}get luminance(){return n.isNullOrUndefined(this._luminance)&&this._calculateLuminance(),this._luminance}toRgbaString(){return this.toRgbString(!0)}toRgbString(e){let t;return t="rgb"+(e?"a":"")+"("+this._red+", "+this._green+", "+this._blue,e&&(t+=", "+this._alpha),t+=")",t}toHslString(e){let t;return this._hue||this.generateHslValues(),t="hsl"+(e?"a":"")+"("+this._hue+", "+this._saturation+"%, "+this._lightness+"%",e&&(t+=", "+this._alpha),t+=")",t}toHslaString(){return this.toHslString(!0)}toHexString(e){let t;return t="#",t+=r.fullHexString(this._red,2),t+=r.fullHexString(this._green,2),t+=r.fullHexString(this._blue,2),e&&(t+=r.fullHexString(this._alpha,2)),t}generateHslValues(){let e,t,s,i,n,r,o,a,l;if(e=this._red/255,t=this._green/255,s=this._blue/255,n=Math.max(e,t,s),r=Math.min(e,t,s),i=n-r,l=(n+r)/2,n===r)return this._hue=0,this._saturation=0,void(this._lightness=Math.round(100*l));a=l>.5?i/(2-n-r):i/(n+r),n===e?(o=(t-s)/i,t<s&&(o+=6)):o=n===t?(s-e)/i+2:(e-t)/i+4,o/=6,this._hue=Math.round(3600*o)/10,this._saturation=Math.round(1e3*a)/10,this._lightness=Math.round(1e3*l)/10,this._startHue||(this._startHue=this._hue,this._startSaturation=this._saturation,this._startLightness=this._lightness)}generateRgbValues(){let e,t,s,i,n,r,o;for(e=this._hue/360,t=this._saturation/100,s=this._lightness/100,0===t&&(this._red=this._green=this._blue=s,this._red*=255,this._green*=255,this._blue*=255),n=s<.5?s*(1+t):s+t-s*t,i=2*s-n,o=-1;o<=1;o+=1)r=e+-o/3,r<0?r+=1:r>1&&(r-=1),r<1/6?this.updateRgbValue(o+1,255*(i+6*(n-i)*r)):r<.5?this.updateRgbValue(o+1,255*n):r<2/3?this.updateRgbValue(o+1,255*(i+(n-i)*(2/3-r)*6)):this.updateRgbValue(o+1,255*i)}_parseFromHexColor(e,t){let s,i,n,r,a,l;if(a=/^#?(?:[0-9A-Fa-f]{3,4}){1,2}$/,!a.test(e))return!1;for("#"===o.charAt(e,0)&&(e=o.rest(e,1)),l=e.length<6?1:2,s=0;s<e.length;s+=l)n=e.substr(s,l),1===l&&(n+=n),i=parseInt(n,16),this.updateRgbValue(s/l,i),s>4&&(r=!0);return r||(this._alpha=t||1),!0}_parseFromRgbColor(e,t){let s,i,n;if(s=/rgb\((?:([0-9]{1-3}), ?){3}\)/,i=/rgba\((?:([0-9]{1-3}), ?){3}, ?([0-9]{0,1}(?:\.[0-9]+)?)\)/,s.test(e))n=s.exec(e);else{if(!i.test(e))return!1;n=i.exec(e)}return this._red=+n[1],this._green=+n[2],this._blue=+n[3],void 0===n[4]&&void 0===t||(this._alpha=+n[4]||t),!0}_parseFromHslColor(e,t){let s,i,n;if(s=/hsl\(([0-9]{1,3}), ?([0-9]{1,3})%, ?([0-9]{1,3})%\)/,i=/hsla\(([0-9]{1,3}), ?([0-9]{1,3})%, ?([0-9]{1,3})%, ?([0-9]{0,1}(?:\.[0-9]+)?)\)/,s.test(e))n=s.exec(e);else{if(!i.test(e))return!1;n=i.exec(e)}return this._hue=Math.round(10*parseFloat(n[1]))/10,this._saturation=Math.round(10*parseFloat(n[2]))/10,this._lightness=Math.round(10*parseFloat(n[3]))/10,void 0===n[4]&&void 0===t||(this._alpha=parseFloat(n[4])||t),this.generateRgbValues(),!0}_parseColorString(e,t){let s;return s=this._parseFromRgbColor(e,t),!!s||(s=this._parseFromHexColor(e,t),!!s||(s=this._parseFromHslColor(e,t),!!s))}updateRgbValue(e,t){switch(e){case a.RGBEnum.RED:this.red=t;break;case a.RGBEnum.GREEN:this.green=t;break;case a.RGBEnum.BLUE:this.blue=t;break;case a.RGBEnum.ALPHA:this.alpha=t}}updateHslValue(e,t){switch(e){case l.HSLPieceEnum.HUE:this.hue=t;break;case l.HSLPieceEnum.SATURATION:this.saturation=t;break;case l.HSLPieceEnum.LIGHTNESS:this.lightness=t;break;case l.HSLPieceEnum.ALPHA:this.alpha=t}}getNextColor(e,t){var s,i=[];for(this._startHue||this.generateHslValues(),i[0]=e,i[1]=(e+1)%3,i[2]=(e+2)%3,s=0;s<i.length&&this.rotateAppropriateHSLValue(i[s]);s+=1);return this.generateRgbValues(),this.toHexString(t)}rotateAppropriateHSLValue(e){var t,s;switch(e){case l.HSLPieceEnum.SATURATION:t=this.rotateSaturation(),s=this._startSaturation;break;case l.HSLPieceEnum.LIGHTNESS:t=this.rotateLightness(),s=this._startLightness;break;case l.HSLPieceEnum.HUE:t=this.rotateHue(),s=this._startHue}return t===s}rotateHue(){return this._hue=this.rotateHslValue(this._hue,u.HUE_INTERVAL,360),this._hue}rotateSaturation(){return this._saturation=this.rotateHslValue(this._saturation,u.SATURATION_INTERVAL,100,u.SATURATION_LIMITS.max,u.SATURATION_LIMITS.min)}rotateLightness(){return this._lightness=this.rotateHslValue(this._lightness,u.LIGHT_INTERVAL,100,u.LIGHTNESS_LIMITS.max,u.LIGHTNESS_LIMITS.min)}rotateHslValue(e,t,s,i,n){var r;if(r=e+=t,r%=s,!i)return h.roundToPlace(r,10);if(!n&&0!==n)return h.roundToPlace(r,10);for(;r<n||r>i;)r=e+=t,r%=s;return h.roundToPlace(r,10)}getApparentColor(e){let t,s;return t=e._red?e:new c(e),!!t._parsedCorrectly&&(s=1-this._alpha,this._red=Math.round(this._red*this._alpha+t._red*s),this._green=Math.round(this._green*this._alpha+t._green*s),this._blue=Math.round(this._blue*this._alpha+t._blue*s),this._alpha=1,!0)}compare(e,t){var s;return t||(t={hue:1,saturation:.04,lightness:.04,alpha:.04}),e.generateHslValues(),this.generateHslValues(),(s={hue:e._hue-this._hue,saturation:e._saturation-this._saturation,lightness:e._lightness-this._lightness,alpha:e._alpha-this._alpha}).total=0,s.total+=Math.abs(s.hue)*(t.hue||0),s.total+=Math.abs(s.saturation)*(t.saturation||0),s.total+=Math.abs(s.lightness)*(t.lightness||0),s.total+=Math.abs(s.alpha)*(t.alpha||0),s}averageIn(e,t){let s;return e.generateHslValues(),this.generateHslValues(),s={hue:(this._hue+e._hue)/2,saturation:(this._saturation+e._saturation)/2,lightness:(this._lightness+e._lightness)/2,alpha:(this._alpha+e._alpha)/2},t?s:(this._hue=Math.round(s.hue),this._saturation=Math.floor(10*s.saturation)/10,this._lightness=Math.floor(10*s.lightness)/10,this._alpha=Math.floor(10*s.alpha)/10,this)}equals(e){return this.toHexString(!0)===e.toHexString(!0)}isDark(){return this._hue||this.generateHslValues(),this.luminance<=70}isLight(){return this._hue||this.generateHslValues(),this.luminance>70}getLightness(){return this._hue||this.generateHslValues(),this._lightness}_calculateLuminance(){this._red||this.generateRgbValues(),this._luminance=(.2126*this._red+.7152*this._green+.0722*this._blue)/2.55}}t.Color=d;t.RGBColor=class extends d{constructor(e,t,s,i){super(),"string"==typeof e?this._parsedCorrectly=this._parseFromRgbColor(e,t):(this.red=e,this.green=t,this.blue=s,this.alpha=i,this._parsedCorrectly=!0)}getCurrentColor(e){return this.toRgbString(e)}};t.HSLColor=class extends d{constructor(e,t,s,i){super(),"string"==typeof e?this._parsedCorrectly=this._parseFromHslColor(e,t):(this.hue=e,this.saturation=t,this.lightness=s,this.alpha=i,this._parsedCorrectly=!0)}getCurrentColor(e){return this.toHslString(e)}};t.HexColor=class extends d{constructor(e,t){super(),this._parsedCorrectly=this._parseFromHexColor(e)}getCurrentColor(e){return this.toHexString(e)}};class c extends d{constructor(e,t){super(),this._parsedCorrectly=this._parseColorString(e,t)}getCurrentColor(e){return this.toHexString(e)}}t.AnyColor=c},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padToDigits=function(e,t){let s=e.toString().split("");for(;s.length<t;)s.splice(0,0,"0");return s.join("")},t.fullHexString=function(e,t){let s,i;if(t=t||0,s=e.toString(16),s.length<t)for(i=0;i<t-s.length;i+=1)s="0"+s;return s}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(4);t.Tree=class{constructor(e){this._data=e,this._subTrees={}}isLeafNode(){return!i.getNextKey(this._subTrees)}getDepth(){let e=[1];return i.map(this._subTrees,t=>{e.push(t.getDepth()+1)}),Math.max(...e)}toString(){let e=[];i.map(this._subTrees,t=>{e.push(t.toString())});let t=[];return t.push(this._data.toString()),e.length>0&&(t.push("->("),t.push(e.join(",")),t.push(")")),t.join("")}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5),n=s(1),r=s(30),o=s(0);class a extends i.Drawable{constructor(e,t){super(e),this._targets=[],this.addTarget(t),this._onRender(),this._elems.base&&(this._addEventListeners(),n.addClass(this._elems.base,"draggable"))}get gridSize(){return this._gridSize}set gridSize(e){this._gridSize=e}_addDraggingSignifier(){this._signifier=o.createElement({cls:"dragSignifier",children:[{cls:"dot"},{cls:"dot"},{cls:"dot"},{cls:"dot"},{cls:"dot"},{cls:"dot"},{cls:"dot"},{cls:"dot"},{cls:"dot"}],parent:this._elems.base})}addTarget(e){if(!e)return;let t=this._createDraggableTarget(e);this._targets.push(t)}_updateMousePoint(e){this._currentMousePoint={x:e.clientX,y:e.clientY},this._startMousePoint||(this._startMousePoint=this._currentMousePoint)}_calculateDelta(){if(!this._currentMousePoint)return null;let e={x:this._currentMousePoint.x-this._startMousePoint.x,y:this._currentMousePoint.y-this._startMousePoint.y};return this._gridSize>1&&(e.x=this._normalizeToGrid(e.x,this.gridSize),e.y=this._normalizeToGrid(e.y,this.gridSize)),e}_normalizeToGrid(e,t){let s=Math.abs(e),i=Math.floor(s/t)*t;return s%t>t/2&&(i+=t),e<0&&(i*=-1),i}_onDragStart(e){this._isDragging=!0,a.currentDraggable=this,n.addClass(this._elems.base,"dragging");for(let e of this._targets)n.addClass(e.base,"draggingOver");this._updateMousePoint(e)}_onMove(e){this._isDragging&&this._updateMousePoint(e)}_onDrop(e){if(this._isDragging){l.currentDraggableTarget&&(a.currentDraggable=null,this._startMousePoint=null,this._currentMousePoint=null),this._isDragging=!1,n.removeClass(this._elems.base,"dragging");for(let e of this._targets)n.removeClass(e.base,"draggingOver")}}_onRender(){if(window.requestAnimationFrame(()=>{this._onRender()}),!this._elems.base)return;let e=this._calculateDelta();e&&(r.moveElemRelativePosition(this.base,e),this._startMousePoint.x+=e.x,this._startMousePoint.y+=e.y)}}t.GenericDraggable=a,a._uncoloredStyles={".draggingOver":{cursor:"-webkit-grabbing !important"},".draggable":{position:"absolute !important",cursor:"-webkit-grab",transition:"all ease-in-out .03s",nested:{div:{cursor:"-webkit-grab"},"&.grabbing":{cursor:"-webkit-grabbing",nested:{div:{cursor:"-webkit-grabbing"}}},"&.dragging":{boxShadow:"5px 5px 20px 10px rgba(0,0,0,.2) !important",zIndex:"100",cursor:"-webkit-grabbing",opacity:"1",transformOrigin:"50% 50%",transform:"rotate(0deg)"},".dragSignifier":{display:"flex",position:"absolute",left:"5px",top:"5px",width:"19px",flexWrap:"wrap",opacity:"0.5",nested:{"&:hover":{opacity:"1"},".mobile &":{display:"none"},".dot":{borderRadius:"50%",width:"3px",height:"3px",margin:"1px",backgroundColor:"rgba(0,0,0,.3)",flexShrink:"0"}}}}},".droppable":{cursor:"-webkit-dragging"}};class l extends i.Drawable{constructor(e){super(),this._elems.base=e,this._addEventListeners(),n.addClass(this._elems.base,"droppable")}_createElements(){}_onDragEnter(e){l.currentDraggableTarget=this}_onDragLeave(e){l.currentDraggableTarget===this&&(l.currentDraggableTarget=null)}_onDrop(e){a.currentDraggable&&l.currentDraggableTarget.base.appendChild(a.currentDraggable.base)}}t.DraggableTarget=l},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(20);class n extends i.Popup{constructor(e,t,s){super(s),this.setTitle(t||"Uh-oh...that wasn't supposed to happen"),this.addContent("","",e),this.addButton("Okay",()=>{this.erase(),this._notifyClose()})}set onClose(e){this._onClose=e}_notifyClose(){this._onClose&&this._onClose()}}t.ErrorPopup=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),n=s(2),r=s(0),o=s(1),a=s(4),l=s(33),u=s(10);class h extends i.Field{constructor(e,t){super(e,t)}get _type(){return n.FieldTypeEnum.TOGGLE_BUTTON}get _defaultCls(){return"toggleBtns"}_getUncoloredStyles(){return this._mergeThemes(i.Field._uncoloredStyles,h._uncoloredStyles)}_parseFieldTemplate(e){super._parseFieldTemplate(e),this._options=e.options}_onCreateElements(){this._elems.childrenContainer=r.createSimpleElement("","formChildren","",null,null),this._createOptionsElements(),this._handleStandardLayout()}_flexLayout(){o.addClass(this._elems.base,"flex"),this._createStandardLabel(this._elems.base),this._appendChildren()}_multiLineLayout(){o.addClass(this._elems.base,"multiline"),this._createStandardLabel(this._elems.base),this._appendChildren()}_tableLayout(){this._multiLineLayout()}_appendChildren(){this._elems.base.appendChild(this._elems.childrenContainer),this._elems.postChildrenContainer&&this._elems.base.appendChild(this._elems.postChildrenContainer)}_labelAfterLayout(){o.addClass(this._elems.base,"labelLast"),this._appendChildren(),this._createStandardLabel(this._elems.base)}_updateOptions(e){this._clearOptions(),this._options=e,this._config.options=e,this._createOptionsElements()}_clearOptions(){this._buttons=[],this._elems.childrenContainer.innerHTML=""}_createOptionsElements(){a.map(this._options,e=>{this._createOptionElement(e)})}_createOptionElement(e){let t=r.createElement({id:this._id+"btn"+e.value,cls:"toggleBtn",content:e.label,parent:this._elems.childrenContainer,eventListeners:{click:()=>{this._selectBtn(t,e.value),this._changeEventFired()}}});return this._shouldBeSelected(e)&&this._selectBtn(t,e.value),this._buttons||(this._buttons=[]),this._buttons.push({key:e.value,btn:t}),t}_getValueFromField(){return this._data}update(e,t){!this._testEquality(e)&&super.update(e,t)}_updateUI(e){let t=this._getButtonToUpdate(e);u.wait(100).then(()=>{if(!this._selectBtn)throw console.log("missing _selectBtn: "+this._selectBtn),new Error("missing _select function");this._selectBtn(t,e)})}_getButtonToUpdate(e){let t=l.indexOf(this._buttons,{key:e,btn:null},(e,t)=>this._equalityTest(e,t));if(-1!==t)return this._buttons[t].btn}_equalityTest(e,t){return e.key===t.key}_testEquality(e){return!1}}t.ToggleButtonField=h,h._uncoloredStyles={".toggleBtns .formChildren":{display:"flex",flexWrap:"wrap",marginLeft:"0",marginTop:"5px"},".toggleBtns.flex .formChildren":{},".toggleBtn":{borderRadius:"3px",boxShadow:"1px 1px 4px 2px rgba(0,0,0,.1)",padding:"4px",marginRight:"10px",cursor:"pointer",textAlign:"center",fontSize:"0.8em",border:"1px solid transparent",opacity:"0.7",transition:"all ease-in-out .1s"},".toggleBtn.selected, .toggleBtn:hover":{border:"1px solid <formTheme>",transform:"scale(1.08)"},".toggleBtn.selected":{opacity:"1"}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.FORWARD=1]="FORWARD",e[e.BACKWARD=-1]="BACKWARD",e[e.MOVE=0]="MOVE"}(t.DirectionType||(t.DirectionType={}))},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(2),r=s(31),o=s(3),a=s(8),l=s(4),u=s(0),h=s(21),d=s(1);class c extends r.CollapsibleField{constructor(e,t,s){super(e,t),a.isField(t)&&(s=t.children),this._parseChildren(s)}_getUncoloredStyles(){return this._mergeThemes(c._uncoloredStyles,r.CollapsibleField._uncoloredStyles,o.Field._uncoloredStyles)}setThemeColor(e,t,s){super.setThemeColor(e,t),this._children&&(a.isField(this._children)?this._children.setThemeColor(e,t,s):l.map(this._children,i=>{i.setThemeColor(e,t,s)}))}get children(){return this._children}get _defaultCls(){return"kipFormElem section"}get _defaultValue(){return{}}get _type(){return n.FieldTypeEnum.SECTION}_onCreateElements(){this._createCollapsibleTitle(),this._elems.childrenContainer=u.createSimpleElement("","formChildren","",null,null,this._elems.base),this._createStyles(),this._updateClsBasedOnLayout()}_createClonedElement(e){return new c(this._id+e,this)}_parseChildren(e){if(e)if(a.isField(e)){let t=this._parseChild(e);this._children=t}else this._children={},l.map(e,(e,t)=>{let s=this._parseChild(e);this._children[t]=s});else e={}}_parseChild(e){let t=this._cloneFormElement(e);return this._applyColors(t),t.draw(this._elems.childrenContainer),h.formEventHandler.addEventListener(h.FORM_ELEM_CHANGE,{func:e=>{e.context.key===t.id&&window.setTimeout(()=>{this._updateInternalData(!0),this._dispatchChangeEvent(t.id)},0)},target:t,uniqueId:this._id+"|"+t.id}),t}_updateInternalData(e){return i(this,void 0,void 0,(function*(){let t;if(a.isField(this._children))t=yield this._children.save(e);else{t={};let s=l.map(this._children,(s,n)=>i(this,void 0,void 0,(function*(){return this._updateInternalField(n,s,t,e)})));yield Promise.all(s)}return t}))}_updateInternalField(e,t,s,n){return i(this,void 0,void 0,(function*(){return s[e]=yield t.save(n),Promise.resolve()}))}save(e){return i(this,void 0,void 0,(function*(){return this._data=yield this._updateInternalData(e),this._data}))}canSave(){if(a.isField(this._children))return this._children.canSave();{let e={hasErrors:!1,hasMissingRequired:!1};return l.map(this._children,t=>{let s=t.canSave();e.hasErrors=e.hasErrors||s.hasErrors,e.hasMissingRequired=e.hasMissingRequired||s.hasMissingRequired},()=>e.hasErrors&&e.hasMissingRequired),e}}clear(){a.isField(this._children)?this._children.clear():l.map(this._children,(e,t)=>{e.clear()})}focus(){if(!this._children)return!1;if(a.isField(this._children))return this._children.focus();{let e;return l.map(this._children,(t,s)=>{t.focus()&&(e=!0)},()=>e),e}}update(e,t){e&&(a.isField(this._children)?this._children.update(e,t):l.map(this._children,(s,i)=>{s.update(e[i],t)}))}_getValueFromField(){return this._data}_validate(e){return!0}addChildElement(e,t){return!a.isField(this._children)&&(this._children||(this._children={}),this._children[e]=this._parseChild(t),!0)}_updateClsBasedOnLayout(){let e;switch(this._config.layout){case n.FormElementLayoutEnum.FLEX:e="flex";break;case n.FormElementLayoutEnum.TABLE:e="table";break;case n.FormElementLayoutEnum.LABEL_AFTER:case n.FormElementLayoutEnum.MULTILINE:default:e="multiline"}d.addClass(this._elems.childrenContainer,e)}getField(e){if(e===this._id)return this;if(a.isField(this._children))return this._children.getField(e);{let t;return l.map(this._children,s=>{t||(t=s.getField(e))},()=>!!t),t}}}t.SectionField=c,c._uncoloredStyles={".kipFormElem.section":{marginTop:"10px",marginBottom:"5px"},".kipFormElem .sectionHeader":{fontFamily:"OpenSansBold,Segoe UI,Helvetica",fontSize:"1.5em",color:"<formTheme>",fontWeight:"bold"},".kipFormElem .section .sectionHeader, .kipFormElem .array .sectionHeader":{fontSize:"1.2em",color:"<formSubTheme>"},".kipFormElem.section > .formChildren .section.collapsible > .formChildren":{borderLeft:"1px solid <formTheme>",paddingLeft:"20px"},".kipFormElem.section > .formChildren .section > .sectionHeaderContainer.hidden + .formChildren":{borderLeft:"0 solid",paddingLeft:"0"},".kipFormElem.section > .formChildren.flex":{display:"flex",alignItems:"center",marginLeft:"0",nested:{"> .kipFormElem":{width:"auto"}}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.YES=1]="YES",e[e.NO=0]="NO"}(t.YesNoEnum||(t.YesNoEnum={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(78),n=s(19);t.HistoryChain=class{push(e){let t=new i.HistoryNode(e);if(!this._start)return this._start=t,this._end=t,void(this._curNode=t);this._curNode!==this._end&&this._clearToCurIdx(),this._end.next=t,t.previous=this._end,this._end=t,this._curNode=this._end}_clearToCurIdx(){this._end=this._curNode,this._curNode.next=null}navigateBack(){return this._curNode.previous?(window.setTimeout(()=>{this._curNode=this._curNode.previous},0),this._curNode.previous.data):null}navigateForward(){return this._curNode.next?(window.setTimeout(()=>{this._curNode=this._curNode.next},0),this._curNode.next.data):null}updateCurrentState(e){if(!this._curNode)return!1;let t=this._curNode.data,s=n.combineObjects(t,e,!0);return this._curNode.data=s,!0}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(7);t.UnitTester=class{test(e,t,s,i){i=i||"";let n=this.testEquality(t,s);return this._ui.renderTest({name:e,pass:n,actualResult:t,expectedResult:s,message:i}),n}assert(e,t,s,i){let n=t?s:i;this._ui.renderTest({name:e,pass:t,message:n})}startGroup(e){this._ui.startGroup(e)}startSubGroup(e){this._ui.startSubgroup(e)}_testFunction(e,t,s){this._ui.startSubgroup(t);for(let t=0;t<s.length;t+=1){let i=s[t],n=e.apply(window,i.params);this.test(this._getTestName(i),n,i.result)}}testEquality(e,t){return e.equals?e.equals(t):e===t}_getTestName(e){return e.details?e.details:i.format("({0}) ==> {1}",e.params.join(", "),e.result)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(7);t.TestUI=class{constructor(){}_buildValueString(e){return e.actualResult&&e.expectedResult?e.pass?i.format("'{0}' = '{1}'",e.actualResult,e.expectedResult):i.format("'{0}' != '{1}'",e.actualResult,e.expectedResult):""}_passToString(e){return e?"pass":"fail"}}},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(4),r=s(10);t.Binder=new class{constructor(){this._id=0,this._started=!1,this._boundDetails={},this._startAnimationLoop()}_getNextId(){return this._id+=1,this._id.toString()}bind(e,t,s,i){if(!e||!t)return"";let n=e();r.nextRender().then(()=>t(n));let o={id:this._getNextId(),eval:e,update:t,delete:s||(()=>!1),lastValue:n,equals:i||((e,t)=>e===t)};return this._boundDetails[o.id]=o,o.id}unbind(e){return!!this._boundDetails[e]&&(delete this._boundDetails[e],!0)}_startAnimationLoop(){this._started||this._onFrame()}_onFrame(){return i(this,void 0,void 0,(function*(){return n.map(this._boundDetails,e=>{this._handlingBinding(e)}),r.nextRender().then(()=>this._onFrame())}))}_handlingBinding(e){return i(this,void 0,void 0,(function*(){if(e.delete())return void this.unbind(e.id);let t=e.eval();e.equals(t,e.lastValue)||(e.lastValue=t,e.update(t))}))}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(7),n=s(11),r=s(1),o=s(4),a=s(15),l=s(6),u=s(23);class h extends u.NamedClass{constructor(){super("Stylable"),this._colors={},this._createStyles(),this._hasCreatedStyles=!0,this._registerMediaListeners()}static _buildThemeColorId(e){return i.format("<{0}>",e)}static _containedPlaceholder(e){let t=/<(.+?)>/.exec(e);return t&&t[1]?t[1]:""}static _findAllContainedPlaceholders(e){let t,s=JSON.stringify(e),i=[],n=/<(.+?)>/g;do{if(t=n.exec(s),!t)break;i.push(t[1])}while(t);return i}static _updateAllThemeColors(){o.map(this._themeColors,(e,t)=>{this._updateThemeColor(t)})}static _updateThemeColor(e){let t=a.cloneObject(this._themedStyles[e]||{});t&&(o.map(t,(s,i)=>{s&&(this._updateColorInClassDefinition(s,e),t[i]=s)}),this._createColoredStyles(t,e,!0))}static _updateColorInClassDefinition(e,t){let s=this._themeColors[t];if(!s)return;let i=!1;return o.map(e,(n,r)=>{if("object"==typeof n)return;let o=!1,a=n.split(" ");a.map((e,i)=>{this._containedPlaceholder(e)===t&&(a[i]=e.replace(new RegExp("<?"+t+">?","g"),s),o=!0)}),o?(e[r]=a.join(" "),i=!0):delete e[r]}),i}static _mergeIntoStyles(e){this._pageStyles=this._mergeThemes("",this._pageStyles,e),this._themedStyles=this._mergeColorThemes(e)}static _mergeThemes(e,...t){let s,i=[];for(s of t){let e=this._cleanStyles(s);i.push(e)}return this._combineThemes(e,...i)}static _mergeColorThemes(...e){let t;for(let s of e)t=this._findAllContainedPlaceholders(s);let s={};for(let i of t)s[i]||(this._themedStyles[i]?e.push(this._themedStyles[i]):this._themedStyles[i]={},this._themedStyles[i]=this._mergeThemes(i,...e));return this._themedStyles}static _combineThemes(e,...t){let s={};return t.map(t=>{o.map(t,(t,i)=>{s[i]||(s[i]={}),s[i]=this._mergeDefinition(e,t,s[i]),o.isEmptyObject(s[i])&&delete s[i]})}),s}static _mergeDefinition(e,...t){let s={};for(let i of t)o.map(i,(t,i)=>{let n=this._containedPlaceholder(t);(l.isNullOrUndefined(e)||n===e)&&(s[i]=t)});return s}static _mergeIntoFonts(e){o.map(e,(e,t)=>{this._customPageFonts[t]=e})}static _createStyles(e){let t=h._pageStyles;this._styleElems=this._sharedCreateStyles(t,this._styleElems,e),this._createFontStyles(e)}static _createFontStyles(e){let t=h._customPageFonts;this._customFontElem||(this._customFontElem=n.createStyleElement(!1),document.head.appendChild(this._customFontElem)),this._customFontElem.innerHTML="",o.map(t,(e,t)=>{let s=n.createFontDefinition(t,e,!0);this._customFontElem.innerHTML+=s.innerHTML})}static _createAllColoredStyles(e){this._updateAllThemeColors()}static _createColoredStyles(e,t,s){this._colorStyleElems[t]=this._sharedCreateStyles(e,this._colorStyleElems[t],s)}static _sharedCreateStyles(e,t,s){if(!e)return;let i=0;if(t&&t.length>0)for(let e of t)window.setTimeout(()=>{document.head.removeChild(e)},100);t=[];let r=this._addNewElement(t);return o.map(e,(e,o)=>{let a=n.createClass(o,e,!0,s,!0);a&&(i+=a.innerHTML.length,i>=1e4&&(r=this._addNewElement(t),i=0),r.innerHTML+=a.innerHTML)}),t}static _addNewElement(e){let t=n.createStyleElement(!1);return t.innerHTML='@charset "utf-8";\n',e.push(t),document.head.appendChild(t),t}static _cleanStyles(e,t){let s={};return o.map(e,(e,i)=>{let n,r=i.split(",");if(t)for(let e=0;e<r.length;e+=1){let s=r[e];-1!==s.indexOf("&")?r[e]=s.replace(/&/g,t):r[e]=t+" "+s}for(n of r){let t=this._cleanClassDef(n,e);s=this._combineThemes(null,s,t)}}),s}static _cleanClassDef(e,t){let s={};return s[e]={},o.map(t,(t,i)=>{if("nested"===i){let i=this._cleanStyles(t,e);s=this._combineThemes(null,s,i)}else s[e][i]=t}),s}get _uncoloredStyles(){return this.constructor._uncoloredStyles}get uncoloredStyles(){return this._getUncoloredStyles()}_getUncoloredStyles(){return this.constructor._uncoloredStyles}get _customFonts(){return this.constructor._customFonts}get customFonts(){return this._getCustomFonts()}_getCustomFonts(){return this.constructor._customFonts}_registerMediaListeners(){this._registerMediaListener("print","print"),this._registerMediaListener("(max-width:1200px)","mobile"),this._registerMediaListener("(max-width:1200px) and (min-width:801px)","large"),this._registerMediaListener("(max-width:800px) and (min-width:601px)","medium"),this._registerMediaListener("(max-width:600px) and (min-width:401px)","small"),this._registerMediaListener("(max-width:400px)","tiny")}_registerMediaListener(e,t,s){let i=window.matchMedia(e);i.addListener(e=>{e.matches?r.addClass(s||document.body,t):r.removeClass(s||document.body,t)}),i.matches&&r.addClass(s||document.body,t)}_applyColors(e){o.map(this._colors,(t,s)=>{t&&(e?e.setThemeColor(s,t,!0):this.setThemeColor(s,t,!0))})}setThemeColor(e,t,s){t&&e&&(s&&h._themeColors[e]||h._themeColors[e]!==t&&(h._themeColors[e]=t,h._updateThemeColor(e)))}_buildThemeColorId(e){return h._buildThemeColorId(e)}_mergeThemes(...e){return h._mergeThemes(null,...e)}mergeInStyles(...e){let t=h._mergeThemes(null,...e);return h._mergeIntoStyles(t),h._createStyles(!0),h._createAllColoredStyles(!0),this}_createStyles(e){if(!this.uncoloredStyles)return;if(h._createdStyles[this.constructor.name]&&!e)return;let t=a.cloneObject(this.uncoloredStyles);t=this._cleanStyles(t),h._mergeIntoStyles(t);let s=a.cloneObject(this._customFonts);h._mergeIntoFonts(s),h._createStyles(e),h._createAllColoredStyles(e),h._createdStyles[this.constructor.name]=!0}_cleanStyles(e,t){return h._cleanStyles(e,t)}}t.Stylable=h,h._pageStyles={},h._themedStyles={},h._themeColors={},h._colorStyleElems={},h._customPageFonts={},h._createdStyles={},h._customFonts={}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(16),n=s(12),r=s(9),o=s(15),a=s(57);class l extends i.CanvasElement{constructor(e,t){super(e),this._respondToScale=!1,this._elements=new n.Collection,this._referencePoint=t?{x:t.x,y:t.y}:{x:0,y:0},this._initializeRects()}get type(){return r.ElementType.Group}set referencePoint(e){this.adjustDimensions({x:e.x-this._referencePoint.x,y:e.y-this._referencePoint.y})}get isHoverTarget(){let e=!1;return this._elements.map(t=>{t.isHoverTarget&&(e=!0)}),e}_initializeRects(){this._dimensions={x:this._referencePoint.x,y:this._referencePoint.y,w:0,h:0},this._needsInitialDimensions=!0,super._initializeRects()}_onDraw(e){this._elements.map(e=>{e.draw()})}updateDimensions(e){if(super.updateDimensions(e),this._isOffScreen)return;this._elements.map(t=>{t.updateDimensions(e)})}addElement(e){e.adjustDimensions(this._referencePoint),this._elements.add(e.id,e),e.parent=this,this._canvas&&(e.canvas=this._canvas,this._canvas.needsRedraw=!0),this._updateInternalDimensionsFromElement(e)}_updateInternalDimensionsFromElement(e){let t={x:this._dimensions.x,y:this._dimensions.y,w:this._dimensions.w,h:this._dimensions.h};e.dimensions.x<t.x&&(t.x=e.dimensions.x),e.dimensions.x+e.dimensions.w>t.x+t.w&&(t.w=e.dimensions.x+e.dimensions.w-t.x),e.dimensions.y<t.y&&(t.y=e.dimensions.y),e.dimensions.y+e.dimensions.h>t.y+t.h&&(t.h=e.dimensions.y+e.dimensions.h-t.y),this._dimensions={x:t.x,y:t.y,w:t.w,h:t.h},this._needsInitialDimensions=!1}handleEvent(e,t,s){if(super.handleEvent(e,t,s),!t)return;e!==r.EventTypeEnum.LEAVE&&e!==r.EventTypeEnum.HOVER||this._clearHover(t,s);let i,n=this._findElementsAtPoint(t);for(i of n)i.handleEvent(e,t,s)}_clearHover(e,t){this._elements.map(s=>{s.isHoverTarget&&s.leave(e,t)})}_findElementsAtPoint(e){let t=[];return this._elements.map(s=>{s.isOffScreen||a.isPointContained(e,s.displayDimensions)&&t.push(s)}),t}removeElement(e){return!!this._elements.remove(e)&&(this._canvas.needsRedraw=!0,!0)}_cloneForEffect(e){o.clonePoint(this._referencePoint);let t=new l(e);return this._elements.map(e=>{let s=e._cloneForEffect(e.id+"|e");t.addElement(s)}),t}_scale(e){this._isEffect&&this._elements.map(t=>{t._scale(e)})}adjustDimensions(e){super.adjustDimensions(e),this._referencePoint.x+=e.x,this._referencePoint.y+=e.y,this._elements.map(t=>{t.adjustDimensions(e)})}_setCanvas(e){super._setCanvas(e),this._elements.map(e=>{e.canvas=this._canvas,this._updateInternalDimensionsFromElement(e)})}}t.CanvasGroup=l},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(9);class n{constructor(e){this._listeners=[],e?(this._fillColor=e.fillColor,this._strokeColor=e.strokeColor,this._font=e.font,this._fontFamily=e.fontFamily,this._fontSize=e.fontSize,this._fontVariant=e.fontVariant,this._strokeSize=e.strokeSize,this._textAlign=e.textAlign):(this._fillColor="#000",this._strokeColor="#000",this._strokeSize=1,this._fontFamily="Helvetica",this._fontSize=40,this._textAlign="left")}get fillColor(){return this._fillColor}set fillColor(e){this._fillColor=e,this._onChange(i.StyleChangeEnum.FILL_COLOR)}get strokeColor(){return this._strokeColor}set strokeColor(e){this._strokeColor=e,this._onChange(i.StyleChangeEnum.STROKE_COLOR)}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this._onChange(i.StyleChangeEnum.FONT_FAMILY)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this._onChange(i.StyleChangeEnum.FONT_VARIANT)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize=e,this._onChange(i.StyleChangeEnum.FONT_SIZE)}get strokeSize(){return this._strokeSize}set strokeSize(e){this._strokeSize=e,this._onChange(i.StyleChangeEnum.STROKE_SIZE)}get textAlign(){return this._textAlign}set textAlign(e){this._textAlign=e,this._onChange(i.StyleChangeEnum.TEXT_ALIGN)}get font(){if(this._font)return this._font;return(this._fontVariant?this._fontVariant+" ":"")+(this._fontSize?this._fontSize+"px ":"")+this._fontFamily}set font(e){this._font=e,this._onChange(i.StyleChangeEnum.FONT)}addStyleChangeListener(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}_onChange(e){if(!this._listeners[e])return;let t;for(t of this._listeners[e])t()}setStyle(e){this._saveOffOldStyle(e),this._applyStyleToContext(e,this)}restoreStyle(e){this._applyStyleToContext(e,this._oldStyle)}_saveOffOldStyle(e){this._oldStyle=new n,this._oldStyle.fillColor=e.fillStyle,this._oldStyle.strokeColor=e.strokeStyle,this._oldStyle.font=e.font,this._oldStyle.strokeSize=e.lineWidth,this._oldStyle.textAlign=e.textAlign}_applyStyleToContext(e,t){e.fillStyle=t.fillColor,e.strokeStyle=t.strokeColor,e.textAlign=t.textAlign,e.font=t.font,e.lineWidth=t.strokeSize}}t.CanvasElementStyle=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(25),n=s(26),r=s(56);function o(e,t){i.toBasicRect(e),i.toBasicRect(t);return!1}function a(e,t){return d(n.globalOffsetLeft(e),n.globalOffsetLeft(t))}function l(e,t){return d(-1*(n.globalOffsetLeft(e)+e.offsetWidth),-1*(n.globalOffsetLeft(t)+t.offsetWidth))}function u(e,t){return d(n.globalOffsetTop(e),n.globalOffsetTop(t))}function h(e,t){return d(-1*(n.globalOffsetTop(e)+e.offsetHeight),-1*(n.globalOffsetTop(t)+t.offsetHeight))}function d(e,t){return e<t?r.SortOrderEnum.CORRECT_ORDER:e>t?r.SortOrderEnum.INCORRECT_ORDER:r.SortOrderEnum.SAME}t.doElementsOverlap=function(e,t){let s,i;return s=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o(s,i)},t.doRectsOverlap=o,t.doBasicRectsOverlap=function(e,t){let s,i;return e.x>=t.x&&e.x<=t.w+t.x&&(s=!0),t.x>=e.x&&t.x<=e.w+e.x&&(s=!0),e.y>=t.y&&e.y<=t.h+t.y&&(i=!0),t.y>=e.y&&t.y<=e.h+e.y&&(i=!0),s&&i},t.findBasicRectIntersection=function(e,t){let s,i=Math.max(e.x,t.x),n=Math.min(e.x+e.w,t.x+t.w),r=Math.max(e.y,t.y);return s={x:i,y:r,w:n-i,h:Math.min(e.y+e.h,t.y+t.h)-r},s},t.compareLeftPosition=a,t.getLeftMost=function(...e){return e.sort(a)[0]},t.compareRightPosition=l,t.getRightMost=function(...e){return e.sort(l)[0]},t.compareTopPosition=u,t.getTopMost=function(...e){return e.sort(u)[0]},t.compareBottomPosition=h,t.getBottomMost=function(...e){return e.sort(h)[0]}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(35);t.isIExtrema=function(e){return i.isInterface(e,{min:{x:0,y:0},max:{x:0,y:0}})},t.isClientRect=function(e){return!!i.isInterface(e,{top:1,bottom:1,left:1,right:1,height:1,width:1})},t.isSVGRect=function(e){return!!i.isInterface(e,{x:1,y:1,width:1,height:1})},t.isIBasicRect=function(e){return!!i.isInterface(e,{x:1,y:1,w:1,h:1})},t.isIPoint=function(e){return i.isInterface(e,{x:1,y:1,z:0})}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.INCORRECT_ORDER=1]="INCORRECT_ORDER",e[e.SAME=0]="SAME",e[e.CORRECT_ORDER=-1]="CORRECT_ORDER"}(t.SortOrderEnum||(t.SortOrderEnum={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(25);function n(e,t){let s=i.toBasicRect(t);return!(e.x<s.x)&&(!(e.x>s.x+s.w)&&(!(e.y<s.y)&&!(e.y>s.y+s.h)))}function r(e,t){let s,n;return s=i.toBasicRect(e),n=i.toBasicRect(t),!(s.x<n.x)&&(!(s.x+s.w>n.w+n.x)&&(!(s.y<n.y)&&!(s.y+s.h>n.h+n.y)))}t.isWithin=function(e,t,s,i){return i?e<s&&e>t:e<=s&&e>=t},t.isPointContained=n,t.isRectContained=r,t.isElementContained=function(e,t){return r(e.getBoundingClientRect(),e.getBoundingClientRect())},t.isShapeContained=function(e,t){let s;for(s of e)if(!n(s,t))return!1;return!0}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LinkedNode=class{constructor(e){this._data=e,this._previous=null,this._next=null}get data(){return this._data}set data(e){this._data=e}get next(){return this._next}set next(e){this._next=e}get previous(){return this._previous}set previous(e){this._previous=e}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(17),n=s(40);class r extends n.Tree{constructor(e){super(e),this._count=1}add(e){switch(this._compare(e)){case o.EQUAL:this._count+=1;break;case o.LESS_THAN:this._addToSubTree("left",e);break;case o.GREATER_THAN:this._addToSubTree("right",e)}}_addToSubTree(e,t){this._subTrees[e]||(this._subTrees[e]=this._createSubTree(t),this._subTrees[e]._parent=this),this._subTrees[e].add(t)}remove(e){switch(this._compare(e)){case o.EQUAL:this._removeMe();break;case o.LESS_THAN:this._removeFromSubTree("left",e);break;case o.GREATER_THAN:this._removeFromSubTree("right",e)}}_removeMe(){let e=this._getRelationToParent();if(!e)return this._removeMeAsTopNode();delete this._parent[e]}_removeMeAsTopNode(){}_removeFromSubTree(e,t){this._subTrees[e]&&this._subTrees[e].remove(t)}exists(e){switch(this._compare(e)){case o.EQUAL:return!0;case o.LESS_THAN:return this._checkSubTreeExists("left",e);case o.GREATER_THAN:return this._checkSubTreeExists("right",e);default:return!1}}_checkSubTreeExists(e,t){return!!this._subTrees[e]&&this._subTrees[e].exists(t)}max(){return this._subTrees.right?this._subTrees.right.max():this._data}min(){return this._subTrees.left?this._subTrees.left.min():this._data}_compare(e){return i.isComparable(e)?this._compareObject(e):this._comparePrimitive(e)}_compareObject(e){if(!e)return o.ERR;let t=this._data;return t?e.equals(t)?o.EQUAL:e.lessThan(t)?o.LESS_THAN:e.greaterThan(t)?o.GREATER_THAN:o.ERR:o.ERR}_comparePrimitive(e){return e<this._data?o.LESS_THAN:e>this._data?o.GREATER_THAN:o.EQUAL}_getRelationToParent(){let e=o.ERR;switch(this._parent&&(e=this._compare(this._parent._data)),e){case o.LESS_THAN:return"right";case o.GREATER_THAN:return"left"}return null}isComplete(){return!this._subTrees.left&&!this._subTrees.right||!!this._subTrees.left&&(!!this._subTrees.right&&(!!this._subTrees.left.isComplete()&&!!this._subTrees.right.isComplete()))}isBalanced(){let e=this._getSideDepth("left"),t=this._getSideDepth("right");return!(Math.abs(e-t)>1)&&(!!this._isSubTreeBalanced("left")&&!!this._isSubTreeBalanced("right"))}_isSubTreeBalanced(e){return!this._subTrees[e]||this._subTrees[e].isBalanced()}_getSideDepth(e){return this._subTrees[e]?this._subTrees[e].getDepth():0}_createSubTree(e){return new r(e)}toString(){let e=[];this._subTrees.left&&e.push(this._subTrees.left),this._subTrees.right&&e.push(this._subTrees.right);let t=[];return t.push(this._data),e.length>0&&(t.push("->("),t.push(e.join(",")),t.push(")")),t.join("")}}var o;t.BinaryTree=r,function(e){e[e.ERR=0]="ERR",e[e.LESS_THAN=1]="LESS_THAN",e[e.EQUAL=2]="EQUAL",e[e.GREATER_THAN=3]="GREATER_THAN"}(o=t.CompareResult||(t.CompareResult={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(41),n=s(1);class r extends i.GenericDraggable{_createElements(){n.addClass(this._elems.base,"draggable"),this._addEventListeners(),this._addDraggingSignifier()}_onDrop(e){this._isDragging&&(super._onDrop(e),n.removeClass(this._elems.base,"dragging"))}_addEventListeners(){this.addEventListener("mousedown",e=>{e.target!==this._elems.base&&e.target!==this._signifier||(this._onDragStart(e),e.preventDefault())}),window.addEventListener("mousemove",e=>{this._onMove(e)}),window.addEventListener("mouseup",e=>{this._onDrop(e)}),window.addEventListener("mouseout",e=>{})}_createDraggableTarget(e){return new o(e)}}t.ClassicDraggable=r;class o extends i.DraggableTarget{_addEventListeners(){this.addEventListener("mouseup",e=>{i.GenericDraggable.currentDraggable&&this._onDrop(e)}),this.addEventListener("mouseover",e=>{this._onDragEnter(e)}),this.addEventListener("mouseout",e=>{this._onDragLeave(e)})}}t.ClassicDraggableTarget=o},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(60),n=s(62);class r extends i.ClassicDraggable{constructor(e,t){super(null,t),this._elems.base=e,this._addEventListeners()}overrideFunctions(e){e.onMove&&(this._overrideFunctions.move=e.onMove)}_onMove(e){if(super._onMove(e),!this._overrideFunctions.move)return;let t=this._calculateDelta();this._overrideFunctions.move(t)}}t.ExistingClassicDraggable=r;class o extends n.HTML5Draggable{constructor(e,t){super(null,t),this._elems.base=e,this._addEventListeners()}overrideFunctions(e){e.onMove&&(this._overrideFunctions.move=e.onMove)}_onMove(e){if(super._onMove(e),!this._overrideFunctions.move)return;let t=this._calculateDelta();this._overrideFunctions.move(t)}}t.ExistingHTML5Draggable=o},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(41),n=s(1),r=s(0);class o extends i.GenericDraggable{_createElements(){this._elems.base.setAttribute("draggable","true"),n.addClass(this._elems.base,"draggable"),this._addEventListeners(),this._elems.blank=r.createElement({type:"canvas",attr:{width:"1px",height:'1px"'},cls:"blank",parent:document.body})}_createDraggableTarget(e){return new a(e)}_addEventListeners(){this.base.addEventListener("dragstart",e=>{this._onDragStart(e)}),this.base.addEventListener("drag",e=>{this._onMove(e)}),this.base.addEventListener("dragend",e=>{this._onDrop(e)})}_onDragStart(e){super._onDragStart(e),e.dataTransfer.setDragImage(this._elems.blank,0,0),window.setTimeout(()=>{n.addClass(this._elems.base,"dragging")},50)}_onMove(e){0!==e.buttons&&super._onMove(e)}_onDrop(e){super._onDrop(e),n.removeClass(this._elems.base,"dragging")}}t.HTML5Draggable=o;class a extends i.DraggableTarget{_addEventListeners(){this.base.addEventListener("dragover",e=>{this._onDragEnter(e)}),this.base.addEventListener("dragexit",e=>{this._onDragLeave(e)}),this.base.addEventListener("drop",e=>{this._onDrop(e)})}_onDragEnter(e){e.preventDefault(),super._onDragEnter(e)}_onDrop(e){e.preventDefault(),super._onDrop(e)}_onDragLeave(e){e.preventDefault(),super._onDragLeave(e)}}t.HTML5DragTarget=a},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(5),r=s(0),o=s(1),a=s(10),l=s(13);class u extends n.Drawable{constructor(e,t){super(),this._id=e.id,this._display=e.display,this._selectParent=t,this._createElements()}get id(){return this._id}get display(){return this._display}get isFiltered(){return this._isFiltered}get isSelected(){return this._isSelected}_shouldSkipCreateElements(){return!0}_createElements(){this._elems={},this._isFiltered=!0,this._elems.base=r.createElement({id:"opt|"+this._id,cls:"dynamicOption filtered",eventListeners:{click:()=>{console.log("click processed"),this._selectParent.select(this)}}}),this._elems.text=r.createElement({content:this._display,cls:"optText",parent:this._elems.base})}select(){if(this._isFiltered)return!1}hilite(){return!this._isFiltered&&(o.addClass(this._elems.base,"hilite"),this._elems.base.scrollIntoView(),!0)}unhilite(){return o.removeClass(this._elems.base,"hilite"),!0}_filter(){this._isFiltered||(this._isFiltered=!0,l.transition(this._elems.base,{maxHeight:"<height>",padding:"5px"},{maxHeight:"0",padding:"0"},200).then(()=>{o.addClass(this._elems.base,"filtered")}))}_unfilter(){this._isFiltered&&(this._isFiltered=!1,o.removeClass(this._elems.base,"filtered"),l.transition(this._elems.base,{maxHeight:"0",padding:"0"},{maxHeight:"<height>",padding:"5px"},200).then)}tryFilter(e){return i(this,void 0,void 0,(function*(){let t;yield a.nextRender();let s=!1,i=this._display.toLowerCase(),n=this._id.toLowerCase();for(t of e)if(-1===i.indexOf(t)&&-1===n.indexOf(t)){s=!0;break}s?this._filter():this._unfilter()}))}}t.DynamicOption=u,u._uncoloredStyles={".dynamicOption":{overflow:"hidden",cursor:"pointer",padding:"5px",nested:{"&.filtered":{maxHeight:"0",padding:"0"},"&:hover, &.hilite":{backgroundColor:"#eee"}}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNamedClass=function(e,t){if(!t)return!1;let s;return s=e.paddedClassName,!!s&&-1!==s.indexOf(t)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Event=class{constructor(e){this._context=e}get key(){return this._key}get context(){return this._context}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(12),n=s(27),r=s(17);t.EventDefinition=class{constructor(e,t){this._numOfListeners=0,this._name=t,this._key=e,this._listeners=new i.Collection(n.CollectionTypeEnum.ReplaceDuplicateKeys)}addListener(e){e.uniqueId=e.uniqueId||this._key+this._numOfListeners.toString(),this._listeners.add(e.uniqueId,e),this._numOfListeners+=1}removeEventListener(e){e&&this._listeners.remove(e)}notifyListeners(e){this._listeners.map((t,s)=>{t&&(t.target&&!r.equals(t.target,e.context.target)||t.func(e))})}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(66),n=s(12);t.EventHandler=class{constructor(){this._events=new n.Collection}createEvent(e,t){let s=new i.EventDefinition(e,t);return-1!==this._events.add(e,s)}dispatchEvent(e,t){let s=this._events.getValue(t.key);s&&s.notifyListeners(t)}addEventListener(e,t){let s=this._events.getValue(e);s&&("function"==typeof t&&(t={func:t}),s.addListener(t))}removeEventListener(e,t){if(e)if(t){let s=this._events.getValue(t);if(!s)return;s.removeEventListener(e)}else this._events.map(t=>{t.removeEventListener(e)})}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0);function n(e,t){let s,n;if(!e)return t;if("string"==typeof e)t.innerHTML=e;else if(e.appendChild)t.appendChild(e);else for(n in e.create?(s=i.createElement(e.create),t.appendChild(s)):t.innerHTML=e.content,e.attr)e.attr.hasOwnProperty(n)&&t.setAttribute(n,e.attr[n]);return t}t.createTable=function(e,t,s,r,o){let a,l,u,h,d,c;for(r||(r=s&&s.length||0),a=i.createElement({type:"table",cls:t}),d=0;d<r;d+=1)for(o||(o=s[d].length),l=a.insertRow(-1),c=0;c<o;c+=1)h=s[d][c],u=l.insertCell(-1),n(h,u);return a},t.processCellContents=n,t.addRow=function(e,t,s,i){let r,o,a,l;if(s||0===s||(s=-1),i||0===i||(i=t.length),e&&e.insertRow){for(r=e.insertRow(s),a=0;a<i;a+=1)o=r.insertCell(-1),l=t[a]||"",n(l,o);return r}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(70),n=s(5),r=s(71),o=s(6),a=s(1),l=s(25),u=s(26);class h extends n.Drawable{constructor(e,t,s){e||(e={}),e.cls="tooltip hidden"+(e.cls?" "+e.cls:""),super(e),this._offset=s||{x:0,y:0},this.sourceElement=t}set sourceElement(e){this._sourceElement=e,this._addEventListeners(),window.setTimeout(()=>{this._positionAppropriately()},100)}_addEventListeners(){this._sourceElement&&(this._sourceElement.addEventListener("mouseover",()=>{o.isNullOrUndefined(this._hideTimeout)||window.clearTimeout(this._hideTimeout),this._positionAppropriately(),window.setTimeout(()=>{this.draw(document.body)},100)}),this._sourceElement.addEventListener("mouseout",e=>{e.target!==this._elems.base&&(this._hideTimeout=window.setTimeout(()=>{this.erase()},100))}),this._elems.base.addEventListener("mouseover",()=>{o.isNullOrUndefined(this._hideTimeout)||window.clearTimeout(this._hideTimeout)}),this._elems.base.addEventListener("mouseout",()=>{event.target!==this._sourceElement&&(this._hideTimeout=window.setTimeout(()=>{this.erase()},100))}),a.addClass(this._sourceElement,"tooltipSource"),window.addEventListener("resize",()=>{this._positionAppropriately()}))}_createElements(){}_positionAppropriately(){if(!this._sourceElement)return;let e;this._tooltipRect=l.clientRectToBasicRect(u.measureElement(this._elems.base)),this._sourceRect=l.clientRectToBasicRect(u.measureElement(this._sourceElement));for(let t=r.TooltipPositionType.TOP;t<=r.TooltipPositionType.RIGHT&&(e=this._assignPosition(t),!e);t+=1);this._tooltipRect=null,this._sourceRect=null}_assignPosition(e){let t=this._setXPosition(e),s=this._setYPosition(e);this._tooltipRect.w,this._tooltipRect.h;return-1!==t&&-1!==s&&(this._elems.base.style.left=t+"px",this._elems.base.style.top=s+"px",!0)}_setYPosition(e){switch(e){case r.TooltipPositionType.TOP:return this._sourceRect.y-this._tooltipRect.h-i.TOOLTIP_MARGIN+this._offset.y;case r.TooltipPositionType.BOTTOM:return this._sourceRect.y+this._sourceRect.h+i.TOOLTIP_MARGIN+this._offset.y;case r.TooltipPositionType.LEFT:case r.TooltipPositionType.RIGHT:return this._normalizeY(this._sourceRect.y,this._tooltipRect.h)}return-1}_setXPosition(e){switch(e){case r.TooltipPositionType.TOP:case r.TooltipPositionType.BOTTOM:return this._normalizeX(this._sourceRect.x,this._tooltipRect.w);case r.TooltipPositionType.LEFT:return this._sourceRect.x-this._tooltipRect.w-i.TOOLTIP_MARGIN+this._offset.x;case r.TooltipPositionType.RIGHT:return this._sourceRect.x+this._sourceRect.w+i.TOOLTIP_MARGIN+this._offset.x}return-1}_normalizeX(e,t){return this._normalize(e+this._offset.x,t,0,window.innerWidth)}_normalizeY(e,t){return this._normalize(e+this._offset.y,t,0,window.innerHeight)}_normalize(e,t,s,n){return e<s&&(e=i.TOOLTIP_MARGIN),e+t>n&&(e=n-t-i.TOOLTIP_MARGIN),e<s?-1:e}draw(e){this._elems.base.parentNode||super.draw(e),a.removeClass(this._elems.base,"hidden")}erase(){a.addClass(this._elems.base,"hidden")}}t.Tooltip=h,h._uncoloredStyles={".tooltip":{position:"absolute",left:"0",top:"0",maxWidth:"300px",padding:"3px",boxSizing:"border-box",boxShadow:"1px 1px 4px 2px rgba(0,0,0,.2)",opacity:"1",transition:"all 0.1s ease-in-out",backgroundColor:"#FFF",borderRadius:"3px",fontSize:"0.8em",lineHeight:"120%",nested:{"&.hidden":{opacity:"0",pointerEvents:"none"}}},".tooltipSource":{cursor:"pointer"}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOOLTIP_MARGIN=2},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(t.TooltipPositionType||(t.TooltipPositionType={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(43),n=s(6),r=s(1),o=s(18);class a extends i.ToggleButtonField{constructor(e,t){super(e,t)}get _multiSelect(){return!0}get _defaultValue(){return[]}_parseFieldTemplate(e){super._parseFieldTemplate(e),this._selectedBtns=[]}update(e,t){n.isNullOrUndefined(e)||(this.clear(),e.map(e=>{let t=this._getButtonToUpdate(e);this._selectBtn(t,e)}))}_shouldBeSelected(e){return-1!==this._indexOf(e.value)}_createClonedElement(e){return new a(this.id+e,this)}_selectBtn(e,t){if(!e)return;let s=this._selectedBtns.indexOf(e),i=this._indexOf(t);-1!==i&&-1===s||(-1!=s?(-1!==s&&(r.removeClass(e,"selected"),this._selectedBtns.splice(s,1)),-1!==i&&this._data.splice(i,1)):(this._data.push(t),this._selectedBtns.push(e),r.addClass(e,"selected")))}_indexOf(e){let t=-1;for(let s=0;s<this._data.length;s+=1){let i=this._data[s];if(this._equalTo(i,e)){t=s;break}}return t}_equalTo(e,t){switch(typeof e){case"string":case"number":case"boolean":return e===t}return e instanceof Date?o.shortDate(e)===o.shortDate(t):e===t}clear(){this._data=[];for(let e=this._selectedBtns.length-1;e>=0;e-=1){let t=this._selectedBtns[e];r.removeClass(t,"selected"),this._selectedBtns.splice(e,1)}}}t.MultiSelectButtonField=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2),n=s(8);t.isArrayChildElement=function(e){return!!e&&(!!n.isField(e)&&e.type===i.FieldTypeEnum.ARRAY_CHILD)}},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(2),r=s(31),o=s(3),a=s(0),l=s(45),u=s(44);class h extends l.SectionField{constructor(e,t,s){super(e?e.toString():"",s||{},t)}get _type(){return n.FieldTypeEnum.ARRAY_CHILD}get _defaultValue(){return{}}get _defaultCls(){return"arrayChild"}_getUncoloredStyles(){return this._mergeThemes(h._uncoloredStyles,r.CollapsibleField._uncoloredStyles,o.Field._uncoloredStyles)}_onCreateElements(){this._config.allowReordering&&(this._elems.nextBtn=a.createElement({cls:"next kipBtn",content:"&#x276F;",parent:this._elems.base,eventListeners:{click:()=>{this._changeOrder(u.DirectionType.FORWARD)}}}),this._elems.prevBtn=a.createElement({cls:"prev kipBtn",content:"&#x276E;",parent:this._elems.base,eventListeners:{click:()=>{this._changeOrder(u.DirectionType.BACKWARD)}}})),this._elems.closeBtn=a.createElement({cls:"close kipBtn",content:"&#x2715;",parent:this._elems.base,eventListeners:{click:()=>{this._delete()}}}),this._elems.childrenContainer=a.createSimpleElement("","formChildren","",null,null,this._elems.base)}_createClonedElement(e){return new h(this._id+e,this._children)}_cloneFormElement(e){return super._cloneFormElement(e,"|"+this._id)}_delete(){this._elems.base.parentNode.removeChild(this._elems.base),this._data=null,this._dispatchChangeEvent()}_updateInternalData(e){const t=Object.create(null,{_updateInternalData:{get:()=>super._updateInternalData}});return i(this,void 0,void 0,(function*(){return null===this._data?null:t._updateInternalData.call(this,e)}))}addOrderingListener(e){this._orderlistener=e}_changeOrder(e){this._orderlistener&&this._orderlistener.onChangeOrder(this,e)}}t.ArrayChildField=h,h._uncoloredStyles={".kipFormElem.array .formChildren .kipFormElem.arrayChild":{backgroundColor:"#FFF",borderRadius:"5px",boxShadow:"1px 1px 5px 2px rgba(0,0,0,.1)",padding:"15px",margin:"0",nested:{".mobile.large &":{maxWidth:"calc(50% - 20px)"},".mobile &":{maxWidth:"calc(100% - 20px)"},".arrayChild":{maxWidth:"100%"},".formChildren":{margin:"10px",marginTop:"0"},".kipBtn:not(.new)":{position:"absolute",cursor:"pointer",transition:"all ease-in-out .2",padding:"2px",boxShadow:"none",backgroundColor:"none",color:"#555",opacity:"0.5",nested:{"&.close":{top:"2px",left:"calc(100% - 25px)"},"&.next, &.prev":{color:"<formTheme>",padding:"0",width:"20px",height:"20px",borderRadius:"0",boxShadow:"none",top:"calc(50% - 8px)"},"&.next":{left:"calc(100% - 20px)"},"&.prev":{left:"0"},"&:hover":{transform:"scale(1.1)",opacity:"0.8"}}}}},".formChildren > div.arrayChild:first-child .prev.kipBtn":{display:"none"},".formChildren > div.arrayChild:last-child .next.kipBtn":{display:"none"}}},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),r=s(0),o=s(8),a=s(6),l=s(2);class u extends n.Field{get _type(){return l.FieldTypeEnum.FILE_PATH}get _defaultCls(){return"filepath"}get _defaultValue(){return""}_parseFieldTemplate(e){super._parseFieldTemplate(e),this._onSaveCallback=e.onSave,this._attr=e.attr}_onCreateElements(){this._createStandardLabel(this._elems.base),this._elems.display=r.createSimpleElement("","display",this._data,null,null,this._elems.base),this._elems.inputContainer=r.createSimpleElement("","fileContainer","",null,null,this._elems.base),this._elems.input=o.createInputElement(this._id+"|input","","file","",null,null,this._elems.inputContainer),this._elems.inputLabel=o.createLabelForInput("Upload File",this._id+"|input","filepath",this._elems.inputContainer)}_getValueFromField(){if(!a.isNullOrUndefined(this._tempLink))return this._onLinkChange();if(this._files=this._elems.input.files,console.log(this._files),!this._files)return"";return this._files[0].name}_onLinkChange(){let e=this._tempLink;return this._tempLink=null,e}update(e,t){this._data=e,this._elems.display.innerHTML=e,this._elems.input.value=""}save(e){return i(this,void 0,void 0,(function*(){if(!e){if(this._files){if(!this._onSaveCallback)return"";this._data=yield this._onSaveCallback(this._files)}return this._data}}))}_createClonedElement(e){return new u(this.id+e,this)}}t.FilePathField=u,u._uncoloredStyles={".kipFormElem.filepath input[type=file]":{display:"none"},".kipFormElem.filepath label.filepath":{backgroundColor:"<formTheme>",color:"#FFF",borderRadius:"2px",boxShadow:"1px 1px 5px 2px rgba(0,0,0,.1)",padding:"10px",fontSize:"0.7em",cursor:"pointer"},".kipFormElem.filepath .display":{fontSize:"0.6em",whiteSpace:"break"}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(20),n=s(46);class r extends i.Popup{constructor(e,t,s){super(s),this._onSelection=t,this.addContent("","",e),this._createButtons()}_createButtons(){this._createButton("Yes",n.YesNoEnum.YES),this._createButton("No",n.YesNoEnum.NO)}_createButton(e,t){this.addButton(e,()=>{this._onSelection&&(this._onSelection(t),this.erase())})}}t.YesNoPopup=r,t.showYesNoForm=function(e,t){new r(e,t).draw(document.body)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),n=s(2);class r extends i.Field{get _type(){return n.FieldTypeEnum.NUMBER}get _defaultValue(){return 0}get _defaultCls(){return"number"}_onCreateElements(){this._createStandardLabeledInput(),this._handleStandardLayout()}_getValueFromField(){return+this._elems.input.value}_createClonedElement(e){return new r(this._id+e,this)}}t.NumberField=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HistoryNode=class{constructor(e){this.data=e}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(7),n=s(0),r=s(11);t.createSimpleLabeledElement=function(e,t,s,r,o,a,l,u){let h,d,c;if(null!=r&&!("string"==typeof r&&0===i.trim(r).length||u&&0===r))return h={},h.id=e,h.type="div",h.cls=t,h.attr=o,h.children=a,h.parent=l,d={cls:"lbl",content:s,type:"span"},c={cls:"content",content:r,type:"span"},h.children=[d,c],n.createElement(h)},t.createLabeledElement=function(e,t){if(!e||!t)return;let s=n.createElement(e);t.cls=r.buildClassString(t.cls,"lbl");let i=n.createElement(t);return{data:s,lbl:i,wrapper:n.createElement({cls:"wrapper",children:[i,s]})}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(81);class n extends i._Model{serialize(){let e=this.saveData();return JSON.stringify(e)}toString(){return this.serialize()}deserialize(e){try{let t=JSON.parse(e);return this._copyData(t),!0}catch(t){return console.log("non JSON: "+e),!1}}}t.Serializable=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(7),n=s(4),r=s(29),o=s(6),a=s(24);t._Model=class{constructor(e){this.__propertyListeners={},this.__modelListeners=[],this._setDefaultValues(),e&&(e.saveData&&(e=e.saveData()),this._copyData(e))}_setDefaultValues(){}_copyData(e){n.map(e,(e,t)=>{this._copyPiece(t,e)})}_copyPiece(e,t){let s,n="_copy"+(e[0].toUpperCase()+i.rest(e,1));void 0!==t&&(this[n]?this[n](t):a.isUpdatable(this[e])?this[e].update(t):(s=r.isArray(t)?t.slice():r.isObject(t)?JSON.parse(JSON.stringify(t)):t,this._setValue(e,t)))}_copyModelArray(e,t){let s=[];for(let i of e){let e=new t(i);s.push(e)}return s}_copyModelDictionary(e,t){let s={};return n.map(e,(e,i)=>{s[i]=new t(e)}),s}update(e){this._copyData(e)}saveData(){let e={};return n.map(this,(t,s)=>{if("function"==typeof t)return;let n=s;if("_"===n[0]&&(n=i.rest(n,1)),"_modelListeners"===n)return;if("_propertyListeners"===n)return;let r=this._savePiece(n,t);o.isNullOrUndefined(r)||(e[n]=r)}),e}_savePiece(e,t){let s="_save"+(e[0].toUpperCase()+i.rest(e,1));if(this[s])return this[s]();let n=t||this["_"+e];return this._innerSavePiece(n)}_innerSavePiece(e){return e instanceof Array?this._saveArray(e):e&&e.saveData?this._saveModel(e):"object"==typeof e?this._saveObject(e):this._saveSimple(e)}_saveArray(e){let t=[];for(let s of e)t.push(this._innerSavePiece(s));return t}_saveModel(e){return e.saveData()}_saveObject(e){let t={};return n.map(e,(e,s)=>{t[s]=this._innerSavePiece(e)}),t}_saveSimple(e){return e}_setValue(e,t){let s="_"+e,i=this[s];this[s]=t,this._notifyListeners(e,i,t)}_notifyListeners(e,t,s){this._notifyModelListeners(e,t,s),this._notifyPropertyListeners(e,t,s)}_notifyModelListeners(e,t,s){let i=this.__modelListeners;if(i&&0!==i.length)for(let n of i)n&&n(e,s,t)}_notifyPropertyListeners(e,t,s){let i=this.__propertyListeners[e];if(i)for(let e of i)e&&e(s,t)}registerPropertyListener(e,t){this.__propertyListeners[e]||(this.__propertyListeners[e]=[]),this.__propertyListeners[e].push(t)}registerModelListener(e){}unregisterListeners(){this.__propertyListeners={},this.__modelListeners=[]}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(4);t.DataManager=class{constructor(){this._data={},this._populateWithDefaultData()}_populateWithDefaultData(){}_createAndAddDefault(e){this.add(e)}add(e){return!this.contains(e.id)&&(this._data[e.id]=e,!0)}remove(e){if(!this.contains(e))return null;let t=this.get(e);return delete this._data[e],t}contains(e){return!!this._data[e]}clear(){this._data={}}get(e){return this.contains(e)?this._data[e]:null}toArray(){let e=[];return i.map(this._data,t=>{e.push(t)}),e}toDictionary(){let e={};return i.map(this._data,(t,s)=>{e[s]=t}),e}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NONE=0]="NONE",e[e.OPACITY=1]="OPACITY",e[e.SLIDE_LEFT=2]="SLIDE_LEFT",e[e.SLIDE_RIGHT=3]="SLIDE_RIGHT",e[e.SLIDE_UP=4]="SLIDE_UP",e[e.SLIDE_DOWN=5]="SLIDE_DOWN"}(t.INavTransitionType||(t.INavTransitionType={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(7),n=s(0);t.ScriptLoader=class{constructor(e){this._scriptURLFormat=e||"{0}"}loadScript(e){let t=i.format(this._scriptURLFormat,e);n.createElement({type:"script",attr:{src:t},parent:document.head})}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanURL=function(){return window.location.href.replace(window.location.search,"")},t.splitParams=function(){let e=window.location.search.replace("?","").split("&"),t=[];for(let s of e){let e=s.split("="),i={key:e[0],val:e[1]};t.push(i)}return t}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5),n=s(0);class r extends i.Drawable{constructor(){super()}_createElements(){this._elems.base=n.createElement({cls:"kipShield"}),this._elems.shieldContent=n.createElement({cls:"shieldContent",parent:this._elems.base}),this._createShieldDetails()}draw(e){e||(e=document.body),this._showElementTimeout=window.setTimeout(()=>{super.draw(e),this._showElementTimeout=null},200)}erase(){this._showElementTimeout?window.clearTimeout(this._showElementTimeout):super.erase()}}t.Shield=r,r._uncoloredStyles={".kipShield":{position:"fixed",backgroundColor:"rgba(0,0,0,0.6)",width:"100%",height:"100%",left:"0",top:"0",zIndex:"100"},".kipShield .shieldContent":{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(49);class n extends i.TestUI{renderTest(e){let t=this._buildTestString(e);e.pass?console.info(t):console.error(t)}startGroup(e){let t="";for(let s=0;s<e.length+2;s+=1)t+="=";this._currentGroup=e,console.log("\n"+t+"\n "+e+" \n"+t)}startSubgroup(e){let t="";for(let s=0;s<e.length+2;s+=1)t+="-";this._currentSubgroup=e,console.log("\n "+e+" \n"+t)}_buildTestString(e){let t="",s=this._buildValueString(e);return t+=this._passToString(e.pass).toUpperCase(),t+=": ",e.pass||(t+=this._currentGroup?this._currentGroup+" --\x3e ":"",t+=this._currentSubgroup?this._currentSubgroup+" --\x3e ":""),t+=e.name,t+=s?" ["+s+"]":"",t+=e.message?" - "+e.message:"",t}}t.ConsoleUnitTestUI=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5),n=s(0);class r extends i.Drawable{_createElements(){this._elems={base:n.createElement({cls:"tests"}),groups:[]},this._elems.testContainer=n.createElement({cls:"testContainer",parent:this._elems.base})}addVisualButton(e){n.createElement({cls:"visualTestBtn",parent:this._getParentElement(),children:[{content:e.label,cls:"innerBtn"}],eventListeners:{click:()=>{e.callback()}}})}addTestResult(e){let t=this._getParentElement(),s=n.createElement({cls:"test",parent:t,attr:{title:e.value}});n.createElement({cls:e.passStr,content:e.passStr.toUpperCase(),parent:s}),n.createElement({cls:"name",content:e.name,parent:s}),e.pass||(n.createElement({cls:"err",content:e.value,parent:s}),n.createElement({cls:"message",content:e.message,parent:s}))}startGroup(e){let t=n.createElement({cls:"group",parent:this._elems.testContainer});this._elems.groups.push(t),n.createElement({cls:"groupName",parent:t,content:e})}startSubgroup(e){n.createElement({cls:"functionTitle",content:e,parent:this._getParentElement()})}_getParentElement(){return this._elems.groups[this._elems.groups.length-1]||this._elems.testContainer}}t.UI=r,r._uncoloredStyles={".hidden":{display:"none"},".group":{marginBottom:"10px",display:"#666",borderCollapse:"collapse",width:"20%"},".groupName":{fontSize:"1.6em",color:"#666"},".functionTitle":{fontSize:"1.3em",color:"#888",marginLeft:"5px"},".tests":{marginLeft:"50px",fontFamily:"Segoe UI, Calibri, Helvetica"},".tests .testContainer":{display:"flex",flexWrap:"wrap"},".test":{display:"table-row"},".test > div":{border:"solid transparent",borderWidth:"10px",borderRightWidth:"20px",marginRight:"10px",display:"table-cell"},".test .fail":{color:"rgb(190,50,30)",fontWeight:"bold"},".test .pass":{color:"rgb(50,190,30)",fontWeight:"bold",marginRight:"10px",display:"table-cell"},".test .name":{color:"#333",marginRight:"10px",display:"table-cell"},".test .err":{fontStyle:"italic",color:"#666",fontSize:"0.8em"},".test .message":{color:"#888",marginRight:"10px",display:"table-cell"},".visualTestBtn":{color:"#FFF",padding:"2px 10px",borderRadius:"3px",cursor:"pointer",width:"auto",marginBottom:"8px"},".innerBtn":{backgroundColor:"#06C",display:"inline-block",padding:"2px 10px"}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(49),n=s(88);class r extends i.TestUI{constructor(){super(),this._drawable=new n.UI,this._drawable.draw(document.body)}renderTest(e){let t=e;t.value=this._buildValueString(e),t.passStr=this._passToString(e.pass),this._drawable.addTestResult(t)}startGroup(e){this._drawable.startGroup(e)}startSubgroup(e){this._drawable.startSubgroup(e)}addVisualTestButton(e){this._drawable.addVisualButton(e)}}t.HTMLUnitTestUI=r},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(10)),i(s(92)),i(s(93)),i(s(97)),i(s(103)),i(s(109)),i(s(111)),i(s(112)),i(s(115)),i(s(122)),i(s(124)),i(s(127)),i(s(129)),i(s(131)),i(s(134)),i(s(135)),i(s(138)),i(s(140)),i(s(167)),i(s(169)),i(s(171)),i(s(175)),i(s(177)),i(s(179)),i(s(181)),i(s(182)),i(s(183)),i(s(186)),i(s(188)),i(s(191)),i(s(192)),i(s(194)),i(s(195)),i(s(197)),i(s(199)),i(s(201)),i(s(202)),i(s(203)),i(s(205)),i(s(206)),i(s(207)),i(s(212))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wait=function(e){return new Promise(t=>window.setTimeout(t,e))},t.nextRender=function(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(50)),i(s(32))},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(94)),i(s(95)),i(s(96))},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(5),r=s(32),o=s(34),a=s(14),l=s(0),u=s(10),h=s(24);class d extends n.Drawable{constructor(e){super(),this._config=e||{},this._updateFunctions={},this._model={},this._createElements()}get config(){return this._getConfig()}set config(e){this._setConfig(e)}get model(){return this._getModel()}set model(e){this._setModel(e)}get updateFunctions(){return this._updateFunctions}set updateFunctions(e){this._updateFunctions=e}_shouldSkipCreateElements(){return!0}_getModel(){let e=JSON.parse(JSON.stringify(this._model));return window.setTimeout(()=>this._onPotentialModelChange(e),0),this._model}_setModel(e){let t=this._model;this._model=e,window.setTimeout(()=>this._onPotentialModelChange(t),0)}_getConfig(){let e=JSON.parse(JSON.stringify(this._config));return u.wait(0).then(()=>this._onPotentialConfigChange(e)),this._config}_setConfig(e){let t=this._config;this._config=e,u.wait(0).then(()=>this._onPotentialConfigChange(t))}_onPotentialConfigChange(e){}_onPotentialModelChange(e){}_bind(e,t){r.bind(()=>this._model?t?this._model[t]:this._model:"",this._createUpdateFunc(e,t),()=>this._shouldDelete(e))}_createUpdateFunc(e,t){return s=>{this._updateFunctions[t]?this._updateFunctions[t](s,e):this._updateFunctions._?this._updateFunctions._(s,e):o.isHTMLElement(e)?this._updateHtmlElement(e,s):h.isUpdatable(e)?this._updateUpdateable(e,s):this._updateBoundView(e,s)}}_updateHtmlElement(e,t){t||(t=""),e.innerHTML=t.toString()}_updateUpdateable(e,t){e.update(t)}_updateBoundView(e,t){e.model=t}setUpdateFunction(e,t){t&&(this._updateFunctions[e]=t)}_shouldDelete(e){return a.isDrawable(e)?!e.base.parentNode:!e.parentNode}erase(){super.erase()}_createElement(e){let t=l.createCustomElement(e,this._elems,e=>this._createElement(e));return e.boundTo&&this._bindElement(t,e),t}_bindElement(e,t){return i(this,void 0,void 0,(function*(){let s=e;t.key&&t.drawable&&(s=this._elems[t.key]),this._bind(s,t.boundTo)}))}}t.BoundView=d},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUpdateableView=function(e){return!!e.update}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5);class n extends i.Drawable{constructor(...e){super(),this._createElements(...e)}_shouldSkipCreateElements(){return!0}}t.UpdateableView=n},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(9)),i(s(98)),i(s(16)),i(s(52)),i(s(53)),i(s(99)),i(s(100)),i(s(101)),i(s(102))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5),n=s(9),r=s(52),o=s(19),a=s(1),l=s(28);class u extends i.Drawable{constructor(e,t){super(),this._id=e||"canvas",this._layers=[],this._needsInitialDimensions=!0,this._reconcileOptions(t),this._initializeRectangles(),this._createElements(),this._addEventListeners()}get relativeView(){return this._relativeView}get zoomFactor(){return this._zoomFactor}set zoomFactor(e){this._zoomFactor=e}get needsRedraw(){return this._needsRedraw}set needsRedraw(e){this._needsRedraw=e}get canvas(){return this._elems.base}get effectCanvas(){return this._elems.effectCanvas}get context(){return this._context}get effectContext(){return this._effectContext}get layers(){return this._layers}set onPreRender(e){this._onPreRender=e}_reconcileOptions(e){e||(e={});let t=this._createDefaultOptions();this._options=o.reconcileOptions(e,t)}_createDefaultOptions(){return{RENDER_RATE:30,ZOOM_DELTA:()=>({x:.03*this._zoomFactor.x,y:.03*this._zoomFactor.y}),SIZE:{width:600,height:450},MAX_ZOOM:{x:15,y:15},MIN_ZOOM:{x:.1,y:.1}}}_initializeRectangles(){this._absoluteDimensions={x:0,y:0,w:this._options.SIZE.width,h:this._options.SIZE.height},this._relativeView={x:0,y:0,w:this._options.SIZE.width,h:this._options.SIZE.height},this._zoomFactor={x:1,y:1}}_shouldSkipCreateElements(){return!0}_createElements(){this._elems={base:this._createCanvas(),effectCanvas:this._createCanvas(!0)},this._context=this._elems.base.getContext("2d"),this._effectContext=this._elems.effectCanvas.getContext("2d")}_createCanvas(e){let t;t=document.createElement("canvas"),t.setAttribute("width",this._options.SIZE.width.toString()),t.setAttribute("height",this._options.SIZE.height.toString());let s="canvas";return e&&(s+=" effects"),a.addClass(t,s),t}draw(e){super.draw(e),e.appendChild(this._elems.effectCanvas),this._needsRedraw=!0}clear(){this._context.clearRect(0,0,this._options.SIZE.width,this._options.SIZE.height),this._effectContext.clearRect(0,0,this._options.SIZE.width,this._options.SIZE.height)}_drawEachElement(){let e;for(e of(this.clear(),this._layers))e&&(e.updateDimensions(this._relativeView),e.draw())}_renderFrame(){this._needsRedraw&&(this._onPreRender&&this._onPreRender(),this._drawEachElement(),this._needsRedraw=!1),window.requestAnimationFrame(()=>{this._renderFrame()})}addElement(e){this._getOrCreateLayer(e.layer).addElement(e),this._updateAbsoluteDimensionsFromElem(e.dimensions),this._needsRedraw=!0}removeElement(e){let t,s;for(s of this._layers)if(s&&(t=s.removeElement(e),t))break;return t}_updateAbsoluteDimensionsFromElem(e){(this._needsInitialDimensions||e.x<this._absoluteDimensions.x)&&(this._absoluteDimensions.x=e.x),e.x+e.w>this._absoluteDimensions.x+this._absoluteDimensions.w&&(this._absoluteDimensions.w=e.x+e.w-this._absoluteDimensions.x),(this._needsInitialDimensions||e.y<this._absoluteDimensions.y)&&(this._absoluteDimensions.y=e.y),e.y+e.h>this._absoluteDimensions.y+this._absoluteDimensions.h&&(this._absoluteDimensions.h=e.y+e.h-this._absoluteDimensions.y),this._needsInitialDimensions=!1}_getOrCreateLayer(e){let t=this._layers[e];return t||(t=new r.CanvasGroup("layer"+e),this._layers[e]=t,t.canvas=this),t}_onMouseWheel(e){let t=e.deltaY;t=Math.abs(t)/t,this.zoom(t)}zoom(e){let t=this._options.ZOOM_DELTA(),s=this._zoomFactor.x+e*t.x;s=l.normalizeValue(s,this._options.MIN_ZOOM.x,this._options.MAX_ZOOM.x);let i=this._zoomFactor.y+e*t.y;i=l.normalizeValue(i,this._options.MIN_ZOOM.y,this._options.MAX_ZOOM.y);let n=this._options.SIZE,r=l.roundToPlace(n.width*(1/s),10);this._zoomFactor.x=s;let o=l.roundToPlace(n.height*(1/i),10);this._zoomFactor.y=i;let a=r-this._relativeView.w,u=o-this._relativeView.h,h={x:this._relativeView.x-a/2,y:this._relativeView.y-u/2,w:this._relativeView.w+a,h:this._relativeView.h+u};this._relativeView=h,this._needsRedraw=!0}changeView(e){this._relativeView=e}_onDrag(e){if(!e)return;let t=this._calculateNewCornerFromDelta(e);this.pan(t)}_calculateNewCornerFromDelta(e){return{x:this._relativeView.x-e.x/this._zoomFactor.x,y:this._relativeView.y-e.y/this._zoomFactor.y}}pan(e){this._relativeView.x=e.x,this._relativeView.y=e.y,this._needsRedraw=!0}_addEventListeners(){window.addEventListener("mousewheel",e=>{this._onMouseWheel(e)}),window.addEventListener("mousedown",e=>{this._elems.base.style.cursor="-webkit-grabbing",this._startDragPoint={x:e.screenX,y:e.screenY}}),window.addEventListener("mousemove",e=>{this._startDragPoint&&(this._deltaDragPoint={x:e.screenX-this._startDragPoint.x,y:e.screenY-this._startDragPoint.y},this._startDragPoint={x:e.screenX,y:e.screenY},this._onDrag(this._deltaDragPoint))}),window.addEventListener("mouseup",()=>{this._startDragPoint=null,this._deltaDragPoint={x:0,y:0},this._elems.base.style.cursor="-webkit-grab"}),this._elems.base.addEventListener("click",e=>{let t={x:e.pageX,y:e.pageY};this._onClick(e,t)}),this._elems.base.addEventListener("mousemove",e=>{let t={x:e.pageX,y:e.pageY};this._onHover(e,t)}),window.requestAnimationFrame(()=>{this._renderFrame()})}_onClick(e,t){this._handleEvent(n.EventTypeEnum.CLICK,t,e)}_onHover(e,t){this._handleEvent(n.EventTypeEnum.HOVER,t,e)}_handleEvent(e,t,s){let i;for(i of this._layers)i&&i.handleEvent(e,t,s)}convertRelativePointToPhysicalPoint(e){let t,s=this._elems.base.offsetLeft,i=this._elems.base.offsetTop,n=this._elems.base.offsetWidth,r=this._elems.base.offsetHeight;return t={x:(e.x-this._relativeView.x)*n/this._relativeView.w+s,y:(e.y-this._relativeView.y)*r/this._relativeView.h+i},t}convertPhysicalPointToRelativePoint(e){let t,s=this._elems.base.offsetLeft,i=this._elems.base.offsetTop,n=this._elems.base.offsetWidth,r=this._elems.base.offsetHeight;return t={x:(e.x-s)*this._relativeView.w/n+this._relativeView.x,y:(e.y-i)*this._relativeView.h/r+this._relativeView.y},t}convertAbsolutePointToRelativePoint(e){let t;return t={x:l.roundToPlace((e.x-this._relativeView.x)*this._zoomFactor.x,10),y:l.roundToPlace((e.y-this._relativeView.y)*this._zoomFactor.y,10)},t}convertRelativePointToAbsolutePoint(e){let t;return t={x:l.roundToPlace(e.x/this._zoomFactor.x+this._relativeView.x,10),y:l.roundToPlace(e.y/this._zoomFactor.y+this._relativeView.y,10)},t}convertAbsoluteRectToRelativeRect(e){let t={x:e.x,y:e.y},s=this.convertAbsolutePointToRelativePoint(t),i={x:e.x+e.w,y:e.y+e.h},n=this.convertAbsolutePointToRelativePoint(i);return{x:s.x,y:s.y,w:n.x-s.x,h:n.y-s.y}}debugRelativeDimensions(){console.log("CANVAS DIMENSIONS:"),console.log(Math.round(this.relativeView.x)+", "+Math.round(this.relativeView.y)),console.log(Math.round(this.relativeView.w)+" x "+Math.round(this.relativeView.h))}}t.HTML5Canvas=u},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(16),n=s(9),r=s(29),o=s(15);class a extends i.CanvasElement{constructor(e,t,s){let i;super(e),i=r.isNumber(s)?{x:s,y:s}:s,this._dimensions={x:t.x-i.x,y:t.y-i.y,w:2*i.x,h:2*i.y},this._center=t,this._radius=i,this._initializeRects()}get type(){return n.ElementType.Circle}_onDraw(e){e.beginPath(),e.arc(this._displayDimensions.x+this._displayRadius.x,this._displayDimensions.y+this._displayRadius.y,this._displayRadius.x,0,2*Math.PI),e.fill(),this._restoreStyle(e)}updateDimensions(e){super.updateDimensions(e),this._displayRadius={x:this._radius.x*this._canvas.zoomFactor.x,y:this._radius.y*this._canvas.zoomFactor.y}}_debugDimensions(){console.log("CIRCLE:"),console.log("center pt: "+Math.round(this._displayDimensions.x+this._displayRadius.x)+", "+Math.round(this._displayDimensions.y+this._displayRadius.y)),console.log("radius: "+Math.round(this._displayRadius.x)),this._canvas.debugRelativeDimensions()}_cloneForEffect(e){let t={x:this._dimensions.x+this._radius.x,y:this._dimensions.y+this._radius.y},s=o.clonePoint(this._radius);return new a(e,t,s)}_scale(e){this._isEffect&&(super._scale(e),this._radius={x:this._radius.x*e,y:this._radius.y*e})}}t.CircleElement=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(16),n=s(9),r=s(15),o=s(36);class a extends i.CanvasElement{constructor(e,t){super(e),this._initializeRects(),t?(this._points=t,this._updateExtremaFromPoints()):this._points=[]}get type(){return n.ElementType.Path}_initializeRects(){this._dimensions={x:0,y:0,w:0,h:0},super._initializeRects(),this._needsInitialDimensions=!0}addPoint(e){this._points.push(e),this._updateExtremaFromPoint(e)}_updateExtremaFromPoints(){let e;for(e of this._points)this._updateExtremaFromPoint(e)}_updateExtremaFromPoint(e){this._needsInitialDimensions||e.x<this._dimensions.x?this._dimensions.x=e.x:e.x>this._dimensions.x+this._dimensions.w&&(this._dimensions.w=e.x-this._dimensions.x),this._needsInitialDimensions||e.y<this._dimensions.y?this._dimensions.y=e.y:e.y>this._dimensions.y+this._dimensions.h&&(this._dimensions.h=e.y-this._dimensions.y),this._needsInitialDimensions=!1}_onDraw(e){let t;for(t of(e.beginPath(),this._displayPoints))e.lineTo(t.x,t.y);e.closePath(),e.fill()}updateDimensions(e){let t;for(t of(super.updateDimensions(e),this._displayPoints=[],this._points)){let s={x:(t.x-e.x)*this._canvas.zoomFactor.x,y:(t.y-e.y)*this._canvas.zoomFactor.y};this._displayPoints.push(s)}}adjustDimensions(e){if(this._isEffect)return;let t;for(t of(super.adjustDimensions(e),this._points))t.x+=e.x,t.y+=e.y}_cloneForEffect(e){return new a(e,r.clonePointArray(this._points))}_scale(e){if(!this._isEffect)return;let t,s={x:this._dimensions.x+this._dimensions.w/2,y:this._dimensions.y+this._dimensions.h/2},i=[];for(t of this._points){let n=this._scalePoint(t,s,e);i.push(n)}this._points=i,this._updateExtremaFromPoints()}_scalePoint(e,t,s){let i=o.getAngle(t,e),n=o.getDistance(t,e)*s;return o.getEndPoint(t,i,n)}}t.PathElement=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(16),n=s(9),r=s(15);class o extends i.CanvasElement{constructor(e,t){super(e),this._type=n.ElementType.Rectangle,this._borderRadius=0,this._dimensions=t,this._initializeRects()}get type(){return n.ElementType.Rectangle}set borderRadius(e){this._borderRadius=e}_onDraw(e){0===this._borderRadius?this._unroundedRect(e):this._roundedRect(e)}_unroundedRect(e){e.fillRect(this._displayDimensions.x,this._displayDimensions.y,this._displayDimensions.w,this._displayDimensions.h)}_roundedRect(e){e.beginPath();let t=this._displayDimensions,s=this._displayBorderRadius;e.moveTo(t.x+s.x,t.y),e.lineTo(t.x+t.w-s.x,t.y),e.quadraticCurveTo(t.x+t.w,t.y,t.x+t.w,t.y+s.y),e.lineTo(t.x+t.w,t.y+t.h-s.y),e.quadraticCurveTo(t.x+t.w,t.y+t.h,t.x+t.w-s.x,t.y+t.h),e.lineTo(t.x+s.x,t.y+t.h),e.quadraticCurveTo(t.x,t.y+t.h,t.x,t.y+t.h-s.y),e.lineTo(t.x,t.y+s.y),e.quadraticCurveTo(t.x,t.y,t.x+s.x,t.y),e.closePath(),e.fill()}updateDimensions(e){super.updateDimensions(e),this._displayBorderRadius={x:this._borderRadius*this._canvas.zoomFactor.x,y:this._borderRadius*this._canvas.zoomFactor.y}}_cloneForEffect(e){let t=r.cloneRect(this._dimensions);return new o(e,t)}}t.RectangleElement=o},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(16),n=s(9);class r extends i.CanvasElement{constructor(e,t,s){super(e),this._type=n.ElementType.Text,this._text=t,this._dimensions={x:s.x,y:s.y,w:10,h:10},this._initializeRects(),this._addStyleChangeListener()}get type(){return n.ElementType.Text}set text(e){this._text=e}set fixed(e){this._fixed=e}_setCanvas(e){super._setCanvas(e),this._calculateTextMetrics()}_addStyleChangeListener(){this._style.addStyleChangeListener(n.StyleChangeEnum.FONT_SIZE,()=>{this._dimensions.h=this._style.fontSize})}_calculateTextMetrics(){if(!this._canvas)return;let e=this._canvas.context;this._applyStyle(e);let t=e.measureText(this._text);this._restoreStyle(e),this._dimensions.w=t.width,this._dimensions.h=this.style.fontSize,this._displayDimensions.w=t.width,this._displayDimensions.h=this.style.fontSize}_onDraw(e){e.fillText(this._text,this._displayDimensions.x,this._displayDimensions.y+(this._fixed?this._dimensions.h:this._displayDimensions.h)),this._displayDimensions.w=this._dimensions.w,this._displayDimensions.h=this._dimensions.h}_cloneForEffect(e){let t={x:this._dimensions.x,y:this._dimensions.y};return new r(e,this._text,t)}}t.TextElement=r},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(104)),i(s(37)),i(s(38)),i(s(107)),i(s(108))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HUE_INTERVAL=22,t.LIGHT_INTERVAL=20,t.SATURATION_INTERVAL=20,t.SATURATION_LIMITS={max:100,min:20},t.LIGHTNESS_LIMITS={max:80,min:35}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.HUE=1]="HUE",e[e.SATURATION=2]="SATURATION",e[e.LIGHTNESS=3]="LIGHTNESS",e[e.ALPHA=4]="ALPHA"}(t.HSLPiece||(t.HSLPiece={})),function(e){e[e.RED=0]="RED",e[e.GREEN=1]="GREEN",e[e.BLUE=2]="BLUE",e[e.ALPHA=3]="ALPHA"}(t.RGBEnum||(t.RGBEnum={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HUE_INTERVAL=22,t.LIGHT_INTERVAL=20,t.SATURATION_INTERVAL=20,t.SATURATION_LIMITS={max:100,min:20},t.LIGHTNESS_LIMITS={max:80,min:35}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(38),n=s(37);t.GlobalColor=new class{constructor(){this._usedColors={},this._innerColor=new i.HSLColor("hsl(330, 80%, 50%)")}generateColor(e,t){let s=this._usedColors[e]||"";s||(s=this._innerColor.getNextColor(t||n.HSLPieceEnum.HUE));let r=new i.HexColor(s);return e&&(this._usedColors[e]=s),r}getCurrentColor(){return this._innerColor}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(38);t.getApparentColor=function(e,t,s){let n=new i.AnyColor(e,s);return n.getApparentColor(t),n.toHexString()},t.getComplementaryColor=function(e,t){let s;t=t||45;let n=new i.AnyColor(e);return s=n.getLightness(),n.lightness=s<t?95:5,n.generateRgbValues(),n.toRgbaString()},t.hexToRgb=function(e){return new i.HexColor(e).toRgbString()},t.hexToRgba=function(e,t){return new i.HexColor(e,t).toRgbaString()},t.hslToRgb=function(e){return new i.HSLColor(e).toRgbString()},t.hslaToRgba=function(e,t){return new i.HSLColor(e,t).toRgbaString()}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(110))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;t.CustomizableCommand=class{constructor(e,t){this._onExecute=e,this._onUnexecute=t}execute(e){if(this._state===i.EXECUTED)throw new Error("already performed");if(!this._onExecute)throw new Error("no do action");return this._state=i.EXECUTED,this._onExecute(e)}unexecute(e){if(this._state!==i.EXECUTED)throw new Error("not yet performed");if(!this._onUnexecute)throw new Error("no undo action");return this._state=i.REVERSED,this._onUnexecute(e)}},function(e){e[e.ERR=0]="ERR",e[e.EXECUTED=1]="EXECUTED",e[e.REVERSED=2]="REVERSED"}(i=t.CommandState||(t.CommandState={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(17))},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(113)),i(s(114))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.MAIN_COLOR=0]="MAIN_COLOR",e[e.FONT_COLOR=1]="FONT_COLOR",e[e.SUB_MENU_COLOR=2]="SUB_MENU_COLOR",e[e.SUB_MENU_BORDER=3]="SUB_MENU_BORDER",e[e.SUB_SUB_MENU_COLOR=4]="SUB_SUB_MENU_COLOR",e[e.SUB_SUB_MENU_BORDER=5]="SUB_SUB_MENU_BORDER"}(t.ContextMenuColors||(t.ContextMenuColors={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5),n=s(12),r=s(0),o=s(4);class a extends i.Drawable{constructor(e,t,s){super({cls:"ctxMenu"}),this._addClassName("ContextMenu"),this._target=e,this._noStyles=t,this._colors=s||{menuBG:"rgba(40,40,40,1)",menuText:"#FFF",menuOptBG:"rgba(40,40,40,.9)",menuBorder:"#777",menuOptNested:"rgba(40,40,40,.85)",menuBorderNested:"#888",menuSelectedText:"#505050",menuSelectedBorder:"#999"},this._options=new n.Collection,this._createElements(),this._addEventListeners()}get base(){return this._elems.base}addOption(e,t,s){if(this._options.hasElement(e.label))return!1;e.elems||(e.elems={}),e.elems.base||(s||(s=this._elems.option_container),e.elems.base=r.createSimpleElement("","ctxOption",e.label,null,null,s),e.elems.base.onclick=e.callback),this._options.add(e.label,e);let i=!0;for(let s of t)this.addSubOption(e,s)||(i=!1);return!!i}addSubOption(e,t){return!!(e.elems||(this._options.hasElement(e.label)||this.addOption(e),e=this._getOption(e.label)))&&(!!e.elems&&(e.elems.sub_menu||this._buildSubMenu(e),void this.addOption(t,[],e.elems.sub_menu)))}_buildSubMenu(e){e.elems.sub_menu=r.createSimpleElement("","subMenu hidden","",null,null,e.elems.base),e.elems.base.innerHTML+="...",this._noStyles&&(e.elems.sub_menu.style.display="none",e.elems.base.addEventListener("mouseover",()=>{e.elems.sub_menu.style.display="block"}),e.elems.base.addEventListener("mouseout",()=>{e.elems.sub_menu.style.display="none"}))}_getOption(e){if(!e)return null;let t=this._options.getElement(e);return t?t.value:null}removeOption(e){let t,s;return s=this._options.remove(e),!!s&&(t=s.value,!!t.elems.base.parentNode&&(t.elems.base.parentNode.removeChild(t.elems.base),!0))}clearOptions(){let e,t;for(this._options.resetLoop(!0);this._options.hasNext(!0);)t=this._options.getNext(!0),t&&(e=t.value,e.elems.base.parentNode&&e.elems.base.parentNode.removeChild(e.elems.base));this._options.clear()}_addEventListeners(){a._windowListenersAdded||(window.addEventListener("contextmenu",()=>{this._hideExistingMenu()}),window.addEventListener("mousedown",()=>{this._hideExistingMenu()}),a._windowListenersAdded),this._target.addEventListener("contextmenu",e=>{let t,s;return this.erase(),!!e.ctrlKey||(e.stopPropagation(),e.preventDefault(),t=e.clientX,s=e.clientY,this.base.style.left=t+"px",this.base.style.top=s+"px",this.draw(document.body),t+this.base.offsetWidth>window.innerWidth&&(t=window.innerWidth-this.base.offsetWidth),s+this.base.offsetHeight>window.innerHeight&&(s=window.innerHeight-this.base.offsetHeight),this.base.style.left=t+"px",this.base.style.top=s+"px",!1)})}_createElements(){this._elems.option_container=r.createSimpleElement("","optionContainer","",null,null,this.base),this._setThemeColors()}_setThemeColors(){o.map(this._colors,(e,t)=>{this.setThemeColor(t,e)})}_hideExistingMenu(){a._showingMenu&&a._showingMenu.base.parentNode&&a._showingMenu.base.parentNode.removeChild(a._showingMenu.base)}}t.ContextMenu=a,a._uncoloredStyles={".ctxMenu":{backgroundColor:"<menuBG>",color:"<menuText>",fontFamily:"'Calibri Light', Helvetica",boxShadow:"1px 1px 3px 2px rgba(0,0,0,.1)",fontSize:"14px",borderRadius:"4px",paddingTop:"2px",paddingBottom:"2px",width:"10%",position:"absolute"},".ctxMenu .subMenu":{backgroundColor:"<menuOptBG>",width:"100%",top:"-2px",boxShadow:"1px 1px 1px 1px rgba(0,0,0,.1)",left:"calc(100% - 1px)",borderLeft:"1px solid <menuBorder>"},".ctxMenu .subMenu .subMenu":{backgroundColor:"<menuOptNested>",borderLeft:"1px solid <menuBorderNested>"},".ctxMenu .ctxOption":{padding:"4px 10px",cursor:"pointer",position:"relative"},".ctxMenu .ctxOption:hover":{backgroundColor:"<menuSelectedText>",color:"<menuOptBG>",borderLeft:"7px solid <menuSelectedBorder>"}}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(116)),i(s(117)),i(s(119))},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(27)),i(s(12))},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(118)),i(s(58))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(58),n=s(17);t.LinkedList=class{constructor(){this._length=0}get length(){return this._length}add(e){return this.insert(e,this._length)}insert(e,t){if(t<0)return!1;if(t>this._length)return!1;let s=new i.LinkedNode(e),n=this._getNodeAtIdx(t),r=this._getNodeAtIdx(t-1);n?(n.previous=s,s.next=n):this._lastNode=s,r?(r.next=s,s.previous=r):this._firstNode=s,this._length+=1}remove(e){let t=this._getNodeAtIdx(e);return t?(t.previous&&(t.previous.next=t.next),t.next&&(t.next.previous=t.previous),this._lastNode===t&&(this._lastNode=t.previous),this._firstNode===t&&(this._firstNode=t.next),this._length-=1,t.data):null}findAndRemove(e){let t=this.getIndex(e);return-1!==t&&!!this.remove(t)}get(e){let t=this._getNodeAtIdx(e);return t?t.data:null}getIndex(e){let t=0,s=this._firstNode;for(;s;){if(this._isEqual(e,s.data))return t;s=s.next,t+=1}return null}contains(e){return-1!==this.getIndex(e)}_getNodeAtIdx(e){return e<0?null:e>=this._length?null:e<this._length/2?this._getNodeAtIdxForward(e):this._getNodeAtIdxBackward(e)}_isEqual(e,t){return n.isEquatable(e)&&n.isEquatable(t)?e.equals(t):e===t}_getNodeAtIdxForward(e){let t=this._firstNode;for(let s=0;s<e;s+=1)t=t.next;return t}_getNodeAtIdxBackward(e){let t=this._lastNode;for(let s=this._length-1;s>e;s-=1)t=t.previous;return t}}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(59)),i(s(120)),i(s(40)),i(s(121))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(59);class n extends i.BinaryTree{constructor(e){super(null),this._root=new i.BinaryTree(e)}get _data(){return this._root._data}set _data(e){}add(e){for(super.add(e);!this.isBalanced();)this._rebalance()}remove(e){for(super.remove(e);!this.isBalanced();)this._rebalance()}_rebalance(){if(console.log(this.toString()),this._rebalanceSubTree("left"),this._rebalanceSubTree("right"),this.isBalanced())return;this._getSideDepth("left")>this._getSideDepth("right")?this._rotate("left"):this._rotate("right")}_rotate(e){let t=this._subTrees[e],s=this._oppositeSide(e);t._parent=this._parent,this._parent=t,t[s]?(this._subTrees[e]=t[s],this._subTrees[e]._parent=this):delete this._subTrees[e],t[s]=this}_oppositeSide(e){switch(e){case"left":return"right";case"right":return"left";default:return null}}_rebalanceSubTree(e){if(!this._isSubTreeBalanced(e))return this._subTrees[e]._rebalance()}_createSubTree(e){return new n(e)}}t.BalancedBinaryTree=n;class r extends i.BinaryTree{constructor(e){super(null),this._tree=new i.BinaryTree(e)}add(e){this._tree.add(e),console.log(this.toString()),this._tree.isBalanced()||(this._rebalance(this._tree),console.log("After Rebalance: "+this.toString()))}remove(e){this._tree.remove(e),this._tree.isBalanced()||this._rebalance(this._tree)}isBalanced(){return this._tree.isBalanced()}isComplete(){return this._tree.isComplete()}isLeafNode(){return this._tree.isLeafNode()}toString(){return this._tree.toString()}getDepth(){return this._tree.getDepth()}_rebalance(e){if(this._rebalanceSubTree(e,"left"),this._rebalanceSubTree(e,"right"),e.isBalanced())return;e._getSideDepth("left")>e._getSideDepth("right")?this._rotate(e,"left"):this._rotate(e,"right")}_rebalanceSubTree(e,t){if(e._subTrees[t]&&!e._subTrees[t].isBalanced())return this._rebalance(e._subTrees[t])}_rotate(e,t){let s=this._oppositeSide(t),i=e._subTrees[t];if(!i)return;let n=e._parent;n?n._subTrees[e._getRelationToParent()]=i:this._tree=i,i._parent=n,e._parent=i,i._subTrees[s]?(e._subTrees[t]=i._subTrees[s],e._subTrees[t]._parent=e):delete e._subTrees[t],i._subTrees[s]=e}_oppositeSide(e){switch(e){case"left":return"right";case"right":return"left";default:return null}}}t.SelfBalancingBinaryTree=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(7),n=s(40);class r extends n.Tree{add(e){0===e.length?this._handleTerminatingWord():this._handleNonTerminatingWord(e)}_handleTerminatingWord(){this._terminates=!0}_handleNonTerminatingWord(e){let t=this._splitWord(e);this._subTrees[t.firstChar]||(this._subTrees[t.firstChar]=new r(t.firstChar)),this._subTrees[t.firstChar].add(t.restOfWord)}remove(e){if(0===e.length)this._terminates=!1;else{let t=this._splitWord(e);if(!this._subTrees[t.firstChar])return;this._subTrees[t.firstChar].remove(t.restOfWord)}}exists(e){if(0===e.length)return this._terminates;let t=this._splitWord(e);return!!this._subTrees[t.firstChar]&&this._subTrees[t.firstChar].exists(t.restOfWord)}_splitWord(e){return{firstChar:e.charAt(0),restOfWord:i.rest(e,1)}}}t.Trie=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(123))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(4);function n(e,t,s){if(t||(t=""),"string"==typeof e||"number"==typeof e||"boolean"==typeof e||e instanceof Date||e instanceof Function)return e.toString();let r=s?"<br>":"\n",o=s?"&nbsp;&nbsp;&nbsp;&nbsp;":"\t",a="";return a+="{",i.map(e,(e,i)=>{a+=r+o+t+i+" : "+n(e,t+o,s)}),a+=r+t+"}\n",a}t.IS_DEBUG=!1,t.printObject=function(e){let t=n(e);console.log(t)},t.getObjectString=n,t.printCallStack=function(){console.log((new Error).stack)},t.debugPoint=function(e){e.z?console.log("3D POINT: ("+e.x+", "+e.y+", "+e.z+")"):console.log("2D POINT: ("+e.x+", "+e.y+")")}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(125)),i(s(60)),i(s(41)),i(s(126)),i(s(61)),i(s(62))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DragEnter=0]="DragEnter",e[e.DragLeave=1]="DragLeave",e[e.Drop=2]="Drop",e[e.Move=3]="Move"}(t.DraggableFunctions||(t.DraggableFunctions={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(61);t.makeDraggable=function(e,t){let s=new i.ExistingHTML5Draggable(e,t.target);return s.overrideFunctions(t),s.gridSize=t.gridSize||1,s.base}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(14)),i(s(5)),i(s(128))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5);class n extends i.Drawable{constructor(e){super(e)}_createElements(){}}t.SimpleDrawable=n},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(63)),i(s(130))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5),n=s(12),r=s(63),o=s(27),a=s(0),l=s(1),u=s(13);class h extends i.Drawable{constructor(){super(),this._availableOptions=new n.Collection,this._availableOptions.addType=o.CollectionTypeEnum.ReplaceDuplicateKeys}get value(){return this._value}_createElements(){this._elems={},this._elems.base=a.createElement({cls:"dynamicSelect"}),this._elems.input=a.createElement({type:"input",parent:this._elems.base,eventListeners:{input:e=>{this._onQueryTextChange(e)},keydown:e=>{this._onKeyEvent(e)},blur:e=>{this._onBlur(e)},focus:e=>{this._onFocus(e)}}}),this._elems.clearBtn=a.createElement({cls:"clearBtn",content:"x",parent:this._elems.base,eventListeners:{click:()=>{this._elems.input.value=""}}}),this._elems.drawer=a.createElement({cls:"drawer collapsed",parent:this._elems.base}),this._elems.innerOptions=a.createElement({cls:"innerOptions",parent:this._elems.drawer}),this._elems.loadingIcon=a.createElement({cls:"hidden loading",parent:this._elems.drawer})}_expandDrawer(){l.removeClass(this._elems.drawer,"collapsed"),u.transition(this._elems.drawer,{height:"0",opacity:"0"},{height:"<height>",opacity:"1"},300)}_collapseDrawer(){u.transition(this._elems.drawer,{height:"<height>",opacity:"1"},{height:"0",opacity:"0"},300).then(()=>{l.addClass(this._elems.drawer,"collapsed")})}addOption(e){let t=new r.DynamicOption(e,this);-1!==this._availableOptions.add(t.id,t)&&(this._updateFiltering(this._elems.input.value),this._elems.innerOptions.appendChild(t.base))}addOptions(e){let t;for(t of e)this.addOption(t)}addEventListener(e,t){switch(e){case"select":this._selectListeners||(this._selectListeners=[]),this._selectListeners.push(t);break;case"search":this._searchListeners||(this._searchListeners=[]),this._searchListeners.push(t);break;case"change":this._changeListeners||(this._changeListeners=[]),this._changeListeners.push(t);break;default:super.addEventListener(e,t)}}_notifyChangeListeners(){let e;if(this._changeListeners)for(e of this._changeListeners)e&&e(this._elems.input.value)}_notifySelectListeners(e){let t;if(this._selectListeners)for(t of this._selectListeners)t&&t(e)}_notifySearchListeners(e){let t;if(this._searchListeners)for(t of this._searchListeners)t&&t(e)}_onQueryTextChange(e){let t=this._elems.input.value;this._updateFiltering(t),this._notifyChangeListeners(),this._query(t)}_onKeyEvent(e){let t,s=!1;switch(e.keyCode){case 13:t=this._availableOptions.getCurrent(),t?this.select(t.value):this.search(this._elems.input.value);break;case 38:for(t=this._availableOptions.getCurrent();!1===s&&this._availableOptions.hasNext(!0);){s=this._availableOptions.getNext(!0).value.hilite()}s&&t&&t.value.unhilite();break;case 40:for(t=this._availableOptions.getCurrent();!1===s&&this._availableOptions.hasNext();){s=this._availableOptions.getNext().value.hilite()}s&&t&&t.value.unhilite()}}_onBlur(e){this._collapseDrawer()}_onFocus(e){this._expandDrawer(),this._availableOptions.resetLoop()}select(e){this._collapseDrawer(),this._elems.input.value=e.display,this._value=e.id,this._elems.input.blur(),this._notifySelectListeners(e)}search(e){this._collapseDrawer(),this._elems.input.value=e,this._elems.input.blur(),this._notifySearchListeners(e)}_updateFiltering(e){let t=e.toLowerCase().split(" ");this._availableOptions.map(e=>{e.tryFilter(t)})}_query(e){e!==this._currentQuery&&(this._isQuerying?this._nextQuery=e:e&&(this._currentQuery=e,this._isQuerying=!0,l.removeClass(this._elems.loadingIcon,"hidden"),this._onQuery(e).then(()=>{this._currentQuery="",this._isQuerying=!1,l.addClass(this._elems.loadingIcon,"hidden"),this._nextQuery&&(this._query(this._nextQuery),this._nextQuery="")})))}clear(){this._elems.input.value="",this._updateFiltering(""),this._notifyChangeListeners()}}t.DynamicSelect=h,h._uncoloredStyles={"@keyframes rotate":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},".dynamicSelect":{position:"relative",fontFamily:"Segoe UI, Open Sans, Helvetica",nested:{input:{position:"relative",fontSize:"2em",zIndex:"3"},".clearBtn":{color:"#555",transition:"all ease-in-out .1s",position:"absolute",left:"calc(100% - 25px)",top:"0",width:"20px",height:"20px",fontSize:"20px",cursor:"pointer",transformOrigin:"50% 100%",nested:{"&:hover":{transform:"scale(1.1)"}}},".drawer":{boxShadow:"1px 1px 5px 2px rgba(0,0,0,.2)",color:"<0>",backgroundColor:"#FFF",minWidth:"200px",maxHeight:"300px",overflowY:"auto",position:"absolute",left:"0",top:"3em",display:"inline-block",zIndex:"2",nested:{".loading":{borderRadius:"100%",border:"2px transparent solid",borderTop:"2px #333 solid",animation:"rotate 1s linear infinite",width:"20px",height:"20px",marginLeft:"auto",marginRight:"auto",transition:"height ease-in-out .1s",padding:"5px",nested:{"&.hidden":{display:"none"}}},"&.collapsed":{maxHeight:"0",overflow:"hidden",opacity:"0"}}}}}}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(132)),i(s(133))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(64);t.isEditable=function(e){return i.isNamedClass(e,"Editable")}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5),n=s(1),r=s(0),o=s(30);class a extends i.Drawable{constructor(e){e||(e={}),e.cls=(e.cls||"")+" editable",e.isMultiline&&(e.cls+=" multiline"),super(e),this._addClassName("Editable"),this.type=e.inputType,this._value=e.value,this._defaultValue=e.defaultValue,this._isMultiline=e.isMultiline,this._addHandlers(e),this._isModifying=!1,this._createElements(),this._addListeners(),this.setThemeColor("editableLightBG",e.lightBg||"rgba(0,0,0,.1)")}get value(){return this._value}set value(e){this._value=e,this._elems.input.value=this.format(e)}_addHandlers(e){this.onValidate=e.onValidate,this.onUpdate=e.onUpdate,this.format=e.onFormat,this.parseContent=e.onParseContent,this._addDefaultFormatHandlers()}_addDefaultFormatHandlers(){this.format||this._addDefaultFormatHandler(),this.parseContent||this._addDefaultParseHandler()}_addDefaultParseHandler(){this.parseContent=function(e){return e}}_addDefaultFormatHandler(){this.format=function(e,t){if(!e){let e="";return t||(e=this._defaultValue||""),e}return e.toString()}}_shouldSkipCreateElements(){return!0}_createElements(){this._elems.base;this._elems.display=r.createElement({cls:"display unselectable",parent:this._elems.base,focusable:!0}),this._elems.input=r.createElement({type:"input",cls:"input hidden",content:"",attr:{type:this.type},parent:this._elems.base}),this._renderDisplayView()}_addListeners(){this._elems.display.addEventListener("click",e=>{this._handleFocusEvent(e)}),this._elems.display.addEventListener("focus",e=>{this._handleFocusEvent(e)}),this._elems.input.addEventListener("keypress",e=>{13===e.keyCode&&(this._isModifying&&!e.shiftKey?(this._save(),e.preventDefault()):this._isMultiline&&e.shiftKey||(e.stopPropagation(),e.preventDefault()))}),this._elems.input.addEventListener("blur",()=>{this._isModifying&&this._save()})}_handleFocusEvent(e){this._isModifying||this.modify()}_save(){let e,t=this._elems.input.value;return e=this._validate(t),e.passed?this._onValidationPassed(t):this._onValidationFailed(e.allowLeave)}_validate(e){let t;return t=this.onValidate?this.onValidate(e):{passed:!0},t}_onValidationFailed(e){return n.addClass(this._elems.input,"error"),e||(o.select(this._elems.input),this._elems.input.focus()),!1}_onValidationPassed(e){return n.removeClass(this._elems.input,"error"),this._value=this.parseContent(e),this.onUpdate&&this.onUpdate(this.value),this._hideElement(this._elems.input),this._showElement(this._elems.display),this._isModifying=!1,this._renderDisplayView(),!0}modify(){if(this._isModifying)return!1;this._isModifying=!0,this._elems.input.value=this.format(this.value,!0);let e=this._elems.display.offsetWidth;return this._elems.input.style.width=e-6+"px",this._hideElement(this._elems.display),this._showElement(this._elems.input),window.setTimeout(()=>o.select(this._elems.input),100),this._elems.input.focus(),!0}focus(){this._handleFocusEvent()}_hideElement(e){n.addClass(e,"hidden")}_showElement(e){n.removeClass(e,"hidden")}_renderDisplayView(){this._elems.display.innerHTML=this.format(this._value)}}t.Editable=a,a._uncoloredStyles={".unselectable":{userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",khtmlUserSelect:"none",oUserSelect:"none"},".editable":{fontFamily:"Open Sans, Segoe UI, Helvetica",fontSize:"1em",cursor:"pointer",nested:{input:{fontFamily:"Open Sans, Segoe UI, Helvetica",fontSize:"1em",backgroundColor:"<editableLightBG>",border:"2px solid #AAA",minWidth:"150px",whiteSpace:"nowrap",nested:{"&:focus":{border:"2px dotted rgba(0,0,0,.4)",outline:"none"},"&.error":{borderColor:"#C30"}}},"&.multiline .input":{whiteSpace:"auto"},".display":{border:"2px solid transparent",nested:{"&:hover":{backgroundColor:"<editableLightBG>"}}},".hidden":{display:"none"}}}}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(65)),i(s(66)),i(s(67))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(136))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(137))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5),n=s(0),r=s(42);class o extends i.Drawable{constructor(e,t){super(),this._clientId=e,this._domain=t,this._loginListeners=[],this._logoutListeners=[],this._createElements()}get isLoggedIn(){return this._isLoggedIn}set isLoggedIn(e){this._isLoggedIn=e}_shouldSkipCreateElements(){return!0}_createElements(){gapi.load("auth2",()=>{gapi.auth2.init({client_id:this._clientId,hd:this._domain||"gmail.com"}).currentUser.listen(e=>{e.getBasicProfile()})}),this._elems.base=n.createElement({id:"elgoog",cls:"g-signin2"}),window.setTimeout(()=>{gapi.signin2.render("elgoog",{scope:"profile email",longtitle:!1,theme:"light",onsuccess:e=>{this._onSignIn(e)},onfailure:()=>{console.log("error occurred")}})},10)}_onSignIn(e){let t=e.getBasicProfile();if(this._googleProfile&&t.getId()===this._googleProfile.getId())return;this._googleProfile=t;let s=e.getAuthResponse().id_token;this._login(s,()=>{this._onSignedIn()},()=>{this._onSignInFailure()}),window.addEventListener("beforeunload",()=>{this.signOut()})}_onSignedIn(){this._isLoggedIn=!0;for(let e of this._loginListeners)e&&e()}_onSignInFailure(){new r.ErrorPopup("We couldn't log you in securely. Are you supposed to be here?").draw(document.body),this.signOut()}signOut(){gapi.auth2.getAuthInstance().signOut().then(()=>{this._googleProfile=null,this._logout()})}addLoginListener(e){this._loginListeners.push(e)}addLogoutListener(e){this._logoutListeners.push(e)}}t.GoogleLoginButton=o},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(139))},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(){this._DEFAULT_SIZE=104857600}save(e,t,s){return i(this,void 0,void 0,(function*(){let i=yield this._getFileSystem(),n=yield this._getDirectoryEntry(i,s,!0),r=yield this._createFile(n,e),o=yield this._getFileWriter(r);return yield this._writeFile(o,r,t)}))}load(e,t){return i(this,void 0,void 0,(function*(){let s=yield this._getFileSystem(),i=yield this._getDirectoryEntry(s,t,!1),n=yield this._getFileEntry(i,e),r=yield this._getFile(n);return this._readFile(r)}))}deleteLocalFile(e,t){return i(this,void 0,void 0,(function*(){let s=yield this._getFileSystem(),i=yield this._getDirectoryEntry(s,e,!1),n=yield this._getFileEntry(i,t);return this._deleteFile(n)}))}createDirectory(e){return i(this,void 0,void 0,(function*(){let t=yield this._getFileSystem();return!!(yield this._getDirectoryEntry(t,e,!0))}))}getDirectory(e){return i(this,void 0,void 0,(function*(){let t=yield this._getFileSystem();return yield this._getDirectoryEntry(t,e)}))}getDirectoryContents(e,t){return i(this,void 0,void 0,(function*(){let s=yield this._getFileSystem(),i=yield this._getDirectoryEntry(s,e,t);return yield this._readDirectoryContents(i)}))}_getFileSystem(e,t){return i(this,void 0,void 0,(function*(){if(this._fileSystem&&!e)return Promise.resolve(this._fileSystem);if(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,!requestFileSystem)return Promise.reject("browser doesn't support file system");e||(e=this._DEFAULT_SIZE),t||(t=PERSISTENT),this._fileSystemType=t;let s=yield this._requestQuota(e);return yield this._requestFileSystem(t,s)}))}_requestQuota(e){return new Promise((t,s)=>{try{window.webkitStorageInfo.requestQuota(PERSISTENT,e,e=>{t(e)},e=>{this._handleError(e,s)})}catch(s){t(e)}})}_requestFileSystem(e,t){return new Promise((s,i)=>{requestFileSystem(e,t,e=>{this._fileSystem=e,s(this._fileSystem)},e=>{this._handleError(e,i)})})}_createFile(e,t){return i(this,void 0,void 0,(function*(){return yield this._getFileEntry(e,t,!0)}))}_getFileWriter(e){return new Promise((t,s)=>{e.createWriter(e=>{t(e)},e=>{this._handleError(e,s)})})}_writeFile(e,t,s,i){return new Promise((t,n)=>{e.onwriteend=()=>{0===e.length?(e.seek(0),e.write(s)):t(!0)},e.onerror=e=>{this._handleError(e,n)},i?(e.seek(e.length),e.write(s)):e.truncate(0)})}_getFileEntry(e,t,s){return new Promise((i,n)=>{e.getFile(t,{create:s,exclusive:!1},e=>{i(e)},e=>{this._handleError(e,n)})})}_getFile(e){return new Promise((t,s)=>{e.file(e=>{t(e)},e=>{this._handleError(e,s)})})}_readFile(e){return new Promise((t,s)=>{let i=new FileReader;i.onloadend=e=>{t(i.result)},i.onerror=e=>{this._handleError(e,s)},i.readAsText(e)})}_getDirectoryEntry(e,t,s){return i(this,void 0,void 0,(function*(){t=function(e){let t=0;for(;-1!==e.indexOf("..");)if(e=(e=(e=e.replace(/\.\./g,"")).replace(/\/\//g,"/")).replace(/\\\\/g,"\\"),t+=1,t>1e3)return"";return e}(t);let i=yield this._getFileSystemRoot(e),n=this._splitDirectoryPathPieces(t);for(let e of n)e&&(i=yield this._getSubDirectory(i,e,s));return i}))}_getFileSystemRoot(e){return new Promise((t,s)=>{e||s("No filesystem"),t(e.root)})}_splitDirectoryPathPieces(e){return e?e.split(/[\/\\]/g):[]}_getSubDirectory(e,t,s){return new Promise((i,n)=>{e.getDirectory(t,{create:s},e=>{i(e)},e=>{n(e)})})}_readDirectoryContents(e){return new Promise((t,s)=>{e.createReader().readEntries(e=>{t(e)},e=>{this._handleError(e,s)})})}_deleteFile(e){return new Promise((t,s)=>{e.remove(()=>{t(!0)},e=>{this._handleError(e,s)})})}_handleError(e,t){console.error(e),t&&t(e)}}t._FileStorage=n,t.FileStorage=new n},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(2)),i(s(21)),i(s(8)),i(s(3)),i(s(141)),i(s(144)),i(s(146)),i(s(149)),i(s(154))},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(43)),i(s(142)),i(s(72)),i(s(143))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(72),n=s(0);class r extends i.MultiSelectButtonField{constructor(e,t){super(e,t),r._instances.push(this)}static set options(e){if(!this._options){this._options=e;for(let e of this._instances)e._createAvailableOptions()}}get _defaultCls(){return"toggleBtns expandable"}get _addBtnLabel(){return"+ Add"}_createClonedElement(e){return new this.constructor(this._id+e,this.template)}_getValueFromField(){return this._data}_onCreateElements(){this._elems.base=n.createElement({cls:"optElement"}),this._createAvailableOptions(),this._createInput()}_createAvailableOptions(){if(this._elems.opts?(this._elems.opts.innerHTML="",this._buttons=[]):this._elems.opts=n.createElement({cls:"opts",parent:this._elems.base}),this.constructor._options)for(let e of this.constructor._options){let t=this._createAvailableOption(e);this._elems.opts.appendChild(t)}}_createAvailableOption(e){return this._createOptionElement(e)}_createInput(){let e=n.createElement({cls:"addOptWrapper",parent:this._elems.base});this._addInputField(e),this._addAddButton(e)}_addInputField(e){this._showInputField&&(this._elems.input=n.createElement({cls:"addOpt",type:"input",parent:e,eventListeners:{keydown:e=>{13===e.keyCode&&(this._addNewOption(this._elems.input.value),this._clearInputField())}}}))}_addAddButton(e){this._elems.addBtn=n.createElement({cls:"addBtn",content:this._addBtnLabel,parent:e,attr:{tabindex:"0"},eventListeners:{click:()=>{this._addNewOption(this._elems.input.value),this._clearInputField()},keydown:e=>{13===e.keyCode&&(this._addNewOption(this._elems.input.value),this._clearInputField(),this._elems.input.focus())}}})}_clearInputField(){this._elems.input&&(this._elems.input.value="")}_addNewOption(e){if(e&&this._doesElementAlreadyExist(e))return;let t=this._createNewOption(e),s=this._createAvailableOption(t);this._elems.opts.appendChild(s),this._selectBtn(s,t.value)}update(e,t){this._createAvailableOptions(),super.update(e,t)}}t.ExpandableButtonField=r,r._instances=[],r._uncoloredStyles={".optElement":{whiteSpace:"nowrap",marginTop:"10px",nested:{".opts":{display:"flex",flexGrow:"1",flexWrap:"wrap",width:"100%",nested:{".toggleBtn":{width:"auto"}}},".addOptWrapper":{display:"flex",maxWidth:"300px",fontSize:"1em",marginTop:"10px",nested:{".addOpt":{flexGrow:"1"},".addBtn":{backgroundColor:"<formTheme>",color:"#FFF",padding:"2px 10px",cursor:"pointer",width:"auto",display:"inline-block",whiteSpace:"nowrap",marginLeft:"10px",transition:"all ease-in-out .2",flexShrink:"0",borderRadius:"30px",nested:{"&:hover":{transform:"scale(1.05)"}}}}}}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(43),n=s(1);class r extends i.ToggleButtonField{get _defaultValue(){return null}get _multiSelect(){return!1}_selectBtn(e,t){if(e){if(this._selectedBtn&&n.removeClass(this._selectedBtn,"selected"),this._selectedBtn===e)return this._data=this._defaultValue,void(this._selectedBtn=null);this._data=t,this._selectedBtn=e,n.addClass(e,"selected")}}_createClonedElement(e){return new r(this._id+e,this)}_shouldBeSelected(e){return this._data===e.value}clear(){this._selectedBtn&&(n.removeClass(this._selectedBtn,"selected"),this._selectedBtn=null),this._data=this._defaultValue}}t.SingleSelectButtonField=r},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(44)),i(s(73)),i(s(31)),i(s(74)),i(s(145)),i(s(45))},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(2),r=s(31),o=s(3),a=s(8),l=s(4),u=s(6),h=s(0),d=s(74),c=s(30),_=s(21),p=s(44),m=s(73);class f extends r.CollapsibleField{constructor(e,t,s){super(e,t),a.isField(t)?this._childTemplate=t.childTemplate:this._childTemplate=s,this._children=[]}get _type(){return n.FieldTypeEnum.ARRAY}get _defaultValue(){return[]}get _defaultCls(){return"array"}get childTemplate(){return this._childTemplate}_getUncoloredStyles(){return this._mergeThemes(f._uncoloredStyles,r.CollapsibleField._uncoloredStyles,o.Field._uncoloredStyles)}setThemeColor(e,t,s){super.setThemeColor(e,t),this._children&&0!==this._children.length||(a.isField(this._childTemplate)?this._childTemplate.setThemeColor(e,t,s):l.map(this._childTemplate,i=>{i.setThemeColor(e,t,s)})),l.map(this._children,i=>{i.setThemeColor(e,t,s)})}_parseFieldTemplate(e){super._parseFieldTemplate(e),this._newLabel=e.newLabel||"+ Add New Element",this._allowReordering=e.allowReordering,u.isNullOrUndefined(this._allowReordering)&&(e.allowReordering=!0)}_onCreateElements(){this._createCollapsibleTitle(),this._elems.childrenContainer=h.createElement({cls:"formChildren",parent:this._elems.base}),this._createNewButton(),this._createStyles()}_createNewButton(){this._elems.newButton=h.createElement({cls:"arrayChild new",content:this._newLabel,parent:this._elems.childrenContainer,eventListeners:{click:()=>{this._createNewChild()}}})}_createClonedElement(e){return new f(this._id+e,this)}_getValueFromField(){return this._data}update(e,t){this.clear(),e&&e.map(e=>{this._createNewChild().update(e,t)})}_createNewChild(){let e=this._generateChildElement();return this._addNewChildListeners(e),this._finalizeNewChild(e),e}_generateChildElement(){let e,t=this._children.length;return e=m.isArrayChildElement(this._childTemplate)?this._cloneFormElement(this._childTemplate,this._id+"|"+t.toString()):new d.ArrayChildField(this._id+"|"+t.toString(),this._childTemplate,{allowReordering:this._allowReordering}),e}_finalizeNewChild(e){this._applyColors(e),this._children.push(e),c.removeElement(this._elems.newButton),e.draw(this._elems.childrenContainer),this._elems.childrenContainer.appendChild(this._elems.newButton),window.setTimeout(()=>{e.focus()},300)}_addNewChildListeners(e){e.addOrderingListener(this),_.formEventHandler.addEventListener(_.FORM_ELEM_CHANGE,{func:t=>{t.context.key===e.id&&window.setTimeout(()=>{this._updateInternalData(!0),this._dispatchChangeEvent(e.id)},0)},uniqueId:this.id+"|"+e.id,target:e})}_updateInternalData(e){return i(this,void 0,void 0,(function*(){let t=[],s=[];for(let i of this._children)s.push(this._updateInternalField(i,t,e));return yield Promise.all(s),t}))}_updateInternalField(e,t,s){return i(this,void 0,void 0,(function*(){if(u.isNullOrUndefined(e))return Promise.resolve();let i=yield e.save(s);if(u.isNullOrUndefined(i))return Promise.resolve();t.push(i)}))}save(e){return i(this,void 0,void 0,(function*(){return this._data=yield this._updateInternalData(e),this._data}))}canSave(){let e={hasErrors:!1,hasMissingRequired:!1};return l.map(this._children,t=>{let s=t.canSave();e.hasErrors=e.hasErrors||s.hasErrors,e.hasMissingRequired=e.hasMissingRequired||s.hasMissingRequired},()=>e.hasErrors&&e.hasMissingRequired),e}clear(){this._elems.childrenContainer.innerHTML="",this._children=[]}onChangeOrder(e,t,s){let i;for(let t=0;t<this._children.length;t+=1)this._children[t]===e&&(i=t);let n=u.isNullOrUndefined(s)?i+t:s;n<0&&(n=0),n>=this._children.length&&(n=this._children.length-1),this._children.splice(i,1),this._children.splice(n,0,e);let r=this._elems.childrenContainer.children[i],o=this._elems.childrenContainer.children[n+(t===p.DirectionType.FORWARD?1:0)];this._elems.childrenContainer.removeChild(r),o?this._elems.childrenContainer.insertBefore(r,o):this._elems.childrenContainer.appendChild(r)}focus(){if(!this._children)return!1;for(let e of this._children)if(e&&e.focus())return!0;return!1}getField(e){if(e===this._id)return this;let t;for(let s of this._children){if(t)break;t=s.getField(e)}return t}}t.ArrayField=f,f._uncoloredStyles={".kipFormElem.array":{nested:{"> .formChildren":{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridColumnGap:"10px",gridRowGap:"10px"},".array .formChildren":{gridTemplateColumns:"100%"},"&.collapsed":{nested:{".kipBtn.new":{display:"none"}}},".arrayChild.new":{border:"1px dashed <formSubTheme>",cursor:"pointer",opacity:"0.5",backgroundColor:"#FFF",fontSize:"1.3em",display:"flex",justifyContent:"center",alignItems:"center",color:"<formSubTheme>",userSelect:"none",webkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",nested:{".mobile &":{width:"calc(100% - 20px)"},"&:hover":{opacity:"1"}}}}}}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(75)),i(s(147)),i(s(148))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),n=s(2),r=s(8);class o extends i.Field{get _type(){return n.FieldTypeEnum.FILE_UPLOAD}get _defaultCls(){return"file"}get _defaultValue(){return null}_parseFieldTemplate(e){super._parseFieldTemplate(e),this._attr=e.attr}_onCreateElements(){this._createStandardLabel(this._elems.base),this._elems.input=r.createInputElement("","","file",this._data,null,null,this._elems.base)}_getValueFromField(){return this._elems.input.files}_createClonedElement(e){return new o(this.id+e,this)}}t.FileUploadField=o},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(75),r=s(0),o=s(6),a=s(8);class l extends n.FilePathField{get _defaultCls(){return"photopath"}_onCreateElements(){this._elems.photoWrapper=r.createSimpleElement("","photoWrapper","",null,null,this._elems.base),this._elems.display=r.createElement({type:"img",cls:"photo",attr:{src:this._data},parent:this._elems.photoWrapper}),this._elems.overlay=r.createSimpleElement("","photoOverlay","",null,null,this._elems.photoWrapper),this._elems.linkBtn=r.createSimpleElement("","photoBtn link","CHANGE LINK",null,null,this._elems.overlay),this._elems.linkBtn.addEventListener("click",()=>{let e=window.prompt("What should the link be set to?",this._data);e!==this._data&&(o.isNullOrUndefined(e)||(this._tempLink=e,this._changeEventFired()))}),this._elems.input=a.createInputElement(this._id+"|input","photoInput","file","",null,null,this._elems.overlay),this._elems.uploadBtn=a.createLabelForInput("UPLOAD",this._id+"|input","photoBtn upload",this._elems.overlay),this._elems.input.addEventListener("change",()=>{this._changeEventFired(),this._onFileSelected()})}_createClonedElement(e){return new l(this.id+e,this._config)}update(e,t){this._files=null,e||(e=""),this._data=e,this._elems.display.src=e}_onFileSelected(){let e;this._files&&(e=this._files[0],e&&this._readFile(e).then(e=>{this._elems.display.src=e}))}_onLinkChange(){let e=super._onLinkChange();return this._elems.display.src=e,e}clear(){this._data="",this._elems.display.src=""}save(e){return i(this,void 0,void 0,(function*(){if(!e){if(this._files&&this._onSaveCallback){let e=yield this._resizeImages(this._files);this._data=yield this._onSaveCallback(this._files,e)}return this._data}}))}_readFile(e,t){return i(this,void 0,void 0,(function*(){let t=new FileReader;return t.readAsDataURL(e),new Promise(e=>{t.onload=()=>{e(t.result)}})}))}_loadImage(e){return i(this,void 0,void 0,(function*(){let t=new Image;return t.src=e,new Promise(e=>{t.onload=()=>{e(t)}})}))}_renderOnCanvas(e){return i(this,void 0,void 0,(function*(){let t=r.createElement({type:"canvas"});return t.width=this._config.maxSize,t.height=this._config.maxSize,e.width>e.height?t.height=e.height*this._config.maxSize/e.width:e.height>e.width&&(t.width=e.width*this._config.maxSize/e.height),t.getContext("2d").drawImage(e,0,0,t.width,t.height),new Promise(e=>{t.toBlob(t=>{e(t)})})}))}_resizeImages(e){return i(this,void 0,void 0,(function*(){if(!this._config.maxSize)return Promise.resolve([]);let t=[];for(let s=0;s<e.length;s+=1){let i=yield this._resizeImage(e[s],t);t.push(i)}return t}))}_resizeImage(e,t){return i(this,void 0,void 0,(function*(){let t=yield this._readFile(e),s=yield this._loadImage(t);return yield this._renderOnCanvas(s)}))}}t.PhotoPathField=l,l._uncoloredStyles={".kipFormElem.photopath .photoOverlay":{backgroundColor:"rgba(0,0,0,.5)",opacity:"0",transition:".1s opacity ease-in-out",position:"absolute",display:"flex",flexDirection:"column",cursor:"pointer",width:"100%",height:"100%",left:"0",top:"0",justifyContent:"center",alignItems:"center",borderRadius:"100%"},".kipFormElem.photopath .photoWrapper:hover .photoOverlay":{opacity:"1"},".kipFormElem.photopath .photoWrapper":{width:"100px",height:"100px",borderRadius:"50px",border:"1px solid <formTheme>",overflow:"hidden",position:"relative"},".kipFormElem.photopath .photoWrapper img":{width:"100%"},".kipFormElem.photopath .photoWrapper .photoBtn":{width:"100%",backgroundColor:"<formTheme>",color:"#FFF",textAlign:"center",fontSize:"0.7em",cursor:"pointer",marginTop:"6px",opacity:"0.8"},".kipFormElem.photopath .photoWrapper .photoBtn:hover":{opacity:"1"},".kipFormElem.photopath .photoWrapper input[type='file']":{display:"none"}}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(22)),i(s(150)),i(s(151)),i(s(152)),i(s(153))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(22);class n extends i._Form{}t.EmbeddedForm=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(22),n=s(1);class r extends i._Form{_getUncoloredStyles(){return this._mergeThemes(r._uncoloredStyles,i._Form._uncoloredStyles)}_createBase(){let e=super._createBase();return n.addClass(e,"fullscreen"),e}}t.FullScreenForm=r,r._uncoloredStyles={".kipForm.fullscreen":{position:"fixed",left:"0",top:"0",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"<formBackgroundTheme>",nested:{".background":{maxWidth:"1000px",backgroundColor:"#FFF",height:"100%",padding:"15px",boxSizing:"border-box"},".sectionHeaderContainer":{justifyContent:"center",nested:{".sectionHeader":{textAlign:"center"},".caret":{marginLeft:"5px"}}}}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(22),n=s(1);class r extends i._Form{_getUncoloredStyles(){return this._mergeThemes(r._uncoloredStyles,i._Form._uncoloredStyles)}_createBase(){let e=super._createBase();return n.addClass(e,"inline"),e}_createPostForm(){return null}_onFormChange(e){this._isFormChangeForMe(e)&&this.trySave()}}t.InlineForm=r,r._uncoloredStyles={".kipForm.inline":{display:"flex",nested:{".formChildren.flex .kipFormElem":{marginRight:"20px"}}}}},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(22),r=s(1),o=s(0),a=s(10);class l extends n._Form{_getUncoloredStyles(){return this._mergeThemes(l._uncoloredStyles,n._Form._uncoloredStyles)}_createBase(){let e=super._createBase();return r.addClass(e,"popup"),r.addClass(e,"hidden"),this._isHidden=!0,e}_createPreForm(){return this._elems.overlay=o.createElement({cls:"formOverlay",parent:this._elems.base}),super._createPreForm(),this._elems.closeButton=o.createElement({cls:"close kipBtn",content:"&#x2715;",eventListeners:{click:()=>i(this,void 0,void 0,(function*(){yield a.wait(10),this.tryCancel()}))}}),this._createTitle(),this._elems.overlay}_createTitle(){o.createElement({cls:"titleBar",children:[{cls:"formTitle",content:this._config.hideTitle?"":this._config.label},this._elems.closeButton],parent:this._elems.background}),this._config.hideTitle=!0}trySave(){const e=Object.create(null,{trySave:{get:()=>super.trySave}});return i(this,void 0,void 0,(function*(){let t=e.trySave.call(this);return this.hide(),t}))}tryCancel(e){let t=super.tryCancel();return this.hide(),t}show(){this._isHidden&&(r.removeClass(this._elems.base,"hidden"),this._isHidden=!1)}hide(){this._isHidden||(r.addClass(this._elems.base,"hidden"),this._isHidden=!0)}}t.PopupForm=l,l._uncoloredStyles={".kipForm.popup":{position:"fixed",left:"0",top:"0",margin:"0",padding:"0",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",nested:{"&.hidden":{display:"none"},".formOverlay":{position:"absolute",width:"100%",height:"100%",top:"0",left:"0",backgroundColor:"rgba(0,0,0,.6)"},".background":{boxShadow:"1px 1px 8px 3px rgba(0,0,0,.2)",overflow:"hidden",borderRadius:"3px",backgroundColor:"#FFF",minWidth:"40%",maxWidth:"90%",maxHeight:"90%",position:"relative",display:"flex",flexDirection:"column",nested:{".titleBar, .kipBtns":{display:"flex",backgroundColor:"<formSubTheme>",color:"#FFF",padding:"3px 20px",alignItems:"center"},".close.kipBtn":{fontSize:"1.5em"},".formTitle":{flexGrow:"1",fontSize:"1.5em"},".formContent":{overflowY:"auto",padding:"15px",maxWidth:"1000px"},".kipBtns .kipBtn":{backgroundColor:"transparent",border:"1px solid #FFF",fontSize:"1em",color:"#FFF",nested:{"&.primary":{fontSize:"1.2em"}}}}}}}}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(155)),i(s(156)),i(s(157)),i(s(158)),i(s(159)),i(s(77)),i(s(160)),i(s(161)),i(s(162)),i(s(163)),i(s(164)),i(s(165)),i(s(166))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),n=s(2),r=s(8),o=s(0);class a extends i.Field{get _type(){return n.FieldTypeEnum.CHECKBOX}get _defaultValue(){return!1}get _defaultCls(){return"check"}get _defaultLayout(){return n.FormElementLayoutEnum.LABEL_AFTER}_getUncoloredStyles(){return this._mergeThemes(a._uncoloredStyles,i.Field._uncoloredStyles)}_onCreateElements(){this._createStandardInput(),this._elems.lbl=r.createLabelForInput("",this._id+"|input","",this._elems.base),this._elems.inputBox=o.createElement({cls:"inputBox",parent:this._elems.lbl,attr:{tabindex:0},eventListeners:{keypress:e=>{13!==e.keyCode&&32!==e.keyCode||(this._elems.input.checked=!this._elems.input.checked)}}}),this._elems.inputInnerBox=o.createElement({cls:"innerInputBox",parent:this._elems.inputBox}),this._elems.innerLbl=o.createSimpleElement("","innerLbl",this._config.label,null,null,this._elems.lbl),this._handleStandardLayout()}_getValueFromField(){return this._elems.input.checked}_createClonedElement(e){return new a(this._id+e,this)}update(e,t){this._data=e,this._elems.input.checked=e}}t.CheckboxField=a,a._uncoloredStyles={'.kipFormElem input[type="checkbox"]':{display:"none",zoom:"1.5",width:"18px",height:"18px",margin:"0",marginRight:"5px",border:"1px solid <formTheme>"},".kipFormElem input[type='checkbox'] + label":{display:"flex"},'.kipFormElem input[type="checkbox"] + label .inputBox':{width:"18px",height:"18px",margin:"0",marginRight:"5px",border:"1px solid <formTheme>",position:"relative",boxSizing:"content-box",flexShrink:"0",marginTop:"4px"},".kipFormElem input[type='checkbox'] + label .inputBox .innerInputBox":{position:"absolute",width:"0",height:"0",left:"9px",top:"9px",backgroundColor:"<formTheme>",transition:"all ease-in-out .1s"},".kipFormElem input[type='checkbox']:checked + label .inputBox .innerInputBox, .kipFormElem input[type='checkbox']:checked + label:hover .inputBox .innerInputBox":{left:"2px",top:"2px",width:"14px",height:"14px"},".kipFormElem input[type='checkbox'] + label:hover .inputBox .innerInputBox":{left:"4px",top:"4px",width:"10px",height:"10px",opacity:"0.7"},".kipFormElem.check input[type='checkbox'] + label .innerLbl":{display:"flex",flexDirection:"column",justifyContent:"center",fontSize:"0.9em",paddingTop:"3px"}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),n=s(2);class r extends i.Field{get _type(){return n.FieldTypeEnum.COLOR}get _defaultValue(){return"#000000"}get _defaultCls(){return"color"}_onCreateElements(){this._createStandardLabeledInput(),this._handleStandardLayout()}_getValueFromField(){return this._elems.input.value}_createClonedElement(e){return new r(this._id+e,this)}}t.ColorField=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),n=s(2),r=s(18);class o extends i.Field{get _type(){return n.FieldTypeEnum.DATE}get _defaultValue(){return null}get _defaultCls(){return"date"}_onCreateElements(){this._createStandardLabeledInput(),this._handleStandardLayout()}_getValueFromField(){let e=this._elems.input.value;return r.inputToDate(e)}_createClonedElement(e){return new o(this._id+e,this)}update(e,t){this._data=e,this._elems.input&&this._data&&(this._elems.input.value=r.inputDateFmt(e))}_testEquality(e){return 0===r.dateDiff(e,this._data)}}t.DateField=o},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),n=s(2),r=s(0),o=s(8),a=s(18);class l extends i.Field{get _type(){return n.FieldTypeEnum.DATE_TIME}get _defaultValue(){return null}get _defaultCls(){return"dateTime"}_onCreateElements(){this._createStandardLabel(this._elems.base),this._elems.inputWrapper=r.createSimpleElement("","inputs","",null,null,this._elems.base);let e=r.createElement({cls:"dateWrapper",parent:this._elems.inputWrapper});r.createSimpleElement("","lbl","Date: ",null,null,e);this._elems.dateInput=o.createInputElement("","dateInput","date",this._data,null,null,e),this._elems.dateInput.addEventListener("change",()=>{this._changeEventFired()});let t=this._data?a.shortTime(this._data):"",s=r.createElement({cls:"timeWrapper",parent:this._elems.inputWrapper});r.createSimpleElement("","lbl","Time: ",null,null,s);this._elems.timeInput=o.createInputElement("","timeInput","time",t,null,null,s),this._elems.timeInput.addEventListener("change",()=>{this._changeEventFired()})}_getValueFromField(){let e=this._elems.timeInput.value,t=this._elems.dateInput.value;return a.inputToDate(t,e)}_createClonedElement(e){return new l(this._id+e,this)}update(e,t){this.clear(),this._data=e,this._data&&(this._elems.dateInput&&(this._elems.dateInput.value=a.inputDateFmt(e)),this._elems.timeInput&&(this._elems.timeInput.value=a.inputTimeFmt(e)))}}t.DateTimeField=l,l._uncoloredStyles={".kipFormElem.dateTime .inputs":{display:"flex",width:"100%",alignItems:"center",flexWrap:"wrap",nested:{".dateWrapper":{marginRight:"10px"}}},".kipFormElem.dateTime .inputs input":{marginRight:"20px",flexGrow:"1",minWidth:"150px"},".kipFormElem.dateTime .inputs .lbl":{flexShrink:"1",maxWidth:"50px",marginTop:"4px"}}},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(3),r=s(2);class o extends n.Field{get _type(){return r.FieldTypeEnum.HIDDEN}get _defaultCls(){return"hidden"}get _defaultValue(){return null}_onCreateElements(){}_getValueFromField(){return this._data}_createClonedElement(e){return new o(this.id+e,this)}save(){return i(this,void 0,void 0,(function*(){return this._data}))}}t.HiddenField=o,o._uncoloredStyles={"kipFormElem.hidden":{display:"none"}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2),n=s(3),r=s(8),o=s(4);class a extends n.Field{get _type(){return i.FieldTypeEnum.SELECT}get _defaultValue(){return null}get _defaultCls(){return"select"}_parseFieldTemplate(e){super._parseFieldTemplate(e),this._options=[],o.map(e.options,(e,t)=>{this._options.push({display:t,value:e})})}_onCreateElements(){let e={};for(let t=0;t<this._options.length;t+=1){let s=this._options[t];e[t]=s.display}this._elems.input=r.createSelectElement(this._id,"input",e),this._createStandardLabel(),this._handleStandardLayout()}_getValueFromField(){let e=this._elems.input.value;return this._options[e]}_createClonedElement(e){return new a(this._id+e,this)}}t.ObjectSelectField=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),n=s(2);class r extends i.Field{get _type(){return n.FieldTypeEnum.PASSWORD}get _defaultValue(){return""}get _defaultCls(){return"password"}_onCreateElements(){this._createStandardLabeledInput(!1),this._handleStandardLayout()}_getValueFromField(){return this._elems.input.value}_createClonedElement(e){return new r(this._id+e,this)}}t.PasswordField=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(77),n=s(2),r=s(3),o=s(0);class a extends i.NumberField{get _type(){return n.FieldTypeEnum.PERCENTAGE}get _defaultValue(){return 0}get _defaultCls(){return"percentage"}_getUncoloredStyles(){return this._mergeThemes(a._uncoloredStyles,r.Field._uncoloredStyles)}_createElements(){super._createElements(),o.createElement({cls:"percentageLbl",content:"%",parent:this._elems.base})}_createClonedElement(e){return new a(this._id+e,this)}}t.PercentageField=a,a._uncoloredStyles={".percentage":{nested:{input:{maxWidth:"3em"},".percentageLbl":{color:"#555",fontSize:"1em",marginLeft:"5px",display:"inline-block"}}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2),n=s(3),r=s(8),o=s(7);class a extends n.Field{get _type(){return i.FieldTypeEnum.SELECT}get _defaultValue(){return null}get _defaultCls(){return"select"}_parseFieldTemplate(e){super._parseFieldTemplate(e),this._options=e.options}_onCreateElements(){this._elems.input=r.createSelectElement(this._id,"input",this._options),this._createStandardLabel(),this._handleStandardLayout()}_getValueFromField(){let e=this._elems.input.value,t=e;return o.isNumeric(e)&&(t=+e),t}_createClonedElement(e){return new a(this._id+e,this)}}t.SelectField=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),n=s(2),r=s(8),o=s(6);class a extends i.Field{get _type(){return n.FieldTypeEnum.TEXTAREA}get _defaultValue(){return""}get _defaultCls(){return"textarea"}_onCreateElements(){let e=r.createInputElement(this._id,"input","textarea",this._data);this._config.useGhostText&&(e.placeholder=this._config.label||""),this._elems.input=e,this._createStandardLabel(),this._handleStandardLayout()}_getValueFromField(){let e=this._elems.input.value;return e=e.replace(/\n/g,"<br>"),e=e.replace(/    /g,"&nbsp;&nbsp;&nbsp;&nbsp;"),e}_createClonedElement(e){return new a(this._id+e,this)}update(e,t){o.isNullOrUndefined(e)&&(e=""),this._data=e;let s=e.replace(/<br>/g,"\n");s=s.replace(/\&nbsp;/g," "),this._elems.input.value=s}}t.TextAreaField=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),n=s(2);class r extends i.Field{get _type(){return n.FieldTypeEnum.TEXT}get _defaultValue(){return""}get _defaultCls(){return"text"}_onCreateElements(){this._createStandardLabeledInput(!1),this._handleStandardLayout()}_getValueFromField(){return this._elems.input.value}_createClonedElement(e){return new r(this._id+e,this)}}t.TextField=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3),n=s(2),r=s(18);class o extends i.Field{get _type(){return n.FieldTypeEnum.TIME}get _defaultValue(){return null}get _defaultCls(){return"time"}_onCreateElements(){this._createStandardLabeledInput(),this._handleStandardLayout()}_getValueFromField(){let e=this._elems.input.value;return r.inputToDate("",e)}_createClonedElement(e){return new o(this._id+e,this)}update(e,t){this._data=e,this._elems.input&&this._data&&(this._elems.input.value=r.inputTimeFmt(e))}}t.TimeField=o},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(47)),i(s(78)),i(s(168))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(47);class n extends i.HistoryChain{constructor(){super(),window.addEventListener("keyup",e=>{e.ctrlKey&&90===e.keyCode&&(this._shouldIgnoreEvent(e)||(e.shiftKey?this.redo():this.undo()))})}undo(){let e=this.navigateBack();e&&e.reverseFunction&&e.reverseFunction()}redo(){let e=this.navigateForward();e&&e.forwardFunction&&e.forwardFunction()}}t.UndoChain=n},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(170)),i(s(0)),i(s(79)),i(s(26)),i(s(30)),i(s(68))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(35);t.isIElemDefinition=function(e){return!!i.isInterface(e,{after_content:"",attr:null,before_content:"",children:null,cls:"",content:"",id:"",parent:null,type:""})}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(172)),i(s(173)),i(s(174))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIdentifiableModel=function(e){return!!e&&!!e.id}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(80);class n extends i.Serializable{constructor(e){super(e),e&&e.id?this.constructor._updateLastId(e.id):this._id=this.constructor._generateNewId()}get id(){return this._id}set id(e){this._id=e}static get _prefix(){return""}static _generateNewId(){return this._lastId+=1,this._prefix+this._lastId.toString()}static _updateLastId(e){let t=new RegExp(this._prefix,"g");e=e.replace(t,"");let s=parseInt(e);isNaN(s)?this._lastId+=1:s>this._lastId&&(this._lastId=s)}}t.IdentifiableModel=n,n._lastId=0},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=0;t.generateUniqueID=function(e){return e||(e="id"),i+=1,e+i}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(176))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5),n=s(1),r=s(0);class o extends i.Drawable{constructor(e){super(),this._src=e,this._createElements()}setThemeColor(e,t,s){super.setThemeColor(e,t,s)}get src(){return this._src}set src(e){e||(e=""),this._src!==e&&(this._src=e,this._clearClasses(),this._elems.img.setAttribute("src",e),this._checkForImageLoad())}_shouldSkipCreateElements(){return!0}_createElements(){r.createElement({key:"base",cls:"imageWrapper"+(this._src?"":" noImage"),children:[{key:"img",type:"img",attr:{src:this._src?this._src:""},eventListeners:{error:()=>this._onError()}}]},this._elems)}_onError(){this.src=""}_checkForImageLoad(){this._doesImageHaveMissingSize()?window.setTimeout(()=>this._checkForImageLoad(),10):(this._measureImage(),this._resize())}_doesImageHaveMissingSize(){return!!this._src&&(!this._elems.img.offsetHeight||!this._elems.img.offsetWidth)}_measureImage(){let e=this._elems.img.offsetWidth,t=this._elems.img.offsetHeight;this._widthToHeightRatio=e/t}_resize(){this._clearClasses(),this._src?this._widthToHeightRatio<1?n.addClass(this._elems.base,"verticalImage"):this._widthToHeightRatio>1?n.addClass(this._elems.base,"horizontalImage"):n.addClass(this._elems.base,"squareImage"):n.addClass(this._elems.base,"noImage")}_clearClasses(){n.removeClass(this._elems.base,"noImage"),n.removeClass(this._elems.base,"verticalImage"),n.removeClass(this._elems.base,"horizontalImage"),n.removeClass(this._elems.base,"squareImage")}}t.ImageElement=o,o._uncoloredStyles={".imageWrapper":{backgroundColor:"<imageElementPrimary>",nested:{"&.verticalImage img":{width:"auto",height:"100%"},"&.horizontalImage img":{width:"100%",height:"auto"},"&.squareImage img":{width:"100%",height:"100%"},"&.noImage":{display:"none",nested:{img:{display:"none"}}}}}}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(178)),i(s(82))},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(82);class r extends n.DataManager{constructor(){super(),this._inFlight={}}_createAndAddDefault(e){let t=this.create(e);this.add(t)}getOrCreate(e){return i(this,void 0,void 0,(function*(){if(!e)throw new Error("no ID provided");let t=this.get(e);return t||(this._inFlight[e]?this._inFlight[e]:(this._inFlight[e]=this._loadAndCreate(e),this._inFlight[e]))}))}_loadAndCreate(e){return i(this,void 0,void 0,(function*(){let t=yield this.load(e);if(!t)throw new Error("no data found for id '"+e+"'");let s=this.create(t);return this.add(s),s}))}}t.AsyncManager=r},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(55)),i(s(57)),i(s(180)),i(s(28)),i(s(54)),i(s(25)),i(s(36))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(36),n=s(11),r=s(0),o=s(26);function a(e,t,s,o,a){let l,u,h,d,c;return u=i.getDistance(e,t),l=i.getAngle(e,t),d={position:"absolute",height:"1px","transform-origin":"0px 0px"},n.createClass(".angledLine",d),h=r.createSimpleElement("","angledLine"),h.style.left=e.x+"px",h.style.top=e.y+"px",h.style.width=u+"px",h.style.transform="rotate("+l+"deg)",s&&s.appendChild(h),o&&(c=r.createSimpleElement("","lbl",o),a&&(c.style.transform="rotate("+-1*l+"deg)",c.style.transformOrigin="(0, 0)"),h.appendChild(c)),h}t.arrangeRadially=function(e,t,s,n){let r,o,a=(n=n||360)-(s=s||0),l=a/t.length,u=0,h={x:e.offsetWidth/2,y:e.offsetHeight/2};for(r of t){let e=Math.max(r.offsetWidth,r.offsetHeight),s=a/t.length,n=180-s,o=e*Math.sin(i.degreesToRadians(n))/Math.sin(i.degreesToRadians(s));o>u&&(u=o)}for(o=0;o<t.length;o+=1){let e=i.getEndPoint(h,s+l*o,u);console.log(e),r=t[o],r.style.left=e.x-r.offsetWidth/2+"px",r.style.top=e.y-r.offsetHeight/2+"px"}},t.drawLine=a,t.updateLine=function(e,t){let s={x:parseInt(e.style.left),y:parseInt(e.style.top)},n=i.getDistance(s,t),r=i.getAngle(s,t);return e.style.width=n+"px",e.style.transform="rotate("+r+"deg)",e},t.connectElements=function(e,t,s,i){let n,r,l,u,h,d,c;return c=o.findCommonParent(e,t),l=o.globalOffsetLeft(e,c)+e.offsetWidth/2,u=o.globalOffsetLeft(t,c)+t.offsetWidth/2,h=o.globalOffsetTop(e,c)+e.offsetHeight/2,d=o.globalOffsetTop(t,c)+t.offsetHeight/2,n={x:l,y:h},r={x:u,y:d},a(n,r,c,s,i)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(81))},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(64)),i(s(23))},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(83)),i(s(184)),i(s(185))},function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(12),r=s(83),o=s(47),a=s(13),l=s(24);t.Navigator=class{constructor(){this._views=new n.Collection,this._history=new o.HistoryChain,window.addEventListener("popstate",()=>{this._handleState()}),this._createHeader()}get currentView(){return this._currentView}get history(){return this._history}navigateTo(e,t,s,n){return i(this,void 0,void 0,(function*(){if(s||(s={}),!this._canNavigateAway(s.isCancel))return!1;if(!(yield this._handleCurrentViewOnNavigate(s.isCancel)))return!1;let i=this._views.getValue(e);return!(!i&&!t)&&(i?l.isUpdatable(i)&&this._updateView(i,s):(i=this._createView(t,s),this._views.add(e,i)),this._handleTransition(i),this._currentView=this._views.getElement(e),n||this._updateHistory(e,s),!0)}))}_canNavigateAway(e){return!this._currentView||(!this._currentView.value||!!this._currentView.value.canNavigateAway(e))}_handleCurrentViewOnNavigate(e){return i(this,void 0,void 0,(function*(){if(!this._currentView)return!0;let t=yield this._currentView.value.onNavigateAway(e);if(!t)return!0;let s={navigationPath:null,data:t};return this._history.updateCurrentState(s),!0}))}_createView(e,t){return new e}_updateView(e,t){e.update(t.model,t)}_updateHistory(e,t){let s={navigationPath:e,url:t.url||"",title:t.title||e,data:t};this._pushHistoryState(s),this._history.push(s)}_handleTransition(e){if(e&&this._parent)switch(this._transitionType){case r.INavTransitionType.OPACITY:this._opacityTransition(e);break;default:this._noTransition(e)}}_noTransition(e){this._parent.innerHTML="",e.draw(this._parent)}_opacityTransition(e){a.transition(this._parent,{opacity:"1"},{opacity:"0"},200).then(()=>{this._parent.innerHTML="",e.draw(this._parent),a.transition(this._parent,{opacity:"0"},{opacity:"1"},200)})}_pushHistoryState(e){try{window.history.pushState(e,e.title,e.url)}catch(e){console.warn("Couldn't save history state: "+e)}}_handleState(){let e=window.history.state;e&&this.navigateTo(e.navigationPath,null,e.data)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ApplicationState=class{constructor(){this._models={}}getState(e){return this._models[e]}setState(e,t){this._models[e]=t}clearState(e){delete this._models[e]}}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(56)),i(s(15)),i(s(19)),i(s(187)),i(s(4))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(7),n=s(4);t.stringify=function e(t,s,r){let o=[],a=s?"<br>":"\n",l=s?"&nbsp;&nbsp;&nbsp;&nbsp;":"\t";return r||(r=""),n.map(t,(t,n)=>{let u;switch(typeof t){case"string":u=t;break;case"number":case"boolean":u=t.toString();break;default:if(!t){u=t;break}u=t.hasOwnProperty("toString")?a+t.toString():a+e(t,s,l)}o.push(function(e,t,s){if(s)return function(e,t){return i.format("<b>{0}</b>: {1}{2}",e,t,"<br>")}(e,t);return function(e,t){return i.format("{0}: {1}\n",e,t)}(e,t)}(r+n,u,s))}),o.join("")}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(46)),i(s(42)),i(s(189)),i(s(20)),i(s(190)),i(s(76))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(20),n=s(79);class r extends i.Popup{constructor(e){e?e.cls+=" login":e={cls:"login popup"},super(e)}set loginCallback(e){this._loginCallback=e}_getUncoloredStyles(){return this._mergeThemes(r._uncoloredStyles,i.Popup._uncoloredStyles)}_createElements(){super._createElements();let e=n.createLabeledElement({type:"input",attr:{type:"text"}},{content:"Username"});this._elems.username=e.data,this._elems.content.appendChild(e.wrapper);let t=n.createLabeledElement({type:"input",attr:{type:"password"}},{content:"Password"});this._elems.password=t.data,this._elems.content.appendChild(t.wrapper),this.addButton("Login",()=>{this.erase(),this._loginCallback&&this._loginCallback(this._elems.username.value,this._elems.password.value)}),this.addButton("Cancel",()=>{this.erase()})}erase(){super.erase(),this._elems.username.value="",this._elems.password.value=""}}t.LoginPopup=r,r._uncoloredStyles={".popup.login .wrapper + .wrapper":{marginTop:"10px"}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(20),n=s(1),r=s(13);class o extends i.Popup{constructor(e,t,s,i){super(i),n.addClass(this._elems.base,"toast"),this._showFor=s||2e3,t&&this.setTitle(t),this.addContent("","",e),this.addButton("Dismiss",()=>{this.erase()})}_getUncoloredStyles(){return this._mergeThemes(i.Popup._uncoloredStyles,o._uncoloredStyles)}draw(e,t){super.draw(e,t),r.transition(this._elems.frame,{top:"100%"},{top:"calc(100% - <height>)"},300).then(()=>{this._elems.frame.style.top=this._elems.frame.offsetTop+"px"}),window.setTimeout(()=>{this.erase()},this._showFor)}erase(){delete this._elems.frame.style.top,r.transition(this._elems.frame,{top:"calc(100% - <height>)",opacity:"1"},{top:"100%",opacity:"0"},300).then(()=>{super.erase()})}}t.ToastPopup=o,o._uncoloredStyles={".toast":{pointerEvents:"none"},".toast .overlay":{display:"none",pointerEvents:"none"},".toast .closeBtn":{display:"none"},".toast .popupButton":{pointerEvents:"auto"},".toast .frame":{width:"15%",height:"auto",boxSizing:"border-box",left:"85%"}}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(33)),i(s(18)),i(s(39)),i(s(7))},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(193)),i(s(84)),i(s(85))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(84),n=s(85);t.Router=class{route(){this._route(n.cleanURL(),n.splitParams())}_createScriptLoader(){this._loader=new i.ScriptLoader("{0}")}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(80))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(196))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0),n=s(4);var r;function o(e,t,s,i,n,o){let l;return l=function(){let e=null;try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return null}}}return e}(),l?(function(e,t,s){e.onreadystatechange=()=>{4===e.readyState&&(200===e.status?t&&t(e.responseText):s&&s(e.responseText))}}(l,s,i),function(e,t,s,i,n){if(t===r.GET)return function(e,t,s){return e.open("GET",t,!0),a(e,s),e.send(null),e}(e,s,n);if(t===r.POST)(function(e,t,s,i){let n,r="application/x-www-form-urlencoded";e.open("POST",t,!0),s instanceof FormData?(n=s,r=""):n=function(e){let t,s="";for(t in e)e.hasOwnProperty(t)&&(s.length>0&&(s+="&"),s+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return s}(s);a(e,i),r&&e.setRequestHeader("Content-Type",r);e.send(n)})(e,s,i,n)}(l,e,t,n,o),l):null}function a(e,t){t&&n.map(t,(t,s)=>{e.setRequestHeader(s,t)})}!function(e){e[e.POST=1]="POST",e[e.GET=2]="GET"}(r=t.AjaxTypeEnum||(t.AjaxTypeEnum={})),t.ajaxRequest=o,t.ajax=function(e){return new Promise((t,s)=>{o(e.type,e.requestUrl,e=>{t(e)},()=>{s("Ajax request failed: "+e.requestUrl)},e.params,e.headerParams)})},t.loadFile=function(e,t,s){let i=new XMLHttpRequest;i.open("GET",e),i.onreadystatechange=()=>{4==i.readyState&&200==i.status?t(i.responseText):404===i.status&&s(i.responseText)},i.send()},t.saveFile=function(e,t){let s;s="string"==typeof t?new Blob([t],{type:"text/plain"}):t,function(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(t,"u");else{let s=i.createElement({type:"a",attr:{href:window.URL.createObjectURL(t),download:e}});document.body.appendChild(s),s.click(),document.body.removeChild(s)}}(e,s)}},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(198)),i(s(86))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(86),n=s(0);class r extends i.Shield{constructor(e){super(),this._loadingText=e||"Loading...",this._createElements()}_getUncoloredStyles(){return this._mergeThemes(r._uncoloredStyles,i.Shield._uncoloredStyles)}_shouldSkipCreateElements(){return!0}_createShieldDetails(){this._elems.wrapper=n.createElement({cls:"loadingContainer",parent:this._elems.shieldContent}),this._elems.text=n.createElement({cls:"loadingText",content:this._loadingText,parent:this._elems.wrapper}),this._elems.icon=n.createElement({cls:"loadingIcon",parent:this._elems.wrapper})}}t.LoadingShield=r,r._uncoloredStyles={".kipShield loadingContainer":{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},".kipShield .loadingText":{fontFamily:'"OpenSansLight", "Helvetica"',fontSize:"1.4em",color:"#FFF"},".kipShield .loadingIcon":{border:"1px solid transparent",borderTop:"1px solid #FFF",borderRadius:"25px",width:"25px",height:"25px",animation:"rotate infinite linear 1s",margin:"auto"},"@keyframes rotate":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(200))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BucketHelper=new class{bucket(e,t,...s){let i={};for(let n of e){let e=t(n,...s);i[e]||(i[e]=[]),i[e].push(n)}return i}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(24))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(51))},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(204)),i(s(1)),i(s(11)),i(s(13))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THEME_BG_COLOR_CLS="themeBGColor",t.THEME_COLOR_CLS="themeColor",t.THEME_COLOR_HOVER_CLS="themeBGHoverColor"},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(71)),i(s(70)),i(s(69))},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(6)),i(s(34)),i(s(35)),i(s(29))},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(48)),i(s(49)),i(s(208)),i(s(210))},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(209)),i(s(87))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(48),n=s(87);class r extends i.UnitTester{get _ui(){return this.__ui?this.__ui:(this.__ui=new n.ConsoleUnitTestUI,this.__ui)}visualTest(e){console.warn(e+" : Visual tests can't be performed through the console")}}t.ConsoleUnitTester=r},function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(88)),i(s(89)),i(s(211))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(48),n=s(89);class r extends i.UnitTester{get _ui(){return this.__ui?this.__ui:(this.__ui=new n.HTMLUnitTestUI,this.__ui)}visualTest(e,t){this._ui.startSubgroup(e);for(let e of t)this._ui.addVisualTestButton(e)}}t.HTMLUnitTester=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(213))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5);class n extends i.Drawable{update(...e){}canNavigateAway(e){return!0}onNavigateAway(e){return null}}t.View=n}]));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlSGVscGVycy9jc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vX2ludGVyZmFjZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vX2ZpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy9vYmplY3RIZWxwZXJzL25hdmlnYXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9kcmF3YWJsZS9kcmF3YWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHlwZUd1YXJkcy9mYWxzZXkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ByaW1pdGl2ZUhlbHBlcnMvc3RyaW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9oZWxwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9jYW52YXMvX2ludGVyZmFjZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FzeW5jL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZUhlbHBlcnMvc3R5bGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9kYXRhU3RydWN0dXJlcy9jb2xsZWN0aW9uL2NvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlSGVscGVycy90cmFuc2l0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9kcmF3YWJsZS9fdHlwZWd1YXJkcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvb2JqZWN0SGVscGVycy9jbG9uaW5nLnRzIiwid2VicGFjazovLy8uL3NyYy9jYW52YXMvY2FudmFzRWxlbWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcGFyYWJsZS9jb21wYXJhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy9wcmltaXRpdmVIZWxwZXJzL2RhdGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9vYmplY3RIZWxwZXJzL2NvbWJpbmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BvcHVwcy9wb3B1cC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9ldmVudEhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vZm9ybXMvX2Zvcm0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL25hbWVkQ2xhc3MvbmFtZWRDbGFzcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RydWN0cy9fdHlwZWd1YXJkcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWF0aHMvcmVjdENvbnZlcnNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2h0bWxIZWxwZXJzL2VsZW1lbnRQb3NpdGlvbmluZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YVN0cnVjdHVyZXMvY29sbGVjdGlvbi9faW50ZXJmYWNlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWF0aHMvbWF0aHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3R5cGVHdWFyZHMvc2ltcGxlR3VhcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2h0bWxIZWxwZXJzL2dlbmVyYWxIZWxwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2NvbXBsZXhGaWVsZHMvX2NvbGxhcHNpYmxlRmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JpbmRpbmcvaGVscGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9wcmltaXRpdmVIZWxwZXJzL2FycmF5cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHlwZUd1YXJkcy9odG1sR3VhcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3R5cGVHdWFyZHMvaW50ZXJmYWNlR3VhcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hdGhzL3RyaWcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbG9yL19pbnRlcmZhY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb2xvci9jb2xvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcHJpbWl0aXZlSGVscGVycy9udW1iZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9kYXRhU3RydWN0dXJlcy90cmVlcy90cmVlLnRzIiwid2VicGFjazovLy8uL3NyYy9kcmFnZ2FibGUvZHJhZ2dhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy9wb3B1cHMvZXJyb3JQb3B1cC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9idXR0b25GaWVsZHMvX3RvZ2dsZUJ1dHRvbkZpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2NvbXBsZXhGaWVsZHMvX2ludGVyZmFjZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vY29tcGxleEZpZWxkcy9zZWN0aW9uRmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BvcHVwcy9faW50ZXJmYWNlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGlzdG9yeS9oaXN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy91bml0VGVzdHMvdGVzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdW5pdFRlc3RzL3Rlc3RVaS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmluZGluZy9iaW5kZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxhYmxlL3N0eWxhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy9jYW52YXMvY2FudmFzR3JvdXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbnZhcy9jYW52YXNTdHlsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWF0aHMvb3ZlcmxhcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWF0aHMvX3R5cGVndWFyZHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL29iamVjdEhlbHBlcnMvX2ludGVyZmFjZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hdGhzL2NvbnRhaW5tZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9kYXRhU3RydWN0dXJlcy9saW5rZWRMaXN0L2xpbmtlZE5vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFTdHJ1Y3R1cmVzL3RyZWVzL2JpbmFyeVRyZWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RyYWdnYWJsZS9jbGFzc2ljRHJhZ2dhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy9kcmFnZ2FibGUvZXhpc3RpbmdEcmFnZ2FibGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RyYWdnYWJsZS9odG1sNURyYWdnYWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZHluYW1pY1NlbGVjdC9keW5hbWljT3B0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9uYW1lZENsYXNzL190eXBlZ3VhcmRzLnRzIiwid2VicGFjazovLy8uL3NyYy9ldmVudHMvZXZlbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V2ZW50cy9ldmVudERlZmluaXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V2ZW50cy9ldmVudEhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2h0bWxIZWxwZXJzL3RhYmxlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdG9vbHRpcC90b29sdGlwLnRzIiwid2VicGFjazovLy8uL3NyYy90b29sdGlwL19jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rvb2x0aXAvX2ludGVyZmFjZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vYnV0dG9uRmllbGRzL211bHRpU2VsZWN0QnV0dG9uRmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vY29tcGxleEZpZWxkcy9fdHlwZWd1YXJkcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9jb21wbGV4RmllbGRzL2FycmF5Q2hpbGRGaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9maWxlRmllbGRzL2ZpbGVQYXRoRmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BvcHVwcy95ZXNOb1BvcHVwLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL3NpbXBsZUZpZWxkcy9udW1iZXJGaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGlzdG9yeS9oaXN0b3J5Tm9kZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaHRtbEhlbHBlcnMvY3JlYXRlU3BlY2lmaWNFbGVtZW50cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VyaWFsaXphYmxlL3NlcmlhbGl6YWJsZU1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC9fbW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hbmFnZXJzL2RhdGFNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9uYXZpZ2F0aW9uL19pbnRlcmZhY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9yb3V0aW5nL3NjcmlwdExvYWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcm91dGluZy91cmwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoaWVsZHMvc2hpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy91bml0VGVzdHMvY29uc29sZVRlc3QvY29uc29sZVVuaXRUZXN0VWkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VuaXRUZXN0cy9odG1sVGVzdC9odG1sVWkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VuaXRUZXN0cy9odG1sVGVzdC9odG1sVW5pdFRlc3RVaS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FzeW5jL3Byb21pc2VUeXBlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmluZGluZy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYm91bmRWaWV3cy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYm91bmRWaWV3cy9ib3VuZFZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JvdW5kVmlld3MvdHlwZUd1YXJkcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYm91bmRWaWV3cy91cGRhdGVhYmxlVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FudmFzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9jYW52YXMvY2FudmFzLnRzIiwid2VicGFjazovLy8uL3NyYy9jYW52YXMvY2lyY2xlRWxlbWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FudmFzL3BhdGhFbGVtZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9jYW52YXMvcmVjdGFuZ2xlRWxlbWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FudmFzL3RleHRFbGVtZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9jb2xvci9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29sb3IvX2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvXyh3aXApXy9fKHdpcClfY29sb3IvX2ludGVyZmFjZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL18od2lwKV8vXyh3aXApX2NvbG9yL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29sb3IvZ2xvYmFsLnRzIiwid2VicGFjazovLy8uL3NyYy9jb2xvci9oZWxwZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21tYW5kcy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbWFuZHMvY29tbWFuZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcGFyYWJsZS9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udGV4dE1lbnUvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRleHRNZW51L19pbnRlcmZhY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250ZXh0TWVudS9jb250ZXh0TWVudS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YVN0cnVjdHVyZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFTdHJ1Y3R1cmVzL2NvbGxlY3Rpb24vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFTdHJ1Y3R1cmVzL2xpbmtlZExpc3QvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFTdHJ1Y3R1cmVzL2xpbmtlZExpc3QvbGlua2VkTGlzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGF0YVN0cnVjdHVyZXMvdHJlZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFTdHJ1Y3R1cmVzL3RyZWVzL3NlbGZCYWxhbmNpbmdUcmVlLnRzIiwid2VicGFjazovLy8uL3NyYy9kYXRhU3RydWN0dXJlcy90cmVlcy90cmllLnRzIiwid2VicGFjazovLy8uL3NyYy9kZWJ1Zy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVidWcvZGVidWcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RyYWdnYWJsZS9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZHJhZ2dhYmxlL19pbnRlcmZhY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9kcmFnZ2FibGUvZHJhZ2dhYmxlV3JhcHBlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZHJhd2FibGUvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RyYXdhYmxlL3NpbXBsZURyYXdhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy9keW5hbWljU2VsZWN0L2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9keW5hbWljU2VsZWN0L2R5bmFtaWNTZWxlY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VkaXRhYmxlL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9lZGl0YWJsZS9fdHlwZWd1YXJkcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZWRpdGFibGUvZWRpdGFibGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V2ZW50cy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXh0ZXJuYWwvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4dGVybmFsL2dvb2dsZUF1dGgvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4dGVybmFsL2dvb2dsZUF1dGgvZ29vZ2xlTG9naW5WaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9maWxlU2VydmVyL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9maWxlU2VydmVyL2ZpbGVTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vYnV0dG9uRmllbGRzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2J1dHRvbkZpZWxkcy9leHBhbmRhYmxlQnV0dG9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9idXR0b25GaWVsZHMvc2luZ2xlU2VsZWN0QnV0dG9uRmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vY29tcGxleEZpZWxkcy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9jb21wbGV4RmllbGRzL2FycmF5RmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vZmlsZUZpZWxkcy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9maWxlRmllbGRzL2ZpbGVVcGxvYWRGaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9maWxlRmllbGRzL3Bob3RvUGF0aEZpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2Zvcm1zL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2Zvcm1zL2VtYmVkZGVkRm9ybS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9mb3Jtcy9mdWxsU2NyZWVuRm9ybS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9mb3Jtcy9pbmxpbmVGb3JtLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL2Zvcm1zL3BvcHVwRm9ybS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9zaW1wbGVGaWVsZHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vc2ltcGxlRmllbGRzL2NoZWNrYm94RmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vc2ltcGxlRmllbGRzL2NvbG9yRmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vc2ltcGxlRmllbGRzL2RhdGVGaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9zaW1wbGVGaWVsZHMvZGF0ZVRpbWVGaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybS9zaW1wbGVGaWVsZHMvaGlkZGVuRmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vc2ltcGxlRmllbGRzL29iamVjdFNlbGVjdEZpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL3NpbXBsZUZpZWxkcy9wYXNzd29yZEZpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL3NpbXBsZUZpZWxkcy9wZXJjZW50YWdlRmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vc2ltcGxlRmllbGRzL3NlbGVjdEZpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL3NpbXBsZUZpZWxkcy90ZXh0QXJlYUZpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy9mb3JtL3NpbXBsZUZpZWxkcy90ZXh0RmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm0vc2ltcGxlRmllbGRzL3RpbWVGaWVsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGlzdG9yeS9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGlzdG9yeS91bmRvQ2hhaW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2h0bWxIZWxwZXJzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9odG1sSGVscGVycy9fdHlwZWd1YXJkcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaWRlbnRpZmlhYmxlL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9pZGVudGlmaWFibGUvX3R5cGVHdWFyZHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2lkZW50aWZpYWJsZS9pZGVudGlmaWFibGVNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaWRlbnRpZmlhYmxlL3VuaXF1ZUlkLnRzIiwid2VicGFjazovLy8uL3NyYy9pbWFnZS9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2UvaW1hZ2VFbGVtZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9tYW5hZ2Vycy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFuYWdlcnMvYXN5bmNNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9tYXRocy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWF0aHMvZHJhd0Nvbm5lY3Rpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9uYW1lZENsYXNzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9uYXZpZ2F0aW9uL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9uYXZpZ2F0aW9uL25hdmlnYXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9uYXZpZ2F0aW9uL25hdmlnYXRpb25TdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvb2JqZWN0SGVscGVycy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvb2JqZWN0SGVscGVycy9mb3JtYXR0aW5nLnRzIiwid2VicGFjazovLy8uL3NyYy9wb3B1cHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BvcHVwcy9sb2dpblBvcHVwLnRzIiwid2VicGFjazovLy8uL3NyYy9wb3B1cHMvdG9hc3RQb3B1cC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcHJpbWl0aXZlSGVscGVycy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcm91dGluZy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcm91dGluZy9yb3V0aW5nLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJpYWxpemFibGUvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZlci9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL3NlcnZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hpZWxkcy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hpZWxkcy9sb2FkaW5nU2hpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy9zb3J0aW5nL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zb3J0aW5nL2J1Y2tldGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9zdHJ1Y3RzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zdHlsYWJsZS9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVIZWxwZXJzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZUhlbHBlcnMvX2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdG9vbHRpcC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHlwZUd1YXJkcy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdW5pdFRlc3RzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy91bml0VGVzdHMvY29uc29sZVRlc3QvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VuaXRUZXN0cy9jb25zb2xlVGVzdC9jb25zb2xlVGVzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdW5pdFRlc3RzL2h0bWxUZXN0L2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy91bml0VGVzdHMvaHRtbFRlc3QvaHRtbFVuaXRUZXN0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy92aWV3LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY3NzXzEiLCJzdHlsZXNfMSIsImhlbHBlcl8xIiwiX3R5cGVndWFyZHNfMSIsIm5hdmlnYXRlXzEiLCJmYWxzZXlfMSIsImNyZWF0ZUVsZW1lbnQiLCJvYmoiLCJrZXllZEVsZW1zIiwiX2NyZWF0ZUVsZW1lbnRDb3JlIiwicmVjdXJzZVZpYSIsImVsZW0iLCJkcmF3YWJsZSIsImJhc2UiLCJ0eXBlIiwibmFtZXNwYWNlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJfY3JlYXRlU3RhbmRhcmRFbGVtZW50IiwiaWQiLCJzZXRBdHRyaWJ1dGUiLCJfc2V0RWxlbUlkZW50ZmllcnMiLCJjbHMiLCJhZGRDbGFzcyIsIm1hcCIsInNlbGVjdG9yIiwiY3JlYXRlQ2xhc3MiLCJfc2V0RWxlbUNsYXNzIiwiYXR0ciIsIl9pc0ZvY3VzYWJsZSIsImZvY3VzYWJsZSIsInRhYkluZGV4IiwiX25lZWRzVGFiSW5kZXgiLCJ0YWJpbmRleCIsImlzTnVsbE9yVW5kZWZpbmVkIiwicGFpciIsIl9zZXRFbGVtQXR0cmlidXRlIiwidmFsIiwiX3NldEVsZW1BdHRyaWJ1dGVzIiwic3R5bGUiLCJfc2V0RWxlbVN0eWxlIiwiZXZlbnRMaXN0ZW5lcnMiLCJjbGljayIsImtleXByZXNzIiwiY2xpY2tGdW5jIiwiZSIsImtleUNvZGUiLCJwcmV2ZW50RGVmYXVsdCIsInByZXZlbnRGb2N1cyIsIm1vdXNlZG93biIsImJsdXIiLCJtb3VzZXVwIiwiZm9jdXMiLCJsaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJ0b29sdGlwIiwiX3NldEtpcFRvb2x0aXAiLCJiZWZvcmVfY29udGVudCIsImlubmVySFRNTCIsImNvbnRlbnQiLCJib3VuZENvbnRlbnQiLCJuZXdWYWwiLCJfc2V0RWxlbUJhc2VDb250ZW50IiwiY2hpbGRyZW4iLCJpc0RyYXdhYmxlIiwiZHJhdyIsImFwcGVuZENoaWxkIiwiZGVmIiwiY2hpbGQiLCJjb25zb2xlIiwid2FybiIsIl9hZGRFbGVtQ2hpbGRyZW4iLCJhZnRlcl9jb250ZW50IiwiX3NldEVsZW1Qb3N0Q2hpbGRyZW5Db250ZW50IiwicGFyZW50IiwiX2FwcGVuZEVsZW1Ub1BhcmVudCIsImNyZWF0ZVNpbXBsZUVsZW1lbnQiLCJjcmVhdGVDdXN0b21FbGVtZW50IiwiY3JlYXRlU1ZHRWxlbWVudCIsInN0cmluZ3NfMSIsIm9sZENyZWF0ZUNsYXNzIiwibm9BcHBlbmQiLCJhIiwic3R5bGVzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJoZWFkIiwibmV3Q2xhc3MiLCJnZXRBdHRyaWJ1dGUiLCJpbmRleE9mIiwidHJpbSIsInJlbW92ZUNsYXNzIiwib2xkQ2xhc3MiLCJsZW4iLCJyZXBsYWNlIiwiaGFzQ2xhc3MiLCJjdXJfY2xzIiwic2V0UHJvcGVydHkiLCJpdGVtIiwiZm9yY2UiLCJjc3MiLCJzSWR4IiwicnVsZXMiLCJydWxlIiwic3R5bGVTaGVldHMiLCJhbGwiLCJzZWxlY3RvclRleHQiLCJnZXRQcm9wZXJ0eSIsImdldENvbXB1dGVkU3R5bGUiLCJ1bmRlZmluZWQiLCJ3aW5kb3ciLCJnZXRQcm9wZXJ0eVZhbHVlIiwiY3VycmVudFN0eWxlIiwiYWRkSGlkZGVuQ2xhc3MiLCJhZGRVbnNlbGVjdGFibGVDbGFzcyIsIkZpZWxkVHlwZUVudW0iLCJWYWxpZGF0aW9uVHlwZSIsIkZvcm1FbGVtZW50TGF5b3V0RW51bSIsIkZvcm1TdHlsZU9wdGlvbnMiLCJfX2F3YWl0ZXIiLCJ0aGlzIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIl9pbnRlcmZhY2VzXzEiLCJkcmF3YWJsZV8xIiwidGFibGVzXzEiLCJjb21wYXJhYmxlXzEiLCJjcmVhdGVFbGVtZW50XzEiLCJ0b29sdGlwXzEiLCJ0cmFuc2l0aW9uXzEiLCJldmVudEhhbmRsZXJfMSIsImhlbHBlcnNfMSIsImFzeW5jXzEiLCJGaWVsZCIsIkRyYXdhYmxlIiwiZGF0YSIsInN1cGVyIiwiX3N0YW5kYXJkQ2xzIiwiX2FkZENsYXNzTmFtZSIsIl9pZCIsIl9oYXNFcnJvcnMiLCJpc0ZpZWxkIiwiX3BhcnNlRmllbGRUZW1wbGF0ZSIsInRlbXBsYXRlIiwiX2NyZWF0ZUVsZW1lbnRzIiwiX3R5cGUiLCJfY29uZmlnIiwiTVVMVElMSU5FIiwiX2RhdGEiLCJ1cGRhdGUiLCJfZWxlbXMiLCJpbnB1dCIsImxibENvbnRhaW5lciIsImxibCIsImxhYmVsIiwibGF5b3V0IiwiX2RlZmF1bHRMYXlvdXQiLCJkZWZhdWx0VmFsdWUiLCJfZGVmYXVsdFZhbHVlIiwidmFsaWRhdGlvblR5cGUiLCJLRUVQX0VSUk9SX1ZBTFVFIiwiX3Byb2Nlc3NUZW1wbGF0ZUNsYXNzIiwiX3Byb2Nlc3NSZXF1aXJlZEVsZW1lbnQiLCJfcmVnaXN0ZXJPbk90aGVyQ2hhbmdlTGlzdGVuZXIiLCJidWlsZENsYXNzU3RyaW5nIiwiX2RlZmF1bHRDbHMiLCJyZXF1aXJlZCIsImZvcm1FdmVudEhhbmRsZXIiLCJkaXNwYXRjaEV2ZW50IiwiRk9STV9TQVZBQkxFX0NIQU5HRSIsIkZvcm1TYXZhYmxlRXZlbnQiLCJoYXNFcnJvcnMiLCJoYXNNaXNzaW5nUmVxdWlyZWQiLCJvbk90aGVyQ2hhbmdlIiwiRk9STV9FTEVNX0NIQU5HRSIsImZ1bmMiLCJldiIsIl9oYW5kbGVPdGhlckNoYW5nZSIsIl9vbkNyZWF0ZUVsZW1lbnRzIiwiX3JlZ2lzdGVySW5wdXRMaXN0ZW5lcnMiLCJfY3JlYXRlU3R5bGVzIiwiX2lzSGlkZGVuIiwiX2NoYW5nZUV2ZW50RmlyZWQiLCJfbGFiZWxFbGVtIiwiVEFCTEUiLCJfdGFibGVMYXlvdXQiLCJGTEVYIiwiX2ZsZXhMYXlvdXQiLCJfbXVsdGlMaW5lTGF5b3V0IiwiTEFCRUxfQUZURVIiLCJfbGFiZWxBZnRlckxheW91dCIsImNlbGxzIiwiY2VsbCIsInRhYmxlIiwiY3JlYXRlVGFibGUiLCJfYWRkU3RhbmRhcmRFbGVtc1RvQ29yZSIsImludGVybmFsVXBkYXRlIiwiX2hhc0JsYW5rUmVxdWlyZWRFbGVtcyIsImFsbG93RXZlbnRzIiwiX3Rlc3RFcXVhbGl0eSIsInNldFRpbWVvdXQiLCJfZGlzcGF0Y2hDaGFuZ2VFdmVudCIsImNsZWFyIiwiX3VwZGF0ZVVJIiwiZXF1YWxzIiwiX2NsZWFyVUkiLCJ0YXJnZXQiLCJzdWJrZXkiLCJGb3JtRWxlbUNoYW5nZUV2ZW50IiwiY29udGV4dCIsImZpZWxkU3RpbGxIYXNGb2N1cyIsIl9jbGVhckVycm9ycyIsIl9zaG91bGRWYWxpZGF0ZUJlZm9yZUJsdXIiLCJ3YWl0IiwiX2Rpc3BhdGNoU2F2YWJsZUNoYW5nZUV2ZW50IiwiX2dldFZhbHVlRnJvbUZpZWxkIiwiX3ZhbGlkYXRlIiwiZXJyb3JTdHJpbmciLCJ0aXRsZSIsImRldGFpbHMiLCJfcnVuVmFsaWRhdGlvbiIsIl9vblZhbGlkYXRpb25FcnJvciIsIm9uVmFsaWRhdGUiLCJlcnIiLCJfdXBkYXRlRXJyb3JFbGVtIiwiX3VwZGF0ZUlucHV0T25FcnJvciIsImVycm9yIiwibXNnIiwiX2J1aWxkVmFsaWRhdGlvbkVycm9yRGlzcGxheSIsIkNMRUFSX0VSUk9SX1ZBTFVFIiwiTk9fQkxVUl9QUk9DRVNTRUQiLCJSRVNUT1JFX09MRF9WQUxVRSIsInVzZUdob3N0VGV4dCIsInBsYWNlaG9sZGVyIiwiY3JlYXRlSW5wdXRFbGVtZW50IiwiZW1iZWRJbiIsImNyZWF0ZUxhYmVsRm9ySW5wdXQiLCJoZWxwVGV4dCIsImhlbHBUZXh0SWNvbiIsIlRvb2x0aXAiLCJzaG91bGRFbWJlZCIsIl9jcmVhdGVTdGFuZGFyZElucHV0IiwiX2NyZWF0ZVN0YW5kYXJkTGFiZWwiLCJlbGVtVG9DbG9uZSIsImFwcGVuZFRvSUQiLCJfY3JlYXRlQ2xvbmVkRWxlbWVudCIsImNvbnN0cnVjdG9yIiwidHJhbnNpdGlvbiIsImhlaWdodCIsIm1heEhlaWdodCIsIm92ZXJmbG93IiwiX3VuY29sb3JlZFN0eWxlcyIsImZvbnRTaXplIiwid2lkdGgiLCJib3hTaXppbmciLCJmb250RmFtaWx5IiwibWFyZ2luVG9wIiwicG9zaXRpb24iLCJkaXNwbGF5IiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwibWluSGVpZ2h0IiwibWF4V2lkdGgiLCJhbGlnbkl0ZW1zIiwicGFkZGluZ1RvcCIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwidGV4dEFsaWduIiwiY3Vyc29yIiwibmVzdGVkIiwidHJhbnNmb3JtIiwiZm9udFdlaWdodCIsIm1hcmdpbkxlZnQiLCJmb250U3R5bGUiLCJtYXJnaW5SaWdodCIsImdldE5leHRLZXkiLCJsYXN0S2V5IiwicHJvcE5hbWUiLCJuZXh0S2V5IiwiZ2V0S2V5cyIsImtleXMiLCJzcGxpY2UiLCJjYWxsYmFjayIsInNob3VsZFF1aXQiLCJvdXQiLCJhcnIiLCJwdXNoIiwiY250Iiwia2V5Q291bnQiLCJpc0VtcHR5T2JqZWN0Iiwic3R5bGFibGVfMSIsIlN0eWxhYmxlIiwiYmFzZUVsZW1UZW1wbGF0ZSIsIl9zaG91bGRTa2lwQ3JlYXRlRWxlbWVudHMiLCJfcmVnaXN0ZXJNZWRpYUxpc3RlbmVycyIsIm1hdGNoUXVlcnkiLCJjbGFzc1RvQXBwbHkiLCJfcmVnaXN0ZXJNZWRpYUxpc3RlbmVyIiwiYm9keSIsIl9oYXNDcmVhdGVkU3R5bGVzIiwiX3JlZnJlc2giLCJfcGFyZW50IiwiX2RyYXdCYXNlIiwiX2FmdGVyRHJhdyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInN0ckNoZWNrIiwiY2hhckF0Iiwic3RyIiwiaWR4Iiwic3Vic3RyIiwicmVzdCIsInN1YnN0cmluZyIsImlzTnVtZXJpYyIsInRlc3QiLCJwaWVjZSIsImRlbGltIiwicGMiLCJzcGxpdF9hcnIiLCJzcGxpdCIsImFkZFBpZWNlIiwibmV4dFBpZWNlIiwidGl0bGVDYXNlIiwid29yZHMiLCJ3IiwidG9VcHBlckNhc2UiLCJ0b0xvd2VyQ2FzZSIsInNlbnRlbmNlQ2FzZSIsInJldCIsInN0cmlwU3BhY2VzIiwiZm9ybWF0IiwicmVwbGFjZW1lbnRzIiwic3RyaW5nQXJyIiwibnVtYmVyIiwibG9va2luZ0Zvck51bWJlciIsImNoYXIiLCJ0b1N0cmluZyIsImpvaW4iLCJhZGRMZWFkaW5nWmVyb2VzIiwiY291bnQiLCJ1bnBhZGRlZCIsInoiLCJzdHJpcEhUTUwiLCJkYXRlc18xIiwiY3JlYXRlU2VsZWN0T3B0aW9ucyIsIm9wdGlvbnMiLCJkZWZhdWx0U2VsZWN0aW9uIiwib3B0RWxlbXMiLCJfY3JlYXRlU2VsZWN0T3B0aW9uIiwiZGlzYWJsZWQiLCJpc0RlZmF1bHQiLCJzZWxlY3RlZCIsImNsb25lVGVtcGxhdGUiLCJjcmVhdGVTZWxlY3RFbGVtZW50Iiwib3B0aW9uRWxlbXMiLCJzZWxlY3QiLCJjcmVhdGVMYWJlbGVkQ2hlY2tib3giLCJjaGVja2VkIiwid3JhcHBlckVsZW0iLCJjaGVja2JveERlZiIsImNoZWNrYm94RWxlbSIsImZvciIsIndyYXBwZXIiLCJjaGVja2JveCIsImxhYmVsRm9yIiwiY3JlYXRlUmFkaW9CdXR0b25zIiwiZWxlbVR5cGUiLCJpbnB1dERhdGVGbXQiLCJFbGVtZW50VHlwZSIsIkV2ZW50VHlwZUVudW0iLCJTdHlsZUNoYW5nZUVudW0iLCJfX2V4cG9ydCIsImZvcmNlT3ZlcnJpZGUiLCJza2lwRXhpc3RpbmdTZWxlY3RvciIsInN0eWxlU3RyaW5nIiwiZ2VuZXJhdGVDb250ZW50Rm9yQ1NTQ2xhc3MiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJfYWRkQ2xhc3NUb0VsZW0iLCJjc3NSdWxlIiwiX2dldEV4aXN0aW5nU2VsZWN0b3IiLCJfZ2V0Q1NTUnVsZSIsImlzR2VuZXJhdGluZ0FuaW1hdGlvbiIsInByb3BlcnR5VmFsdWUiLCJwcm9wZXJ0eU5hbWUiLCJwVmFsdWUiLCJwTmFtZSIsIl9nZW5lcmF0ZUFuaW1hdGlvbkNsYXNzIiwiZ2V0UHJvcGVydHlOYW1lIiwiX2dlbmVyYXRlU2ltcGxlVmFsdWUiLCJfZ2VuZXJhdGVDU1NTdHJpbmdDb250ZW50IiwiZmluZEV4aXN0aW5nIiwianNGcmllbmRseU5hbWUiLCJjaGFycyIsImNsYXNzZXMiLCJvdXRDbHMiLCJjcmVhdGVGb250RGVmaW5pdGlvbiIsImZvbnROYW1lIiwic3JjRmlsZXMiLCJzcmMiLCJzcmNGaWxlIiwidXJsIiwibmFtZWRDbGFzc18xIiwiQ29sbGVjdGlvbiIsIk5hbWVkQ2xhc3MiLCJlcV90ZXN0IiwiX3NvcnRlZERhdGEiLCJBcnJheSIsIl9hZGRUeXBlIiwiQ29sbGVjdGlvblR5cGVFbnVtIiwiSWdub3JlRHVwbGljYXRlS2V5cyIsIl9lcXVhbGl0eVRlc3QiLCJiIiwiYWRkVHlwZSIsIl9pdGVyYXRpb24iLCJzb3J0ZWRJZHgiLCJza2lwU29ydGVkUHVzaCIsIm9yaWdJZHgiLCJfcmVtb3ZlRWxlbWVudEJ5S2V5IiwiX3JlbW92ZUVsZW1lbnRCeVZhbHVlIiwiX3Jlc2V0U29ydGVkS2V5cyIsIl9maW5kRWxlbWVudCIsInN0YXJ0RnJvbSIsImVuZFdpdGgiLCJ0bXAiLCJrIiwic29ydF9mdW5jIiwic1RlbXAiLCJhX3RtcCIsImJfdG1wIiwic29ydCIsIm1hcEZ1bmMiLCJyZXNldExvb3AiLCJoYXNOZXh0IiwiZ2V0TmV4dCIsImdldEluZGV4IiwicmV2ZXJzZSIsImlkZW50aWZpZXIiLCJnZXRFbGVtZW50IiwicGFyYW0iLCJvdXRTdHIiLCJvdGhlciIsIm1pc21hdGNoIiwiVHJhbnNpdGlvbkNvbnRyb2xsZXIiLCJfbGFzdENsc0lkIiwiX2dlbmVyYXRlZENsYXNzZXMiLCJ0aW1lIiwic3RhcnROYW1lIiwiX2dldENsYXNzIiwic3RhcnQiLCJlbmQiLCJlbmROYW1lIiwiX2FuaW1hdGUiLCJjbGFzc0RlZiIsIl9yZXBsYWNlUGxhY2Vob2xkZXJzIiwic3RyRGVmIiwiSlNPTiIsInN0cmluZ2lmeSIsIl9nZW5lcmF0ZVJhbmRvbUNsYXNzTmFtZSIsIl9jcmVhdGVUcmFuc2l0aW9uQ2xhc3MiLCJjbGFzc05hbWUiLCJfc3R5bGVFbGVtIiwiX2NyZWF0ZVN0eWxlRWxlbSIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm5leHRSZW5kZXIiLCJkZWxheSIsIl9yZW1vdmVFbmRDbGFzcyIsImVsZW1lbnQiLCJzdGFydFN0eWxlIiwiZW5kU3R5bGUiLCJpc0RyYXdhYmxlRWxlbWVudCIsImNvbWJpbmVfMSIsImNsb25lUG9pbnQiLCJwb2ludCIsIngiLCJ5IiwiY2xvbmVSZWN0IiwicmVjdCIsImgiLCJjbG9uZVBvaW50QXJyYXkiLCJwb2ludHMiLCJwdCIsImNsb25lIiwiY2xvbmVPYmplY3QiLCJwYXJzZSIsInNoYWxsb3dDbG9uZU9iamVjdCIsImNvbWJpbmVPYmplY3RzIiwiY2FudmFzU3R5bGVfMSIsIm92ZXJsYXBfMSIsIkNhbnZhc0VsZW1lbnQiLCJpc0VmZmVjdCIsIl9sYXllciIsIl9pc0VmZmVjdCIsIl9ldmVudEZ1bmN0aW9ucyIsIl9zdHlsZSIsIkNhbnZhc0VsZW1lbnRTdHlsZSIsImNhbnZhcyIsIl9zZXRDYW52YXMiLCJncnAiLCJsYXllciIsIl9pc09mZlNjcmVlbiIsIl9kaW1lbnNpb25zIiwiZGltIiwiX3NldERpbWVuc2lvbnMiLCJfZGlzcGxheURpbWVuc2lvbnMiLCJfaXNIb3ZlclRhcmdldCIsInNldFN0eWxlIiwicmVzdG9yZVN0eWxlIiwidHJhbnNmb3JtRGV0YWlscyIsIl9jbG9uZUZvckVmZmVjdCIsIl9jbG9uZVN0eWxlIiwiZmlsbENvbG9yIiwic2NhbGUiLCJfc2NhbGUiLCJhZGRFbGVtZW50Iiwic2NhbGVBbXQiLCJuZXdXaWR0aCIsInhPZmZzZXQiLCJuZXdIZWlnaHQiLCJ5T2Zmc2V0IiwiY2FudmFzRGltZW5zaW9ucyIsIl9jYW52YXMiLCJjb252ZXJ0QWJzb2x1dGVSZWN0VG9SZWxhdGl2ZVJlY3QiLCJfc2V0SXNPZmZTY3JlZW4iLCJhZGp1c3RQdCIsImVmZmVjdENvbnRleHQiLCJfYXBwbHlTdHlsZSIsIl9vbkRyYXciLCJfcmVzdG9yZVN0eWxlIiwiX2lzRHJhd24iLCJkb0Jhc2ljUmVjdHNPdmVybGFwIiwibmVlZHNSZWRyYXciLCJldmVudFR5cGUiLCJldmVudEZ1bmMiLCJsaXN0IiwiaGFuZGxlRXZlbnQiLCJDTElDSyIsIkRCTF9DTElDSyIsIlJfQ0xJQ0siLCJIT1ZFUiIsIkxFQVZFIiwiS0VZX1BSRVNTIiwiRk9DVVMiLCJCTFVSIiwicmVtb3ZlRWxlbWVudCIsInNob3ciLCJoaWRlIiwibG9nIiwiTWF0aCIsInJvdW5kIiwiZGVidWdSZWxhdGl2ZURpbWVuc2lvbnMiLCJfZGVidWdEaW1lbnNpb25zIiwiaXNFcXVhdGFibGUiLCJpc0NvbXBhcmFibGUiLCJjb21wIiwibGVzc1RoYW4iLCJncmVhdGVyVGhhbiIsIm9yaWciLCJjb21wYXJpc29uIiwibGVzc2VyVGhhbiIsIm51bWJlcnNfMSIsImRhdGVEaWZmIiwic2lnbmVkIiwiaW5jbHVkZVRpbWUiLCJyZXR1cm5NaWxsaSIsIm1zIiwiZGlmZiIsImNsZWFyVGltZUluZm8iLCJnZXRUb2RheSIsImluY2x1ZGVfdGltZSIsIkRhdGUiLCJkYXRlIiwiY2xlYXJUWiIsIm91dERhdGUiLCJkYXRlU3RyIiwic2hvcnREYXRlIiwiZHQiLCJ5ciIsImdldFNob3J0WWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsInNob3J0VGltZSIsIndpdGhFeHRyYSIsIm1pbiIsIm1pbl9zdHIiLCJob3VycyIsImhhbGYiLCJnZXRNaW51dGVzIiwiZ2V0SG91cnMiLCJpc0xlYXBZZWFyIiwieWVhciIsImdldEZ1bGxZZWFyIiwiaXNTYW1lRGF0ZSIsImRhdGVBIiwiZGF0ZUIiLCJfdXBkYXRlRGF0ZURpZmZlcmVuY2VzIiwiZGl2aXNvciIsInN0YXJ0S2V5IiwiZW5kS2V5IiwiZGl2aWRlbmQiLCJyZW1haW5kZXIiLCJxdW90aWVudCIsImZsb29yIiwiX2NyZWF0ZVBsdXJhbFN0cmluZyIsImFtb3VudCIsInNpbmd1bGFyIiwicGx1cmFsIiwiSW5jbHVzaXZpdHlFbnVtIiwibW9udGhEaWZmIiwiaW5jbHVzaXZpdHkiLCJ5ZWFyRGlmZiIsImJ1c2luZXNzRGF0ZURpZmYiLCJkYXlPZldlZWsiLCJkaXIiLCJnZXREYXkiLCJ3ZWVrZW5kRGF5cyIsImFicyIsImlucHV0VG9EYXRlIiwiaUR0IiwiaVRpbWUiLCJkdEFyciIsInRpbWVBcnIiLCJzZXRIb3VycyIsInNldE1pbnV0ZXMiLCJpbnB1dFRpbWVGbXQiLCJpbmNsdWRlU2Vjb25kcyIsInBhZFRvRGlnaXRzIiwibWludXRlcyIsInNlY29uZHMiLCJnZXRTZWNvbmRzIiwic2hvcnREYXRlVGltZSIsIndpdGhfZXh0cmEiLCJzdG9wd2F0Y2hEaXNwbGF5IiwibWlsbGkiLCJub0xlYWRpbmdaZXJvcyIsIm5vQmxhbmtzIiwic2VjX3N0ciIsImhyX3N0ciIsImRheXMiLCJ1cGRhdGVkU3RvcHdhdGNoRGlzcGxheSIsImRpZmZzIiwicmVtYWluaW5nIiwibWlsbGlzZWNvbmRzIiwiX3JldHJpZXZlQ291bnRzRnJvbU1pbGxpIiwic2hvd01pbGxpIiwiYWRkVG9EYXRlIiwiY291bnRzIiwic2V0TWlsbGlzZWNvbmRzIiwiZ2V0TWlsbGlzZWNvbmRzIiwic2V0U2Vjb25kcyIsInNldERhdGUiLCJtb250aHMiLCJzZXRNb250aCIsInllYXJzIiwic2V0RnVsbFllYXIiLCJnZXRNb250aE5hbWUiLCJzaG9ydCIsImdldERheU9mV2VlayIsImdldExlbmd0aE9mTW9udGhJbkRheXMiLCJpc1dlZWtlbmQiLCJpc1RvZGF5IiwiZ2V0RGlzcGxheUR1cmF0aW9uIiwib2JqQSIsIm9iakIiLCJkZWVwIiwib2JqVG9Db21iaW5lIiwib3V0cHV0T2JqIiwiX19wcm90b19fIiwiX2xvb3BUaHJ1IiwicmVjb25jaWxlT3B0aW9ucyIsImRlZmF1bHRzIiwib3B0Iiwic2ltcGxlR3VhcmRfMSIsIlBvcHVwIiwidGhlbWVDb2xvciIsInNldFRoZW1lQ29sb3IiLCJjb2xvcklkIiwibm9SZXBsYWNlIiwiX2NyZWF0ZU92ZXJsYXkiLCJfY3JlYXRlRnJhbWUiLCJfY3JlYXRlVGl0bGUiLCJfY3JlYXRlQ2xvc2VCdXR0b24iLCJfY3JlYXRlQ29udGVudEVsZW1lbnQiLCJfY3JlYXRlQnV0dG9uQ29udGFpbmVyIiwib3ZlcmxheSIsImVyYXNlIiwiZnJhbWUiLCJjbG9zZUJ0biIsImJ1dHRvbkNvbnRhaW5lciIsInBhcmFtMSIsImlzU3RyaW5nIiwiSFRNTEVsZW1lbnQiLCJsZWZ0IiwidG9wIiwianVzdGlmeUNvbnRlbnQiLCJ6SW5kZXgiLCJib3hTaGFkb3ciLCJib3JkZXJUb3AiLCJwYWRkaW5nIiwib3ZlcmZsb3dZIiwibWFyZ2luQm90dG9tIiwicGFkZGluZ0JvdHRvbSIsImV2ZW50XzEiLCJFdmVudCIsIkZvcm1FdmVudEhhbmRsZXIiLCJFdmVudEhhbmRsZXIiLCJjcmVhdGVFdmVudCIsImVycm9yUG9wdXBfMSIsInllc05vUG9wdXBfMSIsInNlY3Rpb25GaWVsZF8xIiwiX0Zvcm0iLCJvcHRzIiwiX29uU2F2ZSIsIl9vbkNhbmNlbCIsIl9oYXNDaGFuZ2VzIiwiX2NhblNhdmVUcmFja2VyIiwiX2NvbG9ycyIsImZvcm1CYWNrZ3JvdW5kVGhlbWUiLCJmb3JtVGhlbWUiLCJmb3JtU3ViVGhlbWUiLCJjb2xvcnMiLCJfYXBwbHlDb2xvcnMiLCJmIiwiaGFzQ2hhbmdlcyIsImVsZW1zIiwiX2NyZWF0ZUJhc2UiLCJfY3JlYXRlUHJlRm9ybSIsIl9jcmVhdGVGb3JtQ29udGFpbmVyIiwiX2NyZWF0ZUNvcmVTZWN0aW9uIiwiX2NyZWF0ZVBvc3RGb3JtIiwiaGlkZVRpdGxlIiwidW5jb2xsYXBzaWJsZSIsImNvcmVTZWN0aW9uIiwiU2VjdGlvbkZpZWxkIiwiX2FkZEV2ZW50SGFuZGxlcnMiLCJmb3JtQ29udGFpbmVyIiwiYmFja2dyb3VuZCIsImJ0bnMiLCJ0cnlTYXZlIiwidHJ5Q2FuY2VsIiwiYWRkbEJ1dHRvbnMiLCJfY3JlYXRlQnV0dG9ucyIsIl9jcmVhdGVCdXR0b24iLCJidG4iLCJldmVudCIsIl9oYW5kbGVGb3JtQ2hhbmdlIiwidW5pcXVlSWQiLCJfaGFuZGxlU2F2YWJpbGl0eUNoYW5nZSIsIl9vbkZvcm1DaGFuZ2UiLCJfaXNGb3JtQ2hhbmdlRm9yTWUiLCJzYXZlQnV0dG9uIiwiY2FuU2F2ZSIsIl9lbmFibGVTYXZlIiwiX2Rpc2FibGVTYXZlIiwiX2dldENhbm5vdFNhdmVNZXNzYWdlIiwicmVtb3ZlQXR0cmlidXRlIiwic2F2ZSIsIl9ub3RpZnlTYXZlIiwiX3NhdmUiLCJfc2hvd0Nhbm5vdFNhdmVNZXNzYWdlIiwicG9wdXAiLCJFcnJvclBvcHVwIiwiWWVzTm9Qb3B1cCIsInJlc3BvbnNlIiwiWWVzTm9FbnVtIiwiWUVTIiwiX2NhbmNlbCIsIl9ub3RpZnlDYW5jZWwiLCJpZ25vcmVVbnNhdmVkQ2hhbmdlcyIsIl9jYW5jZWxDb25maXJtYXRpb24iLCJtb2RlbCIsImZvcm1FbGVtIiwiYWRkQ2hpbGRFbGVtZW50IiwiZ2V0RmllbGQiLCJmbGV4RGlyZWN0aW9uIiwiZmxleFNocmluayIsImZsZXhHcm93Iiwib3BhY2l0eSIsIm1hcmdpbiIsImFycmF5c18xIiwiY2xhc3NOYW1lcyIsIl9jbGFzc19uYW1lcyIsInNsaWNlIiwiY2xhc3NfbmFtZSIsImNvbnRhaW5zIiwiaXNVcGRhdGFibGUiLCJzdmdSZWN0VG9CYXNpY1JlY3QiLCJjbGllbnRSZWN0VG9CYXNpY1JlY3QiLCJzY3JvbGxYIiwic2Nyb2xsWSIsImNsaWVudFJlY3RUb1NoYXBlIiwic3ZnUmVjdFRvU2hhcGUiLCJ0b0Jhc2ljUmVjdCIsImlzSUJhc2ljUmVjdCIsImlzQ2xpZW50UmVjdCIsImlzU1ZHUmVjdCIsImdsb2JhbE9mZnNldExlZnQiLCJ1c2VTdGFuZGFyZFBhcmVudCIsIl9hdXhHbG9iYWxPZmZzZXQiLCJnbG9iYWxPZmZzZXRUb3AiLCJnbG9iYWxPZmZzZXRzIiwib2Zmc2V0Iiwib2Zmc2V0UGFyZW50IiwiZ2V0U2Nyb2xsUG9zaXRpb24iLCJwYWdlWE9mZnNldCIsInNjcm9sbExlZnQiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsIm1lYXN1cmVFbGVtZW50IiwiYWRkZWQiLCJvcmlnT3BhY2l0eSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZpbmRDb21tb25QYXJlbnQiLCJlbGVtX2EiLCJlbGVtX2IiLCJwYXJlbnRfYSIsInBhcmVudF9iIiwibW92ZVJlbFRvRWxlbSIsInJlZiIsIm5vX21vdmUiLCJvZmZzZXRfbWUiLCJvZmZzZXRfdGhlbSIsImR4IiwiZHkiLCJpc0luRE9NIiwibm9ybWFsaXplVmFsdWUiLCJtYXgiLCJib3VuZGVkUmFuZG9tTnVtYmVyIiwiaXNFeGNsdXNpdmUiLCJyYW5kb20iLCJyb3VuZFRvUGxhY2UiLCJudW0iLCJwbGFjZSIsImlzTnVtYmVyIiwiaXNCb29sZWFuIiwiaXNGdW5jdGlvbiIsImlzQXJyYXkiLCJpc09iamVjdCIsImh0bWxHdWFyZF8xIiwiaXNDaGlsZCIsInJvb3QiLCJyZW1vdmVTdWJjbGFzc0Zyb21BbGxFbGVtZW50cyIsInN1YmNscyIsImV4Y2VwdGlvbiIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpc0NoaWxkRXZlbnRUYXJnZXQiLCJhcHBlbmRDaGlsZHJlbiIsImtpZHMiLCJjbGVhckNoaWxkcmVuIiwibW92ZUVsZW1SZWxhdGl2ZVBvc2l0aW9uIiwiZGlzdGFuY2UiLCJwYXJzZUludCIsInJlc2V0UGFnZUZvY3VzIiwib2xkVGFiSW5kZXgiLCJodG1sRWxlbSIsImlzU2VsZWN0YWJsZSIsInJhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZWxlY3ROb2RlQ29udGVudHMiLCJzZWxlY3Rpb24iLCJnZXRTZWxlY3Rpb24iLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSIsIkhUTUxfVEFCIiwiZW5jb2RlRm9ySFRNTCIsImRlY29kZUZyb21IVE1MIiwiUmVnRXhwIiwicmVwbGFjZUVsZW1XaXRoRWxlbSIsImVsZW1Ub1JlcGxhY2UiLCJyZXBsYWNlbWVudCIsIm5leHRDaGlsZCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiaXNWaXNpYmxlIiwiX2ZpZWxkXzEiLCJDb2xsYXBzaWJsZUZpZWxkIiwiX2lzQ29sbGFwc2VkIiwiaXNFeHBhbmRlZCIsInRpdGxlQ2xzIiwidGl0bGVDb250YWluZXIiLCJfb25DYXJldENsaWNrZWQiLCJjb2xsYXBzZUVsZW0iLCJleHBhbmQiLCJjb2xsYXBzZSIsIl9pc1RyYW5zaXRpb25pbmciLCJjaGlsZHJlbkNvbnRhaW5lciIsInRyYW5zZm9ybU9yaWdpbiIsImJpbmRlcl8xIiwiZXZhbEZ1bmMiLCJ1cGRhdGVGdW5jIiwiZGVsZXRlRnVuYyIsImVxdWFsc0Z1bmMiLCJCaW5kZXIiLCJlcXVhbGl0eUZ1bmN0aW9uIiwicmVtb3ZlRWxlbUZyb21BcnIiLCJlcXVhbCIsIm91dEFyciIsImlzSFRNTEVsZW1lbnQiLCJpc0ludGVyZmFjZSIsImZ1bGxfaW1wIiwicHJvcCIsInJlcV9tYXRjaCIsImhhc19leHRyYSIsIm1hdGhzXzEiLCJkZWdyZWVzVG9SYWRpYW5zIiwiZGVnIiwiUEkiLCJyYWRpYW5zVG9EZWdyZWVzIiwicmFkIiwiZ2V0RW5kUG9pbnQiLCJzdGFydFBvaW50IiwiY29zIiwic2luIiwiZ2V0Q2VudHJhbFBvaW50IiwiZ2V0QW5nbGUiLCJxX3NpZ24iLCJxX2FuZyIsImFuZ2xlIiwiYXRhbiIsImdldERpc3RhbmNlIiwic3FydCIsImNhbGN1bGF0ZVBvbHlnb25JbnRlcm5hbEFuZ2xlIiwibnVtYmVyT2ZTaWRlcyIsIkhTTFBpZWNlRW51bSIsIlJHQkVudW0iLCJfaW50ZXJmYWNlc18yIiwiY29uc3RhbnRzXzEiLCJDb2xvciIsIl9hbHBoYSIsIl9yZWQiLCJfZ3JlZW4iLCJfYmx1ZSIsIl9odWUiLCJfc2F0dXJhdGlvbiIsIl9saWdodG5lc3MiLCJfbHVtaW5hbmNlIiwiX2NhbGN1bGF0ZUx1bWluYW5jZSIsInRvUmdiU3RyaW5nIiwid2l0aF9hbHBoYSIsImdlbmVyYXRlSHNsVmFsdWVzIiwidG9Ic2xTdHJpbmciLCJmdWxsSGV4U3RyaW5nIiwiZyIsImRlbHRhIiwiaHVlIiwic2F0dXJhdGlvbiIsImxpZ2h0bmVzcyIsIl9zdGFydEh1ZSIsIl9zdGFydFNhdHVyYXRpb24iLCJfc3RhcnRMaWdodG5lc3MiLCJxIiwidXBkYXRlUmdiVmFsdWUiLCJoZXgiLCJhbHBoYSIsImNvbCIsImFfaW5jbHVkZWQiLCJoX3JlZyIsImluYyIsInJnYiIsInJnYl9yZWciLCJyZ2JhX3JlZyIsIm1hdGNoIiwiZXhlYyIsImhzbCIsImhzbF9yZWciLCJoc2xhX3JlZyIsInBhcnNlRmxvYXQiLCJnZW5lcmF0ZVJnYlZhbHVlcyIsInN1Y2Nlc3MiLCJfcGFyc2VGcm9tUmdiQ29sb3IiLCJfcGFyc2VGcm9tSGV4Q29sb3IiLCJfcGFyc2VGcm9tSHNsQ29sb3IiLCJ2YWx1ZVR5cGUiLCJSRUQiLCJyZWQiLCJHUkVFTiIsImdyZWVuIiwiQkxVRSIsImJsdWUiLCJBTFBIQSIsIkhVRSIsIlNBVFVSQVRJT04iLCJMSUdIVE5FU1MiLCJmaXJzdFJvdGF0ZSIsIndpdGhBbHBoYSIsInRvQ3ljbGUiLCJyb3RhdGVBcHByb3ByaWF0ZUhTTFZhbHVlIiwidG9IZXhTdHJpbmciLCJyb3RhdGVTYXR1cmF0aW9uIiwicm90YXRlTGlnaHRuZXNzIiwicm90YXRlSHVlIiwicm90YXRlSHNsVmFsdWUiLCJIVUVfSU5URVJWQUwiLCJTQVRVUkFUSU9OX0lOVEVSVkFMIiwiU0FUVVJBVElPTl9MSU1JVFMiLCJMSUdIVF9JTlRFUlZBTCIsIkxJR0hUTkVTU19MSU1JVFMiLCJzdGFydFZhbCIsIm1vZEJ5IiwiYmFja0NvbG9yIiwiYW50aUFscGhhIiwiQW55Q29sb3IiLCJfcGFyc2VkQ29ycmVjdGx5Iiwib3RoZXJfY29sb3IiLCJtdWx0aXBsaWVycyIsInRvdGFsIiwibm9fbWVyZ2UiLCJhdmdzIiwibHVtaW5hbmNlIiwiUkdCQ29sb3IiLCJyZWRPclJnYlN0cmluZyIsImdyZWVuT3JBbHBoYSIsIkhTTENvbG9yIiwiaHVlT3JIc2xTdHJpbmciLCJzYXR1cmF0aW9uT3JBbHBoYSIsIkhleENvbG9yIiwiaGV4U3RyaW5nIiwiY29sb3JTdHJpbmciLCJfcGFyc2VDb2xvclN0cmluZyIsInRvUGFkIiwibnVtYmVyT2ZEaWdpdHMiLCJvdXRIZXhTdHJpbmciLCJUcmVlIiwiX3N1YlRyZWVzIiwiZGVwdGhzIiwidHJlZSIsImdldERlcHRoIiwic3ViVHJlZXMiLCJzdWJUcmVlIiwiZ2VuZXJhbEhlbHBlcnNfMSIsIkdlbmVyaWNEcmFnZ2FibGUiLCJfdGFyZ2V0cyIsImFkZFRhcmdldCIsIl9vblJlbmRlciIsIl9hZGRFdmVudExpc3RlbmVycyIsIl9ncmlkU2l6ZSIsIl9zaWduaWZpZXIiLCJkcmFnZ2FibGVUYXJnZXQiLCJfY3JlYXRlRHJhZ2dhYmxlVGFyZ2V0IiwiX2N1cnJlbnRNb3VzZVBvaW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJfc3RhcnRNb3VzZVBvaW50IiwiX25vcm1hbGl6ZVRvR3JpZCIsImdyaWRTaXplIiwiYWJzVmFsdWUiLCJfaXNEcmFnZ2luZyIsImN1cnJlbnREcmFnZ2FibGUiLCJfdXBkYXRlTW91c2VQb2ludCIsIkRyYWdnYWJsZVRhcmdldCIsImN1cnJlbnREcmFnZ2FibGVUYXJnZXQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfY2FsY3VsYXRlRGVsdGEiLCJmbGV4V3JhcCIsInNyY0VsZW0iLCJwb3B1cF8xIiwic2V0VGl0bGUiLCJhZGRDb250ZW50IiwiYWRkQnV0dG9uIiwiX25vdGlmeUNsb3NlIiwiX29uQ2xvc2UiLCJUb2dnbGVCdXR0b25GaWVsZCIsIlRPR0dMRV9CVVRUT04iLCJfbWVyZ2VUaGVtZXMiLCJfb3B0aW9ucyIsIl9jcmVhdGVPcHRpb25zRWxlbWVudHMiLCJfaGFuZGxlU3RhbmRhcmRMYXlvdXQiLCJfYXBwZW5kQ2hpbGRyZW4iLCJwb3N0Q2hpbGRyZW5Db250YWluZXIiLCJfY2xlYXJPcHRpb25zIiwiX2J1dHRvbnMiLCJfY3JlYXRlT3B0aW9uRWxlbWVudCIsIl9zZWxlY3RCdG4iLCJfc2hvdWxkQmVTZWxlY3RlZCIsIl9nZXRCdXR0b25Ub1VwZGF0ZSIsIkVycm9yIiwiRGlyZWN0aW9uVHlwZSIsIl9jb2xsYXBzaWJsZUZpZWxkXzEiLCJjb25maWciLCJfcGFyc2VDaGlsZHJlbiIsIl9jaGlsZHJlbiIsIlNFQ1RJT04iLCJfY3JlYXRlQ29sbGFwc2libGVUaXRsZSIsIl91cGRhdGVDbHNCYXNlZE9uTGF5b3V0IiwiX3BhcnNlQ2hpbGQiLCJfY2xvbmVGb3JtRWxlbWVudCIsIl91cGRhdGVJbnRlcm5hbERhdGEiLCJpbnRlcm5hbE9ubHkiLCJwcm9taXNlcyIsIl91cGRhdGVJbnRlcm5hbEZpZWxkIiwiY2hpbGRDYW5TYXZlIiwiaXNGb2N1c2VkIiwiYm9yZGVyTGVmdCIsInBhZGRpbmdMZWZ0IiwiaGlzdG9yeU5vZGVfMSIsIkhpc3RvcnlDaGFpbiIsIm5vZGUiLCJIaXN0b3J5Tm9kZSIsIl9zdGFydCIsIl9lbmQiLCJfY3VyTm9kZSIsIl9jbGVhclRvQ3VySWR4IiwicHJldmlvdXMiLCJuZXdTdGF0ZSIsImN1clN0YXRlIiwiY29tYmluZWRTdGF0ZSIsIlVuaXRUZXN0ZXIiLCJhY3R1YWxSZXN1bHQiLCJleHBlY3RlZFJlc3VsdCIsIm1lc3NhZ2UiLCJwYXNzIiwidGVzdEVxdWFsaXR5IiwiX3VpIiwicmVuZGVyVGVzdCIsInRydWVNZXNzYWdlIiwiZmFsc2VNZXNzYWdlIiwiZ3JvdXBOYW1lIiwic3RhcnRHcm91cCIsInN1Ymdyb3VwTmFtZSIsInN0YXJ0U3ViZ3JvdXAiLCJmdW5jVG9UZXN0IiwidGVzdHMiLCJ0ZXN0RGV0YWlscyIsInBhcmFtcyIsIl9nZXRUZXN0TmFtZSIsIlRlc3RVSSIsIl9zdGFydGVkIiwiX2JvdW5kRGV0YWlscyIsIl9zdGFydEFuaW1hdGlvbkxvb3AiLCJsYXN0VmFsdWUiLCJfZ2V0TmV4dElkIiwiZXZhbCIsImRlbGV0ZSIsIl9vbkZyYW1lIiwiX2hhbmRsaW5nQmluZGluZyIsInVuYmluZCIsImNsb25pbmdfMSIsImZsYXRTdHlsZXMiLCJwbGFjZWhvbGRlclJlZ2V4IiwiX3RoZW1lQ29sb3JzIiwidGhlbWVDb2xvcklkIiwiX3VwZGF0ZVRoZW1lQ29sb3IiLCJhZmZlY3RlZFN0eWxlcyIsIl90aGVtZWRTdHlsZXMiLCJfdXBkYXRlQ29sb3JJbkNsYXNzRGVmaW5pdGlvbiIsIl9jcmVhdGVDb2xvcmVkU3R5bGVzIiwicmVwbGFjZWRBbnkiLCJyZXBsYWNlZCIsInZhbEFycmF5IiwiX2NvbnRhaW5lZFBsYWNlaG9sZGVyIiwiX3BhZ2VTdHlsZXMiLCJfbWVyZ2VDb2xvclRoZW1lcyIsInBsYWNlaG9sZGVyVG9NYXRjaCIsImZsYXRTdHlsZSIsIl9jbGVhblN0eWxlcyIsIl9jb21iaW5lVGhlbWVzIiwicGxhY2Vob2xkZXJzIiwiX2ZpbmRBbGxDb250YWluZWRQbGFjZWhvbGRlcnMiLCJoYW5kbGVkUGxhY2Vob2xkZXJzIiwidGhlbWVzIiwicGFnZVN0eWxlcyIsIl9tZXJnZURlZmluaXRpb24iLCJkZWZpbml0aW9ucyIsIm1lcmdlZERlZiIsImZvbnRzIiwiZm9udERlZiIsIl9jdXN0b21QYWdlRm9udHMiLCJfc3R5bGVFbGVtcyIsIl9zaGFyZWRDcmVhdGVTdHlsZXMiLCJfY3JlYXRlRm9udFN0eWxlcyIsIl9jdXN0b21Gb250RWxlbSIsInRtcEVsZW0iLCJfdXBkYXRlQWxsVGhlbWVDb2xvcnMiLCJfY29sb3JTdHlsZUVsZW1zIiwibmV3RWxlbSIsIl9hZGROZXdFbGVtZW50IiwiY3NzRGVjbGFyYXRpb24iLCJsYXN0U2VsZWN0b3IiLCJvdXRTdHlsZXMiLCJzdWJDbHMiLCJuZXdTZWxlY3RvcnMiLCJuZXdTZWxlY3RvciIsImNhbGN1bGF0ZWRTdHlsZXMiLCJfY2xlYW5DbGFzc0RlZiIsInRvcFN0eWxlcyIsInN1Ym5lc3RlZFN0eWxlcyIsIl9nZXRVbmNvbG9yZWRTdHlsZXMiLCJfY3VzdG9tRm9udHMiLCJfZ2V0Q3VzdG9tRm9udHMiLCJtZWRpYVF1ZXJ5RnVuYyIsIm1hdGNoTWVkaWEiLCJhZGRMaXN0ZW5lciIsIm1lZGlhIiwibWF0Y2hlcyIsIm90aGVyRWxlbSIsIl9idWlsZFRoZW1lQ29sb3JJZCIsIm1lcmdlZFRoZW1lcyIsIl9tZXJnZUludG9TdHlsZXMiLCJfY3JlYXRlQWxsQ29sb3JlZFN0eWxlcyIsInVuY29sb3JlZFN0eWxlcyIsIl9jcmVhdGVkU3R5bGVzIiwidG1wU3R5bGVzIiwiY3VzdG9tRm9udHMiLCJfbWVyZ2VJbnRvRm9udHMiLCJjYW52YXNFbGVtZW50XzEiLCJjb2xsZWN0aW9uXzEiLCJjb250YWlubWVudF8xIiwiQ2FudmFzR3JvdXAiLCJyZWZQb2ludCIsIl9yZXNwb25kVG9TY2FsZSIsIl9lbGVtZW50cyIsIl9yZWZlcmVuY2VQb2ludCIsIl9pbml0aWFsaXplUmVjdHMiLCJHcm91cCIsInJlZlB0IiwiYWRqdXN0RGltZW5zaW9ucyIsImlzSG92ZXJUYXJnZXQiLCJfbmVlZHNJbml0aWFsRGltZW5zaW9ucyIsInZpc2libGVXaW5kb3ciLCJ1cGRhdGVEaW1lbnNpb25zIiwiYWRkIiwiX3VwZGF0ZUludGVybmFsRGltZW5zaW9uc0Zyb21FbGVtZW50IiwicmVsRGltIiwiZGltZW5zaW9ucyIsIl9jbGVhckhvdmVyIiwiX2ZpbmRFbGVtZW50c0F0UG9pbnQiLCJyZWxhdGl2ZVBvaW50IiwiZWwiLCJsZWF2ZSIsImlzT2ZmU2NyZWVuIiwiaXNQb2ludENvbnRhaW5lZCIsImRpc3BsYXlEaW1lbnNpb25zIiwicmVtb3ZlIiwiY2xvbmVkR3JwIiwiX2xpc3RlbmVycyIsIl9maWxsQ29sb3IiLCJfc3Ryb2tlQ29sb3IiLCJzdHJva2VDb2xvciIsIl9mb250IiwiZm9udCIsIl9mb250RmFtaWx5IiwiX2ZvbnRTaXplIiwiX2ZvbnRWYXJpYW50IiwiZm9udFZhcmlhbnQiLCJfc3Ryb2tlU2l6ZSIsInN0cm9rZVNpemUiLCJfdGV4dEFsaWduIiwiX29uQ2hhbmdlIiwiRklMTF9DT0xPUiIsIlNUUk9LRV9DT0xPUiIsImZhbWlseSIsIkZPTlRfRkFNSUxZIiwidmFyaWFudCIsIkZPTlRfVkFSSUFOVCIsInNpemUiLCJGT05UX1NJWkUiLCJTVFJPS0VfU0laRSIsImFsaWduIiwiVEVYVF9BTElHTiIsIkZPTlQiLCJjaGFuZ2VUeXBlIiwiX3NhdmVPZmZPbGRTdHlsZSIsIl9hcHBseVN0eWxlVG9Db250ZXh0IiwiX29sZFN0eWxlIiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJyZWN0Q29udmVyc2lvbl8xIiwiZWxlbWVudFBvc2l0aW9uaW5nXzEiLCJkb1JlY3RzT3ZlcmxhcCIsInJlY3QxIiwicmVjdDIiLCJjb21wYXJlTGVmdFBvc2l0aW9uIiwiZWxlbUEiLCJlbGVtQiIsIl9jb21wYXJlUG9zaXRpb24iLCJjb21wYXJlUmlnaHRQb3NpdGlvbiIsImNvbXBhcmVUb3BQb3NpdGlvbiIsImNvbXBhcmVCb3R0b21Qb3NpdGlvbiIsInBvc0EiLCJwb3NCIiwiU29ydE9yZGVyRW51bSIsIkNPUlJFQ1RfT1JERVIiLCJJTkNPUlJFQ1RfT1JERVIiLCJTQU1FIiwiZG9FbGVtZW50c092ZXJsYXAiLCJlbGVtMSIsImVsZW0yIiwieF9vdmVybGFwIiwieV9vdmVybGFwIiwiZmluZEJhc2ljUmVjdEludGVyc2VjdGlvbiIsIm1pbl94IiwibWF4X3giLCJtaW5feSIsImdldExlZnRNb3N0IiwiZ2V0UmlnaHRNb3N0IiwiZ2V0VG9wTW9zdCIsImdldEJvdHRvbU1vc3QiLCJpbnRlcmZhY2VHdWFyZF8xIiwiaXNJRXh0cmVtYSIsImJvdHRvbSIsInJpZ2h0IiwiaXNJUG9pbnQiLCJpc1JlY3RDb250YWluZWQiLCJjb250YWluZXIiLCJpc1dpdGhpbiIsIm5vbl9pbmNsdXNpdmUiLCJpc0VsZW1lbnRDb250YWluZWQiLCJpc1NoYXBlQ29udGFpbmVkIiwic2hhcGUiLCJib3VuZHMiLCJMaW5rZWROb2RlIiwiX3ByZXZpb3VzIiwiX25leHQiLCJ0cmVlXzEiLCJCaW5hcnlUcmVlIiwiX2NvdW50IiwiX2NvbXBhcmUiLCJDb21wYXJlUmVzdWx0IiwiRVFVQUwiLCJMRVNTX1RIQU4iLCJfYWRkVG9TdWJUcmVlIiwiR1JFQVRFUl9USEFOIiwiX2NyZWF0ZVN1YlRyZWUiLCJfcmVtb3ZlTWUiLCJfcmVtb3ZlRnJvbVN1YlRyZWUiLCJzaWRlT2ZQYXJlbnQiLCJfZ2V0UmVsYXRpb25Ub1BhcmVudCIsIl9yZW1vdmVNZUFzVG9wTm9kZSIsIl9jaGVja1N1YlRyZWVFeGlzdHMiLCJleGlzdHMiLCJfY29tcGFyZU9iamVjdCIsIl9jb21wYXJlUHJpbWl0aXZlIiwiRVJSIiwibXlWYWx1ZSIsImNvbXBhcmVkVG9QYXJlbnQiLCJpc0NvbXBsZXRlIiwibGVmdERlcHRoIiwiX2dldFNpZGVEZXB0aCIsInJpZ2h0RGVwdGgiLCJfaXNTdWJUcmVlQmFsYW5jZWQiLCJpc0JhbGFuY2VkIiwiZHJhZ2dhYmxlXzEiLCJDbGFzc2ljRHJhZ2dhYmxlIiwiX2FkZERyYWdnaW5nU2lnbmlmaWVyIiwiX29uRHJvcCIsIl9vbkRyYWdTdGFydCIsIl9vbk1vdmUiLCJDbGFzc2ljRHJhZ2dhYmxlVGFyZ2V0IiwiX29uRHJhZ0VudGVyIiwiX29uRHJhZ0xlYXZlIiwiY2xhc3NpY0RyYWdnYWJsZV8xIiwiaHRtbDVEcmFnZ2FibGVfMSIsIkV4aXN0aW5nQ2xhc3NpY0RyYWdnYWJsZSIsImhhbmRsZXJzIiwib25Nb3ZlIiwiX292ZXJyaWRlRnVuY3Rpb25zIiwibW92ZSIsIkV4aXN0aW5nSFRNTDVEcmFnZ2FibGUiLCJIVE1MNURyYWdnYWJsZSIsImJsYW5rIiwiSFRNTDVEcmFnVGFyZ2V0IiwiZGF0YVRyYW5zZmVyIiwic2V0RHJhZ0ltYWdlIiwiYnV0dG9ucyIsIkR5bmFtaWNPcHRpb24iLCJfZGlzcGxheSIsIl9zZWxlY3RQYXJlbnQiLCJfaXNGaWx0ZXJlZCIsIl9pc1NlbGVjdGVkIiwidGV4dCIsInNjcm9sbEludG9WaWV3Iiwid29yZCIsIm5vdEZvdW5kIiwiX2ZpbHRlciIsIl91bmZpbHRlciIsImlzTmFtZWRDbGFzcyIsInRlc3RfbmFtZSIsInBhZGRlZENsYXNzTmFtZSIsIl9jb250ZXh0IiwiX2tleSIsIkV2ZW50RGVmaW5pdGlvbiIsIl9udW1PZkxpc3RlbmVycyIsIl9uYW1lIiwiUmVwbGFjZUR1cGxpY2F0ZUtleXMiLCJsaXN0ZW5lckRhdGEiLCJldmVudERlZmluaXRpb25fMSIsIl9ldmVudHMiLCJldnQiLCJldnREZWYiLCJnZXRWYWx1ZSIsIm5vdGlmeUxpc3RlbmVycyIsInVuaXF1ZUlEIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInByb2Nlc3NDZWxsQ29udGVudHMiLCJ0YWJsZUlEIiwidGFibGVDbGFzcyIsImVsZW1lbnRzIiwicm93TnVtIiwiY29sTnVtIiwidGJsIiwicm93IiwicklkeCIsImNJZHgiLCJpbnNlcnRSb3ciLCJpbnNlcnRDZWxsIiwiYWRkUm93IiwiX2NvbnN0YW50c18xIiwic291cmNlRWxlbSIsIl9vZmZzZXQiLCJzb3VyY2VFbGVtZW50IiwiX3NvdXJjZUVsZW1lbnQiLCJfcG9zaXRpb25BcHByb3ByaWF0ZWx5IiwiX2hpZGVUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiZm91bmRTdWNjZXNzZnVsUG9zaXRpb24iLCJfdG9vbHRpcFJlY3QiLCJfc291cmNlUmVjdCIsIlRvb2x0aXBQb3NpdGlvblR5cGUiLCJUT1AiLCJSSUdIVCIsIl9hc3NpZ25Qb3NpdGlvbiIsIl9zZXRYUG9zaXRpb24iLCJfc2V0WVBvc2l0aW9uIiwiVE9PTFRJUF9NQVJHSU4iLCJCT1RUT00iLCJMRUZUIiwiX25vcm1hbGl6ZVkiLCJfbm9ybWFsaXplWCIsIl9ub3JtYWxpemUiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJwb3MiLCJsaW5lSGVpZ2h0IiwicG9pbnRlckV2ZW50cyIsIl90b2dnbGVCdXR0b25GaWVsZF8xIiwiTXVsdGlTZWxlY3RCdXR0b25GaWVsZCIsIl9zZWxlY3RlZEJ0bnMiLCJfaW5kZXhPZiIsInNlbGVjdGVkSWR4IiwiZGF0YUlkeCIsIm91dElkeCIsIl9lcXVhbFRvIiwiZGF0YUEiLCJkYXRhQiIsImlzQXJyYXlDaGlsZEVsZW1lbnQiLCJBUlJBWV9DSElMRCIsIkFycmF5Q2hpbGRGaWVsZCIsImFsbG93UmVvcmRlcmluZyIsIm5leHRCdG4iLCJfY2hhbmdlT3JkZXIiLCJGT1JXQVJEIiwicHJldkJ0biIsIkJBQ0tXQVJEIiwiX2RlbGV0ZSIsIl9zdXBlciIsIm9yZGVyTGlzdGVuZXIiLCJfb3JkZXJsaXN0ZW5lciIsImRpcmVjdGlvbiIsIm9uQ2hhbmdlT3JkZXIiLCJGaWxlUGF0aEZpZWxkIiwiRklMRV9QQVRIIiwiX29uU2F2ZUNhbGxiYWNrIiwib25TYXZlIiwiX2F0dHIiLCJpbnB1dENvbnRhaW5lciIsImlucHV0TGFiZWwiLCJfdGVtcExpbmsiLCJfb25MaW5rQ2hhbmdlIiwiX2ZpbGVzIiwiZmlsZXMiLCJ3aGl0ZVNwYWNlIiwicHJvbXB0Iiwib25TZWxlY3Rpb24iLCJfb25TZWxlY3Rpb24iLCJOTyIsInNob3dZZXNOb0Zvcm0iLCJvblNlbGVjdCIsIk51bWJlckZpZWxkIiwiTlVNQkVSIiwiX2NyZWF0ZVN0YW5kYXJkTGFiZWxlZElucHV0IiwiY3JlYXRlU2ltcGxlTGFiZWxlZEVsZW1lbnQiLCJza2lwWmVybyIsImNMYmwiLCJjQ29udGVudCIsImNyZWF0ZUxhYmVsZWRFbGVtZW50IiwiZGF0YUVsZW0iLCJsYWJlbEVsZW0iLCJfbW9kZWxfMSIsIlNlcmlhbGl6YWJsZSIsIl9Nb2RlbCIsInNhdmVEYXRhIiwic2VyaWFsaXplIiwicGFyc2VkRGF0YSIsIl9jb3B5RGF0YSIsImRhdGFUb0NvcHkiLCJfX3Byb3BlcnR5TGlzdGVuZXJzIiwiX19tb2RlbExpc3RlbmVycyIsIl9zZXREZWZhdWx0VmFsdWVzIiwiX2NvcHlQaWVjZSIsInNhdmFibGVWYWx1ZSIsImNvcHlGdW5jTmFtZSIsIl9zZXRWYWx1ZSIsImRpY3QiLCJmbXRLZXkiLCJvdXRWYWwiLCJfc2F2ZVBpZWNlIiwic2F2ZUZ1bmNOYW1lIiwiX2lubmVyU2F2ZVBpZWNlIiwiX3NhdmVBcnJheSIsIl9zYXZlTW9kZWwiLCJfc2F2ZU9iamVjdCIsIl9zYXZlU2ltcGxlIiwicHJpdmF0ZU5hbWUiLCJjdXJyZW50VmFsdWUiLCJfbm90aWZ5TGlzdGVuZXJzIiwib2xkVmFsIiwiX25vdGlmeU1vZGVsTGlzdGVuZXJzIiwiX25vdGlmeVByb3BlcnR5TGlzdGVuZXJzIiwibGlzdGVuZXJzIiwiRGF0YU1hbmFnZXIiLCJfcG9wdWxhdGVXaXRoRGVmYXVsdERhdGEiLCJkYXR1bSIsIklOYXZUcmFuc2l0aW9uVHlwZSIsIlNjcmlwdExvYWRlciIsIl9zY3JpcHRVUkxGb3JtYXQiLCJzY3JpcHQiLCJmb3JtYXR0ZWRVUkwiLCJjbGVhblVSTCIsImxvY2F0aW9uIiwiaHJlZiIsInNlYXJjaCIsInNwbGl0UGFyYW1zIiwic3BsaXRQIiwiU2hpZWxkIiwic2hpZWxkQ29udGVudCIsIl9jcmVhdGVTaGllbGREZXRhaWxzIiwiX3Nob3dFbGVtZW50VGltZW91dCIsInRlc3RVaV8xIiwiQ29uc29sZVVuaXRUZXN0VUkiLCJfYnVpbGRUZXN0U3RyaW5nIiwiaW5mbyIsImhlYWRlclN0ciIsIl9jdXJyZW50R3JvdXAiLCJfY3VycmVudFN1Ymdyb3VwIiwiX2J1aWxkVmFsdWVTdHJpbmciLCJfcGFzc1RvU3RyaW5nIiwiVUkiLCJncm91cHMiLCJ0ZXN0Q29udGFpbmVyIiwiX2dldFBhcmVudEVsZW1lbnQiLCJncm91cCIsInBhc3NTdHIiLCJib3JkZXJDb2xsYXBzZSIsImJvcmRlcldpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsImh0bWxVaV8xIiwiSFRNTFVuaXRUZXN0VUkiLCJfZHJhd2FibGUiLCJleHRlbmRlZFJlc3VsdHMiLCJhZGRUZXN0UmVzdWx0IiwiYWRkVmlzdWFsQnV0dG9uIiwidGltZUluTXMiLCJfdHlwZWd1YXJkc18yIiwiQm91bmRWaWV3IiwiX3VwZGF0ZUZ1bmN0aW9ucyIsIl9tb2RlbCIsIl9nZXRDb25maWciLCJfc2V0Q29uZmlnIiwiX2dldE1vZGVsIiwiX3NldE1vZGVsIiwib2xkTW9kZWwiLCJfb25Qb3RlbnRpYWxNb2RlbENoYW5nZSIsIm9sZENvbmZpZyIsIl9vblBvdGVudGlhbENvbmZpZ0NoYW5nZSIsIl9jcmVhdGVVcGRhdGVGdW5jIiwiX3Nob3VsZERlbGV0ZSIsIl91cGRhdGVIdG1sRWxlbWVudCIsIl91cGRhdGVVcGRhdGVhYmxlIiwiX3VwZGF0ZUJvdW5kVmlldyIsIl9jcmVhdGVFbGVtZW50IiwiYm91bmRUbyIsIl9iaW5kRWxlbWVudCIsImJvdW5kRWxlbSIsIl9iaW5kIiwiaXNVcGRhdGVhYmxlVmlldyIsIlVwZGF0ZWFibGVWaWV3IiwiYWRkbFBhcmFtcyIsImNhbnZhc0dyb3VwXzEiLCJIVE1MNUNhbnZhcyIsIl9sYXllcnMiLCJfcmVjb25jaWxlT3B0aW9ucyIsIl9pbml0aWFsaXplUmVjdGFuZ2xlcyIsIl9yZWxhdGl2ZVZpZXciLCJfem9vbUZhY3RvciIsInpvb20iLCJfbmVlZHNSZWRyYXciLCJlZmZlY3RDYW52YXMiLCJfZWZmZWN0Q29udGV4dCIsInByZVJlbmRlciIsIl9vblByZVJlbmRlciIsInVzZXJPcHRpb25zIiwiX2NyZWF0ZURlZmF1bHRPcHRpb25zIiwiUkVOREVSX1JBVEUiLCJaT09NX0RFTFRBIiwiU0laRSIsIk1BWF9aT09NIiwiTUlOX1pPT00iLCJfYWJzb2x1dGVEaW1lbnNpb25zIiwiX2NyZWF0ZUNhbnZhcyIsImdldENvbnRleHQiLCJpc0ZvckVmZmVjdHMiLCJjbGVhclJlY3QiLCJfZHJhd0VhY2hFbGVtZW50IiwiX3JlbmRlckZyYW1lIiwiX2dldE9yQ3JlYXRlTGF5ZXIiLCJfdXBkYXRlQWJzb2x1dGVEaW1lbnNpb25zRnJvbUVsZW0iLCJhZGRlZERpbWVuc2lvbnMiLCJsYXllcklkeCIsImRlbHRhWSIsInpvb21EZWx0YSIsInpvb21YRGVsdGEiLCJ6b29tWURlbHRhIiwicGh5c2ljYWxEaW0iLCJ3aWR0aERlbHRhIiwiaGVpZ2h0RGVsdGEiLCJuZXdWaWV3IiwibmV3RGlzcGxheSIsIm5ld0Nvcm5lciIsIl9jYWxjdWxhdGVOZXdDb3JuZXJGcm9tRGVsdGEiLCJwYW4iLCJjb3JuZXJQb2ludCIsIl9vbk1vdXNlV2hlZWwiLCJfc3RhcnREcmFnUG9pbnQiLCJzY3JlZW5YIiwic2NyZWVuWSIsIl9kZWx0YURyYWdQb2ludCIsIl9vbkRyYWciLCJwYWdlWCIsInBhZ2VZIiwiX29uQ2xpY2siLCJfb25Ib3ZlciIsIl9oYW5kbGVFdmVudCIsInJlbGF0aXZlUHQiLCJjYW52YXNMZWZ0IiwiY2FudmFzVG9wIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJwaHlzaWNhbFB0IiwiYWJzb2x1dGVQdCIsImFic29sdXRlUmVjdCIsImxlZnRUb3BDb3JuZXIiLCJyZWxMZWZ0VG9wQ29ybmVyIiwiY29udmVydEFic29sdXRlUG9pbnRUb1JlbGF0aXZlUG9pbnQiLCJyaWdodEJvdHRvbUNvcm5lciIsInJlbFJpZ2h0Qm90dG9tQ29ybmVyIiwicmVsYXRpdmVWaWV3IiwiQ2lyY2xlRWxlbWVudCIsImNlbnRlciIsInRlbXAiLCJyYWRpdXMiLCJfY2VudGVyIiwiX3JhZGl1cyIsIkNpcmNsZSIsImJlZ2luUGF0aCIsImFyYyIsIl9kaXNwbGF5UmFkaXVzIiwiZmlsbCIsInpvb21GYWN0b3IiLCJ0cmlnXzEiLCJQYXRoRWxlbWVudCIsIl9wb2ludHMiLCJfdXBkYXRlRXh0cmVtYUZyb21Qb2ludHMiLCJQYXRoIiwiX3VwZGF0ZUV4dHJlbWFGcm9tUG9pbnQiLCJfZGlzcGxheVBvaW50cyIsImxpbmVUbyIsImNsb3NlUGF0aCIsImRpc3BsYXlQb2ludCIsInRtcFBvaW50cyIsInRtcFB0IiwiX3NjYWxlUG9pbnQiLCJuZXdEaXN0YW5jZSIsIlJlY3RhbmdsZUVsZW1lbnQiLCJSZWN0YW5nbGUiLCJfYm9yZGVyUmFkaXVzIiwiYlJhZCIsIl91bnJvdW5kZWRSZWN0IiwiX3JvdW5kZWRSZWN0IiwiZmlsbFJlY3QiLCJfZGlzcGxheUJvcmRlclJhZGl1cyIsIm1vdmVUbyIsInF1YWRyYXRpY0N1cnZlVG8iLCJUZXh0RWxlbWVudCIsIlRleHQiLCJfdGV4dCIsIl9hZGRTdHlsZUNoYW5nZUxpc3RlbmVyIiwidHh0IiwiZml4ZWQiLCJfZml4ZWQiLCJfY2FsY3VsYXRlVGV4dE1ldHJpY3MiLCJhZGRTdHlsZUNoYW5nZUxpc3RlbmVyIiwibWV0cmljcyIsIm1lYXN1cmVUZXh0IiwiZmlsbFRleHQiLCJIU0xQaWVjZSIsImNvbG9yXzEiLCJHbG9iYWxDb2xvciIsIl91c2VkQ29sb3JzIiwiX2lubmVyQ29sb3IiLCJjb2xvclN0ciIsImdldE5leHRDb2xvciIsImdldEFwcGFyZW50Q29sb3IiLCJmcm9udENvbG9yIiwiZ2V0Q29tcGxlbWVudGFyeUNvbG9yIiwiY3V0b2ZmIiwiZ2V0TGlnaHRuZXNzIiwidG9SZ2JhU3RyaW5nIiwiaGV4VG9SZ2IiLCJoZXhUb1JnYmEiLCJoc2xUb1JnYiIsImhzbGFUb1JnYmEiLCJDb21tYW5kU3RhdGUiLCJDdXN0b21pemFibGVDb21tYW5kIiwib25FeGVjdXRlIiwib25VbmV4ZWN1dGUiLCJfb25FeGVjdXRlIiwiX29uVW5leGVjdXRlIiwiX3N0YXRlIiwiRVhFQ1VURUQiLCJSRVZFUlNFRCIsIkNvbnRleHRNZW51Q29sb3JzIiwiQ29udGV4dE1lbnUiLCJub1N0eWxlcyIsIl90YXJnZXQiLCJfbm9TdHlsZXMiLCJtZW51QkciLCJtZW51VGV4dCIsIm1lbnVPcHRCRyIsIm1lbnVCb3JkZXIiLCJtZW51T3B0TmVzdGVkIiwibWVudUJvcmRlck5lc3RlZCIsIm1lbnVTZWxlY3RlZFRleHQiLCJtZW51U2VsZWN0ZWRCb3JkZXIiLCJzdWJPcHRpb25zIiwiaGFzRWxlbWVudCIsIm9wdGlvbl9jb250YWluZXIiLCJvbmNsaWNrIiwic3ViX3N1Y2Nlc3MiLCJzX29wdCIsImFkZFN1Yk9wdGlvbiIsInNyY09wdGlvbiIsInN1Yk9wdGlvbiIsImFkZE9wdGlvbiIsIl9nZXRPcHRpb24iLCJzdWJfbWVudSIsIl9idWlsZFN1Yk1lbnUiLCJpQ29sIiwiX3dpbmRvd0xpc3RlbmVyc0FkZGVkIiwiX2hpZGVFeGlzdGluZ01lbnUiLCJwb3NfeCIsInBvc195IiwiY3RybEtleSIsInN0b3BQcm9wYWdhdGlvbiIsIl9zZXRUaGVtZUNvbG9ycyIsIl9zaG93aW5nTWVudSIsImxpbmtlZE5vZGVfMSIsIkxpbmtlZExpc3QiLCJfbGVuZ3RoIiwiaW5zZXJ0IiwibmV3Tm9kZSIsIm5leHROb2RlIiwiX2dldE5vZGVBdElkeCIsInByZXZOb2RlIiwiX2xhc3ROb2RlIiwiX2ZpcnN0Tm9kZSIsImN1ck5vZGUiLCJfaXNFcXVhbCIsIl9nZXROb2RlQXRJZHhGb3J3YXJkIiwiX2dldE5vZGVBdElkeEJhY2t3YXJkIiwiYmluYXJ5VHJlZV8xIiwiQmFsYW5jZWRCaW5hcnlUcmVlIiwiX3Jvb3QiLCJfcmViYWxhbmNlIiwiX3JlYmFsYW5jZVN1YlRyZWUiLCJfcm90YXRlIiwib3Bwb3NpdGVTaWRlIiwiX29wcG9zaXRlU2lkZSIsIlNlbGZCYWxhbmNpbmdCaW5hcnlUcmVlIiwiX3RyZWUiLCJpc0xlYWZOb2RlIiwic2lkZSIsIm5ld1Jvb3QiLCJUcmllIiwiX2hhbmRsZVRlcm1pbmF0aW5nV29yZCIsIl9oYW5kbGVOb25UZXJtaW5hdGluZ1dvcmQiLCJfdGVybWluYXRlcyIsInNwbGl0V29yZCIsIl9zcGxpdFdvcmQiLCJmaXJzdENoYXIiLCJyZXN0T2ZXb3JkIiwiZ2V0T2JqZWN0U3RyaW5nIiwicHJlZml4IiwiaXNIdG1sIiwiRnVuY3Rpb24iLCJuZXdMaW5lIiwidGFiIiwib3V0cHV0U3RyIiwiSVNfREVCVUciLCJwcmludE9iamVjdCIsInByaW50Q2FsbFN0YWNrIiwic3RhY2siLCJkZWJ1Z1BvaW50IiwiRHJhZ2dhYmxlRnVuY3Rpb25zIiwiZXhpc3RpbmdEcmFnZ2FibGVfMSIsIm1ha2VEcmFnZ2FibGUiLCJkcmciLCJvdmVycmlkZUZ1bmN0aW9ucyIsIlNpbXBsZURyYXdhYmxlIiwiZHluYW1pY09wdGlvbl8xIiwiRHluYW1pY1NlbGVjdCIsIl9hdmFpbGFibGVPcHRpb25zIiwiX3ZhbHVlIiwiX29uUXVlcnlUZXh0Q2hhbmdlIiwia2V5ZG93biIsIl9vbktleUV2ZW50IiwiX29uQmx1ciIsIl9vbkZvY3VzIiwiY2xlYXJCdG4iLCJkcmF3ZXIiLCJpbm5lck9wdGlvbnMiLCJsb2FkaW5nSWNvbiIsIm9wdGlvbiIsIl91cGRhdGVGaWx0ZXJpbmciLCJfc2VsZWN0TGlzdGVuZXJzIiwiX3NlYXJjaExpc3RlbmVycyIsIl9jaGFuZ2VMaXN0ZW5lcnMiLCJzZWxlY3RlZE9wdGlvbiIsImN1clRleHQiLCJfbm90aWZ5Q2hhbmdlTGlzdGVuZXJzIiwiX3F1ZXJ5IiwiZm91bmROZXh0IiwiZ2V0Q3VycmVudCIsImhpbGl0ZSIsInVuaGlsaXRlIiwiX2NvbGxhcHNlRHJhd2VyIiwiX2V4cGFuZERyYXdlciIsIl9ub3RpZnlTZWxlY3RMaXN0ZW5lcnMiLCJzZWFyY2hTdHIiLCJfbm90aWZ5U2VhcmNoTGlzdGVuZXJzIiwidHJ5RmlsdGVyIiwicXVlcnlUZXh0IiwiX2N1cnJlbnRRdWVyeSIsIl9pc1F1ZXJ5aW5nIiwiX25leHRRdWVyeSIsIl9vblF1ZXJ5IiwibWluV2lkdGgiLCJhbmltYXRpb24iLCJpc0VkaXRhYmxlIiwiRWRpdGFibGUiLCJpc011bHRpbGluZSIsImlucHV0VHlwZSIsIl9pc011bHRpbGluZSIsIl9hZGRIYW5kbGVycyIsIl9pc01vZGlmeWluZyIsIl9hZGRMaXN0ZW5lcnMiLCJsaWdodEJnIiwib25VcGRhdGUiLCJvbkZvcm1hdCIsInBhcnNlQ29udGVudCIsIm9uUGFyc2VDb250ZW50IiwiX2FkZERlZmF1bHRGb3JtYXRIYW5kbGVycyIsIl9hZGREZWZhdWx0Rm9ybWF0SGFuZGxlciIsIl9hZGREZWZhdWx0UGFyc2VIYW5kbGVyIiwiZm9yRWRpdCIsIl9yZW5kZXJEaXNwbGF5VmlldyIsIl9oYW5kbGVGb2N1c0V2ZW50Iiwic2hpZnRLZXkiLCJtb2RpZnkiLCJ2YWxpZGF0ZWQiLCJwYXNzZWQiLCJfb25WYWxpZGF0aW9uUGFzc2VkIiwiX29uVmFsaWRhdGlvbkZhaWxlZCIsImFsbG93TGVhdmUiLCJfaGlkZUVsZW1lbnQiLCJfc2hvd0VsZW1lbnQiLCJ1c2VyU2VsZWN0IiwiTW96VXNlclNlbGVjdCIsIldlYmtpdFVzZXJTZWxlY3QiLCJraHRtbFVzZXJTZWxlY3QiLCJvVXNlclNlbGVjdCIsIm91dGxpbmUiLCJib3JkZXJDb2xvciIsIkdvb2dsZUxvZ2luQnV0dG9uIiwiY2xpZW50SWQiLCJkb21haW4iLCJfY2xpZW50SWQiLCJfZG9tYWluIiwiX2xvZ2luTGlzdGVuZXJzIiwiX2xvZ291dExpc3RlbmVycyIsIl9pc0xvZ2dlZEluIiwiZ2FwaSIsImxvYWQiLCJhdXRoMiIsImluaXQiLCJjbGllbnRfaWQiLCJoZCIsImN1cnJlbnRVc2VyIiwibGlzdGVuIiwidXNlciIsImdldEJhc2ljUHJvZmlsZSIsInNpZ25pbjIiLCJyZW5kZXIiLCJfb25TaWduSW4iLCJnb29nbGVVc2VyIiwicHJvZmlsZSIsIl9nb29nbGVQcm9maWxlIiwiZ2V0SWQiLCJpZF90b2tlbiIsImdldEF1dGhSZXNwb25zZSIsIl9sb2dpbiIsIl9vblNpZ25lZEluIiwiX29uU2lnbkluRmFpbHVyZSIsInNpZ25PdXQiLCJnZXRBdXRoSW5zdGFuY2UiLCJfbG9nb3V0IiwiX0ZpbGVTdG9yYWdlIiwiX0RFRkFVTFRfU0laRSIsImZpbGVOYW1lIiwiZGlyZWN0b3J5UGF0aCIsImZzIiwiX2dldEZpbGVTeXN0ZW0iLCJkaXJFbnRyeSIsIl9nZXREaXJlY3RvcnlFbnRyeSIsImZpbGUiLCJfY3JlYXRlRmlsZSIsImZ3IiwiX2dldEZpbGVXcml0ZXIiLCJfd3JpdGVGaWxlIiwiZmlsZUVudHJ5IiwiX2dldEZpbGVFbnRyeSIsIl9nZXRGaWxlIiwiX3JlYWRGaWxlIiwiX2RlbGV0ZUZpbGUiLCJkaXJlY3RvcnlOYW1lIiwiX3JlYWREaXJlY3RvcnlDb250ZW50cyIsIl9maWxlU3lzdGVtIiwicmVxdWVzdEZpbGVTeXN0ZW0iLCJ3ZWJraXRSZXF1ZXN0RmlsZVN5c3RlbSIsIlBFUlNJU1RFTlQiLCJfZmlsZVN5c3RlbVR5cGUiLCJxdW90YVNpemUiLCJfcmVxdWVzdFF1b3RhIiwiX3JlcXVlc3RGaWxlU3lzdGVtIiwid2Via2l0U3RvcmFnZUluZm8iLCJyZXF1ZXN0UXVvdGEiLCJncmFudGVkQnl0ZXMiLCJfaGFuZGxlRXJyb3IiLCJjcmVhdGVXcml0ZXIiLCJ3cml0ZXIiLCJlbnRyeSIsImFwcGVuZCIsIm9ud3JpdGVlbmQiLCJzZWVrIiwid3JpdGUiLCJvbmVycm9yIiwidHJ1bmNhdGUiLCJnZXRGaWxlIiwiZXhjbHVzaXZlIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZGVuZCIsInJlYWRBc1RleHQiLCJmaWxlU3lzdGVtIiwibG9vcENudCIsIl9jbGVhbkRpcmVjdG9yeSIsImN1ckRpciIsIl9nZXRGaWxlU3lzdGVtUm9vdCIsInBhdGhQaWVjZXMiLCJfc3BsaXREaXJlY3RvcnlQYXRoUGllY2VzIiwicGF0aFBpZWNlIiwiX2dldFN1YkRpcmVjdG9yeSIsImRpcmVjdG9yeUVudHJ5Iiwic3ViUGF0aCIsImdldERpcmVjdG9yeSIsImNyZWF0ZVJlYWRlciIsInJlYWRFbnRyaWVzIiwiZW50cmllcyIsIkZpbGVTdG9yYWdlIiwibXVsdGlTZWxlY3RCdXR0b25GaWVsZF8xIiwiRXhwYW5kYWJsZUJ1dHRvbkZpZWxkIiwiX2luc3RhbmNlcyIsImluc3RhbmNlIiwiX2NyZWF0ZUF2YWlsYWJsZU9wdGlvbnMiLCJhcHBlbmRUb0lkIiwiX2NyZWF0ZUlucHV0Iiwib3B0RWxlbSIsIl9jcmVhdGVBdmFpbGFibGVPcHRpb24iLCJpbnB1dFdyYXBwZXIiLCJfYWRkSW5wdXRGaWVsZCIsIl9hZGRBZGRCdXR0b24iLCJfc2hvd0lucHV0RmllbGQiLCJrZXlFdmVudCIsIl9hZGROZXdPcHRpb24iLCJfY2xlYXJJbnB1dEZpZWxkIiwiYWRkQnRuIiwiX2FkZEJ0bkxhYmVsIiwiX2RvZXNFbGVtZW50QWxyZWFkeUV4aXN0IiwiX2NyZWF0ZU5ld09wdGlvbiIsIlNpbmdsZVNlbGVjdEJ1dHRvbkZpZWxkIiwiX3NlbGVjdGVkQnRuIiwiYXJyYXlDaGlsZEZpZWxkXzEiLCJBcnJheUZpZWxkIiwiX2NoaWxkVGVtcGxhdGUiLCJjaGlsZFRlbXBsYXRlIiwiQVJSQVkiLCJfbmV3TGFiZWwiLCJuZXdMYWJlbCIsIl9hbGxvd1Jlb3JkZXJpbmciLCJfY3JlYXRlTmV3QnV0dG9uIiwibmV3QnV0dG9uIiwiX2NyZWF0ZU5ld0NoaWxkIiwiX2dlbmVyYXRlQ2hpbGRFbGVtZW50IiwiX2FkZE5ld0NoaWxkTGlzdGVuZXJzIiwiX2ZpbmFsaXplTmV3Q2hpbGQiLCJhZGRPcmRlcmluZ0xpc3RlbmVyIiwiY2hpbGREYXRhIiwiY3VySWR4IiwibmV4dElkeCIsImNoaWxkRWxlbSIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJncmlkQ29sdW1uR2FwIiwiZ3JpZFJvd0dhcCIsIndlYmtpdFVzZXJTZWxlY3QiLCJtc1VzZXJTZWxlY3QiLCJGaWxlVXBsb2FkRmllbGQiLCJGSUxFX1VQTE9BRCIsImZpbGVQYXRoRmllbGRfMSIsIlBob3RvUGF0aEZpZWxkIiwicGhvdG9XcmFwcGVyIiwibGlua0J0biIsImxpbmtVUkwiLCJ1cGxvYWRCdG4iLCJfb25GaWxlU2VsZWN0ZWQiLCJwaG90b1VSTCIsImxpbmsiLCJibG9icyIsIl9yZXNpemVJbWFnZXMiLCJkZWZlciIsImZpbGVSZWFkZXIiLCJyZWFkQXNEYXRhVVJMIiwib25sb2FkIiwiZGF0YVVybCIsImltZyIsIkltYWdlIiwiY3ZzIiwibWF4U2l6ZSIsImRyYXdJbWFnZSIsInRvQmxvYiIsImJsb2IiLCJvdXRGaWxlcyIsImZJZHgiLCJfcmVzaXplSW1hZ2UiLCJfbG9hZEltYWdlIiwiX3JlbmRlck9uQ2FudmFzIiwiX2Zvcm1fMSIsIkVtYmVkZGVkRm9ybSIsIkZ1bGxTY3JlZW5Gb3JtIiwiSW5saW5lRm9ybSIsIlBvcHVwRm9ybSIsImNsb3NlQnV0dG9uIiwiQ2hlY2tib3hGaWVsZCIsIkNIRUNLQk9YIiwiaW5wdXRCb3giLCJpbnB1dElubmVyQm94IiwiaW5uZXJMYmwiLCJDb2xvckZpZWxkIiwiQ09MT1IiLCJEYXRlRmllbGQiLCJEQVRFIiwibmV3RGF0ZSIsIkRhdGVUaW1lRmllbGQiLCJEQVRFX1RJTUUiLCJkYXRlV3JhcHBlciIsImRhdGVJbnB1dCIsInRpbWVWYWwiLCJ0aW1lV3JhcHBlciIsInRpbWVJbnB1dCIsInRpbWVTdHIiLCJIaWRkZW5GaWVsZCIsIkhJRERFTiIsIk9iamVjdFNlbGVjdEZpZWxkIiwiU0VMRUNUIiwic2xpbU9wdGlvbnMiLCJvSWR4IiwiUGFzc3dvcmRGaWVsZCIsIlBBU1NXT1JEIiwibnVtYmVyRmllbGRfMSIsIlBlcmNlbnRhZ2VGaWVsZCIsIlBFUkNFTlRBR0UiLCJTZWxlY3RGaWVsZCIsInYiLCJUZXh0QXJlYUZpZWxkIiwiVEVYVEFSRUEiLCJkaXNwbGF5U3RyIiwiVGV4dEZpZWxkIiwiVEVYVCIsIlRpbWVGaWVsZCIsIlRJTUUiLCJoaXN0b3J5XzEiLCJVbmRvQ2hhaW4iLCJfc2hvdWxkSWdub3JlRXZlbnQiLCJyZWRvIiwidW5kbyIsInVuZG9hYmxlIiwibmF2aWdhdGVCYWNrIiwicmV2ZXJzZUZ1bmN0aW9uIiwibmF2aWdhdGVGb3J3YXJkIiwiZm9yd2FyZEZ1bmN0aW9uIiwiaXNJRWxlbURlZmluaXRpb24iLCJpc0lkZW50aWZpYWJsZU1vZGVsIiwic2VyaWFsaXphYmxlTW9kZWxfMSIsIklkZW50aWZpYWJsZU1vZGVsIiwiX3VwZGF0ZUxhc3RJZCIsIl9nZW5lcmF0ZU5ld0lkIiwiX2xhc3RJZCIsIl9wcmVmaXgiLCJsYXN0SWQiLCJwcmVmaXhSZWciLCJsYXN0TnVtZXJpY0lkIiwiaXNOYU4iLCJnZW5lcmF0ZVVuaXF1ZUlEIiwiSW1hZ2VFbGVtZW50IiwiX3NyYyIsIl9jbGVhckNsYXNzZXMiLCJfY2hlY2tGb3JJbWFnZUxvYWQiLCJfb25FcnJvciIsIl9kb2VzSW1hZ2VIYXZlTWlzc2luZ1NpemUiLCJfbWVhc3VyZUltYWdlIiwiX3Jlc2l6ZSIsIl93aWR0aFRvSGVpZ2h0UmF0aW8iLCJkYXRhTWFuYWdlcl8xIiwiQXN5bmNNYW5hZ2VyIiwiX2luRmxpZ2h0IiwiX2xvYWRBbmRDcmVhdGUiLCJkcmF3TGluZSIsImhvc3QiLCJsYmxOb1JvdGF0ZSIsImRpdiIsImxibEVsZW0iLCJhcnJhbmdlUmFkaWFsbHkiLCJjZW50cmFsRUxlbSIsImZyaW5nZUVsZW1zIiwibWluQW5nbGUiLCJtYXhBbmdsZSIsImF2YWlsYWJsZUFuZ2xlIiwiZGVsdGFBbmdsZSIsIm1heERpc3RhbmNlIiwiY2VudHJhbFBvaW50IiwiZWxlbVJhZGl1cyIsImNlbnRyYWxBbmdsZSIsImludGVybmFsQW5nbGUiLCJhcHByb3ByaWF0ZURpc3RhbmNlIiwidXBkYXRlTGluZSIsImxpbmUiLCJjb25uZWN0RWxlbWVudHMiLCJzdGFydF9lbGVtIiwiZW5kX2VsZW0iLCJzdGFydF9wb2ludCIsImVuZF9wb2ludCIsInhfMSIsInhfMiIsInlfMSIsInlfMiIsIk5hdmlnYXRvciIsIl92aWV3cyIsIl9oaXN0b3J5IiwiX2hhbmRsZVN0YXRlIiwiX2NyZWF0ZUhlYWRlciIsIl9jdXJyZW50VmlldyIsIm5hdmlnYXRpb25QYXRoIiwiYWRkbERhdGEiLCJmcm9tSGlzdG9yeU5hdmlnYXRpb24iLCJfY2FuTmF2aWdhdGVBd2F5IiwiaXNDYW5jZWwiLCJfaGFuZGxlQ3VycmVudFZpZXdPbk5hdmlnYXRlIiwidmlldyIsIl91cGRhdGVWaWV3IiwiX2NyZWF0ZVZpZXciLCJfaGFuZGxlVHJhbnNpdGlvbiIsIl91cGRhdGVIaXN0b3J5IiwiY2FuTmF2aWdhdGVBd2F5IiwibmF2QXdheURhdGEiLCJvbk5hdmlnYXRlQXdheSIsImhpc3RvcnlTdGF0ZSIsInVwZGF0ZUN1cnJlbnRTdGF0ZSIsImFkZGxBcmdzIiwiaGlzdG9yeSIsIl9wdXNoSGlzdG9yeVN0YXRlIiwiX3RyYW5zaXRpb25UeXBlIiwiT1BBQ0lUWSIsIl9vcGFjaXR5VHJhbnNpdGlvbiIsIl9ub1RyYW5zaXRpb24iLCJwdXNoU3RhdGUiLCJzdGF0ZSIsIm5hdmlnYXRlVG8iLCJBcHBsaWNhdGlvblN0YXRlIiwiX21vZGVscyIsImFzSHRtbCIsIm5ld0xpbmVDaGFyIiwidGFiQ2hhciIsInZhbFN0ciIsIl9mb3JtYXRQcm9wZXJ0eUFzSFRNTCIsIl9mb3JtYXRQcm9wZXJ0eUFzUGxhaW5UZXh0IiwiX2Zvcm1hdCIsImNyZWF0ZVNwZWNpZmljRWxlbWVudHNfMSIsIkxvZ2luUG9wdXAiLCJfbG9naW5DYWxsYmFjayIsInVzZXJuYW1lRWxlbXMiLCJ1c2VybmFtZSIsInBhc3N3b3JkRWxlbXMiLCJwYXNzd29yZCIsIlRvYXN0UG9wdXAiLCJzaG93Rm9yIiwiX3Nob3dGb3IiLCJzY3JpcHRMb2FkZXJfMSIsInVybF8xIiwiUm91dGVyIiwiX3JvdXRlIiwiX2xvYWRlciIsIkFqYXhUeXBlRW51bSIsImFqYXhSZXF1ZXN0Iiwic3VjY2Vzc0NiIiwiZXJyb3JDYiIsImhlYWRlclBhcmFtcyIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIkFjdGl2ZVhPYmplY3QiLCJfZ2V0WG1sUmVxdWVzdE9iamVjdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJfYXNzaWduWG1sUmVxdWVzdENhbGxiYWNrcyIsIkdFVCIsIm9wZW4iLCJfYWRkSGVhZGVyRGF0YSIsInNlbmQiLCJfc2VuZEdldFJlcXVlc3QiLCJQT1NUIiwidXJpUGFyYW1zIiwicmVxSGVhZGVyVHlwZSIsIkZvcm1EYXRhIiwicGFyYW1PdXQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJfYnVpbGRQYXJhbWV0ZXJzIiwic2V0UmVxdWVzdEhlYWRlciIsIl9zZW5kUG9zdFJlcXVlc3QiLCJfc2VuZFhtbFJlcXVlc3QiLCJhamF4IiwiYWpheERldGFpbHMiLCJyZXF1ZXN0VXJsIiwibG9hZEZpbGUiLCJzYXZlRmlsZSIsIkJsb2IiLCJmaWxlbmFtZSIsIm5hdmlnYXRvciIsIm1zU2F2ZU9yT3BlbkJsb2IiLCJtc1NhdmVCbG9iIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiX2dlbmVyYXRlRG93bmxvYWQiLCJzaGllbGRfMSIsIkxvYWRpbmdTaGllbGQiLCJsb2FkaW5nVGV4dCIsIl9sb2FkaW5nVGV4dCIsImljb24iLCJmcm9tIiwidG8iLCJCdWNrZXRIZWxwZXIiLCJ0aGluZ3MiLCJnZXRCdWNrZXQiLCJidWNrZXQiLCJUSEVNRV9CR19DT0xPUl9DTFMiLCJUSEVNRV9DT0xPUl9DTFMiLCJUSEVNRV9DT0xPUl9IT1ZFUl9DTFMiLCJ0ZXN0XzEiLCJjb25zb2xlVW5pdFRlc3RVaV8xIiwiQ29uc29sZVVuaXRUZXN0ZXIiLCJfX3VpIiwiaHRtbFVuaXRUZXN0VWlfMSIsIkhUTUxVbml0VGVzdGVyIiwiYWRkVmlzdWFsVGVzdEJ1dHRvbiIsIlZpZXciXSwibWFwcGluZ3MiOiI2REFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIs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QU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxJQUN0RCxNQUFNeUosRUFBYSxFQUFRLEdBUzNCLE1BQU0ybkUsVUFBYTNuRSxFQUFXVSxTQU0xQixVQUFVKzlCLElBU1YsZ0JBQWdCcWlDLEdBRVosT0FBTyxFQVFYLGVBQWVBLEdBRVgsT0FBTyxNQUdmMXJFLEVBQVF1eUUsS0FBT0EiLCJmaWxlIjoidG9vbGtpcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA5MCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCBzdHlsZXNfMSA9IHJlcXVpcmUoXCIuLi9zdHlsZUhlbHBlcnMvc3R5bGVzXCIpO1xuY29uc3QgaGVscGVyXzEgPSByZXF1aXJlKFwiLi4vYmluZGluZy9oZWxwZXJcIik7XG5jb25zdCBfdHlwZWd1YXJkc18xID0gcmVxdWlyZShcIi4uL2RyYXdhYmxlL190eXBlZ3VhcmRzXCIpO1xuY29uc3QgbmF2aWdhdGVfMSA9IHJlcXVpcmUoXCIuLi9vYmplY3RIZWxwZXJzL25hdmlnYXRlXCIpO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFBVQkxJQyBGVU5DVElPTlMgRk9SIENSRUFUSU5HIEVMRU1FTlRTXG4vKipcbiAqIGNyZWF0ZVNpbXBsZUVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZXMgYSBkaXYgZWxlbWVudCB3aXRoIHRoZSBwcm92aWRlZCBpZCwgY2xhc3MsIGNvbnRlbnQsIGFuZCBhdHRyaWJ1dGVzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBJRCB0byBhc3NpZ24gdGhlIGVsZW1lbnQge29wdGlvbmFsfVxuICogQHBhcmFtIHtzdHJpbmd9IGNscyAtIFRoZSBjbGFzcyB0byBhc3NpZ24gdGhlIGVsZW1lbnQge29wdGlvbmFsfVxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnQgLSBXaGF0IHRvIGluY2x1ZGUgYXMgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXYge29wdGlvbmFsfVxuICogQHBhcmFtIHthcnJ9IGF0dHIgLSBBbiBhcnJheSBvZiBrZXktdmFsdWUgcGFpcnMgdGhhdCBzZXRzIGFsbCBvdGhlciBhdHRyaWJ1dGVzIGZvciB0aGUgZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBUaGUgY3JlYXRlZCBlbGVtZW50LCB3aXRoIGFsbCBzcGVjaWZpZWQgcGFyYW1ldGVycyBpbmNsdWRlZC5cbiAqXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNpbXBsZUVsZW1lbnQoaWQsIGNscywgY29udGVudCwgYXR0ciwgY2hpbGRyZW4sIHBhcmVudCkge1xuICAgIGxldCBvYmo7XG4gICAgb2JqID0ge307XG4gICAgb2JqLmlkID0gaWQ7IC8vIFNldCB0aGUgZWxlbWVudCdzIElEXG4gICAgb2JqLnR5cGUgPSBcImRpdlwiOyAvLyBTZXQgdGhlIHR5cGUgb2YgZWxlbWVudCB0byBjcmVhdGVcbiAgICBvYmouY29udGVudCA9IGNvbnRlbnQ7IC8vIFNldCB3aGF0IHRoZSBjb250ZW50IG9mIHRoZSBlbGVtZW50IHNob3VsZCBiZVxuICAgIG9iai5jbHMgPSBjbHM7IC8vIFNldCB0aGUgYXBwcm9wcmlhdGUgQ1NTIGNsYXNzIGZvciB0aGUgZWxlbWVudFxuICAgIG9iai5hdHRyID0gYXR0cjsgLy8gU2V0IGEgbGlzdCBvZiBhdHRyaWJ1dGVzIGZvciB0aGUgZWxlbWVudFxuICAgIG9iai5jaGlsZHJlbiA9IGNoaWxkcmVuOyAvLyBBdHRhY2ggY2hpbGRyZW4gdG8gdG8gdGhlIGVsZW1lbnRcbiAgICBvYmoucGFyZW50ID0gcGFyZW50OyAvLyBBdHRhY2ggdGhlIGNyZWF0ZWQgZWxlbWVudCB0byB0aGUgYXBwcm9wcmlhdGUgcGFyZW50XG4gICAgLy8gVXNlIG91ciBzdGFuZGFyZCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgZWxlbWVudHNcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChvYmopO1xufVxuZXhwb3J0cy5jcmVhdGVTaW1wbGVFbGVtZW50ID0gY3JlYXRlU2ltcGxlRWxlbWVudDtcbjtcbi8qKlxuICogY3JlYXRlRWxlbWVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGVzIGFuIEhUTUwgZWxlbWVudCB3aXRoIHRoZSBhdHRyaWJ1dGVzIHRoYXQgYXJlIHBhc3NlZCBpbiB0aHJvdWdoIHRoZVxuICogb2JqZWN0LlxuICpcbiAqIEBwYXJhbSAgIG9iaiAgICAgICAgICAgICBUaGUgb2JqZWN0IHRvIGJhc2UgdGhlIGVsZW1lbnQgb2ZmIG9mXG4gKiBAcGFyYW0gICBba2V5ZWRFbGVtc10gICAgSWYgcHJvdmlkZWQsIHRoZSBlbGVtZW50cyB0aGF0IHdlcmUgY3JlYXRlZCB3aXRoIGEga2V5XG4gKlxuICogQHJldHVybnMgVGhlIEhUTUwgZWxlbWVudCB3aXRoIGFsbCBhdHRyaWJ1dGVzIHNwZWNpZmllZCBieSB0aGUgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQob2JqLCBrZXllZEVsZW1zKSB7XG4gICAgaWYgKCFvYmopIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gX2NyZWF0ZUVsZW1lbnRDb3JlKG9iaiwga2V5ZWRFbGVtcyk7XG59XG5leHBvcnRzLmNyZWF0ZUVsZW1lbnQgPSBjcmVhdGVFbGVtZW50O1xuLyoqXG4gKiBjcmVhdGVDdXN0b21FbGVtZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGVzIGFuIEhUTUwgZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgYXR0cmlidXRlcywgYnV0IGFsbG93cyBmb3JcbiAqIGFkZGl0aW9uYWwgcHJvY2Vzc2luZyBvbiB0aGUgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gb2JqICAgICAgICAgICBUaGUgb2JqZWN0IHRvIGJhc2UgdGhlIGVsZW1lbnQgb2ZmIG9mXG4gKiBAcGFyYW0ga2V5ZWRFbGVtcyAgICBJZiBwcm92aWRlZCwgdGhlIGVsZW1lbnRzIHRoYXQgd2VyZSBjcmVhdGVkIHZpYSBhIGtleVxuICogQHBhcmFtIHJlY3Vyc2VWaWEgICAgVGhlIGN1c3RvbSBmdW5jdGlvbiB3ZSBzaG91bGQgcmVjdXJzZSB0aHJvdWdoXG4gKlxuICogQHJldHVybnMgVGhlIGNyZWF0ZWQgZWxlbWVudFxuICovXG5mdW5jdGlvbiBjcmVhdGVDdXN0b21FbGVtZW50KG9iaiwga2V5ZWRFbGVtcywgcmVjdXJzZVZpYSkge1xuICAgIGlmICghb2JqKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIF9jcmVhdGVFbGVtZW50Q29yZShvYmosIGtleWVkRWxlbXMsIHJlY3Vyc2VWaWEpO1xufVxuZXhwb3J0cy5jcmVhdGVDdXN0b21FbGVtZW50ID0gY3JlYXRlQ3VzdG9tRWxlbWVudDtcbi8qKlxuICogY3JlYXRlU1ZHRWxlbWVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjcmVhdGUgYSBTVkcgZWxlbWVudCBzcGVjaWZpY2FsbHlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU1ZHRWxlbWVudChvYmosIGtleWVkRWxlbXMpIHtcbiAgICBpZiAoIW9iaikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghb2JqLm5hbWVzcGFjZSkge1xuICAgICAgICBvYmoubmFtZXNwYWNlID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO1xuICAgIH1cbiAgICByZXR1cm4gX2NyZWF0ZUVsZW1lbnRDb3JlKG9iaiwga2V5ZWRFbGVtcyk7XG59XG5leHBvcnRzLmNyZWF0ZVNWR0VsZW1lbnQgPSBjcmVhdGVTVkdFbGVtZW50O1xuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBJTlRFUk5BTCBGVU5DVElPTlMgRk9SIENSRUFUSU5HIEVMRU1FTlRTXG4vKipcbiAqIF9jcmVhdGVFbGVtZW50Q29yZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjcmVhdGUgYSBET00gZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgZGV0YWlsc1xuICovXG5mdW5jdGlvbiBfY3JlYXRlRWxlbWVudENvcmUob2JqLCBrZXllZEVsZW1zLCByZWN1cnNlVmlhKSB7XG4gICAgbGV0IGVsZW07XG4gICAgbGV0IGRyYXdhYmxlO1xuICAgIGlmIChvYmouZHJhd2FibGUpIHtcbiAgICAgICAgZHJhd2FibGUgPSBuZXcgb2JqLmRyYXdhYmxlKCk7XG4gICAgICAgIGVsZW0gPSBkcmF3YWJsZS5iYXNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZWxlbSA9IF9jcmVhdGVTdGFuZGFyZEVsZW1lbnQob2JqKTtcbiAgICB9XG4gICAgLy8gbWFrZSBzdXJlIHdlIGNhbiByZWN1cnNlIGVmZmVjdGl2ZWx5XG4gICAgaWYgKCFyZWN1cnNlVmlhKSB7XG4gICAgICAgIHJlY3Vyc2VWaWEgPSBfY3JlYXRlRWxlbWVudENvcmU7XG4gICAgfVxuICAgIC8vIHNldCBhdHRyaWJ1dGVzIG9mIHRoZSBlbGVtZW50XG4gICAgX3NldEVsZW1JZGVudGZpZXJzKGVsZW0sIG9iaiwga2V5ZWRFbGVtcywgZHJhd2FibGUpO1xuICAgIF9zZXRFbGVtQ2xhc3MoZWxlbSwgb2JqKTtcbiAgICBfc2V0RWxlbUF0dHJpYnV0ZXMoZWxlbSwgb2JqKTtcbiAgICBfc2V0RWxlbVN0eWxlKGVsZW0sIG9iaik7XG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKGVsZW0sIG9iaik7XG4gICAgX3NldEtpcFRvb2x0aXAoZWxlbSwgb2JqKTtcbiAgICAvLyBzZXQgY29udGVudCBvZiB0aGUgZWxlbWVudFxuICAgIF9zZXRFbGVtQmFzZUNvbnRlbnQoZWxlbSwgb2JqKTtcbiAgICBfYWRkRWxlbUNoaWxkcmVuKGVsZW0sIG9iaiwga2V5ZWRFbGVtcywgcmVjdXJzZVZpYSk7XG4gICAgX3NldEVsZW1Qb3N0Q2hpbGRyZW5Db250ZW50KG9iaiwgZWxlbSk7XG4gICAgLy8gYXBwZW5kIHRoZSBlbGVtZW50IHRvIGFuIGFwcHJvcHJpYXRlIHBhcmVudFxuICAgIF9hcHBlbmRFbGVtVG9QYXJlbnQob2JqLCBlbGVtKTtcbiAgICByZXR1cm4gZWxlbTtcbn1cbi8qKlxuICogX2NyZWF0ZVN0YW5kYXJkRWxlbWVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjcmVhdGUgdGhlIGFwcHJvcHJvYXRlIHR5cGUgb2YgZWxlbWVudFxuICovXG5mdW5jdGlvbiBfY3JlYXRlU3RhbmRhcmRFbGVtZW50KG9iaikge1xuICAgIGxldCBlbGVtO1xuICAgIGxldCB0eXBlID0gb2JqLnR5cGUgfHwgXCJkaXZcIjtcbiAgICBpZiAob2JqLm5hbWVzcGFjZSkge1xuICAgICAgICBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG9iai5uYW1lc3BhY2UsIHR5cGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgfVxuICAgIHJldHVybiBlbGVtO1xufVxuLyoqXG4gKiBfc2V0RWxlbUlkZW50aWZpZXJzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGFzc2lnbiBhbiBJRCB0byB0aGlzIGVsZW1lbnQsIGFuZCBhZGQgaXQgdG8gdGhlIGtleWVkIGFycmF5IGlmIGFwcHJvcHJpYXRlXG4gKi9cbmZ1bmN0aW9uIF9zZXRFbGVtSWRlbnRmaWVycyhlbGVtLCBvYmosIGtleWVkRWxlbXMsIGRyYXdhYmxlKSB7XG4gICAgLy8gc2V0IHRoZSBpZCBvbiB0aGUgbmV3bHkgY3JlYXRlZCBvYmplY3RcbiAgICBpZiAob2JqLmlkKSB7XG4gICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKFwiaWRcIiwgb2JqLmlkKTtcbiAgICB9XG4gICAgLy8gaWYgdGhlcmUgaXMgYSBrZXksIGFkZCB0aGlzIGVsZW1lbnQgdG8gdGhlIGtleWVkIGVsZW1lbnRzXG4gICAgaWYgKG9iai5rZXkgJiYga2V5ZWRFbGVtcykge1xuICAgICAgICBpZiAoZHJhd2FibGUpIHtcbiAgICAgICAgICAgIGtleWVkRWxlbXNbb2JqLmtleV0gPSBkcmF3YWJsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGtleWVkRWxlbXNbb2JqLmtleV0gPSBlbGVtO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBfc2V0RWxlbUNsYXNzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHNldCB0aGUgQ1NTIGNsYXNzIG9mIHRoaXMgZWxlbWVudCAoaW5jbHVkaW5nIGNyZWF0aW5nIGl0IGlmIGl0IGRvZXNuJ3RcbiAqIGV4aXN0KVxuICovXG5mdW5jdGlvbiBfc2V0RWxlbUNsYXNzKGVsZW0sIG9iaikge1xuICAgIGlmICghb2JqLmNscykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIENoZWNrIHRoYXQgdGhlIGNsYXNzIGlzIGEgc3RyaW5nIGJlZm9yZSBzZXR0aW5nIGl0XG4gICAgaWYgKHR5cGVvZiBvYmouY2xzID09PSB0eXBlb2YgXCJzdHJpbmdcIikge1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyhlbGVtLCBvYmouY2xzKTtcbiAgICAgICAgLy8gSWYgaXQncyBhbiBvYmplY3QsIHdlIG5lZWQgdG8gY3JlYXRlIHRoZSBjbGFzcyhlcykgZmlyc3RcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIG9iai5jbHMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgbmF2aWdhdGVfMS5tYXAob2JqLmNscywgKHZhbHVlLCBzZWxlY3RvcikgPT4ge1xuICAgICAgICAgICAgc3R5bGVzXzEuY3JlYXRlQ2xhc3Moc2VsZWN0b3IsIHZhbHVlKTtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKGVsZW0sIHNlbGVjdG9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBBVFRSSUJVVEUgU1BFQ0lGSUNcbi8qKlxuICogX3NldEVsZW1BdHRyaWJ1dGVzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHNldCBhbnkgYWRkaXRpb25hbCBhdHRyaWJ1dGVzIGZvciB0aGUgZWxlbWVudCB0aGF0IGFyZW4ndCBkZWZpbmVkIGFzIGNvbW1vblxuICogZW5vdWdoIHRvIGJlIG9uIHRoZSBiYXNlIGVsZW0gZGVmaW5pdGlvblxuICovXG5mdW5jdGlvbiBfc2V0RWxlbUF0dHJpYnV0ZXMoZWxlbSwgb2JqKSB7XG4gICAgLy8gaWYgd2UgZG9uJ3QgaGF2ZSBhbiBhdHRyaWJ1dGVzIGFycmF5LCB3ZSB3YW50IG9uZVxuICAgIGlmICghb2JqLmF0dHIpIHtcbiAgICAgICAgb2JqLmF0dHIgPSB7fTtcbiAgICB9XG4gICAgLy8gaGFuZGxlIGFjY2Vzc2liaWxpdHkgb24gZWxlbWVudHMgdGhhdCBjYW4gYmUgc2VsZWN0ZWRcbiAgICBpZiAoX2lzRm9jdXNhYmxlKG9iaikpIHtcbiAgICAgICAgb2JqLmZvY3VzYWJsZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChfbmVlZHNUYWJJbmRleChvYmopKSB7XG4gICAgICAgIG9iai5hdHRyLnRhYmluZGV4ID0gMDtcbiAgICB9XG4gICAgLy8gbG9vcCBvdmVyIGFsbCBvZiB0aGUgYXR0cmlidXRlc1xuICAgIG5hdmlnYXRlXzEubWFwKG9iai5hdHRyLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICBpZiAoZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlLmtleSkge1xuICAgICAgICAgICAgbGV0IHBhaXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIF9zZXRFbGVtQXR0cmlidXRlKGVsZW0sIHBhaXIua2V5LCBwYWlyLnZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfc2V0RWxlbUF0dHJpYnV0ZShlbGVtLCBrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBfaXNGb2N1c2FibGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY2hlY2tzIGlmIHRoaXMgZWxlbWVudCBzaG91bGQgYmUgYWJsZSB0byByZWNlaXZlIGZvY3VzXG4gKi9cbmZ1bmN0aW9uIF9pc0ZvY3VzYWJsZShvYmopIHtcbiAgICBpZiAoIWZhbHNleV8xLmlzTnVsbE9yVW5kZWZpbmVkKG9iai5mb2N1c2FibGUpKSB7XG4gICAgICAgIHJldHVybiBvYmouZm9jdXNhYmxlO1xuICAgIH1cbiAgICBpZiAoIW9iai5ldmVudExpc3RlbmVycykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghb2JqLmV2ZW50TGlzdGVuZXJzLmNsaWNrKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIF9uZWVkc1RhYkluZGV4XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNoZWNrIGlmIHRoaXMgZWxlbWVudCBzaG91bGQgYmUgZ2V0dGluZyBhIHRhYiBpbmRleCB2YWx1ZVxuICovXG5mdW5jdGlvbiBfbmVlZHNUYWJJbmRleChvYmopIHtcbiAgICBpZiAoIV9pc0ZvY3VzYWJsZShvYmopKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG9iai5hdHRyLnRhYkluZGV4KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIF9zZXRFbGVtQXR0cmlidXRlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHNldHMgdGhlIGFjdHVhbCBjb250ZW50cyBvZiBhIHBhcnRpY3VsYXIgYXR0cmlidXRlXG4gKi9cbmZ1bmN0aW9uIF9zZXRFbGVtQXR0cmlidXRlKGVsZW0sIGtleSwgdmFsdWUpIHtcbiAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAvLyB2YWx1ZSBnZXRzIHNwZWNpYWwgaGFuZGxpbmdcbiAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICBlbGVtLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gZXZlcnl0aGluZyBlbHNlIGdvZXMgdGhyb3VnaCBzZXQgYXR0cmlidXRlXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8qKlxuICogX3NldEVsZW1TdHlsZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBzZXQgdGhlIGFwcHJvcHJpYXRlIGVsZW1lbnQtbGV2ZWwgc3R5bGVzIGZvciB0aGlzIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gX3NldEVsZW1TdHlsZShlbGVtLCBvYmopIHtcbiAgICBpZiAoIW9iai5zdHlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIG5hdmlnYXRlXzEubWFwKG9iai5zdHlsZSwgKHZhbCwga2V5KSA9PiB7XG4gICAgICAgIGVsZW0uc3R5bGVba2V5XSA9IHZhbDtcbiAgICB9KTtcbn1cbi8qKlxuICogX3NldEV2ZW50TGlzdGVuZXJzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGdvIHRocm91Z2ggYW55IHJlZ2lzdGVyZWQgZXZlbnQgbGlzdGVuZXJzIG9uIHRoaXMgZWxlbWVudCBhbmQgYXNzaWduIHRoZW1cbiAqL1xuZnVuY3Rpb24gX3NldEV2ZW50TGlzdGVuZXJzKGVsZW0sIG9iaikge1xuICAgIGlmICghb2JqLmV2ZW50TGlzdGVuZXJzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gaWYgdGhpcyBpcyBhbiBhY2Nlc3NpYmxlIG9iamVjdCBhbmQgaXQgY2FuIHRha2UgZm9jdXMsIGFkZCBrZXliYW9yZCBsaXN0ZW5lcnMgdG9vXG4gICAgaWYgKG9iai5mb2N1c2FibGUgJiYgb2JqLmV2ZW50TGlzdGVuZXJzLmNsaWNrICYmICFvYmouZXZlbnRMaXN0ZW5lcnMua2V5cHJlc3MpIHtcbiAgICAgICAgbGV0IGNsaWNrRnVuYyA9IG9iai5ldmVudExpc3RlbmVycy5jbGljaztcbiAgICAgICAgb2JqLmV2ZW50TGlzdGVuZXJzLmtleXByZXNzID0gKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgIT09IDEzICYmIGUua2V5Q29kZSAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGlja0Z1bmMoZSk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG4gICAgICAgIGxldCBwcmV2ZW50Rm9jdXMgPSBmYWxzZTtcbiAgICAgICAgb2JqLmV2ZW50TGlzdGVuZXJzLm1vdXNlZG93biA9IChlKSA9PiB7XG4gICAgICAgICAgICBwcmV2ZW50Rm9jdXMgPSB0cnVlO1xuICAgICAgICAgICAgZWxlbS5ibHVyKCk7XG4gICAgICAgIH07XG4gICAgICAgIG9iai5ldmVudExpc3RlbmVycy5tb3VzZXVwID0gKGUpID0+IHtcbiAgICAgICAgICAgIHByZXZlbnRGb2N1cyA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBvYmouZXZlbnRMaXN0ZW5lcnMuZm9jdXMgPSAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHByZXZlbnRGb2N1cykge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlbGVtLmJsdXIoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgbGlzdGVuZXJzIHRvIGFkZCB0aGVtIHRvIHRoZSBlbGVtZW50XG4gICAgbmF2aWdhdGVfMS5tYXAob2JqLmV2ZW50TGlzdGVuZXJzLCAobGlzdGVuZXIsIGtleSkgPT4ge1xuICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoa2V5LCBsaXN0ZW5lcik7XG4gICAgfSk7XG59XG4vKipcbiAqIF9zZXRLaXBUb29sdGlwXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHNldCBhIG1vcmUgVUktZm9jdXNlZCB0b29sdGlwIG9uIGEgcGFydGljdWxhciBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIF9zZXRLaXBUb29sdGlwKGVsZW0sIG9iaikge1xuICAgIGlmICghb2JqLnRvb2x0aXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBGSVhNRTogZG9uJ3QgaGF2ZSBjaXJjdWxhciByZWZlcmVuY2VcbiAgICAvL25ldyBUb29sdGlwKHsgY29udGVudDogb2JqLnRvb2x0aXAgfSwgZWxlbSBhcyBIVE1MRWxlbWVudCk7XG59XG4vKipcbiAqIF9zZXRFbGVtQmFzZUNvbnRlbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogc2V0IHRoZSBpbml0aWFsIGNvbnRlbnQgb2YgdGhlIGVsZW1lbnQsIHdoaWNoIHdpbGwgYmUgcmVuZGVyZWQgYmVmb3JlIGFueVxuICogY2hpbGRyZW4gYXJlIGFkZGVkXG4gKi9cbmZ1bmN0aW9uIF9zZXRFbGVtQmFzZUNvbnRlbnQoZWxlbSwgb2JqKSB7XG4gICAgLy8gU2V0IHRoZSBmaXJzdCBiaXQgb2YgY29udGVudCBpbiB0aGUgZWxlbWVudCAoZ3VhcmFudGVlZCB0byBjb21lIGJlZm9yZSBjaGlsZHJlbilcbiAgICBpZiAob2JqLmJlZm9yZV9jb250ZW50KSB7XG4gICAgICAgIGVsZW0uaW5uZXJIVE1MID0gb2JqLmJlZm9yZV9jb250ZW50O1xuICAgIH1cbiAgICAvLyBBbHNvIGNoZWNrIGZvciBqdXN0IHBsYWluIFwiQ29udGVudFwiXG4gICAgaWYgKG9iai5jb250ZW50KSB7XG4gICAgICAgIGVsZW0uaW5uZXJIVE1MICs9IG9iai5jb250ZW50O1xuICAgIH1cbiAgICAvLyBhbHNvIGNoZWNrIGZvciBib3VuZCBjb250ZW50OyBpZiB3ZSBmaW5kIGl0LCBhZGQgb3VyIG93biBjb250ZW50IHVwZGF0ZXJcbiAgICBpZiAob2JqLmJvdW5kQ29udGVudCkge1xuICAgICAgICBlbGVtLmlubmVySFRNTCA9IGhlbHBlcl8xLmJpbmQob2JqLmJvdW5kQ29udGVudCwgKG5ld1ZhbCkgPT4ge1xuICAgICAgICAgICAgZWxlbS5pbm5lckhUTUwgPSBuZXdWYWw7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogX2FkZEVsZW1DaGlsZHJlblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBhZGQgYW55IGFwcHJvcHJpYXRlIGNoaWxkcmVuIHRvIHRoaXMgZWxlbWVudFxuICovXG5mdW5jdGlvbiBfYWRkRWxlbUNoaWxkcmVuKGVsZW0sIG9iaiwga2V5ZWRFbGVtcywgcmVjdXJzZVZpYSkge1xuICAgIGlmICghb2JqLmNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gbG9vcCB0aHJvdWdoIGVhY2ggY2hpbGRcbiAgICBmb3IgKGxldCBjIG9mIG9iai5jaGlsZHJlbikge1xuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlcmUgaXMgYSBjaGlsZFxuICAgICAgICBpZiAoIWMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcImNhbm5vdCBhcHBlbmQgbm9uLWV4aXN0ZW50IGNoaWxkIGVsZW1lbnRcIik7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGUgY2hpbGQgaXMgYSBkcmF3YWJsZSwgZHJhdyBpdCBvbiB0aGUgYmFzZVxuICAgICAgICBpZiAoKF90eXBlZ3VhcmRzXzEuaXNEcmF3YWJsZShjKSkpIHtcbiAgICAgICAgICAgIGMuZHJhdyhlbGVtKTtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBjaGlsZCBpcyBhbHJlYWR5IGFuIGVsZW1lbnQsIGp1c3QgYWRkIGl0XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYy5zZXRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIGVsZW0uYXBwZW5kQ2hpbGQoYyk7XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UsIHJlY3Vyc2UgdG8gY3JlYXRlIHRoaXMgY2hpbGRcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkZWYgPSBjO1xuICAgICAgICAgICAgaWYgKG9iai5uYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgICBkZWYubmFtZXNwYWNlID0gb2JqLm5hbWVzcGFjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHJlY3Vyc2VWaWEoZGVmLCBrZXllZEVsZW1zKTtcbiAgICAgICAgICAgIGVsZW0uYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBfc2V0RWxlbVBvc3RDaGlsZHJlbkNvbnRlbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogaWYgdGhlcmUgaXMgY29udGVudCBzcGVjaWZpZWQgYWZ0ZXIgY2hpbGRyZW4sIHNldCBpdCBoZXJlXG4gKi9cbmZ1bmN0aW9uIF9zZXRFbGVtUG9zdENoaWxkcmVuQ29udGVudChvYmosIGVsZW0pIHtcbiAgICBpZiAoIW9iai5hZnRlcl9jb250ZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxlbS5pbm5lckhUTUwgKz0gb2JqLmFmdGVyX2NvbnRlbnQ7XG59XG4vKipcbiAqIF9hcHBlbmRFbGVtVG9QYXJlbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogYWRkIHRoaXMgZWxlbWVudCB0byBhIHBhcmVudCBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIF9hcHBlbmRFbGVtVG9QYXJlbnQob2JqLCBlbGVtKSB7XG4gICAgaWYgKCFvYmoucGFyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgb2JqLnBhcmVudC5hcHBlbmRDaGlsZChlbGVtKTtcbn1cbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgc3RyaW5nc18xID0gcmVxdWlyZShcIi4uL3ByaW1pdGl2ZUhlbHBlcnMvc3RyaW5nc1wiKTtcbmNvbnN0IF90eXBlZ3VhcmRzXzEgPSByZXF1aXJlKFwiLi4vZHJhd2FibGUvX3R5cGVndWFyZHNcIik7XG4vKipcbiAqIGFkZENsYXNzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBbGxvd3MgYSB1c2VyIHRvIHNhZmVseSBhZGQgYSBDU1MgY2xhc3MgdG8gYW4gZWxlbWVudCdzIGV4aXN0aW5nIGxpc3Qgb2YgQ1NTIGNsYXNzZXNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9ICAgZWxlbSAgICAgIFRoZSBlbGVtZW50IHRoYXQgc2hvdWxkIGhhdmUgaXRzIGNsYXNzIHVwZGF0ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSAgICAgICAgbmV3Q2xhc3MgIFRoZSBjbGFzcyB0byBhZGQgdGhlIGVsZW1lbnRcbiAqXG4gKi9cbmZ1bmN0aW9uIGFkZENsYXNzKGVsZW0sIG5ld0NsYXNzKSB7XG4gICAgbGV0IGNscztcbiAgICBsZXQgZTtcbiAgICBpZiAoIWVsZW0gfHwgIW5ld0NsYXNzKVxuICAgICAgICByZXR1cm47XG4gICAgLy8gSGFuZGxlIERyYXdhYmxlcyBiZWluZyBwYXNzZWQgaW5cbiAgICBpZiAoX3R5cGVndWFyZHNfMS5pc0RyYXdhYmxlKGVsZW0pKSB7XG4gICAgICAgIGUgPSBlbGVtLmJhc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlID0gZWxlbTtcbiAgICB9XG4gICAgLy8gU3RpbGwgc3Vwb3J0IHNldHRpbmcgdGhlIGNsYXNzIGlmIHRoZSBjbGFzcyBpcyBub3Qgb3JpZ2luYWxseSBzZXRcbiAgICBjbHMgPSBlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIGlmICghY2xzKSB7XG4gICAgICAgIGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgbmV3Q2xhc3MpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNscyA9IFwiIFwiICsgY2xzICsgXCIgXCI7XG4gICAgaWYgKGNscy5pbmRleE9mKFwiIFwiICsgbmV3Q2xhc3MgKyBcIiBcIikgPT09IC0xKSB7XG4gICAgICAgIGNscyA9IGNscyArIG5ld0NsYXNzO1xuICAgICAgICBlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHN0cmluZ3NfMS50cmltKGNscykpO1xuICAgIH1cbn1cbmV4cG9ydHMuYWRkQ2xhc3MgPSBhZGRDbGFzcztcbjtcbi8qKlxuICogcmVtb3ZlQ2xhc3NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEFsbG93cyBhIHVzZXIgdG8gc2FmZWx5IHJlbW92ZSBhIENTUyBjbGFzcyB0byBhbiBlbGVtZW50J3MgZXhpc3RpbmcgbGlzdCBvZiBDU1MgY2xhc3Nlc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbSAgICAgIFRoZSBlbGVtZW50IHRoYXQgc2hvdWxkIGhhdmUgaXRzIGNsYXNzIHVwZGF0ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSAgICAgIG5ld0NsYXNzICBUaGUgY2xhc3MgdG8gcmVtb3ZlIGZyb20gdGhlIGVsZW1lbnRcbiAqXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW0sIG9sZENsYXNzKSB7XG4gICAgO1xuICAgIGxldCBjbHM7XG4gICAgbGV0IGxlbjtcbiAgICBsZXQgZTtcbiAgICAvLyBRdWl0IGlmIHdlJ3JlIG1pc3Npbmcgc29tZXRoaW5nXG4gICAgaWYgKCFlbGVtIHx8ICFvbGRDbGFzcylcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIEhhbmRsZSBEcmF3YWJsZXMgYmVpbmcgcGFzc2VkIGluXG4gICAgaWYgKF90eXBlZ3VhcmRzXzEuaXNEcmF3YWJsZShlbGVtKSkge1xuICAgICAgICBlID0gZWxlbS5iYXNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZSA9IGVsZW07XG4gICAgfVxuICAgIC8vIFB1bGwgb3V0IHRoZSBDU1MgY2xhc3NcbiAgICBjbHMgPSBcIiBcIiArIGUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgKyBcIiBcIjtcbiAgICBsZW4gPSBjbHMubGVuZ3RoO1xuICAgIGNscyA9IGNscy5yZXBsYWNlKFwiIFwiICsgb2xkQ2xhc3MgKyBcIiBcIiwgXCIgXCIpO1xuICAgIC8vIE9ubHkgcmVzZXQgdGhlIGNsYXNzIGF0dHJpYnV0ZSBpZiBpdCBhY3R1YWxseSBjaGFuZ2VkXG4gICAgaWYgKGNscy5sZW5ndGggIT09IGxlbikge1xuICAgICAgICBlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHN0cmluZ3NfMS50cmltKGNscykpO1xuICAgIH1cbn1cbmV4cG9ydHMucmVtb3ZlQ2xhc3MgPSByZW1vdmVDbGFzcztcbjtcbi8qKlxuICogaGFzQ2xhc3NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENoZWNrcyB3aGV0aGVyIGEgcHJvdmlkZWQgSFRNTCBlbGVtZW50IGhhcyBhIENTUyBjbGFzcyBhcHBsaWVkXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gIGVsZW0gIFRoZSBlbGVtZW50IHRvIGNoZWNrXG4gKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgIGNscyAgIFRoZSBDU1MgY2xhc3MgdG8gY2hlY2sgZm9yXG4gKiBAcmV0dXJuIHtCb29sZWFufSAgICAgICAgICAgIFRydWUgaWYgdGhlIGVsZW1lbnQgaGFzIHRoZSBDU1MgY2xhc3MgYXBwbGllZDsgZmFsc2Ugb3RoZXJ3aXNlXG4gKlxuICovXG5mdW5jdGlvbiBoYXNDbGFzcyhlbGVtLCBjbHMpIHtcbiAgICBsZXQgZTtcbiAgICBsZXQgY3VyX2NscztcbiAgICBpZiAoIWVsZW0pXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBIYW5kbGUgRHJhd2FibGVzIGJlaW5nIHBhc3NlZCBpblxuICAgIGlmIChfdHlwZWd1YXJkc18xLmlzRHJhd2FibGUoZWxlbSkpIHtcbiAgICAgICAgZSA9IGVsZW0uYmFzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGUgPSBlbGVtO1xuICAgIH1cbiAgICAvLyBHcmFiIHRoZSBjdXJyZW50IENTUyBjbGFzcyBhbmQgY2hlY2sgaWYgdGhlIHBhc3NlZC1pbiBjbGFzcyBpcyBwcmVzZW50XG4gICAgY3VyX2NscyA9IFwiIFwiICsgZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSArIFwiIFwiO1xuICAgIGlmIChjdXJfY2xzLmluZGV4T2YoXCIgXCIgKyBjbHMgKyBcIiBcIikgPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnRzLmhhc0NsYXNzID0gaGFzQ2xhc3M7XG47XG4vKipcbiAqIHNldFByb3BlcnR5XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTZXRzIHRoZSBDU1MgZGVmaW5pdGlvbiBmb3IgYSBnaXZlbiBjbGFzcyBhbmQgYXR0cmlidXRlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbHMgICAtIFRoZSBjbGFzcyB0byBjaGFuZ2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBpdGVtICAtIFRoZSBhdHRyaWJ1dGUgd2l0aGluIHRoZSBjbGFzcyB0byB1cGRhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWwgICAtIFRoZSBuZXcgdmFsdWUgdG8gc2V0IHRoZSBhdHRyaWJ1dGUgdG9cbiAqIEBwYXJhbSB7Ym9vbH0gZm9yY2UgICAtIElmIHRydWUsIHdpbGwgY3JlYXRlIHRoZSBDU1MgYXR0cmlidXRlIGV2ZW4gaWYgaXQgZG9lc24ndCBleGlzdFxuICpcbiAqIEByZXR1cm4ge2Jvb2x9IFRydWUgaWYgdGhlIENTUyB3YXMgc3VjY2Vzc2Z1bGx5IHNldCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmZ1bmN0aW9uIHNldFByb3BlcnR5KGNscywgaXRlbSwgdmFsLCBmb3JjZSkge1xuICAgIGxldCBpO1xuICAgIGxldCBjc3M7XG4gICAgbGV0IHNJZHg7XG4gICAgbGV0IHJ1bGVzO1xuICAgIGxldCBydWxlO1xuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgb2YgdGhlIHN0eWxlc2hlZXRzIHdlIGhhdmUgYXZhaWxhYmxlXG4gICAgZm9yIChzSWR4ID0gMDsgc0lkeCA8IGRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aDsgc0lkeCArPSAxKSB7XG4gICAgICAgIC8vIFB1bGwgaW4gdGhlIGFwcHJvcHJpYXRlIGluZGV4IGZvciB0aGUgYnJvd3NlciB3ZSdyZSB1c2luZ1xuICAgICAgICBjc3MgPSBkb2N1bWVudC5hbGwgPyAncnVsZXMnIDogJ2Nzc1J1bGVzJzsgLy9jcm9zcyBicm93c2VyXG4gICAgICAgIHJ1bGVzID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbc0lkeF1bY3NzXTtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBydWxlcyB0byBsb29wIG92ZXIuLi5cbiAgICAgICAgaWYgKHJ1bGVzKSB7XG4gICAgICAgICAgICAvLyAuLi4gbG9vcCB0aHJvdWdoIHRoZW0gYW5kIGNoZWNrIGlmIHRoZXkgYXJlIHRoZSBjbGFzcyB3ZSBhcmUgbG9va2luZyBmb3JcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHJ1bGUgPSBydWxlc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgbWF0Y2ggb24gdGhlIGNsYXNzLi4uXG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUuc2VsZWN0b3JUZXh0ID09PSBjbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gLi4uIGFuZCB0aGUgY2xhc3MgaGFzIHRoZSBpdGVtIHdlJ3JlIGxvb2tpbmcgZm9yIC4uLlxuICAgICAgICAgICAgICAgICAgICBpZiAoKHJ1bGUuc3R5bGVbaXRlbV0pIHx8IChmb3JjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLi4uIHNldCBpdCB0byBvdXIgbmV3IHZhbHVlLCBhbmQgcmV0dXJuIHRydWUuXG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlLnN0eWxlW2l0ZW1dID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUmV0dXJuIGZhbHNlIGlmIHdlIGRpZG4ndCBjaGFuZ2UgYW55dGhpbmdcbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLnNldFByb3BlcnR5ID0gc2V0UHJvcGVydHk7XG47XG4vKipcbiAqIGdldFByb3BlcnR5XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBHcmFicyB0aGUgdmFsdWUgb2YgYSBnaXZlbiBDU1MgY2xhc3MncyBhdHRyaWJ1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xzICAtIFRoZSBDU1MgY2xhc3MgdG8gbG9vayB3aXRoaW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpdGVtIC0gVGhlIGF0dHJpYnV0ZSB3ZSB3YW50IHRvIGdyYWIgdGhlIHZhbHVlIGZvclxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHZhbHVlIG9mIHRoYXQgcGFydGljdWxhciBDU1MgY2xhc3MncyBhdHRyaWJ1dGVcbiAqL1xuZnVuY3Rpb24gZ2V0UHJvcGVydHkoY2xzLCBpdGVtKSB7XG4gICAgbGV0IGk7XG4gICAgbGV0IGNzcztcbiAgICBsZXQgc0lkeDtcbiAgICBsZXQgcnVsZXM7XG4gICAgbGV0IHJ1bGU7XG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBvZiB0aGUgc3R5bGVzaGVldHMgd2UgaGF2ZSBhdmFpbGFibGVcbiAgICBmb3IgKHNJZHggPSAwOyBzSWR4IDwgZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoOyBzSWR4ICs9IDEpIHtcbiAgICAgICAgLy8gUHVsbCBpbiB0aGUgYXBwcm9wcmlhdGUgaW5kZXggZm9yIHRoZSBicm93c2VyIHdlJ3JlIHVzaW5nXG4gICAgICAgIGNzcyA9IGRvY3VtZW50LmFsbCA/ICdydWxlcycgOiAnY3NzUnVsZXMnOyAvL2Nyb3NzIGJyb3dzZXJcbiAgICAgICAgcnVsZXMgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1tzSWR4XVtjc3NdO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGFuIGluZGV4Li4uXG4gICAgICAgIGlmIChydWxlcykge1xuICAgICAgICAgICAgLy8gLi4uIGxvb3AgdGhyb3VnaCBhbGwgYW5kIGNoZWNrIGZvciB0aGUgYWN0dWFsIGNsYXNzXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBydWxlID0gcnVsZXNbaV07XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgZmluZCB0aGUgY2xhc3MuLi5cbiAgICAgICAgICAgICAgICBpZiAocnVsZS5zZWxlY3RvclRleHQgPT09IGNscykge1xuICAgICAgICAgICAgICAgICAgICAvLyAuLi4gcmV0dXJuIHdoYXQgdGhlIGl0ZW0gaXMgc2V0IHRvIChpZiBhbnl0aGluZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChydWxlLnN0eWxlW2l0ZW1dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUmV0dXJuIGEgYmxhbmsgc3RyaW5nIGlmIGl0IGNvdWxkbid0IGJlIGZvdW5kXG4gICAgcmV0dXJuIFwiXCI7XG59XG5leHBvcnRzLmdldFByb3BlcnR5ID0gZ2V0UHJvcGVydHk7XG47XG4vKipcbiAqIG9sZENyZWF0ZUNsYXNzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAZGVwcmVjYXRlZFxuICogQ3JlYXRlcyBhIENTUyBjbGFzcyBhbmQgYWRkcyBpdCB0byB0aGUgc3R5bGUgb2YgdGhlIGRvY3VtZW50XG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgc2VsZWN0b3IgICBDU1Mgc2VsZWN0b3IgdG8gdXNlIHRvIGRlZmluZSB3aGF0IGVsZW1lbnRzIGdldCB0aGlzIHN0eWxlXG4gKiBAcGFyYW0gIHthbnl9ICAgICAgICAgYXR0ciAgICAgICBBcnJheSBvZiBjc3MgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSBjbGFzc1xuICogQHBhcmFtICB7Ym9vbGVhbn0gICAgIFtub0FwcGVuZF0gVHJ1ZSBpZiB3ZSBzaG91bGRuJ3QgYWN0dWFsbHkgYWRkIHRoZSBjbGFzcyB0byB0aGUgZG9jdW1tZW50IHlldFxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9ICAgICAgICAgICAgVGhlIENTUyBzdHlsZSB0YWcgdGhhdCB3YXMgY3JlYXRlZFxuICovXG5mdW5jdGlvbiBvbGRDcmVhdGVDbGFzcyhzZWxlY3RvciwgYXR0ciwgbm9BcHBlbmQpIHtcbiAgICBsZXQgY2xzO1xuICAgIGxldCBhO1xuICAgIGxldCBzdHlsZXM7XG4gICAgLy8gR3JhYiB0aGUgc3R5bGUgbm9kZSBvZiB0aGlzIGRvY3VtZW50IChvciBjcmVhdGUgaXQgaWYgaXQgZG9lc24ndCBleGlzdClcbiAgICBzdHlsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInN0eWxlXCIpO1xuICAgIGlmIChub0FwcGVuZCB8fCBzdHlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjbHMgPSBzdHlsZXNbMF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIGNscy5pbm5lckhUTUwgPSBcIlwiO1xuICAgIH1cbiAgICAvLyBMb29wIHRocm91Z2ggdGhlIGF0dHJpYnV0ZXMgd2Ugd2VyZSBwYXNzZWQgaW4gdG8gY3JlYXRlIHRoZSBjbGFzc1xuICAgIGNscy5pbm5lckhUTUwgKz0gXCJcXG5cIiArIHNlbGVjdG9yICsgXCIge1xcblwiO1xuICAgIGZvciAoYSBpbiBhdHRyKSB7XG4gICAgICAgIGlmIChhdHRyLmhhc093blByb3BlcnR5KGEpKSB7XG4gICAgICAgICAgICBpZiAoYXR0clthXS5rZXkpIHtcbiAgICAgICAgICAgICAgICBjbHMuaW5uZXJIVE1MICs9IFwiXFx0XCIgKyBhdHRyW2FdLmtleSArIFwiOiBcIiArIGF0dHJbYV0udmFsICsgXCI7XFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbHMuaW5uZXJIVE1MICs9IFwiXFx0XCIgKyBhICsgXCIgOiBcIiArIGF0dHJbYV0gKyBcIjtcXG5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjbHMuaW5uZXJIVE1MICs9IFwiXFxufVwiO1xuICAgIC8vIEFwcGVuZCB0aGUgY2xhc3MgdG8gdGhlIGhlYWQgb2YgdGhlIGRvY3VtZW50XG4gICAgaWYgKCFub0FwcGVuZCkge1xuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGNscyk7XG4gICAgfVxuICAgIC8vIFJldHVybiB0aGUgc3R5bGUgbm9kZVxuICAgIHJldHVybiBjbHM7XG59XG5leHBvcnRzLm9sZENyZWF0ZUNsYXNzID0gb2xkQ3JlYXRlQ2xhc3M7XG4vKipcbiAqIGdldENvbXB1dGVkU3R5bGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEdldHMgdGhlIGNvbXB1dGVkIHN0eWxlIG9mIGEgZ2l2ZW4gZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW0gLSBUaGUgZWxlbWVudCB3ZSBhcmUgZ2V0dGluZyB0aGUgc3R5bGUgb2ZcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyIC0gSWYgcGFzc2VkIGluLCB0aGUgYXR0cmlidXRlIHRvIGdyYWIgZnJvbSB0aGUgZWxlbWVudCdzIHN0eWxlXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBFaXRoZXIgdGhlIHBhcnRpY3VsYXIgdmFsdWUgZm9yIHRoZSBwYXNzZWQgaW4gYXR0cmlidXRlLCBvciB0aGUgd2hvbGUgc3R5bGUgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGdldENvbXB1dGVkU3R5bGUoZWxlbSwgYXR0cikge1xuICAgIGxldCBzdHlsZTtcbiAgICBsZXQgZTtcbiAgICAvLyBIYW5kbGUgRHJhd2FibGVzIGJlaW5nIHBhc3NlZCBpblxuICAgIGlmIChlbGVtLmRyYXcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlID0gZWxlbS5iYXNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZSA9IGVsZW07XG4gICAgfVxuICAgIC8vIFVzZSB0aGUgbGlicmFyeSBmdW5jdGlvbiBvbiB0aGUgd2luZG93IGZpcnN0XG4gICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgICAgIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZSk7XG4gICAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShhdHRyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGF0IGRvZXNuJ3Qgd29yaywgbWF5YmUgaXQncyB0aHJvdWdoIHRoZSBjdXJyZW50U3R5bGUgcHJvcGVydHlcbiAgICB9XG4gICAgZWxzZSBpZiAoZS5jdXJyZW50U3R5bGUpIHtcbiAgICAgICAgc3R5bGUgPSBlLmN1cnJlbnRTdHlsZTtcbiAgICAgICAgaWYgKGF0dHIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZVthdHRyXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydHMuZ2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGU7XG4vKiogYWRkcyBhIGdlbmVyaWMgaGlkZGVuIGNsYXNzIHRvIHRoZSBkb2N1bWVudCAqL1xuZnVuY3Rpb24gYWRkSGlkZGVuQ2xhc3MoKSB7XG4gICAgbGV0IGNscztcbiAgICBjbHMgPSB7XG4gICAgICAgIFwiZGlzcGxheVwiOiBcIm5vbmVcIlxuICAgIH07XG4gICAgb2xkQ3JlYXRlQ2xhc3MoXCIuaGlkZGVuXCIsIGNscyk7XG59XG5leHBvcnRzLmFkZEhpZGRlbkNsYXNzID0gYWRkSGlkZGVuQ2xhc3M7XG4vKiogQWRkcyB0aGUgXCJ1bnNlbGVjdGFibGVcIiBjbGFzcyBkZWZpbml0aW9uIHRvIHRoZSBkb2N1bWVudCAqL1xuZnVuY3Rpb24gYWRkVW5zZWxlY3RhYmxlQ2xhc3MoKSB7XG4gICAgbGV0IGNscztcbiAgICBjbHMgPSB7XG4gICAgICAgIFwidXNlci1zZWxlY3RcIjogXCJub25lXCIsXG4gICAgICAgIFwiLW1vei11c2VyLXNlbGVjdFwiOiBcIm5vbmVcIixcbiAgICAgICAgXCItd2Via2l0LXVzZXItc2VsZWN0XCI6IFwibm9uZVwiLFxuICAgICAgICBcImtodG1sLXVzZXItc2VsZWN0XCI6IFwibm9uZVwiLFxuICAgICAgICBcIm8tdXNlci1zZWxlY3RcIjogXCJub25lXCJcbiAgICB9O1xuICAgIHJldHVybiBvbGRDcmVhdGVDbGFzcyhcIi51bnNlbGVjdGFibGVcIiwgY2xzLCB0cnVlKTtcbn1cbmV4cG9ydHMuYWRkVW5zZWxlY3RhYmxlQ2xhc3MgPSBhZGRVbnNlbGVjdGFibGVDbGFzcztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBFTlVNU1xuLyoqIHR5cGUgb2YgdGhlIGVsZW1lbnQgKi9cbnZhciBGaWVsZFR5cGVFbnVtO1xuKGZ1bmN0aW9uIChGaWVsZFR5cGVFbnVtKSB7XG4gICAgRmllbGRUeXBlRW51bVtGaWVsZFR5cGVFbnVtW1wiVEVYVFwiXSA9IDFdID0gXCJURVhUXCI7XG4gICAgRmllbGRUeXBlRW51bVtGaWVsZFR5cGVFbnVtW1wiTlVNQkVSXCJdID0gMl0gPSBcIk5VTUJFUlwiO1xuICAgIEZpZWxkVHlwZUVudW1bRmllbGRUeXBlRW51bVtcIkRBVEVcIl0gPSAzXSA9IFwiREFURVwiO1xuICAgIEZpZWxkVHlwZUVudW1bRmllbGRUeXBlRW51bVtcIlRJTUVcIl0gPSA0XSA9IFwiVElNRVwiO1xuICAgIEZpZWxkVHlwZUVudW1bRmllbGRUeXBlRW51bVtcIkRBVEVfVElNRVwiXSA9IDVdID0gXCJEQVRFX1RJTUVcIjtcbiAgICBGaWVsZFR5cGVFbnVtW0ZpZWxkVHlwZUVudW1bXCJTRUxFQ1RcIl0gPSA2XSA9IFwiU0VMRUNUXCI7XG4gICAgRmllbGRUeXBlRW51bVtGaWVsZFR5cGVFbnVtW1wiQ0hFQ0tCT1hcIl0gPSA3XSA9IFwiQ0hFQ0tCT1hcIjtcbiAgICBGaWVsZFR5cGVFbnVtW0ZpZWxkVHlwZUVudW1bXCJURVhUQVJFQVwiXSA9IDhdID0gXCJURVhUQVJFQVwiO1xuICAgIEZpZWxkVHlwZUVudW1bRmllbGRUeXBlRW51bVtcIkFSUkFZXCJdID0gOV0gPSBcIkFSUkFZXCI7XG4gICAgRmllbGRUeXBlRW51bVtGaWVsZFR5cGVFbnVtW1wiQVJSQVlfQ0hJTERcIl0gPSAxMF0gPSBcIkFSUkFZX0NISUxEXCI7XG4gICAgRmllbGRUeXBlRW51bVtGaWVsZFR5cGVFbnVtW1wiVE9HR0xFX0JVVFRPTlwiXSA9IDExXSA9IFwiVE9HR0xFX0JVVFRPTlwiO1xuICAgIEZpZWxkVHlwZUVudW1bRmllbGRUeXBlRW51bVtcIkNVU1RPTVwiXSA9IDEyXSA9IFwiQ1VTVE9NXCI7XG4gICAgRmllbGRUeXBlRW51bVtGaWVsZFR5cGVFbnVtW1wiU0VDVElPTlwiXSA9IDEzXSA9IFwiU0VDVElPTlwiO1xuICAgIEZpZWxkVHlwZUVudW1bRmllbGRUeXBlRW51bVtcIkhJRERFTlwiXSA9IDE0XSA9IFwiSElEREVOXCI7XG4gICAgRmllbGRUeXBlRW51bVtGaWVsZFR5cGVFbnVtW1wiRklMRV9VUExPQURcIl0gPSAxNV0gPSBcIkZJTEVfVVBMT0FEXCI7XG4gICAgRmllbGRUeXBlRW51bVtGaWVsZFR5cGVFbnVtW1wiRklMRV9QQVRIXCJdID0gMTZdID0gXCJGSUxFX1BBVEhcIjtcbiAgICBGaWVsZFR5cGVFbnVtW0ZpZWxkVHlwZUVudW1bXCJDT0xPUlwiXSA9IDE3XSA9IFwiQ09MT1JcIjtcbiAgICBGaWVsZFR5cGVFbnVtW0ZpZWxkVHlwZUVudW1bXCJQRVJDRU5UQUdFXCJdID0gMThdID0gXCJQRVJDRU5UQUdFXCI7XG4gICAgRmllbGRUeXBlRW51bVtGaWVsZFR5cGVFbnVtW1wiUEFTU1dPUkRcIl0gPSAxOV0gPSBcIlBBU1NXT1JEXCI7XG59KShGaWVsZFR5cGVFbnVtID0gZXhwb3J0cy5GaWVsZFR5cGVFbnVtIHx8IChleHBvcnRzLkZpZWxkVHlwZUVudW0gPSB7fSkpO1xuO1xudmFyIFZhbGlkYXRpb25UeXBlO1xuKGZ1bmN0aW9uIChWYWxpZGF0aW9uVHlwZSkge1xuICAgIFZhbGlkYXRpb25UeXBlW1ZhbGlkYXRpb25UeXBlW1wiS0VFUF9FUlJPUl9WQUxVRVwiXSA9IDFdID0gXCJLRUVQX0VSUk9SX1ZBTFVFXCI7XG4gICAgVmFsaWRhdGlvblR5cGVbVmFsaWRhdGlvblR5cGVbXCJSRVNUT1JFX09MRF9WQUxVRVwiXSA9IDJdID0gXCJSRVNUT1JFX09MRF9WQUxVRVwiO1xuICAgIFZhbGlkYXRpb25UeXBlW1ZhbGlkYXRpb25UeXBlW1wiQ0xFQVJfRVJST1JfVkFMVUVcIl0gPSAzXSA9IFwiQ0xFQVJfRVJST1JfVkFMVUVcIjtcbiAgICBWYWxpZGF0aW9uVHlwZVtWYWxpZGF0aW9uVHlwZVtcIk5PX0JMVVJfUFJPQ0VTU0VEXCJdID0gNF0gPSBcIk5PX0JMVVJfUFJPQ0VTU0VEXCI7XG59KShWYWxpZGF0aW9uVHlwZSA9IGV4cG9ydHMuVmFsaWRhdGlvblR5cGUgfHwgKGV4cG9ydHMuVmFsaWRhdGlvblR5cGUgPSB7fSkpO1xuLyoqIG9wdGlvbnMgZm9yIGxheW91dCAqL1xudmFyIEZvcm1FbGVtZW50TGF5b3V0RW51bTtcbihmdW5jdGlvbiAoRm9ybUVsZW1lbnRMYXlvdXRFbnVtKSB7XG4gICAgRm9ybUVsZW1lbnRMYXlvdXRFbnVtW0Zvcm1FbGVtZW50TGF5b3V0RW51bVtcIk1VTFRJTElORVwiXSA9IDBdID0gXCJNVUxUSUxJTkVcIjtcbiAgICBGb3JtRWxlbWVudExheW91dEVudW1bRm9ybUVsZW1lbnRMYXlvdXRFbnVtW1wiVEFCTEVcIl0gPSAxXSA9IFwiVEFCTEVcIjtcbiAgICBGb3JtRWxlbWVudExheW91dEVudW1bRm9ybUVsZW1lbnRMYXlvdXRFbnVtW1wiRkxFWFwiXSA9IDJdID0gXCJGTEVYXCI7XG4gICAgRm9ybUVsZW1lbnRMYXlvdXRFbnVtW0Zvcm1FbGVtZW50TGF5b3V0RW51bVtcIkxBQkVMX0FGVEVSXCJdID0gM10gPSBcIkxBQkVMX0FGVEVSXCI7XG59KShGb3JtRWxlbWVudExheW91dEVudW0gPSBleHBvcnRzLkZvcm1FbGVtZW50TGF5b3V0RW51bSB8fCAoZXhwb3J0cy5Gb3JtRWxlbWVudExheW91dEVudW0gPSB7fSkpO1xuO1xudmFyIEZvcm1TdHlsZU9wdGlvbnM7XG4oZnVuY3Rpb24gKEZvcm1TdHlsZU9wdGlvbnMpIHtcbiAgICBGb3JtU3R5bGVPcHRpb25zW0Zvcm1TdHlsZU9wdGlvbnNbXCJFTUJFRERFRFwiXSA9IDFdID0gXCJFTUJFRERFRFwiO1xuICAgIEZvcm1TdHlsZU9wdGlvbnNbRm9ybVN0eWxlT3B0aW9uc1tcIlBPUFVQXCJdID0gMl0gPSBcIlBPUFVQXCI7XG4gICAgRm9ybVN0eWxlT3B0aW9uc1tGb3JtU3R5bGVPcHRpb25zW1wiSU5MSU5FXCJdID0gM10gPSBcIklOTElORVwiO1xuICAgIEZvcm1TdHlsZU9wdGlvbnNbRm9ybVN0eWxlT3B0aW9uc1tcIkZVTExTQ1JFRU5cIl0gPSA0XSA9IFwiRlVMTFNDUkVFTlwiO1xufSkoRm9ybVN0eWxlT3B0aW9ucyA9IGV4cG9ydHMuRm9ybVN0eWxlT3B0aW9ucyB8fCAoZXhwb3J0cy5Gb3JtU3R5bGVPcHRpb25zID0ge30pKTtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBkcmF3YWJsZV8xID0gcmVxdWlyZShcIi4uL2RyYXdhYmxlL2RyYXdhYmxlXCIpO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG5jb25zdCBjc3NfMSA9IHJlcXVpcmUoXCIuLi9zdHlsZUhlbHBlcnMvY3NzXCIpO1xuY29uc3QgdGFibGVzXzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvdGFibGVzXCIpO1xuY29uc3QgY29tcGFyYWJsZV8xID0gcmVxdWlyZShcIi4uL2NvbXBhcmFibGUvY29tcGFyYWJsZVwiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY29uc3QgdG9vbHRpcF8xID0gcmVxdWlyZShcIi4uL3Rvb2x0aXAvdG9vbHRpcFwiKTtcbmNvbnN0IHRyYW5zaXRpb25fMSA9IHJlcXVpcmUoXCIuLi9zdHlsZUhlbHBlcnMvdHJhbnNpdGlvblwiKTtcbmNvbnN0IHN0eWxlc18xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy9zdHlsZXNcIik7XG5jb25zdCBldmVudEhhbmRsZXJfMSA9IHJlcXVpcmUoXCIuL2V2ZW50SGFuZGxlclwiKTtcbmNvbnN0IGhlbHBlcnNfMSA9IHJlcXVpcmUoXCIuL2hlbHBlcnNcIik7XG5jb25zdCBhc3luY18xID0gcmVxdWlyZShcIi4uL2FzeW5jXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRGaWVsZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogYWJzdHJhY3QgaW1wbGVtZW50YXRpb24gb2YgYSBmb3JtIGVsZW1lbnQgdG8gYmUgdXNlZCBpbiB0aGUgZm9ybSBsaWJyYXJ5XG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uXHQxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBGaWVsZCBleHRlbmRzIGRyYXdhYmxlXzEuRHJhd2FibGUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ09OU1RSVUNUIEEgRklFTERcbiAgICAvKipcbiAgICAgKiBGb3JtRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgYSBGb3JtIEVsZW1lbnRcbiAgICAgKiBAcGFyYW0gICBpZCAgICAgIFRoZSBJRCBvZiB0aGUgZWxlbWVudDsgc2hvdWxkIGJlIHVuaXF1ZSBpbiB0aGUgZm9ybVxuICAgICAqIEBwYXJhbSAgIGRhdGEgICAgYSB0ZW1wbGF0ZSBvciBleGlzdGluZyBmb3JtIGVsZW1lbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpZCwgZGF0YSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgICAgICAvLyNyZWdpb24gQ09OU1RBTlRTXG4gICAgICAgIC8qKiBzdG9yZSB0aGUgc3RhbmRhcmQgY2xhc3MgZm9yIGFsbCBmb3JtIGVsZW1lbnRzICovXG4gICAgICAgIHRoaXMuX3N0YW5kYXJkQ2xzID0gXCJraXBGb3JtRWxlbVwiO1xuICAgICAgICB0aGlzLl9hZGRDbGFzc05hbWUoXCJGb3JtRWxlbWVudFwiKTtcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcbiAgICAgICAgdGhpcy5faGFzRXJyb3JzID0gZmFsc2U7XG4gICAgICAgIC8vICBwYXJzZSB0aGUgdGVtcGxhdGUgZm9yIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAoaGVscGVyc18xLmlzRmllbGQoZGF0YSkpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlRmllbGRUZW1wbGF0ZShkYXRhLnRlbXBsYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlRmllbGRUZW1wbGF0ZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jcmVhdGVFbGVtZW50cygpO1xuICAgIH1cbiAgICBnZXQgaWQoKSB7IHJldHVybiB0aGlzLl9pZDsgfVxuICAgIGdldCB0eXBlKCkgeyByZXR1cm4gdGhpcy5fdHlwZTsgfVxuICAgIGdldCB0ZW1wbGF0ZSgpIHsgcmV0dXJuIHRoaXMuX2NvbmZpZzsgfVxuICAgIGdldCBfZGVmYXVsdExheW91dCgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRm9ybUVsZW1lbnRMYXlvdXRFbnVtLk1VTFRJTElORTsgfVxuICAgIGdldCBkYXRhKCkgeyByZXR1cm4gdGhpcy5fZGF0YTsgfVxuICAgIHNldCBkYXRhKGRhdGEpIHsgdGhpcy51cGRhdGUoZGF0YSwgZmFsc2UpOyB9IC8vIFRPRE86IGV2YWx1YXRlIGlmIHdlJ2QgZXZlciBuZWVkIHRvIGZpcmUgZXZlbnRzIGhlcmVcbiAgICBnZXQgaGFzRXJyb3JzKCkgeyByZXR1cm4gdGhpcy5faGFzRXJyb3JzOyB9XG4gICAgLyoqIGlucHV0IGVsZW1lbnQgKi9cbiAgICBnZXQgaW5wdXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZWxlbXMuaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtcy5pbnB1dDtcbiAgICB9XG4gICAgLyoqIGFsbG93IGZvciBsYWJlbCBvciBsYWJlbCBjb250YWluZXJzIHRvIGJlIHVzZWQgKi9cbiAgICBnZXQgX2xhYmVsRWxlbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1zLmxibENvbnRhaW5lciB8fCB0aGlzLl9lbGVtcy5sYmw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zaG91bGRTa2lwQ3JlYXRlRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogaGFuZGxlIGVsZW1lbnQgY3JlYXRpb24gYXQgb3VyIG93biBwYWNlXG4gICAgICovXG4gICAgX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50cygpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFBBUlNFIFRFTVBMQVRFXG4gICAgLyoqXG4gICAgICogX3BhcnNlRmllbGRUZW1wbGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBwYXJzZSB0aGUgdGVtcGxhdGUgZm9yIHRoaXMgcGFydGljdWxhciBmaWVsZFxuICAgICAqL1xuICAgIF9wYXJzZUZpZWxkVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgLy8gZW5zdXJlIHRlbXBsYXRlIGlzIG5ldmVyIG51bGxcbiAgICAgICAgaWYgKGZhbHNleV8xLmlzTnVsbE9yVW5kZWZpbmVkKHRlbXBsYXRlKSkge1xuICAgICAgICAgICAgdGVtcGxhdGUgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzYXZlIG9mZiB0aGUgdGVtcGxhdGVcbiAgICAgICAgdGhpcy5fY29uZmlnID0gdGVtcGxhdGU7XG4gICAgICAgIC8vIHNldCBhcHByb3ByaWF0ZSBkZWZhdWx0cyBvbiB0aGUgdGVtcGxhdGVcbiAgICAgICAgaWYgKCF0ZW1wbGF0ZS5sYWJlbCkge1xuICAgICAgICAgICAgdGVtcGxhdGUubGFiZWwgPSB0aGlzLl9pZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRlbXBsYXRlLmxheW91dCkge1xuICAgICAgICAgICAgdGVtcGxhdGUubGF5b3V0ID0gdGhpcy5fZGVmYXVsdExheW91dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRlbXBsYXRlLmRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgdGVtcGxhdGUuZGVmYXVsdFZhbHVlID0gdGhpcy5fZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSB0aGF0IHdlIGNoZWNrIGZvciB2YWxpZCBmYWxzZXkgdmFsdWVzXG4gICAgICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZCh0ZW1wbGF0ZS52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRlbXBsYXRlLnZhbHVlID0gdGVtcGxhdGUuZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZCh0ZW1wbGF0ZS52YWxpZGF0aW9uVHlwZSkpIHtcbiAgICAgICAgICAgIHRlbXBsYXRlLnZhbGlkYXRpb25UeXBlID0gX2ludGVyZmFjZXNfMS5WYWxpZGF0aW9uVHlwZS5LRUVQX0VSUk9SX1ZBTFVFO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSBvdXIgc3BlY2lhbCBjYXNlc1xuICAgICAgICB0aGlzLl9wcm9jZXNzVGVtcGxhdGVDbGFzcygpO1xuICAgICAgICB0aGlzLl9wcm9jZXNzUmVxdWlyZWRFbGVtZW50KCk7XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyT25PdGhlckNoYW5nZUxpc3RlbmVyKCk7XG4gICAgICAgIC8vIHNldCBvdXIgZGF0YSB0byBiZSB0aGUgZGVmYXVsdCB2YWx1ZVxuICAgICAgICB0aGlzLl9kYXRhID0gdGVtcGxhdGUuZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcHJvY2Vzc1RlbXBsYXRlQ2xhc3NcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogZ2VuZXJhdGUgdGhlIGFwcHJvcHJpYXRlIGNsYXNzIGZvciB0aGlzIGVsZW1lbnRcbiAgICAgKi9cbiAgICBfcHJvY2Vzc1RlbXBsYXRlQ2xhc3MoKSB7XG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IHRoaXMuX2NvbmZpZztcbiAgICAgICAgdGVtcGxhdGUuY2xzID0gc3R5bGVzXzEuYnVpbGRDbGFzc1N0cmluZyh0aGlzLl9zdGFuZGFyZENscywgLy8gY2xhc3MgZm9yIGFsbCBmb3JtIGVsZW1lbnRzXG4gICAgICAgIHRoaXMuX2RlZmF1bHRDbHMsIC8vIGNsYXNzIGZvciB0aGlzIHBhcnRpY3VsYXIgZm9ybSBlbGVtZW50XG4gICAgICAgIHRlbXBsYXRlLmNscywgLy8gY2xhc3Mgc3BlY2lmaWVkIGluIHRlbXBsYXRlXG4gICAgICAgIHRlbXBsYXRlLnJlcXVpcmVkID8gXCJyZXF1aXJlZFwiIDogXCJcIiAvLyByZXF1aXJlZCBjbGFzcyAoaWYgYXBwcm9wcmlhdGUpXG4gICAgICAgICk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9wcm9jZXNzUmVxdWlyZWRFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGlmIHRoaXMgZWxlbWVudCBpcyByZXF1aXJlZCwgaW5kaWNhdGUgdGhhdCB3ZSdyZSBub3QgcmVhZHkgdG8gc2F2ZSBpZiB3ZVxuICAgICAqIGRvbid0IHlldCBoYXZlIGRhdGFcbiAgICAgKi9cbiAgICBfcHJvY2Vzc1JlcXVpcmVkRWxlbWVudCgpIHtcbiAgICAgICAgLy8gcXVpdCBpZiB0aGlzIGVsZW1lbnQgaXNuJ3QgcmVxdWlyZWQsIG9yIGlmIHdlIGFscmVhZHkgaGF2ZSBhIHZhbHVlXG4gICAgICAgIGlmICghdGhpcy5fY29uZmlnLnJlcXVpcmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RhdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBvdGhlcndpc2UsIHNlbmQgYSBtZXNzYWdlIHRoYXQgdGhpcyBlbGVtZW50IGlzIG5vdCByZWFkeSB0byBzYXZlXG4gICAgICAgIGV2ZW50SGFuZGxlcl8xLmZvcm1FdmVudEhhbmRsZXIuZGlzcGF0Y2hFdmVudChldmVudEhhbmRsZXJfMS5GT1JNX1NBVkFCTEVfQ0hBTkdFLCBuZXcgZXZlbnRIYW5kbGVyXzEuRm9ybVNhdmFibGVFdmVudCh7XG4gICAgICAgICAgICBoYXNFcnJvcnM6IGZhbHNlLFxuICAgICAgICAgICAgaGFzTWlzc2luZ1JlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3JlZ2lzdGVyT25PdGhlckNoYW5nZUxpc3RlbmVyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGxpc3RlbiBmb3Igb3RoZXIgZmllbGRzIGNoYW5naW5nLCBpZiBhIGxpc3RlbmVyIHdhcyBwcm92aWRlZCBpbiB0aGVcbiAgICAgKiB0ZW1wbGF0ZVxuICAgICAqL1xuICAgIF9yZWdpc3Rlck9uT3RoZXJDaGFuZ2VMaXN0ZW5lcigpIHtcbiAgICAgICAgLy8gZG9uJ3QgYWRkIGEgbGlzdGVuZXIgaWYgdGhlcmUncyBub3RoaW5nIHRvIGxpc3RlbiB0b1xuICAgICAgICBpZiAoIXRoaXMuX2NvbmZpZy5vbk90aGVyQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnRIYW5kbGVyXzEuZm9ybUV2ZW50SGFuZGxlci5hZGRFdmVudExpc3RlbmVyKGV2ZW50SGFuZGxlcl8xLkZPUk1fRUxFTV9DSEFOR0UsIHtcbiAgICAgICAgICAgIGZ1bmM6IChldikgPT4geyB0aGlzLl9oYW5kbGVPdGhlckNoYW5nZShldik7IH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ1JFQVRFIEVMRU1FTlRTXG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUVsZW1lbnRzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZXMgYWxsIGVsZW1lbnRzIGZvciB0aGlzIGlucHV0XG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICAvLyBnZW5lcmF0ZSB0aGUgZWxlbWVudHMgdGhhdCBhcmUgc2hhcmVkIGJldHdlZW4gYWxsIGZvcm0gZWxlbWVudHNcbiAgICAgICAgY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiB0aGlzLl9jb25maWcuY2xzLFxuICAgICAgICAgICAga2V5OiBcImJhc2VcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbe1xuICAgICAgICAgICAgICAgICAgICBjbHM6IFwiZXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcImVycm9yXCJcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9LCB0aGlzLl9lbGVtcyk7XG4gICAgICAgIC8vIExldCB0aGUgY2hpbGQgaGFuZGxlIGFjdHVhbGx5IGNyZWF0aW5nIHRoZSBlbGVtZW50cyB0aGF0IG1ha2UgXG4gICAgICAgIC8vIHVwIHRoZSBzcGVjaWZpYyBuYXR1cmUgb2YgdGhlIGVsZW1lbnRcbiAgICAgICAgdGhpcy5fb25DcmVhdGVFbGVtZW50cygpO1xuICAgICAgICAvLyByZWdpc3RlciB0aGUgY2hhbmdlIGxpc3RlbmVyIGlmIHdlIGNyZWF0ZWQgb25lXG4gICAgICAgIGlmICh0aGlzLl9lbGVtcy5pbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5fcmVnaXN0ZXJJbnB1dExpc3RlbmVycyh0aGlzLl9lbGVtcy5pbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZ2VuZXJhdGUgdGhlIHN0eWxlcyBmb3IgdGhlIGVsZW1lbnQgXG4gICAgICAgIC8vICh3ZSBuZWVkIHRvIGRvIHRoaXMgbWFudWFsbHkgYmVjYXVzZSBmb3JtIGVsZW1lbnRzIGFyZW4ndCBcbiAgICAgICAgLy8gIERyYXdhYmxlIGVsZW1lbnRzKVxuICAgICAgICB0aGlzLl9jcmVhdGVTdHlsZXMoKTtcbiAgICAgICAgLy8gZGV0ZWN0IHdoZXRoZXIgdGhlIGVsZW1lbnQgc3RhcnRzIGhpZGRlblxuICAgICAgICBpZiAoY3NzXzEuaGFzQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJoaWRkZW5cIikpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzSGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVnaXN0ZXJJbnB1dExpc3RlbmVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjcmVhdGUgdGhlIGxpc3RlbmVycyB0aGF0IHBheSBhdHRlbnRpb24gdG8gd2hlbiBjb250ZW50IGluIHRoZSBmb3JtIGhhc1xuICAgICAqIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBfcmVnaXN0ZXJJbnB1dExpc3RlbmVycyhpbnB1dCkge1xuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlRXZlbnRGaXJlZCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlRXZlbnRGaXJlZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2FkZFN0YW5kYXJkRWxlbXNUb0NvcmVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogYWRkIGNyZWF0ZWQgZWxlbWVudHMgdG8gdGhlIGFwcHJvcHJpYXRlIHBhcmVudFxuICAgICAqL1xuICAgIF9hZGRTdGFuZGFyZEVsZW1zVG9Db3JlKCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLmFwcGVuZENoaWxkKHRoaXMuX2xhYmVsRWxlbSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbXMuaW5wdXQpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBMQVlPVVQgT0YgRUxFTUVOVFNcbiAgICAvKipcbiAgICAgKiBfaGFuZGxlU3RhbmRhcmRMYXlvdXRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogaGVscGVyIHRvIGhhbmRsZSBhbiBlbGVtZW50cyBsYXlvdXQgYmFzZWQgb24gdGhlaXIgY29uZmlnXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBsYXlvdXQgd2FzIHZhbGlkOyBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBfaGFuZGxlU3RhbmRhcmRMYXlvdXQoKSB7XG4gICAgICAgIGxldCBsID0gX2ludGVyZmFjZXNfMS5Gb3JtRWxlbWVudExheW91dEVudW07XG4gICAgICAgIHN3aXRjaCAodGhpcy5fY29uZmlnLmxheW91dCkge1xuICAgICAgICAgICAgLy8gbGFiZWwgZGlzcGxheXMgaW4gdGFibGUgY2VsbCwgZWxlbW50IGluIG90aGVyIHRhYmxlIGNlbGxcbiAgICAgICAgICAgIGNhc2UgbC5UQUJMRTpcbiAgICAgICAgICAgICAgICB0aGlzLl90YWJsZUxheW91dCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgLy8gbGFiZWwgZGlzcGxheXMgYmVmb3JlIGVsZW1lbnQgaW5saW5lXG4gICAgICAgICAgICBjYXNlIGwuRkxFWDpcbiAgICAgICAgICAgICAgICB0aGlzLl9mbGV4TGF5b3V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAvLyBsYWJlbCBkaXNwbGF5cyBsaW5lIGFib3ZlIGVsZW1lbnRcbiAgICAgICAgICAgIGNhc2UgbC5NVUxUSUxJTkU6XG4gICAgICAgICAgICAgICAgdGhpcy5fbXVsdGlMaW5lTGF5b3V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAvLyBsYWJlbCBkaXNwbGF5cyBhZnRlciB0aGUgaW5wdXRcbiAgICAgICAgICAgIGNhc2UgbC5MQUJFTF9BRlRFUjpcbiAgICAgICAgICAgICAgICB0aGlzLl9sYWJlbEFmdGVyTGF5b3V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAqIF90YWJsZUxheW91dFxuICAgICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgKiBkcmF3cyBlbGVtZW50cyBpbiBhIHRhYmxlIGZvcm1hdFxuICAgICovXG4gICAgX3RhYmxlTGF5b3V0KCkge1xuICAgICAgICAvLyBidWlsZCB0aGUgY2VsbHMgdGhhdCB3aWxsIGhvbGQgdGhlIGVsZW1lbnRzXG4gICAgICAgIGxldCBjZWxscyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI7IGkgKz0gMSkge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZFwiLFxuICAgICAgICAgICAgICAgIGNsczogXCJmcm1DZWxcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjZWxsc1tpXSA9IGNlbGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIHRoZSBsYWJlbCBhbmQgdGhlIGlucHV0IHRvIHRoZSB0YWJsZSBjZWxsc1xuICAgICAgICBpZiAodGhpcy5fbGFiZWxFbGVtKSB7XG4gICAgICAgICAgICBjZWxsc1swXS5hcHBlbmRDaGlsZCh0aGlzLl9sYWJlbEVsZW0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9lbGVtcy5pbnB1dCkge1xuICAgICAgICAgICAgY2VsbHNbMV0uYXBwZW5kQ2hpbGQodGhpcy5fZWxlbXMuaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgYWN0dWFsIHRhYmxlIGVsZW1lbnQgJiBhZGQgaXQgdG8gdGhlIGNvcmUgZWxlbWVudFxuICAgICAgICB0aGlzLl9lbGVtcy50YWJsZSA9IHRhYmxlc18xLmNyZWF0ZVRhYmxlKFwiXCIsIFwiXCIsIGNlbGxzKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtcy50YWJsZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9mbGV4TGF5b3V0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGhhbmRsZSBhIGZsZXggbGF5b3V0IG9mIGxhYmVsOiBlbGVtXG4gICAgICovXG4gICAgX2ZsZXhMYXlvdXQoKSB7XG4gICAgICAgIHRoaXMuX2FkZFN0YW5kYXJkRWxlbXNUb0NvcmUoKTtcbiAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJmbGV4XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfbXVsdGlMaW5lTGF5b3V0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGhhbmRsZSBhIG11bHRpbGluZSBsYXlvdXQgb2YgbGFiZWwgb24gdG9wIG9mIGlucHV0XG4gICAgICovXG4gICAgX211bHRpTGluZUxheW91dCgpIHtcbiAgICAgICAgdGhpcy5fYWRkU3RhbmRhcmRFbGVtc1RvQ29yZSgpO1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcIm11bHRpbGluZVwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2xhYmVsQWZ0ZXJMYXlvdXRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogaGFuZGxlIGRpc3BsYXlpbmcgdGhlIGxhYmVsIGVsZW1lbnQgYWZ0ZXIgdGhlIGlucHV0XG4gICAgICovXG4gICAgX2xhYmVsQWZ0ZXJMYXlvdXQoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbXMuaW5wdXQpO1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLmFwcGVuZENoaWxkKHRoaXMuX2xhYmVsRWxlbSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gU0FWRSBUSElTIEZJRUxEXG4gICAgLyoqXG4gICAgICogc2F2ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoYW5kbGUgc2F2aW5nIHRoZSBkYXRhIGZyb20gdGhpcyBmb3JtXG4gICAgICogQHJldHVybnMgVGhlIGRhdGEgY29udGFpbmVkIHdpdGhpbiB0aGlzIGZvcm0gZWxlbWVudFxuICAgICAqL1xuICAgIHNhdmUoaW50ZXJuYWxVcGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2FuU2F2ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhpcyBlbGVtZW50IGhhcyB0aGUgb3B0aW9uIGZvciBzYXZpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhpcyBlbGVtZW50IGlzIHByZXBhcmVkIHRvIHNhdmVcbiAgICAgKi9cbiAgICBjYW5TYXZlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGFzRXJyb3JzOiB0aGlzLl9oYXNFcnJvcnMsXG4gICAgICAgICAgICBoYXNNaXNzaW5nUmVxdWlyZWQ6IHRoaXMuX2hhc0JsYW5rUmVxdWlyZWRFbGVtcygpXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9oYXNCbGFua1JlcXVpcmVkRWxlbXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ2hlY2sgaWYgdGhpcyBlbGVtZW50IGhhcyBhbnkgbWlzaXNuZyByZXF1aXJlZCBlbGVtZW50c1xuICAgICAqL1xuICAgIF9oYXNCbGFua1JlcXVpcmVkRWxlbXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY29uZmlnLnJlcXVpcmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RhdGEgIT09IHRoaXMuX2NvbmZpZy5kZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBEQVRBIE1BTkFHRU1FTlRcbiAgICAvKipcbiAgICAgKiB1cGRhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogaGFuZGxlIHNldHRpbmcgZGF0YSBwcm9ncmFtbWF0aWNhbGx5XG4gICAgICogQHBhcmFtICAgZGF0YSAgICBUaGUgZGF0YSB0byBwb3B1bGF0ZSBpbiB0aGlzIGZpZWxkXG4gICAgICovXG4gICAgdXBkYXRlKGRhdGEsIGFsbG93RXZlbnRzKSB7XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZSB2YWx1ZSBoYXMgY2hhbmdlZCwgYW5kIGlmIHNvLCBub3RpZnkgb3RoZXJzXG4gICAgICAgIGxldCBjaGFuZ2VkID0gIXRoaXMuX3Rlc3RFcXVhbGl0eShkYXRhKTtcbiAgICAgICAgaWYgKGNoYW5nZWQgJiYgYWxsb3dFdmVudHMpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5fZGlzcGF0Y2hDaGFuZ2VFdmVudCgpOyB9LCAwKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjbGVhciB0aGUgZm9ybSBhaGVhZCBvZiB0aW1lXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgLy8gaWYgdGhlcmUncyBubyBkYXRhLCBncmFiIHRoZSBkZWZhdWx0IHZhbHVlIGZyb20gdGhlIGNvbmZpZ1xuICAgICAgICBpZiAoZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQoZGF0YSkpIHtcbiAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jb25maWcuZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCB0aGUgZGF0YSBhbmQgdXBkYXRlIHRoZSBVSVxuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVUkoZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF90ZXN0RXF1YWxpdHlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogZGV0ZXJtaW5lIGlmIHRoZSBuZXcgdmFsdWUgaXMgdGhlIHNhbWUgYXMgdGhlIGN1cnJlbnQgdmFsdWVcbiAgICAgKi9cbiAgICBfdGVzdEVxdWFsaXR5KGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmFibGVfMS5lcXVhbHMoZGF0YSwgdGhpcy5fZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF91cGRhdGVVSVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiB1cGRhdGUgdGhlIFVJIGVsZW1lbnRzIHRvIGhhdmUgdGhlIHJpZ2h0IGRhdGEsIHdoZW4gdGhlIGRhdGEgaGFzIGNoYW5nZWRcbiAgICAgKi9cbiAgICBfdXBkYXRlVUkoZGF0YSkge1xuICAgICAgICBpZiAoIXRoaXMuX2VsZW1zLmlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQudmFsdWUgPSBkYXRhO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2xlYXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogcmVzZXQgdGhlIGZvcm0gdG8gaXRzIGRlZmF1bHQgdmFsdWVzXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSB0aGlzLl9jb25maWcuZGVmYXVsdFZhbHVlO1xuICAgICAgICB0aGlzLl9jbGVhclVJKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jbGVhclVJXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNsZWFyIG91dCB0aGUgZm9ybSBlbGVtZW50XG4gICAgICovXG4gICAgX2NsZWFyVUkoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZWxlbXMuaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZSA9IHRoaXMuX2NvbmZpZy5kZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gRVZFTlQgSEFORExJTkdcbiAgICAvKipcbiAgICAgKiBmb2N1c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBTZXQgZm9jdXMgdG8gdGhlIGlucHV0IG9mIHRoaXMgZm9ybSBlbGVtZW50XG4gICAgICovXG4gICAgZm9jdXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZWxlbXMuaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBfZGlzcGF0Y2hTYXZhYmxlQ2hhbmdlRXZlbnRcbiAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAqIGxldCBhbnkgbGlzdGVuZXJzIGtub3cgdGhhdCB3ZSB1cGRhdGVkIHRoZSBzYXZhYmxlIHN0YXR1cyBvZiB0aGlzIGVsZW1lbnRcbiAgICAqL1xuICAgIF9kaXNwYXRjaFNhdmFibGVDaGFuZ2VFdmVudCgpIHtcbiAgICAgICAgZXZlbnRIYW5kbGVyXzEuZm9ybUV2ZW50SGFuZGxlci5kaXNwYXRjaEV2ZW50KGV2ZW50SGFuZGxlcl8xLkZPUk1fU0FWQUJMRV9DSEFOR0UsIG5ldyBldmVudEhhbmRsZXJfMS5Gb3JtU2F2YWJsZUV2ZW50KHtcbiAgICAgICAgICAgIHRhcmdldDogdGhpc1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9kaXNwYXRjaENoYW5nZUV2ZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGxldCBhbnkgbGlzdGVuZXJzIGtub3cgdGhhdCB3ZSB1cGRhdGVkIG91ciBzdHVmZlxuICAgICAqL1xuICAgIF9kaXNwYXRjaENoYW5nZUV2ZW50KHN1YmtleSkge1xuICAgICAgICBldmVudEhhbmRsZXJfMS5mb3JtRXZlbnRIYW5kbGVyLmRpc3BhdGNoRXZlbnQoZXZlbnRIYW5kbGVyXzEuRk9STV9FTEVNX0NIQU5HRSwgbmV3IGV2ZW50SGFuZGxlcl8xLkZvcm1FbGVtQ2hhbmdlRXZlbnQoe1xuICAgICAgICAgICAga2V5OiB0aGlzLl9pZCxcbiAgICAgICAgICAgIHN1YmtleTogc3Via2V5LFxuICAgICAgICAgICAgZGF0YTogdGhpcy5fZGF0YSxcbiAgICAgICAgICAgIHRhcmdldDogdGhpc1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9oYW5kbGVPdGhlckNoYW5nZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiB3cmFwcGVyIGFyb3VuZCBvdXIgbGlzdGVuZXIgdG8gZW5zdXJlIHRoZSBkYXRhIGdldHMgcGFyc2VkIGFwcHJvcHJpYXRlbHlcbiAgICAgKi9cbiAgICBfaGFuZGxlT3RoZXJDaGFuZ2UoZXYpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jb25maWcub25PdGhlckNoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbmZpZy5vbk90aGVyQ2hhbmdlKGV2LmNvbnRleHQua2V5LCBldi5jb250ZXh0LmRhdGEsIHRoaXMpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBVU0VSIENIQU5HRVMgVE8gVEhFIEZJRUxEXG4gICAgLyoqXG4gICAgICogX2NoYW5nZUV2ZW50RmlyZWRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogaGFuZGxlIHdoZW4gdGhlIGlucHV0IGVsZW1lbnQgaGFzIGNoYW5nZWQgaW4gb3JkZXIgdG8ga2ljayBvZmYgdGhlXG4gICAgICogdmFsaWRhdGlvbiBwcm9jZXNzXG4gICAgICovXG4gICAgX2NoYW5nZUV2ZW50RmlyZWQoZmllbGRTdGlsbEhhc0ZvY3VzKSB7XG4gICAgICAgIC8vIGNsZWFyIG91dCBhbnkgY3VycmVudCBlcnJvcnNcbiAgICAgICAgdGhpcy5fY2xlYXJFcnJvcnMoKTtcbiAgICAgICAgLy8gaWYgd2UgZG9uJ3QgdmFsaWRhdGUgdW50aWwgdGhlIGZpZWxkIGhhcyBsb3N0IGZvY3VzLCBjb250aW51ZSBvblxuICAgICAgICBpZiAoZmllbGRTdGlsbEhhc0ZvY3VzICYmICF0aGlzLl9zaG91bGRWYWxpZGF0ZUJlZm9yZUJsdXIoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdGlmeSBsaXN0ZW5lcnMgdGhhdCBzb21ldGhpbmcgdGhhdCBtaWdodCBhZmZlY3Qgc2F2YWJpbGl0eSBoYXMgb2NjdXJyZWRcbiAgICAgICAgYXN5bmNfMS53YWl0KDApLnRoZW4oKCkgPT4gdGhpcy5fZGlzcGF0Y2hTYXZhYmxlQ2hhbmdlRXZlbnQoKSk7XG4gICAgICAgIC8vIGdyYWIgJiB2YWxpZGF0ZSB0aGUgZGF0YSBmcm9tIHRoZSBmaWVsZFxuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLl9nZXRWYWx1ZUZyb21GaWVsZChmaWVsZFN0aWxsSGFzRm9jdXMpO1xuICAgICAgICBpZiAodGhpcy5fdGVzdEVxdWFsaXR5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2YWxpZGF0aW9uUmVzdWx0ID0gdGhpcy5fdmFsaWRhdGUodmFsdWUpO1xuICAgICAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3RpZnkgZXZlbnQgbGlzdGVuZXJzIHRoYXQgc29tZXRoaW5nIGhhcyBzdWNjZXNzZnVsbHkgY2hhbmdlZFxuICAgICAgICB0aGlzLl9kaXNwYXRjaENoYW5nZUV2ZW50KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zaG91bGRWYWxpZGF0ZUJlZm9yZUJsdXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogZGV0ZXJtaW5lIHdoZXRoZXIgdmFsaWRhdGlvbiBzaG91bGQgb2NjdXIgb24gZXZlcnkgY2hhbmdlLCBvciB3aGV0aGVyIGl0XG4gICAgICogc2hvdWxkIG9ubHkgb2NjdXIgdXBvbiBtb3ZpbmcgZm9jdXMgYXdheSBmcm9tIHRoZSBmaWVsZFxuICAgICAqL1xuICAgIF9zaG91bGRWYWxpZGF0ZUJlZm9yZUJsdXIoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBWQUxJREFUSU9OXG4gICAgLyoqXG4gICAgICogX3ZhbGlkYXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHZhbGlkYXRlIHRoYXQgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhpcyBmaWVsZCBpcyBhcHByb3ByaWF0ZVxuICAgICAqIEBwYXJhbSAgIHZhbHVlICAgZGF0YSB3ZSBhcmUgdmFsaWRhdGluZ1xuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHZhbGlkYXRpb24gc3VjY2VlZGVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBfdmFsaWRhdGUodmFsdWUpIHtcbiAgICAgICAgLy8gc3BpbiB1cCB0aGUgb2JqZWN0IHRoYXQgd2lsbCBnZXQgdXBkYXRlZCBpZiB0aGUgdmFsaWRhdGlvbiBlbmNvdW50ZXJzIGFuIGVycm9yXG4gICAgICAgIGxldCBlcnJvclN0cmluZyA9IHtcbiAgICAgICAgICAgIHRpdGxlOiBcIlwiLFxuICAgICAgICAgICAgZGV0YWlsczogXCJcIlxuICAgICAgICB9O1xuICAgICAgICAvLyBydW4gdGhyb3VnaCBvdXIgY3VzdG9tIHZhbGlkYXRpb25cbiAgICAgICAgbGV0IHZhbGlkYXRpb25SZXN1bHQgPSB0aGlzLl9ydW5WYWxpZGF0aW9uKHZhbHVlLCBlcnJvclN0cmluZyk7XG4gICAgICAgIC8vIGlmIHZhbGlkYXRpb24gc3VjY2VlZGVkLCBzZXQgb3VyIGRhdGEgdG8gdGhlIHBhc3NlZC1pbiB2YWx1ZVxuICAgICAgICBpZiAodmFsaWRhdGlvblJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UsIHNob3cgdGhlIGFwcHJvcHJpYXRlIGVycm9yIHN0YXRlXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9vblZhbGlkYXRpb25FcnJvcihlcnJvclN0cmluZyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX3J1blZhbGlkYXRpb25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogIHJ1bnMgdGhlIHVzZXItZGVmaW5lZCB2YWxpZGF0aW9uIGZ1bmN0aW9uICYgcmV0dXJucyB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgX3J1blZhbGlkYXRpb24oZGF0YSwgZXJyb3JTdHJpbmcpIHtcbiAgICAgICAgLy8gcnVuIGl0IHRocm91Z2ggdGhlIHVzZXItZGVmaW5lZCBldmFsIGZ1bmN0aW9uXG4gICAgICAgIGlmICh0aGlzLl9jb25maWcub25WYWxpZGF0ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jb25maWcub25WYWxpZGF0ZShkYXRhLCBlcnJvclN0cmluZykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNFcnJvcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSBtYWRlIGl0IHRoaXMgZmFyLCBlaXRoZXIgdGhlcmUgd2FzIG5vIHZhbGlkYXRpb24sIG9yIGl0IHN1Y2NlZWRlZFxuICAgICAgICB0aGlzLl9oYXNFcnJvcnMgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gRVJST1IgSEFORExJTkdcbiAgICAvKipcbiAgICAgKiBfb25WYWxpZGF0aW9uRXJyb3JcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogdGFrZSBhbiBhY3Rpb24gYmFzZWQgb24gdmFsaWRhdGlvbiBmYWlsaW5nLCB0YWtpbmcgaW50byBjb25zaWRlcmF0aW9uXG4gICAgICogdGhlIHZhbGlkYXRpb24gdHlwZSBvZiB0aGlzIGZpZWxkXG4gICAgICovXG4gICAgX29uVmFsaWRhdGlvbkVycm9yKGVycikge1xuICAgICAgICB0aGlzLl91cGRhdGVFcnJvckVsZW0oZXJyKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSW5wdXRPbkVycm9yKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF91cGRhdGVFcnJvckVsZW1cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogdXBkYXRlIHRoZSBlcnJvciBlbGVtZW50IG9mIHRoaXMgZmllbGQgdG8gc2hvdyB0aGUgYXBwcm9wcmlhdGUgbWVzc2FnZVxuICAgICAqL1xuICAgIF91cGRhdGVFcnJvckVsZW0oZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5fZWxlbXMuZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbXNnID0gdGhpcy5fYnVpbGRWYWxpZGF0aW9uRXJyb3JEaXNwbGF5KGVycik7XG4gICAgICAgIHRoaXMuX2VsZW1zLmVycm9yLmlubmVySFRNTCA9IG1zZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3VwZGF0ZUlucHV0T25FcnJvclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiB1cGRhdGUgdGhlIGlucHV0IGVsZW1lbnQgd2hlbiBhIHZhbGlkYXRpb24gYXR0ZW1wdCBmYWlsZWRcbiAgICAgKi9cbiAgICBfdXBkYXRlSW5wdXRPbkVycm9yKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2VsZW1zLmlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX2NvbmZpZy52YWxpZGF0aW9uVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18xLlZhbGlkYXRpb25UeXBlLkNMRUFSX0VSUk9SX1ZBTFVFOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fY29uZmlnLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5WYWxpZGF0aW9uVHlwZS5LRUVQX0VSUk9SX1ZBTFVFOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fZWxlbXMuaW5wdXQudmFsdWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIF9pbnRlcmZhY2VzXzEuVmFsaWRhdGlvblR5cGUuTk9fQkxVUl9QUk9DRVNTRUQ6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuX2VsZW1zLmlucHV0LmZvY3VzKCk7IH0sIDEwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5WYWxpZGF0aW9uVHlwZS5SRVNUT1JFX09MRF9WQUxVRTpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX2RhdGE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fY29uZmlnLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYnVpbGRWYWxpZGF0aW9uRXJyb3JEaXNwbGF5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGdlbmVyYXRlIHRoZSBlcnJvciBtZXNzYWdlIGJhc2VkIG9uIHRoZSBlcnJvciBkZXRhaWxzIHJldHVybmVkIGJ5IHRoZVxuICAgICAqIHZhbGlkYXRpb24gZnVuY3Rpb25cbiAgICAgKi9cbiAgICBfYnVpbGRWYWxpZGF0aW9uRXJyb3JEaXNwbGF5KGVycikge1xuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgICAgcmV0dXJuIFwiSW52YWxpZCBkYXRhXCI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1zZztcbiAgICAgICAgbXNnID0gZXJyLnRpdGxlID8gZXJyLnRpdGxlICsgXCI6IFwiIDogXCJVaC1vaDogXCI7XG4gICAgICAgIG1zZyArPSBlcnIuZGV0YWlscyB8fCAodGhpcy5faWQgKyBcIidzIGRhdGEgY291bGRuJ3QgYmUgc2F2ZWRcIik7XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jbGVhckVycm9yc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjbGVhciBhbGwgb2YgdGhlIGVycm9yc1xuICAgICAqXG4gICAgICovXG4gICAgX2NsZWFyRXJyb3JzKCkge1xuICAgICAgICBpZiAodGhpcy5fZWxlbXMuZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLmVycm9yLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBTVEFOREFSRCBFTEVNRU5UIENSRUFUSU9OXG4gICAgLyoqXG4gICAgICogX2NyZWF0ZVN0YW5kYXJkSW5wdXRcbiAgICAgKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiAgY3JlYXRlIGEgc3RhbmRhcmQgaW5wdXQgYmFzZWQgb24gdGhlIGZvcm0gdHlwZVxuICAgICAqL1xuICAgIF9jcmVhdGVTdGFuZGFyZElucHV0KCkge1xuICAgICAgICBsZXQgYXR0ciA9IHt9O1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLnVzZUdob3N0VGV4dCkge1xuICAgICAgICAgICAgYXR0ci5wbGFjZWhvbGRlciA9IHRoaXMuX2NvbmZpZy5sYWJlbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dCA9IGhlbHBlcnNfMS5jcmVhdGVJbnB1dEVsZW1lbnQodGhpcy5faWQgKyBcInxpbnB1dFwiLCBcImlucHV0XCIsIF9pbnRlcmZhY2VzXzEuRmllbGRUeXBlRW51bVt0aGlzLnR5cGVdLCB0aGlzLl9kYXRhLCBhdHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZVN0YW5kYXJkTGFiZWxcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogIGNyZWF0ZSBhIHN0YW5kYXJkIGxhYmVsIGZvciB0aGUgaW5wdXRcbiAgICAgKi9cbiAgICBfY3JlYXRlU3RhbmRhcmRMYWJlbChlbWJlZEluKSB7XG4gICAgICAgIGxldCBsYmwgPSB0aGlzLl9jb25maWcubGFiZWw7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcudXNlR2hvc3RUZXh0KSB7XG4gICAgICAgICAgICBsYmwgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VsZW1zLmxibENvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJsYWJlbENvbnRhaW5lclwiLFxuICAgICAgICAgICAgcGFyZW50OiBlbWJlZEluXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5sYmwgPSBoZWxwZXJzXzEuY3JlYXRlTGFiZWxGb3JJbnB1dChsYmwsIHRoaXMuX2lkLCBcImxibFwiLCB0aGlzLl9lbGVtcy5sYmxDb250YWluZXIpO1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmhlbHBUZXh0KSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtcy5oZWxwVGV4dEljb24gPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgY2xzOiBcImhlbHBUZXh0SWNvblwiLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiP1wiLFxuICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMubGJsQ29udGFpbmVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCB0b29sdGlwID0gbmV3IHRvb2x0aXBfMS5Ub29sdGlwKHsgY29udGVudDogdGhpcy5fY29uZmlnLmhlbHBUZXh0IH0sIHRoaXMuX2VsZW1zLmhlbHBUZXh0SWNvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZVN0YW5kYXJkTGFiZWxlZElucHV0XG4gICAgICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY3JlYXRlIGFuIGlucHV0IGZpZWxkIHdpdGggYSBsYWJlbCwgYmFzZWQgb24gdGhlIGZvcm0gdHlwZVxuICAgICAqL1xuICAgIF9jcmVhdGVTdGFuZGFyZExhYmVsZWRJbnB1dChzaG91bGRFbWJlZCkge1xuICAgICAgICB0aGlzLl9jcmVhdGVTdGFuZGFyZElucHV0KCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVN0YW5kYXJkTGFiZWwoKHNob3VsZEVtYmVkID8gdGhpcy5fZWxlbXMuaW5wdXQgOiBudWxsKSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ0xPTkUgQU4gRUxFTUVOVFxuICAgIC8qKlxuICAgICAqIF9jbG9uZUZvcm1FbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHdyYXBwZXIgYXJvdW5kIHRoZSBjbG9uaW5nIG1ldGhvZCBzbyB3ZSBkb24ndCBydW4gaW50byBwcm90ZWN0aW9uIGlzc3Vlc1xuICAgICAqL1xuICAgIF9jbG9uZUZvcm1FbGVtZW50KGVsZW1Ub0Nsb25lLCBhcHBlbmRUb0lEKSB7XG4gICAgICAgIGlmICghYXBwZW5kVG9JRCkge1xuICAgICAgICAgICAgYXBwZW5kVG9JRCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW1Ub0Nsb25lLl9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlQ2xvbmVkRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjcmVhdGVzIGEgbmV3IHZlcnNpb24gb2YgdGhlIHNhbWUgZm9ybSBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0gICBhcHBlbmRUb0lEICBJRCB0byBhZGQgdG8gdGhlIGN1cnJlbnQgZWxlbSBJRCB3aGVuIGNsb25pbmcgKHRvXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgYXZvaWQgaWQgY29uZmxpY3RzKVxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGNsb25lZCBmb3JtIGVsZW1lbnRcbiAgICAgKi9cbiAgICBfY3JlYXRlQ2xvbmVkRWxlbWVudChhcHBlbmRUb0lEKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl9pZCArIGFwcGVuZFRvSUQsIHRoaXMuX2NvbmZpZyk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gR0VUIEVMRU1FTlRTIEFGVEVSIENSRUFUSU9OXG4gICAgZ2V0RmllbGQoaWQpIHtcbiAgICAgICAgaWYgKGlkID09PSB0aGlzLl9pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEFORExFIFNIT1dJTkcgT1IgSElESU5HIFRIRSBGSUVMRFxuICAgIC8qKlxuICAgICAqIHNob3dcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogZW5zdXJlIHRoYXQgdGhpcyBmaWVsZCBpcyBzaG93blxuICAgICAqL1xuICAgIHNob3coKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzSGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faXNIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgeWllbGQgdHJhbnNpdGlvbl8xLnRyYW5zaXRpb24odGhpcy5fZWxlbXMuYmFzZSwgeyBoZWlnaHQ6IFwiMFwiIH0sIHsgaGVpZ2h0OiBcIjxoZWlnaHQ+XCIgfSwgMjAwKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGhpZGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogZW5zdXJlIHRoYXQgdGhpcyBmaWVsZCBpc24ndCBzaG93blxuICAgICAqL1xuICAgIGhpZGUoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNIaWRkZW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pc0hpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICB5aWVsZCB0cmFuc2l0aW9uXzEudHJhbnNpdGlvbih0aGlzLl9lbGVtcy5iYXNlLCB7IG1heEhlaWdodDogXCI8aGVpZ2h0PlwiLCBvdmVyZmxvdzogXCJoaWRkZW5cIiB9LCB7IG1heEhlaWdodDogXCIwICFpbXBvcnRhbnRcIiwgb3ZlcmZsb3c6IFwiaGlkZGVuXCIgfSwgMjAwKTtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkZpZWxkID0gRmllbGQ7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuLyoqIHBsYWNlaG9sZGVyIGZvciBpbmRpdmlkdWFsIENTUyBzdHlsZXMgKi9cbkZpZWxkLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIua2lwRm9ybUVsZW0sIC5raXBGb3JtRWxlbSBpbnB1dCwgLmtpcEZvcm1FbGVtIHNlbGVjdCwgLmtpcEZvcm1FbGVtIHRleHRhcmVhXCI6IHtcbiAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgZm9udEZhbWlseTogXCJTZWdvZSBVSSwgT3BlbiBTYW5zLCBIZWx2ZXRpY2FcIixcbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtXCI6IHtcbiAgICAgICAgbWFyZ2luVG9wOiBcIjEwcHhcIixcbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0uaGlkZGVuXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICAgICAgLy8gVE9ETzogYWxsb3cgZm9yIHRyYW5zaXRpb25zXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbSBpbnB1dCwgLmtpcEZvcm1FbGVtIHRleHRhcmVhLCAua2lwRm9ybUVsZW0gc2VsZWN0XCI6IHtcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjQ0NDXCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCIzcHhcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0gdGV4dGFyZWFcIjoge1xuICAgICAgICBtaW5IZWlnaHQ6IFwiMTAwcHhcIixcbiAgICAgICAgbWF4V2lkdGg6IFwiMTAwJVwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbSAubGFiZWxDb250YWluZXJcIjoge1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0gLmhlbHBUZXh0SWNvblwiOiB7XG4gICAgICAgIHdpZHRoOiBcIjE5cHhcIixcbiAgICAgICAgaGVpZ2h0OiBcIjE5cHhcIixcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgcGFkZGluZ1RvcDogXCI0cHhcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIjxmb3JtU3ViVGhlbWU+XCIsXG4gICAgICAgIGNvbG9yOiBcIiNGRkZcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxuICAgICAgICBmb250U2l6ZTogXCIwLjhlbVwiLFxuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgIGZvbnRGYW1pbHk6IFwiU3BlY2lhbEVsaXRlXCIsXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgXCImOmhvdmVyXCI6IHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFwic2NhbGUoMS4xKVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtIC5sYmxcIjoge1xuICAgICAgICBmb250U2l6ZTogXCIwLjllbVwiLFxuICAgICAgICBjb2xvcjogXCIjNjY2XCIsXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0ucmVxdWlyZWQgLmxibFwiOiB7fSxcbiAgICBcIi5raXBGb3JtRWxlbS5yZXF1aXJlZCAubGJsOmFmdGVyXCI6IHtcbiAgICAgICAgY29udGVudDogJ1wiKlwiJyxcbiAgICAgICAgY29sb3I6IFwiPGZvcm1TdWJUaGVtZT5cIixcbiAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiMnB4XCJcbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtIC5lcnJvclwiOiB7XG4gICAgICAgIGNvbG9yOiBcIiNDMzBcIixcbiAgICAgICAgZm9udFNpemU6IFwiMC43ZW1cIixcbiAgICAgICAgZm9udFN0eWxlOiBcIml0YWxpY1wiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5mbGV4XCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgXCI+IGRpdjpub3QoLmVycm9yKSwgPiBsYWJlbCwgPiBzcGFuLCA+IGlucHV0XCI6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMTBweFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtLm11bHRpbGluZVwiOiB7XG4gICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgXCJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdFwiOiB7XG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjVweFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIG1hcFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogTG9vcCB0aHJvdWdoIGFsbCBrZXlzIGluIGFuIG9iamVjdCBvciBhcnJheSBhbmQgcGVyZm9ybSBhbiBhY3Rpb24gb24gZWFjaFxuICogZWxlbWVudC4gU2ltaWxhciB0byBBcnJheS5tYXAuXG4gKlxuICogQHBhcmFtICAgb2JqZWN0ICAgICAgVGhlIG9iamVjdCB0byBsb29wIHRocm91Z2hcbiAqIEBwYXJhbSAgIGNhbGxiYWNrICAgIFdoYXQgdG8gZG8gd2l0aCBlYWNoIGVsZW1lbnRcbiAqIEBwYXJhbSAgIHNob3VsZFF1aXQgIEZ1bmN0aW9uIHRvIGV2YWx1YXRlIHdoZXRoZXIgd2UgYXJlIGRvbmUgbG9vcGluZ1xuICovXG5mdW5jdGlvbiBtYXAob2JqZWN0LCBjYWxsYmFjaywgc2hvdWxkUXVpdCkge1xuICAgIGxldCBvdXQgPSBbXTtcbiAgICBpZiAoIW9iamVjdCkge1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvLyBVc2UgdGhlIGRlZmF1bHQgbWFwIGZ1bmN0aW9uIGlmIGF2YWlsYWJsZVxuICAgIGlmIChvYmplY3QubWFwKSB7XG4gICAgICAgIGxldCBkb25lO1xuICAgICAgICBvYmplY3QubWFwKCh2YWx1ZSwga2V5LCBhcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGNhbGxiYWNrKHZhbHVlLCBrZXksIGFycik7XG4gICAgICAgICAgICBvdXQucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIHF1aXQgY29uZGl0aW9uLCB0ZXN0IGl0ICYgcXVpdCBpZiBhcHByb3ByaWF0ZVxuICAgICAgICAgICAgaWYgKCFzaG91bGRRdWl0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNob3VsZFF1aXQoKSkge1xuICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBkbyBhIHN0YW5kYXJkIG9iamVjdCBtYXBcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBjbnQgPSAwO1xuICAgICAgICBsZXQga2V5O1xuICAgICAgICAvLyBEbyBpdCBzYWZlbHkgd2l0aCB0aGUgYXBwcm9wcmlhdGUgY2hlY2tzXG4gICAgICAgIGZvciAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGNhbGxiYWNrKG9iamVjdFtrZXldLCBrZXksIGNudCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjbnQgKz0gMTtcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgcXVpdCBjb25kaXRpb24sIHRlc3QgaXQgJiBxdWl0IGlmIGFwcHJvcHJpYXRlXG4gICAgICAgICAgICAgICAgaWYgKCFzaG91bGRRdWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkUXVpdCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0cy5tYXAgPSBtYXA7XG4vKipcbiAqIGdldE5leHRLZXlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEdyYWIgdGhlIG5leHQga2V5ZWQgZWxlbWVudCBpbiBhbiBvYmplY3QuIFRoaXMgaXMgdGVycmlibHkgdW4tcGVyZm9ybWFudCBpblxuICogYWxsIGJ1dCB0aGUgZmlyc3Qga2V5IGNhc2UuXG4gKlxuICogQHBhcmFtICAgb2JqZWN0ICAgIFRoZSBvYmplY3QgdG8gZ2V0IHRoZSBrZXkgZnJvbVxuICogQHBhcmFtICAgbGFzdEtleSAgIElmIHByb3ZpZGVkLCB0aGUga2V5IGJlZm9yZSB0aGUga2V5IHdlJ3JlIGxvb2tpbmcgZm9yXG4gKlxuICogQHJldHVybnMgVGhlIG5leHQga2V5IGZvciB0aGlzIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0TmV4dEtleShvYmplY3QsIGxhc3RLZXkpIHtcbiAgICBsZXQgcHJvcE5hbWU7XG4gICAgbGV0IG5leHRLZXkgPSAoIWxhc3RLZXkpO1xuICAgIGZvciAocHJvcE5hbWUgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3QuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICBpZiAobmV4dEtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHByb3BOYW1lID09PSBsYXN0S2V5KSB7XG4gICAgICAgICAgICAgICAgbmV4dEtleSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG59XG5leHBvcnRzLmdldE5leHRLZXkgPSBnZXROZXh0S2V5O1xuLyoqXG4gKiBnZXRLZXlzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiByZXR1cm4gdGhlIGtleXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQgb2JqZWN0OyB3cmFwcGVyIGFyb3VuZFxuICogT2JqZWN0LmtleXMsIGJ1dCBhbHNvIGZpbHRlcnMgb3V0IGtleXMgdGhhdCBhcmVuJ3RcbiAqL1xuZnVuY3Rpb24gZ2V0S2V5cyhvYmplY3QpIHtcbiAgICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCkgfHwgW107XG4gICAgLy8gcmVtb3ZlIGFueSBrZXlzIHRoYXQgZG9uJ3QgYmVsb25nIGRpcmVjdGx5IHRvIHRoaXMgb2JqZWN0c1xuICAgIGZvciAobGV0IGkgPSBrZXlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgIGxldCBrZXkgPSBrZXlzW2ldO1xuICAgICAgICBpZiAoIW9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICBrZXlzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbn1cbmV4cG9ydHMuZ2V0S2V5cyA9IGdldEtleXM7XG4vKipcbiAqIGtleUNvdW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBkZXRlcm1pbmUgdGhlIG51bWJlciBvZiB1bmlxdWUga2V5cyBvbiB0aGUgc3BlY2lmaWVkIG9iamVjdFxuICovXG5mdW5jdGlvbiBrZXlDb3VudChvYmplY3QpIHtcbiAgICByZXR1cm4gZ2V0S2V5cyhvYmplY3QpLmxlbmd0aDtcbn1cbmV4cG9ydHMua2V5Q291bnQgPSBrZXlDb3VudDtcbi8qKlxuICogaXNFbXB0eU9iamVjdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ2hlY2tzIGlmIHRoZSBzcGVjaWZpZWQgb2JqZWN0IGRvZXNuJ3QgaGF2ZSBhbnkga2V5c1xuICogQHJldHVybnMgVHJ1ZSBpZiBubyB1bmlxdWUga2V5cyBhcmUgb24gdGhpcyBvYmplY3RcbiAqL1xuZnVuY3Rpb24gaXNFbXB0eU9iamVjdChvYmplY3QpIHtcbiAgICByZXR1cm4gKCFnZXROZXh0S2V5KG9iamVjdCkpO1xufVxuZXhwb3J0cy5pc0VtcHR5T2JqZWN0ID0gaXNFbXB0eU9iamVjdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgc3R5bGFibGVfMSA9IHJlcXVpcmUoXCIuLi9zdHlsYWJsZS9zdHlsYWJsZVwiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIERyYXdhYmxlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGVzIGEgY2xpZW50LXNpZGUgcmVwcmVzZW50YXRpb24gb2YgYSBwYXJ0aWN1bGFyIERPTSBlbGVtZW50XG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uXHQyLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBEcmF3YWJsZSBleHRlbmRzIHN0eWxhYmxlXzEuU3R5bGFibGUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLyoqXG4gICAgICogRHJhd2FibGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGEgRHJhd2FibGUgZWxlbWVudFxuICAgICAqIEBwYXJhbVx0YmFzZUVsZW1UZW1wbGF0ZVx0SWYgcHJvdmlkZWQsIHRoZSB0ZW1wbGF0ZSB1cG9uIHdoaWNoIHRvIGNyZWF0ZSB0aGUgYmFzZSBlbGVtZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYmFzZUVsZW1UZW1wbGF0ZSkge1xuICAgICAgICAvLyBJbml0aWFsaXplIGJvdGggdGhlIHN0eWxhYmxlIHBhcnRzIG9mIHRoaXMgYW5kIHRoZSBcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fYWRkQ2xhc3NOYW1lKFwiRHJhd2FibGVcIik7XG4gICAgICAgIC8vIGluaXRpYWxpemUgb3VyIGVsZW1lbnRzXG4gICAgICAgIHRoaXMuX2VsZW1zID0ge307XG4gICAgICAgIC8vIEhhbmRsZSB3aGVuIHdlIGFyZSBwYXNzZWQgYW4gZWxlbWVudCB0byBmb3JtIHRoZSBiYXNlIG9mIFxuICAgICAgICBpZiAoYmFzZUVsZW1UZW1wbGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbXMuYmFzZSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KGJhc2VFbGVtVGVtcGxhdGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIHRoYXQgd2UgaGF2ZSBlbm91Z2ggZGF0YSB0byBjcmVhdGUgZWxlbWVudHNcbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50cygpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWN0dWFsbHkgY3JlYXRlIHRoZSBlbGVtZW50cyBhc3NvY2lhdGVkIHdpdGggdGhpcyBjbGFzc1xuICAgICAgICB0aGlzLl9jcmVhdGVFbGVtZW50cygpO1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9yZWdpc3Rlck1lZGlhTGlzdGVuZXJzKCk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgfVxuICAgIC8qKiBleHBvc2UgdGhlIGJhc2UgZWxlbWVudCBleHRlcm5hbGx5IGZvciBhbnlvbmUgd2hvIG5lZWRzIGl0ICovXG4gICAgZ2V0IGJhc2UoKSB7IHJldHVybiB0aGlzLl9lbGVtcy5iYXNlOyB9XG4gICAgLyoqXG4gICAgICogX3JlZ2lzdGVyTWVkaWFMaXN0ZW5lclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBSZXBsYWNlIHRoZSBzdHlsYWJsZSBkZWZhdWx0IHJlZ2lzdGVyTWVkaWFMaXN0ZW5lciB0byB0cnkgdG8gYXBwbHkgZmlyc3QgdG9cbiAgICAgKiBvdXIgYmFzZSBlbGVtZW50LCB0aGVuIHRoZSBkb2N1bWVudCBhcyBhIHdob2xlXG4gICAgICovXG4gICAgX3JlZ2lzdGVyTWVkaWFMaXN0ZW5lcihtYXRjaFF1ZXJ5LCBjbGFzc1RvQXBwbHkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLl9yZWdpc3Rlck1lZGlhTGlzdGVuZXIobWF0Y2hRdWVyeSwgY2xhc3NUb0FwcGx5LCB0aGlzLl9lbGVtcy5iYXNlKTtcbiAgICAgICAgc3VwZXIuX3JlZ2lzdGVyTWVkaWFMaXN0ZW5lcihtYXRjaFF1ZXJ5LCBjbGFzc1RvQXBwbHksIGRvY3VtZW50LmJvZHkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfc2hvdWxkU2tpcENyZWF0ZUVsZW1lbnRzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEZ1bmN0aW9uIHRvIGRldGVybWluZSB3aGV0aGVyIHdlIHNob3VsZCBza2lwIHRoZSBjcmVhdGVFbGVtZW50cy4gVXNlZnVsIGluXG4gICAgICogY2FzZXMgd2hlcmUgZGF0YSBuZWVkcyB0byBiZSBwcmVzZW50IGluIHRoZSBjbGFzcyBiZWZvcmUgZWxlbWVudHMgY2FuIGJlXG4gICAgICogY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUcnVlIGlmIHdlIHNob3VsZG4ndCBjcmVhdGUgZWxlbWVudHNcbiAgICAgKi9cbiAgICBfc2hvdWxkU2tpcENyZWF0ZUVsZW1lbnRzKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAvKipcbiAgICAgKiBkcmF3XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIERyYXdzIHRoZSBlbGVtZW50IG9mIHRoaXMgRHJhd2FibGUgJiBhbGwgY2hpbGRyZW4gKyBzaWJsaW5nc1xuICAgICAqIEBwYXJhbSBcdHBhcmVudCAgXHRUaGUgZWxlbWVudCB0aGlzIERyYXdhYmxlIHNob3VsZCBiZSBhZGRlZCB0b1xuICAgICAqIEBwYXJhbSBcdGZvcmNlIFx0XHRUcnVlIGlmIHdlIG5lZWQgdG8gcmVtb3ZlICYgcmVkcmF3IHRoaXMgZWxlbWVudFxuICAgICAqL1xuICAgIGRyYXcocGFyZW50LCBmb3JjZSkge1xuICAgICAgICAvLyBRdWl0IGlmIHdlIGRvbid0IGhhdmUgYW55dGhpbmcgdG8gZHJhd1xuICAgICAgICBpZiAoIXRoaXMuX2VsZW1zIHx8ICF0aGlzLl9lbGVtcy5iYXNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9oYXNDcmVhdGVkU3R5bGVzKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3KHBhcmVudCwgZm9yY2UpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVmcmVzaCBvdXIgY29udGVudHNcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICAvLyBTYXZlIG9mZiB0aGlzIHBhcmVudCAmIHF1aXQgaWYgdGhlcmUgaXMgbm8gcGFyZW50XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudCB8fCB0aGlzLl9wYXJlbnQ7XG4gICAgICAgIGlmICghdGhpcy5fcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRHJhdyB0aGUgYmFzZSBlbGVtZW50XG4gICAgICAgIHRoaXMuX2RyYXdCYXNlKCk7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgdG91Y2hwb2ludCBmb3IgcmVmcmVzaGluZyBhZnRlciB0aGUgZHJhdyBzdGVwXG4gICAgICAgIHRoaXMuX2FmdGVyRHJhdygpO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogX2RyYXdCYXNlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIERyYXdzIGEgRHJhd2FibGUgb3IgSFRNTCBFbGVtZW50XG4gICAgICogQHBhcmFtXHRmb3JjZVx0SWYgdHJ1ZSwgZXJhc2VzIGFuZCByZWRyYXdzIHRoZSBiYXNlIGVsZW1lbnRcbiAgICAgKi9cbiAgICBfZHJhd0Jhc2UoZm9yY2UpIHtcbiAgICAgICAgLy8gZ3JhYiB0aGUgYmFzZSBoZWxwZXJcbiAgICAgICAgbGV0IGJhc2UgPSB0aGlzLl9lbGVtcy5iYXNlO1xuICAgICAgICAvLyBJZiB3ZSBhcmUgcmVkcmF3aW5nIG9yIGhhdmUgbmV2ZXIgZHJhd24gdGhlIGVsZW1lbnQsIGRvIHNvXG4gICAgICAgIGlmIChmb3JjZSB8fCAoIWJhc2UucGFyZW50Tm9kZSkpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBmaXJzdCBmcm9tIHRoZSBwYXJlbnQgaWYgd2UgbmVlZCB0b1xuICAgICAgICAgICAgaWYgKGZvcmNlICYmIGJhc2UucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIGJhc2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiYXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gcGFyZW50LCBxdWl0XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3BhcmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFkZCBiYWNrIHRvIHRoZSBwYXJlbnRcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudC5hcHBlbmRDaGlsZChiYXNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBlcmFzZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBSZW1vdmUgdGhpcyBkcmF3YWJsZSBmcm9tIHRoZSBjYW52YXNcbiAgICAgKi9cbiAgICBlcmFzZSgpIHtcbiAgICAgICAgbGV0IGJhc2UgPSB0aGlzLl9lbGVtcy5iYXNlO1xuICAgICAgICBpZiAoIWJhc2UgfHwgIWJhc2UucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJhc2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiYXNlKTtcbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIF9yZWZyZXNoXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIE92ZXJyaWRhYmxlIGZ1bmN0aW9uIHRoYXQgcmVmcmVzaGVzIHRoZSBVSSBvZiB0aGlzIERyYXdhYmxlLiBEb2VzIG5vdFxuICAgICAqIGd1YXJhbnRlZSB0aGF0IHRoZSBlbGVtZW50IGhhcyBiZWVuIGRyYXduLlxuICAgICAqL1xuICAgIF9yZWZyZXNoKCkgeyB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIF9hZnRlckRyYXdcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogT3ZlcnJpZGFibGUgZnVuY3Rpb24gdG8gbWFrZSBzdXJlIHdlIGNhbiBhZGp1c3Qgc2l6ZXMgc2hvdWxkIHdlIG5lZWQgdG9cbiAgICAgKi9cbiAgICBfYWZ0ZXJEcmF3KCkgeyB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIF9vblJlc2l6ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBPdmVycmlkYWJsZSBmdW5jdGlvbiB0byBhZGp1c3Qgd2hlbiB0aGUgc2NyZWVuIHJlc2l6ZXNcbiAgICAgKi9cbiAgICBfb25SZXNpemUoKSB7IH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogYWRkRXZlbnRMaXN0ZW5lclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIZWxwZXIgdG8gYWRkIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgYmFzZSBlbGVtZW50XG4gICAgICogQHBhcmFtXHR0eXBlXHRcdFR5cGUgb2YgZXZlbnQgdG8gbGlzdGVuIHRvXG4gICAgICogQHBhcmFtXHRsaXN0ZW5lclx0VGhlIGxpc3RlbmVyIHRvIGFwcGx5IHVwb24gdGhpcyBldmVudFxuICAgICAqL1xuICAgIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKTtcbiAgICB9XG59XG5leHBvcnRzLkRyYXdhYmxlID0gRHJhd2FibGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogaXNOdWxsT3JVbmRlZmluZWRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERldGVybWluZSB3aGV0aGVyIHRoZSBkYXRhIHBhc3NlZCBpbiBoYXMgdmFsdWVcbiAqXG4gKiBAcGFyYW0gICB2YWx1ZSAgIFRoZSB2YWx1ZSB0byBjaGVjayBmb3IgbnVsbCAvIHVuZGVmaW5lZFxuICpcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHZhbHVlIGlzIG51bGwgb3IgdW5kZWZpbmVkXG4gKi9cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlLCBzdHJDaGVjaykge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChzdHJDaGVjayAmJiB2YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBmYWxzZXlfMSA9IHJlcXVpcmUoXCIuLi90eXBlR3VhcmRzL2ZhbHNleVwiKTtcbi8qKlxuICogcGllY2VcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogR2V0cyBhIHBpZWNlIG9mIGEgZGVsaW1pdGVkIHN0cmluZ1xuICpcbiAqIEBwYXJhbSBcdHN0ciBcdFx0VGhlIHN0cmluZyB0byBncmFiIGEgcGllY2UgZnJvbVxuICogQHBhcmFtIFx0ZGVsaW0gXHRUaGUgY2hhcmFjdGVyIChvciBjaGFyYWN0ZXJzKSB0aGF0IGFyZSBkZWxpbWl0aW5nIHRoZSBzdHJpbmdcbiAqIEBwYXJhbSBcdHBpZWNlIFx0VGhlIHBpZWNlIG51bWJlciB0byBnZXQuIERlZmF1bHRzIHRvIDEgaWYgbm90IHBhc3NlZCBpbi5cbiAqXG4gKiBAcmV0dXJuIFRoZSBzcGVjaWZpZWQgcGllY2Ugb2YgdGhlIHN0cmluZywgXCJcIiBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gKi9cbmZ1bmN0aW9uIHBpZWNlKHN0ciwgZGVsaW0sIHBjID0gMSkge1xuICAgIGxldCBzcGxpdF9hcnI7XG4gICAgc3BsaXRfYXJyID0gc3RyLnNwbGl0KGRlbGltKTtcbiAgICByZXR1cm4gc3BsaXRfYXJyW3BjXSB8fCBcIlwiO1xufVxuZXhwb3J0cy5waWVjZSA9IHBpZWNlO1xuO1xuLyoqXG4gKiBhZGRQaWVjZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBZGQgYSBuZXcgcGllY2UgdG8gYSBkZWxpbWl0ZWQgc3RyaW5nLCBhZGRpbmcgdGhlIGFwcHJvcHJpYXRlIGRlbGltaXRlciBpZlxuICogYXBwcm9wcmlhdGUgdG8gZG8gc29cbiAqXG4gKiBAcGFyYW1cdHN0clx0XHRcdFRoZSBzdHJpbmcgdG8gYWRkIGEgcGllY2UgdG9cbiAqIEBwYXJhbVx0bmV4dFBpZWNlXHRUaGUgbmV4dCBwaWVjZSB0byBhZGQgdG8gdGhlIHN0cmluZ1xuICogQHBhcmFtXHRkZWxpbVx0XHREZWxpbWl0ZXIgdG8gdXNlIHRvIHNlcGFyYXRlIHBpZWNlc1xuICpcbiAqIEByZXR1cm5zXHRUaGUgcGllY2VkLXRvZ2V0aGVyIHN0cmluZ1xuICovXG5mdW5jdGlvbiBhZGRQaWVjZShzdHIsIG5leHRQaWVjZSwgZGVsaW0pIHtcbiAgICBpZiAoc3RyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc3RyICs9IGRlbGltO1xuICAgIH1cbiAgICByZXR1cm4gc3RyICsgbmV4dFBpZWNlO1xufVxuZXhwb3J0cy5hZGRQaWVjZSA9IGFkZFBpZWNlO1xuLyoqXG4gKiB0aXRsZUNhc2VcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ2FwaXRhbGl6ZXMgdGhlIGZpcnN0IGxldHRlciBvZiBlYWNoIHdvcmQgb2YgYSBnaXZlbiBzdHJpbmcsIGFuZCBjb252ZXJ0cyBhbGwgZWxzZSB0byBsb3dlcmNhc2VcbiAqXG4gKiBAcGFyYW0gXHRzdHIgICBcdFRoZSBzdHJpbmcgdG8gY29udmVydCB0byB0aXRsZSBjYXNlXG4gKiBAcGFyYW0gXHRkZWxpbSBcdFdoYXQgc2VwYXJhdGVzIHRoZSBkaWZmZXJlbnQgd29yZHMgaW4gdGhpcyBzdHJpbmdcbiAqXG4gKiBAcmV0dXJucyBUaGUgc3RyaW5nLCBub3cgaW4gdGl0bGUgY2FzZVxuICovXG5mdW5jdGlvbiB0aXRsZUNhc2Uoc3RyLCBkZWxpbSA9IFwiIFwiKSB7XG4gICAgbGV0IHdvcmRzO1xuICAgIGxldCB3O1xuICAgIGxldCBvdXQ7XG4gICAgb3V0ID0gXCJcIjtcbiAgICB3b3JkcyA9IHN0ci5zcGxpdChkZWxpbSk7XG4gICAgZm9yICh3ID0gMDsgdyA8IHdvcmRzLmxlbmd0aDsgdyArPSAxKSB7XG4gICAgICAgIGlmICh3ICE9PSAwKSB7XG4gICAgICAgICAgICBvdXQgKz0gZGVsaW07XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9IGNoYXJBdCh3b3Jkc1t3XSwgMCkudG9VcHBlckNhc2UoKTtcbiAgICAgICAgb3V0ICs9IHJlc3Qod29yZHNbd10sIDEpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnRzLnRpdGxlQ2FzZSA9IHRpdGxlQ2FzZTtcbjtcbi8qKlxuICogc2VudGVuY2VDYXNlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENhcGl0YWxpemVzIHRoZSBmaXJzdCBsZXR0ZXIgb2YgYSBnaXZlbiBzdHJpbmcsIGFuZCBjb252ZXJ0cyB0aGUgcmVzdCB0b1xuICogbG93ZXJjYXNlXG4gKlxuICogQHBhcmFtIFx0c3RyICAgVGhlIHN0cmluZyB0byBjYXBpdGFsaXplXG4gKlxuICogQHJldHVybnMgVGhlIHN0cmluZywgbm93IGluIHNlbnRlbmNlIGNhc2VcbiAqL1xuZnVuY3Rpb24gc2VudGVuY2VDYXNlKHN0cikge1xuICAgIGxldCBvdXQ7XG4gICAgb3V0ID0gY2hhckF0KHN0ciwgMCkudG9VcHBlckNhc2UoKTtcbiAgICBvdXQgKz0gcmVzdChzdHIsIDEpLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydHMuc2VudGVuY2VDYXNlID0gc2VudGVuY2VDYXNlO1xuO1xuLyoqXG4gKiBjaGFyQXRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU2xpZ2h0bHkgbW9yZSBtZW1vcmFibGUgd2F5IHRvIGdldCBhIGNoYXJhY3RlciBhdCBhIGdpdmVuIHBvc2l0aW9uIGluIGFcbiAqIHN0cmluZ1xuICpcbiAqIEBwYXJhbSBcdHN0ciBcdFRoZSBzdHJpbmcgdG8gdGFrZSB0aGUgY2hhcmFjdGVyIG91dCBvZlxuICogQHBhcmFtIFx0aWR4IFx0V2hhdCBpbmRleCBvZiB0aGUgc3RyaW5nIHRvIGdldCB0aGUgY2hhcmFjdGVyIG9mXG4gKlxuICogQHJldHVybiBUaGUgY2hhcmFjdGVyIGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb25cbiAqL1xuZnVuY3Rpb24gY2hhckF0KHN0ciwgaWR4KSB7XG4gICAgcmV0dXJuIHN0ci5zdWJzdHIoaWR4LCAxKTtcbn1cbmV4cG9ydHMuY2hhckF0ID0gY2hhckF0O1xuO1xuLyoqXG4gKiByZXN0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEdldHMgdGhlIHN1YnN0cmluZyBvZiBhIHN0cmluZyBzdGFydGluZyBmcm9tIGEgZ2l2ZW4gaW5kZXhcbiAqXG4gKiBAcGFyYW0gXHRzdHIgXHRUaGUgc3RyaW5nIHRvIGdldCB0aGUgc3Vic3RyaW5nIG9mXG4gKiBAcGFyYW0gXHRpZHggXHRXaGF0IGluZGV4IHRvIHN0YXJ0IHRoZSBzdWJzdHJpbmcgYXRcbiAqXG4gKiBAcmV0dXJuIFRoZSByZXN0IG9mIHRoZSBzdHJpbmcgYWZ0ZXIgdGhlIHByb3ZpZGVkIGluZGV4XG4gKi9cbmZ1bmN0aW9uIHJlc3Qoc3RyLCBpZHgpIHtcbiAgICByZXR1cm4gc3RyLnN1YnN0cmluZyhpZHgsIHN0ci5sZW5ndGgpO1xufVxuZXhwb3J0cy5yZXN0ID0gcmVzdDtcbjtcbi8qKlxuICogdHJpbVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBUcmltcyBhbGwgd2hpdGUgc3BhY2Ugb2ZmIG9mIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSBcdHN0ciBcdFRoZSBzdHJpbmcgdG8gdHJpbVxuICpcbiAqIEByZXR1cm4gVGhlIHRyaW1tZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gICAgbGV0IHJldDtcbiAgICByZXQgPSBzdHIucmVwbGFjZSgvXlxccyovZywgXCJcIik7IC8vIFJlcGxhY2Ugd2hpdGUgc3BhY2UgYXQgdGhlIGJlZ2lubmluZ1xuICAgIHJldCA9IHJldC5yZXBsYWNlKC9cXHMqPyQvZywgXCJcIik7IC8vIFJlcGxhY2Ugd2hpdGUgc3BhY2UgYXQgdGhlIGVuZFxuICAgIHJldHVybiByZXQ7XG59XG5leHBvcnRzLnRyaW0gPSB0cmltO1xuO1xuLyoqXG4gKiBzdHJpcFNwYWNlc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBSZW1vdmUgYWxsIHNwYWNlcyBmcm9tIHRoZSBwcm92aWRlZCBzdHJpbmdcbiAqXG4gKiBAcGFyYW0gXHRzdHJcdFRoZSBzdHJpbmcgdG8gc3RyaXBcbiAqXG4gKiBAcmV0dXJuc1x0VGhlIHN0cmlwcGVkIHN0cmluZ3NcbiAqL1xuZnVuY3Rpb24gc3RyaXBTcGFjZXMoc3RyKSB7XG4gICAgbGV0IHJldDtcbiAgICByZXQgPSBzdHIucmVwbGFjZSgvXFxzL2csIFwiXCIpO1xuICAgIHJldCA9IHJldC5yZXBsYWNlKC9cXCZuYnNwXFw7L2csIFwiXCIpO1xuICAgIHJldHVybiByZXQ7XG59XG5leHBvcnRzLnN0cmlwU3BhY2VzID0gc3RyaXBTcGFjZXM7XG4vKipcbiAqIGZvcm1hdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBUYWtlIGEgc3RyaW5nIHdpdGggcGxhY2Vob2xkZXJzIGFuZCByZXBsYWNlcyB0aGVtIHdpdGggdGhlIHByb3ZpZGVkXG4gKiBwYXJhbWV0ZXJzXG4gKlxuICogQHBhcmFtIFx0c3RyIFx0XHRcdFx0XHRUaGUgc3RyaW5nIHRvIG1ha2UgcmVwbGFjZW1lbnRzIHdpdGhpblxuICogQHBhcmFtXHRcdHJlcGxhY2VtZW50c1x0VGhlIHN0cmluZ3MgdGhhdCBzaG91bGQgcmVwbGFjZSB0aGUgcGxhY2Vob2xkZXJzXG4gKlxuICogQHJldHVybnNcdFRoZSBzdHJpbmcgd2l0aCByZXBsYWNlbWVudHMgbWFkZVxuICovXG5mdW5jdGlvbiBmb3JtYXQoc3RyLCAuLi5yZXBsYWNlbWVudHMpIHtcbiAgICBsZXQgc3RyaW5nQXJyID0gc3RyLnNwbGl0KFwiXCIpO1xuICAgIC8vIG1ha2Ugc3VyZSB3ZSBoYXZlIGFuIGFycmF5IHRvIGF2b2lkIG51bGwgcmVmZXJlbmNlc1xuICAgIGlmICghcmVwbGFjZW1lbnRzKSB7XG4gICAgICAgIHJlcGxhY2VtZW50cyA9IFtdO1xuICAgIH1cbiAgICBsZXQgbnVtYmVyID0gXCJcIjtcbiAgICBsZXQgbG9va2luZ0Zvck51bWJlciA9IGZhbHNlO1xuICAgIC8vIExvb3AgdGhyb3VnaCBlYWNoIGxldHRlciBpbiB0aGUgYXJyYXlcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzdHJpbmdBcnIubGVuZ3RoOyBpZHggKz0gMSkge1xuICAgICAgICBsZXQgY2hhciA9IHN0cmluZ0FycltpZHhdO1xuICAgICAgICAvLyBPcHRpb24gMTogYSBiYWNrc2xhc2ggbWVhbnMgd2Ugc2hvdWxkIHNraXAgdGhlIG5leHQgY2hhcmFjdGVyXG4gICAgICAgIGlmIChjaGFyID09PSBcIlxcXFxcIikge1xuICAgICAgICAgICAgc3RyaW5nQXJyW2lkeF0gPSBcIlwiO1xuICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPcHRpb24gMjogYSBsZWZ0IGJyYWNlIG1lYW5zIHdlIHNob3VsZCBzdGFydCBsb29raW5nIGZvciBhIG51bWJlclxuICAgICAgICBlbHNlIGlmIChjaGFyID09PSBcIntcIikge1xuICAgICAgICAgICAgbG9va2luZ0Zvck51bWJlciA9IHRydWU7IC8vIHN0YXJ0IGxvb2tpbmcgZm9yIGEgbnVtYmVyXG4gICAgICAgICAgICBzdHJpbmdBcnJbaWR4XSA9IFwiXCI7IC8vIHJlcGxhY2UgdGhlIGJyYWNlIHdpdGggYSBibGFuayBzdHJpbmdcbiAgICAgICAgfVxuICAgICAgICAvLyBPcHRpb24gMzogYSByaWdodCBicmFjZSBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCB3aGF0ZXZlciBpcyBpbiB0aGUgcmVwbGFjZW1lbnRzIGFycmF5XG4gICAgICAgIGVsc2UgaWYgKGNoYXIgPT09IFwifVwiICYmIGxvb2tpbmdGb3JOdW1iZXIpIHtcbiAgICAgICAgICAgIHN0cmluZ0FycltpZHhdID0gKCFmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChyZXBsYWNlbWVudHNbK251bWJlcl0pID8gcmVwbGFjZW1lbnRzWytudW1iZXJdLnRvU3RyaW5nKCkgOiBcIntcIiArIG51bWJlciArIFwifVwiKTtcbiAgICAgICAgICAgIGxvb2tpbmdGb3JOdW1iZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIG51bWJlciA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT3B0aW9uIDQ6IGEgbnVtZXJpYyBjaGFyYWN0ZXIgd2hlbiB3ZSdyZSBsb29raW5nIGZvciBhIG51bWJlclxuICAgICAgICBlbHNlIGlmIChpc051bWVyaWMoY2hhcikgJiYgbG9va2luZ0Zvck51bWJlcikge1xuICAgICAgICAgICAgbnVtYmVyICs9IGNoYXI7XG4gICAgICAgICAgICBzdHJpbmdBcnJbaWR4XSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT3B0aW9uIDU6IHdlIHdlcmUgbG9va2luZyBmb3IgYSBudW1iZXIgYnV0IGRpZG4ndCBmaW5kIG9uZVxuICAgICAgICBlbHNlIGlmIChsb29raW5nRm9yTnVtYmVyKSB7XG4gICAgICAgICAgICBsb29raW5nRm9yTnVtYmVyID0gZmFsc2U7XG4gICAgICAgICAgICBudW1iZXIgPSBcIlwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmdBcnIuam9pbihcIlwiKTtcbn1cbmV4cG9ydHMuZm9ybWF0ID0gZm9ybWF0O1xuLyoqXG4gKiBpc051bWVyaWNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ2hlY2tzIGlmIGEgc3RyaW5nIGNhbiBiZSBwYXJzZWQgaW50byBhbiBpbnRlZ2VyIG51bWJlclxuICogQHBhcmFtIFx0c3RyIFx0VGhlIHN0cmluZyB0byB0ZXN0XG4gKlxuICogQHJldHVybnNcdFRydWUgaWYgdGhpcyBpcyBhbiBpbnRlZ2VyIHN0cmluZ1xuICovXG5mdW5jdGlvbiBpc051bWVyaWMoc3RyKSB7XG4gICAgcmV0dXJuIC9eWzAtOV0rJC8udGVzdChzdHIpO1xufVxuZXhwb3J0cy5pc051bWVyaWMgPSBpc051bWVyaWM7XG4vKipcbiAqIGFkZExlYWRpbmdaZXJvc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBZGRzIGEgbnVtYmVyIG9mIGxlYWRpbmcgemVyb2VzIGJlZm9yZSBhIG51bWJlclxuICpcbiAqIEBwYXJhbSAgIGNvdW50ICAgVGhlIG51bWJlciBvZiB6ZXJvZXMgdG8gYWRkXG4gKiBAcGFyYW0gICBudW1zICAgIFRoZSBudW1iZXJzIHRvIGFkZCB6ZXJvZXMgdG9cbiAqXG4gKiBAcmV0dXJucyBBbGwgemVyby1wYWRkZWQgbnVtYmVycyB0aGF0IHdlcmUgcGFzc2VkIGluXG4gKi9cbmZ1bmN0aW9uIGFkZExlYWRpbmdaZXJvZXMoY291bnQsIHVucGFkZGVkKSB7XG4gICAgO1xuICAgIGxldCBvdXQ7XG4gICAgaWYgKHR5cGVvZiB1bnBhZGRlZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBvdXQgPSB1bnBhZGRlZDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG91dCA9IHVucGFkZGVkLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgbnVtYmVyIG9mIHplcm9zIHdlIG5lZWQgdG8gYWRkIGFuZCBhZGQgdGhlbVxuICAgIGxldCB6O1xuICAgIGZvciAoeiA9IG91dC5sZW5ndGg7IHogPCBjb3VudDsgeiArPSAxKSB7XG4gICAgICAgIG91dCA9IFwiMFwiICsgb3V0O1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0cy5hZGRMZWFkaW5nWmVyb2VzID0gYWRkTGVhZGluZ1plcm9lcztcbjtcbi8qKlxuICogc3RyaXBIVE1MXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFJlbW92ZSBIVE1MIHRhZ3MgZnJvbSBhIHBhcnRpY3VsYXIgc3RyaW5nXG4gKiBAcGFyYW0gXHRzdHJcdFx0U3RyaW5nIHRvIHJlbW92ZSB0YWdzIGZyb21cbiAqXG4gKiBAcmV0dXJuc1x0VGhlIHN0cmluZyBzdHJpcHBlZCBvZiBIVE1MXG4gKi9cbmZ1bmN0aW9uIHN0cmlwSFRNTChzdHIpIHtcbiAgICBsZXQgb3V0O1xuICAgIG91dCA9IHN0ci5yZXBsYWNlKC9cXDwuKj9cXD4vZywgXCJcIik7XG4gICAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydHMuc3RyaXBIVE1MID0gc3RyaXBIVE1MO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBmYWxzZXlfMSA9IHJlcXVpcmUoXCIuLi90eXBlR3VhcmRzL2ZhbHNleVwiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY29uc3QgbmF2aWdhdGVfMSA9IHJlcXVpcmUoXCIuLi9vYmplY3RIZWxwZXJzL25hdmlnYXRlXCIpO1xuY29uc3QgZGF0ZXNfMSA9IHJlcXVpcmUoXCIuLi9wcmltaXRpdmVIZWxwZXJzL2RhdGVzXCIpO1xuZnVuY3Rpb24gY2xvbmVUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAgIGxldCB0ZW1wID0ge1xuICAgICAgICB2YWx1ZTogdGVtcGxhdGUudmFsdWUsXG4gICAgICAgIHBvc2l0aW9uOiB0ZW1wbGF0ZS5wb3NpdGlvbixcbiAgICAgICAgcmVxdWlyZWQ6IHRlbXBsYXRlLnJlcXVpcmVkLFxuICAgICAgICBvblZhbGlkYXRlOiB0ZW1wbGF0ZS5vblZhbGlkYXRlLFxuICAgICAgICBvbk90aGVyQ2hhbmdlOiB0ZW1wbGF0ZS5vbk90aGVyQ2hhbmdlLFxuICAgICAgICBsYWJlbDogdGVtcGxhdGUubGFiZWwsXG4gICAgICAgIGNsczogdGVtcGxhdGUuY2xzLFxuICAgICAgICBsYXlvdXQ6IHRlbXBsYXRlLmxheW91dFxuICAgIH07XG4gICAgcmV0dXJuIHRlbXA7XG59XG5leHBvcnRzLmNsb25lVGVtcGxhdGUgPSBjbG9uZVRlbXBsYXRlO1xuLyoqXG4gKiBjcmVhdGVTZWxlY3RFbGVtZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGVzIGEgc2VsZWN0IGVsZW1lbnQgd2l0aCBhc3NvY2lhdGVkIG9wdGlvbnNcbiAqIEBwYXJhbSBpZCAtIElEIHRvIHVzZSBmb3IgdGhlIHNlbGVjdCBlbGVtZW50XG4gKiBAcGFyYW0gY2xzIC0gdGhlIENTUyBjbGFzcyB0byB1c2UgdG8gc3R5bGUgdGhpcyBzZWxlY3QgYm94XG4gKiBAcGFyYW0gb3B0aW9ucyAtIFdoYXQgb3B0aW9ucyBzaG91bGQgYmUgaW5jbHVkZWQgaW4gdGhlIHNlbGVjdCBib3hcbiAqIEBwYXJhbSBkZWZhdWx0U2VsZWN0aW9uIC0gV2hhdCBzaG91bGQgYmUgc2VsZWN0ZWQgYnkgZGVmYXVsdFxuICpcbiAqIEB2ZXJzaW9uIDEuMC4yXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNlbGVjdEVsZW1lbnQoaWQsIGNscywgb3B0aW9ucywgZGVmYXVsdFNlbGVjdGlvbikge1xuICAgIC8vIHR1cm4gdGhlIG9wdGlvbiBhcnJheSBpbnRvIHNvbWV0aGluZyB0aGUgY3JlYXRlRWxlbWVudCBmdW5jdGlvbiB3aWxsIHVuZGVyc3RhbmRcbiAgICBsZXQgb3B0aW9uRWxlbXMgPSBjcmVhdGVTZWxlY3RPcHRpb25zKG9wdGlvbnMsIGRlZmF1bHRTZWxlY3Rpb24pO1xuICAgIC8vIGlmIHRoZXJlJ3Mgbm8gZGVmYXVsdCwgc2V0IHRoZSBkZWZhdWx0IHRvIGJlIC0xXG4gICAgaWYgKGZhbHNleV8xLmlzTnVsbE9yVW5kZWZpbmVkKGRlZmF1bHRTZWxlY3Rpb24pKSB7XG4gICAgICAgIGRlZmF1bHRTZWxlY3Rpb24gPSAtMTtcbiAgICB9XG4gICAgLy8gY3JlYXRlIHRoZSBnZW5lcmFsIGRlZmluaXRpb24gZm9yIHRoZSBzZWxlY3QgZWxlbWVudFxuICAgIGxldCBzZWxlY3QgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgY2xzOiBjbHMsXG4gICAgICAgIHR5cGU6IFwic2VsZWN0XCIsXG4gICAgICAgIGNoaWxkcmVuOiBvcHRpb25FbGVtc1xuICAgIH0pO1xuICAgIGlmICghZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQoZGVmYXVsdFNlbGVjdGlvbikpIHtcbiAgICAgICAgc2VsZWN0LnZhbHVlID0gZGVmYXVsdFNlbGVjdGlvbi50b1N0cmluZygpO1xuICAgIH1cbiAgICAvLyByZXR1cm4gdGhlIGNyZWF0ZWQgc2VsZWN0IGJveFxuICAgIHJldHVybiBzZWxlY3Q7XG59XG5leHBvcnRzLmNyZWF0ZVNlbGVjdEVsZW1lbnQgPSBjcmVhdGVTZWxlY3RFbGVtZW50O1xuLyoqXG4gKiBjcmVhdGVTZWxlY3RPcHRpb25zXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjcmVhdGUgb3B0aW9ucyB0aGF0IHdpbGwgc2l0IGluIGEgc2VsZWN0IGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2VsZWN0T3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0U2VsZWN0aW9uKSB7XG4gICAgbGV0IG9wdEVsZW1zID0gW107XG4gICAgLy8gaWYgdGhlcmUncyBubyBkZWZhdWx0LCBhZGQgYSBkZWZhdWx0IGJsYW5rIG9wdGlvbiBiZWZvcmUgYW55dGhpbmcgZWxzZVxuICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChkZWZhdWx0U2VsZWN0aW9uKSkge1xuICAgICAgICBsZXQgZGVmID0gX2NyZWF0ZVNlbGVjdE9wdGlvbihcIi0tIHNlbGVjdCBhbiBvcHRpb24gLS1cIiwgLTEsIHRydWUpO1xuICAgICAgICBkZWYuYXR0ci5kaXNhYmxlZCA9IFwidHJ1ZVwiO1xuICAgICAgICBvcHRFbGVtcy5wdXNoKGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KGRlZikpO1xuICAgIH1cbiAgICBuYXZpZ2F0ZV8xLm1hcChvcHRpb25zLCAobGJsLCB2YWx1ZSkgPT4ge1xuICAgICAgICBsZXQgZGVmID0gX2NyZWF0ZVNlbGVjdE9wdGlvbihsYmwsIHZhbHVlLCB2YWx1ZSA9PT0gZGVmYXVsdFNlbGVjdGlvbik7XG4gICAgICAgIG9wdEVsZW1zLnB1c2goY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoZGVmKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG9wdEVsZW1zO1xufVxuZXhwb3J0cy5jcmVhdGVTZWxlY3RPcHRpb25zID0gY3JlYXRlU2VsZWN0T3B0aW9ucztcbi8qKlxuICogX2NyZWF0ZVNlbGVjdE9wdGlvblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlIGEgc2luZ2xlIHNlbGVjdCBvcHRpb25cbiAqXG4gKiBAcGFyYW0gICBsYWJlbCAgICAgICBMYWJlbCB0byBzaG93IGZvciB0aGUgb3B0aW9uXG4gKiBAcGFyYW0gICB2YWx1ZSAgICAgICBWYWx1ZSB0aGUgb3B0aW9uIGlzIGxpbmtlZCB0b1xuICogQHBhcmFtICAgaXNEZWZhdWx0ICAgVHJ1ZSBpZiB0aGUgb3B0aW9uIHNob3VsZCBiZSBzZWxlY3RlZCBieSBkZWZhdWx0XG4gKlxuICogQHJldHVybnMgVGhlIGRlZmluaXRpb24gdGhhdCB3aWxsIGNyZWF0ZSB0aGlzIG9wdGlvblxuICovXG5mdW5jdGlvbiBfY3JlYXRlU2VsZWN0T3B0aW9uKGxhYmVsLCB2YWx1ZSwgaXNEZWZhdWx0KSB7XG4gICAgbGV0IGRlZiA9IHtcbiAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgYXR0cjoge1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IGxhYmVsXG4gICAgfTtcbiAgICBpZiAoaXNEZWZhdWx0KSB7XG4gICAgICAgIGRlZi5hdHRyLnNlbGVjdGVkID0gXCJ0cnVlXCI7XG4gICAgfVxuICAgIHJldHVybiBkZWY7XG59XG47XG4vKipcbiAqIENyZWF0ZXMgYSBjaGVja2JveCBlbGVtZW50ICYgYSB3cmFwcGVyIGFyb3VuZCBpdFxuICogQHBhcmFtIGlkIC0gSUQgdG8gdXNlIGZvciB0aGUgY2hlY2tib3hcbiAqIEBwYXJhbSBjbHMgLSB0aGUgQ1NTIGNsYXNzIHRvIHN0eWxlIHRoaXMgY2hlY2tib3hcbiAqIEBwYXJhbSBsYmwgLSBXaGF0IGxhYmVsIHRvIHVzZSBmb3IgdGhpcyBjaGVja2JveFxuICogQHBhcmFtIGNoZWNrZWQgLSBUcnVlIGlmIHRoZSBjaGVja2JveCBzaG91bGQgYmUgY2hlY2tlZFxuICovXG5mdW5jdGlvbiBjcmVhdGVMYWJlbGVkQ2hlY2tib3goaWQsIGNscywgbGJsLCBjaGVja2VkKSB7XG4gICAgLy8gY3JlYXRlIHRoZSB3cmFwcGVyIHRvIGhvbGQgdGhlIGNoZWNrYm94ICsgbGFiZWxcbiAgICBsZXQgd3JhcHBlckVsZW0gPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlU2ltcGxlRWxlbWVudChpZCArIFwifHdyYXBwZXJcIiwgY2xzICsgXCJ8d3JhcHBlclwiKTtcbiAgICAvLyBjcmVhdGUgdGhlIGNoZWNrYm94IGl0c2VsZlxuICAgIGxldCBjaGVja2JveERlZiA9IHtcbiAgICAgICAgdHlwZTogXCJpbnB1dFwiLFxuICAgICAgICBpZDogaWQsXG4gICAgICAgIGNsczogY2xzLFxuICAgICAgICBhdHRyOiB7XG4gICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBuYW1lOiBpZFxuICAgICAgICB9LFxuICAgICAgICBwYXJlbnQ6IHdyYXBwZXJFbGVtXG4gICAgfTtcbiAgICBsZXQgY2hlY2tib3hFbGVtID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoY2hlY2tib3hEZWYpO1xuICAgIC8vIGNyZWF0ZSB0aGUgbGFiZWwgZm9yIHRoZSBjaGVja2JveFxuICAgIGxldCBsYmxFbGVtID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgY2xzICsgXCJ8bGJsXCIsIGxibCwgeyBmb3I6IGlkIH0sIG51bGwsIHdyYXBwZXJFbGVtKTtcbiAgICAvLyByZXR1cm4gdGhlIHdyYXBwZXIgKyB0aGUgY2hlY2tib3hcbiAgICByZXR1cm4ge1xuICAgICAgICB3cmFwcGVyOiB3cmFwcGVyRWxlbSxcbiAgICAgICAgY2hlY2tib3g6IGNoZWNrYm94RWxlbVxuICAgIH07XG59XG5leHBvcnRzLmNyZWF0ZUxhYmVsZWRDaGVja2JveCA9IGNyZWF0ZUxhYmVsZWRDaGVja2JveDtcbi8qKiBjcmVhdGVzIGEgbGFiZWwgdGhhdCB3aWxsIGJlIGNsaWNrYWJsZSB0byBzZWxlY3QgYW4gYXNzb2NpYXRlZCBpbnB1dCAqL1xuZnVuY3Rpb24gY3JlYXRlTGFiZWxGb3JJbnB1dChsYmwsIGxhYmVsRm9yLCBjbHMsIGVtYmVkSW4sIGF0dHIpIHtcbiAgICBpZiAoIWF0dHIpIHtcbiAgICAgICAgYXR0ciA9IHt9O1xuICAgIH1cbiAgICBhdHRyLmZvciA9IGxhYmVsRm9yO1xuICAgIGxldCBsYmxFbGVtZW50ID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICB0eXBlOiBcImxhYmVsXCIsXG4gICAgICAgIGNsczogY2xzLFxuICAgICAgICBhdHRyOiBhdHRyLFxuICAgICAgICBjb250ZW50OiBsYmwsXG4gICAgICAgIHBhcmVudDogZW1iZWRJblxuICAgIH0pO1xuICAgIHJldHVybiBsYmxFbGVtZW50O1xufVxuZXhwb3J0cy5jcmVhdGVMYWJlbEZvcklucHV0ID0gY3JlYXRlTGFiZWxGb3JJbnB1dDtcbmZ1bmN0aW9uIGNyZWF0ZVJhZGlvQnV0dG9ucygpIHtcbiAgICAvL1RPRE86IElNUExFTUVOVFxufVxuZXhwb3J0cy5jcmVhdGVSYWRpb0J1dHRvbnMgPSBjcmVhdGVSYWRpb0J1dHRvbnM7XG4vKipcbiAqIENyZWF0ZSBhbiBpbnB1dCBlbGVtZW50XG4gKiBAcGFyYW0gaWRcbiAqIEBwYXJhbSBjbHNcbiAqIEBwYXJhbSB0eXBlXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEBwYXJhbSBhdHRyXG4gKiBAcGFyYW0gY2hpbGRyZW5cbiAqIEBwYXJhbSBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5wdXRFbGVtZW50KGlkLCBjbHMsIHR5cGUsIHZhbHVlLCBhdHRyLCBjaGlsZHJlbiwgcGFyZW50KSB7XG4gICAgbGV0IGVsZW1UeXBlID0gXCJpbnB1dFwiO1xuICAgIC8vIGhhbmRsZSB0aGUgdHlwZVxuICAgIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHR5cGUgPT09IFwidGV4dGFyZWFcIikge1xuICAgICAgICB0eXBlID0gXCJcIjtcbiAgICAgICAgZWxlbVR5cGUgPSBcInRleHRhcmVhXCI7XG4gICAgfVxuICAgIC8vIHVwZGF0ZSB0aGUgYXR0cmlidXRlIGFycmF5XG4gICAgYXR0ciA9IGF0dHIgfHwge307XG4gICAgYXR0ci50eXBlID0gdHlwZTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IFwiY2hlY2tib3hcIiB8fCB0eXBlID09PSBcInJhZGlvXCIpIHtcbiAgICAgICAgICAgIGF0dHIuY2hlY2tlZCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFwiZGF0ZVwiKSB7XG4gICAgICAgICAgICBhdHRyLnZhbHVlID0gZGF0ZXNfMS5pbnB1dERhdGVGbXQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXR0ci52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGNyZWF0ZSB0aGUgYXBwcm9wcmlhdGUgZWxlbWVudFxuICAgIGxldCBlbGVtID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICB0eXBlOiBlbGVtVHlwZSxcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICBjbHM6IGNscyxcbiAgICAgICAgYXR0cjogYXR0cixcbiAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgICAgICBwYXJlbnQ6IHBhcmVudFxuICAgIH0pO1xuICAgIC8vIHJldHVybiB0aGUgZWxlbWVudFxuICAgIHJldHVybiBlbGVtO1xufVxuZXhwb3J0cy5jcmVhdGVJbnB1dEVsZW1lbnQgPSBjcmVhdGVJbnB1dEVsZW1lbnQ7XG4vKipcbiAqIGlzRmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGRldGVybWluZSB3aGV0aGVyIGEgcGFydGljdWxhciBwYXJhbWV0ZXIgaXMgYSBmb3JtIGVsZW1lbnRcbiAqIEBwYXJhbSBlbGVtIC0gRWl0aGVyIGEgRm9ybUVsZW1lbnQgb3IgYSBGb3JtVGVtcGxhdGVcbiAqIEByZXR1cm5zIFRydWUgaWYgZWxlbSBpcyBhIGZvcm0gRWxlbWVudFxuICovXG5mdW5jdGlvbiBpc0ZpZWxkKGVsZW0pIHtcbiAgICBpZiAoIWVsZW0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKGVsZW0uaWQgIT09IHVuZGVmaW5lZCkgJiZcbiAgICAgICAgKGVsZW0udHlwZSAhPT0gdW5kZWZpbmVkKSAmJlxuICAgICAgICAoZWxlbS50ZW1wbGF0ZSAhPT0gdW5kZWZpbmVkKTtcbn1cbmV4cG9ydHMuaXNGaWVsZCA9IGlzRmllbGQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbjtcbi8qKlxuICogRWxlbWVudFR5cGVcbiAqXG4gKiBUaGUgdHlwZSBvZiBlbGVtZW50IHdlJ3JlIGRyYXdpbmdcbiAqXG4gKi9cbnZhciBFbGVtZW50VHlwZTtcbihmdW5jdGlvbiAoRWxlbWVudFR5cGUpIHtcbiAgICBFbGVtZW50VHlwZVtFbGVtZW50VHlwZVtcIlJlY3RhbmdsZVwiXSA9IDBdID0gXCJSZWN0YW5nbGVcIjtcbiAgICBFbGVtZW50VHlwZVtFbGVtZW50VHlwZVtcIlRleHRcIl0gPSAxXSA9IFwiVGV4dFwiO1xuICAgIEVsZW1lbnRUeXBlW0VsZW1lbnRUeXBlW1wiQ2lyY2xlXCJdID0gMl0gPSBcIkNpcmNsZVwiO1xuICAgIEVsZW1lbnRUeXBlW0VsZW1lbnRUeXBlW1wiUGF0aFwiXSA9IDNdID0gXCJQYXRoXCI7XG4gICAgRWxlbWVudFR5cGVbRWxlbWVudFR5cGVbXCJHcm91cFwiXSA9IDRdID0gXCJHcm91cFwiO1xufSkoRWxlbWVudFR5cGUgPSBleHBvcnRzLkVsZW1lbnRUeXBlIHx8IChleHBvcnRzLkVsZW1lbnRUeXBlID0ge30pKTtcbi8qKlxuICogRXZlbnRUeXBlRW51bVxuICpcbiAqIEhhbmRsZSBhbGwgb2YgdGhlIGV2ZW50cyB3ZSBtaWdodCBuZWVkXG4gKlxuICovXG52YXIgRXZlbnRUeXBlRW51bTtcbihmdW5jdGlvbiAoRXZlbnRUeXBlRW51bSkge1xuICAgIEV2ZW50VHlwZUVudW1bRXZlbnRUeXBlRW51bVtcIkNMSUNLXCJdID0gMF0gPSBcIkNMSUNLXCI7XG4gICAgRXZlbnRUeXBlRW51bVtFdmVudFR5cGVFbnVtW1wiSE9WRVJcIl0gPSAxXSA9IFwiSE9WRVJcIjtcbiAgICBFdmVudFR5cGVFbnVtW0V2ZW50VHlwZUVudW1bXCJMRUFWRVwiXSA9IDJdID0gXCJMRUFWRVwiO1xuICAgIEV2ZW50VHlwZUVudW1bRXZlbnRUeXBlRW51bVtcIlJfQ0xJQ0tcIl0gPSAzXSA9IFwiUl9DTElDS1wiO1xuICAgIEV2ZW50VHlwZUVudW1bRXZlbnRUeXBlRW51bVtcIkRCTF9DTElDS1wiXSA9IDRdID0gXCJEQkxfQ0xJQ0tcIjtcbiAgICBFdmVudFR5cGVFbnVtW0V2ZW50VHlwZUVudW1bXCJLRVlfUFJFU1NcIl0gPSA1XSA9IFwiS0VZX1BSRVNTXCI7XG4gICAgRXZlbnRUeXBlRW51bVtFdmVudFR5cGVFbnVtW1wiRk9DVVNcIl0gPSA2XSA9IFwiRk9DVVNcIjtcbiAgICBFdmVudFR5cGVFbnVtW0V2ZW50VHlwZUVudW1bXCJCTFVSXCJdID0gN10gPSBcIkJMVVJcIjtcbn0pKEV2ZW50VHlwZUVudW0gPSBleHBvcnRzLkV2ZW50VHlwZUVudW0gfHwgKGV4cG9ydHMuRXZlbnRUeXBlRW51bSA9IHt9KSk7XG47XG52YXIgU3R5bGVDaGFuZ2VFbnVtO1xuKGZ1bmN0aW9uIChTdHlsZUNoYW5nZUVudW0pIHtcbiAgICBTdHlsZUNoYW5nZUVudW1bU3R5bGVDaGFuZ2VFbnVtW1wiRklMTF9DT0xPUlwiXSA9IDBdID0gXCJGSUxMX0NPTE9SXCI7XG4gICAgU3R5bGVDaGFuZ2VFbnVtW1N0eWxlQ2hhbmdlRW51bVtcIlNUUk9LRV9DT0xPUlwiXSA9IDFdID0gXCJTVFJPS0VfQ09MT1JcIjtcbiAgICBTdHlsZUNoYW5nZUVudW1bU3R5bGVDaGFuZ2VFbnVtW1wiRk9OVF9GQU1JTFlcIl0gPSAyXSA9IFwiRk9OVF9GQU1JTFlcIjtcbiAgICBTdHlsZUNoYW5nZUVudW1bU3R5bGVDaGFuZ2VFbnVtW1wiRk9OVF9WQVJJQU5UXCJdID0gM10gPSBcIkZPTlRfVkFSSUFOVFwiO1xuICAgIFN0eWxlQ2hhbmdlRW51bVtTdHlsZUNoYW5nZUVudW1bXCJGT05UX1NJWkVcIl0gPSA0XSA9IFwiRk9OVF9TSVpFXCI7XG4gICAgU3R5bGVDaGFuZ2VFbnVtW1N0eWxlQ2hhbmdlRW51bVtcIlNUUk9LRV9TSVpFXCJdID0gNV0gPSBcIlNUUk9LRV9TSVpFXCI7XG4gICAgU3R5bGVDaGFuZ2VFbnVtW1N0eWxlQ2hhbmdlRW51bVtcIlRFWFRfQUxJR05cIl0gPSA2XSA9IFwiVEVYVF9BTElHTlwiO1xuICAgIFN0eWxlQ2hhbmdlRW51bVtTdHlsZUNoYW5nZUVudW1bXCJGT05UXCJdID0gN10gPSBcIkZPTlRcIjtcbn0pKFN0eWxlQ2hhbmdlRW51bSA9IGV4cG9ydHMuU3R5bGVDaGFuZ2VFbnVtIHx8IChleHBvcnRzLlN0eWxlQ2hhbmdlRW51bSA9IHt9KSk7XG47XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wcm9taXNlVHlwZXNcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vcHJpbWl0aXZlSGVscGVycy9zdHJpbmdzXCIpO1xuY29uc3QgbmF2aWdhdGVfMSA9IHJlcXVpcmUoXCIuLi9vYmplY3RIZWxwZXJzL25hdmlnYXRlXCIpO1xuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBIQU5ETEUgVEhFIENMQVNTIENSRUFUSU9OXG4vKipcbiAqIGNyZWF0ZUNsYXNzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGUgYSBDU1MgY2xhc3MgZnJvbSBhIHNlbGVjdG9yICYgc2V0IG9mIGF0dHJpYnV0ZXNcbiAqXG4gKiBAcGFyYW0gICBzZWxlY3RvciAgICAgICAgVGhlIENTUyBzZWxlY3RvciB3ZSBzaG91bGQgdXNlIGZvciB0aGlzIGNsYXNzXG4gKiBAcGFyYW0gICBhdHRyICAgICAgICAgICAgQXR0cmlidXRlcyB0aGF0IHNob3VsZCBiZVxuICogQHBhcmFtICAgbm9BcHBlbmQgICAgICAgIElmIHRydWUsIGRvZXNuJ3QgYWRkIHRoZSBzdHlsZSBjbGFzcyB0byB0aGUgZG9jdW1lbnRcbiAqIEBwYXJhbSAgIGZvcmNlT3ZlcnJpZGUgICBJZiB0cnVlLCByZXBsYWNlcyB0aGUgY2xhc3MgZXZlbiBpZiBpdCBhbHJlYWR5IGV4aXN0c1xuICpcbiAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIHN0eWxlIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2xhc3Moc2VsZWN0b3IsIGF0dHIsIG5vQXBwZW5kLCBmb3JjZU92ZXJyaWRlLCBza2lwRXhpc3RpbmdTZWxlY3Rvcikge1xuICAgIC8vIGdlbmVyYXRlIHRoZSBjb250ZW50cyBvZiB0aGUgY2xhc3MgdG8gY3JlYXRlZFxuICAgIGxldCBzdHlsZVN0cmluZyA9IGdlbmVyYXRlQ29udGVudEZvckNTU0NsYXNzKHNlbGVjdG9yLCBhdHRyLCBza2lwRXhpc3RpbmdTZWxlY3Rvcik7XG4gICAgLy8gSWYgd2UgY3JlYXRlZCBhbiBlbXB0eSBjbGFzcywganVzdCByZXR1cm4gbm90aGluZ1xuICAgIGlmICghc3R5bGVTdHJpbmcgJiYgIWZvcmNlT3ZlcnJpZGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIGFkZCB0aGUgY2xhc3MgdG8gYW4gZWxlbWVudCAmIHJldHVybiBpdFxuICAgIHJldHVybiBfYWRkQ2xhc3NUb0VsZW0oc3R5bGVTdHJpbmcsIG5vQXBwZW5kKTtcbn1cbmV4cG9ydHMuY3JlYXRlQ2xhc3MgPSBjcmVhdGVDbGFzcztcbi8qKlxuICogZ2VuZXJhdGVDb250ZW50Rm9yQ1NTQ2xhc3NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSB0aGUgaW5uZXIgSFRNTCBmb3IgdGhlIENTUyBjbGFzcyB0aGF0IHdpbGwgYmUgdXNlZCBmb3IgdGhpcyBzdHlsZXNldFxuICogQHBhcmFtICAgc2VsZWN0b3IgICAgICAgICAgICAgICAgQ1NTIHNlbGVjdG9yXG4gKiBAcGFyYW0gICBhdHRyICAgICAgICAgICAgICAgICAgICBQcm9wZXJ0aWVzICsgdmFsdWVzIHRvIHVzZSBmb3IgY2xhc3NcbiAqIEBwYXJhbSAgIHNraXBFeGlzdGluZ1NlbGVjdG9yICAgIFRydWUgaWYgd2Ugc2hvdWxkIG5vdCBhZGQgdG8gYW4gZXhpc3Rpbmcgc2VsZWN0b3JcbiAqXG4gKiBAcmV0dXJucyBBcHByb3ByaWF0ZSBjb250ZW50IGZvciB0aGUgQ1NTIGNsYXNzIHNwZWNpZmllZCBieSB0aGUgZGVmaW5pdGlvblxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUNvbnRlbnRGb3JDU1NDbGFzcyhzZWxlY3RvciwgYXR0ciwgc2tpcEV4aXN0aW5nU2VsZWN0b3IpIHtcbiAgICAvLyBnZW5lcmF0ZSB0aGUgc3R5bGUgc3RyaW5nIGZyb20gb3VyIGF0dHJpYnV0ZXNcbiAgICBsZXQgc3R5bGVTdHJpbmcgPSBfZ2VuZXJhdGVDU1NTdHJpbmdDb250ZW50KHNlbGVjdG9yLCBhdHRyLCBza2lwRXhpc3RpbmdTZWxlY3Rvcik7XG4gICAgLy8gYXMgbG9uZyBhcyB3ZSBoYXZlIHNvbWUgdmFsdWUsIGZvcm1hdCBpdCBhcHByb3ByaWF0ZWx5IGFzIGEgY2xhc3NcbiAgICBpZiAoc3R5bGVTdHJpbmcpIHtcbiAgICAgICAgc3R5bGVTdHJpbmcgPSBzdHJpbmdzXzEuZm9ybWF0KFwiXFxuezB9IFxcXFx7XFxuezF9XFxuXFxcXH1cIiwgc2VsZWN0b3IsIHN0eWxlU3RyaW5nKTtcbiAgICAgICAgLy8gYWxsb3cgZm9yIGlycmVndWxhciBmb3JtYXRpb25zLCBsaWtlIG1lZGlhIHF1ZXJpZXNcbiAgICAgICAgaWYgKHNlbGVjdG9yLmluZGV4T2YoXCJ7XCIpICE9PSAtMSkge1xuICAgICAgICAgICAgc3R5bGVTdHJpbmcgKz0gXCJcXG59XCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlU3RyaW5nO1xufVxuZXhwb3J0cy5nZW5lcmF0ZUNvbnRlbnRGb3JDU1NDbGFzcyA9IGdlbmVyYXRlQ29udGVudEZvckNTU0NsYXNzO1xuLyoqXG4gKiBfZ2VuZXJhdGVDU1NTdHJpbmdDb250ZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGUgdGhlIHN0cmluZyB0aGF0IHdpbGwgYWN0dWFsbHkgZmlsbCB0aGUgQ1NTIGNsYXNzXG4gKi9cbmZ1bmN0aW9uIF9nZW5lcmF0ZUNTU1N0cmluZ0NvbnRlbnQoc2VsZWN0b3IsIGF0dHIsIHNraXBFeGlzdGluZ1NlbGVjdG9yKSB7XG4gICAgLy8gSWYgdGhpcyBzdHlsZSBhbHJlYWR5IGV4aXN0cywgYXBwZW5kIHRvIGl0XG4gICAgbGV0IGNzc1J1bGUgPSBfZ2V0Q1NTUnVsZShzZWxlY3Rvciwgc2tpcEV4aXN0aW5nU2VsZWN0b3IpO1xuICAgIC8vIGRldGVybWluZSB3aGV0aGVyIHRoaXMgaXMgYW4gYW5pbWF0aW9uXG4gICAgbGV0IGlzR2VuZXJhdGluZ0FuaW1hdGlvbiA9IChzZWxlY3Rvci5pbmRleE9mKFwiQGtleWZyYW1lc1wiKSAhPT0gLTEpO1xuICAgIC8vIGluaXRpYWxpemUgdG8gbnVsbCBzdHJpbmdcbiAgICBsZXQgc3R5bGVTdHJpbmcgPSBcIlwiO1xuICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgb2YgdGhlIHByb3BlcnRpZXMgYW5kIGdlbmVyYXRlIGFwcHJvcHJpYXRlIHZhbHVlIHN0cmluZ3NcbiAgICBuYXZpZ2F0ZV8xLm1hcChhdHRyLCAocHJvcGVydHlWYWx1ZSwgcHJvcGVydHlOYW1lKSA9PiB7XG4gICAgICAgIC8vIHF1aXQgaWYgdGhpcyBydWxlIGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQgZm9yIHRoaXMgc2VsZWN0b3JcbiAgICAgICAgaWYgKGNzc1J1bGUuc3R5bGVbcHJvcGVydHlOYW1lXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGdlbmVyYXRlIHRoZSBhcHByb3ByaWF0ZSB2YWx1ZSBzdHJpbmdcbiAgICAgICAgaWYgKGlzR2VuZXJhdGluZ0FuaW1hdGlvbikge1xuICAgICAgICAgICAgc3R5bGVTdHJpbmcgKz0gX2dlbmVyYXRlQW5pbWF0aW9uQ2xhc3MocHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlU3RyaW5nICs9IF9nZW5lcmF0ZVNpbXBsZVZhbHVlKHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc3R5bGVTdHJpbmc7XG59XG4vKipcbiAqIF9nZXRDU1NSdWxlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBHZXQgYW4gZXhpc3Rpbmcgc2VsZWN0b3IsIG9yIHNwaW4gdXAgYSBuZXcgQ1NTIFJ1bGUgdG8gdXNlIGluIG91ciBjbGFzcyBkZWZcbiAqL1xuZnVuY3Rpb24gX2dldENTU1J1bGUoc2VsZWN0b3IsIHNraXBFeGlzdGluZ1NlbGVjdG9yKSB7XG4gICAgbGV0IGNzc1J1bGU7XG4gICAgaWYgKCFza2lwRXhpc3RpbmdTZWxlY3Rvcikge1xuICAgICAgICBjc3NSdWxlID0gX2dldEV4aXN0aW5nU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIH1cbiAgICBpZiAoIWNzc1J1bGUpIHtcbiAgICAgICAgY3NzUnVsZSA9IHsgc3R5bGU6IHt9IH07XG4gICAgfVxuICAgIHJldHVybiBjc3NSdWxlO1xufVxuLyoqXG4gKiBfZ2VuZXJhdGVBbmltYXRpb25DbGFzc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlIHRoZSBjb250ZW50IG5lZWRlZCB0byBoYW5kbGUgYSBDU1MgYW5pbWF0aW9uXG4gKi9cbmZ1bmN0aW9uIF9nZW5lcmF0ZUFuaW1hdGlvbkNsYXNzKHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSkge1xuICAgIGxldCBzdHlsZVN0cmluZyA9IFwiXCI7XG4gICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBuZXN0ZWQgdmFsdWVzIG9mIHRoZSBhbmltYXRpb25cbiAgICBuYXZpZ2F0ZV8xLm1hcChwcm9wZXJ0eVZhbHVlLCAocFZhbHVlLCBwTmFtZSkgPT4ge1xuICAgICAgICBpZiAoIXBWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN0eWxlU3RyaW5nICs9IFwiXFx0XFx0XCIgKyBwTmFtZSArIFwiIDogXCIgKyBwVmFsdWUgKyBcIjtcXG5cIjtcbiAgICB9KTtcbiAgICAvLyBhcHByb3ByaWF0ZWx5IHdyYXAgdGhlIGFuaW1hdGlvbiBpZiB3ZSBoYXZlIGFueXRoaW5nIHRvIHdyYXBcbiAgICBpZiAoc3R5bGVTdHJpbmcpIHtcbiAgICAgICAgc3R5bGVTdHJpbmcgPSBzdHJpbmdzXzEuZm9ybWF0KFwiXFx0ezB9IFxcXFx7XFxuezF9XFxcXH1cIiwgcHJvcGVydHlOYW1lLCBzdHlsZVN0cmluZyk7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZVN0cmluZztcbn1cbi8qKlxuICogX2dlbmVyYXRlU2ltcGxlVmFsdWVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSB0aGUgY29udGVudCBmb3IgYSBzaW1wbGUgQ1NTIHByb3BlcnR5IDogdmFsdWUgcGFpclxuICovXG5mdW5jdGlvbiBfZ2VuZXJhdGVTaW1wbGVWYWx1ZShwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUpIHtcbiAgICByZXR1cm4gc3RyaW5nc18xLmZvcm1hdChcIlxcdHswfSA6IHsxfTtcXG5cIiwgZ2V0UHJvcGVydHlOYW1lKHByb3BlcnR5TmFtZSksIHByb3BlcnR5VmFsdWUpO1xufVxuLyoqXG4gKiBfYWRkQ2xhc3NUb0VsZW1cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEFkZCB0aGUgYXBwcm9wcmlhdGUgY2xhc3MgdG8gdGhlXG4gKi9cbmZ1bmN0aW9uIF9hZGRDbGFzc1RvRWxlbShjb250ZW50LCBub0FwcGVuZCkge1xuICAgIC8vIEFwcGVuZCB0aGUgY2xhc3MgdG8gdGhlIGhlYWQgb2YgdGhlIGRvY3VtZW50XG4gICAgbGV0IGNscyA9IGNyZWF0ZVN0eWxlRWxlbWVudCghbm9BcHBlbmQpO1xuICAgIGNscy5pbm5lckhUTUwgKz0gY29udGVudDtcbiAgICAvLyBhZGQgdGhlIG5vZGUgdG8gdGhlIGRvY3VtZW50IGlmIGFwcHJvcHJpYXRlXG4gICAgaWYgKCFub0FwcGVuZCAmJiAhY2xzLnBhcmVudE5vZGUpIHtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChjbHMpO1xuICAgIH1cbiAgICAvLyBSZXR1cm4gdGhlIHN0eWxlIG5vZGVcbiAgICByZXR1cm4gY2xzO1xufVxuLyoqXG4gKiBfY3JlYXRlU3R5bGVFbGVtZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGUgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIHRoZW4gYmUgYWRkZWQgdG8gdGhlIGRvY3VtZW50XG4gKiBAcGFyYW0gICBmaW5kRXhpc3RpbmcgICAgSWYgdHJ1ZSwgcmV0dXJucyB0aGUgZmlyc3QgZXhpc3Rpbmcgc3R5bGUgdGFnIGluIHRoZSBkb2N1bWVudFxuICogQHJldHVybnMgVGhlIGNyZWF0ZWQgc3R5bGUgZWxlbWVudFxuICovXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQoZmluZEV4aXN0aW5nKSB7XG4gICAgbGV0IHN0eWxlcztcbiAgICBsZXQgY2xzO1xuICAgIC8vIHRyeSB0byBmaW5kIGFuIGV4aXN0aW5nIHRhZyBpZiByZXF1ZXN0ZWRcbiAgICBpZiAoZmluZEV4aXN0aW5nKSB7XG4gICAgICAgIHN0eWxlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3R5bGVcIik7XG4gICAgICAgIGlmIChzdHlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY2xzID0gc3R5bGVzWzBdO1xuICAgICAgICAgICAgcmV0dXJuIGNscztcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgcmV0dXJuIGNscztcbn1cbmV4cG9ydHMuY3JlYXRlU3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50O1xuLyoqXG4gKiBnZXRQcm9wZXJ0eU5hbWVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGdyYWIgdGhlIGFwcHJvcHJpYXRlIHByb3BlcnR5IG5hbWUgZm9yIHRoZSBDU1MgY2xhc3NcbiAqIEBwYXJhbSAgIGpzRnJpZW5kbHlOYW1lICAgICAgVGhlIEpTIHZlcnNpb24gb2YgYSBDU1MgcHJvcGVydHkgbmFtZSwgdXN1YWxseSBpbiBjYW1lbC1jYXNlXG4gKiBAcmV0dXJucyBUaGUgQ1NTIHZlcnNpb24gb2YgdGhlIHByb3BlcnR5IG5hbWVcbiAqL1xuZnVuY3Rpb24gZ2V0UHJvcGVydHlOYW1lKGpzRnJpZW5kbHlOYW1lKSB7XG4gICAgaWYgKGpzRnJpZW5kbHlOYW1lLnRvTG93ZXJDYXNlKCkgPT09IGpzRnJpZW5kbHlOYW1lKSB7XG4gICAgICAgIHJldHVybiBqc0ZyaWVuZGx5TmFtZTtcbiAgICB9XG4gICAgbGV0IGNoYXJzID0ganNGcmllbmRseU5hbWUuc3BsaXQoXCJcIik7XG4gICAgbGV0IGNoYXI7XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY2hhcnMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBjaGFyID0gY2hhcnNbaWR4XTtcbiAgICAgICAgaWYgKGNoYXIudG9Mb3dlckNhc2UoKSAhPT0gY2hhcikge1xuICAgICAgICAgICAgY2hhcnNbaWR4XSA9IFwiLVwiICsgY2hhci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGFycy5qb2luKFwiXCIpO1xufVxuZXhwb3J0cy5nZXRQcm9wZXJ0eU5hbWUgPSBnZXRQcm9wZXJ0eU5hbWU7XG4vKipcbiAqIGJ1aWxkQ2xhc3NTdHJpbmdcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJ1aWxkcyB0aGUgc3RyaW5nIHZlcnNpb24gb2YgYSBjbGFzc25hbWUsIG91dCBvZiBtdWx0aXBsZSBjbGFzc2VzXG4gKlxuICogQHBhcmFtICAgY2xhc3NlcyAgICAgTGlzdCBvZiBhbGwgY2xhc3NlcyB0aGF0IHNob3VsZCBiZSBjb21iaW5lZCBpbnRvIGFcbiAqICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZSBjbGFzcyBuYW1lXG4gKlxuICogQHJldHVybnMgVGhlIGZ1bGwgY2xhc3MgbmFtZVxuICovXG5mdW5jdGlvbiBidWlsZENsYXNzU3RyaW5nKC4uLmNsYXNzZXMpIHtcbiAgICBsZXQgb3V0Q2xzID0gXCJcIjtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjbGFzc2VzLmxlbmd0aDsgaWR4ICs9IDEpIHtcbiAgICAgICAgaWYgKCFjbGFzc2VzW2lkeF0pIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIG91dENscyA9IHN0cmluZ3NfMS5hZGRQaWVjZShvdXRDbHMsIGNsYXNzZXNbaWR4XSwgXCIgXCIpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0Q2xzO1xufVxuZXhwb3J0cy5idWlsZENsYXNzU3RyaW5nID0gYnVpbGRDbGFzc1N0cmluZztcbi8qKlxuICogX2dldEV4aXN0aW5nU2VsZWN0b3JcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENoZWNrcyB0byBmaW5kIGFuIGFscmVhZHktZXhpc3RpbmcgdmVyc2lvbiBvZiB0aGlzIHBhcnRpY3VsYXIgc2VsZWN0b3IsIHNvXG4gKiB0aGF0IHRoZSBkZWZpbml0aW9ucyBjYW4gYmUgY29tYmluZWRcbiAqXG4gKiBAcGFyYW0gICBzZWxlY3RvciAgICBTZWxlY3RvciB0byBmaW5kXG4gKlxuICogQHJldHVybnMgQXNzb2NpYXRlZCBzdHlsZXMgd2l0aCB0aGlzIHNlbGVjdG9yXG4gKi9cbmZ1bmN0aW9uIF9nZXRFeGlzdGluZ1NlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgbGV0IGNzcztcbiAgICBsZXQgcnVsZXM7XG4gICAgbGV0IHJ1bGU7XG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBvZiB0aGUgc3R5bGVzaGVldHMgd2UgaGF2ZSBhdmFpbGFibGVcbiAgICBmb3IgKGxldCBzSWR4ID0gMDsgc0lkeCA8IGRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aDsgc0lkeCArPSAxKSB7XG4gICAgICAgIC8vIFB1bGwgaW4gdGhlIGFwcHJvcHJpYXRlIGluZGV4IGZvciB0aGUgYnJvd3NlciB3ZSdyZSB1c2luZ1xuICAgICAgICBjc3MgPSBkb2N1bWVudC5hbGwgPyAncnVsZXMnIDogJ2Nzc1J1bGVzJzsgLy9jcm9zcyBicm93c2VyXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBydWxlcyA9IGRvY3VtZW50LnN0eWxlU2hlZXRzW3NJZHhdW2Nzc107XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbiBpbmRleC4uLlxuICAgICAgICBpZiAocnVsZXMpIHtcbiAgICAgICAgICAgIC8vIC4uLiBsb29wIHRocm91Z2ggYWxsIGFuZCBjaGVjayBmb3IgdGhlIGFjdHVhbCBjbGFzc1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHJ1bGUgPSBydWxlc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBmaW5kIHRoZSBjbGFzcy4uLlxuICAgICAgICAgICAgICAgIGlmIChydWxlLnNlbGVjdG9yVGV4dCA9PT0gc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ1bGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBjcmVhdGVGb250RGVmaW5pdGlvblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQWRkcyBhIGZvbnQgdG8gdGhlIENTUyBzdHlsZXNcbiAqXG4gKiBAcGFyYW0gICBmb250TmFtZSAgICBUaGUgcmVmZXJlbmNhYmxlIG5hbWUgZm9yIHRoZSBmb250XG4gKiBAcGFyYW0gICBzcmNGaWxlcyAgICBUaGUgc291cmNlIGZpbGVzIGZvciB0aGlzIGZvbnRcbiAqXG4gKiBAcmV0dXJucyBUaGUgdXBkYXRlZCBzdHlsZSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUZvbnREZWZpbml0aW9uKGZvbnROYW1lLCBzcmNGaWxlcywgbm9BcHBlbmQsIGZvcmNlT3ZlcnJpZGUpIHtcbiAgICBsZXQgc3JjID0gW107XG4gICAgZm9yIChsZXQgc3JjRmlsZSBvZiBzcmNGaWxlcykge1xuICAgICAgICBzcmMucHVzaChzdHJpbmdzXzEuZm9ybWF0KFwidXJsKHswfSkgZm9ybWF0KHsxfSlcIiwgc3JjRmlsZS51cmwsIHNyY0ZpbGUuZm9ybWF0KSk7XG4gICAgfVxuICAgIGxldCBhdHRyID0ge1xuICAgICAgICBmb250RmFtaWx5OiBmb250TmFtZSxcbiAgICAgICAgc3JjOiBzcmMuam9pbihcIixcIilcbiAgICB9O1xuICAgIHJldHVybiBjcmVhdGVDbGFzcyhcIkBmb250LWZhY2VcIiwgYXR0ciwgbm9BcHBlbmQsIGZvcmNlT3ZlcnJpZGUpO1xufVxuZXhwb3J0cy5jcmVhdGVGb250RGVmaW5pdGlvbiA9IGNyZWF0ZUZvbnREZWZpbml0aW9uO1xuLy8jZW5kcmVnaW9uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBuYW1lZENsYXNzXzEgPSByZXF1aXJlKFwiLi4vLi4vbmFtZWRDbGFzcy9uYW1lZENsYXNzXCIpO1xuY29uc3QgY29tcGFyYWJsZV8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBhcmFibGUvY29tcGFyYWJsZVwiKTtcbmNvbnN0IHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi8uLi9wcmltaXRpdmVIZWxwZXJzL3N0cmluZ3NcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdENvbGxlY3Rpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEtlZXAgdHJhY2sgb2YgYSBzZXQgb2YgaXRlbXMgaW4gYm90aCBrZXktYmFzZWQgaW5kaWNlcyBhbmQgc29ydGFibGUgZm9ybWF0c1xuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0My4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQ29sbGVjdGlvbiBleHRlbmRzIG5hbWVkQ2xhc3NfMS5OYW1lZENsYXNzIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENPTlNUUlVDVE9SXG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGVzIHRoZSBjb2xsZWN0aW9uXG4gICAgICogQHBhcmFtICByZXBsYWNlIFx0XHRUcnVlIGlmIHdlIHNob3VsZCBvdmVycmlkZSB0aGUgdmFsdWVzIGluIHRoZSBsaXN0XG4gICAgICogQHJldHVybiBDb2xsZWN0aW9uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHlwZSwgZXFfdGVzdCkge1xuICAgICAgICBzdXBlcihcIkNvbGxlY3Rpb25cIik7XG4gICAgICAgIC8vIEluaXRpYWxpemUgb3VyIGFycmF5c1xuICAgICAgICB0aGlzLl9kYXRhID0ge307XG4gICAgICAgIHRoaXMuX3NvcnRlZERhdGEgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgLy8gU3RvcmUgd2hldGhlciB3ZSBzaG91bGQgYmUgcmVwbGFjaW5nXG4gICAgICAgIHRoaXMuX2FkZFR5cGUgPSB0eXBlIHx8IF9pbnRlcmZhY2VzXzEuQ29sbGVjdGlvblR5cGVFbnVtLklnbm9yZUR1cGxpY2F0ZUtleXM7XG4gICAgICAgIHRoaXMuX2VxdWFsaXR5VGVzdCA9IGVxX3Rlc3Q7XG4gICAgICAgIGlmICghdGhpcy5fZXF1YWxpdHlUZXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9lcXVhbGl0eVRlc3QgPSAoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGEgPT09IGIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIGFsbG93IHJldHJpZXZhbCBvZiBhIHNldCBvZiBrZXlzICovXG4gICAgZ2V0IGtleXMoKSB7IHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9kYXRhKTsgfVxuICAgIHNldCBhZGRUeXBlKGFkZFR5cGUpIHsgdGhpcy5fYWRkVHlwZSA9IGFkZFR5cGU7IH1cbiAgICBnZXQgaXRlcmF0aW9uKCkgeyByZXR1cm4gdGhpcy5faXRlcmF0aW9uOyB9XG4gICAgLyoqIGdldCB0aGUgY3VycmVudCBudW1iZXIgb2YgZWxlbWVudHMgaW4gb3VyIGNvbGxlY3Rpb24gKi9cbiAgICBnZXQgbGVuZ3RoKCkgeyByZXR1cm4gdGhpcy5fc29ydGVkRGF0YS5sZW5ndGg7IH1cbiAgICBzZXQgZXF1YWxpdHlUZXN0KHRlc3QpIHsgdGhpcy5fZXF1YWxpdHlUZXN0ID0gdGVzdDsgfVxuICAgIDtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEFERCBBTiBFTEVNRU5UXG4gICAgLyoqXG4gICAgICogYWRkRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGRzIGFuIGVsZW1lbnQgdG8gdGhlIGNvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0gXHRrZXkgIFx0VGhlIGtleSB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gXHR2YWwgXHRUaGUgZWxlbWVudCB0byBhZGQgdG8gb3VyIGNvbGxlY3Rpb25cbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBlbGVtZW50IHdhcyBzdWNjZXNzZnVsbHkgYWRkZWRcbiAgICAgKi9cbiAgICBhZGQoa2V5LCB2YWwpIHtcbiAgICAgICAgbGV0IGlkeDtcbiAgICAgICAgbGV0IGVsZW07XG4gICAgICAgIGxldCBzb3J0ZWRJZHg7XG4gICAgICAgIGxldCBza2lwU29ydGVkUHVzaDtcbiAgICAgICAgLy8gVmVyaWZ5IHRoYXQgdGhlcmUgaXNuJ3QgYW55dGhpbmcgY3VycmVudGx5IGxpbmtlZCB0byB0aGlzIGtleVxuICAgICAgICBpZiAoKHRoaXMuX2FkZFR5cGUgPT09IF9pbnRlcmZhY2VzXzEuQ29sbGVjdGlvblR5cGVFbnVtLklnbm9yZUR1cGxpY2F0ZUtleXMpICYmICh0aGlzLl9kYXRhW2tleV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgYWxyZWFkeSBoYXZlIGRhdGEsIHdlIGRvbid0IG5lZWQgdG8gYWRkIHRoaXMga2V5IHRvIG91ciBzb3J0ZWQgaW5kZXggYWdhaW5cbiAgICAgICAgaWYgKHRoaXMuX2RhdGFba2V5XSkge1xuICAgICAgICAgICAgc2tpcFNvcnRlZFB1c2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdyYWIgdGhlIHNwb3QgdGhhdCB0aGlzIGVsZW1lbnQgd2lsbCBiZSBhZGRlZCB0byBpbiBvdXIgc29ydGVkIGluZGV4XG4gICAgICAgIHNvcnRlZElkeCA9IHRoaXMuX3NvcnRlZERhdGEubGVuZ3RoO1xuICAgICAgICAvLyBDcmVhdGUgb3VyIG5ldyBvYmplY3RcbiAgICAgICAgZWxlbSA9IHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgdmFsdWU6IHZhbCxcbiAgICAgICAgICAgIHNvcnRlZElkeDogc29ydGVkSWR4LFxuICAgICAgICAgICAgb3JpZ0lkeDogc29ydGVkSWR4XG4gICAgICAgIH07XG4gICAgICAgIC8vIElmIHRoZXJlIGlzbid0IGFueXRoaW5nIGluIHRoaXMgaW5kZXggKG9yIHdlIHNob3VsZCByZXBsYWNlIGl0KSwgc2F2ZSBvdXIgbmV3IHZhbHVlXG4gICAgICAgIHRoaXMuX2RhdGFba2V5XSA9IGVsZW07XG4gICAgICAgIC8vIFB1c2ggdG8gb3VyIHNvcnRlZCBpbmRleCBpZiBuZWVkZWRcbiAgICAgICAgaWYgKCFza2lwU29ydGVkUHVzaCkge1xuICAgICAgICAgICAgdGhpcy5fc29ydGVkRGF0YS5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvcnRlZElkeDtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBIQU5ETEUgUkVNT1ZJTkdcbiAgICAvKipcbiAgICAgKiByZW1vdmVFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNvbWJpbmF0aW9uIGZ1bmN0aW9uIHRvIGhhbmRsZSBhbGwgb3ZlcmxvYWRzXG4gICAgICovXG4gICAgcmVtb3ZlKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlRWxlbWVudEJ5S2V5KGtleSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlbW92ZUVsZW1lbnRCeVZhbHVlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHJlbW92ZSB0aGUgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIHByb3ZpZGVkIGVsZW1lbnRcbiAgICAgKi9cbiAgICByZW1vdmVFbGVtZW50QnlWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlRWxlbWVudEJ5VmFsdWUodmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVtb3ZlRWxlbWVudEJ5S2V5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHJlbW92ZXMgYW4gZWxlbWVudCBieSBrZXlcbiAgICAgKi9cbiAgICBfcmVtb3ZlRWxlbWVudEJ5S2V5KGtleSkge1xuICAgICAgICBsZXQgZWxlbTtcbiAgICAgICAgZWxlbSA9IHRoaXMuX2RhdGFba2V5XTtcbiAgICAgICAgaWYgKCFlbGVtKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIHRoZSBzb3J0ZWQgYXJyYXlcbiAgICAgICAgdGhpcy5fc29ydGVkRGF0YS5zcGxpY2UoZWxlbS5zb3J0ZWRJZHgsIDEpO1xuICAgICAgICAvLyBSZXNldCBzb3J0ZWQga2V5cyBmb3IgYWxsIG90aGVycyBpbiB0aGUgYXJyYXlcbiAgICAgICAgdGhpcy5fcmVzZXRTb3J0ZWRLZXlzKGVsZW0uc29ydGVkSWR4KTtcbiAgICAgICAgLy8gUmVtb3ZlIGZyb20gdGhlIGFjdHVhbCBkYXRhIGFycmF5XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9kYXRhW2tleV07XG4gICAgICAgIC8vIFJldHVybiB0aGUgZ3JhYmJlZCBkYXRhXG4gICAgICAgIHJldHVybiBlbGVtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVtb3ZlRWxlbWVudEJ5SW5kZXhcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogcmVtb3ZlcyBhbiBlbGVtZW50IGJ5IGluZGV4XG4gICAgICovXG4gICAgX3JlbW92ZUVsZW1lbnRCeUluZGV4KGlkeCkge1xuICAgICAgICBsZXQga2V5O1xuICAgICAgICBpZiAoKGlkeCA+PSB0aGlzLmxlbmd0aCkgfHwgKGlkeCA8IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBrZXkgPSB0aGlzLl9zb3J0ZWREYXRhW2lkeF07XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW1vdmVFbGVtZW50QnlLZXkoa2V5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3JlbW92ZUVsZW1lbnRCeVZhbHVlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHJlbW92ZXMgYW4gZWxlbWVudCBieSBtYXRjaGluZyB0aGUgZWxlbWVudCB0byB0aGUgcHJvdmlkZWQgZWxlbWVudFxuICAgICAqL1xuICAgIF9yZW1vdmVFbGVtZW50QnlWYWx1ZSh2YWwpIHtcbiAgICAgICAgbGV0IGU7XG4gICAgICAgIGUgPSB0aGlzLl9maW5kRWxlbWVudCh2YWwpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlRWxlbWVudEJ5S2V5KGUgJiYgZS5rZXkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjbGVhclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjbGVhciBvdXQgYWxsIGVsZW1lbnRzIHdpdGhpbiB0aGUgY29sbGVjdGlvblxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9kYXRhID0ge307XG4gICAgICAgIHRoaXMuX3NvcnRlZERhdGEgPSBbXTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBIQU5ETEUgU09SVElOR1xuICAgIC8qKlxuICAgICAqIF9yZXNldFNvcnRlZEtleXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRW5zdXJlIHRoYXQgdGhlIGtleSBzdG9yZWQgd2l0aCB0aGUgZWxlbWVudCBtYXRjaGVzIGl0cyBsb2NhdGlvbiBpbiB0aGVcbiAgICAgKiBzb3J0ZWQgYXJyYXlcbiAgICAgKi9cbiAgICBfcmVzZXRTb3J0ZWRLZXlzKHN0YXJ0RnJvbSwgZW5kV2l0aCkge1xuICAgICAgICAvLyBTZXQgc29tZSBkZWZhdWx0c1xuICAgICAgICBpZiAoIXN0YXJ0RnJvbSkge1xuICAgICAgICAgICAgc3RhcnRGcm9tID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWVuZFdpdGggJiYgKGVuZFdpdGggIT09IDApKSB7XG4gICAgICAgICAgICBlbmRXaXRoID0gdGhpcy5fc29ydGVkRGF0YS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0RnJvbSA+IGVuZFdpdGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRGcm9tID4gZW5kV2l0aCkge1xuICAgICAgICAgICAgbGV0IHRtcCA9IHN0YXJ0RnJvbTtcbiAgICAgICAgICAgIHN0YXJ0RnJvbSA9IGVuZFdpdGg7XG4gICAgICAgICAgICBlbmRXaXRoID0gdG1wO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlO1xuICAgICAgICBsZXQgaztcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0RnJvbTsgaSA8IGVuZFdpdGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgayA9IHRoaXMuX3NvcnRlZERhdGFbaV07XG4gICAgICAgICAgICBpZiAoIWspXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBlID0gdGhpcy5fZGF0YVtrXTtcbiAgICAgICAgICAgIGlmICghZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGUuc29ydGVkSWR4ID0gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBzb3J0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFNvcnRzIHRoZSBjb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIFx0c29ydF9mdW5jICAgXHRUaGUgZnVuY3Rpb24gd2Ugc2hvdWxkIHVzZSB0byBzb3J0XG4gICAgICovXG4gICAgc29ydChzb3J0X2Z1bmMpIHtcbiAgICAgICAgbGV0IHNUZW1wO1xuICAgICAgICAvLyBHZW5lcmF0ZSBvdXIgd3JhcHBlciBzb3J0IGZ1bmN0aW9uIHRvIGd1YXJhbnRlZSB3ZSBoYXZlIHRoZSByZWFsIGVsZW1lbnRzXG4gICAgICAgIC8vIHNlbnQgdG8gdGhlIHBhc3NlZC1pbiBzb3J0IGZ1bmN0aW9uXG4gICAgICAgIHNUZW1wID0gKChhLCBiKSA9PiB7XG4gICAgICAgICAgICBsZXQgYV90bXA7XG4gICAgICAgICAgICBsZXQgYl90bXA7XG4gICAgICAgICAgICBhX3RtcCA9IHRoaXMuX2RhdGFbYV07XG4gICAgICAgICAgICBiX3RtcCA9IHRoaXMuX2RhdGFbYl07XG4gICAgICAgICAgICByZXR1cm4gc29ydF9mdW5jKGFfdG1wLCBiX3RtcCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTb3J0IHRoZSBkYXRhIGFwcHJvcHJpYXRlbHlcbiAgICAgICAgdGhpcy5fc29ydGVkRGF0YS5zb3J0KHNUZW1wKTtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIHVwZGF0ZSBvdXIgaW5kaWNlcyBhcHByb3ByaWF0ZWx5XG4gICAgICAgIHRoaXMuX3Jlc2V0U29ydGVkS2V5cygpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIExPT1BJTkcgT1ZFUiBUSEUgQ09MTEVDVElPTlxuICAgIC8qKlxuICAgICAqIG1hcFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoYW5kbGUgbG9vcGluZyB0aHJvdWdoIHRoZSBjb2xsZWN0aW9uIHRvIGdldCBlYWNoIGVsZW1lbnRcbiAgICAgKi9cbiAgICBtYXAobWFwRnVuYykge1xuICAgICAgICBpZiAoIW1hcEZ1bmMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2V0TG9vcCgpO1xuICAgICAgICB3aGlsZSAodGhpcy5oYXNOZXh0KCkpIHtcbiAgICAgICAgICAgIGxldCBwYWlyID0gdGhpcy5nZXROZXh0KCk7XG4gICAgICAgICAgICBpZiAoIXBhaXIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHBhaXIudmFsdWU7XG4gICAgICAgICAgICBsZXQga2V5ID0gcGFpci5rZXk7XG4gICAgICAgICAgICBsZXQgaWR4ID0gdGhpcy5nZXRJbmRleChrZXkpO1xuICAgICAgICAgICAgbWFwRnVuYyh2YWx1ZSwga2V5LCBpZHgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXRMb29wKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlc2V0TG9vcFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBSZXNldHMgb3VyIGl0ZXJhdGlvbiBjb3VudGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdHJldmVyc2VcdFx0SWYgdHJ1ZSwgbG9vcHMgdGhyb3VnaCBiYWNrd2FyZHNcbiAgICAgKi9cbiAgICByZXNldExvb3AocmV2ZXJzZSkge1xuICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgdGhpcy5faXRlcmF0aW9uID0gKHRoaXMubGVuZ3RoICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRpb24gPSAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBoYXNOZXh0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENoZWNrcyBpZiB3ZSBoYXZlIGEgbmV4dCBlbGVtZW50IGF2YWlsYWJsZSBmb3IgZ2V0dGluZ1xuICAgICAqIEBwYXJhbSBcdHJldmVyc2UgXHRUcnVlIGlmIHdlIHNob3VsZCBsb29wIGJhY2t3YXJkc1xuICAgICAqXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGVyZSBpcyBhIG5leHQgZWxlbWVudCBhdmFpbGFibGVcbiAgICAgKi9cbiAgICBoYXNOZXh0KHJldmVyc2UpIHtcbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIHJldHVybiAoKHRoaXMuX2l0ZXJhdGlvbiAtIDEpID49IDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICgodGhpcy5faXRlcmF0aW9uICsgMSkgPCB0aGlzLl9zb3J0ZWREYXRhLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0TmV4dFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBGaW5kcyB0aGUgbmV4dCBlbGVtZW50IGluIG91ciBsb29wXG4gICAgICogQHBhcmFtIFx0cmV2ZXJzZSBcdFRydWUgaWYgd2Ugc2hvdWxkIGxvb3AgYmFja3dhcmRzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgZWxlbWVudCBuZXh0IGluIG91ciBhcnJheVxuICAgICAqL1xuICAgIGdldE5leHQocmV2ZXJzZSkge1xuICAgICAgICAvLyBHcmFiIHRoZSBuZXh0IGFwcHJvcHJpYXRlIGluZGV4XG4gICAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRpb24gLT0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2l0ZXJhdGlvbiArPSAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIEdldCB0aGUgZGF0YSBmcm9tIHRoYXQgaW5kZXhcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFbdGhpcy5fc29ydGVkRGF0YVt0aGlzLl9pdGVyYXRpb25dXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0Q3VycmVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBHcmFiIHRoZSBjdXJyZW50IHNlbGVjdGVkIGVsZW1lbnRcbiAgICAgKi9cbiAgICBnZXRDdXJyZW50KCkge1xuICAgICAgICBpZiAodGhpcy5faXRlcmF0aW9uID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFbdGhpcy5fc29ydGVkRGF0YVt0aGlzLl9pdGVyYXRpb25dXTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBPVVRQVVQgVE8gQVJSQVlcbiAgICAvKipcbiAgICAgKiB0b0FycmF5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFJldHVybiBhIHNvcnRlZCBhcnJheSBvZiB0aGUgZWxlbWVudHMgaW4gdGhpcyBjb2xsZWN0aW9uXG4gICAgICovXG4gICAgdG9BcnJheSgpIHtcbiAgICAgICAgbGV0IGFycjtcbiAgICAgICAgbGV0IGtleTtcbiAgICAgICAgZm9yIChrZXkgb2YgdGhpcy5fc29ydGVkRGF0YSkge1xuICAgICAgICAgICAgYXJyLnB1c2godGhpcy5fZGF0YVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB0b1ZhbHVlQXJyYXlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR2V0IGFuIGFycmF5IG9mIGp1c3QgdGhlIHZhbHVlcyBpbiB0aGlzIGNvbGxlY3Rpb25cbiAgICAgKi9cbiAgICB0b1ZhbHVlQXJyYXkoKSB7XG4gICAgICAgIGxldCBhcnIgPSBbXTtcbiAgICAgICAgdGhpcy5tYXAoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBhcnIucHVzaCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXRFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGludGVybmFsIGZ1bmN0aW9uIHRvIGdldCBhbiBlbGVtZW50IHRocm91Z2ggYW4gaWRlbnRmaWVyXG4gICAgICovXG4gICAgZ2V0RWxlbWVudChpZGVudGlmaWVyKSB7XG4gICAgICAgIGxldCBvdXQ7XG4gICAgICAgIC8vIEhhbmRsZSB0aGUgcGFyYW0gYmVpbmcgYSBrZXlcbiAgICAgICAgaWYgKHR5cGVvZiBpZGVudGlmaWVyID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBvdXQgPSB0aGlzLl9kYXRhW2lkZW50aWZpZXJdO1xuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBwYXJtIGJlaW5nIGluZGV4XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGlkZW50aWZpZXIgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGlmICgoaWRlbnRpZmllciA8IDApIHx8IChpZGVudGlmaWVyID4gdGhpcy5fc29ydGVkRGF0YS5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgPSB0aGlzLl9kYXRhW3RoaXMuX3NvcnRlZERhdGFbaWRlbnRpZmllcl1dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGdldFZhbHVlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEdldCB0aGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQga2V5IG9yIGluZGV4XG4gICAgICogQHJldHVybnNcdFRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBpZGVudGlmaWVyXG4gICAgICovXG4gICAgZ2V0VmFsdWUoaWRlbnRpZmllcikge1xuICAgICAgICBsZXQgcGFpcjtcbiAgICAgICAgcGFpciA9IHRoaXMuZ2V0RWxlbWVudChpZGVudGlmaWVyKTtcbiAgICAgICAgaWYgKCFwYWlyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFpci52YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ2V0SW5kZXhcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR2V0IHRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIHNwZWNpZmllZCBrZXkgLyB2YWx1ZVxuICAgICAqIEBwYXJhbSBcdHBhcmFtIFx0VGhlIGtleSBvciB2YWx1ZSB0byBtYXRjaFxuICAgICAqIEByZXR1cm5zIFRoZSBpbmRleCBvZiB0aGUgYXBwcm9wcmlhdGUgZWxlbWVudFxuICAgICAqL1xuICAgIGdldEluZGV4KHBhcmFtKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZGF0YVtwYXJhbV0gJiYgdGhpcy5fZGF0YVtwYXJhbV0uc29ydGVkSWR4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBlO1xuICAgICAgICAgICAgZSA9IHRoaXMuX2ZpbmRFbGVtZW50KHBhcmFtKTtcbiAgICAgICAgICAgIHJldHVybiAoZSAmJiBlLnNvcnRlZElkeCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBGSU5EIEFOIEVMRU1FTlQgQlkgSVRTIFZBTFVFXG4gICAgLyoqXG4gICAgICogX2ZpbmRFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEZpbmQgdGhlIGFzc29jaWF0ZWQgZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWVcbiAgICAgKi9cbiAgICBfZmluZEVsZW1lbnQodmFsKSB7XG4gICAgICAgIGxldCBrZXk7XG4gICAgICAgIGxldCBlbGVtO1xuICAgICAgICAvLyBsb29wIG92ZXIgZXZlcnl0aGluZyBpbiBvdXIgZGF0YSBhcnJheVxuICAgICAgICBmb3IgKGtleSBpbiB0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGF0YS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgZWxlbSA9IHRoaXMuX2RhdGFba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZXF1YWxpdHlUZXN0KGVsZW0udmFsdWUsIHZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXRLZXlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogUmV0cmlldmUgdGhlIGtleSBmb3IgdGhlIGVsZW1lbnQgbG9jYXRlZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IG9yIHdpdGggdGhlXG4gICAgICogc3BlY2lmaWVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQHBhcmFtXHRUaGUgaW5kZXggb3IgdmFsdWUgdG8gbWF0Y2ggb25cbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUaGUgYXBwcm9wcmlhdGUga2V5IGZvciB0aGUgYXNzb2NpYXRlZCBlbGVtZW50XG4gICAgICovXG4gICAgZ2V0S2V5KHBhcmFtKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zb3J0ZWREYXRhW3BhcmFtXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBlO1xuICAgICAgICAgICAgZSA9IHRoaXMuX2ZpbmRFbGVtZW50KHBhcmFtKTtcbiAgICAgICAgICAgIHJldHVybiAoZSAmJiBlLmtleSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogaGFzRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBWZXJpZnkgaWYgYW4gZWxlbWVudCBleGlzdHMgaW5zaWRlIHRoaXMgY29sbGVjdGlvblxuICAgICAqIEByZXR1cm5zXHRUcnVlIGlmIHRoZSBlbGVtZW50IGlzIGZvdW5kIGluIHRoaXMgY29sbGVjdGlvblxuICAgICAqL1xuICAgIGhhc0VsZW1lbnQocGFyYW0pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuICghIXRoaXMuX2RhdGFbcGFyYW1dKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgcGFyYW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAoKCEhdGhpcy5fc29ydGVkRGF0YVtwYXJhbV0pICYmICghIXRoaXMuX2RhdGFbdGhpcy5fc29ydGVkRGF0YVtwYXJhbV1dKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZpbmRFbGVtZW50KHBhcmFtKSAhPT0gbnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBIRUxQRVJTXG4gICAgLyoqXG4gICAgICogdG9TdHJpbmdcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogVHVybnMgdGhpcyBjb2xsZWN0aW9uIGludG8gYSBodW1hbiByZWFkYWJsZSBzdHJpbmdcbiAgICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IG91dFN0ciA9IFwiXCI7XG4gICAgICAgIHRoaXMubWFwKChlbGVtLCBrZXksIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKG91dFN0ci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgb3V0U3RyICs9IFwiLCBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dFN0ciArPSBzdHJpbmdzXzEuZm9ybWF0KFwiezB9ID0+IHsxfVwiLCBrZXksIGVsZW0udG9TdHJpbmcoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0U3RyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBlcXVhbHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRGV0ZXJtaW5zIGlmIHRoaXMgQ29sbGVjdGlvbiBpcyBlcXVhbCBpbiB2YWx1ZSB0byBhbm90aGVyIENvbGxlY3Rpb25cbiAgICAgKiBAcmV0dXJuc1x0VHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIGNvbGxlY3Rpb24gaXMgYSBtYXRjaCBmb3Igb3VyIG93blxuICAgICAqL1xuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICAvLyBxdWljayBjaGVjazogZGV0ZXJtaW5lIGlmIHRoZSBsZW5ndGhzIGFyZSBtaXNtYXRjaGVkXG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCAhPT0gb3RoZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHNvcnRlZCBhcnJheSBpcyBtaXNtYXRjaGVkXG4gICAgICAgIGlmICh0aGlzLl9zb3J0ZWREYXRhLmxlbmd0aCAhPT0gb3RoZXIuX3NvcnRlZERhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IG91ciBrZXkgYXJyYXlzIG1hdGNoXG4gICAgICAgIGxldCBtaXNtYXRjaCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1hcCgoZWxlbSwga2V5LCBpZHgpID0+IHtcbiAgICAgICAgICAgIC8vIGNoZWNrIHRoYXQgdGhpcyBrZXkgZXhpc3RzIGluIHRoZSBvdGhlciBjb2xsZWN0aW9uXG4gICAgICAgICAgICBpZiAoIW90aGVyLl9kYXRhW2tleV0pIHtcbiAgICAgICAgICAgICAgICBtaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgaWYgdGhlIHR3byBlbGVtZW50cyBhcmUgZXF1YWxcbiAgICAgICAgICAgIGlmICghY29tcGFyYWJsZV8xLmVxdWFscyhlbGVtLCBvdGhlci5fZGF0YVtrZXldLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG1pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHF1aXQgaWYgd2Ugd2VyZSBtaXNtYXRjaGVkXG4gICAgICAgIGlmIChtaXNtYXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIG1hZGUgaXQgdGhpcyBmYXIsIHdlIHNob3VsZCBjb25zaWRlciB0aGUgY29sbGVjdGlvbnMgdGhlIHNhbWVcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZXhwb3J0cy5Db2xsZWN0aW9uID0gQ29sbGVjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBuYXZpZ2F0ZV8xID0gcmVxdWlyZShcIi4uL29iamVjdEhlbHBlcnMvbmF2aWdhdGVcIik7XG5jb25zdCBhc3luY18xID0gcmVxdWlyZShcIi4uL2FzeW5jXCIpO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi9jc3NcIik7XG5jb25zdCBzdHlsZXNfMSA9IHJlcXVpcmUoXCIuL3N0eWxlc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0VHJhbnNpdGlvbkNvbnRyb2xsZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGtlZXAgdHJhY2sgb2YgdGhlIHRyYW5zaXRpb25zIHRoYXQgaGF2ZSBiZWVuIHBlcmZvcm1lZCAmIG1hbmFnZSBnZW5lcmF0aW5nXG4gKiBuZXcgb25lc1xuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgX1RyYW5zaXRpb25Db250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAgICAgLy8jcmVnaW9uIFBST1BFUlRJRVNcbiAgICAgICAgLyoqIHRoZSBsYXN0IGlkZW50aWZpZXIgd2UgdXNlZCBmb3IgYSBnZW5lcmF0ZWQgY2xhc3MgKi9cbiAgICAgICAgdGhpcy5fbGFzdENsc0lkID0gMDtcbiAgICAgICAgLyoqIGFsbCBjbGFzc2VzIHRoYXQgd2UndmUgYWxyZWFkeSBnZW5lcmF0ZWQ7IGtleSBpcyB0aGUgc3RyaW5nIHZlcnNpb24gb2YgdGhlIGNsYXNzLCB2YWx1ZSBpcyB0aGUgY2xhc3MgSUQgKi9cbiAgICAgICAgdGhpcy5fZ2VuZXJhdGVkQ2xhc3NlcyA9IHt9O1xuICAgICAgICAvLyNlbmRyZWdpb25cbiAgICAgICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBQVUJMSUMgTUVUSE9EU1xuICAgIC8qKlxuICAgICAqIHRyYW5zaXRpb25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogYWRkIGEgdHJhbnNpdGlvbmFyeSBjbGFzcyB0byB0aGUgc3BlY2lmaWVkIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIGRldGFpbHMgICAgIG9iamVjdCBjb250YWluaW5nIGRldGFpbHMgYWJvdXQgdGhlIHRyYW5zaXRpb24gdG8gYmVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICBwZXJmb3JtZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zICAgICBBIHByb21pc2UgdGhhdCByZXNvbHZlcyBvbmNlIHRoZSB0cmFuc2l0aW9uIGlzIG92ZXJcbiAgICAgKi9cbiAgICB0cmFuc2l0aW9uKGRldGFpbHMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmICghZGV0YWlscy5lbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwibm8gZWxlbWVudFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGV0YWlscy50aW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwibm8gdGltZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGdldCBvciBnZW5lcmF0ZSB0aGUgc3RhcnRpbmcgY2xhc3NcbiAgICAgICAgICAgIGxldCBzdGFydE5hbWUgPSB0aGlzLl9nZXRDbGFzcyhkZXRhaWxzLnN0YXJ0LCBkZXRhaWxzLmVsZW0pO1xuICAgICAgICAgICAgLy8gZ2V0IG9yIGdlbmVyYXRlIHRoZSBlbmRpbmcgY2xhc3NcbiAgICAgICAgICAgIGlmICghZGV0YWlscy5lbmQudHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgIGRldGFpbHMuZW5kLnRyYW5zaXRpb24gPSBcImFsbCBlYXNlLWluLW91dCBcIiArIChkZXRhaWxzLnRpbWUgLyAxMDAwKSArIFwic1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGVuZE5hbWUgPSB0aGlzLl9nZXRDbGFzcyhkZXRhaWxzLmVuZCwgZGV0YWlscy5lbGVtKTtcbiAgICAgICAgICAgIC8vIGFjdHVhbGx5IGFuaW1hdGUgdGhlIHRyYW5zaXRpb25cbiAgICAgICAgICAgIHlpZWxkIHRoaXMuX2FuaW1hdGUoZGV0YWlscywgc3RhcnROYW1lLCBlbmROYW1lKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHRyYW5zaXRpb25Qcm9vZXJ0eVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBUT0RPXG4gICAgICovXG4gICAgdHJhbnNpdGlvblByb3BlcnR5KGRldGFpbHMpIHtcbiAgICAgICAgLy9UT0RPXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIm5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDTEFTUyBOQU1JTkdcbiAgICAvKipcbiAgICAgKiBfZ2V0Q2xhc3NOYW1lXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGdldHMgYW4gZXhpc3RpbmcgY2xhc3MgbmFtZSBpZiBvbmUgZXhpc3RzIGZvciB0aGlzIHN0eWxlIGNvbmZpZzsgb3RoZXJ3aXNlXG4gICAgICogY3JlYXRlcyBhIG5ldyBnZW5lcmF0ZWQgY2xhc3MgbmFtZVxuICAgICAqXG4gICAgICogQHBhcmFtICAgY2xhc3NEZWYgICAgdGhlIHN0eWxlIHRoYXQgd2lsbCBiZSBnZW5lcmF0ZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRoZSBleGlzdGluZyBjbGFzcyBuYW1lIG9yIGEgbmV3IGNsYXNzIG5hbWUgZm9yIHRoaXMgc3R5bGVcbiAgICAgKi9cbiAgICBfZ2V0Q2xhc3MoY2xhc3NEZWYsIGVsZW0pIHtcbiAgICAgICAgLy8gZ2V0IHRoZSBhYnNvbHV0ZSB2ZXJzaW9uIG9mIHRoaXMgY2xhc3MgZGVmaW5pdGlvblxuICAgICAgICBjbGFzc0RlZiA9IHRoaXMuX3JlcGxhY2VQbGFjZWhvbGRlcnMoY2xhc3NEZWYsIGVsZW0pO1xuICAgICAgICAvLyB0dXJuIHRoZSBjbGFzcyBpbnRvIGEgc3RyaW5nLCB0byBjaGVjayBpdCBhZ2FpbnN0IG91ciBleGlzdGluZyBjbGFzc2VzXG4gICAgICAgIGxldCBzdHJEZWYgPSBKU09OLnN0cmluZ2lmeShjbGFzc0RlZikucmVwbGFjZSgvIC9nLCBcIlwiKTtcbiAgICAgICAgLy8gcmV0dXJuIHRoZSBleGlzdGluZyBjbGFzcyBpZiB3ZSBoYXZlIG9uZSB0aGF0J3MgYSBtYXRjaFxuICAgICAgICBpZiAodGhpcy5fZ2VuZXJhdGVkQ2xhc3Nlc1tzdHJEZWZdKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2VuZXJhdGVkQ2xhc3Nlc1tzdHJEZWZdO1xuICAgICAgICB9XG4gICAgICAgIC8vIG90aGVyd2lzZSwgZ2VuZXJhdGUgYSBuZXcgY2xhc3NcbiAgICAgICAgbGV0IG5hbWUgPSB0aGlzLl9nZW5lcmF0ZVJhbmRvbUNsYXNzTmFtZSgpO1xuICAgICAgICB0aGlzLl9nZW5lcmF0ZWRDbGFzc2VzW3N0ckRlZl0gPSBuYW1lO1xuICAgICAgICB0aGlzLl9jcmVhdGVUcmFuc2l0aW9uQ2xhc3MobmFtZSwgY2xhc3NEZWYsIGVsZW0pO1xuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG4gICAgX2dlbmVyYXRlUmFuZG9tQ2xhc3NOYW1lKCkge1xuICAgICAgICB0aGlzLl9sYXN0Q2xzSWQgKz0gMTtcbiAgICAgICAgcmV0dXJuIFwiZ2VuY2xzXCIgKyB0aGlzLl9sYXN0Q2xzSWQ7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ1JFQVRFIFRSQU5TSVRJT04gQ0xBU1NFU1xuICAgIC8qKlxuICAgICAqIF9jcmVhdGVUcmFuc2l0aW9uQ2xhc3NcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgYSBDU1MgY2xhc3MgdGhhdCB3aWxsIGJlIG9uZSBlbmQgb2YgYSB0cmFuc2l0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICBjbGFzc05hbWUgICBTZWxlY3RvciB0byB1c2UgZm9yIHRoZSBjbGFzc1xuICAgICAqIEBwYXJhbSAgIGNsYXNzRGVmICAgIERlZmluaXRpb24gZm9yIHRoZSBjbGFzc1xuICAgICAqIEBwYXJhbSAgIGVsZW0gICAgICAgIEVsZW1lbnQgdGhpcyBjbGFzcyB3aWxsIGJlIGFwcGxpZWQgdG9cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSB1cGRhdGVkIENTUyBjbGFzc1xuICAgICAqL1xuICAgIF9jcmVhdGVUcmFuc2l0aW9uQ2xhc3MoY2xhc3NOYW1lLCBjbGFzc0RlZiwgZWxlbSkge1xuICAgICAgICAvLyBjcmVhdGUgb3VyIHN0eWxlIGVsZW1lbnQgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICBpZiAoIXRoaXMuX3N0eWxlRWxlbSkge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlU3R5bGVFbGVtKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZ2VuZXJhdGUgdGhlIG5ldyBjb250ZW50cyBmb3Igb3VyIHN0eWxlIHRhZ1xuICAgICAgICB0aGlzLl9zdHlsZUVsZW0uaW5uZXJIVE1MICs9IHN0eWxlc18xLmdlbmVyYXRlQ29udGVudEZvckNTU0NsYXNzKFwiLlwiICsgY2xhc3NOYW1lLCBjbGFzc0RlZiwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9yZXBsYWNlUGxhY2Vob2xkZXJzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGVuc3VyZSB0aGF0IHdlIHJlcGxhY2UgYW55IHBsYWNlaG9sZGVycyBhY2NlcHRlZCBpbiB0cmFuc2l0aW9uIGNsYXNzZXMgd2l0aFxuICAgICAqIHRoZSByZWFsIG1lYXN1cmVtZW50XG4gICAgICovXG4gICAgX3JlcGxhY2VQbGFjZWhvbGRlcnMoY2xhc3NEZWYsIGVsZW0pIHtcbiAgICAgICAgbmF2aWdhdGVfMS5tYXAoY2xhc3NEZWYsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCI8d2lkdGg+XCIsIChlbGVtLm9mZnNldFdpZHRoICsgMSkgKyBcInB4XCIpO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwiPGhlaWdodD5cIiwgZWxlbS5vZmZzZXRIZWlnaHQgKyBcInB4XCIpO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFwiPGxlZnQ+XCIsIGVsZW0ub2Zmc2V0TGVmdCArIFwicHhcIik7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCI8dG9wPlwiLCBlbGVtLm9mZnNldFRvcCArIFwicHhcIik7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCI8cmlnaHQ+XCIsIChlbGVtLm9mZnNldExlZnQgKyBlbGVtLm9mZnNldFdpZHRoKSArIFwicHhcIik7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCI8Ym90dG9tPlwiLCAoZWxlbS5vZmZzZXRUb3AgKyBlbGVtLm9mZnNldEhlaWdodCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgY2xhc3NEZWZba2V5XSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNsYXNzRGVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlU3R5bGVFbGVtXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZXMgYSBzaGFyZWQgc3R5bGUgdGFnIGZvciB0aGlzIGNsYXNzLCBzbyB0aGF0IHdlIGNhbiBjb250aW51ZSB0byBhZGRcbiAgICAgKiB0byBpdFxuICAgICAqL1xuICAgIF9jcmVhdGVTdHlsZUVsZW0oKSB7XG4gICAgICAgIHRoaXMuX3N0eWxlRWxlbSA9IHN0eWxlc18xLmNyZWF0ZVN0eWxlRWxlbWVudChmYWxzZSk7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5fc3R5bGVFbGVtKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBBQ1RVQUxMWSBBTklNQVRFXG4gICAgLyoqXG4gICAgICogX2FuaW1hdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogYWRkIGNsYXNzZXMgaW4gdGhlIGFwcHJvcHJpYXRlIHRpbWVmcmFtZVxuICAgICAqL1xuICAgIF9hbmltYXRlKGRldGFpbHMsIHN0YXJ0TmFtZSwgZW5kTmFtZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgeWllbGQgYXN5bmNfMS5uZXh0UmVuZGVyKCk7IC8vIGVuc3VyZSB0aGUgY2xhc3MgZXhpc3RzXG4gICAgICAgICAgICBjc3NfMS5hZGRDbGFzcyhkZXRhaWxzLmVsZW0sIHN0YXJ0TmFtZSk7IC8vIHN0YXJ0IGJ5IGFkZGluZyB0aGUgc3RhcnQgY2xhc3NcbiAgICAgICAgICAgIHlpZWxkIGFzeW5jXzEud2FpdChkZXRhaWxzLmRlbGF5IHx8IDApOyAvLyB3YWl0IGZvciB0aGUgZGVsYXkgdG8gY29tcGxldGVcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKGRldGFpbHMuZWxlbSwgZW5kTmFtZSk7IC8vIGFkZCB0aGUgZW5kIGNsYXNzIHRvIHN0YXJ0IHRoZSB0cmFuc2l0aW9uXG4gICAgICAgICAgICB5aWVsZCBhc3luY18xLndhaXQoZGV0YWlscy50aW1lKTsgLy8gd2FpdCBmb3IgdGhlIHRyYW5zaXRpb24gdG8gY29tcGxldGVcbiAgICAgICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKGRldGFpbHMuZWxlbSwgc3RhcnROYW1lKTsgLy8gcmVtb3ZlIHRoZSBzdGFydCBjbGFzc1xuICAgICAgICAgICAgeWllbGQgYXN5bmNfMS5uZXh0UmVuZGVyKCk7IC8vIGFuZCB3YWl0IHVudGlsIHRoZSBuZXh0IGZyYW1lXG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIGVuZCBjbGFzcyBhZnRlciB0aGUgY2FsbGVyIGhhcyBoYWQgdGltZSB0byBhcHBseSB0aGUgcGVybWFuZW50IHN0YXRlXG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVFbmRDbGFzcyhkZXRhaWxzLmVsZW0sIGVuZE5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3JlbW92ZUVuZENsYXNzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHJlbW92ZSB0aGUgZW5kLXN0YXRlIGNsYXNzXG4gICAgICovXG4gICAgX3JlbW92ZUVuZENsYXNzKGVsZW0sIGVuZE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHlpZWxkIGFzeW5jXzEud2FpdCgxMCk7XG4gICAgICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyhlbGVtLCBlbmROYW1lKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5UcmFuc2l0aW9uQ29udHJvbGxlciA9IG5ldyBfVHJhbnNpdGlvbkNvbnRyb2xsZXIoKTtcbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU0hPUlRFTkVEIEFDQ0VTU1xuLyoqXG4gKiB0cmFuc2l0aW9uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFRyYW5zaXRpb24gYW4gZWxlbWVudCB0byBhIHBhcnRpY3VsYXIgc3R5bGUsIHRoZW4gYWxlcnQgdGhlIGNhbGxlciB0aGF0XG4gKiBpdCBoYXMgY29tcGxldGVkXG4gKlxuICogQHBhcmFtICAgZWxlbWVudCAgICAgVGhlIGVsZW1lbnQgdG8gdHJhbnNpdGlvblxuICogQHBhcmFtICAgc3RhcnRTdHlsZSAgSWYgbmVlZGVkLCBhbnkgc3BlY2lmaWMgbmV3IGF0dHJpYnV0ZXMgdGhhdCBhcmUgbmVlZGVkIGZvciB0aGlzIG9iamVjdFxuICogQHBhcmFtICAgZW5kU3R5bGUgICAgVGhlIHN0eWxlIHdlIHNob3VsZCBlbmQgdXAgd2l0aFxuICogQHBhcmFtICAgdGltZSAgICAgICAgSG93IGxvbmcgdGhpcyB0cmFuc2l0aW9uIHNob3VsZCB0YWtlXG4gKiBAcGFyYW0gICBkZWxheSAgICAgICBIb3cgbG9uZyB0aGlzIHRyYW5zaXRpb24gc2hvdWxkIGJlIGRlbGF5ZWRcbiAqXG4gKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgdHJhbnNpdGlvbiBjb21wbGV0ZXNcbiAqL1xuZnVuY3Rpb24gdHJhbnNpdGlvbihlbGVtZW50LCBzdGFydFN0eWxlLCBlbmRTdHlsZSwgdGltZSwgZGVsYXkpIHtcbiAgICByZXR1cm4gZXhwb3J0cy5UcmFuc2l0aW9uQ29udHJvbGxlci50cmFuc2l0aW9uKHtcbiAgICAgICAgZWxlbTogZWxlbWVudCxcbiAgICAgICAgc3RhcnQ6IHN0YXJ0U3R5bGUsXG4gICAgICAgIGVuZDogZW5kU3R5bGUsXG4gICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgIGRlbGF5OiBkZWxheSB8fCAwXG4gICAgfSk7XG59XG5leHBvcnRzLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uO1xuLy8jZW5kcmVnaW9uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogY2hlY2sgaWYgdGhlIGVsZW1lbnQgaW1wbGVtZW50cyB0aGUgZHJhd2FibGUgY2xhc3MgKi9cbmZ1bmN0aW9uIGlzRHJhd2FibGUodGVzdCkge1xuICAgIHJldHVybiAhIXRlc3QuZHJhdztcbn1cbmV4cG9ydHMuaXNEcmF3YWJsZSA9IGlzRHJhd2FibGU7XG4vKiogY2hlY2sgaWYgdGhlIGVsZW1lbnQgaXMgb25lIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSBkcmF3YWJsZSBiYXNlICovXG5mdW5jdGlvbiBpc0RyYXdhYmxlRWxlbWVudCh0ZXN0KSB7XG4gICAgcmV0dXJuICghISh0ZXN0LmFwcGVuZENoaWxkKSk7XG59XG5leHBvcnRzLmlzRHJhd2FibGVFbGVtZW50ID0gaXNEcmF3YWJsZUVsZW1lbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbWJpbmVfMSA9IHJlcXVpcmUoXCIuL2NvbWJpbmVcIik7XG5mdW5jdGlvbiBjbG9uZVJlY3QocmVjdCkge1xuICAgIGxldCBvdXQgPSB7XG4gICAgICAgIHg6IHJlY3QueCxcbiAgICAgICAgeTogcmVjdC55LFxuICAgICAgICB3OiByZWN0LncsXG4gICAgICAgIGg6IHJlY3QuaFxuICAgIH07XG4gICAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydHMuY2xvbmVSZWN0ID0gY2xvbmVSZWN0O1xuZnVuY3Rpb24gY2xvbmVQb2ludChwb2ludCkge1xuICAgIGxldCBvdXQgPSB7XG4gICAgICAgIHg6IHBvaW50LngsXG4gICAgICAgIHk6IHBvaW50LnlcbiAgICB9O1xuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnRzLmNsb25lUG9pbnQgPSBjbG9uZVBvaW50O1xuZnVuY3Rpb24gY2xvbmVQb2ludEFycmF5KHBvaW50cykge1xuICAgIGxldCBvdXQgPSBbXTtcbiAgICBsZXQgcHQ7XG4gICAgZm9yIChwdCBvZiBwb2ludHMpIHtcbiAgICAgICAgbGV0IGNsb25lID0gY2xvbmVQb2ludChwdCk7XG4gICAgICAgIG91dC5wdXNoKGNsb25lKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydHMuY2xvbmVQb2ludEFycmF5ID0gY2xvbmVQb2ludEFycmF5O1xuLyoqXG4gKiBjbG9uZU9iamVjdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogR2VuZXJpYyBmdW5jdGlvbiB0byB0cnkgdG8gY2xvbmUgYW55IG9iamVjdCwgdXNpbmcgSlNPTiBzdHJpbmdpZnkgKyBwYXJzZVxuICogQHBhcmFtIFx0b2JqXHRcdFRoZSBvYmplY3QgdG8gY2xvbmVcbiAqXG4gKiBAcmV0dXJuc1x0VGhlIGNsb25lZCBlbGVtZW50c1xuICovXG5mdW5jdGlvbiBjbG9uZU9iamVjdChvYmopIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcbn1cbmV4cG9ydHMuY2xvbmVPYmplY3QgPSBjbG9uZU9iamVjdDtcbmZ1bmN0aW9uIHNoYWxsb3dDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgICByZXR1cm4gY29tYmluZV8xLmNvbWJpbmVPYmplY3RzKHt9LCBvYmplY3QpO1xufVxuZXhwb3J0cy5zaGFsbG93Q2xvbmVPYmplY3QgPSBzaGFsbG93Q2xvbmVPYmplY3Q7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IGNhbnZhc1N0eWxlXzEgPSByZXF1aXJlKFwiLi9jYW52YXNTdHlsZVwiKTtcbmNvbnN0IG92ZXJsYXBfMSA9IHJlcXVpcmUoXCIuLi9tYXRocy9vdmVybGFwXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIENhbnZhc0VsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNyZWF0ZSBhIGNhbnZhcyBlbGVtZW50XG4gKiBAdmVyc2lvbiAxLjFcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBDYW52YXNFbGVtZW50IHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgYSBjYW52YXMgZWxlbWVudFxuICAgICAqXG4gICAgICogQHBhcmFtXHRpZFx0XHRcdFRoZSB1bmlxdWUgSUQgZm9yIHRoaXNcbiAgICAgKiBAcGFyYW0gXHRpc0VmZmVjdCBcdElmIHRydWUsIHRyZWF0cyB0aGlzIGVsZW1lbnQgYXMgYW4gZWZmZWN0XG4gICAgICpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpZCwgaXNFZmZlY3QpIHtcbiAgICAgICAgLyoqIGxheWVyIGF0IHdoaWNoIHRoZSBlbGVtZW50IHNob3VsZCBhcHBlYXIuIERlZmF1bHRzIHRvIDEgKi9cbiAgICAgICAgdGhpcy5fbGF5ZXIgPSAxO1xuICAgICAgICB0aGlzLl9pZCA9IGlkO1xuICAgICAgICB0aGlzLl9pc0VmZmVjdCA9IGlzRWZmZWN0O1xuICAgICAgICB0aGlzLl9ldmVudEZ1bmN0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLl9zdHlsZSA9IG5ldyBjYW52YXNTdHlsZV8xLkNhbnZhc0VsZW1lbnRTdHlsZSgpO1xuICAgIH1cbiAgICBnZXQgaWQoKSB7IHJldHVybiB0aGlzLl9pZDsgfVxuICAgIHNldCBjYW52YXMoY2FudmFzKSB7IHRoaXMuX3NldENhbnZhcyhjYW52YXMpOyB9XG4gICAgc2V0IHBhcmVudChncnApIHsgdGhpcy5fcGFyZW50ID0gZ3JwOyB9XG4gICAgZ2V0IHN0eWxlKCkgeyByZXR1cm4gdGhpcy5fc3R5bGU7IH1cbiAgICBzZXQgc3R5bGUocykgeyB0aGlzLl9zdHlsZSA9IHM7IH1cbiAgICBnZXQgbGF5ZXIoKSB7IHJldHVybiB0aGlzLl9sYXllcjsgfVxuICAgIHNldCBsYXllcihsYXllcikgeyB0aGlzLl9sYXllciA9IGxheWVyOyB9XG4gICAgZ2V0IGlzT2ZmU2NyZWVuKCkgeyByZXR1cm4gdGhpcy5faXNPZmZTY3JlZW47IH1cbiAgICBnZXQgZGltZW5zaW9ucygpIHsgcmV0dXJuIHRoaXMuX2RpbWVuc2lvbnM7IH1cbiAgICBzZXQgZGltZW5zaW9ucyhkaW0pIHsgdGhpcy5fc2V0RGltZW5zaW9ucyhkaW0pOyB9XG4gICAgZ2V0IGRpc3BsYXlEaW1lbnNpb25zKCkgeyByZXR1cm4gdGhpcy5fZGlzcGxheURpbWVuc2lvbnM7IH1cbiAgICBnZXQgaXNIb3ZlclRhcmdldCgpIHsgcmV0dXJuIHRoaXMuX2lzSG92ZXJUYXJnZXQ7IH1cbiAgICBzZXQgaXNIb3ZlclRhcmdldCh2YWx1ZSkgeyB0aGlzLl9pc0hvdmVyVGFyZ2V0ID0gdmFsdWU7IH1cbiAgICBnZXQgaXNIaWRkZW4oKSB7IHJldHVybiB0aGlzLl9pc0hpZGRlbjsgfVxuICAgIC8qKlxuICAgICAqIF9pbml0aWFsaXplUmVjdHNcbiAgICAgKlxuICAgICAqIGNyZWF0ZSB0aGUgaW5pdGlhbCBkaXNwbGF5IHJlY3RhbmdsZVxuICAgICAqXG4gICAgICovXG4gICAgX2luaXRpYWxpemVSZWN0cygpIHtcbiAgICAgICAgdGhpcy5fZGlzcGxheURpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLl9kaW1lbnNpb25zLngsXG4gICAgICAgICAgICB5OiB0aGlzLl9kaW1lbnNpb25zLnksXG4gICAgICAgICAgICB3OiB0aGlzLl9kaW1lbnNpb25zLncsXG4gICAgICAgICAgICBoOiB0aGlzLl9kaW1lbnNpb25zLmhcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2FwcGx5U3R5bGVcbiAgICAgKlxuICAgICAqIHVwZGF0ZSB0aGUgY29udGV4dCB0byB1c2UgdGhpcyBlbGVtZW50J3Mgc3R5bGVcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0Y29udGV4dFx0XHRUaGUgQ2FudmFzIGNvbnRleHQgdG8gZHJhdyBvblxuICAgICAqXG4gICAgICovXG4gICAgX2FwcGx5U3R5bGUoY29udGV4dCkge1xuICAgICAgICB0aGlzLl9zdHlsZS5zZXRTdHlsZShjb250ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3Jlc3RvcmVTdHlsZVxuICAgICAqXG4gICAgICogc2V0IHRoZSBjb250ZXh0IHN0eWxlIGJhY2sgdG8gd2hhdCBpdCBvcmlnaW5hbGx5IHdhc1xuICAgICAqXG4gICAgICogQHBhcmFtXHRjb250ZXh0XG4gICAgICpcbiAgICAgKi9cbiAgICBfcmVzdG9yZVN0eWxlKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5fc3R5bGUucmVzdG9yZVN0eWxlKGNvbnRleHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB0cmFuc2Zvcm1cbiAgICAgKlxuICAgICAqIGhhbmRsZSBhIHRlbXBvcmFyeSB0cmFuc2Zvcm0gZm9yIHRoZSBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHR0cmFuc2Zvcm1EZXRhaWxzXG4gICAgICpcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm0odHJhbnNmb3JtRGV0YWlscykge1xuICAgICAgICAvLyB3ZSBuZWVkIGEgY2FudmFzIG9iamVjdCB0byBoYXZlIGJlZW4gYXNzaWduZWRcbiAgICAgICAgaWYgKCF0aGlzLl9wYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBjcmVhdGUgYSBjbG9uZSBvZiB0aGlzIGVsZW1lbnRcbiAgICAgICAgbGV0IGNsb25lID0gdGhpcy5fY2xvbmVGb3JFZmZlY3QodGhpcy5pZCArIFwifGVcIik7XG4gICAgICAgIGNsb25lLl9pc0VmZmVjdCA9IHRydWU7XG4gICAgICAgIGNsb25lLl9sYXllciA9IHRoaXMuX2xheWVyO1xuICAgICAgICBjbG9uZS5zdHlsZSA9IHRoaXMuX2Nsb25lU3R5bGUoKTtcbiAgICAgICAgLy8gYXBwbHkgdGhlIGFwcHJvcHJpYXRlIHRyYW5zZm9ybWF0aW9ucyB0byB0aGF0IGVsZW1lbnRcbiAgICAgICAgaWYgKHRyYW5zZm9ybURldGFpbHMuY29sb3IpIHtcbiAgICAgICAgICAgIGNsb25lLl9zdHlsZS5maWxsQ29sb3IgPSB0cmFuc2Zvcm1EZXRhaWxzLmNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGx5IHRoZSBzY2FsZSB0cmFuc2Zvcm1hdGlvblxuICAgICAgICBpZiAodHJhbnNmb3JtRGV0YWlscy5zY2FsZSkge1xuICAgICAgICAgICAgY2xvbmUuX3NjYWxlKHRyYW5zZm9ybURldGFpbHMuc2NhbGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCB0aGUgY2xvbmVkIGVsZW1lbnQgdG8gdGhlIHNhbWUgbGF5ZXIgd2UncmUgb25cbiAgICAgICAgdGhpcy5fcGFyZW50LmFkZEVsZW1lbnQoY2xvbmUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2xvbmVTdHlsZVxuICAgICAqXG4gICAgICogY29weSBzdHlsZSBmcm9tIG9uZSBlbGVtIGZvciB1c2UgaW4gYW5vdGhlclxuICAgICAqXG4gICAgICogQHJldHVybnNcbiAgICAgKlxuICAgICAqL1xuICAgIF9jbG9uZVN0eWxlKCkge1xuICAgICAgICByZXR1cm4gbmV3IGNhbnZhc1N0eWxlXzEuQ2FudmFzRWxlbWVudFN0eWxlKHRoaXMuX3N0eWxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3NjYWxlXG4gICAgICpcbiAgICAgKiBzdGFuZGFyZCBzY2FsZSBhbGdvcml0aG1cbiAgICAgKiBAcGFyYW1cdHNjYWxlQW10XG4gICAgICpcbiAgICAgKiAqL1xuICAgIF9zY2FsZShzY2FsZUFtdCkge1xuICAgICAgICAvLyBUaGlzIGlzIG9ubHkgYWxsb3dlZCBmb3IgZWZmZWN0IGVsZW1lbnRzXG4gICAgICAgIGlmICghdGhpcy5faXNFZmZlY3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIHdpZHRoIG9mZnNldCBhbmQgdmFsdWVcbiAgICAgICAgbGV0IG5ld1dpZHRoID0gc2NhbGVBbXQgKiB0aGlzLl9kaW1lbnNpb25zLnc7XG4gICAgICAgIGxldCB4T2Zmc2V0ID0gKG5ld1dpZHRoIC0gdGhpcy5fZGltZW5zaW9ucy53KSAvIDI7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IG9mZnNldCBhbmQgdmFsdWVcbiAgICAgICAgbGV0IG5ld0hlaWdodCA9IHNjYWxlQW10ICogdGhpcy5fZGltZW5zaW9ucy5oO1xuICAgICAgICBsZXQgeU9mZnNldCA9IChuZXdIZWlnaHQgLSB0aGlzLl9kaW1lbnNpb25zLmgpIC8gMjtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBkaW1lbnNpb25zIHRvIGJlIGFwcHJvcHJpYXRlIGZvciB0aGlzIHNjYWxpbmcgZWxlbWVudFxuICAgICAgICB0aGlzLl9kaW1lbnNpb25zID0ge1xuICAgICAgICAgICAgeDogdGhpcy5fZGltZW5zaW9ucy54IC0geE9mZnNldCxcbiAgICAgICAgICAgIHk6IHRoaXMuX2RpbWVuc2lvbnMueSAtIHlPZmZzZXQsXG4gICAgICAgICAgICB3OiBuZXdXaWR0aCxcbiAgICAgICAgICAgIGg6IG5ld0hlaWdodFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGVEaW1lbnNpb25zXG4gICAgICpcbiAgICAgKiB1cGRhdGUgdGhlIGludGVybmFsIGRpbWVuc2lvbnMgb2YgdGhlIGVsZW1lbnRcbiAgICAgKiBAcGFyYW1cdGNhbnZhc0RpbWVuc2lvbnNcbiAgICAgKlxuICAgICAqL1xuICAgIHVwZGF0ZURpbWVuc2lvbnMoY2FudmFzRGltZW5zaW9ucykge1xuICAgICAgICB0aGlzLl9kaXNwbGF5RGltZW5zaW9ucyA9IHRoaXMuX2NhbnZhcy5jb252ZXJ0QWJzb2x1dGVSZWN0VG9SZWxhdGl2ZVJlY3QodGhpcy5fZGltZW5zaW9ucyk7XG4gICAgICAgIC8vIFVwZGF0ZSBvdXIgdHJhY2tpbmcgdmFyaWFibGUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgXG4gICAgICAgIC8vIHdlIHNob3VsZCBiZSBzaG93aW5nIHRoaXMgZWxlbWVudFxuICAgICAgICB0aGlzLl9zZXRJc09mZlNjcmVlbihjYW52YXNEaW1lbnNpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRqdXN0RGltZW5zaW9uc1xuICAgICAqXG4gICAgICogc2hpZnQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGVsZW1lbnQgYmFzZWQgb24gdGhlIHJlZmVyZW5jZSBwb2ludFxuICAgICAqIEBwYXJhbVx0YWRqdXN0UHRcbiAgICAgKlxuICAgICAqICovXG4gICAgYWRqdXN0RGltZW5zaW9ucyhhZGp1c3RQdCkge1xuICAgICAgICBpZiAodGhpcy5faXNFZmZlY3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kaW1lbnNpb25zLnggKz0gYWRqdXN0UHQueDtcbiAgICAgICAgdGhpcy5fZGltZW5zaW9ucy55ICs9IGFkanVzdFB0Lnk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGRyYXdcbiAgICAgKlxuICAgICAqIGFic3RyYWN0IG1ldGhvZCB0aGF0IGVhY2ggY2hpbGQgZWxlbWVudCB3aWxsIGltcGxlbWVudFxuICAgICAqXG4gICAgICovXG4gICAgZHJhdygpIHtcbiAgICAgICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgd2UncmUgb2Zmc2NyZWVuIG9yIGRvbid0IGhhdmUgYSBjYW52YXNcbiAgICAgICAgaWYgKHRoaXMuX2lzT2ZmU2NyZWVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYW52YXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faXNIaWRkZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgdGhlIGNvbnRleHQgZnJvbSB0aGUgY2FudmFzLCBhcyBhcHByb3ByaWF0ZSBmb3IgdGhpcyBwYXJ0aWN1bGFyIGVsZW1lbnRcbiAgICAgICAgbGV0IGNvbnRleHQ7XG4gICAgICAgIGlmICghdGhpcy5faXNFZmZlY3QpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzLl9jYW52YXMuY29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzLl9jYW52YXMuZWZmZWN0Q29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcHBseVN0eWxlKGNvbnRleHQpOyAvLyBTZXQgdGhlIGFwcHJvcHJpYXRlIHN0eWxlXG4gICAgICAgIHRoaXMuX29uRHJhdyhjb250ZXh0KTsgLy8gQ2FsbCBvbiB0aGUgY2hpbGQgY2xhc3MgdG8gZHJhdyB0aGVpciBzcGVjaWZpYyBzdHVmZlxuICAgICAgICB0aGlzLl9yZXN0b3JlU3R5bGUoY29udGV4dCk7IC8vIFJlc3RvcmUgb3JpZ2luYWwgc3R5bGVcbiAgICAgICAgdGhpcy5faXNEcmF3biA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zZXRJc09mZlNjcmVlblxuICAgICAqXG4gICAgICogZGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBlbGVtZW50IGlzIG9mZiBzY3JlZW5cbiAgICAgKiBAcGFyYW1cdGNhbnZhc0RpbWVuc2lvbnNcbiAgICAgKlxuICAgICAqICovXG4gICAgX3NldElzT2ZmU2NyZWVuKGNhbnZhc0RpbWVuc2lvbnMpIHtcbiAgICAgICAgdGhpcy5faXNPZmZTY3JlZW4gPSAhb3ZlcmxhcF8xLmRvQmFzaWNSZWN0c092ZXJsYXAoY2FudmFzRGltZW5zaW9ucywgdGhpcy5fZGltZW5zaW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zZXREaW1lbnNpb25zXG4gICAgICpcbiAgICAgKiBhbGxvdyBvdXRzaWRlcnMgdG8gdXBkYXRlIHRoZSBpbnRlcm5hbCBzZXQgb2YgZGltZW5zaW9ucyBmb3IgdGhpcyBlbGVtZW50XG4gICAgICogQHBhcmFtXHRkaW1cbiAgICAgKlxuICAgICAqL1xuICAgIF9zZXREaW1lbnNpb25zKGRpbSkge1xuICAgICAgICB0aGlzLl9kaW1lbnNpb25zID0gZGltO1xuICAgICAgICBpZiAodGhpcy5fY2FudmFzKSB7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMubmVlZHNSZWRyYXcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zZXRDYW52YXNcbiAgICAgKlxuICAgICAqIFNldCBvdXIgaW50ZXJuYWwgY2FudmFzXG4gICAgICogQHBhcmFtIGNhbnZhc1xuICAgICAqXG4gICAgICovXG4gICAgX3NldENhbnZhcyhjYW52YXMpIHtcbiAgICAgICAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gRVZFTlQgSEFORExJTkcgRk9SIENBTlZBUyBFTEVNRU5UU1xuICAgIC8qKiBjb2xsZWN0IGV2ZW50IGxpc3RlbmVycyAqL1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBldmVudEZ1bmMpIHtcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLl9ldmVudEZ1bmN0aW9uc1tldmVudFR5cGVdO1xuICAgICAgICBpZiAoIWxpc3QpIHtcbiAgICAgICAgICAgIGxpc3QgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50RnVuY3Rpb25zW2V2ZW50VHlwZV0gPSBsaXN0O1xuICAgICAgICB9XG4gICAgICAgIGxpc3QucHVzaChldmVudEZ1bmMpO1xuICAgIH1cbiAgICAvKiogaGFuZGxlIGNsaWNrIGV2ZW50cyAqL1xuICAgIGNsaWNrKHB0LCBlKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnQoX2ludGVyZmFjZXNfMS5FdmVudFR5cGVFbnVtLkNMSUNLLCBwdCwgZSk7XG4gICAgfVxuICAgIC8qKiBoYW5kbGUgZG91YmxlIGNsaWNrcyAqL1xuICAgIGRvdWJsZUNsaWNrKHB0LCBlKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnQoX2ludGVyZmFjZXNfMS5FdmVudFR5cGVFbnVtLkRCTF9DTElDSywgcHQsIGUpO1xuICAgIH1cbiAgICAvKiogaGFuZGxlIHRoZSByaWdodCBjbGljayAqL1xuICAgIHJpZ2h0Q2xpY2socHQsIGUpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVFdmVudChfaW50ZXJmYWNlc18xLkV2ZW50VHlwZUVudW0uUl9DTElDSywgcHQsIGUpO1xuICAgIH1cbiAgICAvKiogaGFuZGxlIHdoZW4gdGhlIG1vdXNlIGVudGVycyB0aGUgZWxlbWVudCAqL1xuICAgIGhvdmVyKHB0LCBlKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnQoX2ludGVyZmFjZXNfMS5FdmVudFR5cGVFbnVtLkhPVkVSLCBwdCwgZSk7XG4gICAgfVxuICAgIC8qKiBoYW5kbGUgd2hlbiB0aGUgbW91c2UgbGVhdmVzIHRoZSBlbGVtZW50ICovXG4gICAgbGVhdmUocHQsIGUpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVFdmVudChfaW50ZXJmYWNlc18xLkV2ZW50VHlwZUVudW0uTEVBVkUsIHB0LCBlKTtcbiAgICB9XG4gICAgLyoqIGhhbmRsZSB0aGUga2V5cHJlc3MgZXZlbnQgKi9cbiAgICBrZXlQcmVzcyhwdCwgZSkge1xuICAgICAgICB0aGlzLmhhbmRsZUV2ZW50KF9pbnRlcmZhY2VzXzEuRXZlbnRUeXBlRW51bS5LRVlfUFJFU1MsIHB0LCBlKTtcbiAgICB9XG4gICAgLyoqIGhhbmRsZSB0aGUgZm9jdXMgZXZlbnQgKi9cbiAgICBmb2N1cyhwdCwgZSkge1xuICAgICAgICB0aGlzLmhhbmRsZUV2ZW50KF9pbnRlcmZhY2VzXzEuRXZlbnRUeXBlRW51bS5GT0NVUywgcHQsIGUpO1xuICAgIH1cbiAgICAvKiogaGFuZGxlIHRoZSBibHVyIGV2ZW50ICovXG4gICAgYmx1cihwdCwgZSkge1xuICAgICAgICB0aGlzLmhhbmRsZUV2ZW50KF9pbnRlcmZhY2VzXzEuRXZlbnRUeXBlRW51bS5CTFVSLCBwdCwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGhhbmRsZUV2ZW50XG4gICAgICpcbiAgICAgKiBnZW5lcmljIGhhbmRsZXIgZm9yIGFsbCBldmVudHNcbiAgICAgKlxuICAgICAqL1xuICAgIGhhbmRsZUV2ZW50KGV2ZW50VHlwZSwgcHQsIGUpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGFwcGx5IHByb3BlcnRpZXMgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZXJlIGFyZSBhZGRpdGlvbmFsIGhhbmRsZXJzXG4gICAgICAgIGlmICgoZXZlbnRUeXBlID09PSBfaW50ZXJmYWNlc18xLkV2ZW50VHlwZUVudW0uQkxVUikgfHwgKGV2ZW50VHlwZSA9PT0gX2ludGVyZmFjZXNfMS5FdmVudFR5cGVFbnVtLkxFQVZFKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudC5yZW1vdmVFbGVtZW50KHRoaXMuaWQgKyBcInxlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faXNIb3ZlclRhcmdldCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50VHlwZSA9PT0gX2ludGVyZmFjZXNfMS5FdmVudFR5cGVFbnVtLkhPVkVSKSB7XG4gICAgICAgICAgICB0aGlzLl9pc0hvdmVyVGFyZ2V0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgdGhlIGV2ZW50IHRvIHRoZSBsaXN0XG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5fZXZlbnRGdW5jdGlvbnNbZXZlbnRUeXBlXTtcbiAgICAgICAgaWYgKCFsaXN0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIGFsbCBvZiB0aGUgY2FsbGJhY2tzXG4gICAgICAgIGxldCBmdW5jO1xuICAgICAgICBmb3IgKGZ1bmMgb2YgbGlzdCkge1xuICAgICAgICAgICAgZnVuYyhwdCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIGNhbnZhcywgdGVsbCBpdCB0byByZWRyYXdcbiAgICAgICAgaWYgKCF0aGlzLl9jYW52YXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5uZWVkc1JlZHJhdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIEhJREUgQU5EIFNIT1cgVEhFIEVMRU1FTlRcbiAgICAvKipcbiAgICAgKiBzd2FwVmlzaWJpbHR5XG4gICAgICpcbiAgICAgKiBDaGFuZ2Ugd2hldGhlciB0aGlzIGVsZW1lbnQgaXMgaGlkZGVuIG9yIHNob3duXG4gICAgICpcbiAgICAgKi9cbiAgICBzd2FwVmlzaWJpbGl0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzSGlkZGVuKSB7XG4gICAgICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGhpZGVcbiAgICAgKlxuICAgICAqIEhpZGUgdGhpcyBlbGVtZW50XG4gICAgICpcbiAgICAgKi9cbiAgICBoaWRlKCkge1xuICAgICAgICBpZiAodGhpcy5faXNIaWRkZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0hpZGRlbiA9IHRydWU7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5uZWVkc1JlZHJhdyA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNob3dcbiAgICAgKlxuICAgICAqIFNob3cgdGhpcyBlbGVtZW50IGlmIGl0IHdhcyBoaWRkZW5cbiAgICAgKlxuICAgICAqL1xuICAgIHNob3coKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNIaWRkZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0hpZGRlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jYW52YXMubmVlZHNSZWRyYXcgPSB0cnVlO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gREVCVUdHSU5HIEZVTkNUSU9OU1xuICAgIC8qKlxuICAgICAqIF9kZWJ1Z0RpbWVuc2lvbnNcbiAgICAgKlxuICAgICAqIGRpc3BsYXkgZGltZW5zaW9ucyBmb3IgZGVidWdnaW5nIHB1cnBvc2VzXG4gICAgICpcbiAgICAgKi9cbiAgICBfZGVidWdEaW1lbnNpb25zKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNBTlZBUyBFTEVNOiBcIiArIHRoaXMuX2lkKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ4OiBcIiArIE1hdGgucm91bmQodGhpcy5fZGlzcGxheURpbWVuc2lvbnMueCkgKyBcIiAoZnJvbSBcIiArIHRoaXMuX2RpbWVuc2lvbnMueCArIFwiKVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ5OiBcIiArIE1hdGgucm91bmQodGhpcy5fZGlzcGxheURpbWVuc2lvbnMueSkgKyBcIiAoZnJvbSBcIiArIHRoaXMuX2RpbWVuc2lvbnMueSArIFwiKVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ3OiBcIiArIE1hdGgucm91bmQodGhpcy5fZGlzcGxheURpbWVuc2lvbnMudykgKyBcIiAoZnJvbSBcIiArIHRoaXMuX2RpbWVuc2lvbnMudyArIFwiKVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJoOiBcIiArIE1hdGgucm91bmQodGhpcy5fZGlzcGxheURpbWVuc2lvbnMuaCkgKyBcIiAoZnJvbSBcIiArIHRoaXMuX2RpbWVuc2lvbnMuaCArIFwiKVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJcXG5wYXJlbnQ6IFwiICsgKHRoaXMuX3BhcmVudCA/IHRoaXMuX3BhcmVudC5pZCA6IFwibm9uZVwiKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiPT09XFxuXCIpO1xuICAgICAgICBpZiAodGhpcy5fY2FudmFzKSB7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMuZGVidWdSZWxhdGl2ZURpbWVuc2lvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcIm9mZnNjcmVlbj8gXCIgKyB0aGlzLl9pc09mZlNjcmVlbik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG5cXG5cIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGRlYnVnRGltZW5zaW9uc1xuICAgICAqXG4gICAgICogcHVibGljIGZ1bmN0aW9uIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXNcbiAgICAgKlxuICAgICAqL1xuICAgIGRlYnVnRGltZW5zaW9ucygpIHtcbiAgICAgICAgdGhpcy5fZGVidWdEaW1lbnNpb25zKCk7XG4gICAgfVxufVxuZXhwb3J0cy5DYW52YXNFbGVtZW50ID0gQ2FudmFzRWxlbWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIEhFTFBFUiBGVU5DVElPTlNcbi8qKlxuICogZXF1YWxzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBEZXRlcm1pbmVzIGlmIHR3byBlbGVtZW50cyBvZiB0aGUgc2FtZSB0eXBlIGNhbiBiZSBjb25zaWRlcmVkIGVxdWFsXG4gKlxuICogQHBhcmFtICAgb3JpZyAgICAgICAgVGhlIGZpcnN0IGVsZW0gdG8gZXhhbWluZVxuICogQHBhcmFtICAgY29tcGFyaXNvbiAgVGhlIHNlY29uZCBlbGVtIHRvIGV4YW1pbmVcbiAqXG4gKiBUcnVlIGlmIHRoZSB0d28gZWxlbWVudHMgY2FuIGJlIGNvbnNpZGVyZWQgZXF1YWxcbiAqL1xuZnVuY3Rpb24gZXF1YWxzKG9yaWcsIGNvbXBhcmlzb24pIHtcbiAgICAvLyBIYW5kbGUgdGhlIGVxdWF0YWJsZSBjYXNlXG4gICAgaWYgKGlzRXF1YXRhYmxlKG9yaWcpKSB7XG4gICAgICAgIHJldHVybiBvcmlnLmVxdWFscyhjb21wYXJpc29uKTtcbiAgICB9XG4gICAgLy8gb3RoZXJ3aXNlIGRpcmVjdGx5IGNvbXBhcmUgdGhlIHZhbHVlc1xuICAgIHJldHVybiAob3JpZyA9PT0gY29tcGFyaXNvbik7XG59XG5leHBvcnRzLmVxdWFscyA9IGVxdWFscztcbi8qKlxuICogbGVzc2VyVGhhblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQHBhcmFtIFx0b3JpZyBcdFx0VGhlIGVsZW1lbnQgdG8gY2hlY2sgZm9yIGJlaW5nIGxlc3MgdGhhbiB0aGUgb3RoZXJcbiAqIEBwYXJhbSBcdGNvbXBhcmlzb24gXHRUaGUgZWxlbWVudCB0byBjaGVjayBmb3IgYmVpbmcgZ3JlYXRlciB0aGFuIHRoZSBvdGhlclxuICpcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGZpcnN0IGVsZW1lbnQgaXMgbGVzc2VyIHRoYW4gdGhlIHNlY29uZFxuICovXG5mdW5jdGlvbiBsZXNzZXJUaGFuKG9yaWcsIGNvbXBhcmlzb24pIHtcbiAgICBpZiAoaXNDb21wYXJhYmxlKG9yaWcpKSB7XG4gICAgICAgIHJldHVybiBvcmlnLmxlc3NlclRoYW4oY29tcGFyaXNvbik7XG4gICAgfVxuICAgIHJldHVybiAob3JpZyA8IGNvbXBhcmlzb24pO1xufVxuZXhwb3J0cy5sZXNzZXJUaGFuID0gbGVzc2VyVGhhbjtcbi8qKlxuICogZ3JlYXRoZXJUaGFuXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAcGFyYW0gXHRvcmlnIFx0XHRUaGUgZWxlbWVudCB0byBjaGVjayBmb3IgYmVpbmcgZ3JlYXRlciB0aGFuIHRoZSBvdGhlclxuICogQHBhcmFtIFx0Y29tcGFyaXNvbiBcdFRoZSBlbGVtZW50IHRvIGNoZWNrIGZvciBiZWluZyBsZXNzZXIgdGhhbiB0aGUgb3RoZXJcbiAqXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBmaXJzdCBlbGVtZW50IGlzIGdyZWF0ZXIgdGhhbiB0aGUgc2Vjb25kXG4gKi9cbmZ1bmN0aW9uIGdyZWF0ZXJUaGFuKG9yaWcsIGNvbXBhcmlzb24pIHtcbiAgICBpZiAoaXNDb21wYXJhYmxlKG9yaWcpKSB7XG4gICAgICAgIHJldHVybiBvcmlnLmdyZWF0ZXJUaGFuKGNvbXBhcmlzb24pO1xuICAgIH1cbiAgICByZXR1cm4gKG9yaWcgPiBjb21wYXJpc29uKTtcbn1cbmV4cG9ydHMuZ3JlYXRlclRoYW4gPSBncmVhdGVyVGhhbjtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gVFlQRSBHVUFSRFNcbi8qKlxuICogaXNFcXVhdGFibGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGRldGVybWluZSBpZiB0aGUgc3BlY2lmaWVkIG9iamVjdCBjYW4gYmUgY2F0ZWdvcml6ZWQgYXMgZXF1YXRhYmxlXG4gKi9cbmZ1bmN0aW9uIGlzRXF1YXRhYmxlKG9iaikge1xuICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChvYmopKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG9iai5lcXVhbHMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuaXNFcXVhdGFibGUgPSBpc0VxdWF0YWJsZTtcbi8qKlxuICogaXNDb21wYXJhYmxlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBkZXRlcm1pbmUgaWYgdGhlIHNwZWNpZmllZCBvYmplY3QgY2FuIGJlIGNhdGVnb3JpemVkIGFzIGNvbXBhcmFibGVcbiAqL1xuZnVuY3Rpb24gaXNDb21wYXJhYmxlKG9iaikge1xuICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChvYmopKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IGNvbXAgPSBvYmo7XG4gICAgaWYgKGNvbXAubGVzc1RoYW4gJiYgY29tcC5ncmVhdGVyVGhhbiAmJiBjb21wLmVxdWFscykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5pc0NvbXBhcmFibGUgPSBpc0NvbXBhcmFibGU7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG51bWJlcnNfMSA9IHJlcXVpcmUoXCIuL251bWJlcnNcIik7XG5jb25zdCBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi9zdHJpbmdzXCIpO1xuLyoqXG4gKiBkYXRlRGlmZlxuICpcbiAqXHRGaW5kcyB0aGUgZGlmZmVyZW5jZSBpbiBkYXlzIGJldHdlZW4gdHdvIGRhdGUgb2JqZWN0c1xuICpcbiAqXHRAcGFyYW0gXHRhIFx0XHRcdFx0VGhlIGZpcnN0IGRhdGUgdG8gY29tcGFyZVxuICpcdEBwYXJhbSBcdGIgXHRcdFx0XHRUaGUgc2Vjb25kIGRhdGUgdG8gY29tcGFyZVxuICpcdEBwYXJhbSBcdHNpZ25lZFx0XHRcdElmIHRydWUsIHdpbGwgdGFrZSB0aGUgZGlmZmVyZW5jZSBpbiBvcmRlclxuICpcdFx0XHRcdFx0XHRcdFx0cGFzc2VkIGluIChlLmcuIEEgLSBCKVxuICpcdEBwYXJhbSBcdGluY2x1ZGVUaW1lIFx0SWYgdHJ1ZSwgd2lsbCB0YWtlIHRoZSBtcyBkaWZmZXJlbmNlIGluc3RlYWQgb2ZcbiAqXHRcdFx0XHRcdFx0XHRcdHRoZSBkYXkgZGlmZmVyZW5jZVxuICogIEBwYXJhbSBcdHJldHVybk1pbGxpXHRcdElmIHRydWUsIHJldHVybnMgYSB2YWx1ZSBpbiBtaWxsaXNlY29uZHMgZXZlbiBpZlxuICogXHRcdFx0XHRcdFx0XHRcdG1pbGxpc2Vjb25kcyB3ZXJlbid0IGNvbXBhcmVkXG4gKlxuICogQHJldHVybnNcdFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gZGF0ZXNcbiAqXG4gKiovXG5mdW5jdGlvbiBkYXRlRGlmZihhLCBiLCBzaWduZWQsIGluY2x1ZGVUaW1lLCByZXR1cm5NaWxsaSkge1xuICAgIGxldCBtcztcbiAgICBsZXQgZGlmZjtcbiAgICBsZXQgZGlyO1xuICAgIG1zID0gKDEwMDAgKiA2MCAqIDYwICogMjQpO1xuICAgIC8vIGNsZWFyIHRpbWUgZGF0YSBpZiB3ZSBkb24ndCBjYXJlIGFib3V0IGl0XG4gICAgaWYgKCFpbmNsdWRlVGltZSkge1xuICAgICAgICBhID0gY2xlYXJUaW1lSW5mbyhhLCB0cnVlKTtcbiAgICAgICAgYiA9IGNsZWFyVGltZUluZm8oYiwgdHJ1ZSk7XG4gICAgfVxuICAgIC8vIGNhbGN1bGF0ZSB0aGUgZGF0ZSBkaWZmIGluIG1pbGxpc2Vjb25kc1xuICAgIGlmICgoYSA+IGIpIHx8IHNpZ25lZCkge1xuICAgICAgICBkaWZmID0gKGEgLSBiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRpZmYgPSAoYiAtIGEpO1xuICAgIH1cbiAgICAvLyBpZiB3ZSBkb24ndCB3YW50IHRoZSByZXNwb25zZSBpbiBtaWxsaXNlY29uZHMsIHJldHVybiB0aGUgZGF5cyB2YWx1ZSAoaW5jbHVkaW5nIGZyYWN0aW9uYWwgY29tcG9uZW50IGlmIGFwcHJvcHJpYXRlKVxuICAgIGlmICghcmV0dXJuTWlsbGkpIHtcbiAgICAgICAgZGlmZiA9IGRpZmYgLyBtcztcbiAgICB9XG4gICAgcmV0dXJuIGRpZmY7XG59XG5leHBvcnRzLmRhdGVEaWZmID0gZGF0ZURpZmY7XG47XG52YXIgSW5jbHVzaXZpdHlFbnVtO1xuKGZ1bmN0aW9uIChJbmNsdXNpdml0eUVudW0pIHtcbiAgICBJbmNsdXNpdml0eUVudW1bSW5jbHVzaXZpdHlFbnVtW1wiRVhDTFVTSVZFXCJdID0gLTFdID0gXCJFWENMVVNJVkVcIjtcbiAgICBJbmNsdXNpdml0eUVudW1bSW5jbHVzaXZpdHlFbnVtW1wiREVGQVVMVFwiXSA9IDBdID0gXCJERUZBVUxUXCI7XG4gICAgSW5jbHVzaXZpdHlFbnVtW0luY2x1c2l2aXR5RW51bVtcIklOQ0xVU0lWRVwiXSA9IDFdID0gXCJJTkNMVVNJVkVcIjtcbn0pKEluY2x1c2l2aXR5RW51bSA9IGV4cG9ydHMuSW5jbHVzaXZpdHlFbnVtIHx8IChleHBvcnRzLkluY2x1c2l2aXR5RW51bSA9IHt9KSk7XG4vKipcbiAqIG1vbnRoRGlmZlxuICpcbiAqIERldGVybWluZSBob3cgZmFyIGFwYXJ0IChpbiBtb250aHMpXG4gKiBAcGFyYW1cdGFcdFx0XHRcdFRoZSBmaXJzdCBkYXRlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbVx0Ylx0XHRcdFx0VGhlIHNlY29uZCBkYXRlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbVx0c2lnbmVkXHRcdFx0SWYgdHJ1ZVxuICogQHBhcmFtXHRpbmNsdXNpdml0eVx0XHRTaG91bGQgdGhpcyBkaWZmIGJlIGluY2x1c2l2ZSBvciBleGNsdXNpdmVcbiAqXG4gKi9cbmZ1bmN0aW9uIG1vbnRoRGlmZihhLCBiLCBzaWduZWQsIGluY2x1c2l2aXR5KSB7XG4gICAgbGV0IG1vbnRoRGlmZjtcbiAgICBsZXQgeWVhckRpZmY7XG4gICAgaWYgKChhID4gYikgfHwgc2lnbmVkKSB7XG4gICAgICAgIG1vbnRoRGlmZiA9IChhLmdldE1vbnRoKCkpIC0gKGIuZ2V0TW9udGgoKSk7IC8vIDMtMTIgPSAtOW1vXG4gICAgICAgIHllYXJEaWZmID0gKGEuZ2V0RnVsbFllYXIoKSkgLSAoYi5nZXRGdWxsWWVhcigpKTsgLy8gMTggLSAxNyA9IDF5clxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbW9udGhEaWZmID0gKGIuZ2V0TW9udGgoKSkgLSAoYS5nZXRNb250aCgpKTtcbiAgICAgICAgeWVhckRpZmYgPSAoYi5nZXRGdWxsWWVhcigpKSAtIChhLmdldEZ1bGxZZWFyKCkpO1xuICAgIH1cbiAgICBsZXQgZGlmZiA9IHllYXJEaWZmICogMTIgKyBtb250aERpZmY7XG4gICAgZGlmZiArPSAraW5jbHVzaXZpdHk7XG4gICAgcmV0dXJuIGRpZmY7IC8vIDEgKiAxMiAtIDkgPT4gM1xufVxuZXhwb3J0cy5tb250aERpZmYgPSBtb250aERpZmY7XG4vKipcbiAqIGdldFRvZGF5XG4gKlxuICogR3JhYnMgdGhlIGN1cnJlbnQgZGF5LCBkZWZhdWx0IHdpdGhvdXQgYW55IHRpbWUgZGF0YVxuICogQHBhcmFtIFx0aW5jbHVkZV90aW1lXHRUcnVlIGlmIHdlIHNob3VsZG4ndCBleGNsdWRlIHRpbWUgZGF0YVxuICogQHJldHVybnMgVG9kYXkncyBkYXRlXG4gKlxuICovXG5mdW5jdGlvbiBnZXRUb2RheShpbmNsdWRlX3RpbWUpIHtcbiAgICA7XG4gICAgbGV0IHJldDtcbiAgICByZXQgPSBuZXcgRGF0ZSgpO1xuICAgIGlmIChpbmNsdWRlX3RpbWUpXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgLy8gQ2xlYXIgb3V0IHRpbWUgZGF0YVxuICAgIHJldCA9IGNsZWFyVGltZUluZm8ocmV0KTtcbiAgICByZXR1cm4gcmV0O1xufVxuZXhwb3J0cy5nZXRUb2RheSA9IGdldFRvZGF5O1xuO1xuLyoqXG4gKiBjbGVhclRpbWVJbmZvXG4gKlxuICogQ2xlYXIgb3V0IGFsbCB0aW1lIGluZm8gYXNzb2NpYXRlZCB3aXRoIHRoZSBkYXRlLCBpbmNsdWRpbmcgdGhlIHRpbWV6b25lXG4gKiBAcGFyYW0gZGF0ZSAtIHRoZSBvcmlnaW5hbCBkYXRlIHRvIGNsZWFyIGRhdGEgZnJvbVxuICogQHJldHVybnMgVGhlIHRpbWUtYWdub3N0aWMgZGF0ZVxuICpcbiAqL1xuZnVuY3Rpb24gY2xlYXJUaW1lSW5mbyhkYXRlLCBjbGVhclRaKSB7XG4gICAgbGV0IGRhdGVTdHIgPSBzaG9ydERhdGUoZGF0ZSk7XG4gICAgbGV0IG91dERhdGU7XG4gICAgaWYgKGNsZWFyVFopIHtcbiAgICAgICAgb3V0RGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHIgKyBcIiAwMDowMFpcIik7IC8vIENvbnZlcnQgdG8gdGhpcyB0aW1lem9uZSBhbmQgdG8gdGhlIHBhcnRpY3VsYXIgZGF0ZVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3V0RGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHIpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0RGF0ZTtcbn1cbmV4cG9ydHMuY2xlYXJUaW1lSW5mbyA9IGNsZWFyVGltZUluZm87XG4vKipcbiAqIGJ1c2luZXNzRGF0ZURpZmZcbiAqXG4gKiBDb21wYXJlcyB0d28gZGF0ZXMgdG8gZGV0ZXJtaW5lIHRoZSBidXNpbmVzcyBkYXkgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZW1cbiAqIEBwYXJhbSBcdGEgXHRcdFx0XHRUaGUgZmlyc3QgZGF0ZSB0byBjb21wYXJlXG4gKiBAcGFyYW0gXHRiIFx0XHRcdFx0VGhlIHNlY29uZCBkYXRlIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSBcdHNpZ25lZCBcdFx0XHRUcnVlIGlmIHdlIHNob3VsZCBjb21wYXJlIHRoZSBkYXRlcyBpbiBvcmRlclxuICogXHRcdFx0XHRcdFx0XHRcdChlLmcuIERhdGUgQSAtIERhdGUgQilcbiAqIEBwYXJhbSBcdGluY2x1ZGVUaW1lIFx0SWYgdHJ1ZSwgYWxzbyBjb21wYXJlcyB0aGUgdGltZVxuICogQHBhcmFtIFx0cmV0dXJuTWlsbGkgXHRSZXR1cm5zIHRoZSBkYXRlIGRpZmZlcmVuY2UgaW4gbWlsbGlzZWNvbmRzXG4gKiBcdFx0XHRcdFx0XHRcdFx0aW5zdGVhZCBvZiBkYXlzXG4gKiBAcmV0dXJucyBUaGUgYnVzaW5lc3MtZGF0ZSBkaWZmIGJldHdlZW4gdGhlIDIgZGF0ZXNcbiAqXG4gKi9cbmZ1bmN0aW9uIGJ1c2luZXNzRGF0ZURpZmYoYSwgYiwgc2lnbmVkLCBpbmNsdWRlVGltZSwgcmV0dXJuTWlsbGkpIHtcbiAgICA7XG4gICAgbGV0IGRpZmY7XG4gICAgbGV0IGRheU9mV2VlaztcbiAgICBsZXQgZGlyO1xuICAgIGxldCBpZHg7XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBzdGFuZGFyZCBkYXRlXG4gICAgZGlmZiA9IGRhdGVEaWZmKGEsIGIsIHNpZ25lZCwgaW5jbHVkZVRpbWUsIHJldHVybk1pbGxpKTtcbiAgICAvLyBHcmFiIHRoZSAybmQgZGF5IG9mIHRoZSB3ZWVrLCBiZWNhdXNlIHdlIHNraXAgdGhlIGZpcnN0IGRheVxuICAgIGRheU9mV2VlayA9IChiID4gYSA/IGEuZ2V0RGF5KCkgOiBiLmdldERheSgpKSArIDE7XG4gICAgZGF5T2ZXZWVrICU9IDc7XG4gICAgaWYgKGRheU9mV2VlayA8IDApIHtcbiAgICAgICAgZGF5T2ZXZWVrID0gNjtcbiAgICB9XG4gICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBkYXlzIGJldHdlZW4gdGhlIHR3byBkYXRlcyBhbmQgcHVsbCBvdXQgYW55IHdlZWtlbmQgZGF5c1xuICAgIGxldCB3ZWVrZW5kRGF5cyA9IDA7XG4gICAgZm9yIChpZHggPSAwOyBpZHggPCBNYXRoLmFicyhkaWZmKTsgaWR4ICs9IDEpIHtcbiAgICAgICAgLy8gSWYgdGhpcyBkYXkgaXMgYSB3ZWVrZW5kLCBhZGQgaXQgdG8gdGhlICMgb2Ygd2Vla2VuZCBkYXlzXG4gICAgICAgIGlmIChkYXlPZldlZWsgPT09IDAgfHwgZGF5T2ZXZWVrID09PSA2KSB7XG4gICAgICAgICAgICB3ZWVrZW5kRGF5cyArPSAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIGdyYWIgdGhlIG5leHQgZGF5LCBiYXNlZCBvbiB0aGUgZGF0ZSBkaXJlY3Rpb25cbiAgICAgICAgZGF5T2ZXZWVrICs9IDE7XG4gICAgICAgIGRheU9mV2VlayAlPSA3O1xuICAgICAgICBpZiAoZGF5T2ZXZWVrIDwgMCkge1xuICAgICAgICAgICAgZGF5T2ZXZWVrID0gNjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBkZXRlcm1pbmUgaWYgd2UgbmVlZCB0byBhZGQgb3Igc3VidHJhY3QgdG8gY2hhbmdlIHRoZSBkYXRlc1xuICAgIGlmIChkaWZmIDwgMCkge1xuICAgICAgICBkaXIgPSAtMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRpciA9IDE7XG4gICAgfVxuICAgIHJldHVybiBkaWZmIC0gKHdlZWtlbmREYXlzICogZGlyKTtcbn1cbmV4cG9ydHMuYnVzaW5lc3NEYXRlRGlmZiA9IGJ1c2luZXNzRGF0ZURpZmY7XG47XG4vKipcbiAqIHNob3J0RGF0ZVxuICpcbiAqIEdldHMgdGhlIGRpc3BsYXkgc3RyaW5nIG9mIHRoZSBkYXRlIGluIGEgc2hvcnQgZm9ybWF0IChNTS9ERC9ZWVlZKVxuICogQHBhcmFtIFx0ZHQgXHRUaGUgZGF0ZSB0byBnZXQgdGhlIHNob3J0IGRhdGUgZm9yXG4gKiBAcmV0dXJuc1x0VGhlIHNob3J0IHZlcnNpb24gb2YgdGhpcyBkYXRlXG4gKlxuICovXG5mdW5jdGlvbiBzaG9ydERhdGUoZHQpIHtcbiAgICA7XG4gICAgaWYgKCFkdCkge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgbGV0IHlyO1xuICAgIHlyID0gZ2V0U2hvcnRZZWFyKGR0KTtcbiAgICByZXR1cm4gKGR0LmdldE1vbnRoKCkgKyAxKSArIFwiL1wiICsgZHQuZ2V0RGF0ZSgpICsgXCIvXCIgKyB5cjtcbn1cbmV4cG9ydHMuc2hvcnREYXRlID0gc2hvcnREYXRlO1xuO1xuLyoqXG4gKiBpbnB1dERhdGVGbXRcbiAqXG4gKiBDb252ZXJ0cyB0aGUgZGF0ZSBpbnRvIHRoZSBmb3JtYXQgdXNlZCBieSBkYXRlIGlucHV0c1xuICogQHBhcmFtIHtEYXRlfSBkdCAtIFRoZSBkYXRlIHRvIGNvbnZlcnRcbiAqXG4gKi9cbmZ1bmN0aW9uIGlucHV0RGF0ZUZtdChkdCkge1xuICAgIDtcbiAgICBsZXQgbTtcbiAgICBsZXQgZDtcbiAgICBsZXQgeTtcbiAgICB5ID0gZHQuZ2V0RnVsbFllYXIoKTtcbiAgICBtID0gKGR0LmdldE1vbnRoKCkgKyAxKTtcbiAgICBpZiAobSA8IDEwKVxuICAgICAgICBtID0gXCIwXCIgKyBtO1xuICAgIGQgPSArZHQuZ2V0RGF0ZSgpO1xuICAgIGlmIChkIDwgMTApXG4gICAgICAgIGQgPSBcIjBcIiArIGQ7XG4gICAgcmV0dXJuIChkdC5nZXRGdWxsWWVhcigpICsgXCItXCIgKyBtICsgXCItXCIgKyBkKTtcbn1cbmV4cG9ydHMuaW5wdXREYXRlRm10ID0gaW5wdXREYXRlRm10O1xuO1xuLy8gSW5wdXRUb0RhdGVcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqXG4gKiBUYWtlcyBhIHN0cmluZyByZXR1cm5lZCBieSBhbiBpbnB1dCBmaWVsZCBmb3IgYSBkYXRlIGFuZCBjb252ZXJ0cyBpdCB0byBhIEpTIGRhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBpRHQgLSBUaGUgZGF0ZSBzdHJpbmcgdG8gY29udmVydCAoaWYgYXZhaWxhYmxlKVxuICogQHBhcmFtIHtzdHJpbmd9IGlUaW1lIC0gVGhlIHRpbWUgc3RyaW5nIHRvIGNvbnZlcnQgKGlmIGF2YWlsYWJsZSlcbiAqL1xuZnVuY3Rpb24gaW5wdXRUb0RhdGUoaUR0LCBpVGltZSkge1xuICAgIGxldCBvdXREYXRlO1xuICAgIC8vIEhhbmRsZSB0aGUgaW5wdXQgZGF0ZSBzdHJpbmdcbiAgICBpZiAoaUR0KSB7XG4gICAgICAgIGxldCBkdEFyciA9IGlEdC5zcGxpdChcIi1cIik7XG4gICAgICAgIG91dERhdGUgPSBuZXcgRGF0ZSgrZHRBcnJbMF0sICtkdEFyclsxXSAtIDEsICtkdEFyclsyXSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlUaW1lKSB7XG4gICAgICAgIG91dERhdGUgPSBnZXRUb2RheSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3V0RGF0ZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBvdXREYXRlO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgdGhlIGlucHV0IHRpbWUgc3RyaW5nXG4gICAgaWYgKGlUaW1lKSB7XG4gICAgICAgIGxldCB0aW1lQXJyID0gaVRpbWUuc3BsaXQoXCI6XCIpO1xuICAgICAgICBvdXREYXRlLnNldEhvdXJzKCt0aW1lQXJyWzBdKTtcbiAgICAgICAgb3V0RGF0ZS5zZXRNaW51dGVzKCt0aW1lQXJyWzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dERhdGU7XG59XG5leHBvcnRzLmlucHV0VG9EYXRlID0gaW5wdXRUb0RhdGU7XG47XG4vKipcbiAqIEdldHMgdGhlIGRpc3BsYXkgc3RyaW5nIG9mIHRoZSB0aW1lIGluIGEgc2hvcnQgZm9ybWF0IChISDpNTSlcbiAqIEBwYXJhbSB7RGF0ZX0gZHQgLSBUaGUgZGF0ZSB0byBleHRyYWN0IHRoZSB0aW1lIGZyb21cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gd2l0aEV4dHJhIC0gSWYgdHJ1ZSwgd2lsbCBkaXNwbGF5IGFzIEhIOk1NIEFNL1BNIGluc3RlYWQgb2YgbWlsaXRhcnkgdGltZVxuICovXG5mdW5jdGlvbiBzaG9ydFRpbWUoZHQsIHdpdGhFeHRyYSkge1xuICAgIDtcbiAgICBsZXQgbWluO1xuICAgIGxldCBtaW5fc3RyO1xuICAgIGxldCBob3VycztcbiAgICBsZXQgaGFsZjtcbiAgICAvL0dldCB0aGUgbWludXRlcyB2YWx1ZSBmb3IgdGhlIGN1cnJlbnQgZGF0ZVxuICAgIG1pbiA9ICtkdC5nZXRNaW51dGVzKCk7XG4gICAgaG91cnMgPSArZHQuZ2V0SG91cnMoKTtcbiAgICBoYWxmID0gXCJcIjtcbiAgICAvL1dlIG5lZWQgdG8gcGFkIG1pbnV0ZXMgdG8gZ2V0IGEgcmVjb2duaXphYmxlIHRpbWUgZm9ybWF0XG4gICAgaWYgKG1pbiA8IDEwKSB7XG4gICAgICAgIG1pbl9zdHIgPSBcIjBcIiArIG1pbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG1pbl9zdHIgPSBtaW4udG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKHdpdGhFeHRyYSkge1xuICAgICAgICBoYWxmID0gXCIgQU1cIjtcbiAgICAgICAgaWYgKGhvdXJzID49IDEyKVxuICAgICAgICAgICAgaGFsZiA9IFwiIFBNXCI7XG4gICAgICAgIGlmIChob3VycyA+IDEyKVxuICAgICAgICAgICAgaG91cnMgLT0gMTI7XG4gICAgICAgIGlmIChob3VycyA9PT0gMCkge1xuICAgICAgICAgICAgaG91cnMgPSAxMjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvL1JldHVybiB1bnBhZGRlZCBob3VycyAoYnV0IGluIG1pbGl0YXJ5IHRpbWUpIGFuZCBwYWRkZWQgbWludXRlcy5cbiAgICByZXR1cm4gaG91cnMgKyBcIjpcIiArIG1pbl9zdHIgKyBoYWxmO1xufVxuZXhwb3J0cy5zaG9ydFRpbWUgPSBzaG9ydFRpbWU7XG47XG5mdW5jdGlvbiBpbnB1dFRpbWVGbXQodGltZSwgaW5jbHVkZVNlY29uZHMpIHtcbiAgICBsZXQgb3V0ID0gW107XG4gICAgbGV0IGhvdXJzID0gdGltZS5nZXRIb3VycygpO1xuICAgIG91dC5wdXNoKG51bWJlcnNfMS5wYWRUb0RpZ2l0cyhob3VycywgMikpO1xuICAgIGxldCBtaW51dGVzID0gdGltZS5nZXRNaW51dGVzKCk7XG4gICAgb3V0LnB1c2gobnVtYmVyc18xLnBhZFRvRGlnaXRzKG1pbnV0ZXMsIDIpKTtcbiAgICBpZiAoaW5jbHVkZVNlY29uZHMpIHtcbiAgICAgICAgbGV0IHNlY29uZHMgPSB0aW1lLmdldFNlY29uZHMoKTtcbiAgICAgICAgb3V0LnB1c2gobnVtYmVyc18xLnBhZFRvRGlnaXRzKHNlY29uZHMsIDIpKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dC5qb2luKFwiOlwiKTtcbn1cbmV4cG9ydHMuaW5wdXRUaW1lRm10ID0gaW5wdXRUaW1lRm10O1xuLyoqXG4gKiBHZXRzIHRoZSBkaXNwbGF5IHN0cmluZyBmb3IgYSBkYXRlIGFuZCB0aW1lXG4gKiBAcGFyYW0ge0RhdGV9IGR0IC0gVGhlIGRhdGUgdG8gZXh0cmFjdCB0aGUgZm9ybWF0dGVkIHN0cmluZyBmcm9tXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHdpdGhFeHRyYSAtIElmIHRydWUsIHVzZXMgQU0vUE0gZm9ybWF0IGluc3RlYWQgb2YgbWlsaXRhcnkgdGltZS5cbiAqL1xuZnVuY3Rpb24gc2hvcnREYXRlVGltZShkdCwgd2l0aF9leHRyYSkge1xuICAgIHJldHVybiBzaG9ydERhdGUoZHQpICsgXCIgXCIgKyBzaG9ydFRpbWUoZHQsIHdpdGhfZXh0cmEpO1xufVxuZXhwb3J0cy5zaG9ydERhdGVUaW1lID0gc2hvcnREYXRlVGltZTtcbjtcbmZ1bmN0aW9uIHN0b3B3YXRjaERpc3BsYXkobWlsbGksIG5vTGVhZGluZ1plcm9zLCBub0JsYW5rcykge1xuICAgIGxldCBzZWNvbmRzO1xuICAgIGxldCBtaW51dGVzO1xuICAgIGxldCBob3VycztcbiAgICBsZXQgZGF5cztcbiAgICBsZXQgYXJyO1xuICAgIGxldCBzZWNfc3RyO1xuICAgIGxldCBtaW5fc3RyO1xuICAgIGxldCBocl9zdHI7XG4gICAgLy8gQWRkIHRoZSBsZWFkaW5nIHplcm9zIGlmIGFwcHJvcHJpYXRlXG4gICAgaWYgKCFub0xlYWRpbmdaZXJvcykge1xuICAgICAgICBzZWNfc3RyID0gc3RyaW5nc18xLmFkZExlYWRpbmdaZXJvZXMoMiwgc2Vjb25kcyk7XG4gICAgICAgIG1pbl9zdHIgPSBzdHJpbmdzXzEuYWRkTGVhZGluZ1plcm9lcygyLCBtaW51dGVzKTtcbiAgICAgICAgaHJfc3RyID0gc3RyaW5nc18xLmFkZExlYWRpbmdaZXJvZXMoMiwgaG91cnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2VjX3N0ciA9IHNlY29uZHMudG9TdHJpbmcoKTtcbiAgICAgICAgbWluX3N0ciA9IG1pbnV0ZXMudG9TdHJpbmcoKTtcbiAgICAgICAgaHJfc3RyID0gaG91cnMudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIGRheXMgKyBcIkQgIFwiICsgaHJfc3RyICsgXCI6XCIgKyBtaW5fc3RyICsgXCI6XCIgKyBzZWNfc3RyICsgXCIgJ1wiICsgbWlsbGk7XG59XG5leHBvcnRzLnN0b3B3YXRjaERpc3BsYXkgPSBzdG9wd2F0Y2hEaXNwbGF5O1xuO1xuZnVuY3Rpb24gX3JldHJpZXZlQ291bnRzRnJvbU1pbGxpKG1pbGxpKSB7XG4gICAgbGV0IG91dCA9IHt9O1xuICAgIGxldCByZW1haW5pbmcgPSBtaWxsaTtcbiAgICBvdXQuZGF5cyA9IE1hdGguZmxvb3IocmVtYWluaW5nIC8gKDI0ICogNjAgKiA2MCAqIDEwMDApKTtcbiAgICByZW1haW5pbmcgLT0gKG91dC5kYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCk7XG4gICAgb3V0LmhvdXJzID0gTWF0aC5mbG9vcihyZW1haW5pbmcgLyAoNjAgKiA2MCAqIDEwMDApKTtcbiAgICByZW1haW5pbmcgLT0gKG91dC5ob3VycyAqIDYwICogNjAgKiAxMDAwKTtcbiAgICBvdXQubWludXRlcyA9IE1hdGguZmxvb3IocmVtYWluaW5nIC8gKDYwICogMTAwMCkpO1xuICAgIHJlbWFpbmluZyAtPSAob3V0Lm1pbnV0ZXMgKiA2MCAqIDEwMDApO1xuICAgIG91dC5zZWNvbmRzID0gTWF0aC5mbG9vcihyZW1haW5pbmcgLyAxMDAwKTtcbiAgICByZW1haW5pbmcgLT0gKG91dC5zZWNvbmRzICogMTAwMCk7XG4gICAgb3V0Lm1pbGxpc2Vjb25kcyA9IHJlbWFpbmluZztcbiAgICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gdXBkYXRlZFN0b3B3YXRjaERpc3BsYXkobWlsbGksIG9wdGlvbnMpIHtcbiAgICBsZXQgZGlmZnMgPSBfcmV0cmlldmVDb3VudHNGcm9tTWlsbGkobWlsbGkpO1xuICAgIGxldCBvdXQgPSBbXTtcbiAgICBpZiAoZGlmZnMuZGF5cykge1xuICAgICAgICBvdXQucHVzaChkaWZmcy5kYXlzICsgXCIgZGF5c1wiKTtcbiAgICB9XG4gICAgaWYgKGRpZmZzLmhvdXJzKSB7XG4gICAgICAgIG91dC5wdXNoKGRpZmZzLmhvdXJzICsgXCIgaG91cnNcIik7XG4gICAgfVxuICAgIGlmIChkaWZmcy5taW51dGVzKSB7XG4gICAgICAgIG91dC5wdXNoKGRpZmZzLm1pbnV0ZXMgKyBcIiBtaW51dGVzXCIpO1xuICAgIH1cbiAgICBpZiAoZGlmZnMuc2Vjb25kcykge1xuICAgICAgICBvdXQucHVzaChkaWZmcy5zZWNvbmRzICsgXCIgc2Vjb25kc1wiKTtcbiAgICB9XG4gICAgaWYgKGRpZmZzLm1pbGxpc2Vjb25kcyAmJiBvcHRpb25zLnNob3dNaWxsaSkge1xuICAgICAgICBvdXQucHVzaChkaWZmcy5taWxsaXNlY29uZHMgKyBcIiBtc1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dC5qb2luKFwiIFwiKTtcbn1cbmV4cG9ydHMudXBkYXRlZFN0b3B3YXRjaERpc3BsYXkgPSB1cGRhdGVkU3RvcHdhdGNoRGlzcGxheTtcbmZ1bmN0aW9uIGFkZFRvRGF0ZShkYXRlLCBjb3VudHMpIHtcbiAgICBpZiAoY291bnRzLm1pbGxpc2Vjb25kcykge1xuICAgICAgICBkYXRlLnNldE1pbGxpc2Vjb25kcyhkYXRlLmdldE1pbGxpc2Vjb25kcygpICsgY291bnRzLm1pbGxpc2Vjb25kcyk7XG4gICAgfVxuICAgIGlmIChjb3VudHMuc2Vjb25kcykge1xuICAgICAgICBkYXRlLnNldFNlY29uZHMoZGF0ZS5nZXRTZWNvbmRzKCkgKyBjb3VudHMuc2Vjb25kcyk7XG4gICAgfVxuICAgIGlmIChjb3VudHMubWludXRlcykge1xuICAgICAgICBkYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgKyBjb3VudHMubWludXRlcyk7XG4gICAgfVxuICAgIGlmIChjb3VudHMuaG91cnMpIHtcbiAgICAgICAgZGF0ZS5zZXRIb3VycyhkYXRlLmdldEhvdXJzKCkgKyBjb3VudHMuaG91cnMpO1xuICAgIH1cbiAgICBpZiAoY291bnRzLmRheXMpIHtcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgY291bnRzLmRheXMpO1xuICAgIH1cbiAgICBpZiAoY291bnRzLm1vbnRocykge1xuICAgICAgICBkYXRlLnNldE1vbnRoKGRhdGUuZ2V0TW9udGgoKSArIGNvdW50cy5tb250aHMpO1xuICAgIH1cbiAgICBpZiAoY291bnRzLnllYXJzKSB7XG4gICAgICAgIGRhdGUuc2V0RnVsbFllYXIoZGF0ZS5nZXRGdWxsWWVhcigpICsgY291bnRzLnllYXJzKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGU7XG59XG5leHBvcnRzLmFkZFRvRGF0ZSA9IGFkZFRvRGF0ZTtcbjtcbi8qKlxuICogZ2V0cyB0aGUgbmFtZSBvZiB0aGUgbW9udGggZ2l2ZW4gYSBwYXJ0aWN1bGFyIGRhdGVcbiAqIEBwYXJhbSBkYXRlIC0gdGhlIGRhdGUgdG8gZ2V0IHRoZSBtb250aCBmcm9tXG4gKiBAcGFyYW0gW3Nob3J0XSAtIElmIHRydWUsIHJldHVybnMgdGhlIHNob3J0IHZlcnNpb24gb2YgdGhlIG1vbnRoIG5hbWVcbiAqIEByZXR1cm5zIHN0cmluZyBvZiBtb250aCBuYW1lXG4gKi9cbmZ1bmN0aW9uIGdldE1vbnRoTmFtZShkYXRlLCBzaG9ydCkge1xuICAgIHN3aXRjaCAoZGF0ZS5nZXRNb250aCgpKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGlmIChzaG9ydClcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJKYW5cIjtcbiAgICAgICAgICAgIHJldHVybiBcIkphbnVhcnlcIjtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIkZlYlwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiRmVicnVhcnlcIjtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIk1hclwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiTWFyY2hcIjtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIkFwclwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiQXByaWxcIjtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgcmV0dXJuIFwiTWF5XCI7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIGlmIChzaG9ydClcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJKdW5cIjtcbiAgICAgICAgICAgIHJldHVybiBcIkp1bmVcIjtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIkp1bFwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiSnVseVwiO1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICBpZiAoc2hvcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiQXVnXCI7XG4gICAgICAgICAgICByZXR1cm4gXCJBdWd1c3RcIjtcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIlNlcHRcIjtcbiAgICAgICAgICAgIHJldHVybiBcIlNlcHRlbWJlclwiO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICBpZiAoc2hvcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiT2N0XCI7XG4gICAgICAgICAgICByZXR1cm4gXCJPY3RvYmVyXCI7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICBpZiAoc2hvcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiTm92XCI7XG4gICAgICAgICAgICByZXR1cm4gXCJOb3ZlbWJlclwiO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIkRlY1wiO1xuICAgICAgICAgICAgcmV0dXJuIFwiRGVjZW1iZXJcIjtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG59XG5leHBvcnRzLmdldE1vbnRoTmFtZSA9IGdldE1vbnRoTmFtZTtcbjtcbi8qKlxuICogZ2V0RGF5T2ZXZWVrXG4gKlxuICogR2V0IHRoZSBuYW1lIG9mIGEgZGF5IG9mIHRoZSB3ZWVrXG4gKiBAcGFyYW0gXHRkYXRlIFx0dGhlIGRhdGUgdG8gZ3JhYiB0aGUgZC5vLncuIGZyb21cbiAqIEBwYXJhbSBcdHNob3J0IFx0SWYgdHJ1ZSwgcmV0dXJucyB0aGUgc2hvcnQgdmVyc2lvbiBvZiB0aGUgbW9udGggbmFtZVxuICogQHJldHVybnMgc3RyaW5nIG9mIGRheS1vZi13ZWVrIG5hbWVcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldERheU9mV2VlayhkYXRlLCBzaG9ydCkge1xuICAgIDtcbiAgICBzd2l0Y2ggKGRhdGUuZ2V0RGF5KCkpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIlN1blwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiU3VuZGF5XCI7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGlmIChzaG9ydClcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJNb25cIjtcbiAgICAgICAgICAgIHJldHVybiBcIk1vbmRheVwiO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBpZiAoc2hvcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiVHVlc1wiO1xuICAgICAgICAgICAgcmV0dXJuIFwiVHVlc2RheVwiO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBpZiAoc2hvcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiV2VkXCI7XG4gICAgICAgICAgICByZXR1cm4gXCJXZWRuZXNkYXlcIjtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIlRodXJzXCI7XG4gICAgICAgICAgICByZXR1cm4gXCJUaHVyc2RheVwiO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICBpZiAoc2hvcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiRnJpXCI7XG4gICAgICAgICAgICByZXR1cm4gXCJGcmlkYXlcIjtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgaWYgKHNob3J0KVxuICAgICAgICAgICAgICAgIHJldHVybiBcIlNhdFwiO1xuICAgICAgICAgICAgcmV0dXJuIFwiU2F0dXJkYXlcIjtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG59XG5leHBvcnRzLmdldERheU9mV2VlayA9IGdldERheU9mV2VlaztcbjtcbmZ1bmN0aW9uIGdldExlbmd0aE9mTW9udGhJbkRheXMoZGF0ZSkge1xuICAgIGlmICghZGF0ZSkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGxldCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICBzd2l0Y2ggKG1vbnRoKSB7XG4gICAgICAgIGNhc2UgMDogLy8gSkFOVUFSWVxuICAgICAgICBjYXNlIDI6IC8vIE1BUkNIXG4gICAgICAgIGNhc2UgNDogLy8gTUFZXG4gICAgICAgIGNhc2UgNjogLy8gSlVMWVxuICAgICAgICBjYXNlIDc6IC8vIEFVR1VTVFxuICAgICAgICBjYXNlIDk6IC8vIE9DVE9CRVJcbiAgICAgICAgY2FzZSAxMTogLy8gREVDRU1CRVJcbiAgICAgICAgICAgIHJldHVybiAzMTtcbiAgICAgICAgY2FzZSAxOiAvLyBGRUJSVUFSWVxuICAgICAgICAgICAgaWYgKGlzTGVhcFllYXIoZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMjk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMjg7XG4gICAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gMzA7XG4gICAgfVxufVxuZXhwb3J0cy5nZXRMZW5ndGhPZk1vbnRoSW5EYXlzID0gZ2V0TGVuZ3RoT2ZNb250aEluRGF5cztcbmZ1bmN0aW9uIGlzTGVhcFllYXIoZGF0ZSkge1xuICAgIGlmICghZGF0ZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIC8vIGxlYXAgeWVhcnMgYXJlIGFsd2F5cyBkaXZpc2JsZSBieSA0XG4gICAgaWYgKHllYXIgJSA0ICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gYnV0IG9ubHkgY2VudHVyeSBtYXJrZXJzIHRoYXQgYXJlIGRpdmlzaWJsZSBieSA0MDAgYXJlIGxlYXAgeWVhcnNcbiAgICBpZiAoKHllYXIgJSAxMDAgPT09IDApICYmICh5ZWFyICUgNDAwICE9PSAwKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy5pc0xlYXBZZWFyID0gaXNMZWFwWWVhcjtcbi8qKiBncmFiIHRoZSBzaG9ydCB2ZXJzaW9uIG9mIHRoZSB5ZWFyICovXG5mdW5jdGlvbiBnZXRTaG9ydFllYXIoZGF0ZSkge1xuICAgIHJldHVybiAoK2RhdGUuZ2V0RnVsbFllYXIoKSAlIDEwMCk7XG59XG5leHBvcnRzLmdldFNob3J0WWVhciA9IGdldFNob3J0WWVhcjtcbmZ1bmN0aW9uIGlzV2Vla2VuZChkYXRlKSB7XG4gICAgbGV0IGRheU9mV2VlayA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgaWYgKGRheU9mV2VlayA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIFNVTkRBWVxuICAgIGlmIChkYXlPZldlZWsgPT09IDYpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSAvLyBTQVRVUkRBWVxuICAgIHJldHVybiBmYWxzZTsgLy8gRVZFUllUSElORyBFTFNFXG59XG5leHBvcnRzLmlzV2Vla2VuZCA9IGlzV2Vla2VuZDtcbmZ1bmN0aW9uIGlzVG9kYXkoZGF0ZSkge1xuICAgIGxldCB0b2RheSA9IGdldFRvZGF5KCk7XG4gICAgbGV0IGNsb25lRGF0ZSA9IGNsZWFyVGltZUluZm8oZGF0ZSk7XG4gICAgcmV0dXJuIGlzU2FtZURhdGUodG9kYXksIGNsb25lRGF0ZSk7XG59XG5leHBvcnRzLmlzVG9kYXkgPSBpc1RvZGF5O1xuZnVuY3Rpb24gaXNTYW1lRGF0ZShkYXRlQSwgZGF0ZUIpIHtcbiAgICBpZiAoc2hvcnREYXRlKGRhdGVBKSA9PT0gc2hvcnREYXRlKGRhdGVCKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5pc1NhbWVEYXRlID0gaXNTYW1lRGF0ZTtcbi8qKlxuICogZ2V0RGlzcGxheUR1cmF0aW9uXG4gKlxuICogQ3JlYXRlIGEgZGlzcGxheSBzdHJpbmcgZm9yIGEgdGltZSBkdXJhdGlvblxuICogQHBhcmFtIFx0Y291bnRzXHRUaGUgZHVyYXRpb24gdG8gc3RyaW5naWZ5XG4gKiBAcmV0dXJuc1x0VGhlIGRpc3BsYXkgZHVyYXRpb24gc3RyaW5nXG4gKlxuICovXG5mdW5jdGlvbiBnZXREaXNwbGF5RHVyYXRpb24oY291bnRzKSB7XG4gICAgLy8gdXBkYXRlIHVwIHRvIHRoZSBoaWdoZXN0IGF2YWlsYWJsZSByYW5nZSBmb3IgZGF0ZXNcbiAgICBfdXBkYXRlRGF0ZURpZmZlcmVuY2VzKDEwMDAsIGNvdW50cywgXCJtaWxsaXNlY29uZHNcIiwgXCJzZWNvbmRzXCIpO1xuICAgIF91cGRhdGVEYXRlRGlmZmVyZW5jZXMoNjAsIGNvdW50cywgXCJzZWNvbmRzXCIsIFwibWludXRlc1wiKTtcbiAgICBfdXBkYXRlRGF0ZURpZmZlcmVuY2VzKDYwLCBjb3VudHMsIFwibWludXRlc1wiLCBcImhvdXJzXCIpO1xuICAgIF91cGRhdGVEYXRlRGlmZmVyZW5jZXMoMjQsIGNvdW50cywgXCJob3Vyc1wiLCBcImRheXNcIik7XG4gICAgX3VwZGF0ZURhdGVEaWZmZXJlbmNlcygzMCwgY291bnRzLCBcImRheXNcIiwgXCJtb250aHNcIik7XG4gICAgX3VwZGF0ZURhdGVEaWZmZXJlbmNlcygxMiwgY291bnRzLCBcIm1vbnRoc1wiLCBcInllYXJzXCIpO1xuICAgIC8vIGNyZWF0ZSB0aGUgc3RyaW5nIGJhc2VkIG9uIHRoZSBjb3VudHNcbiAgICBsZXQgb3V0ID0gW107XG4gICAgaWYgKGNvdW50cy55ZWFycykge1xuICAgICAgICBvdXQucHVzaChfY3JlYXRlUGx1cmFsU3RyaW5nKGNvdW50cy55ZWFycywgXCJ5ZWFyXCIpKTtcbiAgICB9XG4gICAgaWYgKGNvdW50cy5tb250aHMpIHtcbiAgICAgICAgb3V0LnB1c2goX2NyZWF0ZVBsdXJhbFN0cmluZyhjb3VudHMubW9udGhzLCBcIm1vbnRoXCIpKTtcbiAgICB9XG4gICAgaWYgKGNvdW50cy5kYXlzKSB7XG4gICAgICAgIG91dC5wdXNoKF9jcmVhdGVQbHVyYWxTdHJpbmcoY291bnRzLmRheXMsIFwiZGF5XCIpKTtcbiAgICB9XG4gICAgaWYgKGNvdW50cy5ob3Vycykge1xuICAgICAgICBvdXQucHVzaChfY3JlYXRlUGx1cmFsU3RyaW5nKGNvdW50cy5ob3VycywgXCJob3VyXCIpKTtcbiAgICB9XG4gICAgaWYgKGNvdW50cy5taW51dGVzKSB7XG4gICAgICAgIG91dC5wdXNoKF9jcmVhdGVQbHVyYWxTdHJpbmcoY291bnRzLm1pbnV0ZXMsIFwibWludXRlXCIpKTtcbiAgICB9XG4gICAgaWYgKGNvdW50cy5zZWNvbmRzKSB7XG4gICAgICAgIG91dC5wdXNoKF9jcmVhdGVQbHVyYWxTdHJpbmcoY291bnRzLnNlY29uZHMsIFwic2Vjb25kXCIpKTtcbiAgICB9XG4gICAgaWYgKGNvdW50cy5taWxsaXNlY29uZHMpIHtcbiAgICAgICAgb3V0LnB1c2goX2NyZWF0ZVBsdXJhbFN0cmluZyhjb3VudHMubWlsbGlzZWNvbmRzLCBcIm1pbGxpc2Vjb25kXCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dC5qb2luKFwiIFwiKTtcbn1cbmV4cG9ydHMuZ2V0RGlzcGxheUR1cmF0aW9uID0gZ2V0RGlzcGxheUR1cmF0aW9uO1xuZnVuY3Rpb24gX3VwZGF0ZURhdGVEaWZmZXJlbmNlcyhkaXZpc29yLCBvdXQsIHN0YXJ0S2V5LCBlbmRLZXkpIHtcbiAgICBpZiAoIW91dFtzdGFydEtleV0pIHtcbiAgICAgICAgb3V0W3N0YXJ0S2V5XSA9IDA7XG4gICAgfVxuICAgIGlmICghb3V0W2VuZEtleV0pIHtcbiAgICAgICAgb3V0W2VuZEtleV0gPSAwO1xuICAgIH1cbiAgICBsZXQgZGl2aWRlbmQgPSBvdXRbc3RhcnRLZXldO1xuICAgIGxldCByZW1haW5kZXIgPSBkaXZpZGVuZCAlIGRpdmlzb3I7XG4gICAgbGV0IHF1b3RpZW50ID0gTWF0aC5mbG9vcihkaXZpZGVuZCAvIGRpdmlzb3IpO1xuICAgIG91dFtzdGFydEtleV0gPSByZW1haW5kZXI7XG4gICAgb3V0W2VuZEtleV0gKz0gcXVvdGllbnQ7XG4gICAgcmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIF9jcmVhdGVQbHVyYWxTdHJpbmcoYW1vdW50LCBzaW5ndWxhciwgcGx1cmFsKSB7XG4gICAgaWYgKGFtb3VudCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gYW1vdW50ICsgXCIgXCIgKyBzaW5ndWxhcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghcGx1cmFsKSB7XG4gICAgICAgICAgICBwbHVyYWwgPSBzaW5ndWxhciArIFwic1wiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbW91bnQgKyBcIiBcIiArIHBsdXJhbDtcbiAgICB9XG59XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG5hdmlnYXRlXzEgPSByZXF1aXJlKFwiLi9uYXZpZ2F0ZVwiKTtcbmNvbnN0IGZhbHNleV8xID0gcmVxdWlyZShcIi4uL3R5cGVHdWFyZHMvZmFsc2V5XCIpO1xuLyoqXG4gKiBjb21iaW5lT2JqZWN0c1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVGFrZSB0d28gc2VwYXJhdGUgb2JqZWN0cyBhbmQgY29tYmluZSB0aGVtIGludG8gb25lXG4gKlxuICogQHBhcmFtICAgb2JqQSAgICBGaXJzdCBvYmplY3QgdG8gY29tYmluZVxuICogQHBhcmFtICAgb2JqQiAgICBTZWNvbmQgb2JqZWN0IHRvIGNvbWJpbmU7IHdpbGwgb3ZlcnJpZGUgQSBpbiBjYXNlcyBvZiBjb25mbGljdFxuICogQHBhcmFtICAgZGVlcCAgICBUcnVlIGlmIHRoaXMgc2hvdWxkIGJlIHJlY3Vyc2l2ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBjb21iaW5lZCBvYmplY3RcbiAqL1xuZnVuY3Rpb24gY29tYmluZU9iamVjdHMob2JqQSwgb2JqQiwgZGVlcCkge1xuICAgIGxldCByZXQ7XG4gICAgbGV0IHRtcDtcbiAgICBsZXQgbG9vcFRocnU7XG4gICAgcmV0ID0gb2JqQSB8fCB7fTtcbiAgICAvLyBXcml0ZSB0aGUgYXJyYXkgY29waWVzIGZvciBCXG4gICAgaWYgKG9iakIpIHtcbiAgICAgICAgX2xvb3BUaHJ1KG9iakIsIHJldCwgZGVlcCk7XG4gICAgfVxuICAgIC8vIFJldHVybiB0aGUgYXBwcm9wcmlhdGUgb3V0cHV0IGFycmF5XG4gICAgcmV0dXJuIHJldDtcbn1cbmV4cG9ydHMuY29tYmluZU9iamVjdHMgPSBjb21iaW5lT2JqZWN0cztcbi8qKlxuICogX2xvb3BUaHJ1XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb21iaW5lIGFuIG9iamVjdCBpbnRvIGFuIG91dHB1dCBhcnJheVxuICpcbiAqIEBwYXJhbSAgIG9ialRvQ29tYmluZSAgVGhlIG9iamVjdCB0byBtZXJnZSBpbnRvIHRoZSBvdXRwdXRcbiAqIEBwYXJhbSAgIG91dHB1dE9iaiAgICAgVGhlIG9iamVjdCB0byBvdXRwdXRcbiAqIEBwYXJhbSAgIGRlZXAgICAgICAgICAgVHJ1ZSBpZiB3ZSBzaG91bGQgcmVjdXJzZSBvbiB0aGlzIG9iamVjdFxuICpcbiAqIEByZXR1cm5zIFRoZSBtZXJnZWQgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIF9sb29wVGhydShvYmpUb0NvbWJpbmUsIG91dHB1dE9iaiwgZGVlcCkge1xuICAgIGlmICghb2JqVG9Db21iaW5lKSB7XG4gICAgICAgIHJldHVybiBvdXRwdXRPYmo7XG4gICAgfVxuICAgIGlmIChvYmpUb0NvbWJpbmUuX19wcm90b19fKSB7XG4gICAgICAgIG91dHB1dE9iai5fX3Byb3RvX18gPSBPYmplY3QuY3JlYXRlKG9ialRvQ29tYmluZS5fX3Byb3RvX18pO1xuICAgIH1cbiAgICAvLyBMb29wIHRocnUgZWFjaCBrZXkgaW4gdGhlIGFycmF5XG4gICAgbmF2aWdhdGVfMS5tYXAob2JqVG9Db21iaW5lLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAvLyBza2lwIGFueSB2YWx1ZXMgdGhhdCBhcmVuJ3Qgc2V0XG4gICAgICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBkb2luZyBhIGRlZXAgY29weSwgbWFrZSBzdXJlIHdlIHJlY3Vyc2VcbiAgICAgICAgaWYgKGRlZXAgJiYgKHR5cGVvZiAodmFsdWUpID09PSBcIm9iamVjdFwiKSkge1xuICAgICAgICAgICAgbGV0IHRtcCA9IG91dHB1dE9ialtrZXldO1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUncyBub3RoaW5nIHRvIG1lcmdlLCBqdXN0IHRha2UgdGhlIGV4aXN0aW5nIG9iamVjdFxuICAgICAgICAgICAgaWYgKCF0bXApIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRPYmpba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRtcCA9IGNvbWJpbmVPYmplY3RzKHRtcCwgdmFsdWUsIGRlZXApO1xuICAgICAgICAgICAgb3V0cHV0T2JqW2tleV0gPSB0bXA7XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UgY29weSBkaXJlY3RseVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0T2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiByZWNvbmNpbGVPcHRpb25zXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBUYWtlcyBpbiB0d28gZGlmZmVyZW50IG9wdGlvbiBvYmplY3RzICYgcmVjb25jaWxlcyB0aGUgb3B0aW9ucyBiZXR3ZWVuIHRoZW1cbiAqXG4gKiBAcGFyYW0gICBvcHRpb25zICAgIFRoZSB1c2VyLWRlZmluZWQgc2V0IG9mIG9wdGlvblxuICogQHBhcmFtICAgZGVmYXVsdHMgICBUaGUgZGVmYXVsdCBvcHRpb25zXG4gKlxuICogQHJldHVybnMgVGhlIHJlY29uY2lsZWQgb3B0aW9uIGxpc3RcbiAqL1xuZnVuY3Rpb24gcmVjb25jaWxlT3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0cykge1xuICAgIGxldCBrZXk7XG4gICAgbGV0IG9wdDtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICA7XG4gICAgZm9yIChrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIG9wdCA9IG9wdGlvbnNba2V5XTtcbiAgICAgICAgICAgIGlmICgob3B0ID09PSB1bmRlZmluZWQpIHx8IChvcHQgPT09IG51bGwpKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uc1trZXldID0gZGVmYXVsdHNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3B0aW9ucztcbn1cbmV4cG9ydHMucmVjb25jaWxlT3B0aW9ucyA9IHJlY29uY2lsZU9wdGlvbnM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRyYXdhYmxlXzEgPSByZXF1aXJlKFwiLi4vZHJhd2FibGUvZHJhd2FibGVcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCBzaW1wbGVHdWFyZF8xID0gcmVxdWlyZShcIi4uL3R5cGVHdWFyZHMvc2ltcGxlR3VhcmRcIik7XG5jb25zdCBfdHlwZWd1YXJkc18xID0gcmVxdWlyZShcIi4uL2RyYXdhYmxlL190eXBlZ3VhcmRzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIFBvcHVwXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBHZW5lcmljIGNsYXNzIHRvIHNob3cgZGF0YSBpbiBhIHBvcHVwIGZvcm1cbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgUG9wdXAgZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBBIFBPUFVQIEZPUk1cbiAgICAvKipcbiAgICAgKiBQb3B1cFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGVzIGEgbmV3IHBvcHVwIGZvcm1cbiAgICAgKiBAcGFyYW0gXHRvYmogXHRJZiBpbmNsdWRlZCwgY29udGFpbnMgaW5mbyBvbiBob3cgdG8gY3JlYXRlIHRoaXMgcG9wdXBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvYmopIHtcbiAgICAgICAgaWYgKCFvYmopIHtcbiAgICAgICAgICAgIG9iaiA9IHsgY2xzOiBcInBvcHVwXCIgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5jbHMgPSAob2JqLmNscyB8fCBcIlwiKSArIFwiIHBvcHVwXCI7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIob2JqKTtcbiAgICAgICAgaWYgKG9iai50aGVtZUNvbG9yKSB7XG4gICAgICAgICAgICB0aGlzLnNldFRoZW1lQ29sb3IoXCJwb3B1cFRoZW1lXCIsIG9iai50aGVtZUNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VGhlbWVDb2xvcihcInBvcHVwVGhlbWVcIiwgXCIjMDZGXCIsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFRoZW1lQ29sb3IoY29sb3JJZCwgY29sb3IsIG5vUmVwbGFjZSkge1xuICAgICAgICBzdXBlci5zZXRUaGVtZUNvbG9yKGNvbG9ySWQsIGNvbG9yLCBub1JlcGxhY2UpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBFTEVNRU5UU1xuICAgIC8qKlxuICAgICAqIF9jcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGVzIGFsbCBvZiB0aGUgZWxlbWVudHMgbmVlZGVkIGZvciB0aGlzIHBvcHVwXG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9jcmVhdGVPdmVybGF5KCk7IC8vIEJHIGxheWVyIHRvIHNoaWVsZCB0aGUgcmVzdCBvZiB0aGUgcGFnZSBmcm9tIHRoaXMgcG9wdXBcbiAgICAgICAgdGhpcy5fY3JlYXRlRnJhbWUoKTsgLy8gVGhlIGZyYW1lIGhvc3RpbmcgdGhlIHBvcHVwIGNvbnRlbnRcbiAgICAgICAgdGhpcy5fY3JlYXRlVGl0bGUoKTsgLy8gY3JlYXRlIHRoZSBlbGVtIHRoYXQgd2lsbCBiZWNvbWUgdGhlIHRpdGxlIG9mIHRoZSBmb3JtXG4gICAgICAgIHRoaXMuX2NyZWF0ZUNsb3NlQnV0dG9uKCk7IC8vIEJ1dHRvbiB0byBjbG9zZSB0aGUgZm9ybVxuICAgICAgICB0aGlzLl9jcmVhdGVDb250ZW50RWxlbWVudCgpOyAvLyBFbGVtZW50IHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0byBzaG93IGRhdGEgaW4gdGhlIHBvcHVwXG4gICAgICAgIHRoaXMuX2NyZWF0ZUJ1dHRvbkNvbnRhaW5lcigpOyAvLyBjcmVhdGUgdGhlIGNvbnRhaW5lciBmb3IgdGhlIGJ1dHRvbnNcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZU92ZXJsYXlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlcyB0aGUgb3ZlcmxheSBmb3IgdGhlIHBvcHVwIHRvIHNoaWVsZCB0aGUgcmVzdCBvZiB0aGUgcGFnZVxuICAgICAqL1xuICAgIF9jcmVhdGVPdmVybGF5KCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5vdmVybGF5ID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJvdmVybGF5XCIpO1xuICAgICAgICB0aGlzLl9lbGVtcy5vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVyYXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1zLm92ZXJsYXkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRnJhbWVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIHRoZSBmcmFtZSBvZiB0aGUgcG9wdXBcbiAgICAgKi9cbiAgICBfY3JlYXRlRnJhbWUoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmZyYW1lID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJmcmFtZVwiKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtcy5mcmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVUaXRsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIHRpdGxlIG9mIHRoZSBwb3B1cFxuICAgICAqL1xuICAgIF9jcmVhdGVUaXRsZSgpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMudGl0bGUgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7IGNsczogXCJwb3B1cFRpdGxlXCIsIHBhcmVudDogdGhpcy5fZWxlbXMuZnJhbWUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVDbG9zZUJ1dHRvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIGNsb3NlIGJ1dHRvbiBmb3IgdGhlIGZvcm1cbiAgICAgKi9cbiAgICBfY3JlYXRlQ2xvc2VCdXR0b24oKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmNsb3NlQnRuID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJjbG9zZUJ0blwiLCBcIlwiLCBudWxsLCBbeyBjb250ZW50OiBcInhcIiwgY2xzOiBcInhcIiB9XSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVyYXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtcy5jbG9zZUJ0bik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVDb250ZW50RWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIGVsZW1lbnQgdGFodCB3aWxsIGhvbGQgYWxsIGNvbnRlbnQgZm9yIHRoZSBwb3B1cFxuICAgICAqL1xuICAgIF9jcmVhdGVDb250ZW50RWxlbWVudCgpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMuY29udGVudCA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwiY29udGVudFwiKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbXMuY29udGVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVCdXR0b25Db250YWluZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIHRoZSBjb250YWluZXIgdGhhdCB3aWxsIGhvbGQgYnV0dG9uc1xuICAgICAqL1xuICAgIF9jcmVhdGVCdXR0b25Db250YWluZXIoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJ1dHRvbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHsgY2xzOiBcImJ1dHRvbkNvbnRhaW5lclwiLCBwYXJlbnQ6IHRoaXMuX2VsZW1zLmZyYW1lIH0pO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFNFVCBUSEUgVElUTEVcbiAgICAvKipcbiAgICAgKiBzZXRUaXRsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBTZXRzIHRoZSB0aXRsZSBmb3IgdGhlIHBvcHVwXG4gICAgICogQHBhcmFtIFx0dGl0bGVcdFdoYXQgdG8gc2V0IGFzIHRoZSB0aXRsZVxuICAgICAqL1xuICAgIHNldFRpdGxlKHRpdGxlKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLnRpdGxlLmlubmVySFRNTCA9IHRpdGxlO1xuICAgICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLnRpdGxlLCBcImhhc0NvbnRlbnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyh0aGlzLl9lbGVtcy50aXRsZSwgXCJoYXNDb250ZW50XCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZENvbnRlbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWxsb3dzIHRoZSB1c2VyIHRvIGFkZCBjb250ZW50IHRvIHRoZSBwb3B1cFxuICAgICAqIFNlZSBpbmRpdmlkdWFsIHRhZ3MgZm9yIHBhcmFtIGluZm9cbiAgICAgKiBAcGFyYW1cdHBhcmFtMVxuICAgICAqIEBwYXJhbVx0Y2xzXG4gICAgICogQHBhcmFtXHRjb250ZW50XG4gICAgICovXG4gICAgYWRkQ29udGVudChwYXJhbTEsIGNscywgY29udGVudCkge1xuICAgICAgICBsZXQgZWxlbTtcbiAgICAgICAgLy8gQ3JlYXRlIGFuIEhUTUxFbGVtZW50IGlmIG9uZSB3YXNuJ3QgcGFzc2VkIGluXG4gICAgICAgIGlmIChzaW1wbGVHdWFyZF8xLmlzU3RyaW5nKHBhcmFtMSkpIHtcbiAgICAgICAgICAgIGVsZW0gPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlU2ltcGxlRWxlbWVudChwYXJhbTEsIGNscywgY29udGVudCk7XG4gICAgICAgICAgICAvLyBJZiBhIERyYXdhYmxlIHdhcyBwYXNzZWQgaW4sIGdyYWIgaXRzIEhUTUwgZWxlbWVudFxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF90eXBlZ3VhcmRzXzEuaXNEcmF3YWJsZShwYXJhbTEpKSB7XG4gICAgICAgICAgICBlbGVtID0gcGFyYW0xLmJhc2U7XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIGp1c3QgdGFrZSB0aGUgSFRNTEVsZW1lbnQgdGhhdCB3YXMgcGFzc2VkIGluXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW0xIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW0gPSBwYXJhbTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQocGFyYW0xKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBRdWl0IGlmIHdlIGRvbid0IGhhdmUgYW4gZWxlbWVudCBhdCB0aGlzIHBvaW50XG4gICAgICAgIGlmICghZWxlbSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCB0aGUgZWxlbWVudCB0byBvdXIgY29udGVudCBjb250YWluZXJcbiAgICAgICAgdGhpcy5fZWxlbXMuY29udGVudC5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2xlYXJDb250ZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENsZWFycyBhbGwgY29udGVudCBvdXQgb2YgdGhlIGZvcm1cbiAgICAgKi9cbiAgICBjbGVhckNvbnRlbnQoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmNvbnRlbnQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBBREQgQlVUVE9OU1xuICAgIC8qKlxuICAgICAqIGFkZEJ1dHRvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGRzIGEgYnV0dG9uIHRvIHRoZSBwb3B1cFxuICAgICAqIEBwYXJhbSBcdGxhYmVsIFx0XHRUaGUgbGFiZWwgdG8gdXNlIGZvciB0aGUgYnV0dG9uXG4gICAgICogQHBhcmFtIFx0Y2FsbGJhY2sgXHRXaGF0IHRvIGRvIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkXG4gICAgICovXG4gICAgYWRkQnV0dG9uKGxhYmVsLCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgYnRuRWxlbSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHsgY2xzOiBcInBvcHVwQnV0dG9uXCIsIHBhcmVudDogdGhpcy5fZWxlbXMuYnV0dG9uQ29udGFpbmVyLCBjb250ZW50OiBsYWJlbCB9KTtcbiAgICAgICAgYnRuRWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5Qb3B1cCA9IFBvcHVwO1xuLy8jZW5kcmVnaW9uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBTVFlMRVNcbi8qKiBzdHlsZXMgdG8gcmVuZGVyIHRoZSBwb3B1cCB3aXRoICovXG5Qb3B1cC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLm92ZXJsYXlcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgwLDAsMCwuNilcIixcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgbGVmdDogXCIwXCIsXG4gICAgICAgIHRvcDogXCIwXCIsXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICB9LFxuICAgIFwiLnBvcHVwXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICBmb250RmFtaWx5OiBcIlNlZ29lIFVJLCBPcGVuU2FucywgSGVsdmV0aWNhXCIsXG4gICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgbGVmdDogXCIwXCIsXG4gICAgICAgIHRvcDogXCIwXCIsXG4gICAgICAgIHpJbmRleDogXCI1XCIsXG4gICAgfSxcbiAgICBcIi5mcmFtZVwiOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjRkZGXCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCIzcHhcIixcbiAgICAgICAgYm94U2hhZG93OiBcIjFweCAxcHggNXB4IDJweCByZ2JhKDAsMCwwLC4yKVwiLFxuICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgIGJvcmRlclRvcDogXCIxMHB4IHNvbGlkIDxwb3B1cFRoZW1lPlwiLFxuICAgICAgICBwYWRkaW5nOiBcIjEwcHhcIixcbiAgICAgICAgbWF4SGVpZ2h0OiBcIjkwJVwiLFxuICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiXG4gICAgfSxcbiAgICBcIi5wb3B1cCAucG9wdXBUaXRsZVwiOiB7XG4gICAgICAgIGZvbnRTaXplOiBcIjEuM2VtXCIsXG4gICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiXG4gICAgfSxcbiAgICBcIi5wb3B1cCAucG9wdXBUaXRsZS5oYXNDb250ZW50XCI6IHtcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjVweFwiXG4gICAgfSxcbiAgICBcIi5wb3B1cCAuY29udGVudFwiOiB7XG4gICAgICAgIGZvbnRTaXplOiBcIjAuOWVtXCJcbiAgICB9LFxuICAgIFwiLnBvcHVwIC5idXR0b25Db250YWluZXJcIjoge1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgbWFyZ2luVG9wOiBcIjhweFwiLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJmbGV4LWVuZFwiXG4gICAgfSxcbiAgICBcIi5wb3B1cCAuYnV0dG9uQ29udGFpbmVyIC5wb3B1cEJ1dHRvblwiOiB7XG4gICAgICAgIHBhZGRpbmc6IFwiMnB4IDEwcHhcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIjxwb3B1cFRoZW1lPlwiLFxuICAgICAgICBjb2xvcjogXCIjRkZGXCIsXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiMTVweFwiLFxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiMzBweFwiLFxuICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCBlYXNlLWluLW91dCAuMXNcIlxuICAgIH0sXG4gICAgXCIucG9wdXAgLmJ1dHRvbkNvbnRhaW5lciAucG9wdXBCdXR0b246aG92ZXJcIjoge1xuICAgICAgICB0cmFuc2Zvcm06IFwic2NhbGUoMS4xKVwiXG4gICAgfSxcbiAgICBcIi5wb3B1cCAuY2xvc2VCdG5cIjoge1xuICAgICAgICB3aWR0aDogXCIxNnB4XCIsXG4gICAgICAgIGhlaWdodDogXCIxNnB4XCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI4cHhcIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgbGVmdDogXCJjYWxjKDEwMCUgLSA3cHgpXCIsXG4gICAgICAgIHRvcDogXCItMTVweFwiLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI0RERFwiLFxuICAgICAgICBib3hTaGFkb3c6IFwiMXB4IDFweCA1cHggMnB4IHJnYmEoMCwwLDAsLjEpXCIsXG4gICAgICAgIGNvbG9yOiBcIiMzMzNcIixcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCBlYXNlLWluLW91dCAuMXNcIlxuICAgIH0sXG4gICAgXCIucG9wdXAgLmNsb3NlQnRuIC54XCI6IHtcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogXCIycHhcIlxuICAgIH0sXG4gICAgXCIucG9wdXAgLmNsb3NlQnRuOmhvdmVyXCI6IHtcbiAgICAgICAgdHJhbnNmb3JtOiBcInNjYWxlKDEuMSlcIlxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGV2ZW50XzEgPSByZXF1aXJlKFwiLi4vZXZlbnRzL2V2ZW50XCIpO1xuY29uc3QgZXZlbnRIYW5kbGVyXzEgPSByZXF1aXJlKFwiLi4vZXZlbnRzL2V2ZW50SGFuZGxlclwiKTtcbi8qKlxuICogQGNsYXNzXHRGb3JtRWxlbUNoYW5nZUV2ZW50XG4gKlxuICogUmVnaXN0ZXJzIHRoZSBmb3JtIGVsZW1lbnQgY2hhbmdlIGV2ZW50IGZvciB0eXBlIHNhZmV0eVxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4wLjBcbiAqXG4gKi9cbmNsYXNzIEZvcm1FbGVtQ2hhbmdlRXZlbnQgZXh0ZW5kcyBldmVudF8xLkV2ZW50IHtcbiAgICBnZXQgX2tleSgpIHsgcmV0dXJuIGV4cG9ydHMuRk9STV9FTEVNX0NIQU5HRTsgfVxufVxuZXhwb3J0cy5Gb3JtRWxlbUNoYW5nZUV2ZW50ID0gRm9ybUVsZW1DaGFuZ2VFdmVudDtcbi8qKlxuICogQGNsYXNzXHRGb3JtU2F2YWJsZUV2ZW50XG4gKlxuICogUmVnaXN0ZXJzIHRoZSBldmVudCB0aGF0IGZpcmVzIHdoZW4gYSBmb3JtIGlzIHNhdmFibGVcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqXG4gKi9cbmNsYXNzIEZvcm1TYXZhYmxlRXZlbnQgZXh0ZW5kcyBldmVudF8xLkV2ZW50IHtcbiAgICBnZXQgX2tleSgpIHsgcmV0dXJuIGV4cG9ydHMuRk9STV9TQVZBQkxFX0NIQU5HRTsgfVxufVxuZXhwb3J0cy5Gb3JtU2F2YWJsZUV2ZW50ID0gRm9ybVNhdmFibGVFdmVudDtcbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gRVZFTlQgSEFORExFUiBGT1IgRk9STVNcbi8vIGNyZWF0ZSBhIHBhcnRpY3VsYXIgZXZlbnQgZm9yIGFsbCBmb3JtIGNoYW5nZSBldmVudHNcbmV4cG9ydHMuRk9STV9FTEVNX0NIQU5HRSA9IFwiZm9ybWVsZW1jaGFuZ2VcIjtcbmV4cG9ydHMuRk9STV9TQVZBQkxFX0NIQU5HRSA9IFwiZm9ybXNhdmFibGVjaGFuZ2VcIjtcbi8qKiBnZW5lcmF0ZSB0aGUgY2xhc3MgdGhhdCB3aWxsIGhhbmRsZSBhbGwgb2YgdGhlIGZvcm0gZXZlbnQgaGFuZGxpbmcgKi9cbmNsYXNzIEZvcm1FdmVudEhhbmRsZXIgZXh0ZW5kcyBldmVudEhhbmRsZXJfMS5FdmVudEhhbmRsZXIge1xufVxuZXhwb3J0cy5mb3JtRXZlbnRIYW5kbGVyID0gbmV3IEZvcm1FdmVudEhhbmRsZXIoKTtcbmV4cG9ydHMuZm9ybUV2ZW50SGFuZGxlci5jcmVhdGVFdmVudChleHBvcnRzLkZPUk1fRUxFTV9DSEFOR0UsIFwiRm9ybSBFbGVtZW50IENoYW5nZWRcIik7XG5leHBvcnRzLmZvcm1FdmVudEhhbmRsZXIuY3JlYXRlRXZlbnQoZXhwb3J0cy5GT1JNX1NBVkFCTEVfQ0hBTkdFLCBcIkZvcm0gU2F2YWJsZSBDaGFuZ2VcIik7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tYmluZV8xID0gcmVxdWlyZShcIi4uLy4uL29iamVjdEhlbHBlcnMvY29tYmluZVwiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi8uLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY29uc3QgZXZlbnRIYW5kbGVyXzEgPSByZXF1aXJlKFwiLi4vZXZlbnRIYW5kbGVyXCIpO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi4vLi4vc3R5bGVIZWxwZXJzL2Nzc1wiKTtcbmNvbnN0IGVycm9yUG9wdXBfMSA9IHJlcXVpcmUoXCIuLi8uLi9wb3B1cHMvZXJyb3JQb3B1cFwiKTtcbmNvbnN0IHllc05vUG9wdXBfMSA9IHJlcXVpcmUoXCIuLi8uLi9wb3B1cHMveWVzTm9Qb3B1cFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vLi4vcG9wdXBzL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgZHJhd2FibGVfMSA9IHJlcXVpcmUoXCIuLi8uLi9kcmF3YWJsZS9kcmF3YWJsZVwiKTtcbmNvbnN0IHNlY3Rpb25GaWVsZF8xID0gcmVxdWlyZShcIi4uL2NvbXBsZXhGaWVsZHMvc2VjdGlvbkZpZWxkXCIpO1xuY2xhc3MgX0Zvcm0gZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIElOSVRJQUxJWkFUSU9OXG4gICAgY29uc3RydWN0b3Iob3B0cywgY2hpbGRyZW4pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLy8jZW5kcmVnaW9uXG4gICAgICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgICAgICAvLyNyZWdpb24gREVMRUdBVEVTXG4gICAgICAgIC8qKiBoYW5kbGUgd2hlbiB0aGUgdXNlciBzYXZlcyB0aGUgZm9ybSAqL1xuICAgICAgICB0aGlzLl9vblNhdmUgPSBbXTtcbiAgICAgICAgLyoqIGhhbmRsZSB3aGVuIHRoZSB1c2VyIGNob29zZXMgdG8gY2FuY2VsICovXG4gICAgICAgIHRoaXMuX29uQ2FuY2VsID0gW107XG4gICAgICAgIHRoaXMuX2hhc0NoYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2FuU2F2ZVRyYWNrZXIgPSB7IGhhc01pc3NpbmdSZXF1aXJlZDogZmFsc2UsIGhhc0Vycm9yczogZmFsc2UgfTtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gb3B0cyB8fCB7fTtcbiAgICAgICAgdGhpcy5fYWRkQ2xhc3NOYW1lKFwiRm9ybVwiKTtcbiAgICAgICAgdGhpcy5fY29sb3JzID0gY29tYmluZV8xLmNvbWJpbmVPYmplY3RzKHsgZm9ybUJhY2tncm91bmRUaGVtZTogXCIjRkZGXCIsIGZvcm1UaGVtZTogXCIjRUZDNTAwXCIsIGZvcm1TdWJUaGVtZTogXCIjNDQ0XCIgfSwgdGhpcy5fY29uZmlnLmNvbG9ycyB8fCB7fSk7XG4gICAgICAgIHRoaXMuX2FwcGx5Q29sb3JzKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUVsZW1lbnRzKGNoaWxkcmVuKTtcbiAgICB9XG4gICAgcmVnaXN0ZXJTYXZlSGFuZGxlcihmKSB7IHRoaXMuX29uU2F2ZS5wdXNoKGYpOyB9XG4gICAgX25vdGlmeVNhdmUoZGF0YSkge1xuICAgICAgICBpZiAoIXRoaXMuX29uU2F2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGQgb2YgdGhpcy5fb25TYXZlKSB7XG4gICAgICAgICAgICBkKGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZ2lzdGVyQ2FuY2VsSGFuZGxlcihmKSB7IHRoaXMuX29uQ2FuY2VsLnB1c2goZik7IH1cbiAgICBfbm90aWZ5Q2FuY2VsKGhhc0NoYW5nZXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vbkNhbmNlbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGQgb2YgdGhpcy5fb25DYW5jZWwpIHtcbiAgICAgICAgICAgIGQoaGFzQ2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBUSEVNSU5HXG4gICAgc2V0VGhlbWVDb2xvcihjb2xvcklkLCBjb2xvciwgbm9SZXBsYWNlKSB7XG4gICAgICAgIHN1cGVyLnNldFRoZW1lQ29sb3IoY29sb3JJZCwgY29sb3IsIG5vUmVwbGFjZSk7XG4gICAgfVxuICAgIF9nZXRVbmlxdWVUaGVtZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkZvcm1cIjtcbiAgICB9XG4gICAgX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50cygpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBFTEVNRU5UU1xuICAgIF9jcmVhdGVFbGVtZW50cyhlbGVtcykge1xuICAgICAgICB0aGlzLl9lbGVtcyA9IHt9O1xuICAgICAgICB0aGlzLl9jcmVhdGVCYXNlKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVByZUZvcm0oKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlRm9ybUNvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLl9jcmVhdGVDb3JlU2VjdGlvbihlbGVtcyk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVBvc3RGb3JtKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVCYXNlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGdlbmVyYXRlIGEgYmFzZSBvZiB0aGUgZm9ybVxuICAgICAqL1xuICAgIF9jcmVhdGVCYXNlKCkge1xuICAgICAgICBsZXQgY2xzID0gXCJraXBGb3JtXCI7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcuY2xzKSB7XG4gICAgICAgICAgICBjbHMgKz0gXCIgXCIgKyB0aGlzLl9jb25maWcuY2xzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IGNscyxcbiAgICAgICAgICAgIHR5cGU6IFwiZm9ybVwiLFxuICAgICAgICAgICAgaWQ6IHRoaXMuX2NvbmZpZy5pZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1zLmJhc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVDb3JlRWxlbVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjcmVhdGUgdGhlIGNvcmUgc2VjdGlvbiB0aGF0IHdpbGwgZGlzcGxheSBhbGwgb2Ygb3VyIGRhdGFcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIG9wdGlvbnMgICAgIHRoZSBvcHRpb25zIHRoYXQgYXJlIHBhc3NlZCBpbiBmb3IgdGhlIGdlbmVyYWwgZm9ybVxuICAgICAqIEBwYXJhbSAgIGVsZW1zICAgICAgIEVsZW1lbnRzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGZvcm1cbiAgICAgKlxuICAgICAqL1xuICAgIF9jcmVhdGVDb3JlU2VjdGlvbihlbGVtcykge1xuICAgICAgICAvLyBjcmVhdGUgdGhlIHRlbXBsYXRlIHRoYXQgd2lsbCByZW5kZXIgdGhlIHNlY3Rpb25cbiAgICAgICAgbGV0IHRlbXBsYXRlID0ge1xuICAgICAgICAgICAgbGFiZWw6IHRoaXMuX2NvbmZpZy5sYWJlbCxcbiAgICAgICAgICAgIGNsczogdGhpcy5fY29uZmlnLmNscyxcbiAgICAgICAgICAgIGxheW91dDogdGhpcy5fY29uZmlnLmxheW91dCxcbiAgICAgICAgICAgIGhpZGVUaXRsZTogdGhpcy5fY29uZmlnLmhpZGVUaXRsZSxcbiAgICAgICAgICAgIHVuY29sbGFwc2libGU6ICF0aGlzLl9jb25maWcuaGlkZVRpdGxlXG4gICAgICAgIH07XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgY29yZSBzZWN0aW9uXG4gICAgICAgIHRoaXMuX2VsZW1zLmNvcmVTZWN0aW9uID0gbmV3IHNlY3Rpb25GaWVsZF8xLlNlY3Rpb25GaWVsZCh0aGlzLl9pZCwgdGVtcGxhdGUsIGVsZW1zKTtcbiAgICAgICAgdGhpcy5fYXBwbHlDb2xvcnModGhpcy5fZWxlbXMuY29yZVNlY3Rpb24pO1xuICAgICAgICB0aGlzLl9hZGRFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIC8vIGFkZCB0aGUgc2VjdGlvbiB0byB0aGUgb3ZlcmFsbCBmb3JtIFVJXG4gICAgICAgIHRoaXMuX2VsZW1zLmNvcmVTZWN0aW9uLmRyYXcodGhpcy5fZWxlbXMuZm9ybUNvbnRhaW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVQcmVGb3JtXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGhhbmRsZSBnZW5lcmF0aW5nIHRoZSBhc3BlY3RzIG9mIHRoZSBmb3JtIHRoYXQgYXJlIHJlbmRlcmVkIGJlZm9yZSB0aGVcbiAgICAgKiBjb250ZW50LiBPdmVycmlkYWJsZSBieSBjaGlsZCBjbGFzc2VzXG4gICAgICovXG4gICAgX2NyZWF0ZVByZUZvcm0oKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhY2tncm91bmQgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwiYmFja2dyb3VuZFwiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbXMuYmFja2dyb3VuZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUZvcm1Db250YWluZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogZ2VuZXJhdGUgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGFjdHVhbGx5IGVuY29tcGFzcyB0aGUgZm9ybS4gT3ZlcnJpZGFibGUgYnlcbiAgICAgKiBjaGlsZCBjbGFzc2VzXG4gICAgICovXG4gICAgX2NyZWF0ZUZvcm1Db250YWluZXIoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmZvcm1Db250YWluZXIgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwiZm9ybUNvbnRlbnRcIixcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuYmFja2dyb3VuZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1zLmZvcm1Db250YWluZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVQb3N0Rm9ybVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBnZW5lcmF0ZSBhbnkgZWxlbWVudHMgdGhhdCB3aWxsIGFwcGVhciBhZnRlciB0aGUgY29yZSBzZWN0aW9uIG9mIHRoZSBmb3JtLlxuICAgICAqIE92ZXJyaWRhYmxlIGJ5IGNoaWxkIGNsYXNzZXNcbiAgICAgKi9cbiAgICBfY3JlYXRlUG9zdEZvcm0oKSB7XG4gICAgICAgIGxldCBidG5zID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiU2F2ZVwiLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLnRyeVNhdmUoKSxcbiAgICAgICAgICAgICAgICBjbHM6IFwic2F2ZSBwcmltYXJ5XCIsXG4gICAgICAgICAgICAgICAga2V5OiBcInNhdmVCdXR0b25cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIkNhbmNlbFwiLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7IHRoaXMudHJ5Q2FuY2VsKCk7IH0sXG4gICAgICAgICAgICAgICAgY2xzOiBcImNhbmNlbCB0ZXJ0aWFyeVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcuYWRkbEJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ0bnMuc3BsaWNlKDEsIDAsIC4uLnRoaXMuX2NvbmZpZy5hZGRsQnV0dG9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUJ1dHRvbnMoYnRucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVCdXR0b25zXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGdlbmVyYXRlIHRoZSBidXR0b25zIHRoYXQgc2hvdWxkIGJlIHZpc2libGUgaW4gdGhpcyBmb3JtXG4gICAgICovXG4gICAgX2NyZWF0ZUJ1dHRvbnMoYnRucykge1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgYiBvZiBidG5zKSB7XG4gICAgICAgICAgICBpZiAoIWIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy5fY3JlYXRlQnV0dG9uKGIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImtpcEJ0bnNcIixcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuYmFja2dyb3VuZCxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUJ1dHRvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBnZW5lcmF0ZSBhIHNwZWNpZmljIGJ1dHRvbiB3aXRoIHRoZSBwcm92aWRlZCBkZWZpbml0aW9uXG4gICAgICovXG4gICAgX2NyZWF0ZUJ1dHRvbihidG4pIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGtleTogYnRuLmtleSB8fCBcIlwiLFxuICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgIGNsczogXCJraXBCdG4gXCIgKyAoYnRuLmNscyA/IGJ0bi5jbHMgOiBcIiBzZWNvbmRhcnlcIiksXG4gICAgICAgICAgICBjb250ZW50OiBidG4uZGlzcGxheSxcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzOiB7XG4gICAgICAgICAgICAgICAgY2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bi5jYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLl9lbGVtcyk7XG4gICAgfVxuICAgIF9hZGRFdmVudEhhbmRsZXJzKCkge1xuICAgICAgICAvLyBhZGQgdGhlIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBzZWN0aW9uIGNoYW5naW5nXG4gICAgICAgIGV2ZW50SGFuZGxlcl8xLmZvcm1FdmVudEhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcihldmVudEhhbmRsZXJfMS5GT1JNX0VMRU1fQ0hBTkdFLCB7XG4gICAgICAgICAgICBmdW5jOiAoZXZlbnQpID0+IHRoaXMuX2hhbmRsZUZvcm1DaGFuZ2UoZXZlbnQpLFxuICAgICAgICAgICAgdW5pcXVlSWQ6IHRoaXMuX2lkICsgXCJ8Zm9ybVwiXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBoYW5kbGUgd2hlbiB0aGUgZm9ybSBiZWNvbWVzIHNhdmFibGUgb3Igbm9uLXNhdmFibGVcbiAgICAgICAgZXZlbnRIYW5kbGVyXzEuZm9ybUV2ZW50SGFuZGxlci5hZGRFdmVudExpc3RlbmVyKGV2ZW50SGFuZGxlcl8xLkZPUk1fU0FWQUJMRV9DSEFOR0UsIHtcbiAgICAgICAgICAgIGZ1bmM6IChldmVudCkgPT4gdGhpcy5faGFuZGxlU2F2YWJpbGl0eUNoYW5nZShldmVudClcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ0hBTkdFIEhBTkRMSU5HXG4gICAgX2hhbmRsZUZvcm1DaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgLy8gbGlzdGVuIG9ubHkgYXQgdGhlIGdsb2JhbCBsZXZlbCB0byB0aGlzIGV2ZW50XG4gICAgICAgIGxldCBrZXkgPSBldmVudC5jb250ZXh0LmtleTtcbiAgICAgICAgaWYgKGtleSAhPT0gdGhpcy5faWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBjYWxsIGludG8gdGhlIGNoaWxkIGhhbmRsaW5nIG9uY2UgaXQncyBkZXRlcm1pbmVkIHdlXG4gICAgICAgIC8vIGNhcmUgYWJvdXQgdGhpcyBwYXJ0aWN1bGFyIGV2ZW50XG4gICAgICAgIHRoaXMuX29uRm9ybUNoYW5nZShldmVudCk7XG4gICAgfVxuICAgIF9vbkZvcm1DaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0Zvcm1DaGFuZ2VGb3JNZShldmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYXNDaGFuZ2VzID0gdHJ1ZTtcbiAgICB9XG4gICAgX2lzRm9ybUNoYW5nZUZvck1lKGV2ZW50KSB7XG4gICAgICAgIGxldCBrZXkgPSBldmVudC5jb250ZXh0LmtleTtcbiAgICAgICAgaWYgKGtleSAhPT0gdGhpcy5faWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBTQVZBQklMSVRZIENIQU5HRVxuICAgIF9oYW5kbGVTYXZhYmlsaXR5Q2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5fZWxlbXMuc2F2ZUJ1dHRvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjYW5TYXZlID0gdGhpcy5jYW5TYXZlKCk7XG4gICAgICAgIGlmICghY2FuU2F2ZSkge1xuICAgICAgICAgICAgdGhpcy5fZGlzYWJsZVNhdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZVNhdmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZGlzYWJsZVNhdmUoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLnNhdmVCdXR0b24udGl0bGUgPSB0aGlzLl9nZXRDYW5ub3RTYXZlTWVzc2FnZSgpO1xuICAgICAgICB0aGlzLl9lbGVtcy5zYXZlQnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuc2F2ZUJ1dHRvbiwgXCJkaXNhYmxlZFwiKTtcbiAgICB9XG4gICAgX2VuYWJsZVNhdmUoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLnNhdmVCdXR0b24udGl0bGUgPSBcIlwiO1xuICAgICAgICB0aGlzLl9lbGVtcy5zYXZlQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyh0aGlzLl9lbGVtcy5zYXZlQnV0dG9uLCBcImRpc2FibGVkXCIpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBTQVZJTkdcbiAgICAvKipcbiAgICAgKiBnZXREYXRhXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGVuc3VyZSB0aGF0IHdlIGFyZSByZXRyaWV2aW5nIHRoZSBkYXRhIHdpdGhpbiB0aGUgZm9ybSB3aXRob3V0IGFjdHVhbGx5XG4gICAgICogcnVubmluZyB0aGUgc2F2ZSBoYW5kbGVyc1xuICAgICAqL1xuICAgIGdldERhdGEoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZWxlbXMuY29yZVNlY3Rpb24uc2F2ZSh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zYXZlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogU2F2ZXMgZGF0YSBpbiB0aGUgZm9ybVxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgd2lsbCByZXRyaWV2ZSB0aGUgZGF0YSBjb250YWluZWQgaW4gdGhlIGZvcm1cbiAgICAgKi9cbiAgICBfc2F2ZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBkYXRhID0geWllbGQgdGhpcy5fZWxlbXMuY29yZVNlY3Rpb24uc2F2ZSgpO1xuICAgICAgICAgICAgLy8gQWxlcnQgYW55IGxpc3RlbmVycyBvZiB0aGlzIHBhcnRpY3VsYXIgZm9ybSB0aGF0IFxuICAgICAgICAgICAgLy8gdGhlIGRhdGEgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgICAgICAgdGhpcy5fbm90aWZ5U2F2ZShkYXRhKTtcbiAgICAgICAgICAgIHRoaXMuX2hhc0NoYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdHJ5U2F2ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEF0dGVtcHQgdG8gc2F2ZSB0aGUgZm9ybVxuICAgICAqL1xuICAgIHRyeVNhdmUoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyBoYW5kbGUgaWYgd2UgY2FuJ3Qgc2F2ZVxuICAgICAgICAgICAgaWYgKCF0aGlzLmNhblNhdmUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3dDYW5ub3RTYXZlTWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgcmV0cmlldmUgdGhlIHNhdmUgZGF0YSBmcm9tIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNvcmUgZWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMuX3NhdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jYW5TYXZlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ2hlY2sgd2l0aCBvdXIgZWxlbWVudHMgdGhhdCB3ZSBhcmUgYWJsZSB0byBzYXZlXG4gICAgICovXG4gICAgY2FuU2F2ZSgpIHtcbiAgICAgICAgdGhpcy5fY2FuU2F2ZVRyYWNrZXIgPSB0aGlzLl9lbGVtcy5jb3JlU2VjdGlvbi5jYW5TYXZlKCk7XG4gICAgICAgIGlmICh0aGlzLl9jYW5TYXZlVHJhY2tlci5oYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY2FuU2F2ZVRyYWNrZXIuaGFzTWlzc2luZ1JlcXVpcmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zaG93Q2Fubm90U2F2ZU1lc3NhZ2VcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogU2hvdyBwb3B1cCBpbmRpY2F0aW5nIHdoeSB3ZSBjb3VsZG4ndCBzYXZlIHRoaXMgZm9ybVxuICAgICAqL1xuICAgIF9zaG93Q2Fubm90U2F2ZU1lc3NhZ2UoKSB7XG4gICAgICAgIGxldCBtc2cgPSB0aGlzLl9nZXRDYW5ub3RTYXZlTWVzc2FnZSgpO1xuICAgICAgICBpZiAoIW1zZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwb3B1cCA9IG5ldyBlcnJvclBvcHVwXzEuRXJyb3JQb3B1cChtc2csIFwiQ291bGRuJ3QgU2F2ZVwiKTtcbiAgICAgICAgcG9wdXAuc2V0VGhlbWVDb2xvcihcInBvcHVwVGhlbWVcIiwgdGhpcy5fY29sb3JzLmZvcm1UaGVtZSk7XG4gICAgICAgIHBvcHVwLmRyYXcoZG9jdW1lbnQuYm9keSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9nZXRDYW5ub3RTYXZlTWVzc2FnZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBEZXRlcm1pbmUgd2hhdCBtZXNzYWdlIHRvIHNob3cgYXMgdG8gd2h5IHRoZSBmb3JtIGNhbm5vdCBiZSBzYXZlZFxuICAgICAqL1xuICAgIF9nZXRDYW5ub3RTYXZlTWVzc2FnZSgpIHtcbiAgICAgICAgbGV0IG1zZyA9IFwiXCI7XG4gICAgICAgIGlmICh0aGlzLl9jYW5TYXZlVHJhY2tlci5oYXNFcnJvcnMgJiYgdGhpcy5fY2FuU2F2ZVRyYWNrZXIuaGFzTWlzc2luZ1JlcXVpcmVkKSB7XG4gICAgICAgICAgICBtc2cgPSBcIlRoaXMgZm9ybSBoYXMgbWlzc2luZyBkYXRhIGFuZCBlcnJvcnM7IGNvcnJlY3QgZXJyb3JzIGFuZCBmaWxsIGluIGFsbCByZXF1aXJlZCBmaWVsZHMgYmVmb3JlIHNhdmluZy5cIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9jYW5TYXZlVHJhY2tlci5oYXNFcnJvcnMpIHtcbiAgICAgICAgICAgIG1zZyA9IFwiVGhlcmUgYXJlIHNvbWUgZXJyb3JzIGluIHlvdXIgZm9ybTsgY29ycmVjdCB0aGVtIGJlZm9yZSBzYXZpbmcuXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fY2FuU2F2ZVRyYWNrZXIuaGFzTWlzc2luZ1JlcXVpcmVkKSB7XG4gICAgICAgICAgICBtc2cgPSBcIlRoZXJlIGFyZSBzb21lIGZpZWxkcyB3aXRoIG1pc3NpbmcgZGF0YTsgZmlsbCB0aGVtIGluIGJlZm9yZSBzYXZpbmcuXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBIQU5ETEUgQ0FOQ0VMSU5HXG4gICAgLyoqXG4gICAgICogX2NhbmNlbENvbmZpcm1hdGlvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgaW5mb3JtaW5nIHRoZSB1c2VyIHRoYXQgdGhleSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyBiZWZvcmUgY2FuY2VsbGluZ1xuICAgICAqL1xuICAgIF9jYW5jZWxDb25maXJtYXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNDaGFuZ2VzKSB7XG4gICAgICAgICAgICBsZXQgcG9wdXAgPSBuZXcgeWVzTm9Qb3B1cF8xLlllc05vUG9wdXAoXCJZb3UgaGF2ZSB1bnNhdmVkIGNoYW5nZXMuIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjYW5jZWw/XCIsIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSA9PT0gX2ludGVyZmFjZXNfMS5ZZXNOb0VudW0uWUVTKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcG9wdXAuc2V0VGhlbWVDb2xvcihcInBvcHVwVGhlbWVcIiwgdGhpcy5fY29sb3JzLmZvcm1UaGVtZSk7XG4gICAgICAgICAgICBwb3B1cC5kcmF3KGRvY3VtZW50LmJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NhbmNlbFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDYW5jZWwgdGhlIGZvcm0gYW5kIGFueSBjaGFuZ2VzIHdpdGhpbiBpdFxcXG4gICAgICovXG4gICAgX2NhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9ub3RpZnlDYW5jZWwodGhpcy5faGFzQ2hhbmdlcyk7XG4gICAgICAgIHRoaXMuX2hhc0NoYW5nZXMgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdHJ5Q2FuY2VsXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFB1YmxpYyBjYWxsIHRvIGF0dGVtcHQgdG8gY2FuY2VsIGFsbCBkYXRhIHdpdGhpbiBhIGZvcm07IHByb21wdHMgdGhlIHVzZXIgdG9cbiAgICAgKiB2ZXJpZnkgY2FuY2VsbGluZyBpZiB0aGVyZSBhcmUgYW55IHVuc2F2ZWQgZWxlbWVudHMgdW5sZXNzIG90aGVyd2lzZVxuICAgICAqIHNwZWNpZmllZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIGlnbm9yZVVuc2F2ZWRDaGFuZ2VzICAgIElmIHRydWUsIGRvZXNuJ3QgcHJvbXB0IHRoZSB1c2VyIHRvIGNvbmZpcm1cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0IHVuc2F2ZWQgYXNwZWN0cyB3b24ndCBiZSBzYXZlZFxuICAgICAqXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZm9ybSB3YXMgc3VjY2Vzc2Z1bGx5IGNhbmNlbGVkXG4gICAgICovXG4gICAgdHJ5Q2FuY2VsKGlnbm9yZVVuc2F2ZWRDaGFuZ2VzKSB7XG4gICAgICAgIGlmICghdGhpcy5faGFzQ2hhbmdlcyB8fCBpZ25vcmVVbnNhdmVkQ2hhbmdlcykge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNob3cgdGhlIHBvcHVwXG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxDb25maXJtYXRpb24oKTtcbiAgICAgICAgICAgIC8vIHRlbGwgdGhlIGNhbGxlciB0aGF0IHRoZXkgc2hvdWxkIHdhaXQgZm9yIHRoZSBjYW5jZWwgbGlzdGVuZXJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENMRUFSSU5HIEFORCBVUERBVElORyBEQVRBXG4gICAgLyoqXG4gICAgICogY2xlYXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY2xlYXJzIGFsbCBkYXRhIG91dCBvZiB0aGUgZm9ybVxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5jb3JlU2VjdGlvbi5jbGVhcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogdXBkYXRlIHRoZSBkYXRhIGluIHRoZSBmb3JtIHRvIG1hdGNoIGEgcGFydGljdWxhciBkYXRhIHNldFxuICAgICAqXG4gICAgICogQHBhcmFtICAgbW9kZWwgICAgICAgICAgIFRoZSBkYXRhIHRvIHVwZGF0ZSB0aGUgZm9ybSB3aXRoXG4gICAgICogQHBhcmFtICAgYWxsb3dFdmVudHMgICAgIElmIHRydWUsIGFsc28gZmlyZXMgY2hhbmdlIGV2ZW50cyBhcyBhIHJlc3VsdCBvZlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgdXBkYXRlXG4gICAgICovXG4gICAgdXBkYXRlKG1vZGVsLCBhbGxvd0V2ZW50cykge1xuICAgICAgICB0aGlzLl9lbGVtcy5jb3JlU2VjdGlvbi51cGRhdGUobW9kZWwsIGFsbG93RXZlbnRzKTtcbiAgICAgICAgdGhpcy5faGFzQ2hhbmdlcyA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFRSQUNLIENIQU5HRVNcbiAgICAvKiBUT0RPOiBhY3R1YWxseSBpbXBsZW1lbnQgY2hhbmdlIGNvbnRyb2xcbiAgICAqL1xuICAgIHVuZG8oKSB7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9XG4gICAgcmVkbygpIHtcbiAgICB9XG4gICAgX3RyYWNrQ2hhbmdlcygpIHtcbiAgICAgICAgLy8gVE9ET1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFVTQUJJTElUWVxuICAgIC8qKlxuICAgICogZm9jdXNcbiAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAqIEdpdmVzIGZvY3VzIHRvIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgY2FuIHRha2UgZm9jdXNcbiAgICAqL1xuICAgIGZvY3VzKCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5jb3JlU2VjdGlvbi5mb2N1cygpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENIQU5HRSBUSEUgRk9STSBESVNQTEFZXG4gICAgLy8gVE9ETzogQWxsb3cgY2hhbmdpbmcgb2YgdGhlIGZvcm0gYWZ0ZXIgaXQncyBiZWVuIGNyZWF0ZWRcbiAgICAvKipcbiAgICAgKiBhZGRGb3JtRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGRzIGEgZm9ybSBlbGVtZW50IHRvIG91ciBmb3JtIGFmdGVyIGl0J3MgYmVlbiBpbml0aWFsaXplZFxuICAgICAqL1xuICAgIGFkZEZvcm1FbGVtZW50KGtleSwgZm9ybUVsZW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1zLmNvcmVTZWN0aW9uLmFkZENoaWxkRWxlbWVudChrZXksIGZvcm1FbGVtKTtcbiAgICB9XG4gICAgZ2V0RmllbGQoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1zLmNvcmVTZWN0aW9uLmdldEZpZWxkKGlkKTtcbiAgICB9XG59XG5leHBvcnRzLl9Gb3JtID0gX0Zvcm07XG4vLy4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuX0Zvcm0uX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi5raXBGb3JtXCI6IHtcbiAgICAgICAgZm9udEZhbWlseTogXCJPcGVuIFNhbnMsU2Vnb2UgVUkgTGlnaHQsSGVsdmV0aWNhXCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICBmb250V2VpZ2h0OiBcIjEwMFwiLFxuICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgIFwiLmJhY2tncm91bmRcIjoge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIi5mb3JtQ29udGVudFwiOiB7XG4gICAgICAgICAgICAgICAgZmxleFNocmluazogXCIxXCIsXG4gICAgICAgICAgICAgICAgZmxleEdyb3c6IFwiMVwiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZzogXCI1cHhcIixcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLmtpcEJ0blwiOiB7XG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBcIjAuN1wiLFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IFwiYWxsIGVhc2UtaW4tb3V0IC4xc1wiLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiT3BlbiBTYW5zLFNlZ29lIFVJIExpZ2h0LEhlbHZldGljYVwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgICAgICAgICBcIiY6aG92ZXI6bm90KC5kaXNhYmxlZClcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogXCIxXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCImLmRpc2FibGVkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJub3QtYWxsb3dlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogXCIwLjRcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLmtpcEJ0bnNcIjoge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93LXJldmVyc2VcIixcbiAgICAgICAgICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgXCIua2lwQnRuXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiM3B4IDE1cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogXCI1cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIzcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiJi5wcmltYXJ5XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIjxmb3JtVGhlbWU+XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNGRkZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCImLnNlY29uZGFyeVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgPGZvcm1UaGVtZT5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiPGZvcm1UaGVtZT5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCImLnRlcnRpYXJ5XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCA8Zm9ybVN1YlRoZW1lPlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCI8Zm9ybVN1YlRoZW1lPlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiYnV0dG9uXCI6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBhcnJheXNfMSA9IHJlcXVpcmUoXCIuLi9wcmltaXRpdmVIZWxwZXJzL2FycmF5c1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE5hbWVkQ2xhc3NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEEgY2xhc3MgdGhhdCBjb250YWlucyBhIHNldCBvZiBuYW1lcyB0aGF0IGFwcGx5IHRvIHRoaXMgY2xhc3MuIFVzZWQgZm9yXG4gKiBlYXNpZXIgdHlwaW5nLlxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgTmFtZWRDbGFzcyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5hbWVkIGNsYXNzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQHBhcmFtXHRjbGFzc05hbWVzXHRcdFRoZSBpbml0aWFsIGNsYXNzIG5hbWUgdG8gYXNzaWduXG4gICAgICpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciguLi5jbGFzc05hbWVzKSB7XG4gICAgICAgIHRoaXMuX2NsYXNzX25hbWVzID0gY2xhc3NOYW1lcztcbiAgICB9XG4gICAgZ2V0IGNsYXNzTmFtZSgpIHtcbiAgICAgICAgbGV0IHRtcE5hbWVzID0gdGhpcy5fY2xhc3NfbmFtZXMuc2xpY2UoKTtcbiAgICAgICAgcmV0dXJuIHRtcE5hbWVzLnJldmVyc2UoKS5qb2luKFwiOjpcIik7XG4gICAgfVxuICAgIGdldCBwYWRkZWRDbGFzc05hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGFzc19uYW1lcy5qb2luKFwiIDwtLSBcIik7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBfYWRkQ2xhc3NOYW1lXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWRkcyBhIG5ldyBsYXllciB0byBvdXIgY2xhc3MgbmFtZVxuICAgICAqXG4gICAgICogQHBhcmFtXHRjbGFzc19uYW1lXHRcdFRoZSBuZXcgY2xhc3MgbmFtZSB0byBhZGRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUcnVlIGlmIHdlIGFkZGVkIHRoZSBjbGFzcyBuYW1lXG4gICAgICovXG4gICAgX2FkZENsYXNzTmFtZShjbGFzc19uYW1lKSB7XG4gICAgICAgIGlmIChhcnJheXNfMS5jb250YWlucyh0aGlzLl9jbGFzc19uYW1lcywgY2xhc3NfbmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jbGFzc19uYW1lcy5wdXNoKGNsYXNzX25hbWUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5leHBvcnRzLk5hbWVkQ2xhc3MgPSBOYW1lZENsYXNzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAgKiBpc1VwZGF0YWJsZVxuICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgKiBEZXRlcm1pbmUgaWYgdGhpcyBvYmplY3QgaGFzIGFuIHVwZGF0ZSBtZXRob2RcbiAgKiBAcGFyYW0gdGVzdFxuICAqL1xuZnVuY3Rpb24gaXNVcGRhdGFibGUodGVzdCkge1xuICAgIGlmICghdGVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiAhISh0ZXN0LnVwZGF0ZSk7XG59XG5leHBvcnRzLmlzVXBkYXRhYmxlID0gaXNVcGRhdGFibGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF90eXBlZ3VhcmRzXzEgPSByZXF1aXJlKFwiLi9fdHlwZWd1YXJkc1wiKTtcbi8qKlxuICogY2xpZW50UmVjdFRvU2hhcGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb252ZXJ0cyBhIENsaWVudCBSZWN0IHRvIGEgYmFzaWMgc2hhcGVcbiAqXG4gKiBAcGFyYW0gXHRyZWN0IFx0VGhlIHJlY3RhbmdsZSB0byBjb252ZXJ0XG4gKlxuICogQHJldHVybnMgVGhlIGFycmF5IG9mIHBvaW50cyB0aGF0IG1ha2UgdXAgdGhpcyBzaGFwZVxuICovXG5mdW5jdGlvbiBjbGllbnRSZWN0VG9TaGFwZShyZWN0KSB7XG4gICAgbGV0IG91dDtcbiAgICBvdXQgPSBuZXcgQXJyYXkoKTtcbiAgICAvLyBUb3AtbGVmdCBjb3JuZXJcbiAgICBvdXRbMF0gPSB7XG4gICAgICAgIHg6IHJlY3QubGVmdCxcbiAgICAgICAgeTogcmVjdC50b3BcbiAgICB9O1xuICAgIC8vIFRvcC1yaWdodCBjb3JuZXJcbiAgICBvdXRbMV0gPSB7XG4gICAgICAgIHg6IHJlY3QubGVmdCArIHJlY3Qud2lkdGgsXG4gICAgICAgIHk6IHJlY3QudG9wXG4gICAgfTtcbiAgICAvLyBCb3R0b20tcmlnaHQgY29ybmVyXG4gICAgb3V0WzJdID0ge1xuICAgICAgICB4OiByZWN0LmxlZnQgKyByZWN0LndpZHRoLFxuICAgICAgICB5OiByZWN0LnRvcCArIHJlY3QuaGVpZ2h0XG4gICAgfTtcbiAgICAvLyBCb3R0b20tbGVmdCBjb3JuZXJcbiAgICBvdXRbM10gPSB7XG4gICAgICAgIHg6IHJlY3QubGVmdCxcbiAgICAgICAgeTogcmVjdC50b3AgKyByZWN0LmhlaWdodFxuICAgIH07XG4gICAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydHMuY2xpZW50UmVjdFRvU2hhcGUgPSBjbGllbnRSZWN0VG9TaGFwZTtcbi8qKlxuICogc3ZnUmVjdFRvU2hhcGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb252ZXJ0cyBhIFNWRyBSZWN0IHRvIGEgYmFzaWMgc2hhcGVcbiAqXG4gKiBAcGFyYW0gXHRyZWN0IFx0VGhlIHJlY3RhbmdsZSB0byBjb252ZXJ0XG4gKlxuICogQHJldHVybnMgVGhlIGFycmF5IG9mIHBvaW50cyB0aGF0IG1ha2UgdXAgdGhpcyBzaGFwZVxuICovXG5mdW5jdGlvbiBzdmdSZWN0VG9TaGFwZShyZWN0KSB7XG4gICAgbGV0IG91dDtcbiAgICBvdXQgPSBuZXcgQXJyYXkoKTtcbiAgICAvLyBUb3AtbGVmdCBjb3JuZXJcbiAgICBvdXRbMF0gPSB7XG4gICAgICAgIHg6IHJlY3QueCxcbiAgICAgICAgeTogcmVjdC55XG4gICAgfTtcbiAgICAvLyBUb3AtcmlnaHQgY29ybmVyXG4gICAgb3V0WzFdID0ge1xuICAgICAgICB4OiByZWN0LnggKyByZWN0LndpZHRoLFxuICAgICAgICB5OiByZWN0LnlcbiAgICB9O1xuICAgIC8vIEJvdHRvbS1yaWdodCBjb3JuZXJcbiAgICBvdXRbMl0gPSB7XG4gICAgICAgIHg6IHJlY3QueCArIHJlY3Qud2lkdGgsXG4gICAgICAgIHk6IHJlY3QueSArIHJlY3QuaGVpZ2h0XG4gICAgfTtcbiAgICAvLyBCb3R0b20tbGVmdCBjb3JuZXJcbiAgICBvdXRbM10gPSB7XG4gICAgICAgIHg6IHJlY3QueCxcbiAgICAgICAgeTogcmVjdC55ICsgcmVjdC5oZWlnaHRcbiAgICB9O1xuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnRzLnN2Z1JlY3RUb1NoYXBlID0gc3ZnUmVjdFRvU2hhcGU7XG4vKipcbiAqIHN2Z1JlY3RUb0Jhc2ljUmVjdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvbnZlcnQgYSBTVkcgcmVjdGFuZ2xlIHRvIGEgYmFzaWMgcmVjdGFuZ2xlXG4gKlxuICogQHBhcmFtIFx0cmVjdCBcdFRoZSByZWN0YW5nbGUgdG8gY29udmVydFxuICpcbiAqIEByZXR1cm5zIFRoZSByZXN1bHRpbmcgSUJhc2ljUmVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGFzc2VkIGluIHJlY3RcbiAqL1xuZnVuY3Rpb24gc3ZnUmVjdFRvQmFzaWNSZWN0KHJlY3QpIHtcbiAgICBsZXQgb3V0O1xuICAgIG91dCA9IHtcbiAgICAgICAgeDogcmVjdC54LFxuICAgICAgICB5OiByZWN0LnksXG4gICAgICAgIHc6IHJlY3Qud2lkdGgsXG4gICAgICAgIGg6IHJlY3QuaGVpZ2h0XG4gICAgfTtcbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0cy5zdmdSZWN0VG9CYXNpY1JlY3QgPSBzdmdSZWN0VG9CYXNpY1JlY3Q7XG47XG4vKipcbiAqIGNsaWVudFJlY3RUb0Jhc2ljUmVjdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvbnZlcnQgYSBjbGllbnQgcmVjdGFuZ2xlIHRvIGEgYmFzaWMgcmVjdGFuZ2xlXG4gKlxuICogQHBhcmFtIFx0cmVjdCBcdFRoZSByZWN0YW5nbGUgdG8gY29udmVydFxuICpcbiAqIEByZXR1cm5zIFRoZSByZXN1bHRpbmcgSUJhc2ljUmVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGFzc2VkIGluIHJlY3RcbiAqL1xuZnVuY3Rpb24gY2xpZW50UmVjdFRvQmFzaWNSZWN0KHJlY3QpIHtcbiAgICBsZXQgb3V0O1xuICAgIG91dCA9IHtcbiAgICAgICAgeDogcmVjdC5sZWZ0ICsgd2luZG93LnNjcm9sbFgsXG4gICAgICAgIHk6IHJlY3QudG9wICsgd2luZG93LnNjcm9sbFksXG4gICAgICAgIHc6IHJlY3Qud2lkdGgsXG4gICAgICAgIGg6IHJlY3QuaGVpZ2h0XG4gICAgfTtcbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0cy5jbGllbnRSZWN0VG9CYXNpY1JlY3QgPSBjbGllbnRSZWN0VG9CYXNpY1JlY3Q7XG4vKipcbiAqIHRvQmFzaWNSZWN0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ29udmVydHMgYW55IHN1cHBvcnRlZCByZWN0YW5nbGUgdG8gYSBiYXNpYyByZWN0YW5nbGVcbiAqXG4gKiBAcGFyYW0gXHRyZWN0IFx0VGhlIHJlY3RhbmdsZSB0byBjb252ZXJ0XG4gKlxuICogQHJldHVybnMgVGhlIGJhc2ljIHJlY3QgdmVyc2lvbiBvZiB0aGlzIGNsaWVudCAvIHN2ZyByZWN0XG4gKi9cbmZ1bmN0aW9uIHRvQmFzaWNSZWN0KHJlY3QpIHtcbiAgICBsZXQgcjtcbiAgICBpZiAoX3R5cGVndWFyZHNfMS5pc0lCYXNpY1JlY3QocmVjdCkpIHtcbiAgICAgICAgciA9IHJlY3Q7XG4gICAgfVxuICAgIGVsc2UgaWYgKF90eXBlZ3VhcmRzXzEuaXNDbGllbnRSZWN0KHJlY3QpKSB7XG4gICAgICAgIHIgPSBjbGllbnRSZWN0VG9CYXNpY1JlY3QocmVjdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKF90eXBlZ3VhcmRzXzEuaXNTVkdSZWN0KHJlY3QpKSB7XG4gICAgICAgIHIgPSBzdmdSZWN0VG9CYXNpY1JlY3QocmVjdCk7XG4gICAgfVxuICAgIHJldHVybiByO1xufVxuZXhwb3J0cy50b0Jhc2ljUmVjdCA9IHRvQmFzaWNSZWN0O1xuO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIENBTENVTEFURSBPRkZTRVQgRlVOQ1RJT05TXG4vKipcbiAqIEdsb2JhbE9mZnNldExlZnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEdldHMgdGhlIG9mZnNldCBsZWZ0IG9mIHRoaXMgZWxlbWVudCBpbiByZWZlcmVuY2UgdG8gdGhlIGVudGlyZSBwYWdlXG4gKlxuICogQHBhcmFtICAgZWxlbSAgICBUaGUgZWxlbWVudCB0byBnZXQgdGhlIG9mZnNldCBvZlxuICogQHBhcmFtICAgcGFyZW50ICBUaGUgcGFyZW50IGVsZW1lbnQgdG8gdXNlIGFzIHRoZSByZWZlcmVuY2UuIElmIG5vdFxuICogICAgICAgICAgICAgICAgICBpbmNsdWRlZCwgaXQgdXNlcyB0aGUgZG9jdW1lbnQuYm9keSBhcyB0aGUgcmVmZXJlbmNlXG4gKlxuICogQHJldHVybnMgVGhlIGdsb2JhbCBvZmZzZXQgb2YgdGhlIGVsZW1lbXQgZnJvbSB0aGUgbGVmdCBvZiB0aGUgcGFnZSAob3JcbiAqICAgICAgICAgIHBhcmVudCwgaWYgaW5jbHVkZWQpXG4gKlxuICovXG5mdW5jdGlvbiBnbG9iYWxPZmZzZXRMZWZ0KGVsZW0sIHBhcmVudCwgdXNlU3RhbmRhcmRQYXJlbnQpIHtcbiAgICByZXR1cm4gX2F1eEdsb2JhbE9mZnNldChlbGVtLCBcIm9mZnNldExlZnRcIiwgcGFyZW50LCB1c2VTdGFuZGFyZFBhcmVudCk7XG59XG5leHBvcnRzLmdsb2JhbE9mZnNldExlZnQgPSBnbG9iYWxPZmZzZXRMZWZ0O1xuO1xuLyoqXG4gKiBHbG9iYWxPZmZzZXRUb3BcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEdldHMgdGhlIG9mZnNldCB0b3Agb2YgdGhpcyBlbGVtZW50IGluIHJlZmVyZW5jZSB0byB0aGUgZW50aXJlIHBhZ2VcbiAqXG4gKiBAcGFyYW0gICBlbGVtICAgVGhlIGVsZW1lbnQgdG8gZ2V0IHRoZSBvZmZzZXQgb2ZcbiAqIEBwYXJhbSAgIHBhcmVudCBUaGUgcGFyZW50IGVsZW1lbnQgdG8gdXNlIGFzIHRoZSByZWZlcmVuY2UuIElmIG5vdFxuICogICAgICAgICAgICAgICAgIGluY2x1ZGVkLCBpdCB1c2VzIHRoZSBkb2N1bWVudC5ib2R5IGFzIHRoZSByZWZlcmVuY2VcbiAqXG4gKiBAcmV0dXJucyBUaGUgZ2xvYmFsIG9mZnNldCBvZiB0aGUgZWxlbWVtdCBmcm9tIHRoZSB0b3Agb2YgdGhlIHBhZ2UgKG9yXG4gKiAgICAgICAgICBwYXJlbnQsIGlmIGluY2x1ZGVkKVxuICpcbiAqL1xuZnVuY3Rpb24gZ2xvYmFsT2Zmc2V0VG9wKGVsZW0sIHBhcmVudCwgdXNlU3RhbmRhcmRQYXJlbnQpIHtcbiAgICByZXR1cm4gX2F1eEdsb2JhbE9mZnNldChlbGVtLCBcIm9mZnNldFRvcFwiLCBwYXJlbnQsIHVzZVN0YW5kYXJkUGFyZW50KTtcbn1cbmV4cG9ydHMuZ2xvYmFsT2Zmc2V0VG9wID0gZ2xvYmFsT2Zmc2V0VG9wO1xuO1xuLyoqXG4gKiBHbG9iYWxPZmZzZXRzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBHZXRzIGJvdGggdGhlIGxlZnQgYW5kIHRvcCBvZmZzZXRcbiAqXG4gKiBAcGFyYW0gICBlbGVtICAgIFRoZSBlbGVtZW50IHRvIGdldCB0aGUgb2Zmc2V0cyBmb3JcbiAqIEBwYXJhbSAgIHBhcmVudCAgVGhlIGVsZW1lbnQgdG8gdXNlIGFzIHRoZSByZWZlcmVuY2UgZnJhbWVcbiAqXG4gKiBAcmV0dXJucyBPYmplY3Qgd2l0aCB0aGUga2V5cyBcImxlZnRcIiBhbmQgXCJ0b3BcIlxuICpcbiAqL1xuZnVuY3Rpb24gZ2xvYmFsT2Zmc2V0cyhlbGVtLCBwYXJlbnQsIHVzZVN0YW5kYXJkUGFyZW50KSB7XG4gICAgO1xuICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IGdsb2JhbE9mZnNldExlZnQoZWxlbSwgcGFyZW50LCB1c2VTdGFuZGFyZFBhcmVudCksXG4gICAgICAgIHRvcDogZ2xvYmFsT2Zmc2V0VG9wKGVsZW0sIHBhcmVudCwgdXNlU3RhbmRhcmRQYXJlbnQpXG4gICAgfTtcbn1cbmV4cG9ydHMuZ2xvYmFsT2Zmc2V0cyA9IGdsb2JhbE9mZnNldHM7XG47XG4vKipcbiAqICBfYXV4R2xvYmFsT2Zmc2V0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGEgZ2xvYmFsIG9mZnNldFxuICpcbiAqIEBwYXJhbSAgIGVsZW0gICAgVGhlIGVsZW1lbnQgdG8gZ2V0IHRoZSBnbG9iYWwgb2Zmc2V0IGZvclxuICogQHBhcmFtICAgdHlwZSAgICBUaGUgdHlwZSBvZiBvZmZzZXQgd2Ugc2hvdWxkIGxvb2sgYXQgKGVpdGhlciBcIm9mZnNldFRvcFwiXG4gKiAgICAgICAgICAgICAgICAgIG9yIFwib2Zmc2V0V2lkdGhcIilcbiAqIEBwYXJhbSAgIHBhcmVudCAgVGhlIHBhcmVudCB0byB1c2UgYXMgdGhlIHJlZmVyZW5jZSBmcmFtZS4gVXNlcyBkb2N1bWVudC5cbiAqICAgICAgICAgICAgICAgICAgYm9keSBieSBkZWZhdWx0IHtvcHRpb25hbH1cbiAqXG4gKiBAcmV0dXJuIFRoZSBzcGVjaWZpZWQgb2Zmc2V0IGZvciB0aGUgZWxlbWVudFxuICpcbiAqL1xuZnVuY3Rpb24gX2F1eEdsb2JhbE9mZnNldChlbGVtLCB0eXBlLCBwYXJlbnQsIHVzZVN0YW5kYXJkUGFyZW50KSB7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgLy8gUmVjdXJzaXZlbHkgbG9vcCB1bnRpbCB3ZSBubyBsb25nZXIgaGF2ZSBhIHBhcmVudFxuICAgIHdoaWxlIChlbGVtICYmIChlbGVtICE9PSBwYXJlbnQpKSB7XG4gICAgICAgIGlmIChlbGVtW3R5cGVdKSB7XG4gICAgICAgICAgICBvZmZzZXQgKz0gZWxlbVt0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlU3RhbmRhcmRQYXJlbnQpIHtcbiAgICAgICAgICAgIGVsZW0gPSBlbGVtLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtID0gZWxlbS5vZmZzZXRQYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbn1cbjtcbi8qKlxuICogZ2V0U2Nyb2xsUG9zaXRpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERldGVybWluZXMgaG93IGZhciB3ZSBoYXZlIHNjcm9sbGVkIGRvd24gdGhlIHBhZ2VcbiAqXG4gKiBAcmV0dXJucyBUaGUgcG9pbnQgb2YgdGhlIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uXG4gKlxuICovXG5mdW5jdGlvbiBnZXRTY3JvbGxQb3NpdGlvbigpIHtcbiAgICBsZXQgb3V0ID0ge1xuICAgICAgICB4OiAod2luZG93LnBhZ2VYT2Zmc2V0KSA/IHdpbmRvdy5wYWdlWE9mZnNldCA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCxcbiAgICAgICAgeTogKHdpbmRvdy5wYWdlWU9mZnNldCkgPyB3aW5kb3cucGFnZVlPZmZzZXQgOiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcFxuICAgIH07XG4gICAgcmV0dXJuIG91dDtcbn1cbmV4cG9ydHMuZ2V0U2Nyb2xsUG9zaXRpb24gPSBnZXRTY3JvbGxQb3NpdGlvbjtcbi8qKlxuICogbWVhc3VyZUVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE1lYXN1cmVzIGhvdyBsYXJnZSBhbiBlbGVtZW50IGlzIHdoZW4gcmVuZGVyZWQgb24gdGhlIGRvY3VtZW50XG4gKiBAcGFyYW0gICAgIGVsZW0gICAgVGhlIGVsZW1lbnQgdG8gbWVhc3VyZVxuICogQHBhcmFtICAgICBwYXJlbnQgIFRoZSBwYXJlbnQgZWxlbWVudCB0byByZW5kZXIgdGhpcyB3aXRoaW5cbiAqIEByZXR1cm5zICAgVGhlIGNsaWVudCByZWN0IGZvciB0aGUgZWxlbWVudFxuICpcbiAqL1xuZnVuY3Rpb24gbWVhc3VyZUVsZW1lbnQoZWxlbSwgcGFyZW50KSB7XG4gICAgbGV0IGFkZGVkID0gZmFsc2U7XG4gICAgLy8gYWRkIHRvIHRoZSBkb2N1bWVudCBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gICAgaWYgKCFlbGVtLnBhcmVudE5vZGUpIHtcbiAgICAgICAgYWRkZWQgPSB0cnVlO1xuICAgICAgICAvLyBzYXZlIG9mZiB0aGUgb3BhY2l0eSBvcmlnaW5hbGx5LCB0aGVuIHNldCBpdCB0byAwXG4gICAgICAgIGxldCBvcmlnT3BhY2l0eSA9IGVsZW0uc3R5bGUub3BhY2l0eTtcbiAgICAgICAgZWxlbS5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsgZWxlbS5zdHlsZS5vcGFjaXR5ID0gb3JpZ09wYWNpdHk7IH0pO1xuICAgICAgICAvLyBhZGQgdGhlIGVsZW1lbnQgdG8gdGhlIHBhcmVudFxuICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgcGFyZW50ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgfVxuICAgIC8vIG1lYXN1cmUgdGhlIGVsZW1lbnQgb24gdGhlIHBhcmVudFxuICAgIGxldCByZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAoYWRkZWQpIHtcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVjdDtcbn1cbmV4cG9ydHMubWVhc3VyZUVsZW1lbnQgPSBtZWFzdXJlRWxlbWVudDtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gUkVMQVRJVkUgVE8gT1RIRVIgRUxFTSBGVU5DVElPTlNcbi8qKlxuICogZmluZENvbW1vblBhcmVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRmluZHMgdGhlIGNsb3Nlc3Qgc2hhcmVkIHBhcmVudCBiZXR3ZWVuIHR3byBhcmJpdHJhcnkgZWxlbWVudHNcbiAqXG4gKiBAcGFyYW0gICBlbGVtX2EgICAgVGhlIGZpcnN0IGVsZW1lbnQgdG8gZmluZCB0aGUgc2hhcmVkIHBhcmVudCBmb3JcbiAqIEBwYXJhbSAgIGVsZW1fYiAgICBUaGUgc2Vjb25kIGVsZW1lbnQgdG8gZmluZCB0aGUgc2hhcmVkIHBhcmVudCBmb3JcbiAqXG4gKiBAcmV0dXJucyBUaGUgY2xvc2VzdCBzaGFyZWQgcGFyZW50LCBvciB1bmRlZmluZWQgaWYgaXQgZG9lc24ndCBleGlzdCBvclxuICogICAgICAgICAgYW4gZXJyb3Igb2NjdXJyZWQuXG4gKlxuICovXG5mdW5jdGlvbiBmaW5kQ29tbW9uUGFyZW50KGVsZW1fYSwgZWxlbV9iKSB7XG4gICAgbGV0IHBhcmVudF9hO1xuICAgIGxldCBwYXJlbnRfYjtcbiAgICAvLyBJZiBlb3RoZXIgZWxlbWVudCBkb2Vzbid0IGV4aXN0LCBubyBwb2ludCBpbiBnb2luZyBmdXJ0aGVyXG4gICAgaWYgKCFlbGVtX2EgfHwgIWVsZW1fYilcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAvLyBTZXQgdXAgdGhlIHNvdXJjZSBwYXJlbnQsIGFuZCBxdWl0IGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICBwYXJlbnRfYSA9IGVsZW1fYTtcbiAgICAvLyBTZXQgdXAgdGhlIHJlZmVyZW5jZSBwYXJlbnQgYW5kIHF1aXQgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgIHBhcmVudF9iID0gZWxlbV9iO1xuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgcGFyZW50cyBvZiB0aGUgc291cmNlIGVsZW1lbnRcbiAgICB3aGlsZSAocGFyZW50X2EpIHtcbiAgICAgICAgLy8gQW5kIGFsbCBvZiB0aGUgcGFyZW50cyBvZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnRcbiAgICAgICAgd2hpbGUgKHBhcmVudF9iKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGV5IGFyZSB0aGUgc2FtZSBwYXJlbnQsIHdlIGhhdmUgZm91bmQgb3VyIHBhcmVudCBub2RlXG4gICAgICAgICAgICBpZiAocGFyZW50X2EgPT09IHBhcmVudF9iKVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRfYTtcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgaW5jcmVtZW50IHRoZSBwYXJlbnQgb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50XG4gICAgICAgICAgICBwYXJlbnRfYiA9IHBhcmVudF9iLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5jcmVtZW50IHRoZSBzb3VyY2UgcGFyZW50IGFuZCByZXNldCB0aGUgcmVmZXJlbmNlIHBhcmVudFxuICAgICAgICBwYXJlbnRfYSA9IHBhcmVudF9hLnBhcmVudE5vZGU7XG4gICAgICAgIHBhcmVudF9iID0gZWxlbV9iO1xuICAgIH1cbiAgICAvLyByZXR1cm4gdW5kZWZpbmVkIGlmIHdlIG5ldmVyIGZvdW5kIGEgbWF0Y2hcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0cy5maW5kQ29tbW9uUGFyZW50ID0gZmluZENvbW1vblBhcmVudDtcbjtcbi8qKlxuICogbW92ZVJlbFRvRWxlbWVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogTW92ZXMgYSBnaXZlbiBlbGVtZW50IHRvIGEgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICpcbiAqIFRoaXMgaXMgZm9yIGNhc2VzIHdoZXJlIHlvdSBoYXZlIHR3byBlbGVtZW50cyB3aXRoIGRpZmZlcmVudCBwYXJlbnRzLCBhbmRcbiAqIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhhdCBlbGVtZW50IEEgaXMgc29tZSBudW1iZXIgb2YgcGl4ZWxzIGluIHNvbWVcbiAqIGRpcmVjdGlvbiBjb21wYXJlZCB0byBlbGVtZW50IEIuXG4gKlxuICogQHBhcmFtICAgZWxlbSAgICBUaGUgZWxlbWVudCB0byBtb3ZlXG4gKiBAcGFyYW0gICByZWYgICAgIFRoZSBlbGVtZW50IHRvIHVzZSBhcyB0aGUgcmVmZXJlbmNlIGVsZW1lbnRcbiAqIEBwYXJhbSAgIHggICAgICAgVGhlIHggb2Zmc2V0IHRvIGdpdmUgdGhpcyBlbGVtZW50LCByZWxhdGl2ZSB0byB0aGUgcmVmZXJlbmNlXG4gKiBAcGFyYW0gICB5ICAgICAgIFRoZSB5IG9mZnNldCB0byBnaXZlIHRoaXMgZWxlbWVudCwgcmVsYXRpdmUgdG8gdGhlIHJlZmVyZW5jZVxuICogQHBhcmFtICAgbm9fbW92ZSBJZiBzZXQgdG8gZmFsc2UsIG9ubHkgcmV0dXJucyB0aGUgb2Zmc2V0X3ggYW5kIG9mZnNldF95IHRoYXRcbiAqICAgICAgICAgICAgICAgICAgdGhlIGVsZW1lbnQgd291bGQgaGF2ZSB0byBiZSBtb3ZlZCB7b3B0aW9uYWx9XG4gKlxuICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGtleXMgeCBhbmQgeSwgc2V0IHRvIHRoZSBvZmZzZXQgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAqXG4gKi9cbmZ1bmN0aW9uIG1vdmVSZWxUb0VsZW0oZWxlbSwgcmVmLCB4LCB5LCBub19tb3ZlKSB7XG4gICAgbGV0IG9mZnNldF9tZTtcbiAgICBsZXQgb2Zmc2V0X3RoZW07XG4gICAgbGV0IGR4O1xuICAgIGxldCBkeTtcbiAgICAvLyBGaW5kIHRoZSBvZmZzZXRzIGdsb2JhbGx5IGZvciBlYWNoIGVsZW1lbnRcbiAgICBvZmZzZXRfbWUgPSBnbG9iYWxPZmZzZXRzKGVsZW0pO1xuICAgIG9mZnNldF90aGVtID0gZ2xvYmFsT2Zmc2V0cyhlbGVtKTtcbiAgICAvLyBGaW5kIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlaXIgZ2xvYmFsIG9mZnNldHNcbiAgICBkeCA9IChvZmZzZXRfdGhlbS5sZWZ0ICsgeCkgLSBvZmZzZXRfbWUubGVmdDtcbiAgICBkeSA9IChvZmZzZXRfdGhlbS50b3AgKyB5KSAtIG9mZnNldF9tZS50b3A7XG4gICAgLy8gQWRqdXN0IHRoZSBlbGVtZW50IHRvIHRoZSBwb3NpdGlvbiBzcGVjaWZpZWRcbiAgICBpZiAoIW5vX21vdmUpIHtcbiAgICAgICAgZWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgZWxlbS5zdHlsZS5sZWZ0ID0gZHggKyBcInB4XCI7XG4gICAgICAgIGVsZW0uc3R5bGUudG9wID0gZHkgKyBcInB4XCI7XG4gICAgfVxuICAgIC8vIEFsd2F5cyByZXR1cm4gdGhlIG9mZnNldCB3ZSBhc3NpZ25lZCB0aGlzIGVsZW1lbnQuXG4gICAgcmV0dXJuIHsgeDogZHgsIHk6IGR5IH07XG59XG5leHBvcnRzLm1vdmVSZWxUb0VsZW0gPSBtb3ZlUmVsVG9FbGVtO1xuO1xuZnVuY3Rpb24gaXNJbkRPTShlbGVtKSB7XG4gICAgbGV0IHBhcmVudE5vZGUgPSBlbGVtLnBhcmVudE5vZGU7XG4gICAgd2hpbGUgKHBhcmVudE5vZGUpIHtcbiAgICAgICAgaWYgKHBhcmVudE5vZGUgPT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuaXNJbkRPTSA9IGlzSW5ET007XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29sbGVjdGlvblR5cGVFbnVtXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBLZWVwcyB0cmFjayBvZiB0aGUgZGlmZmVyZW50IHdheXMgd2UgY2FuIGFkZCB0byBhIGNvbGxlY3Rpb25cbiAqL1xudmFyIENvbGxlY3Rpb25UeXBlRW51bTtcbihmdW5jdGlvbiAoQ29sbGVjdGlvblR5cGVFbnVtKSB7XG4gICAgQ29sbGVjdGlvblR5cGVFbnVtW0NvbGxlY3Rpb25UeXBlRW51bVtcIlJlcGxhY2VEdXBsaWNhdGVLZXlzXCJdID0gMV0gPSBcIlJlcGxhY2VEdXBsaWNhdGVLZXlzXCI7XG4gICAgQ29sbGVjdGlvblR5cGVFbnVtW0NvbGxlY3Rpb25UeXBlRW51bVtcIklnbm9yZUR1cGxpY2F0ZUtleXNcIl0gPSAyXSA9IFwiSWdub3JlRHVwbGljYXRlS2V5c1wiO1xufSkoQ29sbGVjdGlvblR5cGVFbnVtID0gZXhwb3J0cy5Db2xsZWN0aW9uVHlwZUVudW0gfHwgKGV4cG9ydHMuQ29sbGVjdGlvblR5cGVFbnVtID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBfbm9ybWFsaXplVmFsdWVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIG1ha2Ugc3VyZSBhIHZhbHVlIGlzIG5vdCBwYXN0IHRoZSByZWxldmFudCBleHRyZW1hXG4gKlxuICogQHBhcmFtXHR2YWxcdFx0VGhlIHZhbHVlIHRvIG5vcm1hbGl6ZVxuICogQHBhcmFtXHRtaW4gICAgIFRoZSBtaW5pbXVtIHRoaXMgdmFsdWUgY2FuIGJlXG4gKiBAcGFyYW0gICBtYXggICAgIFRoZSBtYXhpbXVtIHRoaXMgdmFsdWUgY2FuIGJlXG4gKlxuICogQHJldHVybnMgVGhlIG5vcm1hbGl6ZWQgdmFsdWVcbiAqXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbCwgbWluLCBtYXgpIHtcbiAgICBpZiAodmFsIDwgbWluKSB7XG4gICAgICAgIHZhbCA9IG1pbjtcbiAgICB9XG4gICAgaWYgKHZhbCA+IG1heCkge1xuICAgICAgICB2YWwgPSBtYXg7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59XG5leHBvcnRzLm5vcm1hbGl6ZVZhbHVlID0gbm9ybWFsaXplVmFsdWU7XG4vKipcbiAqIGJvdW5kZWRSYW5kb21OdW1iZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEZpbmQgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdHdvIHZhbHVlc1xuICpcbiAqIEBwYXJhbSAgIG1heCAgICAgICAgICAgICBUaGUgbWF4aW11bSB2YWx1ZSBhY2NlcHRlZFxuICogQHBhcmFtICAgbWluICAgICAgICAgICAgIFRoZSBtaW5pbXVuIHZhbHVlIGFjY2VwdGVkLiBEZWZhdWx0cyB0byAwXG4gKiBAcGFyYW0gICBpc0V4Y2x1c2l2ZSAgICAgVHJ1ZSBpZiB3ZSBzaG91bGQgbm90IGluY2x1ZGUgdGhlIG1heC9taW4gdmFsdWVzXG4gKlxuICogQHJldHVybnMgQSByYW5kb20gbnVtYmVyIGZpdHRpbmcgdGhlc2UgcGFyYW1ldGVyc1xuICpcbiAqL1xuZnVuY3Rpb24gYm91bmRlZFJhbmRvbU51bWJlcihtYXgsIG1pbiwgaXNFeGNsdXNpdmUpIHtcbiAgICBpZiAoIW1pbikge1xuICAgICAgICBtaW4gPSAwO1xuICAgIH1cbiAgICAvLyBtYWtlIHN1cmUgd2UgY2FuIGhhbmRsZSB0aGUgaW5jbHVzaXZpdHlcbiAgICBpZiAoaXNFeGNsdXNpdmUpIHtcbiAgICAgICAgbWluICs9IDE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtYXggKz0gMTtcbiAgICB9XG4gICAgcmV0dXJuIG1pbiArIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkpO1xufVxuZXhwb3J0cy5ib3VuZGVkUmFuZG9tTnVtYmVyID0gYm91bmRlZFJhbmRvbU51bWJlcjtcbi8qKlxuICogcm91bmRUb1BsYWNlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gcm91bmQgYSBudW1iZXIgdG8gYSBwYXJ0aWN1bGFyIHBsYWNlXG4gKlxuICogQHBhcmFtICAgbnVtICAgICBUaGUgbnVtYmVyIHRvIHJvdW5kXG4gKiBAcGFyYW0gICBwbGFjZSAgIEEgbXVsdGlwbGUgb2YgMTAgdGhhdCBpbmRpY2F0ZXMgdGhlIGRlY2ltYWwgcGxhY2UgdG8gcm91bmRcbiAqICAgICAgICAgICAgICAgICAgdG8uIEkuZS4sIHBhc3NpbmcgaW4gMTAwIHdvdWxkIHJvdW5kIHRvIHRoZSBodW5kcmVkdGhzXG4gKiAgICAgICAgICAgICAgICAgIHBsYWNlXG4gKlxuICogQHJldHVybnMgVGhlIHJvdW5kZWQgbnVtYmVyXG4gKlxuICovXG5mdW5jdGlvbiByb3VuZFRvUGxhY2UobnVtLCBwbGFjZSkge1xuICAgIHJldHVybiAoTWF0aC5yb3VuZChudW0gKiBwbGFjZSkgLyBwbGFjZSk7XG59XG5leHBvcnRzLnJvdW5kVG9QbGFjZSA9IHJvdW5kVG9QbGFjZTtcbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBpc1N0cmluZ1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ2hlY2sgaWYgdGhlIGVsZW1lbnQgaXMgYSBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodGVzdCkge1xuICAgIHJldHVybiAodHlwZW9mIHRlc3QgPT09IFwic3RyaW5nXCIpO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuLyoqXG4gKiBpc051bWJlclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY2hlY2sgaWYgdGhlIGVsZW1lbnQgaXMgYSBudW1iZXJcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodGVzdCkge1xuICAgIHJldHVybiAodHlwZW9mIHRlc3QgPT09IFwibnVtYmVyXCIpO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuLyoqIGlzQm9vbGVhblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY2hlY2sgaWYgdGhlIGVsZW1lbnQgaXMgYSBib29sZWFuXG4gKi9cbmZ1bmN0aW9uIGlzQm9vbGVhbih0ZXN0KSB7XG4gICAgcmV0dXJuICh0eXBlb2YgdGVzdCA9PT0gXCJib29sZWFuXCIpO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG4vKipcbiAqIGlzRnVuY3Rpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNoZWNrIGlmIHRoZSBlbGVtZW50IGlzIGEgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih0ZXN0KSB7XG4gICAgcmV0dXJuICh0eXBlb2YgdGVzdCA9PT0gXCJmdW5jdGlvblwiKTtcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4vKipcbiAgKiBpc0FycmF5XG4gICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAqIENoZWNrIGlmIHNvbWUgZGF0YSBpcyBhbiBhcnJheVxuICAqIEBwYXJhbSAgIHRlc3QgIFRoZSBkYXRhIHRvIGNoZWNrXG4gICogQHJldHVybnMgVHJ1ZSAod2l0aCB0eXBlIHNhZmV0eSkgaWYgdGhlIGRhdGEgaXMgYW4gYXJyYXlcbiAgKi9cbmZ1bmN0aW9uIGlzQXJyYXkodGVzdCkge1xuICAgIHJldHVybiAodGVzdCBpbnN0YW5jZW9mIEFycmF5KTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG4vKipcbiAgKiBpc09iamVjdFxuICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgKiBDaGVja3MgaWYgc29tZSBkYXRhIGlzIGEgY29tcGxleCBvYmplY3RcbiAgKiBAcGFyYW0gICB0ZXN0ICBUaGUgZGF0YSB0byBjaGVja1xuICAqIEByZXR1cm5zIFRydWUgKHdpdGggdHlwZSBzYWZldHkpIGlmIHRoZSBkYXRhIGlzIGFuIG9iamVjdFxuICAqXG4gICovXG5mdW5jdGlvbiBpc09iamVjdCh0ZXN0KSB7XG4gICAgcmV0dXJuICh0eXBlb2YgdGVzdCA9PT0gdHlwZW9mIHt9KTtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL2Nzc1wiKTtcbmNvbnN0IGh0bWxHdWFyZF8xID0gcmVxdWlyZShcIi4uL3R5cGVHdWFyZHMvaHRtbEd1YXJkXCIpO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG4vKipcbiAqIHJlbW92ZVN1YmNsYXNzRnJvbUFsbEVsZW5lbnRzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBbGxvd3MgeW91IHRvIGVhc2lseSByZW1vdmUgYSBzdWJjbGFzcyBmcm9tIGFsbCBlbGVtZW50cyB0aGF0IGhhdmUgYSBjZXJ0YWluXG4gKiBtYWluIGNsYXNzLiBVc2VmdWwgZm9yIHRoaW5ncyBsaWtlIGJ1dHRvbiBzZWxlY3Rpb25cbiAqXG4gKiBAcGFyYW0gICBjbHMgICAgICAgVGhlIG1haW4gY2xhc3MgdG8gZmluZCBhbGwgZWxlbWVudHMgb2ZcbiAqIEBwYXJhbSAgIHN1YmNscyAgICBUaGUgc3ViIGNsYXNzIHRvIHJlbW92ZSBmcm9tIGFsbCBvZiB0aG9zZSBlbGVtZW50c1xuICogQHBhcmFtICAgZXhjZXB0aW9uIElmIG5lZWRlZCwgYSBzaW5nbGUgZWxlbWVudCB0aGF0IHNob3VsZFxuICogICAgICAgICAgICAgICAgICAgIG5vdCBoYXZlIGl0cyBzdWJjbGFzcyByZW1vdmVkLlxuICpcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlU3ViY2xhc3NGcm9tQWxsRWxlbWVudHMoY2xzLCBzdWJjbHMsIGV4Y2VwdGlvbikge1xuICAgIGxldCBlbGVtcztcbiAgICBsZXQgZTtcbiAgICBsZXQgZWxlbTtcbiAgICBlbGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xzKTtcbiAgICBmb3IgKGUgPSAwOyBlIDwgZWxlbXMubGVuZ3RoOyBlICs9IDEpIHtcbiAgICAgICAgZWxlbSA9IGVsZW1zW2VdO1xuICAgICAgICAvLyBPbmx5IHJlbW92ZSBpdCBpZiBpdCBpc24ndCB0aGUgZXhjZXB0aW9uXG4gICAgICAgIGlmIChlbGVtICE9PSBleGNlcHRpb24pIHtcbiAgICAgICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKGVsZW0sIHN1YmNscyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLnJlbW92ZVN1YmNsYXNzRnJvbUFsbEVsZW1lbnRzID0gcmVtb3ZlU3ViY2xhc3NGcm9tQWxsRWxlbWVudHM7XG47XG4vKipcbiAqIGFkZFJlc2l6aW5nRWxlbWVudCAoVU5JTVBMRU1FTlRFRClcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEFkZHMgYW4gZWxlbWVudCB0byB0aGUgZG9jdW1lbnQgdGhhdCBzaG91bGQgcmVzaXplIHdpdGggdGhlIGRvY3VtZW50XG4gKlxuICogQHBhcmFtICAgZWxlbSAgICAgICAgVGhlIGVsZW1lbnQgdGhhdCBzaG91bGQgcmVzaXplXG4gKiBAcGFyYW0gICBmaXhlZFJhdGlvICBJZiBwcm92aWRlZCwga2VlcHMgdGhlIGltYWdlIGF0IHRoaXMgZml4ZWQgcmF0aW8gb2YgdzpoIGF0IGFsbCBkb2N1bWVudCBzaXplc1xuICogQHBhcmFtICAgZm9yY2VJbml0VyAgT3B0aW9uYWxseSBmb3JjZSB0aGUgaW5pdGlhbCB3aWR0aCB0byBhIGNlcnRhaW4gdmFsdWVcbiAqIEBwYXJhbSAgIGZvcmNlSW5pdEggIE9wdGlvbmFsbHkgZm9yY2UgdGhlIGluaXRpYWwgaGVpZ2h0IHRvIGEgY2VydGFpbiB2YWx1ZVxuICpcbiAqL1xuZnVuY3Rpb24gYWRkUmVzaXppbmdFbGVtZW50KGVsZW0sIGZpeGVkUmF0aW8sIGZvcmNlSW5pdFcsIGZvcmNlSW5pdEgpIHtcbiAgICAvLyBUT0RPOiBpbXBsZW1lbnRcbn1cbjtcbi8qKlxuICogcmVzaXplRWxlbWVudCAoVU5JTVBMRU1FTlRFRClcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFJlc2l6ZXMgYW4gZWxlbWVudCB0byBiZSB0aGUgc2FtZSByYXRpbyBhcyBpdCBwcmV2aW91c2x5IHdhc1xuICogQHBhcmFtICAgb2JqICAgVGhlIGVsZW1lbnQgdG8gcmVzaXplXG4gKlxuICovXG5mdW5jdGlvbiByZXNpemVFbGVtZW50KG9iaikge1xuICAgIC8vIFRPRE86IGltcGxlbWVudFxufVxuO1xuLyoqXG4qIGlzQ2hpbGRFdmVudFRhcmdldFxuKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qIENoZWNrcyBpZiBhIGNoaWxkIG9mIHRoZSBjdXJyZW50IHRhc2sgaXMgYmVpbmcgdGFyZ2V0ZWQgYnkgdGhlIGV2ZW50XG4qXG4qIEBwYXJhbSAgIGV2ICAgIFRoZSBldmVudCB0aGF0IGlzIGJlaW5nIHRyaWdnZXJlZFxuKiBAcGFyYW0gICByb290ICBUaGUgcGFyZW50IHRvIGNoZWNrIGZvclxuKlxuKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBldmVudCBpcyBiZWluZyB0cmlnZ2VyZWQgb24gYSBjaGlsZCBlbGVtZW50IG9mIHRoZVxuKiAgICAgICAgICByb290IGVsZW1lbnQsIGZhbHNlIG90aGVyd2lzZVxuKlxuKi9cbmZ1bmN0aW9uIGlzQ2hpbGRFdmVudFRhcmdldChldiwgcm9vdCkge1xuICAgIDtcbiAgICByZXR1cm4gaXNDaGlsZChyb290LCBldi50YXJnZXQpO1xufVxuZXhwb3J0cy5pc0NoaWxkRXZlbnRUYXJnZXQgPSBpc0NoaWxkRXZlbnRUYXJnZXQ7XG47XG4vKipcbiAqIGlzQ2hpbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENoZWNrcyBpZiBhbiBlbGVtZW50IGlzIGEgY2hpbGQgb2YgdGhlIHByb3ZpZGVkIHBhcmVudCBlbGVtZW50XG4gKlxuICogQHBhcmFtICAgcm9vdCAgICBUaGUgcGFyZW50IHRvIGNoZWNrIGZvclxuICogQHBhcmFtICAgY2hpbGQgICBUaGUgZWxlbWVudCB0byBjaGVjayBmb3IgYmVpbmcgYSBjaGlsZCBvZiB0aGUgcm9vdCBub2RlXG4gKiBAcGFyYW0gICBsZXZlbHMgIFRoZSBtYXhpbXVtIG51bWJlciBvZiBsYXllcnMgdGhhdCB0aGUgY2hpbGQgY2FuIGJlXG4gKiAgICAgICAgICAgICAgICAgIHNlcGFyYXRlZCBmcm9tIGl0cyBwYXJlbnQuIElnbm9yZWQgaWYgbm90IHNldC5cbiAqXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBjaGlsZCBoYXMgdGhlIHJvb3QgYXMgYSBwYXJlbnRcbiAqXG4gKi9cbmZ1bmN0aW9uIGlzQ2hpbGQocm9vdCwgY2hpbGQpIHtcbiAgICA7XG4gICAgbGV0IHBhcmVudDtcbiAgICBwYXJlbnQgPSBjaGlsZDtcbiAgICAvLyBMb29wIHRocm91Z2ggdGlsIHdlIGVpdGhlciBoYXZlIGEgbWF0Y2ggb3IgcmFuIG91dCBvZiBwYXJlbnRzXG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICBpZiAocGFyZW50ID09PSByb290KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmlzQ2hpbGQgPSBpc0NoaWxkO1xuO1xuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBBREQgT1IgUkVNT1ZFIEFMTCBDSElMRFJFTlxuLyoqXG4gKiBhcHBlbmRDaGlsZHJlblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQXBwZW5kcyBhbiBhcmJpdHJhcnkgbnVtYmVyIG9mIGNoaWxkcmVuIHRvIHRoZSBzcGVjaWZpZWQgcGFyZW50IG5vZGUuIExvb3BzXG4gKiB0aHJvdWdoIGFsbCBtZW1iZXJzIG9mIHRoZSBhcmd1bWVudCBsaXN0IHRvIGdldCB0aGUgYXBwcm9wcmlhdGUgY2hpbGRyZW5cbiAqIHRvIGFkZC5cbiAqXG4gKiBAcGFyYW0gICBwYXJlbnQgIFRoZSBwYXJlbnQgZWxlbWVudCB0byBhZGQgY2hpbGRyZW4gdG9cbiAqIEBwYXJhbSAgIGtpZHMgICAgQW55IGNoaWxkcmVuIHRoYXQgc2hvdWxkIGJlIGFwcGVuZGVkXG4gKi9cbmZ1bmN0aW9uIGFwcGVuZENoaWxkcmVuKHBhcmVudCwgLi4ua2lkcykge1xuICAgIDtcbiAgICBsZXQgaWR4O1xuICAgIGZvciAoaWR4ID0gMDsgaWR4IDwga2lkcy5sZW5ndGg7IGlkeCArPSAxKSB7XG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChraWRzW2lkeF0pO1xuICAgIH1cbn1cbmV4cG9ydHMuYXBwZW5kQ2hpbGRyZW4gPSBhcHBlbmRDaGlsZHJlbjtcbi8qKlxuICogY2xlYXJDaGlsZHJlblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogcmVtb3ZlIGFsbCBjaGlsZHJlbiBmcm9tIHRoZSBzcGVjaWZpZWQgcGFyZW50IGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY2xlYXJDaGlsZHJlbihwYXJlbnQpIHtcbiAgICBmb3IgKGxldCBpZHggPSBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaWR4ID49IDA7IGlkeCAtPSAxKSB7XG4gICAgICAgIGxldCBjaGlsZCA9IHBhcmVudC5jaGlsZHJlbltpZHhdO1xuICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH1cbn1cbmV4cG9ydHMuY2xlYXJDaGlsZHJlbiA9IGNsZWFyQ2hpbGRyZW47XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vKipcbiAqIG1vdmVFbGVtUmVsYXRpdmVQb3NpdGlvblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogTW92ZXMgYW4gZWxlbWVudCBhIHJlbGF0aXZlIGFub3VudFxuICpcbiAqIEBwYXJhbSAgIGVsZW0gICAgICBUaGUgZWxlbWVudCB0byBtb3ZlXG4gKiBAcGFyYW0gICBkaXN0YW5jZSAgVGhlIHJlbGF0aXZlIGRpc3RhbmNlIHRvIG1vdmVcbiAqXG4gKi9cbmZ1bmN0aW9uIG1vdmVFbGVtUmVsYXRpdmVQb3NpdGlvbihlbGVtLCBkaXN0YW5jZSkge1xuICAgIGxldCB0b3AgPSBwYXJzZUludChlbGVtLnN0eWxlLnRvcCkgfHwgMDtcbiAgICBsZXQgbGVmdCA9IHBhcnNlSW50KGVsZW0uc3R5bGUubGVmdCkgfHwgMDtcbiAgICBlbGVtLnN0eWxlLnRvcCA9ICh0b3AgKyBkaXN0YW5jZS55KSArIFwicHhcIjtcbiAgICBlbGVtLnN0eWxlLmxlZnQgPSAobGVmdCArIGRpc3RhbmNlLngpICsgXCJweFwiO1xufVxuZXhwb3J0cy5tb3ZlRWxlbVJlbGF0aXZlUG9zaXRpb24gPSBtb3ZlRWxlbVJlbGF0aXZlUG9zaXRpb247XG4vKipcbiAqIHJlc2V0UGFnZUZvY3VzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBSZXNldCB3aGVyZSBjdXJyZW50IGZvY3VzIGlzIHRvIHRoZSB0b3Agb2YgdGhlIHBhZ2VcbiAqXG4gKi9cbmZ1bmN0aW9uIHJlc2V0UGFnZUZvY3VzKCkge1xuICAgIGxldCBvbGRUYWJJbmRleCA9IC0xO1xuICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChkb2N1bWVudC5ib2R5LnRhYkluZGV4KSkge1xuICAgICAgICBvbGRUYWJJbmRleCA9IGRvY3VtZW50LmJvZHkudGFiSW5kZXg7XG4gICAgfVxuICAgIGRvY3VtZW50LmJvZHkudGFiSW5kZXggPSAwO1xuICAgIGRvY3VtZW50LmJvZHkuZm9jdXMoKTtcbiAgICBkb2N1bWVudC5ib2R5LnRhYkluZGV4ID0gb2xkVGFiSW5kZXg7XG59XG5leHBvcnRzLnJlc2V0UGFnZUZvY3VzID0gcmVzZXRQYWdlRm9jdXM7XG4vKipcbiAqIHJlbW92ZUVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFJlbW92ZSBhbiBlbGVtZW50IGZyb20gdGhlIERPTVxuICogQHBhcmFtICAgZWxlbSAgICBUaGUgZWxlbWVudCB0byByZW1vdmVcbiAqXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZWxlbSkge1xuICAgIGlmICghZWxlbS5wYXJlbnROb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW0pO1xufVxuZXhwb3J0cy5yZW1vdmVFbGVtZW50ID0gcmVtb3ZlRWxlbWVudDtcbi8qKlxuICogc2VsZWN0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTZWxlY3RzIHRoZSBjb250ZW50cyBvZiBhbiBIVE1MIGVsZW1lbnQsIHdoZXRoZXIgYW4gaW5wdXQgb3IgYVxuICogY29udGVudC1lZGl0YWJsZSBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSAgIGh0bWxFbGVtICAgIFRoZSBlbGVtZW50IHRvIHNlbGVjdCB0aGUgY29udGVudHMgb2ZcbiAqXG4gKi9cbmZ1bmN0aW9uIHNlbGVjdChodG1sRWxlbSkge1xuICAgIC8vIGVsZW1lbnRzIHRoYXQgaGF2ZSBzZWxlY3QgYnVpbHQgaW4gYXJlIGVhc3k6IGp1c3QgdXNlIHRoZWlyIGZ1bmN0aW9uXG4gICAgaWYgKGh0bWxHdWFyZF8xLmlzU2VsZWN0YWJsZShodG1sRWxlbSkpIHtcbiAgICAgICAgaHRtbEVsZW0uc2VsZWN0KCk7XG4gICAgICAgIC8vIGNvbnRlLWVkaXRhYmxlIGFyZWFzIGFyZSB0cmlja2llcjsgdXNlIHNvbWUgcmFuZ2UgbG9naWMgXG4gICAgICAgIC8vICh0YWtlbiBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzYxMzkxMDcvcHJvZ3JhbW1hdGljYWxseS1zZWxlY3QtdGV4dC1pbi1hLWNvbnRlbnRlZGl0YWJsZS1odG1sLWVsZW1lbnQpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBnZXQgdGhlIHJhbmdlIG9mIHRoZSBlbGVtZW50XG4gICAgICAgIGxldCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhodG1sRWxlbSk7XG4gICAgICAgIC8vIHNldCB0aGUgd2luZG93IHNlbGVjdGlvbiB0byBiZSB0aGUgcmFuZ2UgZm9yIHRoZSBlbGVtZW50XG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICB9XG59XG5leHBvcnRzLnNlbGVjdCA9IHNlbGVjdDtcbmV4cG9ydHMuSFRNTF9UQUIgPSBcIiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwO1wiO1xuLyoqXG4gKiBlbmNvZGVGb3JIVE1MXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBFbmNvZGUgYSBzdHJpbmcgc28gdGhhdCBpdCBjYW4gcmVuZGVyIGFwcHJvcHJpYXRlbHkgaW4gSFRNTCBjb250ZXh0c1xuICogQHBhcmFtICAgZGF0YSAgICBUaGUgZGF0YSB0byBlbmNvZGVcbiAqIEByZXR1cm5zIFRoZSBlbmNvZGVkIGRhdGFcbiAqXG4gKi9cbmZ1bmN0aW9uIGVuY29kZUZvckhUTUwoZGF0YSkge1xuICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoLyYvZywgXCImYW1wO1wiKTtcbiAgICBkYXRhID0gZGF0YS5yZXBsYWNlKC88L2csIFwiJmx0O1wiKTtcbiAgICBkYXRhID0gZGF0YS5yZXBsYWNlKC8+L2csIFwiJmd0O1wiKTtcbiAgICAvLyB3aGl0ZXNwYWNlXG4gICAgZGF0YSA9IGRhdGEucmVwbGFjZSgvXFxcXG4vZywgXCI8YnI+XCIpO1xuICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoL1xcXFx0L2csIGV4cG9ydHMuSFRNTF9UQUIpO1xuICAgIHJldHVybiBkYXRhO1xufVxuZXhwb3J0cy5lbmNvZGVGb3JIVE1MID0gZW5jb2RlRm9ySFRNTDtcbi8qKlxuICogZGVjb2RlRnJvbUhUTUxcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEZyb20gYW4gSFRNTC1yZW5kZXJhYmxlIHN0cmluZywgY29udmVydCBiYWNrIHRvIHN0YW5kYXJkIHN0cmluZ3NcbiAqIEBwYXJhbSAgIGRhdGEgICAgVGhlIHN0cmluZyB0byB1bmVuY29kZVxuICogQHJldHVybnMgVGhlIGRlY29kZWQgZGF0YVxuICovXG5mdW5jdGlvbiBkZWNvZGVGcm9tSFRNTChkYXRhKSB7XG4gICAgZGF0YSA9IGRhdGEucmVwbGFjZSgvJmFtcDsvZywgXCImXCIpO1xuICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoLyZsdDsvZywgXCI8XCIpO1xuICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoLyZndDsvZywgXCI+XCIpO1xuICAgIC8vIHNvbWUgdW5jb21tb24gYnV0IHBvc3NpYmxlIGNvbnRyb2wgY2hhcmFjdGVyc1xuICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoLyZxdW90Oy9nLCBcIlxcXCJcIik7XG4gICAgZGF0YSA9IGRhdGEucmVwbGFjZSgvJmFwb3M7L2csIFwiJ1wiKTtcbiAgICAvLyB3aGl0ZXNwYWNlIHJlcGxhY2VtZW50c1xuICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoLzxicj4vZywgXCJcXG5cIik7XG4gICAgZGF0YSA9IGRhdGEucmVwbGFjZShuZXcgUmVnRXhwKGV4cG9ydHMuSFRNTF9UQUIsIFwiZ1wiKSwgXCJcXHRcIik7XG4gICAgZGF0YSA9IGRhdGEucmVwbGFjZSgvJm5ic3A7L2csIFwiIFwiKTtcbiAgICByZXR1cm4gZGF0YTtcbn1cbmV4cG9ydHMuZGVjb2RlRnJvbUhUTUwgPSBkZWNvZGVGcm9tSFRNTDtcbi8qKlxuICogcmVwbGFjZUVsZW1XaXRoRWxlbVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogcmVwbGFjZSBhIHBhcnRpY3VsYXIgZWxlbWVudCB3aXRoIGFub3RoZXIgaW4gdGhlIERPTVxuICpcbiAqIEBwYXJhbSAgIGVsZW1Ub1JlcGxhY2UgICBUaGUgZWxlbWVudCB0byByZW1vdmVcbiAqIEBwYXJhbSAgIHJlcGxhY2VtZW50ICAgICBUaGUgZWxlbWVudCB0byByZXBsYWNlIHdpdGhcbiAqL1xuZnVuY3Rpb24gcmVwbGFjZUVsZW1XaXRoRWxlbShlbGVtVG9SZXBsYWNlLCByZXBsYWNlbWVudCkge1xuICAgIGlmICghZWxlbVRvUmVwbGFjZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZ3JhYiB0aGUgY3VycmVudCByZWZlcmVuY2VzIHRoYXQgd2UnbGwgbmVlZCB0byBwcm9wZXJseSByZXBsYWNlXG4gICAgbGV0IG5leHRDaGlsZCA9IGVsZW1Ub1JlcGxhY2UubmV4dFNpYmxpbmc7XG4gICAgbGV0IHBhcmVudCA9IGVsZW1Ub1JlcGxhY2UucGFyZW50Tm9kZTtcbiAgICAvLyByZW1vdmUgdGhlIGN1cnJlbnQgZWxlbWVudCBhbmQgYWRkIG91ciBuZXcgb25lXG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1Ub1JlcGxhY2UpO1xuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUocmVwbGFjZW1lbnQsIG5leHRDaGlsZCk7XG59XG5leHBvcnRzLnJlcGxhY2VFbGVtV2l0aEVsZW0gPSByZXBsYWNlRWxlbVdpdGhFbGVtO1xuLyoqXG4gKiBpc1Zpc2libGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGRldGVybWluZSBpZiBhIHBhcnRpY3VsYXIgZWxlbWVudCBpcyB2aXNpYmxlIHRvIHRoZSBlbmQgdXNlclxuICogQHBhcmFtICAgZWxlbSAgICBUaGUgZWxlbWVudCB0byBjaGVja1xuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZWxlbWVudCBpcyB2aXNpYmxlOyBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZnVuY3Rpb24gaXNWaXNpYmxlKGVsZW0pIHtcbiAgICBpZiAoZWxlbS5vZmZzZXRXaWR0aCAhPT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGVsZW0ub2Zmc2V0SGVpZ2h0ICE9PSAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmlzVmlzaWJsZSA9IGlzVmlzaWJsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uLy4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG5jb25zdCBjc3NfMSA9IHJlcXVpcmUoXCIuLi8uLi9zdHlsZUhlbHBlcnMvY3NzXCIpO1xuY29uc3QgdHJhbnNpdGlvbl8xID0gcmVxdWlyZShcIi4uLy4uL3N0eWxlSGVscGVycy90cmFuc2l0aW9uXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIENvbGxhcHNpYmxlRmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhIGNvbGxhcHNpYmxlIGVsZW1lbnQgb2YgdGhlIGZvcm1cbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjFcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQ29sbGFwc2libGVGaWVsZCBleHRlbmRzIF9maWVsZF8xLkZpZWxkIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBFTEVNRU5UU1xuICAgIF9wYXJzZUZpZWxkVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgc3VwZXIuX3BhcnNlRmllbGRUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICAgIHRoaXMuX2lzQ29sbGFwc2VkID0gKCF0ZW1wbGF0ZS5pc0V4cGFuZGVkICYmICF0ZW1wbGF0ZS5oaWRlVGl0bGUgJiYgIXRlbXBsYXRlLnVuY29sbGFwc2libGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlQ29sbGFwc2libGVUaXRsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIHRpdGxlIGZvciBhIGNvbGxhcHNpYmxlIHNlY3Rpb24gJiBhc3NvY2lhdGVkIGljb25zXG4gICAgICovXG4gICAgX2NyZWF0ZUNvbGxhcHNpYmxlVGl0bGUoKSB7XG4gICAgICAgIGxldCB0aXRsZUNscyA9IFwic2VjdGlvbkhlYWRlckNvbnRhaW5lclwiO1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmhpZGVUaXRsZSkge1xuICAgICAgICAgICAgdGl0bGVDbHMgKz0gXCIgaGlkZGVuXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWxlbXMudGl0bGVDb250YWluZXIgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IHRpdGxlQ2xzLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlLFxuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lcnM6IHtcbiAgICAgICAgICAgICAgICBjbGljazogKCkgPT4geyB0aGlzLl9vbkNhcmV0Q2xpY2tlZCgpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy50aXRsZSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwic2VjdGlvbkhlYWRlclwiLCB0aGlzLl9jb25maWcubGFiZWwsIG51bGwsIG51bGwsIHRoaXMuX2VsZW1zLnRpdGxlQ29udGFpbmVyKTtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy51bmNvbGxhcHNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWxlbXMuY29sbGFwc2VFbGVtID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJjYXJldFwiLCBcIlxcdTI1QjVcIiwgbnVsbCwgbnVsbCwgdGhpcy5fZWxlbXMudGl0bGVDb250YWluZXIpO1xuICAgICAgICAvLyBhZGQgYSB0cmFja2luZyBjbGFzcyB0byB0aGUgY29yZSBlbGVtZW50XG4gICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiY29sbGFwc2libGVcIik7XG4gICAgICAgIC8vIHN0YXJ0IGNvbGxhcHNlZFxuICAgICAgICBpZiAodGhpcy5faXNDb2xsYXBzZWQpIHtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiY29sbGFwc2VkXCIpO1xuICAgICAgICAgICAgdGhpcy5faXNDb2xsYXBzZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBFWFBBTkQgKyBDT0xMQVBTRVxuICAgIC8qKlxuICAgICAqIF9vbkNhcmV0Q2xpY2tlZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgdGhlIGV4cGFuZC9jb2xsYXBzZSBpY29uIGJlaW5nIGNsaWNrZWRcbiAgICAgKi9cbiAgICBfb25DYXJldENsaWNrZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcudW5jb2xsYXBzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pc0NvbGxhcHNlZCkge1xuICAgICAgICAgICAgdGhpcy5leHBhbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29sbGFwc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBjb2xsYXBzZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgY29sbGFwc2luZyB0aGUgc2VjdGlvblxuICAgICAqL1xuICAgIGNvbGxhcHNlKCkge1xuICAgICAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faXNDb2xsYXBzZWQgPSB0cnVlO1xuICAgICAgICB0cmFuc2l0aW9uXzEudHJhbnNpdGlvbih0aGlzLl9lbGVtcy5jaGlsZHJlbkNvbnRhaW5lciwgeyBoZWlnaHQ6IFwiPGhlaWdodD5cIiwgb3ZlcmZsb3c6IFwiaGlkZGVuXCIgfSwgeyBoZWlnaHQ6IFwiMFwiLCBvdmVyZmxvdzogXCJoaWRkZW5cIiB9LCA1MDApLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJjb2xsYXBzZWRcIik7XG4gICAgICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGV4cGFuZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgZXhwYW5kaW5nIHRoZSBzZWN0aW9uXG4gICAgICovXG4gICAgZXhwYW5kKCkge1xuICAgICAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faXNDb2xsYXBzZWQgPSBmYWxzZTtcbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJjb2xsYXBzZWRcIik7XG4gICAgICAgIHRyYW5zaXRpb25fMS50cmFuc2l0aW9uKHRoaXMuX2VsZW1zLmNoaWxkcmVuQ29udGFpbmVyLCB7IGhlaWdodDogXCIwXCIsIG92ZXJmbG93OiBcImhpZGRlblwiIH0sIHsgaGVpZ2h0OiBcIjxoZWlnaHQ+XCIgfSwgNTAwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkNvbGxhcHNpYmxlRmllbGQgPSBDb2xsYXBzaWJsZUZpZWxkO1xuLyoqIHN0eWxlIGNvbGxhcHNpYmxlIHNlY3Rpb25zICovXG5Db2xsYXBzaWJsZUZpZWxkLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIua2lwRm9ybUVsZW0uY29sbGFwc2libGUgLmZvcm1DaGlsZHJlblwiOiB7fSxcbiAgICBcIi5raXBGb3JtRWxlbS5jb2xsYXBzaWJsZS5jb2xsYXBzZWQgLmZvcm1DaGlsZHJlblwiOiB7XG4gICAgICAgIGhlaWdodDogXCIwXCIsXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5jb2xsYXBzaWJsZSAuc2VjdGlvbkhlYWRlckNvbnRhaW5lclwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMTBweCAxMHB4XCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIHdpZHRoOiBcImNhbGMoMTAwJSArIDIwcHgpXCIsXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiLTEwcHhcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjMwcHhcIixcbiAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICBcIiYuaGlkZGVuXCI6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5jb2xsYXBzaWJsZSAuY2FyZXRcIjoge1xuICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IFwiNTAlIDUwJVwiLFxuICAgICAgICB3aWR0aDogXCIuOGVtXCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCBlYXNlLWluLW91dCAuMXNcIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgY29sb3I6IFwiPGZvcm1TdWJUaGVtZT5cIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0uY29sbGFwc2libGUuY29sbGFwc2VkIC5jYXJldFwiOiB7XG4gICAgICAgIHRyYW5zZm9ybTogXCJyb3RhdGUoMTgwZGVnKVwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5jb2xsYXBzaWJsZSAuc2VjdGlvbkhlYWRlckNvbnRhaW5lcjpob3ZlclwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDAsMCwwLC4wNSlcIlxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGJpbmRlcl8xID0gcmVxdWlyZShcIi4vYmluZGVyXCIpO1xuLyoqXG4gKiBiaW5kXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFRpZXMgYSBwYXJ0aWN1bGFyIHBpZWNlIG9mIGRhdGEgdG8gYW4gdXBkYXRlIGZ1bmN0aW9uLCBzbyB0aGF0IGlmIHRoZVxuICogdmFsdWUgY2hhbmdlcywgdGhlIHVwZGF0ZSBmdW5jdGlvbiBjYW4gYmUgZXhlY3V0ZWRcbiAqXG4gKiBAcGFyYW0gXHRldmFsRnVuYyBcdEZ1bmN0aW9uIHRvIGdyYWIgY3VycmVudCBzdGF0ZSBvZiB0aGUgdmFsdWVcbiAqIEBwYXJhbSBcdHVwZGF0ZUZ1bmMgXHRGdW5jdGlvbiB0byBjYWxsIHVwb24gdGhlIHZhbHVlIGNoYW5naW5nXG4gKlxuICogQHJldHVybnNcdFRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSB2YWx1ZVxuICovXG5mdW5jdGlvbiBiaW5kKGV2YWxGdW5jLCB1cGRhdGVGdW5jLCBkZWxldGVGdW5jLCBlcXVhbHNGdW5jKSB7XG4gICAgbGV0IGlkID0gYmluZGVyXzEuQmluZGVyLmJpbmQoZXZhbEZ1bmMsIHVwZGF0ZUZ1bmMsIGRlbGV0ZUZ1bmMsIGVxdWFsc0Z1bmMpO1xuICAgIGlmICghaWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBldmFsRnVuYygpO1xufVxuZXhwb3J0cy5iaW5kID0gYmluZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBjb250YWluc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRGV0ZXJtaW5lIHdoZXRoZXIgYSBwYXJ0aWN1bGFyIGVsZW1lbnQgaXMgY29udGFpbmVkIGluIGFuIGFycmF5XG4gKiBAcGFyYW0gXHRhcnJcdFx0VGhlIGFycmF5IHRvIGNoZWNrXG4gKiBAcGFyYW0gXHR2YWx1ZSBcdFRoZSB2YWx1ZSB0byBjaGVjayBmb3JcbiAqXG4gKiBAcmV0dXJuc1x0VHJ1ZSBpZiB0aGUgdmFsdWUgaXMgY29udGFpbmVkIGluIHRoZSBhcnJheVxuICovXG5mdW5jdGlvbiBjb250YWlucyhhcnIsIHZhbHVlLCBlcXVhbGl0eUZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIChpbmRleE9mKGFyciwgdmFsdWUsIGVxdWFsaXR5RnVuY3Rpb24pICE9PSAtMSk7XG59XG5leHBvcnRzLmNvbnRhaW5zID0gY29udGFpbnM7XG4vKipcbiAqIGluZGV4T2ZcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEZpbmQgdGhlIGluZGV4IG9mIGEgcGFydGljdWxhciB2YWx1ZSBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbVx0YXJyXHRcdFRoZSBhcnJheSB0byBzZWFyY2hcbiAqIEBwYXJhbVx0dmFsdWVcdFRoZSB2YWx1ZSB0byBsb29rIGZvclxuICpcbiAqIEByZXR1cm5zXHRUaGUgZmlyc3QgaW5kZXggb2YgdGhlIHZhbHVlIGluIHRoZSBhcnJheSBvciAtMSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gKi9cbmZ1bmN0aW9uIGluZGV4T2YoYXJyLCB2YWx1ZSwgZXF1YWxpdHlGdW5jdGlvbikge1xuICAgIGlmICghYXJyKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYXJyLmxlbmd0aDsgaWR4ICs9IDEpIHtcbiAgICAgICAgaWYgKGVxdWFsaXR5RnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChlcXVhbGl0eUZ1bmN0aW9uKGFycltpZHhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFycltpZHhdID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlkeDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5leHBvcnRzLmluZGV4T2YgPSBpbmRleE9mO1xuLyoqXG4qIHJlbW92ZUVsZW1Gcm9tQXJyXG4qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiogRmluZHMgJiByZW1vdmVzIGFuIGVsZW1lbnQgZnJvbSB0aGUgYXJyYXkgaWYgaXQgZXhpc3RzLlxuKiBAcGFyYW0gICBhcnIgICAgIFRoZSBhcnJheSB0byByZW1vdmUgZnJvbVxuKiBAcGFyYW0gICBlbGVtICAgIFRoZSBlbGVtZW50IHRvIHJlbW92ZVxuKiBAcGFyYW0gICBlcXVhbCAgIFRoZSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gdGVzdCBmb3IgZXF1YWxpdHlcbipcbiogQHJldHVybnMgVGhlIHVwZGF0ZWQgYXJyYXlcbiovXG5mdW5jdGlvbiByZW1vdmVFbGVtRnJvbUFycihhcnIsIGVsZW0sIGVxdWFsKSB7XG4gICAgbGV0IGlkeDtcbiAgICBsZXQgb3V0QXJyO1xuICAgIC8vIElmIHdlIGRpZG4ndCBnZXQgYSBmdW5jdGlvbiB0byB0ZXN0IGZvciBlcXVhbGl0eSwgc2V0IGl0IHRvIHRoZSBkZWZhdWx0XG4gICAgaWYgKCFlcXVhbCkge1xuICAgICAgICBlcXVhbCA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiAoYSA9PT0gYik7IH07XG4gICAgfVxuICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgYXJyYXkgYW5kIHJlbW92ZSBhbGwgZXF1YWwgZWxlbWVudHNcbiAgICBmb3IgKGlkeCA9IChhcnIubGVuZ3RoIC0gMSk7IGlkeCA+PSAwOyBpZHggLT0gMSkge1xuICAgICAgICBpZiAoZXF1YWwoYXJyW2lkeF0sIGVsZW0pKSB7XG4gICAgICAgICAgICBvdXRBcnIgPSBhcnIuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dEFycjtcbn1cbmV4cG9ydHMucmVtb3ZlRWxlbUZyb21BcnIgPSByZW1vdmVFbGVtRnJvbUFycjtcbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX3R5cGVndWFyZHNfMSA9IHJlcXVpcmUoXCIuLi9kcmF3YWJsZS9fdHlwZWd1YXJkc1wiKTtcbi8qKlxuICogaXNIVE1MRWxlbWVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY2hlY2sgaWYgdGhlIGVsZW1lbnQgaXMgYW4gSFRNTCBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGlzSFRNTEVsZW1lbnQodGVzdCkge1xuICAgIGlmICghdGVzdCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChfdHlwZWd1YXJkc18xLmlzRHJhd2FibGUodGVzdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKCEhdGVzdC5hcHBlbmRDaGlsZCk7XG59XG5leHBvcnRzLmlzSFRNTEVsZW1lbnQgPSBpc0hUTUxFbGVtZW50O1xuZnVuY3Rpb24gaXNTZWxlY3RhYmxlKHRlc3QpIHtcbiAgICByZXR1cm4gISF0ZXN0LnNlbGVjdDtcbn1cbmV4cG9ydHMuaXNTZWxlY3RhYmxlID0gaXNTZWxlY3RhYmxlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIGlzSW50ZXJmYWNlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBnZW5lcmljIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIGEgZ2l2ZW4gb2JqZWN0IGltcGxlbWVudHMgYSBwYXJ0aWN1bGFyIGludGVyZmFjZVxuICovXG5mdW5jdGlvbiBpc0ludGVyZmFjZSh0ZXN0LCBmdWxsX2ltcCkge1xuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgb2YgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGZ1bGwgaW50ZXJmYWNlIGltcGxlbWVudGF0aW9uICYgbWFrZSBzdXJlIGF0IGxlYXN0IG9uZSByZXF1aXJlZCBlbGVtIGlzIHBvcHVsYXRlZCBpbiB0aGUgdGVzdFxuICAgIGxldCBwcm9wO1xuICAgIGxldCByZXFfbWF0Y2ggPSB0cnVlO1xuICAgIGxldCB2YWw7XG4gICAgZm9yIChwcm9wIGluIGZ1bGxfaW1wKSB7XG4gICAgICAgIGlmIChmdWxsX2ltcC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgdmFsID0gZnVsbF9pbXBbcHJvcF07XG4gICAgICAgICAgICBpZiAodmFsICYmICh0ZXN0W3Byb3BdID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgcmVxX21hdGNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFyZXFfbWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBOb3cgbG9vcCB0aHJvdWdoIGFsbCBwcm9wZXJ0aWVzIG9uIHRoZSB0ZXN0IHRvIG1ha2Ugc3VyZSB0aGVyZSBhcmVuJ3QgZXh0cmEgcHJvcHNcbiAgICBsZXQgaGFzX2V4dHJhID0gZmFsc2U7XG4gICAgZm9yIChwcm9wIGluIHRlc3QpIHtcbiAgICAgICAgaWYgKHRlc3QuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgIGlmIChmdWxsX2ltcFtwcm9wXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaGFzX2V4dHJhID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKCFoYXNfZXh0cmEpO1xufVxuZXhwb3J0cy5pc0ludGVyZmFjZSA9IGlzSW50ZXJmYWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBtYXRoc18xID0gcmVxdWlyZShcIi4vbWF0aHNcIik7XG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIENPTlZFUlNJT05TXG4vKipcbiAqIGRlZ3Jlc3NUb1JhZGlhbnNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDb252ZXJ0cyBkZWdyZWVzIHRvIHRoZSBlcXVpdmFsZW50IHJhZGlhbnMgbWVhc3VyZT1cbiAqXG4gKi9cbmZ1bmN0aW9uIGRlZ3JlZXNUb1JhZGlhbnMoZGVnKSB7XG4gICAgbGV0IHJlc3VsdCA9ICgoTWF0aC5QSSAqIGRlZykgLyAxODApO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLmRlZ3JlZXNUb1JhZGlhbnMgPSBkZWdyZWVzVG9SYWRpYW5zO1xuLyoqXG4gKiByYWRpYW5zVG9EZWdyZWVzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjb252ZXJ0cyByYWRpYW5zIG92ZXIgdG8gdGhlIGRlZ3JlZSBlcXVpdmFsZW50XG4gKi9cbmZ1bmN0aW9uIHJhZGlhbnNUb0RlZ3JlZXMocmFkKSB7XG4gICAgbGV0IHJlc3VsdCA9ICgxODAgKiByYWQpIC8gTWF0aC5QSTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5yYWRpYW5zVG9EZWdyZWVzID0gcmFkaWFuc1RvRGVncmVlcztcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8qKlxuICogZ2V0RW5kUG9pbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDYWxjdWxhdGUgd2hlcmUgYSBwYXJ0aWN1bGFyIHZlY3RvciB3aWxsIGVuZCwgZ2l2ZW4gdGhlIHN0YXJ0IHBvaW50LCBkaXN0YW5jZSwgYW5kIGFuZ2xlXG4gKlxuICogQHBhcmFtIFx0c3RhcnRQb2ludCBcdHdoZXJlIHRoZSB2ZWN0b3Igb3JpZ2luYXRlc1xuICogQHBhcmFtIFx0ZGVnIFx0XHR0aGUgZGVncmVlIG9mIGFuZ2xlXG4gKiBAcGFyYW0gXHRkaXN0YW5jZVx0aG93IGZhciB0aGUgdmVjdG9yIHNob3VsZCBleHRlbmRcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldEVuZFBvaW50KHN0YXJ0UG9pbnQsIGRlZywgZGlzdGFuY2UpIHtcbiAgICBsZXQgcmFkID0gZGVncmVlc1RvUmFkaWFucyhkZWcpO1xuICAgIGxldCByZXN1bHQgPSB7XG4gICAgICAgIHg6IChNYXRoLmNvcyhyYWQpICogZGlzdGFuY2UpICsgc3RhcnRQb2ludC54LFxuICAgICAgICB5OiAoTWF0aC5zaW4ocmFkKSAqIGRpc3RhbmNlKSArIHN0YXJ0UG9pbnQueVxuICAgIH07XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMuZ2V0RW5kUG9pbnQgPSBnZXRFbmRQb2ludDtcbi8qKlxuICogZ2V0Q2VudHJhbFBvaW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjbGFjdWxhdGUgdGhlIG1pZCBwb2ludCBiZXR3ZWVuIHR3byBzcGVjaWZpZWQgcG9pbnRzXG4gKi9cbmZ1bmN0aW9uIGdldENlbnRyYWxQb2ludChlbGVtKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogZWxlbS5vZmZzZXRMZWZ0ICsgKGVsZW0ub2Zmc2V0V2lkdGggLyAyKSxcbiAgICAgICAgeTogZWxlbS5vZmZzZXRUb3AgKyAoZWxlbS5vZmZzZXRXaWR0aCAvIDIpXG4gICAgfTtcbn1cbmV4cG9ydHMuZ2V0Q2VudHJhbFBvaW50ID0gZ2V0Q2VudHJhbFBvaW50O1xuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gQ0FMQ1VMQVRJT04gRlVOQ1RJT05TXG4vKipcbiAqIGdldEFuZ2xlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRmluZHMgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIHBvaW50c1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFydCAtIFRoZSBvcmlnaW4gcG9pbnQgb2YgYW4gYW5nbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydC54IC0gVGhlIHggcG9zaXRpb24gb2YgdGhlIG9yaWdpbiBwb2ludFxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0LnkgLSBUaGUgeSBwb3NpdGlvbiBvZiB0aGUgb3JpZ2luIHBvaW50XG4gKiBAcGFyYW0ge09iamVjdH0gZW5kIC0gVGhlIGRlc3RpbmF0aW9uIHBvaW50IG9mIGFuIGFuZ2xlXG4gKiBAcGFyYW0ge051bWJlcn0gZW5kLnggLSBUaGUgeCBwb3NpdGlvbiBvZiB0aGUgZW5kIHBvaW50XG4gKiBAcGFyYW0ge051bWJlcn0gZW5kLnkgLSBUaGUgeSBwb3NpdGlvbiBvZiB0aGUgZW5kIHBvaW50XG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBUaGUgYW5nbGUgKGluIGRlZ3JlZXMpIGJldHdlZW4gdGhlIHR3byBwb2ludHNcbiAqL1xuZnVuY3Rpb24gZ2V0QW5nbGUoc3RhcnQsIGVuZCkge1xuICAgIDtcbiAgICBsZXQgZHg7XG4gICAgbGV0IGR5O1xuICAgIGxldCBxX3NpZ247XG4gICAgbGV0IHFfYW5nO1xuICAgIGxldCBhbmdsZTtcbiAgICBkeCA9IChlbmQueCAtIHN0YXJ0LngpO1xuICAgIGR5ID0gKGVuZC55IC0gc3RhcnQueSk7XG4gICAgLy8gRG9uJ3QgZGl2aWRlIGJ5IHplcm9cbiAgICBpZiAoZHggPT09IDApXG4gICAgICAgIHJldHVybiAoZHkgPCAwKSA/IDI3MCA6IDkwO1xuICAgIC8vIEhhbmRsZSBob3Jpem9udGFscyB0b29cbiAgICBpZiAoZHkgPT09IDApXG4gICAgICAgIHJldHVybiAoZHggPCAwKSA/IDE4MCA6IDA7XG4gICAgLy8gQXRhbiByZXF1aXJlcyB0aGF0IGFsbCBlbGVtZW50cyBhcmUgcG9zaXRpdmVcbiAgICBxX3NpZ24gPSAoKGR4ICogZHkpID4gMCkgPyAxIDogLTE7XG4gICAgcV9hbmcgPSAoZHggPCAwKSA/IE1hdGguUEkgOiAwO1xuICAgIGFuZ2xlID0gTWF0aC5hdGFuKE1hdGguYWJzKGR5KSAvIE1hdGguYWJzKGR4KSk7XG4gICAgYW5nbGUgPSAoKGFuZ2xlICogcV9zaWduKSArIHFfYW5nKTtcbiAgICByZXR1cm4gKGFuZ2xlICogKDE4MCAvIE1hdGguUEkpKTtcbn1cbmV4cG9ydHMuZ2V0QW5nbGUgPSBnZXRBbmdsZTtcbjtcbi8qKlxuICogZ2V0RGlzdGFuY2VcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBGaW5kcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdHdvIHByb3ZpZGVkIHBvaW50c1xuICpcbiAqIEBwYXJhbSBcdHN0YXJ0IFx0VGhlIGZpcnN0IGVuZHBvaW50IG9mIHRoZSBzZWdtZW50IHdlIGFyZSBtZWFzdXJpbmdcbiAqIEBwYXJhbSBcdGVuZCBcdFRoZSBzZWNvbmQgZW5wb2ludCBvZiB0aGUgc2VnbWVudCB3ZSBhcmUgbWVhc3VyaW5nXG4gKlxuICogQHJldHVybiBUaGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdHdvIHBvaW50c1xuICovXG5mdW5jdGlvbiBnZXREaXN0YW5jZShzdGFydCwgZW5kKSB7XG4gICAgO1xuICAgIGxldCBkaXN0YW5jZTtcbiAgICBsZXQgZHg7XG4gICAgbGV0IGR5O1xuICAgIGR4ID0gKHN0YXJ0LnggLSBlbmQueCk7XG4gICAgZHkgPSAoc3RhcnQueSAtIGVuZC55KTtcbiAgICBkaXN0YW5jZSA9IE1hdGguc3FydCgoZHggKiBkeCkgKyAoZHkgKiBkeSkpO1xuICAgIHJldHVybiBkaXN0YW5jZTtcbn1cbmV4cG9ydHMuZ2V0RGlzdGFuY2UgPSBnZXREaXN0YW5jZTtcbjtcbi8qKlxuICogY2FsY3VsYXRlUG9seWdvbkludGVybmFsQW5nbGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjYWxjdWxhdGUgdGhlIGludGVybmFsIGFuZ2xlIGZvciBhIGdpdmVuIHBvbHlnb25cbiAqXG4gKiBAcGFyYW0gXHRudW1iZXJPZlNpZGVzIFx0VGhlIG51bWJlciBvZiBzaWRlcyB0aGF0IHRoZSBwb2x5Z29uIGhhc1xuICpcbiAqIEByZXR1cm5zIHRoZSBpbnRlcm5hbCBhbmdsZSBmb3IgdGhpcyBwb2x5Z29uLCBpbiByYWRpYW5zXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZVBvbHlnb25JbnRlcm5hbEFuZ2xlKG51bWJlck9mU2lkZXMpIHtcbiAgICByZXR1cm4gbWF0aHNfMS5yb3VuZFRvUGxhY2UoZGVncmVlc1RvUmFkaWFucygzNjAgLyBudW1iZXJPZlNpZGVzKSwgMTAwMCk7XG59XG5leHBvcnRzLmNhbGN1bGF0ZVBvbHlnb25JbnRlcm5hbEFuZ2xlID0gY2FsY3VsYXRlUG9seWdvbkludGVybmFsQW5nbGU7XG4vLyNlbmRyZWdpb25cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEhTTFBpZWNlRW51bTtcbihmdW5jdGlvbiAoSFNMUGllY2VFbnVtKSB7XG4gICAgSFNMUGllY2VFbnVtW0hTTFBpZWNlRW51bVtcIkhVRVwiXSA9IDFdID0gXCJIVUVcIjtcbiAgICBIU0xQaWVjZUVudW1bSFNMUGllY2VFbnVtW1wiU0FUVVJBVElPTlwiXSA9IDJdID0gXCJTQVRVUkFUSU9OXCI7XG4gICAgSFNMUGllY2VFbnVtW0hTTFBpZWNlRW51bVtcIkxJR0hUTkVTU1wiXSA9IDNdID0gXCJMSUdIVE5FU1NcIjtcbiAgICBIU0xQaWVjZUVudW1bSFNMUGllY2VFbnVtW1wiQUxQSEFcIl0gPSA0XSA9IFwiQUxQSEFcIjtcbn0pKEhTTFBpZWNlRW51bSA9IGV4cG9ydHMuSFNMUGllY2VFbnVtIHx8IChleHBvcnRzLkhTTFBpZWNlRW51bSA9IHt9KSk7XG52YXIgUkdCRW51bTtcbihmdW5jdGlvbiAoUkdCRW51bSkge1xuICAgIFJHQkVudW1bUkdCRW51bVtcIlJFRFwiXSA9IDBdID0gXCJSRURcIjtcbiAgICBSR0JFbnVtW1JHQkVudW1bXCJHUkVFTlwiXSA9IDFdID0gXCJHUkVFTlwiO1xuICAgIFJHQkVudW1bUkdCRW51bVtcIkJMVUVcIl0gPSAyXSA9IFwiQkxVRVwiO1xuICAgIFJHQkVudW1bUkdCRW51bVtcIkFMUEhBXCJdID0gM10gPSBcIkFMUEhBXCI7XG59KShSR0JFbnVtID0gZXhwb3J0cy5SR0JFbnVtIHx8IChleHBvcnRzLlJHQkVudW0gPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBuYW1lZENsYXNzXzEgPSByZXF1aXJlKFwiLi4vbmFtZWRDbGFzcy9uYW1lZENsYXNzXCIpO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG5jb25zdCBudW1iZXJzXzEgPSByZXF1aXJlKFwiLi4vcHJpbWl0aXZlSGVscGVycy9udW1iZXJzXCIpO1xuY29uc3Qgc3RyaW5nc18xID0gcmVxdWlyZShcIi4uL3ByaW1pdGl2ZUhlbHBlcnMvc3RyaW5nc1wiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vXyh3aXApXy9fKHdpcClfY29sb3IvX2ludGVyZmFjZXNcIik7XG5jb25zdCBfaW50ZXJmYWNlc18yID0gcmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuLi9fKHdpcClfL18od2lwKV9jb2xvci9jb25zdGFudHNcIik7XG5jb25zdCBtYXRoc18xID0gcmVxdWlyZShcIi4uL21hdGhzL21hdGhzXCIpO1xuLy8jcmVnaW9uIENPTE9SIENMQVNTXG4vKipcbiAqIEBjbGFzcyBDb2xvclxuICogSGFuZGxlcyBjb252ZXJzaW9uIGJldHdlZW4gY29sb3IgdmFsdWVzXG4gKiBAdmVyc2lvbiAxLjFcbiAqXG4gKi9cbmNsYXNzIENvbG9yIGV4dGVuZHMgbmFtZWRDbGFzc18xLk5hbWVkQ2xhc3Mge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBDT05TVFJVQ1RPUlxuICAgIC8qKlxuICAgICogQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBjYW4gaGFuZGxlIGNvbG9yIGNvbnZlcnNpb25zXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcl0gLSBUaGUgcmVkIHZhbHVlIGZvciB0aGUgY29sb3JcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZ10gLSBUaGUgZ3JlZW4gdmFsdWUgZm9yIHRoZSBjb2xvclxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtiXSAtIFRoZSBibHVlIHZhbHVlIGZvciB0aGUgY29sb3JcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYV0gLSBUaGUgYWxwaGEgdmFsdWUgZm9yIHRoZSBjb2xvclxuICAgICpcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcIkNvbG9yXCIpO1xuICAgICAgICAvKiogc2hhcmVkIGFscGhhIHByb3BlcnR5IGZvciB0aGUgY29sb3IgKi9cbiAgICAgICAgdGhpcy5fYWxwaGEgPSAxO1xuICAgIH1cbiAgICBzZXQgYWxwaGEodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLm1pbigxLCBNYXRoLm1heCgwLCB2YWx1ZSkpO1xuICAgICAgICB0aGlzLl9hbHBoYSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgYWxwaGEoKSB7IHJldHVybiB0aGlzLl9hbHBoYTsgfVxuICAgIHNldCByZWQodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE1hdGgucm91bmQodmFsdWUpKSk7XG4gICAgICAgIHRoaXMuX3JlZCA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgcmVkKCkgeyByZXR1cm4gdGhpcy5fcmVkOyB9XG4gICAgc2V0IGdyZWVuKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKHZhbHVlKSkpO1xuICAgICAgICB0aGlzLl9ncmVlbiA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgZ3JlZW4oKSB7IHJldHVybiB0aGlzLl9ncmVlbjsgfVxuICAgIHNldCBibHVlKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKHZhbHVlKSkpO1xuICAgICAgICB0aGlzLl9ibHVlID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBibHVlKCkgeyByZXR1cm4gdGhpcy5fYmx1ZTsgfVxuICAgIHNldCBodWUodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLm1pbigzNjAsIE1hdGgubWF4KDAsIE1hdGgucm91bmQodmFsdWUpKSk7XG4gICAgICAgIHRoaXMuX2h1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgaHVlKCkgeyByZXR1cm4gdGhpcy5faHVlOyB9XG4gICAgc2V0IHNhdHVyYXRpb24odmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLm1pbigxMDAsIE1hdGgubWF4KDAsIE1hdGgucm91bmQodmFsdWUpKSk7XG4gICAgICAgIHRoaXMuX3NhdHVyYXRpb24gPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHNhdHVyYXRpb24oKSB7IHJldHVybiB0aGlzLl9zYXR1cmF0aW9uOyB9XG4gICAgc2V0IGxpZ2h0bmVzcyh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IE1hdGgubWluKDEwMCwgTWF0aC5tYXgoMCwgTWF0aC5yb3VuZCh2YWx1ZSkpKTtcbiAgICAgICAgdGhpcy5fbGlnaHRuZXNzID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBsaWdodG5lc3MoKSB7IHJldHVybiB0aGlzLl9saWdodG5lc3M7IH1cbiAgICBnZXQgbHVtaW5hbmNlKCkge1xuICAgICAgICBpZiAoZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5fbHVtaW5hbmNlKSkge1xuICAgICAgICAgICAgdGhpcy5fY2FsY3VsYXRlTHVtaW5hbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2x1bWluYW5jZTtcbiAgICB9XG4gICAgO1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBDUkVBVEUgQ09MT1IgU1RSSU5HU1xuICAgIC8qKlxuICAgICAqIHJnYmFTdHJpbmdcbiAgICAgKlxuICAgICAqIEdldHMgdGhlIGFwcHJvcHJpYXRlIFJHQkEgc3RyaW5nIGZvciB0aGlzIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSR0JBIHN0cmluZyBmb3IgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKi9cbiAgICB0b1JnYmFTdHJpbmcoKSB7XG4gICAgICAgIDtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9SZ2JTdHJpbmcodHJ1ZSk7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiByZ2JTdHJpbmdcbiAgICAgKlxuICAgICAqIEdyYWJzIHRoZSBSR0Igc3RyaW5nICh3aXRoIEEgZWxlbWVudCBpZiBhcHByb3ByaWF0ZSkgZm9yIHRoaXMgY29sb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gd2l0aEFscGhhIC0gSWYgdHJ1ZSwgaW5jbHVkZSB0aGUgYWxwaGEgZWxlbWVudCBpbiB0aGUgcmV0dXJuZWQgc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgYXBwcm9wcmlhdGUgY29sb3Igc3RyaW5nXG4gICAgICpcbiAgICAgKi9cbiAgICB0b1JnYlN0cmluZyh3aXRoX2FscGhhKSB7XG4gICAgICAgIDtcbiAgICAgICAgbGV0IG91dDtcbiAgICAgICAgLy8gU3RhcnQgdGhlIHN0cmluZyByZWdhcmRsZXNzIG9mIGFscGhhIHZhbHVlXG4gICAgICAgIG91dCA9IFwicmdiXCIgKyAod2l0aF9hbHBoYSA/IFwiYVwiIDogXCJcIikgKyBcIihcIiArIHRoaXMuX3JlZCArIFwiLCBcIiArIHRoaXMuX2dyZWVuICsgXCIsIFwiICsgdGhpcy5fYmx1ZTtcbiAgICAgICAgLy8gQWRkIHRoZSBhbHBoYSB2YWx1ZSBpZiBhcHByb3ByaWF0ZVxuICAgICAgICBpZiAod2l0aF9hbHBoYSkge1xuICAgICAgICAgICAgb3V0ICs9IFwiLCBcIiArIHRoaXMuX2FscGhhO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsb3NlIHVwIHRoZSBzdHJpbmcgYW5kIHNlbmQgaXQgb3V0XG4gICAgICAgIG91dCArPSBcIilcIjtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIGhzbFN0cmluZ1xuICAgICAqXG4gICAgICogRnJvbSB0aGUgY29sb3Igb2JqZWN0LCBjcmVhdGVzIGEgaHVlLXNhdHVyYXRpb24tbGlnaHRuZXNzIHN0cmluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIFx0d2l0aEFscGhhIFx0SWYgdHJ1ZSwgYWxzbyBhZGRzIGFuIGFscGhhIGVsZW1lbnQgdG8gdGhlIGVuZCBvZiB0aGUgc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VGhlIEhTTCBzdHJpbmcgdmVyc2lvbiBvZiB0aGlzIGNvbG9yXG4gICAgICpcbiAgICAgKi9cbiAgICB0b0hzbFN0cmluZyh3aXRoX2FscGhhKSB7XG4gICAgICAgIDtcbiAgICAgICAgbGV0IG91dDtcbiAgICAgICAgLy8gR2VuZXJhdGUgSFNMIGlmIHdlIG5lZWQgdG9cbiAgICAgICAgaWYgKCF0aGlzLl9odWUpXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlSHNsVmFsdWVzKCk7XG4gICAgICAgIC8vIFN0cmluZyBzdGFydHMgb3V0IHRoZSBzYW1lIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB3ZSBhcmUgaW5jbHVkaW5nIGFscGhhXG4gICAgICAgIG91dCA9IFwiaHNsXCIgKyAod2l0aF9hbHBoYSA/IFwiYVwiIDogXCJcIikgKyBcIihcIiArIHRoaXMuX2h1ZSArIFwiLCBcIiArIHRoaXMuX3NhdHVyYXRpb24gKyBcIiUsIFwiICsgdGhpcy5fbGlnaHRuZXNzICsgXCIlXCI7XG4gICAgICAgIC8vIEdyYWIgdGhlIGFscGhhIHBpZWNlIGlmIGFwcHJvcHJpYXRlXG4gICAgICAgIGlmICh3aXRoX2FscGhhKSB7XG4gICAgICAgICAgICBvdXQgKz0gXCIsIFwiICsgdGhpcy5fYWxwaGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmV0dXJuIHRoZSBIU0wgc3RyaW5nXG4gICAgICAgIG91dCArPSBcIilcIjtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIGhzbGFTdHJpbmdcbiAgICAgKlxuICAgICAqIEZyb20gdGhlIGNvbG9yIG9iamVjdCwgY3JlYXRlIGEgSFNMQSBzdHJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgc3RyaW5nIGZvciB0aGUgY29sb3JcbiAgICAgKlxuICAgICAqL1xuICAgIHRvSHNsYVN0cmluZygpIHtcbiAgICAgICAgO1xuICAgICAgICByZXR1cm4gdGhpcy50b0hzbFN0cmluZyh0cnVlKTtcbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIGhleFN0cmluZ1xuICAgICAqXG4gICAgICogRnJvbSB0aGUgY29sb3Igb2JqZWN0LCBjcmVhdGVzIGEgaGV4IGNvbG9yIHN0cmluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIFx0d2l0aEFscGhhXHRUcnVlIGlmIGFscGhhIHNob3VsZCBiZSBhZGRlZCB0byB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGFwcHJvcHJpYXRlIGhleCBzdHJpbmdcbiAgICAgKlxuICAgICAqL1xuICAgIHRvSGV4U3RyaW5nKHdpdGhfYWxwaGEpIHtcbiAgICAgICAgO1xuICAgICAgICBsZXQgb3V0O1xuICAgICAgICBvdXQgPSBcIiNcIjtcbiAgICAgICAgb3V0ICs9IG51bWJlcnNfMS5mdWxsSGV4U3RyaW5nKHRoaXMuX3JlZCwgMik7XG4gICAgICAgIG91dCArPSBudW1iZXJzXzEuZnVsbEhleFN0cmluZyh0aGlzLl9ncmVlbiwgMik7XG4gICAgICAgIG91dCArPSBudW1iZXJzXzEuZnVsbEhleFN0cmluZyh0aGlzLl9ibHVlLCAyKTtcbiAgICAgICAgaWYgKHdpdGhfYWxwaGEpIHtcbiAgICAgICAgICAgIG91dCArPSBudW1iZXJzXzEuZnVsbEhleFN0cmluZyh0aGlzLl9hbHBoYSwgMik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgO1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBHRU5FUkFURSBBUFBST1BSSUFURSBDT0xPUiBWQUxVRVNcbiAgICAvKipcbiAgICAgKiBnZW5lcmF0ZUhzbFZhbHVlc1xuICAgICAqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgSFNMIHZhbHVlcyBmb3IgdGhpcyBSR0IgY29sb3IgYW5kIHNhdmVzIGl0IG9mZiBpbiB0aGUgY29sb3IuXG4gICAgICogUmVsaWVzIG9uIHRoZSByZ2IgdmFsdWVzIGFscmVhZHkgaGF2aW5nIGJlZW4gc2V0XG4gICAgICpcbiAgICAgKi9cbiAgICBnZW5lcmF0ZUhzbFZhbHVlcygpIHtcbiAgICAgICAgO1xuICAgICAgICBsZXQgcjtcbiAgICAgICAgbGV0IGc7XG4gICAgICAgIGxldCBiO1xuICAgICAgICBsZXQgZGVsdGE7XG4gICAgICAgIGxldCBtYXg7XG4gICAgICAgIGxldCBtaW47XG4gICAgICAgIGxldCBodWU7XG4gICAgICAgIGxldCBzYXR1cmF0aW9uO1xuICAgICAgICBsZXQgbGlnaHRuZXNzO1xuICAgICAgICByID0gdGhpcy5fcmVkIC8gMjU1O1xuICAgICAgICBnID0gdGhpcy5fZ3JlZW4gLyAyNTU7XG4gICAgICAgIGIgPSB0aGlzLl9ibHVlIC8gMjU1O1xuICAgICAgICAvLyBGaW5kIHRoZSBtYXgsIG1pbiwgYW5kIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlbS5cbiAgICAgICAgLy8gV2UgbmVlZCB0aGVzZSB2YWx1ZXMgdG8gY2FsY3VsYXRlIEhTTCBlcXVpdmFsZW50c1xuICAgICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgICAgICAgbWluID0gTWF0aC5taW4ociwgZywgYik7XG4gICAgICAgIGRlbHRhID0gbWF4IC0gbWluO1xuICAgICAgICAvLyBMaWdodG5lc3MgaXMgdGhlIGF2ZXJhZ2UgYmV0d2VlbiB0aGUgdHdvIGV4dHJlbWVzXG4gICAgICAgIGxpZ2h0bmVzcyA9IChtYXggKyBtaW4pIC8gMjtcbiAgICAgICAgLy8gSWYgdGhlIG1heCBhbmQgbWluIGFyZSB0aGUgc2FtZSwgYWxsIHRocmVlIGFyZSBhY3R1YWxseSB0aGUgc2FtZSB2YWx1ZSxcbiAgICAgICAgLy8gc28gd2UgY2FuIHF1aXQgbm93IHdpdGggb3VyIGdyYXlzY2FsZSBjb2xvclxuICAgICAgICBpZiAobWF4ID09PSBtaW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2h1ZSA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zYXR1cmF0aW9uID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2xpZ2h0bmVzcyA9IE1hdGgucm91bmQobGlnaHRuZXNzICogMTAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgc2F0dXJhdGlvbiBpcyBhIHJhdGlvIG9mIHRoZSBkZWx0YSBvZiB0aGUgZXh0cmVtZXNcbiAgICAgICAgLy8gb3ZlciBhIHZlcnNpb24gb2YgdGhlIHN1bSBvZiB0aGUgZXh0cmVtZXMuXG4gICAgICAgIC8vIEl0IGNoYW5nZXMgd2hlbiBsaWdodG5lc3MgaXMgbGVzcyBvciBtb3JlIHRoYW4gNTAlLlxuICAgICAgICBpZiAobGlnaHRuZXNzID4gLjUpIHtcbiAgICAgICAgICAgIHNhdHVyYXRpb24gPSBkZWx0YSAvICgyIC0gbWF4IC0gbWluKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNhdHVyYXRpb24gPSBkZWx0YSAvIChtYXggKyBtaW4pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBodWUgaXMgY2FsY3VsYXRlZCBmcm9tIHRoZSB0d28gbm9uLW1heCB2YWx1ZXNcbiAgICAgICAgLy8gSWYgdHdvIHZhbHVlcyBtYXRjaCB0aGUgbWF4LCB0aGVuIHdlIGp1c3QgZXZhbHVhdGUgaW4gb3JkZXIgcmVkIC0+IGdyZWVuIC0+IGJsdWVcbiAgICAgICAgLy8gUmVkIHdhcyB0aGUgbWF4LlxuICAgICAgICBpZiAobWF4ID09PSByKSB7XG4gICAgICAgICAgICBodWUgPSAoZyAtIGIpIC8gZGVsdGE7XG4gICAgICAgICAgICAvLyBXZSBuZWVkIGFuIGFkZGl0aW9uYWwga2ljayBpZiBncmVlbiBpcyBsZXNzIHRoYW4gYmx1ZVxuICAgICAgICAgICAgaWYgKGcgPCBiKSB7XG4gICAgICAgICAgICAgICAgaHVlICs9IDY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBHcmVlbiB3YXMgdGhlIG1heFxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1heCA9PT0gZykge1xuICAgICAgICAgICAgaHVlID0gKGIgLSByKSAvIGRlbHRhICsgMjtcbiAgICAgICAgICAgIC8vIEJsdWUgd2FzIHRoZSBtYXhcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGh1ZSA9IChyIC0gZykgLyBkZWx0YSArIDQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGl2aWRlIGJ5IHNpeCB0byBnZXQgdGhlIGFwcHJvcHJpYXRlIGF2ZXJhZ2VcbiAgICAgICAgaHVlIC89IDY7XG4gICAgICAgIC8vIC0tIFNhdmUgb2ZmIHRoZSBtZW1iZXIgdmFyaWFibGVzIGZvciB0aGlzIGNvbG9yIC0tXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEFsbCB2YWx1ZXMgYXJlIGN1cnJlbnRseSBpbiB0aGUgcmFuZ2UgWzAsMV0uXG4gICAgICAgIC8vIEh1ZSBuZWVkcyB0byBiZSBtdWx0aXBsaWVkIGJ5IDM2MCB0byBnZXQgdGhlIGFwcHJvcHJpYXRlIHZhbHVlLlxuICAgICAgICAvLyBTYXR1cmF0aW9uIGFuZCBsaWdodG5lc3MgYm90aCBuZWVkIHRvIGJlIG11bHRpcGxpZWQgYnkgMTAwLlxuICAgICAgICB0aGlzLl9odWUgPSBNYXRoLnJvdW5kKGh1ZSAqIDM2MDApIC8gMTA7XG4gICAgICAgIHRoaXMuX3NhdHVyYXRpb24gPSBNYXRoLnJvdW5kKHNhdHVyYXRpb24gKiAxMDAwKSAvIDEwO1xuICAgICAgICB0aGlzLl9saWdodG5lc3MgPSBNYXRoLnJvdW5kKGxpZ2h0bmVzcyAqIDEwMDApIC8gMTA7XG4gICAgICAgIGlmICghdGhpcy5fc3RhcnRIdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0SHVlID0gdGhpcy5faHVlO1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRTYXR1cmF0aW9uID0gdGhpcy5fc2F0dXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0TGlnaHRuZXNzID0gdGhpcy5fbGlnaHRuZXNzO1xuICAgICAgICB9XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBnZW5lcmF0ZVJnYlZhbHVlc1xuICAgICAqXG4gICAgICogU2F2ZXMgb2ZmIHRoZSBhcHByb3ByaWF0ZSBSR0IgdmFsdWVzIGZvciB0aGlzIGNvbG9yIGJhc2VkIG9uIGl0cyBoZXggdmFsdWVzLlxuICAgICAqIFJlbGllcyBvbiB0aGUgaGV4IGNvbG9ycyBiZWluZyBzZXRcbiAgICAgKlxuICAgICAqL1xuICAgIGdlbmVyYXRlUmdiVmFsdWVzKCkge1xuICAgICAgICA7XG4gICAgICAgIGxldCBodWU7XG4gICAgICAgIGxldCBzYXR1cmF0aW9uO1xuICAgICAgICBsZXQgbGlnaHRuZXNzO1xuICAgICAgICBsZXQgcDtcbiAgICAgICAgbGV0IHE7XG4gICAgICAgIGxldCB0O1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgaHVlID0gdGhpcy5faHVlIC8gMzYwO1xuICAgICAgICBzYXR1cmF0aW9uID0gdGhpcy5fc2F0dXJhdGlvbiAvIDEwMDtcbiAgICAgICAgbGlnaHRuZXNzID0gdGhpcy5fbGlnaHRuZXNzIC8gMTAwO1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBub3Qgc2F0dXJhdGlvbiwgaXQncyBncmF5c2NhbGUsIHNvIHRoZSBjb2xvcnMgYXJlIGFsbCBlcXVhbCB0byB0aGUgbGlnaHRuZXNzXG4gICAgICAgIGlmIChzYXR1cmF0aW9uID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWQgPSB0aGlzLl9ncmVlbiA9IHRoaXMuX2JsdWUgPSBsaWdodG5lc3M7XG4gICAgICAgICAgICB0aGlzLl9yZWQgKj0gMjU1O1xuICAgICAgICAgICAgdGhpcy5fZ3JlZW4gKj0gMjU1O1xuICAgICAgICAgICAgdGhpcy5fYmx1ZSAqPSAyNTU7XG4gICAgICAgIH1cbiAgICAgICAgLy9JZiB3ZSBkbyBoYXZlIGEgc2F0dXJhdGVkIHZhbHVlLCB3ZSBuZWVkIHRvIGNvbnZlcnQgaXQgdG8gUkdCXG4gICAgICAgIC8vIEdldCB0aGUgdmFsdWUgb2YgdGhlIHEgY29lZmZpY2llbnRcbiAgICAgICAgaWYgKGxpZ2h0bmVzcyA8IDAuNSkge1xuICAgICAgICAgICAgcSA9IGxpZ2h0bmVzcyAqICgxICsgc2F0dXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBxID0gbGlnaHRuZXNzICsgc2F0dXJhdGlvbiAtIChsaWdodG5lc3MgKiBzYXR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBbmQgY2FsY3VsYXRlIHAgZnJvbSBxXG4gICAgICAgIHAgPSAoMiAqIGxpZ2h0bmVzcykgLSBxO1xuICAgICAgICBmb3IgKGkgPSAtMTsgaSA8PSAxOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHQgPSBodWUgKyAoLWkgLyAzKTtcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciB0aGUgZXh0cmVtZXMgYW5kIGFkanVzdCB0aGVtXG4gICAgICAgICAgICBpZiAodCA8IDApIHtcbiAgICAgICAgICAgICAgICB0ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0ID4gMSkge1xuICAgICAgICAgICAgICAgIHQgLT0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIGFwcHJvcHJpYXRlIGNhc2UgdG8gdHJlYXQgdGhpcyB2YWx1ZSBhc1xuICAgICAgICAgICAgaWYgKHQgPCAoMSAvIDYpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZ2JWYWx1ZShpICsgMSwgKHAgKyAoKHEgLSBwKSAqIDYgKiB0KSkgKiAyNTUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodCA8ICgxIC8gMikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJnYlZhbHVlKGkgKyAxLCBxICogMjU1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHQgPCAoMiAvIDMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZ2JWYWx1ZShpICsgMSwgKHAgKyAoKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNikpICogMjU1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUmdiVmFsdWUoaSArIDEsIHAgKiAyNTUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIDtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gUEFSU0UgRElGRkVSRU5UIENPTE9SIFNUUklOR1NcbiAgICAvKipcbiAgICAgKiBfcGFyc2VGcm9tSGV4Q29sb3JcbiAgICAgKlxuICAgICAqIFRha2VzIGluIGEgaGV4IHN0cmluZyBhbmQgc2F2ZXMgaXQgaW50ZXJuYWxseVxuICAgICAqXG4gICAgICogQHBhcmFtIFx0aGV4XHRcdFRoZSBoZXggc3RyaW5nIHRvIHBhcnNlIGluXG4gICAgICogQHBhcmFtIFx0YWxwaGEgXHRUaGUgYWxwaGEgdmFsdWUgdG8gdXNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBwYXJzaW5nIHN1Y2NlZWRzLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKlxuICAgICAqL1xuICAgIF9wYXJzZUZyb21IZXhDb2xvcihoZXgsIGFscGhhKSB7XG4gICAgICAgIDtcbiAgICAgICAgbGV0IGlkeDtcbiAgICAgICAgbGV0IGNvbDtcbiAgICAgICAgbGV0IHBjO1xuICAgICAgICBsZXQgYV9pbmNsdWRlZDtcbiAgICAgICAgbGV0IGhfcmVnO1xuICAgICAgICBsZXQgaW5jO1xuICAgICAgICBoX3JlZyA9IC9eIz8oPzpbMC05QS1GYS1mXXszLDR9KXsxLDJ9JC87XG4gICAgICAgIGlmICghaF9yZWcudGVzdChoZXgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RyaXAgb3V0IHRoZSAjIGNoYXJhY3RlciBpZiBpdCB3YXMgdGhlcmVcbiAgICAgICAgaWYgKHN0cmluZ3NfMS5jaGFyQXQoaGV4LCAwKSA9PT0gXCIjXCIpIHtcbiAgICAgICAgICAgIGhleCA9IHN0cmluZ3NfMS5yZXN0KGhleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhleC5sZW5ndGggPCA2KSB7XG4gICAgICAgICAgICBpbmMgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5jID0gMjtcbiAgICAgICAgfVxuICAgICAgICAvLyBGbGlwIHRocm91Z2ggZWFjaCBvZiB0aGUgcG9zc2libGUgY29sdW1uc1xuICAgICAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IGhleC5sZW5ndGg7IGlkeCArPSBpbmMpIHtcbiAgICAgICAgICAgIHBjID0gaGV4LnN1YnN0cihpZHgsIGluYyk7XG4gICAgICAgICAgICBpZiAoaW5jID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcGMgKz0gcGM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQYXJzZSBvdXQgdGhlIGNvbG9yIGFuZCBzZXQgaXQgYXBwcm9wcmlhdGVseVxuICAgICAgICAgICAgY29sID0gcGFyc2VJbnQocGMsIDE2KTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmdiVmFsdWUoKGlkeCAvIGluYyksIGNvbCk7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoaXQgYWxwaGEgdmFsdWVzLFxuICAgICAgICAgICAgaWYgKGlkeCA+IDQpIHtcbiAgICAgICAgICAgICAgICBhX2luY2x1ZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgdGhlIGFscGhhIHZhbHVlIGlmIGl0IHdhc24ndCBpbmNsdWRlZCBpbiB0aGUgaGV4IHN0cmluZ1xuICAgICAgICBpZiAoIWFfaW5jbHVkZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2FscGhhID0gYWxwaGEgfHwgMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIF9wYXJzZUZyb21SZ2JDb2xvclxuICAgICAqXG4gICAgICogVGFrZXMgaW4gYSByZ2IgY29sb3Igc3RyaW5nIGFuZCBwYXJzZXMgaXQgaW50byBvdXIgaW50ZXJuYWwgZm9ybWF0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRyZ2IgICBcdFRoZSBSR0Igc3RyaW5nIHRvIHBhcnNlXG4gICAgICogQHBhcmFtIFx0YWxwaGFcdFRoZSBhbHBoYSB2YWx1ZSB0byBwYXJzZSBpbiwgaWYgdGhlIHJnYiBzdHJpbmcgZG9lc24ndCBoYXZlIGl0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBwYXJzaW5nIHN1Y2NlZWRzLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKlxuICAgICAqL1xuICAgIF9wYXJzZUZyb21SZ2JDb2xvcihyZ2IsIGFscGhhKSB7XG4gICAgICAgIDtcbiAgICAgICAgbGV0IHJnYl9yZWc7XG4gICAgICAgIGxldCByZ2JhX3JlZztcbiAgICAgICAgbGV0IG1hdGNoO1xuICAgICAgICByZ2JfcmVnID0gL3JnYlxcKCg/OihbMC05XXsxLTN9KSwgPyl7M31cXCkvO1xuICAgICAgICByZ2JhX3JlZyA9IC9yZ2JhXFwoKD86KFswLTldezEtM30pLCA/KXszfSwgPyhbMC05XXswLDF9KD86XFwuWzAtOV0rKT8pXFwpLztcbiAgICAgICAgaWYgKCFyZ2JfcmVnLnRlc3QocmdiKSkge1xuICAgICAgICAgICAgaWYgKCFyZ2JhX3JlZy50ZXN0KHJnYikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXRjaCA9IHJnYmFfcmVnLmV4ZWMocmdiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1hdGNoID0gcmdiX3JlZy5leGVjKHJnYik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVkID0gK21hdGNoWzFdO1xuICAgICAgICB0aGlzLl9ncmVlbiA9ICttYXRjaFsyXTtcbiAgICAgICAgdGhpcy5fYmx1ZSA9ICttYXRjaFszXTtcbiAgICAgICAgaWYgKChtYXRjaFs0XSAhPT0gdW5kZWZpbmVkKSB8fCAoYWxwaGEgIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2FscGhhID0gK21hdGNoWzRdIHx8IGFscGhhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogX3BhcnNlRnJvbUhzbENvbG9yXG4gICAgICpcbiAgICAgKiBUYWtlcyBpbiBhIEhTTCBzdHJpbmcgYW5kIGNvbnZlcnRzIGl0IHRvIHRoZSBjb2xvciBvYmplY3QncyBpbnRlcm5hbCBmb3JtYXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBcdGhzbCBcdFRoZSBIU0wgc3RyaW5nIHRvIGNvbnZlcnQuIENhbiBhbHNvIGJlIGEgSFNMQSBzdHJpbmdcbiAgICAgKiBAcGFyYW0gXHRhbHBoYSBcdFRoZSBhbHBoYSB2YWx1ZSB0byBzZXQsIGlmIGl0IGlzIG5vdCBpbmNsdWRlZCBpbiB0aGUgSFNMQSBzdHJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGNvbG9yIHdhcyBzdWNjZXNzZnVsbHkgcGFyc2VkLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICpcbiAgICAgKi9cbiAgICBfcGFyc2VGcm9tSHNsQ29sb3IoaHNsLCBhbHBoYSkge1xuICAgICAgICA7XG4gICAgICAgIGxldCBoc2xfcmVnO1xuICAgICAgICBsZXQgaHNsYV9yZWc7XG4gICAgICAgIGxldCBtYXRjaDtcbiAgICAgICAgbGV0IGh1ZTtcbiAgICAgICAgbGV0IHNhdHVyYXRpb247XG4gICAgICAgIGxldCBsaWdodG5lc3M7XG4gICAgICAgIGxldCBxO1xuICAgICAgICBsZXQgcDtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGxldCB0O1xuICAgICAgICBoc2xfcmVnID0gL2hzbFxcKChbMC05XXsxLDN9KSwgPyhbMC05XXsxLDN9KSUsID8oWzAtOV17MSwzfSklXFwpLztcbiAgICAgICAgaHNsYV9yZWcgPSAvaHNsYVxcKChbMC05XXsxLDN9KSwgPyhbMC05XXsxLDN9KSUsID8oWzAtOV17MSwzfSklLCA/KFswLTldezAsMX0oPzpcXC5bMC05XSspPylcXCkvO1xuICAgICAgICAvLyBRdWl0IGlmIHRoZSByZWdleCBkb2Vzbid0IG1hdGNoXG4gICAgICAgIGlmICghaHNsX3JlZy50ZXN0KGhzbCkpIHtcbiAgICAgICAgICAgIGlmICghaHNsYV9yZWcudGVzdChoc2wpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWF0Y2ggPSBoc2xhX3JlZy5leGVjKGhzbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXRjaCA9IGhzbF9yZWcuZXhlYyhoc2wpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNhdmUgb2ZmIHRoZSB2YWx1ZXMgcGFyc2VkIG91dCBvZiB0aGUgc3RyaW5nXG4gICAgICAgIHRoaXMuX2h1ZSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChtYXRjaFsxXSkgKiAxMCkgLyAxMDtcbiAgICAgICAgdGhpcy5fc2F0dXJhdGlvbiA9IE1hdGgucm91bmQocGFyc2VGbG9hdChtYXRjaFsyXSkgKiAxMCkgLyAxMDtcbiAgICAgICAgdGhpcy5fbGlnaHRuZXNzID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KG1hdGNoWzNdKSAqIDEwKSAvIDEwO1xuICAgICAgICAvLyBPbmx5IHNldCB0aGUgYWxwaGEgaWYgc29tZXRoaW5nIGlzIGF2YWlsYWJsZVxuICAgICAgICBpZiAoKG1hdGNoWzRdICE9PSB1bmRlZmluZWQpIHx8IChhbHBoYSAhPT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgdGhpcy5fYWxwaGEgPSBwYXJzZUZsb2F0KG1hdGNoWzRdKSB8fCBhbHBoYTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIFJHQiB2YWx1ZXMgYXJlIHVwZGF0ZWQgdG9vXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVSZ2JWYWx1ZXMoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBfcGFyc2VDb2xvclN0cmluZ1xuICAgICAqXG4gICAgICogVHJpZXMgdG8gcGFyc2UgYSBnaXZlbiBzdHJpbmcgaW50byBhbiBpbnRlcm5hbCBjb2xvciBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSBcdHN0ciBcdFRoZSBzdHJpbmcgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0gXHRhbHBoYSBcdFRoZSBhbHBoYSB2YWx1ZSB0byB1c2UsIGlmIG5vdCBpbmNsdWRlZCBpbiB0aGUgc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBwYXJzaW5nIHN1Y2NlZWRzLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKlxuICAgICAqL1xuICAgIF9wYXJzZUNvbG9yU3RyaW5nKHN0ciwgYWxwaGEpIHtcbiAgICAgICAgO1xuICAgICAgICBsZXQgc3VjY2VzcztcbiAgICAgICAgLy8gVHJ5IHRvIHBhcnNlIHRoZSBzdHJpbmcgYXMgYSBSR0IgdmFsdWVcbiAgICAgICAgc3VjY2VzcyA9IHRoaXMuX3BhcnNlRnJvbVJnYkNvbG9yKHN0ciwgYWxwaGEpO1xuICAgICAgICBpZiAoc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBUcnkgdG8gcGFyc2UgdGhlIHN0cmluZyBhcyBhIEhleCB2YWx1ZVxuICAgICAgICBzdWNjZXNzID0gdGhpcy5fcGFyc2VGcm9tSGV4Q29sb3Ioc3RyLCBhbHBoYSk7XG4gICAgICAgIGlmIChzdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIFRyeSB0byBwYXJzZSB0aGUgc3RyaW5nIGFzIGEgSFNMIHZhbHVlXG4gICAgICAgIHN1Y2Nlc3MgPSB0aGlzLl9wYXJzZUZyb21Ic2xDb2xvcihzdHIsIGFscGhhKTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gSWYgbm90aGluZyB3b3JrZWQsIHJldHVybiBmYWxzZVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIDtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gVVBEQVRFIENPTE9SU1xuICAgIC8qKlxuICAgICAqIHVwZGF0ZVJnYlZhbHVlXG4gICAgICpcbiAgICAgKiBTZXRzIGEgY29sb3IgdmFsdWUgYmFzZWQgb24gdGhlIGluZGV4IG9mIHRoZSBjb2xvciAoaWUsIHJlZCA9IDAsIGdyZWVuID0gMSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSBcdGlkeCBcdFRoZSBpbmRleCBvZiB0aGUgY29sb3Igd2UgYXJlIHNhdmluZ1xuICAgICAqIEBwYXJhbSBcdHZhbCBcdFRoZSB2YWx1ZSB0aGF0IHRoZSBjb2xvciBzaG91bGQgYmUgc2V0IHRvXG4gICAgICpcbiAgICAgKi9cbiAgICB1cGRhdGVSZ2JWYWx1ZSh2YWx1ZVR5cGUsIHZhbCkge1xuICAgICAgICBzd2l0Y2ggKHZhbHVlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18xLlJHQkVudW0uUkVEOlxuICAgICAgICAgICAgICAgIHRoaXMucmVkID0gdmFsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18xLlJHQkVudW0uR1JFRU46XG4gICAgICAgICAgICAgICAgdGhpcy5ncmVlbiA9IHZhbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5SR0JFbnVtLkJMVUU6XG4gICAgICAgICAgICAgICAgdGhpcy5ibHVlID0gdmFsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18xLlJHQkVudW0uQUxQSEE6XG4gICAgICAgICAgICAgICAgdGhpcy5hbHBoYSA9IHZhbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogdXBkYXRlSHNsVmFsdWVcbiAgICAgKlxuICAgICAqIFNldHMgYSBjb2xvciB2YWx1ZSBiYXNlZCBvbiB0aGUgaW5kZXggb2YgdGhlIGNvbG9yIChpZSwgaHVlID0gMSwgc2F0dXJhdGlvbiA9IDIuLi4pXG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRpZHggXHRUaGUgaW5kZXggb2YgdGhlIGNvbG9yIHdlIGFyZSBzYXZpbmdcbiAgICAgKiBAcGFyYW0gXHR2YWwgXHRUaGUgdmFsdWUgdGhhdCB0aGUgY29sb3Igc2hvdWxkIGJlIHNldCB0b1xuICAgICAqXG4gICAgICovXG4gICAgdXBkYXRlSHNsVmFsdWUodmFsdWVUeXBlLCB2YWwpIHtcbiAgICAgICAgc3dpdGNoICh2YWx1ZVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMi5IU0xQaWVjZUVudW0uSFVFOlxuICAgICAgICAgICAgICAgIHRoaXMuaHVlID0gdmFsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18yLkhTTFBpZWNlRW51bS5TQVRVUkFUSU9OOlxuICAgICAgICAgICAgICAgIHRoaXMuc2F0dXJhdGlvbiA9IHZhbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMi5IU0xQaWVjZUVudW0uTElHSFRORVNTOlxuICAgICAgICAgICAgICAgIHRoaXMubGlnaHRuZXNzID0gdmFsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18yLkhTTFBpZWNlRW51bS5BTFBIQTpcbiAgICAgICAgICAgICAgICB0aGlzLmFscGhhID0gdmFsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBIQU5ETEUgQ09MT1IgR0VORVJBVElPTiBBTkQgR1JBQkJJTkdcbiAgICAvKipcbiAgICAgKiBnZXROZXh0SHVlXG4gICAgICpcbiAgICAgKiBHcmFicyB0aGUgbmV4dCBodWUgYXZhaWxhYmxlIGZvciB0aGlzIGNvbG9yIHNlbGVjdG9yLlxuICAgICAqIENhbiBiZSB1c2VkIGFzIGEgcmFuZG9tIGNvbG9yIGdlbmVyYXRvclxuICAgICAqXG4gICAgICogQHBhcmFtXHRmaXJzdFJvdGF0ZVx0XHRUaGUgSFNMIHBpY2UgdGhhdCBzaG91bGQgYmUgcm90YXRpbmcgZmlyc3RcbiAgICAgKiBAcGFyYW0gXHR3aXRoQWxwaGEgXHRcdFRydWUgaWYgdGhlIGFscGhhIHZhbHVlIHNob3VsZCBhbHNvIGJlIGluY2x1ZGVkIGluIHRoZSBvdXRwdXQgc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgaGV4IGNvbG9yIHN0cmluZyBmb3IgdGhlIG5ldyBjb2xvclxuICAgICAqXG4gICAgICovXG4gICAgZ2V0TmV4dENvbG9yKGZpcnN0Um90YXRlLCB3aXRoQWxwaGEpIHtcbiAgICAgICAgO1xuICAgICAgICB2YXIgdG9DeWNsZSA9IFtdLCBpZHg7XG4gICAgICAgIC8vIEZpcnN0LCBjb252ZXJ0IG91ciBpbnRlcm5hbCBmb3JtYXQgdG8gSFNMIChpZiBuZWVkZWQpXG4gICAgICAgIGlmICghdGhpcy5fc3RhcnRIdWUpXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlSHNsVmFsdWVzKCk7XG4gICAgICAgIC8vIEZpbGwgaW4gb3VyIGFycmF5IG9mIHRoZSBvcmRlciBpbiB3aGljaCB3ZSB3aWxsIGN5Y2xlIHRoZSB2YWx1ZXNcbiAgICAgICAgdG9DeWNsZVswXSA9IGZpcnN0Um90YXRlO1xuICAgICAgICB0b0N5Y2xlWzFdID0gKGZpcnN0Um90YXRlICsgMSkgJSAzO1xuICAgICAgICB0b0N5Y2xlWzJdID0gKGZpcnN0Um90YXRlICsgMikgJSAzO1xuICAgICAgICAvLyBMb29wIHRocm91Z2ggdGhlIGN5Y2xlcyBhbmQgc2V0IHRoZWlyIHZhbHVlc1xuICAgICAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IHRvQ3ljbGUubGVuZ3RoOyBpZHggKz0gMSkge1xuICAgICAgICAgICAgLy8gUm90YXRlIGFuZCBxdWl0IGlmIHdlIGRvbid0IGhhdmUgdG8gcm90YXRlIGFub3RoZXIgcGllY2VcbiAgICAgICAgICAgIGlmICghdGhpcy5yb3RhdGVBcHByb3ByaWF0ZUhTTFZhbHVlKHRvQ3ljbGVbaWR4XSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgdGhlIFJHQiB2YWx1ZXMgdG9vXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVSZ2JWYWx1ZXMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9IZXhTdHJpbmcod2l0aEFscGhhKTtcbiAgICB9XG4gICAgO1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBST1RBVEUgVEhFIENVUlJFTlQgQ09MT1JcbiAgICAvKipcbiAgICAgKiByb3RhdGVBcHByb3ByaWF0ZUhTTFZhbHVlXG4gICAgICpcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBuZXh0IGFwcHJvcHJpYXRlIHZhbHVlIGZvciB0aGUgSFNMIHR5cGUsIGFuZFxuICAgICAqXG4gICAgICogQHBhcmFtIFx0aWR4XHRcdFRoZSB0eXBlIG9mIEhTTCB2YWx1ZXMgd2Ugc2hvdWxkIHJvdGF0ZVxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRydWUgaWYgYSBmdWxsIGNpcmNsZSBoYXMgYmVlbiBtYWRlIGZvciB0aGlzIHBhcnRpY3VsYXIgaW5kZXg7XG4gICAgICogXHRcdFx0RmFsc2Ugb3RoZXJ3aXNlXG4gICAgICpcbiAgICAgKi9cbiAgICByb3RhdGVBcHByb3ByaWF0ZUhTTFZhbHVlKGlkeCkge1xuICAgICAgICA7XG4gICAgICAgIHZhciB2YWwsIHN0YXJ0O1xuICAgICAgICAvLyBHcmFiIHRoZSBhcHByb3ByaWF0ZSBjdXJyZW50IHZhbHVlIGFuZCBzdGFydCB2YWx1ZVxuICAgICAgICBzd2l0Y2ggKGlkeCkge1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18yLkhTTFBpZWNlRW51bS5TQVRVUkFUSU9OOlxuICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMucm90YXRlU2F0dXJhdGlvbigpO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gdGhpcy5fc3RhcnRTYXR1cmF0aW9uO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18yLkhTTFBpZWNlRW51bS5MSUdIVE5FU1M6XG4gICAgICAgICAgICAgICAgdmFsID0gdGhpcy5yb3RhdGVMaWdodG5lc3MoKTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IHRoaXMuX3N0YXJ0TGlnaHRuZXNzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18yLkhTTFBpZWNlRW51bS5IVUU6XG4gICAgICAgICAgICAgICAgdmFsID0gdGhpcy5yb3RhdGVIdWUoKTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IHRoaXMuX3N0YXJ0SHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybiB0cnVlIGlmIHdlJ2QgbWFkZSBhIGZ1bGwgY2lyY2xlXG4gICAgICAgIGlmICh2YWwgPT09IHN0YXJ0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiByb3RhdGVIdWVcbiAgICAgKlxuICAgICAqIFJvdGF0ZXMgb3VyIGN1cnJlbnQgaHVlIHZhbHVlIGEgc2V0IGFtb3VudFxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIG5ldyBodWUgdmFsdWUgZm9yIHRoZSBjb2xvclxuICAgICAqXG4gICAgICovXG4gICAgcm90YXRlSHVlKCkge1xuICAgICAgICA7XG4gICAgICAgIHRoaXMuX2h1ZSA9IHRoaXMucm90YXRlSHNsVmFsdWUodGhpcy5faHVlLCBjb25zdGFudHNfMS5IVUVfSU5URVJWQUwsIDM2MCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9odWU7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiByb3RhdGVTYXR1cmF0aW9uXG4gICAgICpcbiAgICAgKiBHZXQgdGhlIG5leHQgc2F0dXJhdGlvbiB2YWx1ZSBmb3IgdGhpcyBjb2xvclxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRoZSBuZXh0IHNhdHVyYXRpb24gdmFsdWVcbiAgICAgKlxuICAgICAqL1xuICAgIHJvdGF0ZVNhdHVyYXRpb24oKSB7XG4gICAgICAgIDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NhdHVyYXRpb24gPSB0aGlzLnJvdGF0ZUhzbFZhbHVlKHRoaXMuX3NhdHVyYXRpb24sIGNvbnN0YW50c18xLlNBVFVSQVRJT05fSU5URVJWQUwsIDEwMCwgY29uc3RhbnRzXzEuU0FUVVJBVElPTl9MSU1JVFMubWF4LCBjb25zdGFudHNfMS5TQVRVUkFUSU9OX0xJTUlUUy5taW4pO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogcm90YXRlTGlnaHRuZXNzXG4gICAgICpcbiAgICAgKiBHZXQgdGhlIG5leHQgbGlnaHRuZXNzIHZhbHVlIGZvciB0aGlzIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VGhlIG5leHQgbGlnaHRuZXNzIHZhbHVlXG4gICAgICpcbiAgICAgKi9cbiAgICByb3RhdGVMaWdodG5lc3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saWdodG5lc3MgPSB0aGlzLnJvdGF0ZUhzbFZhbHVlKHRoaXMuX2xpZ2h0bmVzcywgY29uc3RhbnRzXzEuTElHSFRfSU5URVJWQUwsIDEwMCwgY29uc3RhbnRzXzEuTElHSFRORVNTX0xJTUlUUy5tYXgsIGNvbnN0YW50c18xLkxJR0hUTkVTU19MSU1JVFMubWluKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcm90YXRlSHNsVmFsdWVcbiAgICAgKlxuICAgICAqIFJvdGF0ZXMgYSBnaXZlbiBIU0wgdmFsdWUgYnkgYW4gYXBwcm9wcmlhdGUgaW50ZXJ2YWwgdG8gZ2V0IGEgbmV3IGNvbG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRzdGFydFZhbFx0VGhlIHZhbHVlIHRoZSBIU0wgdmFsdWUgc3RhcnRlZCB3aXRoXG4gICAgICogQHBhcmFtIFx0aW5jIFx0XHRIb3cgbXVjaCB0aGUgSFNMIHZhbHVlIHNob3VsZCBiZSBpbmNyZW1lbnRlZFxuICAgICAqIEBwYXJhbSBcdG1vZEJ5XHRcdFdoYXQgdGhlIG1vZCBvZiB0aGUgSFNMIHZhbHVlIHNob3VsZCBiZVxuICAgICAqIEBwYXJhbSBcdG1heFx0XHRcdFRoZSBtYXhpbXVtIHRoaXMgSFNMIHZhbHVlIGNhbiBiZVxuICAgICAqIEBwYXJhbSBcdG1pblx0XHRcdFRoZSBtaW5pbXVtIHRoaXMgSFNMIHZhbHVlIGNhbiBiZVxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIG5ld2x5IHJvdGF0ZSBIU0wgdmFsdWVcbiAgICAgKlxuICAgICAqL1xuICAgIHJvdGF0ZUhzbFZhbHVlKHN0YXJ0VmFsLCBpbmMsIG1vZEJ5LCBtYXgsIG1pbikge1xuICAgICAgICA7XG4gICAgICAgIHZhciBvdXQ7XG4gICAgICAgIC8vIEluY3JlbWVudCBhbmQgbW9kXG4gICAgICAgIG91dCA9IHN0YXJ0VmFsICs9IGluYztcbiAgICAgICAgb3V0ICU9IG1vZEJ5O1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIG5laXRoZXIgbWF4IG5vciBtaW4sIHF1aXQgbm93XG4gICAgICAgIGlmICghbWF4KSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0aHNfMS5yb3VuZFRvUGxhY2Uob3V0LCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtaW4gJiYgKG1pbiAhPT0gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRoc18xLnJvdW5kVG9QbGFjZShvdXQsIDEwKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMb29wIHVudGlsIHdlIGhhdmUgYW4gYWNjZXB0YWJsZSB2YWx1ZVxuICAgICAgICB3aGlsZSAoKG91dCA8IG1pbikgfHwgKG91dCA+IG1heCkpIHtcbiAgICAgICAgICAgIG91dCA9IHN0YXJ0VmFsICs9IGluYztcbiAgICAgICAgICAgIG91dCAlPSBtb2RCeTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm4gdGhlIGFwcHJvcHJpYXRlIHZhbHVlXG4gICAgICAgIHJldHVybiBtYXRoc18xLnJvdW5kVG9QbGFjZShvdXQsIDEwKTtcbiAgICB9XG4gICAgO1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBJTlRFUkFDVCBXSVRIIEFOT1RIRVIgQ09MT1JcbiAgICAvKipcbiAgICAgKiBnZXRBcHBhcmVudENvbG9yXG4gICAgICpcbiAgICAgKiBDYWxjdWxhdGVzIHdoYXQgdGhlIGRpc3BsYXkgY29sb3Igb2YgdGhpcyBjb2xvciB3b3VsZCBiZSB3aXRob3V0IHNldHRpbmcgYW4gYWxwaGEgdmFsdWUuXG4gICAgICogQ2FuIGNhbGN1bGF0ZSB3aGF0IHRoZSBSR0IgdmFsdWUgc2hvdWxkIGJlIGdpdmVuIGEgYmFja2dyb3VuZCBjb2xvciBpbnN0ZWFkIG9mIFJHQkFcbiAgICAgKlxuICAgICAqIEBwYXJhbSBcdGJhY2tDb2xvciBcdEVpdGhlciB0aGUgY29sb3Igb2JqZWN0IG9yIGNvbG9yIHN0cmluZyBmb3IgdGhlIGJhY2tncm91bmQgY29sb3JcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgd2Ugd2VyZSBzdWNjZXNzZnVsbHkgYWJsZSB0byBjYWxjdWxhdGUgdGhlIGFwcGFyZW50IGNvbG9yLlxuICAgICAqXG4gICAgICovXG4gICAgZ2V0QXBwYXJlbnRDb2xvcihiYWNrQ29sb3IpIHtcbiAgICAgICAgO1xuICAgICAgICBsZXQgYztcbiAgICAgICAgbGV0IGFudGlBbHBoYTtcbiAgICAgICAgLy8gUGFyc2UgdGhlIGJhY2tDb2xvciBpZiBpdCBpcyBhIHN0cmluZywgb3IganVzdCBsZWF2ZSBpdCBpZiBpdCBpcyBhbiBvYmplY3RcbiAgICAgICAgaWYgKGJhY2tDb2xvci5fcmVkKSB7XG4gICAgICAgICAgICBjID0gYmFja0NvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYyA9IG5ldyBBbnlDb2xvcihiYWNrQ29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHF1aXQgaWYgdGhpcyBjb2xvciB3YXMgcGFyc2VkIGluY29ycmVjdGx5XG4gICAgICAgIGlmICghYy5fcGFyc2VkQ29ycmVjdGx5KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgYW50aUFscGhhID0gMSAtIHRoaXMuX2FscGhhO1xuICAgICAgICB0aGlzLl9yZWQgPSBNYXRoLnJvdW5kKCh0aGlzLl9yZWQgKiB0aGlzLl9hbHBoYSkgKyAoYy5fcmVkICogYW50aUFscGhhKSk7XG4gICAgICAgIHRoaXMuX2dyZWVuID0gTWF0aC5yb3VuZCgodGhpcy5fZ3JlZW4gKiB0aGlzLl9hbHBoYSkgKyAoYy5fZ3JlZW4gKiBhbnRpQWxwaGEpKTtcbiAgICAgICAgdGhpcy5fYmx1ZSA9IE1hdGgucm91bmQoKHRoaXMuX2JsdWUgKiB0aGlzLl9hbHBoYSkgKyAoYy5fYmx1ZSAqIGFudGlBbHBoYSkpO1xuICAgICAgICB0aGlzLl9hbHBoYSA9IDE7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogY29tcGFyZVxuICAgICAqXG4gICAgICogRmluZHMgaG93IHNpbWlsYXIgdHdvIGNvbG9ycyBhcmUgYmFzZWQgb24gdGhlaXIgSFNMIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7Q29sb3J9IG90aGVyQ29sb3IgIC0gVGhlIGNvbG9yIHdlIGFyZSBjb21wYXJpbmcgdG9cbiAgICAgKiBAcGFyYW0gbXVsdGlwbGllcnMgLSBUaGUgbXVsdGlwbGllcnMgd2Ugc2hvdWxkIHVzZSB0byBjYWxjdWxhdGUgdGhlIGRpZmZcbiAgICAgKiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgdG90YWwgZGlmZiBjYWxjdWxhdGlvbiBhcyB3ZWxsIGFzIHRoZSByYXcgZGlmZiB2YWx1ZXNcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbXBhcmUob3RoZXJfY29sb3IsIG11bHRpcGxpZXJzKSB7XG4gICAgICAgIDtcbiAgICAgICAgdmFyIGRpZmZzO1xuICAgICAgICAvLyBJZiB3ZSBkaWRuJ3QgZ2V0IG11bHRpcGxlcnMsIHNldCBzb21lIGRlZmF1bHRzXG4gICAgICAgIGlmICghbXVsdGlwbGllcnMpIHtcbiAgICAgICAgICAgIG11bHRpcGxpZXJzID0ge1xuICAgICAgICAgICAgICAgIGh1ZTogMSxcbiAgICAgICAgICAgICAgICBzYXR1cmF0aW9uOiAwLjA0LFxuICAgICAgICAgICAgICAgIGxpZ2h0bmVzczogMC4wNCxcbiAgICAgICAgICAgICAgICBhbHBoYTogMC4wNFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBIU0wgZm9yIGJvdGggY29sb3JzXG4gICAgICAgIG90aGVyX2NvbG9yLmdlbmVyYXRlSHNsVmFsdWVzKCk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVIc2xWYWx1ZXMoKTtcbiAgICAgICAgLy8gR3JhYiB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiB0aGUgdmFsdWVzXG4gICAgICAgIGRpZmZzID0ge1xuICAgICAgICAgICAgaHVlOiAob3RoZXJfY29sb3IuX2h1ZSAtIHRoaXMuX2h1ZSksXG4gICAgICAgICAgICBzYXR1cmF0aW9uOiAob3RoZXJfY29sb3IuX3NhdHVyYXRpb24gLSB0aGlzLl9zYXR1cmF0aW9uKSxcbiAgICAgICAgICAgIGxpZ2h0bmVzczogKG90aGVyX2NvbG9yLl9saWdodG5lc3MgLSB0aGlzLl9saWdodG5lc3MpLFxuICAgICAgICAgICAgYWxwaGE6IChvdGhlcl9jb2xvci5fYWxwaGEgLSB0aGlzLl9hbHBoYSlcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSB0b3RhbCBkaWZmXG4gICAgICAgIGRpZmZzLnRvdGFsID0gMDtcbiAgICAgICAgZGlmZnMudG90YWwgKz0gKE1hdGguYWJzKGRpZmZzLmh1ZSkgKiAobXVsdGlwbGllcnMuaHVlIHx8IDApKTtcbiAgICAgICAgZGlmZnMudG90YWwgKz0gKE1hdGguYWJzKGRpZmZzLnNhdHVyYXRpb24pICogKG11bHRpcGxpZXJzLnNhdHVyYXRpb24gfHwgMCkpO1xuICAgICAgICBkaWZmcy50b3RhbCArPSAoTWF0aC5hYnMoZGlmZnMubGlnaHRuZXNzKSAqIChtdWx0aXBsaWVycy5saWdodG5lc3MgfHwgMCkpO1xuICAgICAgICBkaWZmcy50b3RhbCArPSAoTWF0aC5hYnMoZGlmZnMuYWxwaGEpICogKG11bHRpcGxpZXJzLmFscGhhIHx8IDApKTtcbiAgICAgICAgLy8gcmV0dXJuIG91ciBkaWZmcyBhcnJheVxuICAgICAgICByZXR1cm4gZGlmZnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGF2ZXJhZ2VJblxuICAgICAqXG4gICAgICogQXZlcmFnZXMgaW4gYW5vdGhlciBjb2xvciBpbnRvIHRoaXMgb25lXG4gICAgICogQHBhcmFtICAge0NvbG9yfSAgIG90aGVyX2NvbG9yIFRoZSBvdGhlciBjb2xvciB0byBhdmVyYWdlIGluXG4gICAgICogQHBhcmFtICAge2Jvb2xlYW59IG5vX21lcmdlICAgIFRydWUgaWYgd2Ugc2hvdWxkIGp1c3QgcmV0dXJuIHRoZSBhdmVyYWdlcyBpbnN0ZWFkIG9mIG1lcmdpbmcgdGhlbSBpbiB0byB0aGlzIGNvbG9yXG4gICAgICogQHJldHVybnMge0NvbG9yfSAgICAgICAgICAgICAgIFRoZSByZXN1bHRpbmcgbWVyZ2VkIGNvbG9yXG4gICAgICpcbiAgICAgKi9cbiAgICBhdmVyYWdlSW4ob3RoZXJfY29sb3IsIG5vX21lcmdlKSB7XG4gICAgICAgIDtcbiAgICAgICAgbGV0IGF2Z3M7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIEhTTCB2YWx1ZXMgZm9yIGJvdGggY29sb3JzXG4gICAgICAgIG90aGVyX2NvbG9yLmdlbmVyYXRlSHNsVmFsdWVzKCk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVIc2xWYWx1ZXMoKTtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBhdmVyYWdlc1xuICAgICAgICBhdmdzID0ge1xuICAgICAgICAgICAgaHVlOiAoKHRoaXMuX2h1ZSArIG90aGVyX2NvbG9yLl9odWUpIC8gMiksXG4gICAgICAgICAgICBzYXR1cmF0aW9uOiAoKHRoaXMuX3NhdHVyYXRpb24gKyBvdGhlcl9jb2xvci5fc2F0dXJhdGlvbikgLyAyKSxcbiAgICAgICAgICAgIGxpZ2h0bmVzczogKCh0aGlzLl9saWdodG5lc3MgKyBvdGhlcl9jb2xvci5fbGlnaHRuZXNzKSAvIDIpLFxuICAgICAgICAgICAgYWxwaGE6ICgodGhpcy5fYWxwaGEgKyBvdGhlcl9jb2xvci5fYWxwaGEpIC8gMilcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG5vX21lcmdlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXZncztcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgdGhlc2UgYXZlcmFnZWQgdmFsdWVzIGFzIG91ciBjb2xvcnMgbmV3IGNvbG9yc1xuICAgICAgICB0aGlzLl9odWUgPSBNYXRoLnJvdW5kKGF2Z3MuaHVlKTtcbiAgICAgICAgdGhpcy5fc2F0dXJhdGlvbiA9IChNYXRoLmZsb29yKGF2Z3Muc2F0dXJhdGlvbiAqIDEwKSAvIDEwKTtcbiAgICAgICAgdGhpcy5fbGlnaHRuZXNzID0gKE1hdGguZmxvb3IoYXZncy5saWdodG5lc3MgKiAxMCkgLyAxMCk7XG4gICAgICAgIHRoaXMuX2FscGhhID0gKE1hdGguZmxvb3IoYXZncy5hbHBoYSAqIDEwKSAvIDEwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGVxdWFsc1xuICAgICAqXG4gICAgICogQ2hlY2sgaWYgdHdvIGNvbG9ycyBhcmUgZnVuY3Rpb25hbGx5IGVxdWFsXG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRvdGhlclx0VGhlIGNvbG9yIHRvIGNvbXBhcmUgdGhpcyB0b1xuICAgICAqXG4gICAgICogQHJldHVybnNcdFRydWUgaWYgdGhlIGNvbG9ycyBoYXZlIHRoZSBzYW1lIHZhbHVlc1xuICAgICAqXG4gICAgICovXG4gICAgZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIHJldHVybiAodGhpcy50b0hleFN0cmluZyh0cnVlKSA9PT0gb3RoZXIudG9IZXhTdHJpbmcodHJ1ZSkpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gTElHSFQgQU5EIERBUksgREVURUNUSU9OXG4gICAgLyoqXG4gICAgICogaXNEYXJrXG4gICAgICpcbiAgICAgKiBDaGVja3MgaWYgdGhpcyBjb2xvciBvYmplY3QgaXMgbW9yZSBkYXJrIHRoYW4gbGlnaHRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGNvbG9yIGlzIGRhcmtcbiAgICAgKlxuICAgICAqL1xuICAgIGlzRGFyaygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9odWUpXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlSHNsVmFsdWVzKCk7XG4gICAgICAgIHJldHVybiAodGhpcy5sdW1pbmFuY2UgPD0gNzApO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogaXNMaWdodFxuICAgICAqXG4gICAgICogQ2hlY2tzIGlmIHRoaXMgY29sb3Igb2JqZWN0IGlzIG1vcmUgbGlnaHQgdGhhbiBkYXJrXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBjb2xvciBpcyBsaWdodFxuICAgICAqXG4gICAgICovXG4gICAgaXNMaWdodCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9odWUpXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlSHNsVmFsdWVzKCk7XG4gICAgICAgIHJldHVybiAodGhpcy5sdW1pbmFuY2UgPiA3MCk7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBnZXRMaWdodG5lc3NcbiAgICAgKlxuICAgICAqIEdyYWJzIHRoZSBsaWdodG5lc3MgdmFsdWUgb2YgdGhpcyBjb2xvclxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHZhbHVlIG9mIHRoaXMgY29sb3IncyBsaWdodG5lc3NcbiAgICAgKlxuICAgICAqL1xuICAgIGdldExpZ2h0bmVzcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9odWUpXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlSHNsVmFsdWVzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9saWdodG5lc3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jYWxjdWxhdGVMdW1pbmFuY2VcbiAgICAgKlxuICAgICAqIERldGVybWluZSB0aGUgcGVyY2VpdmVkIGx1bWlub3NpdHkgb2YgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKi9cbiAgICBfY2FsY3VsYXRlTHVtaW5hbmNlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3JlZCkge1xuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVJnYlZhbHVlcygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2x1bWluYW5jZSA9ICgoMC4yMTI2ICogdGhpcy5fcmVkKSArICgwLjcxNTIgKiB0aGlzLl9ncmVlbikgKyAoMC4wNzIyICogdGhpcy5fYmx1ZSkpIC8gMi41NTtcbiAgICB9XG59XG5leHBvcnRzLkNvbG9yID0gQ29sb3I7XG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBSR0IgQ09MT1Jcbi8qKlxuICogQGNsYXNzIFJHQkNvbG9yXG4gKiBDcmVhdGVzIGEgY29sb3IgYmFzZWQgb24gUkdCXG4gKiBAdmVyc2lvbiAxLjBcbiAqXG4gKi9cbmNsYXNzIFJHQkNvbG9yIGV4dGVuZHMgQ29sb3Ige1xuICAgIC8qKiBDcmVhdGVzIGFuIFJHQiBDb2xvciAqL1xuICAgIGNvbnN0cnVjdG9yKHJlZE9yUmdiU3RyaW5nLCBncmVlbk9yQWxwaGEsIGJsdWUsIGFscGhhKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIC8vIFBhcnNlIHRoZSBzdHJpbmcgaWYgaXQgd2FzIHBhc3NlZCBpblxuICAgICAgICBpZiAodHlwZW9mIHJlZE9yUmdiU3RyaW5nID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZWRDb3JyZWN0bHkgPSB0aGlzLl9wYXJzZUZyb21SZ2JDb2xvcihyZWRPclJnYlN0cmluZywgZ3JlZW5PckFscGhhKTtcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdXNlIHRoZSBudW1lcmljIHZhbHVlc1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZWQgPSByZWRPclJnYlN0cmluZztcbiAgICAgICAgICAgIHRoaXMuZ3JlZW4gPSBncmVlbk9yQWxwaGE7XG4gICAgICAgICAgICB0aGlzLmJsdWUgPSBibHVlO1xuICAgICAgICAgICAgdGhpcy5hbHBoYSA9IGFscGhhO1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VkQ29ycmVjdGx5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXRDdXJyZW50SHVlXG4gICAgICpcbiAgICAgKiBHcmFicyB0aGUgY3VycmVudCBSR0Igc3RyaW5nIGZvciB0aGUgY29sb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0d2l0aEFscGhhXHRUcnVlIGlmIHRoZSBzdHJpbmcgc2hvdWxkIGluY2x1ZGUgdGhlIGFscGhhIHZhbHVlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgUkdCIHN0cmluZyBmb3IgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXRDdXJyZW50Q29sb3Iod2l0aEFscGhhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvUmdiU3RyaW5nKHdpdGhBbHBoYSk7XG4gICAgfVxufVxuZXhwb3J0cy5SR0JDb2xvciA9IFJHQkNvbG9yO1xuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gSFNMIENPTE9SXG4vKipcbiAqIEBjbGFzcyBIU0xDb2xvclxuICogQ3JlYXRlcyBhIGNvbG9yIGJhc2VkIG9uIEhTTFxuICogQHZlcnNpb24gMS4wXG4gKlxuICovXG5jbGFzcyBIU0xDb2xvciBleHRlbmRzIENvbG9yIHtcbiAgICAvKiogQ3JlYXRlcyBhbiBIU0wgQ29sb3IgKi9cbiAgICBjb25zdHJ1Y3RvcihodWVPckhzbFN0cmluZywgc2F0dXJhdGlvbk9yQWxwaGEsIGxpZ2h0bmVzcywgYWxwaGEpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLy8gcGFyc2UgdGhlIGNvbG9yIHN0cmluZyBpZiBwYXNzZWQgaW5cbiAgICAgICAgaWYgKHR5cGVvZiBodWVPckhzbFN0cmluZyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VkQ29ycmVjdGx5ID0gdGhpcy5fcGFyc2VGcm9tSHNsQ29sb3IoaHVlT3JIc2xTdHJpbmcsIHNhdHVyYXRpb25PckFscGhhKTtcbiAgICAgICAgICAgIC8vIHVzZSB0aGUgbnVtZXJpYyB2YWx1ZXNcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaHVlID0gaHVlT3JIc2xTdHJpbmc7XG4gICAgICAgICAgICB0aGlzLnNhdHVyYXRpb24gPSBzYXR1cmF0aW9uT3JBbHBoYTtcbiAgICAgICAgICAgIHRoaXMubGlnaHRuZXNzID0gbGlnaHRuZXNzO1xuICAgICAgICAgICAgdGhpcy5hbHBoYSA9IGFscGhhO1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VkQ29ycmVjdGx5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXRDdXJyZW50SHVlXG4gICAgICpcbiAgICAgKiBHcmFicyB0aGUgY3VycmVudCBIU0wgc3RyaW5nIGZvciB0aGUgY29sb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0d2l0aEFscGhhXHRUcnVlIGlmIHRoZSBzdHJpbmcgc2hvdWxkIGluY2x1ZGUgdGhlIGFscGhhIHZhbHVlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgSFNMIHN0cmluZyBmb3IgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXRDdXJyZW50Q29sb3Iod2l0aEFscGhhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvSHNsU3RyaW5nKHdpdGhBbHBoYSk7XG4gICAgfVxufVxuZXhwb3J0cy5IU0xDb2xvciA9IEhTTENvbG9yO1xuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gSEVYIENPTE9SXG5jbGFzcyBIZXhDb2xvciBleHRlbmRzIENvbG9yIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgaGV4IGNvbG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRoZXhTdHJpbmdcdFRoZSBoZXggb3IgaGV4LWFscGhhIHN0cmluZyB0byBiYXNlIHRoaXMgY29sb3Igb25cbiAgICAgKiBAcGFyYW0gXHRhbHBoYVx0XHRJZiBub3QgYSBwYXJ0IG9mIHRoZSBzdHJpbmcsIHRoZSBhbHBoYSB2YWx1ZSB0byB1c2VcbiAgICAgKiBcdFx0XHRcdFx0XHRmb3IgdGhpcyBjb2xvclxuICAgICAqXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaGV4U3RyaW5nLCBhbHBoYSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9wYXJzZWRDb3JyZWN0bHkgPSB0aGlzLl9wYXJzZUZyb21IZXhDb2xvcihoZXhTdHJpbmcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXRDdXJyZW50SHVlXG4gICAgICpcbiAgICAgKiBHcmFicyB0aGUgY3VycmVudCBoZXggc3RyaW5nIGZvciB0aGUgY29sb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0d2l0aEFscGhhXHRUcnVlIGlmIHRoZSBzdHJpbmcgc2hvdWxkIGluY2x1ZGUgdGhlIGFscGhhIHZhbHVlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgaGV4IHN0cmluZyBmb3IgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXRDdXJyZW50Q29sb3Iod2l0aEFscGhhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvSGV4U3RyaW5nKHdpdGhBbHBoYSk7XG4gICAgfVxufVxuZXhwb3J0cy5IZXhDb2xvciA9IEhleENvbG9yO1xuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gQU5ZIENPTE9SIFRZUEVcbi8qKlxuICogQGNsYXNzIEFueUNvbG9yXG4gKiBDb2xvciBjbGFzcyB0aGF0IGNhbiB0YWtlIGluIGFueSBjb2xvciBzdHJpbmdcbiAqIEB2ZXJzaW9uIDEuMFxuICpcbiAqL1xuY2xhc3MgQW55Q29sb3IgZXh0ZW5kcyBDb2xvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGNvbG9yU3RyaW5nXHRcdFRoZSBzdHJpbmcgdG8gY3JlYXRlIGZyb21cbiAgICAgKiBAcGFyYW1cdGFscGhhXHRcdFx0SWYgbm90IGluY2x1ZGVkIGluIHRoZSBjb2xvciBzdHJpbmcsIHRoZSBhbHBoYVxuICAgICAqIFx0XHRcdFx0XHRcdFx0dmFsdWUgdG8gdXNlIGZvciB0aGUgY29sb3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb2xvclN0cmluZywgYWxwaGEpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fcGFyc2VkQ29ycmVjdGx5ID0gdGhpcy5fcGFyc2VDb2xvclN0cmluZyhjb2xvclN0cmluZywgYWxwaGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXRDdXJyZW50Q29sb3JcbiAgICAgKlxuICAgICAqIEdyYWJzIHRoZSBjdXJyZW50IGhleCBzdHJpbmcgZm9yIHRoZSBjb2xvclxuICAgICAqXG4gICAgICogQHBhcmFtIFx0d2l0aEFscGhhXHRUcnVlIGlmIHRoZSBzdHJpbmcgc2hvdWxkIGNvbnRhaW4gdGhlIGFscGhhIHZhbHVlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VGhlIGhleCBzdHJpbmcgZm9yIHRoZSBjb2xvclxuICAgICAqXG4gICAgICovXG4gICAgZ2V0Q3VycmVudENvbG9yKHdpdGhBbHBoYSkge1xuICAgICAgICByZXR1cm4gdGhpcy50b0hleFN0cmluZyh3aXRoQWxwaGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuQW55Q29sb3IgPSBBbnlDb2xvcjtcbi8vI2VuZHJlZ2lvblxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIHBhZGRUb0RpZ2l0c1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogcGFkIGEgbnVtYmVyIG91dCB0byB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBkaWdpdHMgYnkgcHJlcGVuZGluZyAwJ3NcbiAqXG4gKiBAcGFyYW0gICB0b1BhZCAgICAgICAgICAgVGhlIG51bWJlciB0byBhZGQgcGFkZGluZyB0b1xuICogQHBhcmFtICAgbnVtYmVyT2ZEaWdpdHMgIEhvdyBmYXIgdG8gcGFkIHRoZSBudW1iZXJcbiAqXG4gKiBAcmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZyB2ZXJzaW9uIG9mIHRoZSBudW1iZXJcbiAqL1xuZnVuY3Rpb24gcGFkVG9EaWdpdHModG9QYWQsIG51bWJlck9mRGlnaXRzKSB7XG4gICAgbGV0IG91dEFyciA9IHRvUGFkLnRvU3RyaW5nKCkuc3BsaXQoXCJcIik7XG4gICAgd2hpbGUgKG91dEFyci5sZW5ndGggPCBudW1iZXJPZkRpZ2l0cykge1xuICAgICAgICBvdXRBcnIuc3BsaWNlKDAsIDAsIFwiMFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dEFyci5qb2luKFwiXCIpO1xufVxuZXhwb3J0cy5wYWRUb0RpZ2l0cyA9IHBhZFRvRGlnaXRzO1xuLyoqXG4gKiBmdWxsSGV4U3RyaW5nXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBHcmFicyB0aGUgaGV4IHZhbHVlIGZvciBhIGdpdmVuIG51bWJlciBhbmQgZW5zdXJlcyBpdCBpcyBhIGNlcnRhaW4gbGVuZ3RoXG4gKlxuICogQHBhcmFtIFx0dmFsIFx0VGhlIG51bWJlciB0byBjb252ZXJ0IHRvIEhleFxuICogQHBhcmFtIFx0bGVuZ3RoIFx0SG93IGxvbmcgdGhlIGhleCBzdHJpbmcgc2hvdWxkIGJlXG4gKlxuICogQHJldHVybnMgVGhlIGhleCB2YWx1ZSBvZiB0aGUgcGFzc2VkIGluIG51bWJlclxuICpcbiAqL1xuZnVuY3Rpb24gZnVsbEhleFN0cmluZyh2YWwsIGxlbmd0aCkge1xuICAgIDtcbiAgICBsZXQgb3V0SGV4U3RyaW5nO1xuICAgIGxldCBpO1xuICAgIGxlbmd0aCA9IGxlbmd0aCB8fCAwO1xuICAgIG91dEhleFN0cmluZyA9IHZhbC50b1N0cmluZygxNik7XG4gICAgaWYgKG91dEhleFN0cmluZy5sZW5ndGggPCBsZW5ndGgpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IChsZW5ndGggLSBvdXRIZXhTdHJpbmcubGVuZ3RoKTsgaSArPSAxKSB7XG4gICAgICAgICAgICBvdXRIZXhTdHJpbmcgPSBcIjBcIiArIG91dEhleFN0cmluZztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0SGV4U3RyaW5nO1xufVxuZXhwb3J0cy5mdWxsSGV4U3RyaW5nID0gZnVsbEhleFN0cmluZztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbmF2aWdhdGVfMSA9IHJlcXVpcmUoXCIuLi8uLi9vYmplY3RIZWxwZXJzL25hdmlnYXRlXCIpO1xuY2xhc3MgVHJlZSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLl9zdWJUcmVlcyA9IHt9O1xuICAgIH1cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBJREVOVElUWSBGVU5DVElPTlNcbiAgICBpc0xlYWZOb2RlKCkge1xuICAgICAgICBsZXQga2V5ID0gbmF2aWdhdGVfMS5nZXROZXh0S2V5KHRoaXMuX3N1YlRyZWVzKTtcbiAgICAgICAgcmV0dXJuICgha2V5KTtcbiAgICB9XG4gICAgZ2V0RGVwdGgoKSB7XG4gICAgICAgIGxldCBkZXB0aHMgPSBbMV07XG4gICAgICAgIG5hdmlnYXRlXzEubWFwKHRoaXMuX3N1YlRyZWVzLCAodHJlZSkgPT4ge1xuICAgICAgICAgICAgZGVwdGhzLnB1c2godHJlZS5nZXREZXB0aCgpICsgMSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoLi4uZGVwdGhzKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgLy8gY3JlYXRlIHRoZSBzdHJpbmcgZm9yIHRoZSBzdWJ0cmVlc1xuICAgICAgICBsZXQgc3ViVHJlZXMgPSBbXTtcbiAgICAgICAgbmF2aWdhdGVfMS5tYXAodGhpcy5fc3ViVHJlZXMsIChzdWJUcmVlKSA9PiB7XG4gICAgICAgICAgICBzdWJUcmVlcy5wdXNoKHN1YlRyZWUudG9TdHJpbmcoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBpbmNsdWRlIHRoZSBjZW50ZXIgbm9kZVxuICAgICAgICBsZXQgYXJyID0gW107XG4gICAgICAgIGFyci5wdXNoKHRoaXMuX2RhdGEudG9TdHJpbmcoKSk7XG4gICAgICAgIGlmIChzdWJUcmVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhcnIucHVzaChcIi0+KFwiKTtcbiAgICAgICAgICAgIGFyci5wdXNoKHN1YlRyZWVzLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgICAgIGFyci5wdXNoKFwiKVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyLmpvaW4oXCJcIik7XG4gICAgfVxufVxuZXhwb3J0cy5UcmVlID0gVHJlZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZHJhd2FibGVfMSA9IHJlcXVpcmUoXCIuLi9kcmF3YWJsZS9kcmF3YWJsZVwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCBnZW5lcmFsSGVscGVyc18xID0gcmVxdWlyZShcIi4uL2h0bWxIZWxwZXJzL2dlbmVyYWxIZWxwZXJzXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBHZW5lcmljRHJhZ2dhYmxlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBEcmF3YWJsZSBlbGVtZW50IHRoYXQgYWxzbyBjYW4gYmUgZHJhZ2dlZCBhcm91bmRcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgR2VuZXJpY0RyYWdnYWJsZSBleHRlbmRzIGRyYXdhYmxlXzEuRHJhd2FibGUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSU5JVElBTElaRSBUSEUgRFJBR0dBQkxFXG4gICAgLyoqXG4gICAgICogR2VuZXJpY0RyYWdnYWJsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgYSBkcmFnZ2FibGVcbiAgICAgKiBAcGFyYW0gICBvYmogICAgIERlZmluaXRpb24gb2YgdGhlIGVsZW1lbnQgYmVpbmcgY3JlYXRlZFxuICAgICAqIEBwYXJhbSAgIHRhcmdldCAgVGhlIHRhcmdldCBvZlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9iaiwgdGFyZ2V0KSB7XG4gICAgICAgIHN1cGVyKG9iaik7XG4gICAgICAgIHRoaXMuX3RhcmdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5hZGRUYXJnZXQodGFyZ2V0KTtcbiAgICAgICAgdGhpcy5fb25SZW5kZXIoKTtcbiAgICAgICAgaWYgKHRoaXMuX2VsZW1zLmJhc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImRyYWdnYWJsZVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZ3JpZFNpemUoKSB7IHJldHVybiB0aGlzLl9ncmlkU2l6ZTsgfVxuICAgIHNldCBncmlkU2l6ZShkYXRhKSB7IHRoaXMuX2dyaWRTaXplID0gZGF0YTsgfVxuICAgIF9hZGREcmFnZ2luZ1NpZ25pZmllcigpIHtcbiAgICAgICAgdGhpcy5fc2lnbmlmaWVyID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImRyYWdTaWduaWZpZXJcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgeyBjbHM6IFwiZG90XCIgfSxcbiAgICAgICAgICAgICAgICB7IGNsczogXCJkb3RcIiB9LFxuICAgICAgICAgICAgICAgIHsgY2xzOiBcImRvdFwiIH0sXG4gICAgICAgICAgICAgICAgeyBjbHM6IFwiZG90XCIgfSxcbiAgICAgICAgICAgICAgICB7IGNsczogXCJkb3RcIiB9LFxuICAgICAgICAgICAgICAgIHsgY2xzOiBcImRvdFwiIH0sXG4gICAgICAgICAgICAgICAgeyBjbHM6IFwiZG90XCIgfSxcbiAgICAgICAgICAgICAgICB7IGNsczogXCJkb3RcIiB9LFxuICAgICAgICAgICAgICAgIHsgY2xzOiBcImRvdFwiIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRkVGFyZ2V0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFkZCBhIG5ldyBwb3RlbnRpYWwgdGFyZ2V0IG9mXG4gICAgICogQHBhcmFtIHRhcmdldFxuICAgICAqL1xuICAgIGFkZFRhcmdldCh0YXJnZXQpIHtcbiAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZHJhZ2dhYmxlVGFyZ2V0ID0gdGhpcy5fY3JlYXRlRHJhZ2dhYmxlVGFyZ2V0KHRhcmdldCk7XG4gICAgICAgIHRoaXMuX3RhcmdldHMucHVzaChkcmFnZ2FibGVUYXJnZXQpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEVMUEVSUyBUTyBUUkFDSyBNT1VTRSBTSElGVFNcbiAgICAvKipcbiAgICAgKiBfdXBkYXRlTW91c2VQb2ludFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBVcGRhdGUgdGhlIGludGVybmFsIHN0b3JhZ2Ugb2YgdGhlIHBvaW50XG4gICAgICogQHBhcmFtICAgZXZlbnQgICBUaGUgbW91c2UgZXZlbnQgdHJpZ2dlcmluZyB0aGlzIHVwZGF0ZVxuICAgICAqL1xuICAgIF91cGRhdGVNb3VzZVBvaW50KGV2ZW50KSB7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgY3VycmVudCBwb2ludFxuICAgICAgICB0aGlzLl9jdXJyZW50TW91c2VQb2ludCA9IHtcbiAgICAgICAgICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgICAgICAgICB5OiBldmVudC5jbGllbnRZXG4gICAgICAgIH07XG4gICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBzdGFydCBwb2ludCwgZG8gaXQgbm93XG4gICAgICAgIGlmICghdGhpcy5fc3RhcnRNb3VzZVBvaW50KSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydE1vdXNlUG9pbnQgPSB0aGlzLl9jdXJyZW50TW91c2VQb2ludDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2FsY3VsYXRlRGVsdGFcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRGV0ZXJtaW5lIHRoZSBjdXJyZW50IGRlbHRhIGJhc2VkIG9uIGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIGN1cnJlbnQgbW91c2VcbiAgICAgKiBwb3NpdGlvbiAmIGluaXRpYWwgbW91c2UgcG9zaXRpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgX2NhbGN1bGF0ZURlbHRhKCkge1xuICAgICAgICAvLyByZXR1cm4gZWFybHkgaWYgd2UgZG9uJ3QgaGF2ZSBlbm91Z2ggZGF0YVxuICAgICAgICBpZiAoIXRoaXMuX2N1cnJlbnRNb3VzZVBvaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGVsdGEgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLl9jdXJyZW50TW91c2VQb2ludC54IC0gdGhpcy5fc3RhcnRNb3VzZVBvaW50LngsXG4gICAgICAgICAgICB5OiB0aGlzLl9jdXJyZW50TW91c2VQb2ludC55IC0gdGhpcy5fc3RhcnRNb3VzZVBvaW50LnlcbiAgICAgICAgfTtcbiAgICAgICAgLy8gc25hcCB0byBhIGdyaWQgaWYgd2Ugb3VnaHQgdG9cbiAgICAgICAgaWYgKHRoaXMuX2dyaWRTaXplID4gMSkge1xuICAgICAgICAgICAgZGVsdGEueCA9IHRoaXMuX25vcm1hbGl6ZVRvR3JpZChkZWx0YS54LCB0aGlzLmdyaWRTaXplKTtcbiAgICAgICAgICAgIGRlbHRhLnkgPSB0aGlzLl9ub3JtYWxpemVUb0dyaWQoZGVsdGEueSwgdGhpcy5ncmlkU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlbHRhO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfbm9ybWFsaXplVG9HcmlkXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIE5vcm1hbGl6ZSBhIHZhbHVlIHRvIGZpdCBpbnNpZGUgb2YgdGhlIGdyaWQgcGFyYW1zIHdlIGhhdmVcbiAgICAgKiBAcGFyYW0gICB2YWx1ZSAgIFRoZSB2YWx1ZSB0byBub3JtYWxpemVcbiAgICAgKi9cbiAgICBfbm9ybWFsaXplVG9HcmlkKHZhbHVlLCBncmlkU2l6ZSkge1xuICAgICAgICBsZXQgYWJzVmFsdWUgPSBNYXRoLmFicyh2YWx1ZSk7XG4gICAgICAgIGxldCB2YWwgPSBNYXRoLmZsb29yKGFic1ZhbHVlIC8gZ3JpZFNpemUpICogZ3JpZFNpemU7XG4gICAgICAgIGlmICgoYWJzVmFsdWUgJSBncmlkU2l6ZSkgPiAoZ3JpZFNpemUgLyAyKSkge1xuICAgICAgICAgICAgdmFsICs9IGdyaWRTaXplO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSA8IDApIHtcbiAgICAgICAgICAgIHZhbCAqPSAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBPVkVSUklEQUJMRSBGVU5DVElPTlNcbiAgICAvKipcbiAgICAgKiBfb25EcmFnU3RhcnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlIGRyYWdnaW5nIG9uIHRoZSBkcmFnZ2FibGVcbiAgICAgKiBAcGFyYW0gICBldmVudCAtIFRoZSBtb3VzZSBldmVudCB0aGF0IGlzIHN0YXJ0aW5nIHRoZSBkcmFnXG4gICAgICovXG4gICAgX29uRHJhZ1N0YXJ0KGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2lzRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICBHZW5lcmljRHJhZ2dhYmxlLmN1cnJlbnREcmFnZ2FibGUgPSB0aGlzO1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImRyYWdnaW5nXCIpO1xuICAgICAgICBmb3IgKGxldCB0YXJnZXQgb2YgdGhpcy5fdGFyZ2V0cykge1xuICAgICAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGFyZ2V0LmJhc2UsIFwiZHJhZ2dpbmdPdmVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1vdXNlUG9pbnQoZXZlbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25Nb3ZlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhhbmRsZSB3aGVuIHRoZSBkcmFnZ2FibGUgaXMgbW92ZWRcbiAgICAgKiBAcGFyYW0gICBldmVudCAgIFRoZSBldmVudCBjYXVzaW5nIHRoZSBtb3ZlXG4gICAgICovXG4gICAgX29uTW92ZShldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVNb3VzZVBvaW50KGV2ZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uRHJvcFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgd2hlbiB0aGlzIGVsZW1lbnQgaXMgZHJvcHBlZFxuICAgICAqIEBwYXJhbSAgIGV2ZW50ICAgVGhlIGV2ZW50IGNhdXNpbmcgdGhlIGRyb3BcbiAgICAgKi9cbiAgICBfb25Ecm9wKGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5faXNEcmFnZ2luZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChEcmFnZ2FibGVUYXJnZXQuY3VycmVudERyYWdnYWJsZVRhcmdldCkge1xuICAgICAgICAgICAgR2VuZXJpY0RyYWdnYWJsZS5jdXJyZW50RHJhZ2dhYmxlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0TW91c2VQb2ludCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TW91c2VQb2ludCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImRyYWdnaW5nXCIpO1xuICAgICAgICBmb3IgKGxldCB0YXJnZXQgb2YgdGhpcy5fdGFyZ2V0cykge1xuICAgICAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGFyZ2V0LmJhc2UsIFwiZHJhZ2dpbmdPdmVyXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vblJlbmRlclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgcmVuZGVyaW5nIHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50XG4gICAgICovXG4gICAgX29uUmVuZGVyKCkge1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uUmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXRoaXMuX2VsZW1zLmJhc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGVsdGEgPSB0aGlzLl9jYWxjdWxhdGVEZWx0YSgpO1xuICAgICAgICBpZiAoIWRlbHRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ2VuZXJhbEhlbHBlcnNfMS5tb3ZlRWxlbVJlbGF0aXZlUG9zaXRpb24odGhpcy5iYXNlLCBkZWx0YSk7XG4gICAgICAgIC8vIHJlc2V0IHRoZSBwb2ludFxuICAgICAgICB0aGlzLl9zdGFydE1vdXNlUG9pbnQueCArPSBkZWx0YS54O1xuICAgICAgICB0aGlzLl9zdGFydE1vdXNlUG9pbnQueSArPSBkZWx0YS55O1xuICAgIH1cbn1cbmV4cG9ydHMuR2VuZXJpY0RyYWdnYWJsZSA9IEdlbmVyaWNEcmFnZ2FibGU7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBTVFlMRVNcbi8qKiBzdHlsZXMgdXNlZCBmb3IgdGhlIGRyYWdnYWJsZSAqL1xuR2VuZXJpY0RyYWdnYWJsZS5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLmRyYWdnaW5nT3ZlclwiOiB7XG4gICAgICAgIGN1cnNvcjogXCItd2Via2l0LWdyYWJiaW5nICFpbXBvcnRhbnRcIixcbiAgICB9LFxuICAgIFwiLmRyYWdnYWJsZVwiOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlICFpbXBvcnRhbnRcIixcbiAgICAgICAgY3Vyc29yOiBcIi13ZWJraXQtZ3JhYlwiLFxuICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCBlYXNlLWluLW91dCAuMDNzXCIsXG4gICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgXCJkaXZcIjoge1xuICAgICAgICAgICAgICAgIGN1cnNvcjogXCItd2Via2l0LWdyYWJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiJi5ncmFiYmluZ1wiOiB7XG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcIi13ZWJraXQtZ3JhYmJpbmdcIixcbiAgICAgICAgICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJkaXZcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcIi13ZWJraXQtZ3JhYmJpbmdcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiJi5kcmFnZ2luZ1wiOiB7XG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBcIjVweCA1cHggMjBweCAxMHB4IHJnYmEoMCwwLDAsLjIpICFpbXBvcnRhbnRcIixcbiAgICAgICAgICAgICAgICB6SW5kZXg6IFwiMTAwXCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcIi13ZWJraXQtZ3JhYmJpbmdcIixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBcIjFcIixcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IFwiNTAlIDUwJVwiLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogXCJyb3RhdGUoMGRlZylcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLmRyYWdTaWduaWZpZXJcIjoge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgbGVmdDogXCI1cHhcIixcbiAgICAgICAgICAgICAgICB0b3A6IFwiNXB4XCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTlweFwiLFxuICAgICAgICAgICAgICAgIGZsZXhXcmFwOiBcIndyYXBcIixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBcIjAuNVwiLFxuICAgICAgICAgICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgICAgICAgICBcIiY6aG92ZXJcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogXCIxXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCIubW9iaWxlICZcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCIuZG90XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjNweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjNweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBcIjFweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoMCwwLDAsLjMpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4U2hyaW5rOiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCIuZHJvcHBhYmxlXCI6IHtcbiAgICAgICAgY3Vyc29yOiBcIi13ZWJraXQtZHJhZ2dpbmdcIlxuICAgIH1cbn07XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBEcmFnZ2FibGVUYXJnZXRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFRhcmdldCBmb3IgYSBkcmFnZ2FibGUgdG8gYmUgYWRkZWQgdG9cbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgRHJhZ2dhYmxlVGFyZ2V0IGV4dGVuZHMgZHJhd2FibGVfMS5EcmF3YWJsZSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDT05TVFJVQ1QgRFJBR0dBQkxFIFRBUkdFVFxuICAgIC8qKlxuICAgICAqIERyYWdnYWJsZVRhcmdldFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIGRyYWdnYWJsZSB0YXJnZXRcbiAgICAgKiBAcGFyYW0gICBzcmNFbGVtICAgICBUaGUgZWxlbWVudCB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIHRhcmdldFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNyY0VsZW0pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZSA9IHNyY0VsZW07XG4gICAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiZHJvcHBhYmxlXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogKERvZXMgbm90aGluZzsgY2FuIGJlIG92ZXJyaWRkZW4gYnkgY2hpbGQgY2xhc3NlcylcbiAgICAgKi9cbiAgICBfY3JlYXRlRWxlbWVudHMoKSB7IH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIE9WRVJSSURBQkxFIEZVTkNUSU9OU1xuICAgIC8qKlxuICAgICAqIF9vbkRyYWdFbnRlclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGVcbiAgICAgKi9cbiAgICBfb25EcmFnRW50ZXIoZXZlbnQpIHtcbiAgICAgICAgRHJhZ2dhYmxlVGFyZ2V0LmN1cnJlbnREcmFnZ2FibGVUYXJnZXQgPSB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25EcmFnTGVhdmVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICovXG4gICAgX29uRHJhZ0xlYXZlKGV2ZW50KSB7XG4gICAgICAgIGlmIChEcmFnZ2FibGVUYXJnZXQuY3VycmVudERyYWdnYWJsZVRhcmdldCAhPT0gdGhpcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIERyYWdnYWJsZVRhcmdldC5jdXJyZW50RHJhZ2dhYmxlVGFyZ2V0ID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uRHJvcFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgKi9cbiAgICBfb25Ecm9wKGV2ZW50KSB7XG4gICAgICAgIGlmIChHZW5lcmljRHJhZ2dhYmxlLmN1cnJlbnREcmFnZ2FibGUpIHtcbiAgICAgICAgICAgIERyYWdnYWJsZVRhcmdldC5jdXJyZW50RHJhZ2dhYmxlVGFyZ2V0LmJhc2UuYXBwZW5kQ2hpbGQoR2VuZXJpY0RyYWdnYWJsZS5jdXJyZW50RHJhZ2dhYmxlLmJhc2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5EcmFnZ2FibGVUYXJnZXQgPSBEcmFnZ2FibGVUYXJnZXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHBvcHVwXzEgPSByZXF1aXJlKFwiLi9wb3B1cFwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0RXJyb3JQb3B1cFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU2ltcGxlIGZvcm0gdG8gc2hvdyBhbiBlcnJvciBtZXNzYWdlXG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uXHQxLjAuM1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBFcnJvclBvcHVwIGV4dGVuZHMgcG9wdXBfMS5Qb3B1cCB7XG4gICAgLyoqXG4gICAgICogRXJyb3JQb3B1cFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjcmVhdGUgYSBwb3B1cCB0aGF0IHNob3dzIGFuIGVycm9yIHRvIHRoZSB1c2VyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZGV0YWlscywgdGl0bGUsIG9iaikge1xuICAgICAgICBzdXBlcihvYmopO1xuICAgICAgICB0aGlzLnNldFRpdGxlKHRpdGxlIHx8IFwiVWgtb2guLi50aGF0IHdhc24ndCBzdXBwb3NlZCB0byBoYXBwZW5cIik7XG4gICAgICAgIHRoaXMuYWRkQ29udGVudChcIlwiLCBcIlwiLCBkZXRhaWxzKTtcbiAgICAgICAgdGhpcy5hZGRCdXR0b24oXCJPa2F5XCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZXJhc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX25vdGlmeUNsb3NlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXQgb25DbG9zZShmKSB7IHRoaXMuX29uQ2xvc2UgPSBmOyB9XG4gICAgX25vdGlmeUNsb3NlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX29uQ2xvc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vbkNsb3NlKCk7XG4gICAgfVxufVxuZXhwb3J0cy5FcnJvclBvcHVwID0gRXJyb3JQb3B1cDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi8uLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi4vLi4vc3R5bGVIZWxwZXJzL2Nzc1wiKTtcbmNvbnN0IG5hdmlnYXRlXzEgPSByZXF1aXJlKFwiLi4vLi4vb2JqZWN0SGVscGVycy9uYXZpZ2F0ZVwiKTtcbmNvbnN0IGFycmF5c18xID0gcmVxdWlyZShcIi4uLy4uL3ByaW1pdGl2ZUhlbHBlcnMvYXJyYXlzXCIpO1xuY29uc3QgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi8uLi9hc3luY1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIFRvZ2dsZUJ1dHRvbkZpZWxkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiB0ZW1wbGF0ZSBmb3IgdG9nZ2xlIGJ1dHRvbnNcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgVG9nZ2xlQnV0dG9uRmllbGQgZXh0ZW5kcyBfZmllbGRfMS5GaWVsZCB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvKipcbiAgICAgKiBUb2dnbGVCdXR0b25FbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSBhIHRvZ2dsZSBidXR0b24gY2xhc3NcbiAgICAgKiBAcGFyYW0gICBpZCAgICAgICAgICBUaGUgSUQgdG8gdXNlIGZvciB0aGUgdG9nZ2xlIGJ1dHRvblxuICAgICAqIEBwYXJhbSAgIHRlbXBsYXRlICAgIFRoZSB0ZW1wbGF0ZSBmb3IgdGhpcyBlbGVtZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaWQsIHRlbXBsYXRlKSB7XG4gICAgICAgIHN1cGVyKGlkLCB0ZW1wbGF0ZSk7XG4gICAgfVxuICAgIC8qKiB0eXBlIGZvciB0aGUgdG9nZ2xlIGJ1dHRvbnMgKi9cbiAgICBnZXQgX3R5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkZpZWxkVHlwZUVudW0uVE9HR0xFX0JVVFRPTjsgfVxuICAgIC8qKiBkZWZhdWx0IGNsYXNzIGZvciB0aGUgdG9nZ2xlIGJ1dHRvbnMgKi9cbiAgICBnZXQgX2RlZmF1bHRDbHMoKSB7IHJldHVybiBcInRvZ2dsZUJ0bnNcIjsgfVxuICAgIF9nZXRVbmNvbG9yZWRTdHlsZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXJnZVRoZW1lcyhfZmllbGRfMS5GaWVsZC5fdW5jb2xvcmVkU3R5bGVzLCBUb2dnbGVCdXR0b25GaWVsZC5fdW5jb2xvcmVkU3R5bGVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3BhcnNlRmllbGRUZW1wbGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBQYXJzZSBkYXRhIGluIHRoZSBlbGVtZW50IHRlbXBsYXRlXG4gICAgICogQHBhcmFtICAgdGVtcGxhdGUgICAgSGFuZGxlIHRoZSBlbGVtZW50XG4gICAgICovXG4gICAgX3BhcnNlRmllbGRUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAgICAgICBzdXBlci5fcGFyc2VGaWVsZFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IHRlbXBsYXRlLm9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkNyZWF0ZUVsZW1lbnRzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZSB0aGUgZWxlbWVudHMgbmVlZGVkIGZvciB0b2dnbGUgYnV0dG9uc1xuICAgICAqL1xuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5jaGlsZHJlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwiZm9ybUNoaWxkcmVuXCIsIFwiXCIsIG51bGwsIG51bGwpO1xuICAgICAgICB0aGlzLl9jcmVhdGVPcHRpb25zRWxlbWVudHMoKTtcbiAgICAgICAgdGhpcy5faGFuZGxlU3RhbmRhcmRMYXlvdXQoKTtcbiAgICB9XG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEFORExFIExBWU9VVFxuICAgIF9mbGV4TGF5b3V0KCkge1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImZsZXhcIik7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVN0YW5kYXJkTGFiZWwodGhpcy5fZWxlbXMuYmFzZSk7XG4gICAgICAgIHRoaXMuX2FwcGVuZENoaWxkcmVuKCk7XG4gICAgfVxuICAgIF9tdWx0aUxpbmVMYXlvdXQoKSB7XG4gICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwibXVsdGlsaW5lXCIpO1xuICAgICAgICB0aGlzLl9jcmVhdGVTdGFuZGFyZExhYmVsKHRoaXMuX2VsZW1zLmJhc2UpO1xuICAgICAgICB0aGlzLl9hcHBlbmRDaGlsZHJlbigpO1xuICAgIH1cbiAgICBfdGFibGVMYXlvdXQoKSB7XG4gICAgICAgIHRoaXMuX211bHRpTGluZUxheW91dCgpO1xuICAgICAgICAvL1RPRE86IGRvIGEgcmVhbCB0YWJsZSBsYXlvdXRcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICBfYXBwZW5kQ2hpbGRyZW4oKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbXMuY2hpbGRyZW5Db250YWluZXIpO1xuICAgICAgICBpZiAodGhpcy5fZWxlbXMucG9zdENoaWxkcmVuQ29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1zLnBvc3RDaGlsZHJlbkNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2xhYmVsQWZ0ZXJMYXlvdXQoKSB7XG4gICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwibGFiZWxMYXN0XCIpO1xuICAgICAgICB0aGlzLl9hcHBlbmRDaGlsZHJlbigpO1xuICAgICAgICB0aGlzLl9jcmVhdGVTdGFuZGFyZExhYmVsKHRoaXMuX2VsZW1zLmJhc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfdXBkYXRlT3B0aW9uc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHVwZGF0ZSB0aGUgYnV0dG9ucyB0aGF0IGFyZSBwcmVzZW50ZWQgYXMgb3B0aW9ucyB0byB0aGUgdXNlclxuICAgICAqL1xuICAgIF91cGRhdGVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gY2xlYXIgb3V0IGFueSBleGlzdGluZyBvcHRpb25zXG4gICAgICAgIHRoaXMuX2NsZWFyT3B0aW9ucygpO1xuICAgICAgICAvLyB1cGRhdGUgdGhlIG9wdGlvbiBhcnJheXNcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2NvbmZpZy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgLy8gcmVnZW5lcmF0ZSB0aGUgYnV0dG9uc1xuICAgICAgICB0aGlzLl9jcmVhdGVPcHRpb25zRWxlbWVudHMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NsZWFyT3B0aW9uc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNsZWFyIG91dCB0aGUgY3VycmVudCBzZXQgb2Ygb3B0aW9uc1xuICAgICAqL1xuICAgIF9jbGVhck9wdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuX2J1dHRvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5fZWxlbXMuY2hpbGRyZW5Db250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZU9wdGlvbnNFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKi9cbiAgICBfY3JlYXRlT3B0aW9uc0VsZW1lbnRzKCkge1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLl9vcHRpb25zLCAoZWxlbSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlT3B0aW9uRWxlbWVudChlbGVtKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVPcHRpb25FbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSBlbGVtXG4gICAgICovXG4gICAgX2NyZWF0ZU9wdGlvbkVsZW1lbnQoZWxlbSkge1xuICAgICAgICBsZXQgYnRuID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgaWQ6IHRoaXMuX2lkICsgXCJidG5cIiArIGVsZW0udmFsdWUsXG4gICAgICAgICAgICBjbHM6IFwidG9nZ2xlQnRuXCIsXG4gICAgICAgICAgICBjb250ZW50OiBlbGVtLmxhYmVsLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5jaGlsZHJlbkNvbnRhaW5lcixcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzOiB7XG4gICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0QnRuKGJ0biwgZWxlbS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUV2ZW50RmlyZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjaGVjayBpZiB3ZSBhbHJlYWR5IGtub3cgdGhhdCB0aGlzIGJ1dHRvbiBzaG91bGQgYmUgc2VsZWN0ZWRcbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZEJlU2VsZWN0ZWQoZWxlbSkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdEJ0bihidG4sIGVsZW0udmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCB0aGlzIHRvIG91ciBidXR0b24gYXJhcnkgYXMgYXBwcm9wcmlhdGVcbiAgICAgICAgaWYgKCF0aGlzLl9idXR0b25zKSB7XG4gICAgICAgICAgICB0aGlzLl9idXR0b25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnV0dG9ucy5wdXNoKHsga2V5OiBlbGVtLnZhbHVlLCBidG46IGJ0biB9KTtcbiAgICAgICAgcmV0dXJuIGJ0bjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uQ2hhbmdlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHByb2Nlc3Mgd2hlbiB0aGUgdXNlciBoYXMgY2hhbmdlZCB0aGVpciBzZWxlY3Rpb25cbiAgICAgKi9cbiAgICBfZ2V0VmFsdWVGcm9tRmllbGQoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2RhdGE7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdXBkYXRlKGRhdGEsIGFsbG93RXZlbnRzKSB7XG4gICAgICAgIGxldCBjaGFuZ2VkID0gIXRoaXMuX3Rlc3RFcXVhbGl0eShkYXRhKTtcbiAgICAgICAgaWYgKCFjaGFuZ2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIudXBkYXRlKGRhdGEsIGFsbG93RXZlbnRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdXBkYXRlVUlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogdXBkYXRlIHRoZSBzZWxlY3RlZCBidXR0b25zIGJhc2VkIG9uIHRoZSBwYXNzZWQgaW4gaW5mb3JtYXRpb25cbiAgICAgKi9cbiAgICBfdXBkYXRlVUkoZGF0YSkge1xuICAgICAgICBsZXQgYnRuID0gdGhpcy5fZ2V0QnV0dG9uVG9VcGRhdGUoZGF0YSk7XG4gICAgICAgIGFzeW5jXzEud2FpdCgxMDApLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9zZWxlY3RCdG4pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm1pc3NpbmcgX3NlbGVjdEJ0bjogXCIgKyB0aGlzLl9zZWxlY3RCdG4pO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgX3NlbGVjdCBmdW5jdGlvblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdEJ0bihidG4sIGRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2dldEJ1dHRvblRvVXBkYXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICovXG4gICAgX2dldEJ1dHRvblRvVXBkYXRlKGRhdGEpIHtcbiAgICAgICAgbGV0IGlkeCA9IGFycmF5c18xLmluZGV4T2YodGhpcy5fYnV0dG9ucywgeyBrZXk6IGRhdGEsIGJ0bjogbnVsbCB9LCAoYSwgYikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VxdWFsaXR5VGVzdChhLCBiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJ0biA9IHRoaXMuX2J1dHRvbnNbaWR4XS5idG47XG4gICAgICAgIHJldHVybiBidG47XG4gICAgfVxuICAgIF9lcXVhbGl0eVRlc3QoYSwgYikge1xuICAgICAgICByZXR1cm4gKGEua2V5ID09PSBiLmtleSk7XG4gICAgfVxuICAgIF90ZXN0RXF1YWxpdHkoYSkgeyByZXR1cm4gZmFsc2U7IH1cbn1cbmV4cG9ydHMuVG9nZ2xlQnV0dG9uRmllbGQgPSBUb2dnbGVCdXR0b25GaWVsZDtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG4vKiogc3RhdGljIHN0eWxlcyBmb3IgdGhlIHRvZ2dsZSBidXR0b25zICovXG5Ub2dnbGVCdXR0b25GaWVsZC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLnRvZ2dsZUJ0bnMgLmZvcm1DaGlsZHJlblwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBmbGV4V3JhcDogXCJ3cmFwXCIsXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiMFwiLFxuICAgICAgICBtYXJnaW5Ub3A6IFwiNXB4XCJcbiAgICB9LFxuICAgIFwiLnRvZ2dsZUJ0bnMuZmxleCAuZm9ybUNoaWxkcmVuXCI6IHt9LFxuICAgIFwiLnRvZ2dsZUJ0blwiOiB7XG4gICAgICAgIGJvcmRlclJhZGl1czogXCIzcHhcIixcbiAgICAgICAgYm94U2hhZG93OiBcIjFweCAxcHggNHB4IDJweCByZ2JhKDAsMCwwLC4xKVwiLFxuICAgICAgICBwYWRkaW5nOiBcIjRweFwiLFxuICAgICAgICBtYXJnaW5SaWdodDogXCIxMHB4XCIsXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgZm9udFNpemU6IFwiMC44ZW1cIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB0cmFuc3BhcmVudFwiLFxuICAgICAgICBvcGFjaXR5OiBcIjAuN1wiLFxuICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCBlYXNlLWluLW91dCAuMXNcIlxuICAgIH0sXG4gICAgXCIudG9nZ2xlQnRuLnNlbGVjdGVkLCAudG9nZ2xlQnRuOmhvdmVyXCI6IHtcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCA8Zm9ybVRoZW1lPlwiLFxuICAgICAgICB0cmFuc2Zvcm06IFwic2NhbGUoMS4wOClcIlxuICAgIH0sXG4gICAgXCIudG9nZ2xlQnRuLnNlbGVjdGVkXCI6IHtcbiAgICAgICAgb3BhY2l0eTogXCIxXCJcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRGlyZWN0aW9uVHlwZTtcbihmdW5jdGlvbiAoRGlyZWN0aW9uVHlwZSkge1xuICAgIERpcmVjdGlvblR5cGVbRGlyZWN0aW9uVHlwZVtcIkZPUldBUkRcIl0gPSAxXSA9IFwiRk9SV0FSRFwiO1xuICAgIERpcmVjdGlvblR5cGVbRGlyZWN0aW9uVHlwZVtcIkJBQ0tXQVJEXCJdID0gLTFdID0gXCJCQUNLV0FSRFwiO1xuICAgIERpcmVjdGlvblR5cGVbRGlyZWN0aW9uVHlwZVtcIk1PVkVcIl0gPSAwXSA9IFwiTU9WRVwiO1xufSkoRGlyZWN0aW9uVHlwZSA9IGV4cG9ydHMuRGlyZWN0aW9uVHlwZSB8fCAoZXhwb3J0cy5EaXJlY3Rpb25UeXBlID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgX2NvbGxhcHNpYmxlRmllbGRfMSA9IHJlcXVpcmUoXCIuL19jb2xsYXBzaWJsZUZpZWxkXCIpO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgaGVscGVyc18xID0gcmVxdWlyZShcIi4uL2hlbHBlcnNcIik7XG5jb25zdCBuYXZpZ2F0ZV8xID0gcmVxdWlyZShcIi4uLy4uL29iamVjdEhlbHBlcnMvbmF2aWdhdGVcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IGV2ZW50SGFuZGxlcl8xID0gcmVxdWlyZShcIi4uL2V2ZW50SGFuZGxlclwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uLy4uL3N0eWxlSGVscGVycy9jc3NcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgU2VjdGlvbkZpZWxkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjcmVhdGUgYW4gZWxlbWVudCBpbiB0aGUgZm9ybSB0aGF0IHdpbGwgY29udGFpbiBvdGhlciBlbGVtZW50cyBvZiBhIGZvcm1cbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgU2VjdGlvbkZpZWxkIGV4dGVuZHMgX2NvbGxhcHNpYmxlRmllbGRfMS5Db2xsYXBzaWJsZUZpZWxkIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENPTlNUUlVDVCBBTkQgQ1JFQVRFIEVMRU1FTlRTXG4gICAgLyoqXG4gICAgICogU2VjdGlvbkVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY3JlYXRlIGEgc2VjdGlvbiBlbGVtZW50XG4gICAgICogQHBhcmFtICAgaWQgICAgICAgICAgVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBzZWN0aW9uXG4gICAgICogQHBhcmFtICAgY29uZmlnICAgICAgVGVtcGxhdGUgZm9yIHRoZSBzZWN0aW9uIGl0c2VsZlxuICAgICAqIEBwYXJhbSAgIGNoaWxkcmVuICAgIEFsbCBjaGlsZCBlbGVtZW50cyBvZiB0aGlzIHNlY3Rpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpZCwgY29uZmlnLCBjaGlsZHJlbikge1xuICAgICAgICBzdXBlcihpZCwgY29uZmlnKTtcbiAgICAgICAgLy8gZ3JhYiBjaGlsZHJlbiBmcm9tIHRoZSBwYXJlbnQgZWxlbWVudCBpZiBhcHByb3ByaWF0ZVxuICAgICAgICBpZiAoaGVscGVyc18xLmlzRmllbGQoY29uZmlnKSkge1xuICAgICAgICAgICAgY2hpbGRyZW4gPSBjb25maWcuY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGFyc2VDaGlsZHJlbihjaGlsZHJlbik7XG4gICAgfVxuICAgIC8qKiBzZWN0aW9uIGVsZW1lbnRzIGFyZSBhIG1lcmdlZCBzZXQgb2YgdGhlbWVzICovXG4gICAgX2dldFVuY29sb3JlZFN0eWxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlVGhlbWVzKFNlY3Rpb25GaWVsZC5fdW5jb2xvcmVkU3R5bGVzLCBfY29sbGFwc2libGVGaWVsZF8xLkNvbGxhcHNpYmxlRmllbGQuX3VuY29sb3JlZFN0eWxlcywgX2ZpZWxkXzEuRmllbGQuX3VuY29sb3JlZFN0eWxlcyk7XG4gICAgfVxuICAgIC8qKiB1cGRhdGUgdGhlIGFwcHJvcHJpYXRlIHRoZW1lIGNvbG9yIGZvciB0aGUgZm9ybSAqL1xuICAgIHNldFRoZW1lQ29sb3IodW5pcXVlSWQsIGNvbG9yLCBub1JlcGxhY2UpIHtcbiAgICAgICAgc3VwZXIuc2V0VGhlbWVDb2xvcih1bmlxdWVJZCwgY29sb3IpO1xuICAgICAgICBpZiAoIXRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlbHBlcnNfMS5pc0ZpZWxkKHRoaXMuX2NoaWxkcmVuKSkge1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4uc2V0VGhlbWVDb2xvcih1bmlxdWVJZCwgY29sb3IsIG5vUmVwbGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLl9jaGlsZHJlbiwgKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgY2hpbGQuc2V0VGhlbWVDb2xvcih1bmlxdWVJZCwgY29sb3IsIG5vUmVwbGFjZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiB0aGlzLl9jaGlsZHJlbjsgfVxuICAgIC8qKiBoYW5kbGUgdGhlIGRlZmF1bHRzIHRoYXQgYWxsIGZvcm0gZWxlbWVudHMgbmVlZCAqL1xuICAgIGdldCBfZGVmYXVsdENscygpIHsgcmV0dXJuIFwia2lwRm9ybUVsZW0gc2VjdGlvblwiOyB9XG4gICAgZ2V0IF9kZWZhdWx0VmFsdWUoKSB7IHJldHVybiB7fTsgfVxuICAgIC8qKiB1c2UgYSBzZWN0aW9uIHR5cGUgKi9cbiAgICBnZXQgX3R5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkZpZWxkVHlwZUVudW0uU0VDVElPTjsgfVxuICAgIC8qKlxuICAgICAqIF9vbkNyZWF0ZUVsZW1lbnRzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZSBlbGVtZW50cyBmb3IgdGhlIHNlY3Rpb25cbiAgICAgKi9cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSB0aXRsZSBmb3IgdGhlIHNlY3Rpb25cbiAgICAgICAgdGhpcy5fY3JlYXRlQ29sbGFwc2libGVUaXRsZSgpO1xuICAgICAgICAvLyBDcmVhdGUgdGhlIGZvcm0gY2hpbGRyZW4gc2VjdGlvblxuICAgICAgICB0aGlzLl9lbGVtcy5jaGlsZHJlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwiZm9ybUNoaWxkcmVuXCIsIFwiXCIsIG51bGwsIG51bGwsIHRoaXMuX2VsZW1zLmJhc2UpO1xuICAgICAgICB0aGlzLl9jcmVhdGVTdHlsZXMoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ2xzQmFzZWRPbkxheW91dCgpO1xuICAgIH1cbiAgICAvKiogY3JlYXRlIGEgY2xvbmUgb2YgdGhpcyBlbGVtZW50ICovXG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JRCkge1xuICAgICAgICByZXR1cm4gbmV3IFNlY3Rpb25GaWVsZCh0aGlzLl9pZCArIGFwcGVuZFRvSUQsIHRoaXMpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFBBUlNFIFRIRSBDSElMRFJFTiBPRiBBIFNFQ1RJT05cbiAgICAvKipcbiAgICAgKiBfcGFyc2VDaGlsZHJlblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBwYXJzZSB0aGUgY2hpbGRyZW4gYXJyYXkgb2YgdGhpcyBmb3JtIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gICBjaGlsZHJlbiAgICBUaGUgY2hpbGRyZW4gZm9yIHRoaXMgc2VjdGlvblxuICAgICAqL1xuICAgIF9wYXJzZUNoaWxkcmVuKGNoaWxkcmVuKSB7XG4gICAgICAgIC8vIHF1aXQgaWYgdGhlcmUgaXNuJ3QgYW55IGRhdGFcbiAgICAgICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgICAgICAgY2hpbGRyZW4gPSB7fTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgd2hlbiB0aGVyZSBpcyBqdXN0IGEgc2luZ2xlIGVsZW1lbnQgaW5zaWRlIG9mIHRoaXMgc2VjdGlvblxuICAgICAgICBpZiAoaGVscGVyc18xLmlzRmllbGQoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBsZXQgZWxlbSA9IHRoaXMuX3BhcnNlQ2hpbGQoY2hpbGRyZW4pO1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSBlbGVtO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gaGFuZGxlIHdoZW4gdGhlcmUgaXMgYSBsaXN0IG9mIGNoaWxkcmVuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbiA9IHt9O1xuICAgICAgICAgICAgLy8gZ28gdGhyb3VnaCBlYWNoIG9mIHRoZSBjaGlsZHJlblxuICAgICAgICAgICAgbmF2aWdhdGVfMS5tYXAoY2hpbGRyZW4sICh0ZW1wbGF0ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGVsZW0gPSB0aGlzLl9wYXJzZUNoaWxkKHRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZHJlbltrZXldID0gZWxlbTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHBhcnNlQ2hpbGRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR28gdGhyb3VnaCBvdXIgY2hpbGRyZW4gYXJyYXkgYW5kIGNyZWF0ZSB0aGUgaW5kaXZpZHVhbCBjaGlsZHJlblxuICAgICAqIEBwYXJhbSAgIGNoaWxkICAgVGhlIGVsZW1lbnQgdG8gcGFyc2VcbiAgICAgKi9cbiAgICBfcGFyc2VDaGlsZChjaGlsZCkge1xuICAgICAgICBsZXQgZWxlbSA9IHRoaXMuX2Nsb25lRm9ybUVsZW1lbnQoY2hpbGQpO1xuICAgICAgICB0aGlzLl9hcHBseUNvbG9ycyhlbGVtKTtcbiAgICAgICAgZWxlbS5kcmF3KHRoaXMuX2VsZW1zLmNoaWxkcmVuQ29udGFpbmVyKTtcbiAgICAgICAgZXZlbnRIYW5kbGVyXzEuZm9ybUV2ZW50SGFuZGxlci5hZGRFdmVudExpc3RlbmVyKGV2ZW50SGFuZGxlcl8xLkZPUk1fRUxFTV9DSEFOR0UsIHtcbiAgICAgICAgICAgIGZ1bmM6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBrZXkgPSBldmVudC5jb250ZXh0LmtleTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSBlbGVtLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVJbnRlcm5hbERhdGEodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoQ2hhbmdlRXZlbnQoZWxlbS5pZCk7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGFyZ2V0OiBlbGVtLFxuICAgICAgICAgICAgdW5pcXVlSWQ6IHRoaXMuX2lkICsgXCJ8XCIgKyBlbGVtLmlkXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZWxlbTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3VwZGF0ZUludGVybmFsRGF0YVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUga2VlcGluZyBvdXIgaW50ZXJuYWwgZGF0YSB0cmFja2luZyB1cCB0byBkYXRlIHdpdGggb3VyIGNoaWxkcmVuXG4gICAgICogQHBhcmFtICAgaW50ZXJuYWxPbmx5ICAgIElmIHRydWUsIGluZGljYXRlcyB0aGF0IHdlIGFyZW4ndCBkb2luZyBhIGZ1bGwgc2F2ZVxuICAgICAqL1xuICAgIF91cGRhdGVJbnRlcm5hbERhdGEoaW50ZXJuYWxPbmx5KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgZWxlbTtcbiAgICAgICAgICAgIGxldCBkYXRhO1xuICAgICAgICAgICAgaWYgKGhlbHBlcnNfMS5pc0ZpZWxkKHRoaXMuX2NoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgIGRhdGEgPSB5aWVsZCB0aGlzLl9jaGlsZHJlbi5zYXZlKGludGVybmFsT25seSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgbGV0IHByb21pc2VzID0gbmF2aWdhdGVfMS5tYXAodGhpcy5fY2hpbGRyZW4sIChlbGVtLCBrZXkpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUludGVybmFsRmllbGQoa2V5LCBlbGVtLCBkYXRhLCBpbnRlcm5hbE9ubHkpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB5aWVsZCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF91cGRhdGVJbnRlcm5hbEZpZWxkKGtleSwgZWxlbSwgZGF0YSwgaW50ZXJuYWxPbmx5KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBkYXRhW2tleV0gPSB5aWVsZCBlbGVtLnNhdmUoaW50ZXJuYWxPbmx5KTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gT1ZFUlJJREUgU1BFQ0lBTCBCRUhBVklPUiBGT1IgU0VDVElPTlNcbiAgICAvKipcbiAgICAgKiBzYXZlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhhbmRsZSBzYXZpbmcgdGhlIHNlY3Rpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIGludGVybmFsT25seSAgICBJZiB0cnVlLCBkb2Vzbid0IGRvIGFsbCB0aGUgdXBkYXRpbmcgdGhhdCB3b3VsZFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICBoYXBwZW4gb24gYSByZWFsIHNhdmVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBkYXRhIGNvbnRhaW5lZCBpbiB0aGlzIHNlY3Rpb25zIGNoaWxkIGVsZW1lbnRzXG4gICAgICovXG4gICAgc2F2ZShpbnRlcm5hbE9ubHkpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHNhdmUgYWxsIG9mIHRoZSBjaGlsZCBlbGVtZW50c1xuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IHlpZWxkIHRoaXMuX3VwZGF0ZUludGVybmFsRGF0YShpbnRlcm5hbE9ubHkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjYW5TYXZlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHRoaXMgZWxlbWVudCBjYW4gc2F2ZSwgYmFzZWQgb24gd2hldGhlciBpdHMgY2hpbGRyZW5cbiAgICAgKiBoYXZlIGVycm9ycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgd2UgY2FuIHNhdmUgdGhpcyBlbGVtZW50XG4gICAgICovXG4gICAgY2FuU2F2ZSgpIHtcbiAgICAgICAgLy8gaWYgd2Ugb25seSBoYXZlIGEgc2luZ2xlIGNoaWxkLCBjaGVjayB0aGF0IG9uZVxuICAgICAgICBpZiAoaGVscGVyc18xLmlzRmllbGQodGhpcy5fY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW4uY2FuU2F2ZSgpO1xuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCBjaGVjayBhbGwgb2Ygb3VyIGNoaWxkcmVuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgY2FuU2F2ZSA9IHtcbiAgICAgICAgICAgICAgICBoYXNFcnJvcnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGhhc01pc3NpbmdSZXF1aXJlZDogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLl9jaGlsZHJlbiwgKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkQ2FuU2F2ZSA9IGNoaWxkLmNhblNhdmUoKTtcbiAgICAgICAgICAgICAgICBjYW5TYXZlLmhhc0Vycm9ycyA9IGNhblNhdmUuaGFzRXJyb3JzIHx8IGNoaWxkQ2FuU2F2ZS5oYXNFcnJvcnM7XG4gICAgICAgICAgICAgICAgY2FuU2F2ZS5oYXNNaXNzaW5nUmVxdWlyZWQgPSBjYW5TYXZlLmhhc01pc3NpbmdSZXF1aXJlZCB8fCBjaGlsZENhblNhdmUuaGFzTWlzc2luZ1JlcXVpcmVkO1xuICAgICAgICAgICAgfSwgKCkgPT4geyByZXR1cm4gY2FuU2F2ZS5oYXNFcnJvcnMgJiYgY2FuU2F2ZS5oYXNNaXNzaW5nUmVxdWlyZWQ7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNhblNhdmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogY2xlYXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ2xlYXIgb3V0IGFsbCBjaGlsZCBlbGVtZW50cyB3aGVuIGNsZWFyaW5nIHRoZSBzZWN0aW9uXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGlmIChoZWxwZXJzXzEuaXNGaWVsZCh0aGlzLl9jaGlsZHJlbikpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLl9jaGlsZHJlbiwgKGVsZW0sIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGVsZW0uY2xlYXIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGZvY3VzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFsbG93IHRoZSBmaXJzdCBjaGlsZCBvZiB0aGlzIHNlY3Rpb24gdG8gdGFrZSBmb2N1c1xuICAgICAqL1xuICAgIGZvY3VzKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlbHBlcnNfMS5pc0ZpZWxkKHRoaXMuX2NoaWxkcmVuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgaXNGb2N1c2VkO1xuICAgICAgICAgICAgbmF2aWdhdGVfMS5tYXAodGhpcy5fY2hpbGRyZW4sICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmZvY3VzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNGb2N1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAoKSA9PiB7IHJldHVybiBpc0ZvY3VzZWQ7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIGlzRm9jdXNlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBDSEFOR0VTXG4gICAgLyoqXG4gICAgICogdXBkYXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHVwZGF0ZSB0aGUgaW50ZXIgY29udGVudHMgb2YgdGhlIGZvcm1cbiAgICAgKiBAcGFyYW0gICBkYXRhICAgIFRoZSBuZXcgZGF0YSBmb3IgdGhpcyBlbGVtZW50XG4gICAgICovXG4gICAgdXBkYXRlKGRhdGEsIGFsbG93RXZlbnRzKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWxwZXJzXzEuaXNGaWVsZCh0aGlzLl9jaGlsZHJlbikpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuLnVwZGF0ZShkYXRhLCBhbGxvd0V2ZW50cyksIGFsbG93RXZlbnRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmF2aWdhdGVfMS5tYXAodGhpcy5fY2hpbGRyZW4sIChlbGVtLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBlbGVtLnVwZGF0ZShkYXRhW2tleV0sIGFsbG93RXZlbnRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9nZXRWYWx1ZUZyb21GaWVsZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiByZXR1cm4gc3RhbmRhcmQgdmFsdWVcbiAgICAgKi9cbiAgICBfZ2V0VmFsdWVGcm9tRmllbGQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfdmFsaWRhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogbm8gdmFsaWRhdGlvbiBmb3Igc2VjdGlvbiBlbGVtZW50c1xuICAgICAqL1xuICAgIF92YWxpZGF0ZShkYXRhKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb24gICBcbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIERZTkFNSUNBTExZIEFERCBGSUVMRFMgVE8gVEhJUyBGT1JNXG4gICAgYWRkQ2hpbGRFbGVtZW50KGtleSwgZm9ybUVsZW0pIHtcbiAgICAgICAgLy8gaWYgdGhpcyBzZWN0aW9uIGRvZXNuJ3QgYWN0dWFsbHkgaGF2ZSBrZXllZCBjaGlsZHJlbiwgd2UgY2FuJ3QgZG8gYW55dGhpbmdcbiAgICAgICAgaWYgKGhlbHBlcnNfMS5pc0ZpZWxkKHRoaXMuX2NoaWxkcmVuKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCB0byB0aGUgY2hpbGRyZW4ncyBhcnJheSBhbmQgdG8gdGhlIFVJXG4gICAgICAgIGlmICghdGhpcy5fY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hpbGRyZW5ba2V5XSA9IHRoaXMuX3BhcnNlQ2hpbGQoZm9ybUVsZW0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgX3VwZGF0ZUNsc0Jhc2VkT25MYXlvdXQoKSB7XG4gICAgICAgIGxldCBjbHM7XG4gICAgICAgIHN3aXRjaCAodGhpcy5fY29uZmlnLmxheW91dCkge1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18xLkZvcm1FbGVtZW50TGF5b3V0RW51bS5GTEVYOlxuICAgICAgICAgICAgICAgIGNscyA9IFwiZmxleFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18xLkZvcm1FbGVtZW50TGF5b3V0RW51bS5UQUJMRTpcbiAgICAgICAgICAgICAgICBjbHMgPSBcInRhYmxlXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIF9pbnRlcmZhY2VzXzEuRm9ybUVsZW1lbnRMYXlvdXRFbnVtLkxBQkVMX0FGVEVSOlxuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18xLkZvcm1FbGVtZW50TGF5b3V0RW51bS5NVUxUSUxJTkU6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNscyA9IFwibXVsdGlsaW5lXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuY2hpbGRyZW5Db250YWluZXIsIGNscyk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gR0VUIEVMRU1FTlRTIEFGVEVSIENSRUFUSU9OXG4gICAgZ2V0RmllbGQoaWQpIHtcbiAgICAgICAgLy8gZmlyc3QgY2hlY2sgdGhpcyBlbGVtZW50XG4gICAgICAgIGlmIChpZCA9PT0gdGhpcy5faWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZW4gY2hlY2sgY2hpbGQgZWxlbWVudHNcbiAgICAgICAgaWYgKGhlbHBlcnNfMS5pc0ZpZWxkKHRoaXMuX2NoaWxkcmVuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldEZpZWxkKGlkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLl9jaGlsZHJlbiwgKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGNoaWxkLmdldEZpZWxkKGlkKTtcbiAgICAgICAgICAgIH0sICgpID0+IHsgcmV0dXJuICEhcmVzdWx0OyB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlNlY3Rpb25GaWVsZCA9IFNlY3Rpb25GaWVsZDtcbi8vLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBTVFlMRVNcbi8qKiBzdHlsZXMgdG8gZGlzcGxheSB0aGlzIHNlY3Rpb24gY29ycmVjdGx5ICovXG5TZWN0aW9uRmllbGQuX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi5raXBGb3JtRWxlbS5zZWN0aW9uXCI6IHtcbiAgICAgICAgbWFyZ2luVG9wOiBcIjEwcHhcIixcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjVweFwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbSAuc2VjdGlvbkhlYWRlclwiOiB7XG4gICAgICAgIGZvbnRGYW1pbHk6IFwiT3BlblNhbnNCb2xkLFNlZ29lIFVJLEhlbHZldGljYVwiLFxuICAgICAgICBmb250U2l6ZTogXCIxLjVlbVwiLFxuICAgICAgICBjb2xvcjogXCI8Zm9ybVRoZW1lPlwiLFxuICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtIC5zZWN0aW9uIC5zZWN0aW9uSGVhZGVyLCAua2lwRm9ybUVsZW0gLmFycmF5IC5zZWN0aW9uSGVhZGVyXCI6IHtcbiAgICAgICAgZm9udFNpemU6IFwiMS4yZW1cIixcbiAgICAgICAgY29sb3I6IFwiPGZvcm1TdWJUaGVtZT5cIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0uc2VjdGlvbiA+IC5mb3JtQ2hpbGRyZW4gLnNlY3Rpb24uY29sbGFwc2libGUgPiAuZm9ybUNoaWxkcmVuXCI6IHtcbiAgICAgICAgYm9yZGVyTGVmdDogXCIxcHggc29saWQgPGZvcm1UaGVtZT5cIixcbiAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMjBweFwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5zZWN0aW9uID4gLmZvcm1DaGlsZHJlbiAuc2VjdGlvbiA+IC5zZWN0aW9uSGVhZGVyQ29udGFpbmVyLmhpZGRlbiArIC5mb3JtQ2hpbGRyZW5cIjoge1xuICAgICAgICBib3JkZXJMZWZ0OiBcIjAgc29saWRcIixcbiAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMFwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5zZWN0aW9uID4gLmZvcm1DaGlsZHJlbi5mbGV4XCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiMFwiLFxuICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgIFwiPiAua2lwRm9ybUVsZW1cIjoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBcImF1dG9cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBZZXNOb0VudW07XG4oZnVuY3Rpb24gKFllc05vRW51bSkge1xuICAgIFllc05vRW51bVtZZXNOb0VudW1bXCJZRVNcIl0gPSAxXSA9IFwiWUVTXCI7XG4gICAgWWVzTm9FbnVtW1llc05vRW51bVtcIk5PXCJdID0gMF0gPSBcIk5PXCI7XG59KShZZXNOb0VudW0gPSBleHBvcnRzLlllc05vRW51bSB8fCAoZXhwb3J0cy5ZZXNOb0VudW0gPSB7fSkpO1xuO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBoaXN0b3J5Tm9kZV8xID0gcmVxdWlyZShcIi4vaGlzdG9yeU5vZGVcIik7XG5jb25zdCBjb21iaW5lXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9jb21iaW5lXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRIaXN0b3J5Q2hhaW5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEtlZXAgdHJhY2sgb2YgaW50ZXJuYWwgaGlzdG9yeSAmIGFsbG93IG1vdmluZyBmb3J3YXJkIGFuZCBiYWNrd2FyZFxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBIaXN0b3J5Q2hhaW4ge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLyoqXG4gICAgICogcHVzaFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBQdXNoIGEgbmV3IHZhbHVlIGludG8gb3VyIGhpc3RvcnkgY2hhaW5cbiAgICAgKiBAcGFyYW0gICBkYXRhICAgIFRoZSBkYXRhIHRvIGFkZFxuICAgICAqL1xuICAgIHB1c2goZGF0YSkge1xuICAgICAgICBsZXQgbm9kZSA9IG5ldyBoaXN0b3J5Tm9kZV8xLkhpc3RvcnlOb2RlKGRhdGEpO1xuICAgICAgICAvLyBjYXNlIDE6IGZpcnN0IG5vZGUgd2UncmUgYWRkaW5nXG4gICAgICAgIGlmICghdGhpcy5fc3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0ID0gbm9kZTtcbiAgICAgICAgICAgIHRoaXMuX2VuZCA9IG5vZGU7XG4gICAgICAgICAgICB0aGlzLl9jdXJOb2RlID0gbm9kZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBjbGVhciB0aGUgZm9yd2FyZCBoaXN0b3J5IGlmIHdlJ3JlIGFkZGluZyBuZXcgZGF0YVxuICAgICAgICBpZiAodGhpcy5fY3VyTm9kZSAhPT0gdGhpcy5fZW5kKSB7XG4gICAgICAgICAgICB0aGlzLl9jbGVhclRvQ3VySWR4KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXZlcnl0aGluZyBlbHNlIHdpbGwganVzdCBhZGQgdG8gdGhlIGVuZFxuICAgICAgICB0aGlzLl9lbmQubmV4dCA9IG5vZGU7XG4gICAgICAgIG5vZGUucHJldmlvdXMgPSB0aGlzLl9lbmQ7XG4gICAgICAgIHRoaXMuX2VuZCA9IG5vZGU7XG4gICAgICAgIHRoaXMuX2N1ck5vZGUgPSB0aGlzLl9lbmQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jbGVhclRvQ3VySWR4XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENsZWFyIG91dCBhbGwgaGlzdG9yeSBldmVudHMgdGhhdCBoYXBwZW5lZCBhZnRlciB0aGUgY3VycmVudCBpbmRleFxuICAgICAqL1xuICAgIF9jbGVhclRvQ3VySWR4KCkge1xuICAgICAgICB0aGlzLl9lbmQgPSB0aGlzLl9jdXJOb2RlO1xuICAgICAgICB0aGlzLl9jdXJOb2RlLm5leHQgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBuYXZpZ2F0ZUJhY2tcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogTW92ZSBiYWtjd2FyZHMgaW4gdGhlIGhpc3RvcnkgY2hhaW5cbiAgICAgKiBAcmV0dXJucyBUaGUgc3RhdGUgd2UncmUgbW92aW5nIHRvXG4gICAgICovXG4gICAgbmF2aWdhdGVCYWNrKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2N1ck5vZGUucHJldmlvdXMpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2N1ck5vZGUgPSB0aGlzLl9jdXJOb2RlLnByZXZpb3VzO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1ck5vZGUucHJldmlvdXMuZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogbmF2aWdhdGVGb3J3YXJkXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIE1vdmUgZm9yd2FyZHMgaW4gdGhlIGhpc3RvcnkgY2hhaW5cbiAgICAgKiBAcmV0dXJucyBUaGUgYXRhdGUgd2UncmUgbW92aW5nIHRvXG4gICAgICovXG4gICAgbmF2aWdhdGVGb3J3YXJkKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2N1ck5vZGUubmV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY3VyTm9kZSA9IHRoaXMuX2N1ck5vZGUubmV4dDtcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJOb2RlLm5leHQuZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdXBkYXRlQ3VycmVudFN0YXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFVwZGF0ZSBvdXIgY3VycmVudCBoaXN0b3J5IG5vZGUgdG8gaW5jbHVkZSBhIG5ldyBhc3BlY3Qgb2Ygc3RhdGVcbiAgICAgKiBAcGFyYW0gXHRuZXdTdGF0ZSBcdFRoZSBzdGF0ZSB0byB1cGRhdGUgdG9cbiAgICAgKiBAcmV0dXJuc1x0VHJ1ZSBpZiB0aGUgc3RhdGUgd2FzIHVwZGF0ZWQsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIHVwZGF0ZUN1cnJlbnRTdGF0ZShuZXdTdGF0ZSkge1xuICAgICAgICBpZiAoIXRoaXMuX2N1ck5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3VyU3RhdGUgPSB0aGlzLl9jdXJOb2RlLmRhdGE7XG4gICAgICAgIGxldCBjb21iaW5lZFN0YXRlID0gY29tYmluZV8xLmNvbWJpbmVPYmplY3RzKGN1clN0YXRlLCBuZXdTdGF0ZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuX2N1ck5vZGUuZGF0YSA9IGNvbWJpbmVkU3RhdGU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbmV4cG9ydHMuSGlzdG9yeUNoYWluID0gSGlzdG9yeUNoYWluO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vcHJpbWl0aXZlSGVscGVycy9zdHJpbmdzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRVbml0VGVzdFVJXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBHZW5lcmF0ZXMgVUkgdG8gYmUgYWJsZSB0byBzZWUgdGhlIHJlc3VsdHMgb24gdW5pdCB0ZXN0c1xuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0Mi4xLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgVW5pdFRlc3RlciB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvKipcbiAgICAgKiBfdGVzdFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBTdGF0ZSB0aGUgcmVzdWx0IG9mIHdoZXRoZXIgYSBjZXJ0YWluIHRlc3QgcGFzc2VkIG9yIGZhaWxlZFxuICAgICAqIEBwYXJhbSBcdG5hbWUgXHRcdFx0VGhlIG5hbWUgb2YgdGhlIGFzc2VydGlvblxuICAgICAqIEBwYXJhbSBcdGFjdHVhbFJlc3VsdCBcdFdoYXQgdGhlIHJlc3VsdCBvZiB0aGUgdGVzdCB3YXNcbiAgICAgKiBAcGFyYW0gXHRleHBlY3RlZFJlc3VsdCBcdFdoYXQgc2hvdWxkIGhhdmUgYmVlbiB0aGUgcmVzdWx0XG4gICAgICogQHBhcmFtIFx0bWVzc2FnZSBcdFx0SWYgcHJvdmlkZWQsIHRoZSBhZGRpdGlvbmFsIG1lc3NhZ2UgdG8gZGlzcGxheVxuICAgICAqL1xuICAgIHRlc3QobmFtZSwgYWN0dWFsUmVzdWx0LCBleHBlY3RlZFJlc3VsdCwgbWVzc2FnZSkge1xuICAgICAgICBtZXNzYWdlID0gbWVzc2FnZSB8fCBcIlwiO1xuICAgICAgICBsZXQgcGFzcyA9IHRoaXMudGVzdEVxdWFsaXR5KGFjdHVhbFJlc3VsdCwgZXhwZWN0ZWRSZXN1bHQpO1xuICAgICAgICB0aGlzLl91aS5yZW5kZXJUZXN0KHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBwYXNzOiBwYXNzLFxuICAgICAgICAgICAgYWN0dWFsUmVzdWx0OiBhY3R1YWxSZXN1bHQsXG4gICAgICAgICAgICBleHBlY3RlZFJlc3VsdDogZXhwZWN0ZWRSZXN1bHQsXG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGFzcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2Fzc2VydFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBc3NlcnRzIHdoZXRoZXIgdGhlIHBhc3NlZCBpbiBldmFsdWF0aW9uIGlzIHRydWUgb3IgZmFsc2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSBcdG5hbWUgXHRcdFx0TmFtZSBvZiB0aGUgdGVzdCB3ZSBhcmUgcnVubmluZ1xuICAgICAqIEBwYXJhbSBcdHBhc3MgXHRcdFx0RXZhbHVhdGlvbiBvZiBwYXNzXG4gICAgICogQHBhcmFtIFx0dHJ1ZU1lc3NhZ2UgXHRXaGF0IHRvIHNob3cgaWYgdGhlIGV2YWx1YXRpb24gcGFzc2VzXG4gICAgICogQHBhcmFtIFx0ZmFsc2VNZXNzYWdlIFx0V2hhdCB0byBzaG93IGlmIHRoZSBldmFsdWF0aW9uIGZhaWxzXG4gICAgICovXG4gICAgYXNzZXJ0KG5hbWUsIHBhc3MsIHRydWVNZXNzYWdlLCBmYWxzZU1lc3NhZ2UpIHtcbiAgICAgICAgbGV0IG1zZyA9IHBhc3MgPyB0cnVlTWVzc2FnZSA6IGZhbHNlTWVzc2FnZTtcbiAgICAgICAgdGhpcy5fdWkucmVuZGVyVGVzdCh7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgcGFzczogcGFzcyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1zZ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RhcnRHcm91cFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGQgYSBzZXBhcmF0b3IgZm9yIGdyb3VwaW5nIHRlc3RzLCBkaXNwbGF5ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWVcbiAgICAgKi9cbiAgICBzdGFydEdyb3VwKGdyb3VwTmFtZSkge1xuICAgICAgICB0aGlzLl91aS5zdGFydEdyb3VwKGdyb3VwTmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0YXJ0U3ViZ3JvdXBcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWRkIGEgc2VwYXJhdG9yIGZvciBzdWJncm91cGluZyB0ZXN0cywgZGlzcGxheWVkIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lXG4gICAgICovXG4gICAgc3RhcnRTdWJHcm91cChzdWJncm91cE5hbWUpIHtcbiAgICAgICAgdGhpcy5fdWkuc3RhcnRTdWJncm91cChzdWJncm91cE5hbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB0ZXN0RnVuY3Rpb25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogVmVyaWZ5IHZhcmlvdXMgb3V0cHV0cyBmb3IgYSBwYXJ0aWN1bGFyIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIFx0ZnVuY1RvVGVzdCBcdEZ1bmN0aW9uIHRvIHRlc3QgcmVzdWx0cyBvZlxuICAgICAqIEBwYXJhbSBcdHRpdGxlIFx0XHRUaXRsZSBmb3IgdGhlIGZ1bmN0aW9uIHN1Ymdyb3VwXG4gICAgICogQHBhcmFtIFx0dGVzdHMgXHRcdFRlc3RzIHRvIGV2YWx1YXRlIHdpdGggdGhpcyBmdW5jdGlvblxuICAgICAqXG4gICAgICovXG4gICAgX3Rlc3RGdW5jdGlvbihmdW5jVG9UZXN0LCB0aXRsZSwgdGVzdHMpIHtcbiAgICAgICAgdGhpcy5fdWkuc3RhcnRTdWJncm91cCh0aXRsZSk7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBlYWNoIG9mIHRoZSB0ZXN0cyBhbmQgdmVyaWZ5IGVhY2ggaXMgd29ya2luZ1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCB0ZXN0cy5sZW5ndGg7IGlkeCArPSAxKSB7XG4gICAgICAgICAgICBsZXQgdGVzdERldGFpbHMgPSB0ZXN0c1tpZHhdO1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGZ1bmNUb1Rlc3QuYXBwbHkod2luZG93LCB0ZXN0RGV0YWlscy5wYXJhbXMpO1xuICAgICAgICAgICAgdGhpcy50ZXN0KHRoaXMuX2dldFRlc3ROYW1lKHRlc3REZXRhaWxzKSwgcmVzdWx0LCB0ZXN0RGV0YWlscy5yZXN1bHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEVRVUFMSVRZIFRFU1RcbiAgICAvKipcbiAgICAgKiB0ZXN0RXF1YWxpdHlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ2hlY2sgaWYgdGhlIGFjdHVhbCBhbmQgZXhwZWN0ZWQgcmVzdWx0cyBhY3R1YWxseSBtYXRjaFxuICAgICAqXG4gICAgICogQHBhcmFtIGFjdHVhbFJlc3VsdCBcdFx0V2hhdCB0aGUgdGVzdCByZXR1cm5lZFxuICAgICAqIEBwYXJhbSBleHBlY3RlZFJlc3VsdCBcdFdoYXQgdGhlIHRlc3Qgc2hvdWxkIGhhdmUgcmV0dXJuZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUcnVlIGlmIHRoZSBhY3R1YWwgcmVzdWx0IG1hdGNoZXMgdGhlIGV4cGVjdGVkIHJlc3VsdFxuICAgICAqL1xuICAgIHRlc3RFcXVhbGl0eShhY3R1YWxSZXN1bHQsIGV4cGVjdGVkUmVzdWx0KSB7XG4gICAgICAgIGlmIChhY3R1YWxSZXN1bHQuZXF1YWxzKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0dWFsUmVzdWx0LmVxdWFscyhleHBlY3RlZFJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKGFjdHVhbFJlc3VsdCA9PT0gZXhwZWN0ZWRSZXN1bHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEVMUEVSU1xuICAgIF9nZXRUZXN0TmFtZSh0ZXN0KSB7XG4gICAgICAgIGlmICh0ZXN0LmRldGFpbHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXN0LmRldGFpbHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZ3NfMS5mb3JtYXQoXCIoezB9KSA9PT4gezF9XCIsIHRlc3QucGFyYW1zLmpvaW4oXCIsIFwiKSwgdGVzdC5yZXN1bHQpO1xuICAgIH1cbn1cbmV4cG9ydHMuVW5pdFRlc3RlciA9IFVuaXRUZXN0ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi9wcmltaXRpdmVIZWxwZXJzL3N0cmluZ3NcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBUZXN0VUlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFJlbmRlciB0aGUgYXBwcm9wcmlhdGUgVUkgZm9yIGEgc2V0IG9mIHVuaXQgdGVzdHNcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgVGVzdFVJIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIC8qKlxuICAgICAqIF9idWlsZFZhbHVlU3RyaW5nXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEJ1aWxkIHRoZSBzdHJpbmcgdGhhdCB3aWxsIHNob3cgd2hldGhlciB0aGUgcmVzdWx0IGlzIGEgbWF0Y2ggb3Igbm90XG4gICAgICpcbiAgICAgKiBAcGFyYW1cdHBhc3NcdFx0XHRJZiB0cnVlLCBidWlsZHMgdGhlIHBhc3Mgc3RyaW5nXG4gICAgICogQHBhcmFtXHRhY3R1YWxSZXN1bHRcdFRoZSB2YWx1ZSB0aGF0IHdhcyByZWNlaXZlZFxuICAgICAqIEBwYXJhbVx0ZXhwZWN0ZWRSZXN1bHRcdFRoZSB2YWx1ZSB3ZSBzaG91bGQgaGF2ZSBnb3R0ZW5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRBIHN0cmluZyB0aGF0J3MgYXBwcm9wcmlhdGUgZm9yIHRoaXMgdGVzdCdzIHJlc3VsdFxuICAgICAqL1xuICAgIF9idWlsZFZhbHVlU3RyaW5nKHJlc3VsdCkge1xuICAgICAgICBpZiAoIXJlc3VsdC5hY3R1YWxSZXN1bHQgfHwgIXJlc3VsdC5leHBlY3RlZFJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5wYXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nc18xLmZvcm1hdChcIid7MH0nID0gJ3sxfSdcIiwgcmVzdWx0LmFjdHVhbFJlc3VsdCwgcmVzdWx0LmV4cGVjdGVkUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmdzXzEuZm9ybWF0KFwiJ3swfScgIT0gJ3sxfSdcIiwgcmVzdWx0LmFjdHVhbFJlc3VsdCwgcmVzdWx0LmV4cGVjdGVkUmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcGFzc1RvU3RyaW5nXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIERpc3BsYXkgd2hldGhlciB0aGUgdGVzdCBwYXNzZWQgb3IgZmFpbGVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRwYXNzXHRUcnVlIGlmIHRoZSB0ZXN0IHBhc3NlZFxuICAgICAqXG4gICAgICogQHJldHVybnNcdERpc3BsYXkgc3RyaW5nIGZvciB0aGUgcGFzcyByZXN1bHRcbiAgICAgKi9cbiAgICBfcGFzc1RvU3RyaW5nKHBhc3MpIHtcbiAgICAgICAgcmV0dXJuIChwYXNzID8gXCJwYXNzXCIgOiBcImZhaWxcIik7XG4gICAgfVxufVxuZXhwb3J0cy5UZXN0VUkgPSBUZXN0VUk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbmF2aWdhdGVfMSA9IHJlcXVpcmUoXCIuLi9vYmplY3RIZWxwZXJzL25hdmlnYXRlXCIpO1xuY29uc3QgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi9hc3luY1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0QmluZGVyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBrZWVwcyB0cmFjayBvZiBhbGwgYm91bmQgZWxlbWVudHMgYW5kIGNvbnNvbGlkYXRlcyBpbnRvIGEgc2luZ2xlIGFuaW1hdGlvblxuICogZnJhbWUgZXZlbnQ7IHByZXZlbnRzIHBvb3IgcGVyZm9ybWFuY2Ugd2l0aCBsb3RzIG9mIGJvdW5kIHZpZXdzXG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uXHQxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBfQmluZGVyIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENPTlNUUlVDVE9SU1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9pZCA9IDA7XG4gICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYm91bmREZXRhaWxzID0ge307XG4gICAgICAgIHRoaXMuX3N0YXJ0QW5pbWF0aW9uTG9vcCgpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBJREVOVElGSUVSU1xuICAgIF9nZXROZXh0SWQoKSB7XG4gICAgICAgIHRoaXMuX2lkICs9IDE7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZC50b1N0cmluZygpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFBVQkxJQyBGVU5DUyBGT1IgUkVHSVNURVJJTkcgLyBVTlJFR0lTVEVSSU5HIEJJTkRJTkdTXG4gICAgYmluZChldmFsRnVuYywgdXBkYXRlRnVuYywgZGVsZXRlRnVuYywgZXF1YWxzRnVuYykge1xuICAgICAgICBpZiAoIWV2YWxGdW5jIHx8ICF1cGRhdGVGdW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbml0aWFsaXplIGFwcHJvcHJpYXRlbHkgaWYgdGhlIHZhbHVlIGlzIGFscmVhZHkgc2V0XG4gICAgICAgIGxldCBsYXN0VmFsdWUgPSBldmFsRnVuYygpO1xuICAgICAgICBhc3luY18xLm5leHRSZW5kZXIoKS50aGVuKCgpID0+IHVwZGF0ZUZ1bmMobGFzdFZhbHVlKSk7XG4gICAgICAgIGxldCBkZXRhaWxzID0ge1xuICAgICAgICAgICAgaWQ6IHRoaXMuX2dldE5leHRJZCgpLFxuICAgICAgICAgICAgZXZhbDogZXZhbEZ1bmMsXG4gICAgICAgICAgICB1cGRhdGU6IHVwZGF0ZUZ1bmMsXG4gICAgICAgICAgICBkZWxldGU6IGRlbGV0ZUZ1bmMgfHwgKCgpID0+IGZhbHNlKSxcbiAgICAgICAgICAgIGxhc3RWYWx1ZTogbGFzdFZhbHVlLFxuICAgICAgICAgICAgZXF1YWxzOiBlcXVhbHNGdW5jIHx8ICgoYSwgYikgPT4geyByZXR1cm4gYSA9PT0gYjsgfSlcbiAgICAgICAgfTtcbiAgICAgICAgLy8gYWRkIHRvIG91ciBkaWN0aW9uYXJ5XG4gICAgICAgIHRoaXMuX2JvdW5kRGV0YWlsc1tkZXRhaWxzLmlkXSA9IGRldGFpbHM7XG4gICAgICAgIC8vIHJldHVybiB0aGUgaWRlbnRpZmllciBvZiB0aGVcbiAgICAgICAgcmV0dXJuIGRldGFpbHMuaWQ7XG4gICAgfVxuICAgIHVuYmluZChrZXkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9ib3VuZERldGFpbHNba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ib3VuZERldGFpbHNba2V5XTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gU0hBUkVEIEFOSU1BVElPTiBGUkFNRSBIQU5ETElOR1xuICAgIF9zdGFydEFuaW1hdGlvbkxvb3AoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb25GcmFtZSgpO1xuICAgIH1cbiAgICBfb25GcmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIG5hdmlnYXRlXzEubWFwKHRoaXMuX2JvdW5kRGV0YWlscywgKGRldGFpbHMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGluZ0JpbmRpbmcoZGV0YWlscyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHF1ZXVlIHVwIHRoZSBuZXh0IHJlbmRlclxuICAgICAgICAgICAgcmV0dXJuIGFzeW5jXzEubmV4dFJlbmRlcigpLnRoZW4oKCkgPT4gdGhpcy5fb25GcmFtZSgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9oYW5kbGluZ0JpbmRpbmcoZGV0YWlscykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gY2hlY2sgZmlyc3QgaWYgdGhpcyBlbGVtZW50IHNob3VsZCBiZSBkZWxldGVkXG4gICAgICAgICAgICBpZiAoZGV0YWlscy5kZWxldGUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5iaW5kKGRldGFpbHMuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5leHQgY2hlY2sgaWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkXG4gICAgICAgICAgICBsZXQgbmV3VmFsID0gZGV0YWlscy5ldmFsKCk7XG4gICAgICAgICAgICBpZiAoZGV0YWlscy5lcXVhbHMobmV3VmFsLCBkZXRhaWxzLmxhc3RWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBsYXN0LCBwZXJmb3JtIHRoZSB1cGRhdGUgZnVuY3Rpb25cbiAgICAgICAgICAgIGRldGFpbHMubGFzdFZhbHVlID0gbmV3VmFsO1xuICAgICAgICAgICAgZGV0YWlscy51cGRhdGUobmV3VmFsKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5CaW5kZXIgPSBuZXcgX0JpbmRlcigpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vcHJpbWl0aXZlSGVscGVycy9zdHJpbmdzXCIpO1xuY29uc3Qgc3R5bGVzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL3N0eWxlc1wiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCBuYXZpZ2F0ZV8xID0gcmVxdWlyZShcIi4uL29iamVjdEhlbHBlcnMvbmF2aWdhdGVcIik7XG5jb25zdCBjbG9uaW5nXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9jbG9uaW5nXCIpO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG5jb25zdCBuYW1lZENsYXNzXzEgPSByZXF1aXJlKFwiLi4vbmFtZWRDbGFzcy9uYW1lZENsYXNzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIFN0eWxhYmxlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGVzIGFuIGVsZW1lbnQgdGhhdCBjYW4gYWRkaXRpb25hbGx5IGFkZCBDU1Mgc3R5bGVzXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMS4yXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFN0eWxhYmxlIGV4dGVuZHMgbmFtZWRDbGFzc18xLk5hbWVkQ2xhc3Mge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSU5TVEFOQ0UgTUVUSE9EU1xuICAgIC8qKlxuICAgICAqIFN0eWxhYmxlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZXMgYSBzdHlsYWJsZSBjbGFzc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcIlN0eWxhYmxlXCIpO1xuICAgICAgICB0aGlzLl9jb2xvcnMgPSB7fTtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBzdHlsZXNcbiAgICAgICAgdGhpcy5fY3JlYXRlU3R5bGVzKCk7XG4gICAgICAgIHRoaXMuX2hhc0NyZWF0ZWRTdHlsZXMgPSB0cnVlO1xuICAgICAgICAvLyByZWdpc3RlciBtZWRpYSBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJNZWRpYUxpc3RlbmVycygpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFNUQVRJQyBNRVRIT0RTXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ09MT1ItUkVMQVRFRCBNRVRIT0RTXG4gICAgLyoqXG4gICAgICogX2J1aWxkVGhlbWVDb2xvcklkXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSBhIHVuaXF1ZSBJRCBmb3IgYSBjb2xvciBmb3IgYSBwYXJ0aWN1bGFyIGNsYXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICBpZHggICAgICAgICBUaGUgaW5kZXggb2YgdGhlIGNvbG9yXG4gICAgICogQHBhcmFtICAgdW5pcXVlSUQgICAgT3B0aW9uYWwgbmFtZSB0byB1c2UgaW5zdGVhZCBvZiB0aGUgY2xhc3MgbmFtZVxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGNyZWF0ZWQgY29sb3IgSURcbiAgICAgKi9cbiAgICBzdGF0aWMgX2J1aWxkVGhlbWVDb2xvcklkKHVuaXF1ZUlkKSB7XG4gICAgICAgIGxldCBvdXRTdHIgPSBzdHJpbmdzXzEuZm9ybWF0KFwiPHswfT5cIiwgdW5pcXVlSWQpO1xuICAgICAgICByZXR1cm4gb3V0U3RyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY29udGFpbmVkUGxhY2Vob2xkZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY2hlY2sgaWYgYSBwYXJ0aWN1bGFyIHZhbHVlIHN0cmluZyBoYXMgYSBwbGFjZWhvbGRlciB3aXRoaW4gaXRcbiAgICAgKiBAcGFyYW0gICB2YWx1ZSAgIFRoZSB2YWx1ZSB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIFRydWUgaWYgYSBwbGFjZWhvbGRlciBpcyBmb3VuZFxuICAgICAqL1xuICAgIHN0YXRpYyBfY29udGFpbmVkUGxhY2Vob2xkZXIodmFsdWUpIHtcbiAgICAgICAgbGV0IHBsYWNlaG9sZGVyUmVnZXggPSAvPCguKz8pPi87XG4gICAgICAgIGxldCByZXN1bHQgPSBwbGFjZWhvbGRlclJlZ2V4LmV4ZWModmFsdWUpO1xuICAgICAgICBpZiAoIXJlc3VsdCB8fCAhcmVzdWx0WzFdKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0WzFdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfZmluZEFsbENvbnRhaW5lZFBsYWNlaG9sZGVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjaGVjayBpZiBhIHBhcnRpY3VsYXIgdmFsdWUgc3RyaW5nIGhhcyBhIHBsYWNlaG9sZGVyIHdpdGhpbiBpdFxuICAgICAqIEBwYXJhbSAgIHZhbHVlICAgVGhlIHZhbHVlIHRvIGNoZWNrXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiBhIHBsYWNlaG9sZGVyIGlzIGZvdW5kXG4gICAgICovXG4gICAgc3RhdGljIF9maW5kQWxsQ29udGFpbmVkUGxhY2Vob2xkZXJzKHN0eWxlcykge1xuICAgICAgICAvLyB0dXJuIHRoZSBzdHlsZXMgaW50byBhIHN0cmluZyBmb3IgZWFzZSBvZiBwYXJzaW5nXG4gICAgICAgIGxldCBmbGF0U3R5bGVzID0gSlNPTi5zdHJpbmdpZnkoc3R5bGVzKTtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBzb21lIHZhcmlhYmxlcyB3ZSBuZWVkXG4gICAgICAgIGxldCBvdXQgPSBbXTtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgLy8gY29udGludWUgbG9vcGluZyB1bnRpbCB3ZSBydW4gb3V0IG9mIHJlZ2V4IG1hdGNoZXNcbiAgICAgICAgbGV0IHBsYWNlaG9sZGVyUmVnZXggPSAvPCguKz8pPi9nO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICByZXN1bHQgPSBwbGFjZWhvbGRlclJlZ2V4LmV4ZWMoZmxhdFN0eWxlcyk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0LnB1c2gocmVzdWx0WzFdKTtcbiAgICAgICAgfSB3aGlsZSAocmVzdWx0KTtcbiAgICAgICAgLy8gcmV0dXJuIGFsbCB0aGUgbWF0Y2hlcyB3ZSBmb3VuZFxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfdXBkYXRlQWxsVGhlbWVDb2xvcnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogTWFrZSBzdXJlIHdlIGhhdmUgYW4gdXBkYXRlZCB2ZXJzaW9uIG9mIG91ciBzdHlsZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgX3VwZGF0ZUFsbFRoZW1lQ29sb3JzKCkge1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLl90aGVtZUNvbG9ycywgKHZhbHVlLCB0aGVtZUNvbG9ySWQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVRoZW1lQ29sb3IodGhlbWVDb2xvcklkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF91cGRhdGVUaGVtZUNvbG9yXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHVwZGF0ZXMgYW4gaW5kaXZpZHVhbCB0aGVtZSBjb2xvclxuICAgICAqIEBwYXJhbSAgIGNvbG9ySWQgICAgIFRoZSBjb2xvciBJRCB0byB1cGRhdGVcbiAgICAgKi9cbiAgICBzdGF0aWMgX3VwZGF0ZVRoZW1lQ29sb3IoY29sb3JJZCkge1xuICAgICAgICBsZXQgYWZmZWN0ZWRTdHlsZXMgPSBjbG9uaW5nXzEuY2xvbmVPYmplY3QodGhpcy5fdGhlbWVkU3R5bGVzW2NvbG9ySWRdIHx8IHt9KTtcbiAgICAgICAgaWYgKCFhZmZlY3RlZFN0eWxlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgY2xhc3NlcyB0aWVkIHRvIHRoaXMgY29sb3IgSUQgYW5kIHVwZGF0ZSB0aGVtXG4gICAgICAgIG5hdmlnYXRlXzEubWFwKGFmZmVjdGVkU3R5bGVzLCAoZGVmLCBzZWxlY3RvcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFkZWYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb2xvckluQ2xhc3NEZWZpbml0aW9uKGRlZiwgY29sb3JJZCk7XG4gICAgICAgICAgICBhZmZlY3RlZFN0eWxlc1tzZWxlY3Rvcl0gPSBkZWY7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjcmVhdGUgdGhlIHBhcnRpY3VsYXIgY29sb3JzIGZvciB0aGlzIHN0eWxlXG4gICAgICAgIHRoaXMuX2NyZWF0ZUNvbG9yZWRTdHlsZXMoYWZmZWN0ZWRTdHlsZXMsIGNvbG9ySWQsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfdXBkYXRlQ29sb3JJbkNsYXNzRGVmaW5pdGlvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjaGVja3Mgd2hldGhlciBhIGNvbG9yIGlzIHJlcGxhY2luZyBhIGN1cnJlbnQgY29sb3IgSUQgaW4gdGhlIGRlZmluaXRpb25cbiAgICAgKiBAcGFyYW0gZGVmXG4gICAgICogQHBhcmFtIGNvbG9ySWRcbiAgICAgKi9cbiAgICBzdGF0aWMgX3VwZGF0ZUNvbG9ySW5DbGFzc0RlZmluaXRpb24oZGVmLCBjb2xvcklkKSB7XG4gICAgICAgIGxldCBjb2xvciA9IHRoaXMuX3RoZW1lQ29sb3JzW2NvbG9ySWRdO1xuICAgICAgICBpZiAoIWNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlcGxhY2VkQW55ID0gZmFsc2U7XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBlYWNoIHByb3BlcnR5IG9uIHRoaXMgcGFydGljdWxhciBjbGFzc1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcChkZWYsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAvLyBza2lwIHRyYW5zaXRpb24gdmFsdWVzXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJlcGxhY2VkID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBTcGxpdCBlYWNoIHZhbHVlICYgYXNzdW1lIHdlIHdvbid0IHJlcGxhY2UgYW55dGhpbmdcbiAgICAgICAgICAgIGxldCB2YWxBcnJheSA9IHZhbHVlLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgc3BsaXQgdmFsdWVcbiAgICAgICAgICAgIHZhbEFycmF5Lm1hcCgodmFsLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29udGFpbmVkUGxhY2Vob2xkZXIodmFsKSAhPT0gY29sb3JJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbEFycmF5W2lkeF0gPSB2YWwucmVwbGFjZShuZXcgUmVnRXhwKFwiPD9cIiArIGNvbG9ySWQgKyBcIj4/XCIsIFwiZ1wiKSwgY29sb3IpO1xuICAgICAgICAgICAgICAgIHJlcGxhY2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gUXVpdCBpZiB3ZSBkaWRuJ3QgcmVwbGFjZSBhbnl0aGluZ1xuICAgICAgICAgICAgaWYgKCFyZXBsYWNlZCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBkZWZba2V5XTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSB2YWx1ZSB3aXRoIHRoZSBuZXcgY29sb3JcbiAgICAgICAgICAgIGRlZltrZXldID0gdmFsQXJyYXkuam9pbihcIiBcIik7XG4gICAgICAgICAgICAvLyBsZXQgdGhlIHJldHVybiB2YWx1ZSB0aGF0IHdlIHJlcGxhY2VkIHNvbWV0aGluZ1xuICAgICAgICAgICAgcmVwbGFjZWRBbnkgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcGxhY2VkQW55O1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIE1FUkdJTkcgVEhFTUVTXG4gICAgLyoqXG4gICAgICogX21lcmdlSW50b1N0eWxlc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGQgYSBuZXcgc2V0IG9mIHN0eWxlcyBpbnRvIHRoZSBzZXQgb2YgcGFnZSBzdHlsZXNcbiAgICAgKiBAcGFyYW0gICBzdHlsZXMgIFRoZSBzdHlsZXMgdG8gbWVyZ2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX21lcmdlSW50b1N0eWxlcyhzdHlsZXMpIHtcbiAgICAgICAgLy8gaGFuZGxlIHRoZSBub24tY29sb3JhYmxlc1xuICAgICAgICB0aGlzLl9wYWdlU3R5bGVzID0gdGhpcy5fbWVyZ2VUaGVtZXMoXCJcIiwgdGhpcy5fcGFnZVN0eWxlcywgc3R5bGVzKTtcbiAgICAgICAgLy8gc29ydCBvdXQgdGhlIGNvbG9yYWJsZXNcbiAgICAgICAgdGhpcy5fdGhlbWVkU3R5bGVzID0gdGhpcy5fbWVyZ2VDb2xvclRoZW1lcyhzdHlsZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfbWVyZ2VUaGVtZXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogTWVyZSBhIHNldCBvZiB0aGVtZXMgaW50byBhIHNpbmdsZSB0aGVtZVxuICAgICAqIEBwYXJhbSAgIHN0eWxlcyAgU2V0cyBvZiB0aGVtZXMgdGhhdCBzaG91bGQgYmUgbWVyZ2VkIHRvZ2V0aGVyXG4gICAgICogQHJldHVybnMgVGhlIHVwZGF0ZWQgc2V0IG9mIHRoZW1lc1xuICAgICAqL1xuICAgIHN0YXRpYyBfbWVyZ2VUaGVtZXMocGxhY2Vob2xkZXJUb01hdGNoLCAuLi5zdHlsZXMpIHtcbiAgICAgICAgbGV0IGZsYXRTdHlsZXMgPSBbXTtcbiAgICAgICAgbGV0IHN0eWxlO1xuICAgICAgICBmb3IgKHN0eWxlIG9mIHN0eWxlcykge1xuICAgICAgICAgICAgbGV0IGZsYXRTdHlsZSA9IHRoaXMuX2NsZWFuU3R5bGVzKHN0eWxlKTtcbiAgICAgICAgICAgIGZsYXRTdHlsZXMucHVzaChmbGF0U3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jb21iaW5lVGhlbWVzKHBsYWNlaG9sZGVyVG9NYXRjaCwgLi4uZmxhdFN0eWxlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9tZXJnZUNvbG9yVGhlbWVzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIE1lcmdlIGNvbG9yIHNwZWNpZmljIHN0eWxlIGVsZW1lbnRzIGludG8gb3VyIGNvbG9yIGFycmF5c1xuICAgICAqIEBwYXJhbSAgIHN0eWxlcyAgU3R5bGVzIHRvIGNvbWJpbmUgaW50byBjb2xvci1zcGVjaWZpYyBzZXRzXG4gICAgICogQHJldHVybnMgVGhlIGNyZWF0ZWQgZGljdGlvbmFyeSBvZiB0aGVtZSBzcGVjaWZpYyBjb2xvcnNcbiAgICAgKi9cbiAgICBzdGF0aWMgX21lcmdlQ29sb3JUaGVtZXMoLi4uc3R5bGVzKSB7XG4gICAgICAgIGxldCBwbGFjZWhvbGRlcnM7XG4gICAgICAgIGZvciAobGV0IHN0eWxlIG9mIHN0eWxlcykge1xuICAgICAgICAgICAgcGxhY2Vob2xkZXJzID0gdGhpcy5fZmluZEFsbENvbnRhaW5lZFBsYWNlaG9sZGVycyhzdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGhhbmRsZWRQbGFjZWhvbGRlcnMgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgcGxhY2Vob2xkZXIgb2YgcGxhY2Vob2xkZXJzKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgd2UgaGF2ZW4ndCBoYW5kbGVkIHRoaXMgcGxhY2Vob2xkZXIgYWxyZWFkeVxuICAgICAgICAgICAgaWYgKGhhbmRsZWRQbGFjZWhvbGRlcnNbcGxhY2Vob2xkZXJdKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgd2UgaGF2ZSBhIGRpY3Rpb25hcnkgdG8gc2F2ZSBpbnRvXG4gICAgICAgICAgICBpZiAodGhpcy5fdGhlbWVkU3R5bGVzW3BsYWNlaG9sZGVyXSkge1xuICAgICAgICAgICAgICAgIHN0eWxlcy5wdXNoKHRoaXMuX3RoZW1lZFN0eWxlc1twbGFjZWhvbGRlcl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGhlbWVkU3R5bGVzW3BsYWNlaG9sZGVyXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWVyZ2UgYmFjayBpbnRvIHRoZSBjb2xsZWN0aXZlIHN0eWxlc1xuICAgICAgICAgICAgdGhpcy5fdGhlbWVkU3R5bGVzW3BsYWNlaG9sZGVyXSA9IHRoaXMuX21lcmdlVGhlbWVzKHBsYWNlaG9sZGVyLCAuLi5zdHlsZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl90aGVtZWRTdHlsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jb21iaW5lVGhlbWVzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSAgIHRoZW1lcyAgVGhlIHRoZW1lcyB0byBjb21iaW5lXG4gICAgICogQHJldHVybnMgVGhlIG1lcmdlZCB0aGVtZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgX2NvbWJpbmVUaGVtZXMocGxhY2Vob2xkZXJUb01hdGNoLCAuLi50aGVtZXMpIHtcbiAgICAgICAgbGV0IHBhZ2VTdHlsZXMgPSB7fTtcbiAgICAgICAgLy8gR28gdGhyb3VnaCBlYWNoIG9mIHRoZSB0aGVtZXNcbiAgICAgICAgdGhlbWVzLm1hcCgoc3R5bGUpID0+IHtcbiAgICAgICAgICAgIC8vIHRoZW4gdGhyb3VnaCBlYWNoIG9mIHRoZSBzZWxlY3RvcnNcbiAgICAgICAgICAgIG5hdmlnYXRlXzEubWFwKHN0eWxlLCAoZGVmLCBzZWxlY3RvcikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgc3R5bGVzIHRoYXQgZG9uJ3QgaGF2ZSBjb2xvcmVkIGFzcGVjdHNcbiAgICAgICAgICAgICAgICBpZiAoIXBhZ2VTdHlsZXNbc2VsZWN0b3JdKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VTdHlsZXNbc2VsZWN0b3JdID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhZ2VTdHlsZXNbc2VsZWN0b3JdID0gdGhpcy5fbWVyZ2VEZWZpbml0aW9uKHBsYWNlaG9sZGVyVG9NYXRjaCwgZGVmLCBwYWdlU3R5bGVzW3NlbGVjdG9yXSk7XG4gICAgICAgICAgICAgICAgaWYgKG5hdmlnYXRlXzEuaXNFbXB0eU9iamVjdChwYWdlU3R5bGVzW3NlbGVjdG9yXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHBhZ2VTdHlsZXNbc2VsZWN0b3JdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhZ2VTdHlsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9tZXJnZURlZmluaXRpb25zXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIG1lcmdlIGEgcGFydGljdWxhciBzZXQgb2YgZGVmaW5pdGlvbnNcbiAgICAgKiBAcGFyYW0gICBkZWZpbml0aW9ucyAgICAgVGhlIGRlZmluaXRpb25zIHRvIG1lcmdlXG4gICAgICogQHJldHVybnMgVGhlIG1lcmdlZCBzZXQgb2YgZGVmaW5pdGlvbnNcbiAgICAgKi9cbiAgICBzdGF0aWMgX21lcmdlRGVmaW5pdGlvbihwbGFjZWhvbGRlclRvTWF0Y2gsIC4uLmRlZmluaXRpb25zKSB7XG4gICAgICAgIGxldCBtZXJnZWREZWYgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgZGVmIG9mIGRlZmluaXRpb25zKSB7XG4gICAgICAgICAgICAvLyBhbmQgbGFzdCB0aHJvdWdoIGFsbCBvZiB0aGUgcHJvcGVydGllc1xuICAgICAgICAgICAgbmF2aWdhdGVfMS5tYXAoZGVmLCAodmFsLCBwcm9wZXJ0eSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBwbGFjZWhvbGRlciA9IHRoaXMuX2NvbnRhaW5lZFBsYWNlaG9sZGVyKHZhbCk7XG4gICAgICAgICAgICAgICAgLy8gbWVyZ2UgaW4gb25seSBpZiBpdCBtZWV0cyBvdXIgY3VycmVudCBwbGFjZWhvbGRlciByZXF1aXJlbWVudHNcbiAgICAgICAgICAgICAgICBpZiAoZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQocGxhY2Vob2xkZXJUb01hdGNoKSB8fCAocGxhY2Vob2xkZXIgPT09IHBsYWNlaG9sZGVyVG9NYXRjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkRGVmW3Byb3BlcnR5XSA9IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVyZ2VkRGVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfbWVyZ2VJbnRvRm9udHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBmb250c1xuICAgICAqXG4gICAgICovXG4gICAgc3RhdGljIF9tZXJnZUludG9Gb250cyhmb250cykge1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcChmb250cywgKGZvbnREZWYsIGZvbnROYW1lKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jdXN0b21QYWdlRm9udHNbZm9udE5hbWVdID0gZm9udERlZjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ1JFQVRJTkcgU1RZTEVTXG4gICAgLyoqXG4gICAgICogX2NyZWF0ZVN0eWxlc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIHN0eWxlcyBmb3IgdGhpcyBjbGFzc1xuICAgICAqIEBwYXJhbSAgIGZvcmNlT3ZlcnJpZGUgICBUcnVlIGlmIHdlIHNob3VsZCBjcmVhdGUgdGhlIGNsYXNzZXMgZXZlbiBpZiB0aGV5XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFscmVhZHkgZXhpc3RcbiAgICAgKi9cbiAgICBzdGF0aWMgX2NyZWF0ZVN0eWxlcyhmb3JjZU92ZXJyaWRlKSB7XG4gICAgICAgIC8vIGdyYWIgb3VyIHVwZGF0ZWQgY29sb3JzXG4gICAgICAgIGxldCBzdHlsZXMgPSBTdHlsYWJsZS5fcGFnZVN0eWxlcztcbiAgICAgICAgdGhpcy5fc3R5bGVFbGVtcyA9IHRoaXMuX3NoYXJlZENyZWF0ZVN0eWxlcyhzdHlsZXMsIHRoaXMuX3N0eWxlRWxlbXMsIGZvcmNlT3ZlcnJpZGUpO1xuICAgICAgICB0aGlzLl9jcmVhdGVGb250U3R5bGVzKGZvcmNlT3ZlcnJpZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRm9udFN0eWxlc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gZm9yY2VPdmVycmlkZVxuICAgICAqL1xuICAgIHN0YXRpYyBfY3JlYXRlRm9udFN0eWxlcyhmb3JjZU92ZXJyaWRlKSB7XG4gICAgICAgIC8vIGFkZCB0aGUgZm9udC1mYW1pbHkgcGllY2VzXG4gICAgICAgIGxldCBmb250cyA9IFN0eWxhYmxlLl9jdXN0b21QYWdlRm9udHM7XG4gICAgICAgIGlmICghdGhpcy5fY3VzdG9tRm9udEVsZW0pIHtcbiAgICAgICAgICAgIHRoaXMuX2N1c3RvbUZvbnRFbGVtID0gc3R5bGVzXzEuY3JlYXRlU3R5bGVFbGVtZW50KGZhbHNlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5fY3VzdG9tRm9udEVsZW0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2N1c3RvbUZvbnRFbGVtLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIG5hdmlnYXRlXzEubWFwKGZvbnRzLCAoZm9udERlZiwgZm9udE5hbWUpID0+IHtcbiAgICAgICAgICAgIGxldCB0bXBFbGVtID0gc3R5bGVzXzEuY3JlYXRlRm9udERlZmluaXRpb24oZm9udE5hbWUsIGZvbnREZWYsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5fY3VzdG9tRm9udEVsZW0uaW5uZXJIVE1MICs9IHRtcEVsZW0uaW5uZXJIVE1MO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUNvbG9yZWRTdHlsZXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGFsbCBzdHlsZXMgZm9yIGNvbG9yLWFmZmVjdGVkIGNsYXNzZXNcbiAgICAgKiBAcGFyYW0gICBmb3JjZU92ZXJyaWRlICAgSWYgdHJ1ZSwgcmVnZW5lcmF0ZXMgYWxsIHN0eWxlcyBmb3IgY29sb3JzXG4gICAgICovXG4gICAgc3RhdGljIF9jcmVhdGVBbGxDb2xvcmVkU3R5bGVzKGZvcmNlT3ZlcnJpZGUpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlQWxsVGhlbWVDb2xvcnMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUNvbG9yU3R5bGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGEgcGFydGljdWxhciBjb2xvcidzIHN0eWxlXG4gICAgICogQHBhcmFtICAgc3R5bGVzICAgICAgICAgIFRoZSBzdHlsZXMgdG8gY3JlYXRlIGZvciB0aGlzIGNvbG9yXG4gICAgICogQHBhcmFtICAgY29sb3JJZCAgICAgICAgIFRoZSBJRCBvZiB0aGUgY29sb3JcbiAgICAgKiBAcGFyYW0gICBmb3JjZU92ZXJyaWRlICAgSWYgdHJ1ZSwgcmVnZW5lcmF0ZXMgdGhlIGNsYXNzZXMgZm9yIHRoaXMgY29sb3JcbiAgICAgKi9cbiAgICBzdGF0aWMgX2NyZWF0ZUNvbG9yZWRTdHlsZXMoc3R5bGVzLCBjb2xvcklkLCBmb3JjZU92ZXJyaWRlKSB7XG4gICAgICAgIHRoaXMuX2NvbG9yU3R5bGVFbGVtc1tjb2xvcklkXSA9IHRoaXMuX3NoYXJlZENyZWF0ZVN0eWxlcyhzdHlsZXMsIHRoaXMuX2NvbG9yU3R5bGVFbGVtc1tjb2xvcklkXSwgZm9yY2VPdmVycmlkZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zaGFyZWRDcmVhdGVTdHlsZXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlcyBzdHlsZXMgKGVpdGhlciBjb2xvcmVkIG9yIG5vdClcbiAgICAgKiBAcGFyYW0gICBzdHlsZXNcbiAgICAgKiBAcGFyYW0gICBlbGVtc1xuICAgICAqIEBwYXJhbSAgIGZvcmNlT3ZlcnJpZGVcbiAgICAgKi9cbiAgICBzdGF0aWMgX3NoYXJlZENyZWF0ZVN0eWxlcyhzdHlsZXMsIGVsZW1zLCBmb3JjZU92ZXJyaWRlKSB7XG4gICAgICAgIGlmICghc3R5bGVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxlbmd0aCA9IDA7XG4gICAgICAgIGxldCBNQVhfU1RSSU5HID0gMTAwMDA7XG4gICAgICAgIC8vIHJlbW92ZSBhbGwgY3VycmVudCBzdHlsZSB0YWdzIHNvIHdlIGFyZW4ndCBkdXBsaWNhdGluZyBldmVyeSB0aW1lIGNvbG9ycyBjaGFuZ2VcbiAgICAgICAgaWYgKGVsZW1zICYmIGVsZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGVsZW0gb2YgZWxlbXMpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7IGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoZWxlbSk7IH0sIDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxlbXMgPSBbXTtcbiAgICAgICAgLy8gc3BpbiB1cCBhIG5ldyBlbGVtZW50IHRvIGFkZCB0aGVzZSBzdHlsZXMgdG9cbiAgICAgICAgbGV0IG5ld0VsZW0gPSB0aGlzLl9hZGROZXdFbGVtZW50KGVsZW1zKTtcbiAgICAgICAgLy8gY3JlYXRlIGFsbCBvZiB0aGUgaW5kaXZpZHVhbCBzdHlsZXNcbiAgICAgICAgbmF2aWdhdGVfMS5tYXAoc3R5bGVzLCAoY3NzRGVjbGFyYXRpb24sIHNlbGVjdG9yKSA9PiB7XG4gICAgICAgICAgICBsZXQgdG1wRWxlbSA9IHN0eWxlc18xLmNyZWF0ZUNsYXNzKHNlbGVjdG9yLCBjc3NEZWNsYXJhdGlvbiwgdHJ1ZSwgZm9yY2VPdmVycmlkZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoIXRtcEVsZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZW5ndGggKz0gdG1wRWxlbS5pbm5lckhUTUwubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlbmd0aCA+PSBNQVhfU1RSSU5HKSB7XG4gICAgICAgICAgICAgICAgbmV3RWxlbSA9IHRoaXMuX2FkZE5ld0VsZW1lbnQoZWxlbXMpO1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdFbGVtLmlubmVySFRNTCArPSB0bXBFbGVtLmlubmVySFRNTDtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHJldHVybiB0aGUgbmV3IHN0eWxlIGVsZW1lbnRcbiAgICAgICAgcmV0dXJuIGVsZW1zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYWRkTmV3RWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gZWxlbXNcbiAgICAgKi9cbiAgICBzdGF0aWMgX2FkZE5ld0VsZW1lbnQoZWxlbXMpIHtcbiAgICAgICAgbGV0IG5ld0VsZW0gPSBzdHlsZXNfMS5jcmVhdGVTdHlsZUVsZW1lbnQoZmFsc2UpO1xuICAgICAgICBuZXdFbGVtLmlubmVySFRNTCA9IFwiQGNoYXJzZXQgXFxcInV0Zi04XFxcIjtcXG5cIjtcbiAgICAgICAgZWxlbXMucHVzaChuZXdFbGVtKTtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChuZXdFbGVtKTtcbiAgICAgICAgcmV0dXJuIG5ld0VsZW07XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ0xFQU5JTkcgU1RZTEVTXG4gICAgLyoqXG4gICAgICogX2NsZWFuU3R5bGVzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENsZWFuIHRoZSBuZXN0ZWQgc3R5bGVzIGRhdGEgc28gdGhhdCB3ZSBjYW4gcGFyc2UgaXQgcHJvcGVybHlcbiAgICAgKiBAcGFyYW0gICBzdHlsZXMgIFRoZSBzdHlsZXMgdG8gY2xlYW5cbiAgICAgKiBAcmV0dXJucyBUaGUgY2xlYW5lZCBzdHlsZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgX2NsZWFuU3R5bGVzKHN0eWxlcywgbGFzdFNlbGVjdG9yKSB7XG4gICAgICAgIGxldCBvdXRTdHlsZXMgPSB7fTtcbiAgICAgICAgbmF2aWdhdGVfMS5tYXAoc3R5bGVzLCAodmFsdWUsIHNlbGVjdG9yKSA9PiB7XG4gICAgICAgICAgICAvLyBzcGxpdCBhbGwgc2VsZWN0b3JzIGF0IGNvbW1hcyBzbyB3ZSBjYW4gYXBwcm9wcmlhdGVseSBuZXN0XG4gICAgICAgICAgICBsZXQgbmV3U2VsZWN0b3JzID0gc2VsZWN0b3Iuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgaWYgKGxhc3RTZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3U2VsZWN0b3JzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdTZWxlY3RvciA9IG5ld1NlbGVjdG9yc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIHNlbGVjdG9ycyB0aGF0IHNwZWNpZnkgd2hlcmUgdGhlIGxhc3Qgc2VsZWN0b3Igc2hvdWxkIHNpdFxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3U2VsZWN0b3IuaW5kZXhPZihcIiZcIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTZWxlY3RvcnNbaV0gPSBuZXdTZWxlY3Rvci5yZXBsYWNlKC8mL2csIGxhc3RTZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgYWxsIG90aGVyIHN1YmNsYXNzIGNhc2VzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTZWxlY3RvcnNbaV0gPSBsYXN0U2VsZWN0b3IgKyBcIiBcIiArIG5ld1NlbGVjdG9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGFsbCBvZiB0aGUgYXZhaWxhYmxlIHN1YmNsYXNzZXMgZm9yIHRoaXNcbiAgICAgICAgICAgIGxldCBzdWJDbHM7XG4gICAgICAgICAgICBmb3IgKHN1YkNscyBvZiBuZXdTZWxlY3RvcnMpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2FsY3VsYXRlZFN0eWxlcyA9IHRoaXMuX2NsZWFuQ2xhc3NEZWYoc3ViQ2xzLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgb3V0U3R5bGVzID0gdGhpcy5fY29tYmluZVRoZW1lcyhudWxsLCBvdXRTdHlsZXMsIGNhbGN1bGF0ZWRTdHlsZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG91dFN0eWxlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NsZWFuQ2xhc3NEZWZcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ2xlYW4gYSBwYXJ0aWN1bGFyIGNsYXNzIGRlZmluaXRpb24gcmVjdXJzaXZlbHlcbiAgICAgKiBAcGFyYW0gICBzZWxlY3RvciAgICBUaGUgQ1NTIHNlbGVjdG9yIGZvciB0aGlzIGNsYXNzXG4gICAgICogQHBhcmFtICAgY2xhc3NEZWYgICAgVGhlIGRlZmluaXRpb24gZm9yIHRoaXMgQ1NTIGNsYXNzXG4gICAgICogQHJldHVybnMgVGhlIG1lcmdlZCBzdHlsZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgX2NsZWFuQ2xhc3NEZWYoc2VsZWN0b3IsIGNsYXNzRGVmKSB7XG4gICAgICAgIGxldCB0b3BTdHlsZXMgPSB7fTtcbiAgICAgICAgdG9wU3R5bGVzW3NlbGVjdG9yXSA9IHt9O1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcChjbGFzc0RlZiwgKHByb3BlcnR5VmFsdWUsIHByb3BlcnR5TmFtZSkgPT4ge1xuICAgICAgICAgICAgLy8gYWxsb3cgZm9yIGFuaW1hdGlvbnMgdG8gYmUgY3JlYXRlZFxuICAgICAgICAgICAgaWYgKHByb3BlcnR5TmFtZSA9PT0gXCJuZXN0ZWRcIikge1xuICAgICAgICAgICAgICAgIGxldCBuZXN0ZWRTdHlsZXMgPSBwcm9wZXJ0eVZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCBzdWJuZXN0ZWRTdHlsZXMgPSB0aGlzLl9jbGVhblN0eWxlcyhwcm9wZXJ0eVZhbHVlLCBzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgdG9wU3R5bGVzID0gdGhpcy5fY29tYmluZVRoZW1lcyhudWxsLCB0b3BTdHlsZXMsIHN1Ym5lc3RlZFN0eWxlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b3BTdHlsZXNbc2VsZWN0b3JdW3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eVZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRvcFN0eWxlcztcbiAgICB9XG4gICAgZ2V0IF91bmNvbG9yZWRTdHlsZXMoKSB7IHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLl91bmNvbG9yZWRTdHlsZXM7IH1cbiAgICBnZXQgdW5jb2xvcmVkU3R5bGVzKCkgeyByZXR1cm4gdGhpcy5fZ2V0VW5jb2xvcmVkU3R5bGVzKCk7IH1cbiAgICAvKiogb3ZlcnJpZGFibGUgZnVuY3Rpb24gdG8gZ3JhYiB0aGUgYXBwcm9wcmlhdGUgc3R5bGVzIGZvciB0aGlzIHBhcnRpY3VsYXIgY2xhc3MgKi9cbiAgICBfZ2V0VW5jb2xvcmVkU3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5fdW5jb2xvcmVkU3R5bGVzO1xuICAgIH1cbiAgICBnZXQgX2N1c3RvbUZvbnRzKCkgeyByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5fY3VzdG9tRm9udHM7IH1cbiAgICBnZXQgY3VzdG9tRm9udHMoKSB7IHJldHVybiB0aGlzLl9nZXRDdXN0b21Gb250cygpOyB9XG4gICAgLyoqIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIHRvIGdyYWIgdGhlIGFwcHJvcHJpYXRlIGZvbnRzIGZvciB0aGlzIHBhcnRpY3VsYXIgY2xhc3MgKi9cbiAgICBfZ2V0Q3VzdG9tRm9udHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLl9jdXN0b21Gb250cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3JlZ2lzdGVyTWVkaWFMaXN0ZW5lcnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQXV0by1hcHBseSB2YXJpb3VzIHN0eWxlcyBmb3IgZWFzaWVyIG1vYmlsZS1vcHRpbWl6aW5nXG4gICAgICovXG4gICAgX3JlZ2lzdGVyTWVkaWFMaXN0ZW5lcnMoKSB7XG4gICAgICAgIC8vIGdsb2JhbCBjbGFzc2VzIChwcmludCwgbW9iaWxlKVxuICAgICAgICB0aGlzLl9yZWdpc3Rlck1lZGlhTGlzdGVuZXIoXCJwcmludFwiLCBcInByaW50XCIpO1xuICAgICAgICB0aGlzLl9yZWdpc3Rlck1lZGlhTGlzdGVuZXIoXCIobWF4LXdpZHRoOjEyMDBweClcIiwgXCJtb2JpbGVcIik7XG4gICAgICAgIC8vIHZhcmlvdXMgbW9iaWxlIHNpemVzXG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyTWVkaWFMaXN0ZW5lcihcIihtYXgtd2lkdGg6MTIwMHB4KSBhbmQgKG1pbi13aWR0aDo4MDFweClcIiwgXCJsYXJnZVwiKTtcbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJNZWRpYUxpc3RlbmVyKFwiKG1heC13aWR0aDo4MDBweCkgYW5kIChtaW4td2lkdGg6NjAxcHgpXCIsIFwibWVkaXVtXCIpO1xuICAgICAgICB0aGlzLl9yZWdpc3Rlck1lZGlhTGlzdGVuZXIoXCIobWF4LXdpZHRoOjYwMHB4KSBhbmQgKG1pbi13aWR0aDo0MDFweClcIiwgXCJzbWFsbFwiKTtcbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJNZWRpYUxpc3RlbmVyKFwiKG1heC13aWR0aDo0MDBweClcIiwgXCJ0aW55XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVnaXN0ZXJNZWRpYUxpc3RlbmVyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFJlZ2lzdGVyIGEgbGlzdGVuZXIgdG8gZGV0ZWN0IGlmIGEgcGFydGljdWxhciBtZWRpYSBxdWVyeSBwYXNzZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIG1hdGNoUXVlcnkgICBUaGUgbWVkaWEgcXVlcnkgdG8gdGVzdCBmb3IgbWF0Y2hpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIGNsYXNzVG9BcHBseSAgICBXaGF0IGNsYXNzIHRvIGFwcGx5IGlmIHRoZSBxdWVyeSBtYXRjaGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICBlbGVtICAgICAgICAgICAgSWYgaW5jbHVkZWQsIHRoZSBlbGVtZW50IHRoYXQgc2hvdWxkIGhhdmUgdGhlIGNsYXNzXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG8tYXBwbGllZFxuICAgICAqL1xuICAgIF9yZWdpc3Rlck1lZGlhTGlzdGVuZXIobWF0Y2hRdWVyeSwgY2xhc3NUb0FwcGx5LCBlbGVtKSB7XG4gICAgICAgIGxldCBtZWRpYVF1ZXJ5RnVuYyA9IHdpbmRvdy5tYXRjaE1lZGlhKG1hdGNoUXVlcnkpO1xuICAgICAgICBtZWRpYVF1ZXJ5RnVuYy5hZGRMaXN0ZW5lcigobWVkaWEpID0+IHtcbiAgICAgICAgICAgIGlmIChtZWRpYS5tYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgY3NzXzEuYWRkQ2xhc3MoZWxlbSB8fCBkb2N1bWVudC5ib2R5LCBjbGFzc1RvQXBwbHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3MoZWxlbSB8fCBkb2N1bWVudC5ib2R5LCBjbGFzc1RvQXBwbHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGFsc28gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHdlIGFscmVhZHkgbWF0Y2hcbiAgICAgICAgaWYgKG1lZGlhUXVlcnlGdW5jLm1hdGNoZXMpIHtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKGVsZW0gfHwgZG9jdW1lbnQuYm9keSwgY2xhc3NUb0FwcGx5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYXBwbHlDb2xvcnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQXBwbHkgdGhlIGFwcHJvcHJpYXRlIHRoZW1lIGNvbG9yc1xuICAgICAqIEBwYXJhbSAgIG90aGVyRWxlbSAgIElmIHBhc3NlZCBpbiwgc2V0cyBhIHRoZW1lIGNvbG9yIG9uIGEgZGlmZmVyZW50IGVsZW1lbnRcbiAgICAgKi9cbiAgICBfYXBwbHlDb2xvcnMob3RoZXJFbGVtKSB7XG4gICAgICAgIGxldCBpZHggPSAwO1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLl9jb2xvcnMsIChjb2xvciwgdW5pcXVlSWQpID0+IHtcbiAgICAgICAgICAgIGlmICghY29sb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW90aGVyRWxlbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGhlbWVDb2xvcih1bmlxdWVJZCwgY29sb3IsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3RoZXJFbGVtLnNldFRoZW1lQ29sb3IodW5pcXVlSWQsIGNvbG9yLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNldFRoZW1lQ29sb3JcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogVXBkYXRlIGEgdGhlbWUgY29sb3IgYmFzZWQgb24gcGxhY2Vob2xkZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICB1bmlxdWVJZCAgICAgICAgVGhlIGluZGV4IG9mIHRoZSB0aGVtZSBjb2xvclxuICAgICAqIEBwYXJhbSAgIGNvbG9yICAgICAgICAgICBUaGUgY29sb3IgdG8gcmVwbGFjZSBpdCB3aXRoXG4gICAgICogQHBhcmFtICAgbm9SZXBsYWNlICAgICAgIFRydWUgaWYgd2Ugc2hvdWxkbid0IHJlcGxhY2UgYW4gZXhpc3RpbmcgY29sb3JcbiAgICAgKi9cbiAgICBzZXRUaGVtZUNvbG9yKGNvbG9ySWQsIGNvbG9yLCBub1JlcGxhY2UpIHtcbiAgICAgICAgLy8gUXVpdCBpZiB3ZSdyZSBtaXNzaW5nIHRoZSBjb2xvciBvciB0aGUgSURcbiAgICAgICAgaWYgKCFjb2xvciB8fCAhY29sb3JJZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFF1aXQgaWYgdGhlIGNvbG9yIGlzIGFscmVhZHkgc2V0IHRvIGFueSB2YWx1ZVxuICAgICAgICBpZiAobm9SZXBsYWNlICYmIFN0eWxhYmxlLl90aGVtZUNvbG9yc1tjb2xvcklkXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFF1aXQgaWYgdGhpcyBpcyBhbHJlYWR5IHRoZSBjb2xvciBzZXQgZm9yIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAoU3R5bGFibGUuX3RoZW1lQ29sb3JzW2NvbG9ySWRdID09PSBjb2xvcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlcGxhY2UgdGhlIGNvbG9yIHN0b3JlZCBpbiBvdXIgYXJyYXlcbiAgICAgICAgU3R5bGFibGUuX3RoZW1lQ29sb3JzW2NvbG9ySWRdID0gY29sb3I7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgc3R5bGVzIHJlbGF0ZWQgdG8gdGhpcyBwYXJ0aWN1bGFyIHRoZW1lXG4gICAgICAgIFN0eWxhYmxlLl91cGRhdGVUaGVtZUNvbG9yKGNvbG9ySWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYnVpbGRUaGVtZUNvbG9ySWRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGEgdW5pcXVlIElEIGZvciBhIGNvbG9yIGZvciBhIHBhcnRpY3VsYXIgY2xhc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIGlkeCAgICAgICAgIFRoZSBpbmRleCBvZiB0aGUgY29sb3JcbiAgICAgKiBAcGFyYW0gICB1bmlxdWVJRCAgICBPcHRpb25hbCBuYW1lIHRvIHVzZSBpbnN0ZWFkIG9mIHRoZSBjbGFzcyBuYW1lXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBjb2xvciBJRFxuICAgICAqL1xuICAgIF9idWlsZFRoZW1lQ29sb3JJZCh1bmlxdWVJZCkge1xuICAgICAgICByZXR1cm4gU3R5bGFibGUuX2J1aWxkVGhlbWVDb2xvcklkKHVuaXF1ZUlkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX21lcmdlVGhlbWVzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEluc3RhbmNlIGNsYXNzIHRvIG1lcmdlIGRpZmZlcmVudCB0aGVtZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIHRoZW1lcyAgVGhlIHRoZW1lcyB0byBtZXJnZVxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIG1lcmdlZCB0aGVtZXNcbiAgICAgKi9cbiAgICBfbWVyZ2VUaGVtZXMoLi4udGhlbWVzKSB7XG4gICAgICAgIHJldHVybiBTdHlsYWJsZS5fbWVyZ2VUaGVtZXMobnVsbCwgLi4udGhlbWVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogbWVyZ2VJblN0eWxlc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBhbGxvdyBhIGNhbGxlciB0byBhZGQgc3R5bGVzIGFmdGVyIGNsYXNzIGNyZWF0aW9uLCB0byBtb3JlIHNwZWNpZmljYWxseVxuICAgICAqIG92ZXJyaWRlIHRoZSBzdHlsZXMgb2YgYSBjbGFzc1xuICAgICAqXG4gICAgICogVE9ETzogYWN0dWFsbHkgYXBwbHkgc3R5bGVzIGluZGl2aWR1YWxseSBpbnN0ZWFkIG9mIGdsb2JhbGx5XG4gICAgICovXG4gICAgbWVyZ2VJblN0eWxlcyguLi50aGVtZXMpIHtcbiAgICAgICAgbGV0IG1lcmdlZFRoZW1lcyA9IFN0eWxhYmxlLl9tZXJnZVRoZW1lcyhudWxsLCAuLi50aGVtZXMpO1xuICAgICAgICBTdHlsYWJsZS5fbWVyZ2VJbnRvU3R5bGVzKG1lcmdlZFRoZW1lcyk7XG4gICAgICAgIFN0eWxhYmxlLl9jcmVhdGVTdHlsZXModHJ1ZSk7XG4gICAgICAgIFN0eWxhYmxlLl9jcmVhdGVBbGxDb2xvcmVkU3R5bGVzKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZVN0eWxlc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIHN0eWxlcyBmb3IgdGhpcyBjbGFzc1xuICAgICAqIEBwYXJhbSAgIGZvcmNlT3ZlcnJpZGUgICBUcnVlIGlmIHdlIHNob3VsZCBjcmVhdGUgdGhlIGNsYXNzZXMgZXZlbiBpZiB0aGV5XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGFscmVhZHkgZXhpc3RcbiAgICAgKi9cbiAgICBfY3JlYXRlU3R5bGVzKGZvcmNlT3ZlcnJpZGUpIHtcbiAgICAgICAgLy8gUXVpdCBpZiB3ZSBkb24ndCBoYXZlIHRoZSByaWdodCBzdHlsZXNcbiAgICAgICAgaWYgKCF0aGlzLnVuY29sb3JlZFN0eWxlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgY3JlYXRlZCBzdHlsZXMgZm9yIHRoZXNlIGVsZW1lbnRzLCBkb24ndCBkbyBpdCBhZ2FpblxuICAgICAgICBpZiAoKFN0eWxhYmxlLl9jcmVhdGVkU3R5bGVzW3RoaXMuY29uc3RydWN0b3IubmFtZV0pICYmICFmb3JjZU92ZXJyaWRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29weSBvdXIgc3R5bGVzICYgcmVwbGFjZSB0aGUgd3JvbmcgdGFnc1xuICAgICAgICBsZXQgdG1wU3R5bGVzID0gY2xvbmluZ18xLmNsb25lT2JqZWN0KHRoaXMudW5jb2xvcmVkU3R5bGVzKTtcbiAgICAgICAgdG1wU3R5bGVzID0gdGhpcy5fY2xlYW5TdHlsZXModG1wU3R5bGVzKTtcbiAgICAgICAgLy8gTWVyZ2UgaW50byB0aGUgc3RhdGljIHN0eWxlc1xuICAgICAgICBTdHlsYWJsZS5fbWVyZ2VJbnRvU3R5bGVzKHRtcFN0eWxlcyk7XG4gICAgICAgIC8vIEhhbmRsZSB0aGUgZm9udHMgYXMgd2VsbFxuICAgICAgICBsZXQgY3VzdG9tRm9udHMgPSBjbG9uaW5nXzEuY2xvbmVPYmplY3QodGhpcy5fY3VzdG9tRm9udHMpO1xuICAgICAgICBTdHlsYWJsZS5fbWVyZ2VJbnRvRm9udHMoY3VzdG9tRm9udHMpO1xuICAgICAgICAvLyBjcmVhdGUgYWxsIHN0eWxlcyBmb3IgdGhlIGVsZW1lbnRcbiAgICAgICAgU3R5bGFibGUuX2NyZWF0ZVN0eWxlcyhmb3JjZU92ZXJyaWRlKTtcbiAgICAgICAgU3R5bGFibGUuX2NyZWF0ZUFsbENvbG9yZWRTdHlsZXMoZm9yY2VPdmVycmlkZSk7XG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHdlIGFyZSBub3QgcmVjcmVhdGluZyB0aGVzZSBzdHlsZXMgaW5hcHByb3ByaWF0ZWx5XG4gICAgICAgIFN0eWxhYmxlLl9jcmVhdGVkU3R5bGVzW3RoaXMuY29uc3RydWN0b3IubmFtZV0gPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2xlYW5TdHlsZXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ2xlYW4gdGhlIG5lc3RlZCBzdHlsZXMgZGF0YSBzbyB0aGF0IHdlIGNhbiBwYXJzZSBpdCBwcm9wZXJseVxuICAgICAqIEBwYXJhbSAgIHN0eWxlcyAgVGhlIHN0eWxlcyB0byBjbGVhblxuICAgICAqIEByZXR1cm5zIFRoZSBjbGVhbmVkIHN0eWxlc1xuICAgICAqL1xuICAgIF9jbGVhblN0eWxlcyhzdHlsZXMsIGxhc3RTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gU3R5bGFibGUuX2NsZWFuU3R5bGVzKHN0eWxlcywgbGFzdFNlbGVjdG9yKTtcbiAgICB9XG59XG5leHBvcnRzLlN0eWxhYmxlID0gU3R5bGFibGU7XG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUQVRJQyBQUk9QRVJUSUVTXG4vKiogY3JlYXRlIHRoZSBjb2xsZWN0aW9uIG9mIGFsbCBzdHlsZXMgdGhhdCBoYXZlIGJlZW4gYWRkZWQgdG8gdGhlIHBhZ2UgKi9cblN0eWxhYmxlLl9wYWdlU3R5bGVzID0ge307XG4vKioga2VlcCB0cmFjayBvZiBhbGwgb2YgdGhlIGNsYXNzZXMgd2l0aG91dCB0aGUgY29sb3Igc3Vic3RpdHV0aW9ucyAqL1xuU3R5bGFibGUuX3RoZW1lZFN0eWxlcyA9IHt9O1xuLyoqIGtlZXAgdHJhY2sgb2YgYWxsIG9mIHRoZSB0aGVtZSBjb2xvcnMgZm9yIGVhY2ggb2YgdGhlIGNsYXNzZXMgKi9cblN0eWxhYmxlLl90aGVtZUNvbG9ycyA9IHt9O1xuLyoqIGhvbGQgdGhlIHN0eWxlIHRhZyB0aGF0IGNvbnRhaW5zIGNvbG9yLXNwZWNpZmljIGNsYXNzZXMgKi9cblN0eWxhYmxlLl9jb2xvclN0eWxlRWxlbXMgPSB7fTtcbi8qKiBrZWVwIHRyYWNrIG9mIHRoZSBjdXN0b20gZm9udHMgZm9yIHRoZSBwYWdlICovXG5TdHlsYWJsZS5fY3VzdG9tUGFnZUZvbnRzID0ge307XG4vKioga2VlcCB0cmFjayBvZiB0aGUgc3R5bGVzIHdlJ3ZlIGFscmVhZHkgY3JlYXRlZCAqL1xuU3R5bGFibGUuX2NyZWF0ZWRTdHlsZXMgPSB7fTtcbi8qKiBrZWVwIHRyYWNrIG9mIHRoZSBmb250cyBkZWZpbmVkIGJ5IHRoaXMgZWxlbWVudCAqL1xuU3R5bGFibGUuX2N1c3RvbUZvbnRzID0ge307XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNhbnZhc0VsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL2NhbnZhc0VsZW1lbnRcIik7XG5jb25zdCBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vZGF0YVN0cnVjdHVyZXMvY29sbGVjdGlvbi9jb2xsZWN0aW9uXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgY2xvbmluZ18xID0gcmVxdWlyZShcIi4uL29iamVjdEhlbHBlcnMvY2xvbmluZ1wiKTtcbmNvbnN0IGNvbnRhaW5tZW50XzEgPSByZXF1aXJlKFwiLi4vbWF0aHMvY29udGFpbm1lbnRcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdENhbnZhc0dyb3VwXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjbGFzcyB0aGF0IHN0b3JlcyBjb2xsZWN0aW9ucyBvZiBvdGhlciBjYW52YXMgZWxlbWVudHNcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb25cdDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIENhbnZhc0dyb3VwIGV4dGVuZHMgY2FudmFzRWxlbWVudF8xLkNhbnZhc0VsZW1lbnQge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8qKlxuICAgICAqIENhbnZhc0dyb3VwXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZSBhIGdyb3VwIGVsZW1lbnQgdGhhdCBqb2lucyBvdGhlciBlbGVtZW50cyB0b2dldGhlclxuICAgICAqXG4gICAgICogQHBhcmFtXHRpZFx0XHRcdFRoZSB1bmlxdWUgSUQgZm9yIHRoZSBlbGVtZW50XG4gICAgICogQHBhcmFtXHRyZWZQb2ludFx0VGhlIHJlZmVyZW5jZSBwb2ludCB0byB1c2VcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkLCByZWZQb2ludCkge1xuICAgICAgICBzdXBlcihpZCk7XG4gICAgICAgIC8qKiBpZiB0cnVlLCBzY2FsZXMgd2l0aCB0aGUgcmVzdCBvZiB0aGUgY2FudmFzICovXG4gICAgICAgIHRoaXMuX3Jlc3BvbmRUb1NjYWxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzID0gbmV3IGNvbGxlY3Rpb25fMS5Db2xsZWN0aW9uKCk7XG4gICAgICAgIGlmIChyZWZQb2ludCkge1xuICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlUG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgeDogcmVmUG9pbnQueCxcbiAgICAgICAgICAgICAgICB5OiByZWZQb2ludC55XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlUG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVSZWN0cygpO1xuICAgIH1cbiAgICAvKiogdGhlIHR5cGUgb2YgZWxlbWVudCB0aGlzIGlzICovXG4gICAgZ2V0IHR5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkVsZW1lbnRUeXBlLkdyb3VwOyB9XG4gICAgc2V0IHJlZmVyZW5jZVBvaW50KHJlZlB0KSB7XG4gICAgICAgIHRoaXMuYWRqdXN0RGltZW5zaW9ucyh7XG4gICAgICAgICAgICB4OiAocmVmUHQueCAtIHRoaXMuX3JlZmVyZW5jZVBvaW50LngpLFxuICAgICAgICAgICAgeTogKHJlZlB0LnkgLSB0aGlzLl9yZWZlcmVuY2VQb2ludC55KVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogaXNIb3ZlclRhcmdldFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBncm91cHMgaGFuZGxlIHdoZXRoZXIgdGhleSBhcmUgYSBob3ZlciB0YXJnZXQgYSBsaXR0bGUgZGlmZmVyZW50bHlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUcnVlIGlmIHRoaXMgZWxlbWVudCBpcyBhIHRhcmdldCBmb3IgaG92ZXJcbiAgICAgKi9cbiAgICBnZXQgaXNIb3ZlclRhcmdldCgpIHtcbiAgICAgICAgbGV0IGlzSG92ZXJUYXJnZXQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMubWFwKChlbGVtKSA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbS5pc0hvdmVyVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgaXNIb3ZlclRhcmdldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGlzSG92ZXJUYXJnZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9pbml0aWFsaXplUmVjdHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogaGFuZGxlIHRoZSBpbml0aWFsIHJlY3RzIG5lZWRlZCBieSB0aGUgZ3JvdXBcbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZVJlY3RzKCkge1xuICAgICAgICB0aGlzLl9kaW1lbnNpb25zID0ge1xuICAgICAgICAgICAgeDogdGhpcy5fcmVmZXJlbmNlUG9pbnQueCxcbiAgICAgICAgICAgIHk6IHRoaXMuX3JlZmVyZW5jZVBvaW50LnksXG4gICAgICAgICAgICB3OiAwLFxuICAgICAgICAgICAgaDogMFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9uZWVkc0luaXRpYWxEaW1lbnNpb25zID0gdHJ1ZTtcbiAgICAgICAgc3VwZXIuX2luaXRpYWxpemVSZWN0cygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25EcmF3XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGhhbmRsZSBkcmF3aW5nIHRoZSBncm91cFxuICAgICAqXG4gICAgICogQHBhcmFtXHRjb250ZXh0XHRcdFRoZSBjb250ZXh0IHVwb24gd2hpY2ggdG8gZHJhdyB0aGlzIGVsZW1lbnRcbiAgICAgKlxuICAgICAqL1xuICAgIF9vbkRyYXcoY29udGV4dCkge1xuICAgICAgICAvLyBkcmF3IHRoZSBlbGVtZW50cyByZWxhdGl2ZSB0byB0aGUgZ3JvdXBcbiAgICAgICAgdGhpcy5fZWxlbWVudHMubWFwKChlbGVtKSA9PiB7XG4gICAgICAgICAgICBlbGVtLmRyYXcoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZURpbWVuc2lvbnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogdXBkYXRlIHRoZSBzcGFjZSBvY2N1cGllZCBieSB0aGlzIGdyb3VwXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdHZpc2libGVXaW5kb3dcdFRoZSB2aXNpYmxlIHZpZXcgaW50byB0aGUgY2FudmFzXG4gICAgICpcbiAgICAgKi9cbiAgICB1cGRhdGVEaW1lbnNpb25zKHZpc2libGVXaW5kb3cpIHtcbiAgICAgICAgc3VwZXIudXBkYXRlRGltZW5zaW9ucyh2aXNpYmxlV2luZG93KTtcbiAgICAgICAgLy8gTm8gbmVlZCB0byB1cGRhdGUgaWYgZWxlbXMgd2lsbCBiZSBvZmZzY3JlZW5cbiAgICAgICAgaWYgKHRoaXMuX2lzT2ZmU2NyZWVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIHRvIGVhY2ggb2YgdGhlIGVsZW1lbnRzXG4gICAgICAgIGxldCBlbGVtO1xuICAgICAgICB0aGlzLl9lbGVtZW50cy5tYXAoKGVsZW0pID0+IHtcbiAgICAgICAgICAgIGVsZW0udXBkYXRlRGltZW5zaW9ucyh2aXNpYmxlV2luZG93KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZEVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogYWRkIGFuIGVsZW1lbnQgdG8gdGhpcyBncm91cFxuICAgICAqXG4gICAgICogQHBhcmFtXHRUaGUgZWxlbWVudCB0byBhZGQgdG8gdGhlIGdyb3VwXG4gICAgICpcbiAgICAgKi9cbiAgICBhZGRFbGVtZW50KGVsZW0pIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIGVhY2ggZWxlbWVudCBpcyBhcHByb3ByaWF0ZWx5IHNoaWZ0ZWRcbiAgICAgICAgZWxlbS5hZGp1c3REaW1lbnNpb25zKHRoaXMuX3JlZmVyZW5jZVBvaW50KTtcbiAgICAgICAgLy8gQWRkIHRoZSBlbGVtZW50IHRvIG91ciBpbnRlcm5hbCBhcnJheSwgYW5kIGVuc3VyZSBpdCBoYXMgYSB3YXkgdG8gZ2V0IGJhY2sgdG8gdXNcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuYWRkKGVsZW0uaWQsIGVsZW0pO1xuICAgICAgICBlbGVtLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBjYW52YXMgYXNzaWduZWQsIGFsc28gYWRkIGl0IHRvIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAodGhpcy5fY2FudmFzKSB7XG4gICAgICAgICAgICBlbGVtLmNhbnZhcyA9IHRoaXMuX2NhbnZhcztcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5uZWVkc1JlZHJhdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGtub3cgaG93IGJpZyB0aGlzIGdyb3VwIGlzXG4gICAgICAgIHRoaXMuX3VwZGF0ZUludGVybmFsRGltZW5zaW9uc0Zyb21FbGVtZW50KGVsZW0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfdXBkYXRlSW50ZXJuYWxEaW5lbnNpb25zRnJvbUVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogbWFrZSBzdXJlIG91ciBpbnRlcm5hbCBkaW1lbnNpb25zIG1hdGNoIHdoYXQgb3VyIGVsZW1lbnRzXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGVsZW1cdFRIZSBlbGVtZW50IHdlJ3JlIGFkZGluZyB0byB1cGRhdGUgZGltZW5zaW9ucyBmb3JcbiAgICAgKlxuICAgICAqL1xuICAgIF91cGRhdGVJbnRlcm5hbERpbWVuc2lvbnNGcm9tRWxlbWVudChlbGVtKSB7XG4gICAgICAgIGxldCByZWxEaW0gPSB7XG4gICAgICAgICAgICB4OiB0aGlzLl9kaW1lbnNpb25zLngsXG4gICAgICAgICAgICB5OiB0aGlzLl9kaW1lbnNpb25zLnksXG4gICAgICAgICAgICB3OiB0aGlzLl9kaW1lbnNpb25zLncsXG4gICAgICAgICAgICBoOiB0aGlzLl9kaW1lbnNpb25zLmhcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgeCBleHRyZW1hIG5lZWQgdXBkYXRlZFxuICAgICAgICBpZiAoZWxlbS5kaW1lbnNpb25zLnggPCByZWxEaW0ueCkge1xuICAgICAgICAgICAgcmVsRGltLnggPSBlbGVtLmRpbWVuc2lvbnMueDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGVsZW0uZGltZW5zaW9ucy54ICsgZWxlbS5kaW1lbnNpb25zLncpID4gKHJlbERpbS54ICsgcmVsRGltLncpKSB7XG4gICAgICAgICAgICByZWxEaW0udyA9ICgoZWxlbS5kaW1lbnNpb25zLnggKyBlbGVtLmRpbWVuc2lvbnMudykgLSByZWxEaW0ueCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgeSBleHRyZW1hIG5lZWQgdXBkYXRlZFxuICAgICAgICBpZiAoZWxlbS5kaW1lbnNpb25zLnkgPCByZWxEaW0ueSkge1xuICAgICAgICAgICAgcmVsRGltLnkgPSBlbGVtLmRpbWVuc2lvbnMueTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGVsZW0uZGltZW5zaW9ucy55ICsgZWxlbS5kaW1lbnNpb25zLmgpID4gKHJlbERpbS55ICsgcmVsRGltLmgpKSB7XG4gICAgICAgICAgICByZWxEaW0uaCA9ICgoZWxlbS5kaW1lbnNpb25zLnkgKyBlbGVtLmRpbWVuc2lvbnMuaCkgLSByZWxEaW0ueSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIHRoZSByZWFsIGRpbWVuc2lvbnNcbiAgICAgICAgdGhpcy5fZGltZW5zaW9ucyA9IHtcbiAgICAgICAgICAgIHg6IHJlbERpbS54LFxuICAgICAgICAgICAgeTogcmVsRGltLnksXG4gICAgICAgICAgICB3OiByZWxEaW0udyxcbiAgICAgICAgICAgIGg6IHJlbERpbS5oXG4gICAgICAgIH07XG4gICAgICAgIC8vIERvbid0IHNldCB0aGVzZSBkaW1lbnNpb25zIGFzIGRlZmF1bHQgYWdhaW5cbiAgICAgICAgdGhpcy5fbmVlZHNJbml0aWFsRGltZW5zaW9ucyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBoYW5kbGVFdmVudFxuICAgICAqXG4gICAgICogZ3JvdXBzIG5lZWQgc29tZSBzcGVjaWFsIGhhbmRsaW5nIHNpbmNlIHRoZXkgbmVlZCB0byBwYXNzIG9uIHRoZWlyIGV2ZW50c1xuICAgICAqXG4gICAgICogQHBhcmFtXHRldmVudFR5cGVcbiAgICAgKiBAcGFyYW1cdHB0XHRcdFx0VGhlIHBvaW50XG4gICAgICogQHBhcmFtXHRlXHRcdFx0VGhlIGFjdHVhbCBldmVudCB3ZSBhcmUgaGFuZGxpbmdcbiAgICAgKlxuICAgICAqL1xuICAgIGhhbmRsZUV2ZW50KGV2ZW50VHlwZSwgcHQsIGUpIHtcbiAgICAgICAgLy8gUnVuIGFueSBldmVudC1oYW5kbGluZyB0aGF0IGRpcmVjdGx5IGFwcGxpZXMgdG8gbWVcbiAgICAgICAgc3VwZXIuaGFuZGxlRXZlbnQoZXZlbnRUeXBlLCBwdCwgZSk7XG4gICAgICAgIC8vIFF1aXQgaWYgdGhlcmUncyBubyBwb2ludCBzcGVjaWZpZWRcbiAgICAgICAgaWYgKCFwdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNsZWFyIGFueSBob3ZlciBlZmZlY3RzIHRoYXQgbWF5IGJlIGhhcHBlbmluZ1xuICAgICAgICBpZiAoKGV2ZW50VHlwZSA9PT0gX2ludGVyZmFjZXNfMS5FdmVudFR5cGVFbnVtLkxFQVZFKSB8fCAoZXZlbnRUeXBlID09PSBfaW50ZXJmYWNlc18xLkV2ZW50VHlwZUVudW0uSE9WRVIpKSB7XG4gICAgICAgICAgICB0aGlzLl9jbGVhckhvdmVyKHB0LCBlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGaW5kIHRoZSBhZmZlY3RlZCBlbGVtZW50c1xuICAgICAgICBsZXQgZWxlbXMgPSB0aGlzLl9maW5kRWxlbWVudHNBdFBvaW50KHB0KTtcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFmZmVjdGVkIGVsZW1lbnRzIHRvIGFwcGx5IHRoZSBldmVudCB0byB0aGVtXG4gICAgICAgIGxldCBlbGVtO1xuICAgICAgICBmb3IgKGVsZW0gb2YgZWxlbXMpIHtcbiAgICAgICAgICAgIGVsZW0uaGFuZGxlRXZlbnQoZXZlbnRUeXBlLCBwdCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogYXBwbHkgYSBncm91cCBldmVudCB0byBhbGwgY2hpbGQgZWxlbWVudHNcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NsZWFySG92ZXJcbiAgICAgKlxuICAgICAqIGNsZWFyIGhvdmVyIHN0eWxlcyB0aGF0IG1heSBoYXZlIGJlZW4gYXBwbGllZCBhbHJlYWR5XG4gICAgICpcbiAgICAgKi9cbiAgICBfY2xlYXJIb3ZlcihyZWxhdGl2ZVBvaW50LCBlKSB7XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgb2Ygb3VyIGVsZW1lbnRzIGFuZCBhcHBseSB0aGUgdW5ob3ZlciBjbGFzc1xuICAgICAgICB0aGlzLl9lbGVtZW50cy5tYXAoKGVsKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWVsLmlzSG92ZXJUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbC5sZWF2ZShyZWxhdGl2ZVBvaW50LCBlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBmaW5kIHRoZSBlbGVtZW50cyB0aGF0IGFyZSBsb2NhdGVkIGF0IHRoZSBwcm92aWRlZCBwb2ludCAqL1xuICAgIF9maW5kRWxlbWVudHNBdFBvaW50KHB0KSB7XG4gICAgICAgIGxldCBvdXQgPSBbXTtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMubWFwKChlbGVtKSA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbS5pc09mZlNjcmVlbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoZSBwb2ludCBpcyBjb250YWluZWQsIGNvbnNpZGVyIGl0IGFuIFxuICAgICAgICAgICAgaWYgKCFjb250YWlubWVudF8xLmlzUG9pbnRDb250YWluZWQocHQsIGVsZW0uZGlzcGxheURpbWVuc2lvbnMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlIGV2ZW50IGhhcHBlbmVkIGF0IHRoaXMgZWxlbWVudCwgYWRkIGl0IHRvIHRoZSBhcnJheVxuICAgICAgICAgICAgb3V0LnB1c2goZWxlbSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKiogcmVtb3ZlIGVsZW1lbnRzIGZyb20gbGF5ZXJzICovXG4gICAgcmVtb3ZlRWxlbWVudChpZCkge1xuICAgICAgICBsZXQgdG1wID0gdGhpcy5fZWxlbWVudHMucmVtb3ZlKGlkKTtcbiAgICAgICAgaWYgKCF0bXApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYW52YXMubmVlZHNSZWRyYXcgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gY2xvbmluZyBhIGdyb3VwIHJlcXVpcmVzIGNsb25pbmcgaXRzIGlubmFyZHNcbiAgICBfY2xvbmVGb3JFZmZlY3QoaWQpIHtcbiAgICAgICAgbGV0IHJlZlB0ID0gY2xvbmluZ18xLmNsb25lUG9pbnQodGhpcy5fcmVmZXJlbmNlUG9pbnQpO1xuICAgICAgICBsZXQgY2xvbmVkR3JwID0gbmV3IENhbnZhc0dyb3VwKGlkKTtcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGNoaWxkcmVuICYgY2xvbmVcbiAgICAgICAgdGhpcy5fZWxlbWVudHMubWFwKChlbGVtKSA9PiB7XG4gICAgICAgICAgICBsZXQgY2xvbmUgPSBlbGVtLl9jbG9uZUZvckVmZmVjdChlbGVtLmlkICsgXCJ8ZVwiKTtcbiAgICAgICAgICAgIGNsb25lZEdycC5hZGRFbGVtZW50KGNsb25lKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbG9uZWRHcnA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zY2FsZVxuICAgICAqXG4gICAgICogZ3JvdXBzIHNjYWxlIGJ5IGVhY2ggb2YgdGhlaXIgcGFydHMgc2NhbGluZ1xuICAgICAqXG4gICAgICogQHBhcmFtXHRzY2FsZUFtdFx0VGhlIGFtb3VudCB0byBzY2FsZSBieVxuICAgICAqXG4gICAgICovXG4gICAgX3NjYWxlKHNjYWxlQW10KSB7XG4gICAgICAgIGlmICghdGhpcy5faXNFZmZlY3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbGVtZW50cy5tYXAoKGVsZW0pID0+IHtcbiAgICAgICAgICAgIGVsZW0uX3NjYWxlKHNjYWxlQW10KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRqdXN0RGltZW5zaW9uc1xuICAgICAqXG4gICAgICogYWRqdXN0IHRoZSBkaW1lbnNpb25zIG9mIHRoaXMgZ3JvdXAgKyBpdHMgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbVx0YWRqdXN0UHRcdFRoZSBwb2ludCB3ZSdyZSBhZGp1c3RpbmcgdG9cbiAgICAgKlxuICAgICAqL1xuICAgIGFkanVzdERpbWVuc2lvbnMoYWRqdXN0UHQpIHtcbiAgICAgICAgc3VwZXIuYWRqdXN0RGltZW5zaW9ucyhhZGp1c3RQdCk7XG4gICAgICAgIHRoaXMuX3JlZmVyZW5jZVBvaW50LnggKz0gYWRqdXN0UHQueDtcbiAgICAgICAgdGhpcy5fcmVmZXJlbmNlUG9pbnQueSArPSBhZGp1c3RQdC55O1xuICAgICAgICB0aGlzLl9lbGVtZW50cy5tYXAoKGVsZW0pID0+IHtcbiAgICAgICAgICAgIGVsZW0uYWRqdXN0RGltZW5zaW9ucyhhZGp1c3RQdCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfc2V0Q2FudmFzXG4gICAgICpcbiAgICAgKiBTZXQgb3VyIGludGVybmFsIGNhbnZhc1xuICAgICAqXG4gICAgICogQHBhcmFtIFx0Y2FudmFzXHRUaGUgY2FudmFzIHRvIHNldCBpbnRlcm5hbGx5XG4gICAgICpcbiAgICAgKi9cbiAgICBfc2V0Q2FudmFzKGNhbnZhcykge1xuICAgICAgICBzdXBlci5fc2V0Q2FudmFzKGNhbnZhcyk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLm1hcCgoZWxlbSkgPT4ge1xuICAgICAgICAgICAgZWxlbS5jYW52YXMgPSB0aGlzLl9jYW52YXM7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVJbnRlcm5hbERpbWVuc2lvbnNGcm9tRWxlbWVudChlbGVtKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5DYW52YXNHcm91cCA9IENhbnZhc0dyb3VwO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIik7XG5jbGFzcyBDYW52YXNFbGVtZW50U3R5bGUge1xuICAgIC8qKiBub3RoaW5nIHRvIGNvbnN0cnVjdCAqL1xuICAgIGNvbnN0cnVjdG9yKHN0eWxlKSB7XG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtdO1xuICAgICAgICAvLyBjbG9uZSB0aGUgZXhpc3Rpbmcgc3R5bGVcbiAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgICB0aGlzLl9maWxsQ29sb3IgPSBzdHlsZS5maWxsQ29sb3I7XG4gICAgICAgICAgICB0aGlzLl9zdHJva2VDb2xvciA9IHN0eWxlLnN0cm9rZUNvbG9yO1xuICAgICAgICAgICAgdGhpcy5fZm9udCA9IHN0eWxlLmZvbnQ7XG4gICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gc3R5bGUuZm9udEZhbWlseTtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gc3R5bGUuZm9udFNpemU7XG4gICAgICAgICAgICB0aGlzLl9mb250VmFyaWFudCA9IHN0eWxlLmZvbnRWYXJpYW50O1xuICAgICAgICAgICAgdGhpcy5fc3Ryb2tlU2l6ZSA9IHN0eWxlLnN0cm9rZVNpemU7XG4gICAgICAgICAgICB0aGlzLl90ZXh0QWxpZ24gPSBzdHlsZS50ZXh0QWxpZ247XG4gICAgICAgICAgICAvLyBvciBqdXN0IHVzZSBkZWZhdWx0c1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZmlsbENvbG9yID0gXCIjMDAwXCI7XG4gICAgICAgICAgICB0aGlzLl9zdHJva2VDb2xvciA9IFwiIzAwMFwiO1xuICAgICAgICAgICAgdGhpcy5fc3Ryb2tlU2l6ZSA9IDE7XG4gICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gXCJIZWx2ZXRpY2FcIjtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gNDA7XG4gICAgICAgICAgICB0aGlzLl90ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZmlsbENvbG9yKCkgeyByZXR1cm4gdGhpcy5fZmlsbENvbG9yOyB9XG4gICAgc2V0IGZpbGxDb2xvcihjb2xvcikge1xuICAgICAgICB0aGlzLl9maWxsQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5fb25DaGFuZ2UoX2ludGVyZmFjZXNfMS5TdHlsZUNoYW5nZUVudW0uRklMTF9DT0xPUik7XG4gICAgfVxuICAgIGdldCBzdHJva2VDb2xvcigpIHsgcmV0dXJuIHRoaXMuX3N0cm9rZUNvbG9yOyB9XG4gICAgc2V0IHN0cm9rZUNvbG9yKGNvbG9yKSB7XG4gICAgICAgIHRoaXMuX3N0cm9rZUNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMuX29uQ2hhbmdlKF9pbnRlcmZhY2VzXzEuU3R5bGVDaGFuZ2VFbnVtLlNUUk9LRV9DT0xPUik7XG4gICAgfVxuICAgIGdldCBmb250RmFtaWx5KCkgeyByZXR1cm4gdGhpcy5fZm9udEZhbWlseTsgfVxuICAgIHNldCBmb250RmFtaWx5KGZhbWlseSkge1xuICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gZmFtaWx5O1xuICAgICAgICB0aGlzLl9vbkNoYW5nZShfaW50ZXJmYWNlc18xLlN0eWxlQ2hhbmdlRW51bS5GT05UX0ZBTUlMWSk7XG4gICAgfVxuICAgIGdldCBmb250VmFyaWFudCgpIHsgcmV0dXJuIHRoaXMuX2ZvbnRWYXJpYW50OyB9XG4gICAgc2V0IGZvbnRWYXJpYW50KHZhcmlhbnQpIHtcbiAgICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSB2YXJpYW50O1xuICAgICAgICB0aGlzLl9vbkNoYW5nZShfaW50ZXJmYWNlc18xLlN0eWxlQ2hhbmdlRW51bS5GT05UX1ZBUklBTlQpO1xuICAgIH1cbiAgICBnZXQgZm9udFNpemUoKSB7IHJldHVybiB0aGlzLl9mb250U2l6ZTsgfVxuICAgIHNldCBmb250U2l6ZShzaXplKSB7XG4gICAgICAgIHRoaXMuX2ZvbnRTaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5fb25DaGFuZ2UoX2ludGVyZmFjZXNfMS5TdHlsZUNoYW5nZUVudW0uRk9OVF9TSVpFKTtcbiAgICB9XG4gICAgZ2V0IHN0cm9rZVNpemUoKSB7IHJldHVybiB0aGlzLl9zdHJva2VTaXplOyB9XG4gICAgc2V0IHN0cm9rZVNpemUoc2l6ZSkge1xuICAgICAgICB0aGlzLl9zdHJva2VTaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5fb25DaGFuZ2UoX2ludGVyZmFjZXNfMS5TdHlsZUNoYW5nZUVudW0uU1RST0tFX1NJWkUpO1xuICAgIH1cbiAgICBnZXQgdGV4dEFsaWduKCkgeyByZXR1cm4gdGhpcy5fdGV4dEFsaWduOyB9XG4gICAgc2V0IHRleHRBbGlnbihhbGlnbikge1xuICAgICAgICB0aGlzLl90ZXh0QWxpZ24gPSBhbGlnbjtcbiAgICAgICAgdGhpcy5fb25DaGFuZ2UoX2ludGVyZmFjZXNfMS5TdHlsZUNoYW5nZUVudW0uVEVYVF9BTElHTik7XG4gICAgfVxuICAgIGdldCBmb250KCkge1xuICAgICAgICBpZiAodGhpcy5fZm9udCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZhcmlhbnQgPSAodGhpcy5fZm9udFZhcmlhbnQgPyB0aGlzLl9mb250VmFyaWFudCArIFwiIFwiIDogXCJcIik7XG4gICAgICAgIGxldCBzaXplID0gKHRoaXMuX2ZvbnRTaXplID8gdGhpcy5fZm9udFNpemUgKyBcInB4IFwiIDogXCJcIik7XG4gICAgICAgIHJldHVybiB2YXJpYW50ICsgc2l6ZSArIHRoaXMuX2ZvbnRGYW1pbHk7XG4gICAgfVxuICAgIHNldCBmb250KGZvbnQpIHtcbiAgICAgICAgdGhpcy5fZm9udCA9IGZvbnQ7XG4gICAgICAgIHRoaXMuX29uQ2hhbmdlKF9pbnRlcmZhY2VzXzEuU3R5bGVDaGFuZ2VFbnVtLkZPTlQpO1xuICAgIH1cbiAgICBhZGRTdHlsZUNoYW5nZUxpc3RlbmVyKGNoYW5nZVR5cGUsIGZ1bmMpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9saXN0ZW5lcnNbY2hhbmdlVHlwZV0pIHtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVyc1tjaGFuZ2VUeXBlXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCB0byB0aGUgYXJyYXkgb2YgbGlzdGVuZXJzXG4gICAgICAgIHRoaXMuX2xpc3RlbmVyc1tjaGFuZ2VUeXBlXS5wdXNoKGZ1bmMpO1xuICAgIH1cbiAgICBfb25DaGFuZ2UoY2hhbmdlVHlwZSkge1xuICAgICAgICBpZiAoIXRoaXMuX2xpc3RlbmVyc1tjaGFuZ2VUeXBlXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsaXN0ZW5lcjtcbiAgICAgICAgZm9yIChsaXN0ZW5lciBvZiB0aGlzLl9saXN0ZW5lcnNbY2hhbmdlVHlwZV0pIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0U3R5bGUoY29udGV4dCkge1xuICAgICAgICB0aGlzLl9zYXZlT2ZmT2xkU3R5bGUoY29udGV4dCk7XG4gICAgICAgIHRoaXMuX2FwcGx5U3R5bGVUb0NvbnRleHQoY29udGV4dCwgdGhpcyk7XG4gICAgfVxuICAgIHJlc3RvcmVTdHlsZShjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuX2FwcGx5U3R5bGVUb0NvbnRleHQoY29udGV4dCwgdGhpcy5fb2xkU3R5bGUpO1xuICAgIH1cbiAgICBfc2F2ZU9mZk9sZFN0eWxlKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5fb2xkU3R5bGUgPSBuZXcgQ2FudmFzRWxlbWVudFN0eWxlKCk7XG4gICAgICAgIHRoaXMuX29sZFN0eWxlLmZpbGxDb2xvciA9IGNvbnRleHQuZmlsbFN0eWxlO1xuICAgICAgICB0aGlzLl9vbGRTdHlsZS5zdHJva2VDb2xvciA9IGNvbnRleHQuc3Ryb2tlU3R5bGU7XG4gICAgICAgIHRoaXMuX29sZFN0eWxlLmZvbnQgPSBjb250ZXh0LmZvbnQ7XG4gICAgICAgIHRoaXMuX29sZFN0eWxlLnN0cm9rZVNpemUgPSBjb250ZXh0LmxpbmVXaWR0aDtcbiAgICAgICAgdGhpcy5fb2xkU3R5bGUudGV4dEFsaWduID0gY29udGV4dC50ZXh0QWxpZ247XG4gICAgfVxuICAgIF9hcHBseVN0eWxlVG9Db250ZXh0KGNvbnRleHQsIHN0eWxlKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gc3R5bGUuZmlsbENvbG9yO1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlQ29sb3I7XG4gICAgICAgIGNvbnRleHQudGV4dEFsaWduID0gc3R5bGUudGV4dEFsaWduO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSBzdHlsZS5mb250O1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVNpemU7XG4gICAgfVxufVxuZXhwb3J0cy5DYW52YXNFbGVtZW50U3R5bGUgPSBDYW52YXNFbGVtZW50U3R5bGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHJlY3RDb252ZXJzaW9uXzEgPSByZXF1aXJlKFwiLi9yZWN0Q29udmVyc2lvblwiKTtcbmNvbnN0IGVsZW1lbnRQb3NpdGlvbmluZ18xID0gcmVxdWlyZShcIi4uL2h0bWxIZWxwZXJzL2VsZW1lbnRQb3NpdGlvbmluZ1wiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9faW50ZXJmYWNlc1wiKTtcbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gT1ZFUkxBUCBGVU5DVElPTlNcbi8qKlxuICogZG9FbGVtZW50c092ZXJsYXBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDaGVja3MgaWYgdHdvIGdpdmVuIGVsZW1lbnRzIG92ZXJsYXBcbiAqXG4gKiBAcGFyYW0gXHRlbGVtMSBcdFRoZSBmaXJzdCBlbGVtZW50IHRvIGNoZWNrXG4gKiBAcGFyYW0gXHRlbGVtMiBcdFRoZSBzZWNvbmQgZWxlbWVudCB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGVsZW1lbnRzIG92ZXJsYXAsIGZhbHNlIG90aGVyd2lzZVxuICovXG5mdW5jdGlvbiBkb0VsZW1lbnRzT3ZlcmxhcChlbGVtMSwgZWxlbTIpIHtcbiAgICA7XG4gICAgbGV0IHJlY3QxO1xuICAgIGxldCByZWN0MjtcbiAgICByZWN0MSA9IGVsZW0xLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJlY3QyID0gZWxlbTIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIGRvUmVjdHNPdmVybGFwKHJlY3QxLCByZWN0Mik7XG59XG5leHBvcnRzLmRvRWxlbWVudHNPdmVybGFwID0gZG9FbGVtZW50c092ZXJsYXA7XG47XG4vKipcbiAqIGRvUmVjdHNPdmVybGFwXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ2hlY2tzIGlmIHR3byByZWN0YW5nbGVzIG92ZXJsYXAgYXQgYWxsXG4gKlxuICogQHBhcmFtIFx0cmVjdDEgXHRUaGUgZmlyc3QgcmVjdGFuZ2xlIHRvIGNoZWNrXG4gKiBAcGFyYW0gXHRyZWN0MiBcdFRoZSBzZWNvbmQgcmVjdGFuZ2xlIHRvIGNoZWNrXG4gKlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGVyZSBpcyBhbnkgb3ZlcmxhcCBiZXR3ZWVuIHRoZSByZWN0YW5nbGVzXG4gKi9cbmZ1bmN0aW9uIGRvUmVjdHNPdmVybGFwKHJlY3QxLCByZWN0Mikge1xuICAgIGxldCByMSA9IHJlY3RDb252ZXJzaW9uXzEudG9CYXNpY1JlY3QocmVjdDEpO1xuICAgIGxldCByMiA9IHJlY3RDb252ZXJzaW9uXzEudG9CYXNpY1JlY3QocmVjdDIpO1xuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuZG9SZWN0c092ZXJsYXAgPSBkb1JlY3RzT3ZlcmxhcDtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBkb0Jhc2ljUmVjdHNPdmVybGFwXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogZGV0ZWN0IGlmIHR3byByZWN0YW5nbGVzIG92ZXJsYXBcbiAqXG4gKiBAcGFyYW0gXHRyZWN0MVx0dGhlIGZpcnN0IHJlY3RhbmdsZSB0byBjb21wYXJlXG4gKiBAcGFyYW0gXHRyZWN0Mlx0dGhlIHNlY29uZCByZWN0YW5nbGUgdG8gY29tcGFyZVxuICpcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHR3byByZWN0YW5nbGVzIGRvIG92ZXJsYXBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmZ1bmN0aW9uIGRvQmFzaWNSZWN0c092ZXJsYXAocmVjdDEsIHJlY3QyKSB7XG4gICAgbGV0IHhfb3ZlcmxhcDtcbiAgICBsZXQgeV9vdmVybGFwO1xuICAgIGlmIChyZWN0MS54ID49IHJlY3QyLnggJiYgcmVjdDEueCA8PSAocmVjdDIudyArIHJlY3QyLngpKSB7XG4gICAgICAgIHhfb3ZlcmxhcCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChyZWN0Mi54ID49IHJlY3QxLnggJiYgcmVjdDIueCA8PSAocmVjdDEudyArIHJlY3QxLngpKSB7XG4gICAgICAgIHhfb3ZlcmxhcCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChyZWN0MS55ID49IHJlY3QyLnkgJiYgcmVjdDEueSA8PSAocmVjdDIuaCArIHJlY3QyLnkpKSB7XG4gICAgICAgIHlfb3ZlcmxhcCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChyZWN0Mi55ID49IHJlY3QxLnkgJiYgcmVjdDIueSA8PSAocmVjdDEuaCArIHJlY3QxLnkpKSB7XG4gICAgICAgIHlfb3ZlcmxhcCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiAoeF9vdmVybGFwICYmIHlfb3ZlcmxhcCk7XG59XG5leHBvcnRzLmRvQmFzaWNSZWN0c092ZXJsYXAgPSBkb0Jhc2ljUmVjdHNPdmVybGFwO1xuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gSU5URVJTRUNUSU9OIEZVTkNUSU9OU1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGZpbmRCYXNpY1JlY3RJbnRlcnNlY3Rpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjYWxjdWxhdGUgdGhlIG92ZXJsYXAgc2VjdGlvbiBmb3IgMiBnaXZlbiBiYXNpYyByZWN0YW5nbGVzXG4gKlxuICogQHBhcmFtIHJlY3QxIC0gdGhlIGZpcnN0IHJlY3RhbmdsZSB0byBjaGVja1xuICogQHBhcmFtIHJlY3QyIC0gdGhlIHNlY29uZCByZWN0YW5nbGUgdG8gY2hlY2tcbiAqXG4gKiBAcmV0dXJucyBUaGUgcmVjdGFuZ2xlIG9mIG92ZXJsYXBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmZ1bmN0aW9uIGZpbmRCYXNpY1JlY3RJbnRlcnNlY3Rpb24ocmVjdDEsIHJlY3QyKSB7XG4gICAgbGV0IG91dDtcbiAgICBsZXQgbWluX3ggPSBNYXRoLm1heChyZWN0MS54LCByZWN0Mi54KTtcbiAgICBsZXQgbWF4X3ggPSBNYXRoLm1pbihyZWN0MS54ICsgcmVjdDEudywgcmVjdDIueCArIHJlY3QyLncpO1xuICAgIGxldCBtaW5feSA9IE1hdGgubWF4KHJlY3QxLnksIHJlY3QyLnkpO1xuICAgIGxldCBtYXhfeSA9IE1hdGgubWluKHJlY3QxLnkgKyByZWN0MS5oLCByZWN0Mi55ICsgcmVjdDIuaCk7XG4gICAgb3V0ID0ge1xuICAgICAgICB4OiBtaW5feCxcbiAgICAgICAgeTogbWluX3ksXG4gICAgICAgIHc6IChtYXhfeCAtIG1pbl94KSxcbiAgICAgICAgaDogKG1heF95IC0gbWluX3kpXG4gICAgfTtcbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0cy5maW5kQmFzaWNSZWN0SW50ZXJzZWN0aW9uID0gZmluZEJhc2ljUmVjdEludGVyc2VjdGlvbjtcbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIFJFTEFUSVZFIFBPU0lUSU9OU1xuZnVuY3Rpb24gY29tcGFyZUxlZnRQb3NpdGlvbihlbGVtQSwgZWxlbUIpIHtcbiAgICByZXR1cm4gX2NvbXBhcmVQb3NpdGlvbihlbGVtZW50UG9zaXRpb25pbmdfMS5nbG9iYWxPZmZzZXRMZWZ0KGVsZW1BKSwgZWxlbWVudFBvc2l0aW9uaW5nXzEuZ2xvYmFsT2Zmc2V0TGVmdChlbGVtQikpO1xufVxuZXhwb3J0cy5jb21wYXJlTGVmdFBvc2l0aW9uID0gY29tcGFyZUxlZnRQb3NpdGlvbjtcbmZ1bmN0aW9uIGdldExlZnRNb3N0KC4uLmVsZW1zKSB7XG4gICAgcmV0dXJuIGVsZW1zLnNvcnQoY29tcGFyZUxlZnRQb3NpdGlvbilbMF07XG59XG5leHBvcnRzLmdldExlZnRNb3N0ID0gZ2V0TGVmdE1vc3Q7XG5mdW5jdGlvbiBjb21wYXJlUmlnaHRQb3NpdGlvbihlbGVtQSwgZWxlbUIpIHtcbiAgICByZXR1cm4gX2NvbXBhcmVQb3NpdGlvbigtMSAqIChlbGVtZW50UG9zaXRpb25pbmdfMS5nbG9iYWxPZmZzZXRMZWZ0KGVsZW1BKSArIGVsZW1BLm9mZnNldFdpZHRoKSwgLTEgKiAoZWxlbWVudFBvc2l0aW9uaW5nXzEuZ2xvYmFsT2Zmc2V0TGVmdChlbGVtQikgKyBlbGVtQi5vZmZzZXRXaWR0aCkpO1xufVxuZXhwb3J0cy5jb21wYXJlUmlnaHRQb3NpdGlvbiA9IGNvbXBhcmVSaWdodFBvc2l0aW9uO1xuZnVuY3Rpb24gZ2V0UmlnaHRNb3N0KC4uLmVsZW1zKSB7XG4gICAgcmV0dXJuIGVsZW1zLnNvcnQoY29tcGFyZVJpZ2h0UG9zaXRpb24pWzBdO1xufVxuZXhwb3J0cy5nZXRSaWdodE1vc3QgPSBnZXRSaWdodE1vc3Q7XG5mdW5jdGlvbiBjb21wYXJlVG9wUG9zaXRpb24oZWxlbUEsIGVsZW1CKSB7XG4gICAgcmV0dXJuIF9jb21wYXJlUG9zaXRpb24oZWxlbWVudFBvc2l0aW9uaW5nXzEuZ2xvYmFsT2Zmc2V0VG9wKGVsZW1BKSwgZWxlbWVudFBvc2l0aW9uaW5nXzEuZ2xvYmFsT2Zmc2V0VG9wKGVsZW1CKSk7XG59XG5leHBvcnRzLmNvbXBhcmVUb3BQb3NpdGlvbiA9IGNvbXBhcmVUb3BQb3NpdGlvbjtcbmZ1bmN0aW9uIGdldFRvcE1vc3QoLi4uZWxlbXMpIHtcbiAgICByZXR1cm4gZWxlbXMuc29ydChjb21wYXJlVG9wUG9zaXRpb24pWzBdO1xufVxuZXhwb3J0cy5nZXRUb3BNb3N0ID0gZ2V0VG9wTW9zdDtcbmZ1bmN0aW9uIGNvbXBhcmVCb3R0b21Qb3NpdGlvbihlbGVtQSwgZWxlbUIpIHtcbiAgICByZXR1cm4gX2NvbXBhcmVQb3NpdGlvbigtMSAqIChlbGVtZW50UG9zaXRpb25pbmdfMS5nbG9iYWxPZmZzZXRUb3AoZWxlbUEpICsgZWxlbUEub2Zmc2V0SGVpZ2h0KSwgLTEgKiAoZWxlbWVudFBvc2l0aW9uaW5nXzEuZ2xvYmFsT2Zmc2V0VG9wKGVsZW1CKSArIGVsZW1CLm9mZnNldEhlaWdodCkpO1xufVxuZXhwb3J0cy5jb21wYXJlQm90dG9tUG9zaXRpb24gPSBjb21wYXJlQm90dG9tUG9zaXRpb247XG5mdW5jdGlvbiBnZXRCb3R0b21Nb3N0KC4uLmVsZW1zKSB7XG4gICAgcmV0dXJuIGVsZW1zLnNvcnQoY29tcGFyZUJvdHRvbVBvc2l0aW9uKVswXTtcbn1cbmV4cG9ydHMuZ2V0Qm90dG9tTW9zdCA9IGdldEJvdHRvbU1vc3Q7XG5mdW5jdGlvbiBfY29tcGFyZVBvc2l0aW9uKHBvc0EsIHBvc0IpIHtcbiAgICBpZiAocG9zQSA8IHBvc0IpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcmZhY2VzXzEuU29ydE9yZGVyRW51bS5DT1JSRUNUX09SREVSO1xuICAgIH1cbiAgICBpZiAocG9zQSA+IHBvc0IpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcmZhY2VzXzEuU29ydE9yZGVyRW51bS5JTkNPUlJFQ1RfT1JERVI7XG4gICAgfVxuICAgIHJldHVybiBfaW50ZXJmYWNlc18xLlNvcnRPcmRlckVudW0uU0FNRTtcbn1cbi8vI2VuZHJlZ2lvblxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBpbnRlcmZhY2VHdWFyZF8xID0gcmVxdWlyZShcIi4uL3R5cGVHdWFyZHMvaW50ZXJmYWNlR3VhcmRcIik7XG4vKipcbiAqIGlzRXh0cmVtYVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY2hlY2sgaWYgdGhlIGVsZW1lbnQgaXMgYW4gSUV4dHJlbWEgaW1wbGVtZW50YXRpb25cbiAqL1xuZnVuY3Rpb24gaXNJRXh0cmVtYSh0ZXN0KSB7XG4gICAgbGV0IGV4dHJlbWEgPSB7XG4gICAgICAgIG1pbjogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgIG1heDogeyB4OiAwLCB5OiAwIH1cbiAgICB9O1xuICAgIHJldHVybiBpbnRlcmZhY2VHdWFyZF8xLmlzSW50ZXJmYWNlKHRlc3QsIGV4dHJlbWEpO1xufVxuZXhwb3J0cy5pc0lFeHRyZW1hID0gaXNJRXh0cmVtYTtcbi8qKiBjaGVjayBpZiB0aGUgZWxlbWVudCBpcyBhIGNsaWVudCByZWN0YW5nbGUgKi9cbmZ1bmN0aW9uIGlzQ2xpZW50UmVjdCh0ZXN0KSB7XG4gICAgbGV0IHJlY3QgPSB7XG4gICAgICAgIHRvcDogMSxcbiAgICAgICAgYm90dG9tOiAxLFxuICAgICAgICBsZWZ0OiAxLFxuICAgICAgICByaWdodDogMSxcbiAgICAgICAgaGVpZ2h0OiAxLFxuICAgICAgICB3aWR0aDogMSxcbiAgICB9O1xuICAgIGlmIChpbnRlcmZhY2VHdWFyZF8xLmlzSW50ZXJmYWNlKHRlc3QsIHJlY3QpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmlzQ2xpZW50UmVjdCA9IGlzQ2xpZW50UmVjdDtcbjtcbi8qKiBjaGVjayBpZiB0aGUgZWxlbWVudCBpcyBhIFNWRyByZWN0YW5nbGUgKi9cbmZ1bmN0aW9uIGlzU1ZHUmVjdCh0ZXN0KSB7XG4gICAgbGV0IHJlY3QgPSB7XG4gICAgICAgIHg6IDEsXG4gICAgICAgIHk6IDEsXG4gICAgICAgIHdpZHRoOiAxLFxuICAgICAgICBoZWlnaHQ6IDFcbiAgICB9O1xuICAgIGlmIChpbnRlcmZhY2VHdWFyZF8xLmlzSW50ZXJmYWNlKHRlc3QsIHJlY3QpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmlzU1ZHUmVjdCA9IGlzU1ZHUmVjdDtcbi8qKiBjaGVjayBpZiB0aGUgZWxlbWVudCBpcyBhIGJhc2ljIHJlY3RhbmdsZSAqL1xuZnVuY3Rpb24gaXNJQmFzaWNSZWN0KHRlc3QpIHtcbiAgICBsZXQgcmVjdCA9IHtcbiAgICAgICAgeDogMSxcbiAgICAgICAgeTogMSxcbiAgICAgICAgdzogMSxcbiAgICAgICAgaDogMVxuICAgIH07XG4gICAgaWYgKGludGVyZmFjZUd1YXJkXzEuaXNJbnRlcmZhY2UodGVzdCwgcmVjdCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuaXNJQmFzaWNSZWN0ID0gaXNJQmFzaWNSZWN0O1xuZnVuY3Rpb24gaXNJUG9pbnQodGVzdCkge1xuICAgIGxldCBwdCA9IHtcbiAgICAgICAgeDogMSxcbiAgICAgICAgeTogMSxcbiAgICAgICAgejogMFxuICAgIH07XG4gICAgcmV0dXJuIGludGVyZmFjZUd1YXJkXzEuaXNJbnRlcmZhY2UodGVzdCwgcHQpO1xufVxuZXhwb3J0cy5pc0lQb2ludCA9IGlzSVBvaW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgU29ydE9yZGVyRW51bTtcbihmdW5jdGlvbiAoU29ydE9yZGVyRW51bSkge1xuICAgIFNvcnRPcmRlckVudW1bU29ydE9yZGVyRW51bVtcIklOQ09SUkVDVF9PUkRFUlwiXSA9IDFdID0gXCJJTkNPUlJFQ1RfT1JERVJcIjtcbiAgICBTb3J0T3JkZXJFbnVtW1NvcnRPcmRlckVudW1bXCJTQU1FXCJdID0gMF0gPSBcIlNBTUVcIjtcbiAgICBTb3J0T3JkZXJFbnVtW1NvcnRPcmRlckVudW1bXCJDT1JSRUNUX09SREVSXCJdID0gLTFdID0gXCJDT1JSRUNUX09SREVSXCI7XG59KShTb3J0T3JkZXJFbnVtID0gZXhwb3J0cy5Tb3J0T3JkZXJFbnVtIHx8IChleHBvcnRzLlNvcnRPcmRlckVudW0gPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCByZWN0Q29udmVyc2lvbl8xID0gcmVxdWlyZShcIi4vcmVjdENvbnZlcnNpb25cIik7XG4vKipcbiAqIGlzV2l0aGluXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ2hlY2tzIHdoZXRoZXIgYSB2YWx1ZSBpcyB3aXRoaW4gYSBtYXgvbWluIHJhbmdlXG4gKlxuICogQHBhcmFtIFx0dmFsICAgICAgICAgICBcdFRoZSB2YWx1ZSB0byBjaGVjayBmb3IgaW5jbHVzaW9uXG4gKiBAcGFyYW0gXHRtaW4gICAgICAgICAgIFx0VGhlIG1heCB2YWx1ZVxuICogQHBhcmFtIFx0bWF4ICAgICAgICAgICBcdFRoZSBtaW4gdmFsdWVcbiAqIEBwYXJhbSBcdG5vbl9pbmNsdXNpdmUgXHRUcnVlIGlmIHdlIHNob3VsZG4ndCBpbmNsdWRlIHRoZSBlbmQgcG9pbnRzXG4gKlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgY29udGFpbmVkIGluIHRoZSByYW5nZVxuICovXG5mdW5jdGlvbiBpc1dpdGhpbih2YWwsIG1pbiwgbWF4LCBub25faW5jbHVzaXZlKSB7XG4gICAgO1xuICAgIGlmIChub25faW5jbHVzaXZlKVxuICAgICAgICByZXR1cm4gKHZhbCA8IG1heCAmJiB2YWwgPiBtaW4pO1xuICAgIHJldHVybiAodmFsIDw9IG1heCAmJiB2YWwgPj0gbWluKTtcbn1cbmV4cG9ydHMuaXNXaXRoaW4gPSBpc1dpdGhpbjtcbi8qKlxuICogaXNQb2ludENvbnRhaW5lZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERldGVybWluZXMgd2hldGhlciBhIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gYSBwYXJ0aWN1bGFyIHJlY3RhbmdsZVxuICpcbiAqIEBwYXJhbSBcdHB0IFx0XHRUaGUgcG9pbnQgdG8gY2hlY2sgZm9yIGNvbnRhaW5tZW50XG4gKiBAcGFyYW0gXHRyZWN0IFx0VGhlIHJlY3RhbmdsZSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHBvaW50IGlzIGNvbnRhaW5lZCBpbiB0aGUgcmVjdGFuZ2xlXG4gKi9cbmZ1bmN0aW9uIGlzUG9pbnRDb250YWluZWQocHQsIHJlY3QpIHtcbiAgICA7XG4gICAgbGV0IHIgPSByZWN0Q29udmVyc2lvbl8xLnRvQmFzaWNSZWN0KHJlY3QpO1xuICAgIGlmIChwdC54IDwgci54KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHB0LnggPiAoci54ICsgci53KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChwdC55IDwgci55KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHB0LnkgPiByLnkgKyByLmgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydHMuaXNQb2ludENvbnRhaW5lZCA9IGlzUG9pbnRDb250YWluZWQ7XG4vKipcbiAqIGlzUmVjdENvbnRhaW5lZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ2hlY2tzIHdoZXRoZXIgYSBjbGllbnQgcmVjdCBpcyBlbnRpcmVseSBjb250YWluZWQgd2l0aGluIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0gXHRyZWN0ICAgICAgXHRUaGUgZWxlbWVudCB0byBjaGVjayBmb3IgY29udGFpbmVtZW50XG4gKiBAcGFyYW0gXHRjb250YWluZXIgXHRUaGUgZWxlbWVudCB0byBjaGVjayBpZiB0aGUgcmVjdCBpcyBjb250YWluZWQgd2l0aGluXG4gKlxuICogQHJldHVybnMgVHJ1ZSBpZiByZWN0IGlzIGNvbXBsZXRlbHkgY29udGFpbmVkIGJ5IGNvbnRhaW5lclxuICovXG5mdW5jdGlvbiBpc1JlY3RDb250YWluZWQocmVjdCwgY29udGFpbmVyKSB7XG4gICAgbGV0IHI7XG4gICAgbGV0IGM7XG4gICAgLy8gQ29udmVydCB0aGUgZmlyc3QgcmVjdCB0byBhIGJhc2ljIHJlY3RcbiAgICByID0gcmVjdENvbnZlcnNpb25fMS50b0Jhc2ljUmVjdChyZWN0KTtcbiAgICAvLyBDb252ZXJ0IHRoZSBzZWNvbmQgcmVjdCB0byBhIGJhc2ljIHJlY3RcbiAgICBjID0gcmVjdENvbnZlcnNpb25fMS50b0Jhc2ljUmVjdChjb250YWluZXIpO1xuICAgIC8vIFRvbyBmYXIgbGVmdFxuICAgIGlmIChyLnggPCBjLngpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBUb28gZmFyIHJpZ2h0XG4gICAgaWYgKChyLnggKyByLncpID4gKGMudyArIGMueCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBUb28gZmFyIHVwXG4gICAgaWYgKHIueSA8IGMueSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIFRvbyBmYXIgZG93blxuICAgIGlmICgoci55ICsgci5oKSA+IChjLmggKyBjLnkpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gSnVzdCByaWdodFxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy5pc1JlY3RDb250YWluZWQgPSBpc1JlY3RDb250YWluZWQ7XG4vKipcbiAqIGlzRWxlbWVudENvbnRhaW5lZFxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAqIENoZWNrcyBpZiBhbiBlbGVtZW50IGlzIGNvbXBsZXRlbHkgY29udGFpbmVkIGJ5IGFub3RoZXIgZWxlbWVudFxuICAgICpcbiAgICAqIEBwYXJhbSBcdGVsZW0gICAgICBcdFRoZSBlbGVtZW50IHRvIGNoZWNrIGZvciBjb250YWlubWVudFxuICAgICogQHBhcmFtIFx0Y29udGFpbmVyIFx0VGhlIGVsZW1lbnQgdG8gY2hlY2sgaWYgaXQgY29udGFpbnMgdGhlIG90aGVyIGVsZW1cbiAgICAqXG4gICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBlbGVtZW50IGlzIGNvbXBsZXRlbHkgY29udGFpbmVkXG4gICAgKi9cbmZ1bmN0aW9uIGlzRWxlbWVudENvbnRhaW5lZChlbGVtLCBjb250YWluZXIpIHtcbiAgICBsZXQgcmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IGJvdW5kcyA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIGlzUmVjdENvbnRhaW5lZChyZWN0LCBib3VuZHMpO1xufVxuZXhwb3J0cy5pc0VsZW1lbnRDb250YWluZWQgPSBpc0VsZW1lbnRDb250YWluZWQ7XG47XG4vKipcbiAqIGlzU2hhcGVDb250YWluZWRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDaGVja3MgaWYgYSBnaXZlbiBzaGFwZSBpcyBjb250YWluZWQgd2l0aGluIGEgZ2l2ZW4gYm91bmRpbmcgYm94XG4gKlxuICogQHBhcmFtIFx0c2hhcGUgXHRUaGUgY29sbGVjdGlvbiBvZiBwb2ludHMgdG8gY2hlY2tcbiAqIEBwYXJhbSBcdGJvdW5kcyBcdFRoZSBib3VuZGluZyBib3ggdG8gYmUgd2l0aGluXG4gKlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgc2hhcGUgaXMgY29tcGxldGVseSBjb250YWluZWQgaW4gdGhlIGJvdW5kaW5nIGJveFxuICovXG5mdW5jdGlvbiBpc1NoYXBlQ29udGFpbmVkKHNoYXBlLCBib3VuZHMpIHtcbiAgICBsZXQgcHQ7XG4gICAgZm9yIChwdCBvZiBzaGFwZSkge1xuICAgICAgICBpZiAoIWlzUG9pbnRDb250YWluZWQocHQsIGJvdW5kcykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydHMuaXNTaGFwZUNvbnRhaW5lZCA9IGlzU2hhcGVDb250YWluZWQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0TGlua2VkTm9vZGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGtlZXAgdHJhY2sgb2YgZGF0YSBpbiBhIHNpbmdsZSBlbnRyeSBpbiBhIGxpbmtlZCBsaXN0XG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uXHQxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBMaW5rZWROb2RlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBUSEUgTk9ERVxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbmV4dCA9IG51bGw7XG4gICAgfVxuICAgIGdldCBkYXRhKCkgeyByZXR1cm4gdGhpcy5fZGF0YTsgfVxuICAgIHNldCBkYXRhKGRhdGEpIHsgdGhpcy5fZGF0YSA9IGRhdGE7IH1cbiAgICBnZXQgbmV4dCgpIHsgcmV0dXJuIHRoaXMuX25leHQ7IH1cbiAgICBzZXQgbmV4dChkYXRhKSB7IHRoaXMuX25leHQgPSBkYXRhOyB9XG4gICAgZ2V0IHByZXZpb3VzKCkgeyByZXR1cm4gdGhpcy5fcHJldmlvdXM7IH1cbiAgICBzZXQgcHJldmlvdXMoZGF0YSkgeyB0aGlzLl9wcmV2aW91cyA9IGRhdGE7IH1cbn1cbmV4cG9ydHMuTGlua2VkTm9kZSA9IExpbmtlZE5vZGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbXBhcmFibGVfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21wYXJhYmxlL2NvbXBhcmFibGVcIik7XG5jb25zdCB0cmVlXzEgPSByZXF1aXJlKFwiLi90cmVlXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRCaW5hcnlUcmVlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGUgYSB2ZXJzaW9uIG9mIGEgYmluYXJ5IHRyZWUgdGhhdCBjYW4gYmUgdmVyeSB1bmJhbGFuY2VkLCBidXQgd2lsbCBiZVxuICogYSBiaW5hcnkgdHJlZSAoYWxsIGxlZnQgbm9kZXMgYXJlIGxlc3MgdGhhbiB0aGUgcGFyZW50IG5vZGU7IGFsbCByaWdodCBub2Rlc1xuICogYXJlIGdyZWF0ZXIgdGhhbiB0aGUgcGFyZW50IG5vZGUpXG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uXHQxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBCaW5hcnlUcmVlIGV4dGVuZHMgdHJlZV8xLlRyZWUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICBzdXBlcihkYXRhKTtcbiAgICAgICAgdGhpcy5fY291bnQgPSAxO1xuICAgIH1cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBBRERJTkcgTkVXIE5PREVTXG4gICAgYWRkKHZhbHVlKSB7XG4gICAgICAgIGxldCBjb21wYXJlUmVzdWx0ID0gdGhpcy5fY29tcGFyZSh2YWx1ZSk7XG4gICAgICAgIHN3aXRjaCAoY29tcGFyZVJlc3VsdCkge1xuICAgICAgICAgICAgY2FzZSBDb21wYXJlUmVzdWx0LkVRVUFMOlxuICAgICAgICAgICAgICAgIHRoaXMuX2NvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbXBhcmVSZXN1bHQuTEVTU19USEFOOlxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZFRvU3ViVHJlZShcImxlZnRcIiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb21wYXJlUmVzdWx0LkdSRUFURVJfVEhBTjpcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRUb1N1YlRyZWUoXCJyaWdodFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2FkZFRvU3ViVHJlZSh0eXBlLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuX3N1YlRyZWVzW3R5cGVdKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJUcmVlc1t0eXBlXSA9IHRoaXMuX2NyZWF0ZVN1YlRyZWUodmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5fc3ViVHJlZXNbdHlwZV0uX3BhcmVudCA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3ViVHJlZXNbdHlwZV0uYWRkKHZhbHVlKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBSRU1PVklORyBOT0RFU1xuICAgIHJlbW92ZSh2YWx1ZSkge1xuICAgICAgICBsZXQgY29tcGFyZVJlc3VsdCA9IHRoaXMuX2NvbXBhcmUodmFsdWUpO1xuICAgICAgICBzd2l0Y2ggKGNvbXBhcmVSZXN1bHQpIHtcbiAgICAgICAgICAgIGNhc2UgQ29tcGFyZVJlc3VsdC5FUVVBTDpcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVNZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb21wYXJlUmVzdWx0LkxFU1NfVEhBTjpcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVGcm9tU3ViVHJlZShcImxlZnRcIiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb21wYXJlUmVzdWx0LkdSRUFURVJfVEhBTjpcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVGcm9tU3ViVHJlZShcInJpZ2h0XCIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmVtb3ZlTWUoKSB7XG4gICAgICAgIGxldCBzaWRlT2ZQYXJlbnQgPSB0aGlzLl9nZXRSZWxhdGlvblRvUGFyZW50KCk7XG4gICAgICAgIGlmICghc2lkZU9mUGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlTWVBc1RvcE5vZGUoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGVyZSBpcyBsaWtlbHkgYSBiZXR0ZXIgd2F5IHRvIGRvIHRoaXMsIGJ1dCBiZWNhdXNlIFxuICAgICAgICAvLyB3ZSBhbHJlYWR5IGtub3cgdGhhdCB0aGUgYWRkIGZ1bmN0aW9uIHdvcmtzIGFzIGFwcHJvcHJpYXRlLCBcbiAgICAgICAgLy8gaXQncyBwcm9iYWJseSBmaW5lIHRvIGp1c3QgcmVhZGQgdGhlIGNoaWxkcmVuIG9mIHRoaXMgbm9kZVxuICAgICAgICBkZWxldGUgdGhpcy5fcGFyZW50W3NpZGVPZlBhcmVudF07XG4gICAgICAgIC8vIFRPRE86IGZpbmlzaFxuICAgIH1cbiAgICBfcmVtb3ZlTWVBc1RvcE5vZGUoKSB7XG4gICAgfVxuICAgIF9yZW1vdmVGcm9tU3ViVHJlZSh0eXBlLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuX3N1YlRyZWVzW3R5cGVdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3ViVHJlZXNbdHlwZV0ucmVtb3ZlKHZhbHVlKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBFWElTVEVOQ0UgQ0hFQ0tTXG4gICAgZXhpc3RzKHZhbHVlKSB7XG4gICAgICAgIGxldCBjb21wYXJlUmVzdWx0ID0gdGhpcy5fY29tcGFyZSh2YWx1ZSk7XG4gICAgICAgIHN3aXRjaCAoY29tcGFyZVJlc3VsdCkge1xuICAgICAgICAgICAgY2FzZSBDb21wYXJlUmVzdWx0LkVRVUFMOlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY2FzZSBDb21wYXJlUmVzdWx0LkxFU1NfVEhBTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tTdWJUcmVlRXhpc3RzKFwibGVmdFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlIENvbXBhcmVSZXN1bHQuR1JFQVRFUl9USEFOOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGVja1N1YlRyZWVFeGlzdHMoXCJyaWdodFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY2hlY2tTdWJUcmVlRXhpc3RzKHR5cGUsIHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5fc3ViVHJlZXNbdHlwZV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3ViVHJlZXNbdHlwZV0uZXhpc3RzKHZhbHVlKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBGSU5ESU5HIEVYVFJFTUFcbiAgICBtYXgoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdWJUcmVlcy5yaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YlRyZWVzLnJpZ2h0Lm1heCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgIH1cbiAgICBtaW4oKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdWJUcmVlcy5sZWZ0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3ViVHJlZXMubGVmdC5taW4oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDT01QQVJJU09OIEhFTFBFUlNcbiAgICBfY29tcGFyZSh2YWx1ZSkge1xuICAgICAgICBpZiAoY29tcGFyYWJsZV8xLmlzQ29tcGFyYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb21wYXJlT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb21wYXJlUHJpbWl0aXZlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY29tcGFyZU9iamVjdCh2YWx1ZSkge1xuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29tcGFyZVJlc3VsdC5FUlI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG15VmFsdWUgPSB0aGlzLl9kYXRhO1xuICAgICAgICBpZiAoIW15VmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBDb21wYXJlUmVzdWx0LkVSUjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUuZXF1YWxzKG15VmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29tcGFyZVJlc3VsdC5FUVVBTDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZS5sZXNzVGhhbihteVZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIENvbXBhcmVSZXN1bHQuTEVTU19USEFOO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlLmdyZWF0ZXJUaGFuKG15VmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29tcGFyZVJlc3VsdC5HUkVBVEVSX1RIQU47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENvbXBhcmVSZXN1bHQuRVJSO1xuICAgIH1cbiAgICBfY29tcGFyZVByaW1pdGl2ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPCB0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29tcGFyZVJlc3VsdC5MRVNTX1RIQU47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID4gdGhpcy5fZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIENvbXBhcmVSZXN1bHQuR1JFQVRFUl9USEFOO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDb21wYXJlUmVzdWx0LkVRVUFMO1xuICAgIH1cbiAgICBfZ2V0UmVsYXRpb25Ub1BhcmVudCgpIHtcbiAgICAgICAgbGV0IGNvbXBhcmVkVG9QYXJlbnQgPSBDb21wYXJlUmVzdWx0LkVSUjtcbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudCkge1xuICAgICAgICAgICAgY29tcGFyZWRUb1BhcmVudCA9IHRoaXMuX2NvbXBhcmUodGhpcy5fcGFyZW50Ll9kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGNvbXBhcmVkVG9QYXJlbnQpIHtcbiAgICAgICAgICAgIGNhc2UgQ29tcGFyZVJlc3VsdC5MRVNTX1RIQU46IHJldHVybiBcInJpZ2h0XCI7XG4gICAgICAgICAgICBjYXNlIENvbXBhcmVSZXN1bHQuR1JFQVRFUl9USEFOOiByZXR1cm4gXCJsZWZ0XCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSURFTlRJVFkgRlVOQ1RJT05TXG4gICAgaXNDb21wbGV0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zdWJUcmVlcy5sZWZ0ICYmICF0aGlzLl9zdWJUcmVlcy5yaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9zdWJUcmVlcy5sZWZ0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9zdWJUcmVlcy5yaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fc3ViVHJlZXMubGVmdC5pc0NvbXBsZXRlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3N1YlRyZWVzLnJpZ2h0LmlzQ29tcGxldGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpc0JhbGFuY2VkKCkge1xuICAgICAgICBsZXQgbGVmdERlcHRoID0gdGhpcy5fZ2V0U2lkZURlcHRoKFwibGVmdFwiKTtcbiAgICAgICAgbGV0IHJpZ2h0RGVwdGggPSB0aGlzLl9nZXRTaWRlRGVwdGgoXCJyaWdodFwiKTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGxlZnREZXB0aCAtIHJpZ2h0RGVwdGgpID4gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faXNTdWJUcmVlQmFsYW5jZWQoXCJsZWZ0XCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9pc1N1YlRyZWVCYWxhbmNlZChcInJpZ2h0XCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF9pc1N1YlRyZWVCYWxhbmNlZCh0eXBlKSB7XG4gICAgICAgIGlmICghdGhpcy5fc3ViVHJlZXNbdHlwZV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdWJUcmVlc1t0eXBlXS5pc0JhbGFuY2VkKCk7XG4gICAgfVxuICAgIF9nZXRTaWRlRGVwdGgodHlwZSkge1xuICAgICAgICBpZiAoIXRoaXMuX3N1YlRyZWVzW3R5cGVdKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3ViVHJlZXNbdHlwZV0uZ2V0RGVwdGgoKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBGQUNUT1JZIEZVTkNUSU9OU1xuICAgIF9jcmVhdGVTdWJUcmVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmluYXJ5VHJlZSh2YWx1ZSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gT1ZFUlJJREVTXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCBzdWJUcmVlcyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5fc3ViVHJlZXMubGVmdCkge1xuICAgICAgICAgICAgc3ViVHJlZXMucHVzaCh0aGlzLl9zdWJUcmVlcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc3ViVHJlZXMucmlnaHQpIHtcbiAgICAgICAgICAgIHN1YlRyZWVzLnB1c2godGhpcy5fc3ViVHJlZXMucmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhcnIgPSBbXTtcbiAgICAgICAgYXJyLnB1c2godGhpcy5fZGF0YSk7XG4gICAgICAgIGlmIChzdWJUcmVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhcnIucHVzaChcIi0+KFwiKTtcbiAgICAgICAgICAgIGFyci5wdXNoKHN1YlRyZWVzLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgICAgIGFyci5wdXNoKFwiKVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyLmpvaW4oXCJcIik7XG4gICAgfVxufVxuZXhwb3J0cy5CaW5hcnlUcmVlID0gQmluYXJ5VHJlZTtcbnZhciBDb21wYXJlUmVzdWx0O1xuKGZ1bmN0aW9uIChDb21wYXJlUmVzdWx0KSB7XG4gICAgQ29tcGFyZVJlc3VsdFtDb21wYXJlUmVzdWx0W1wiRVJSXCJdID0gMF0gPSBcIkVSUlwiO1xuICAgIENvbXBhcmVSZXN1bHRbQ29tcGFyZVJlc3VsdFtcIkxFU1NfVEhBTlwiXSA9IDFdID0gXCJMRVNTX1RIQU5cIjtcbiAgICBDb21wYXJlUmVzdWx0W0NvbXBhcmVSZXN1bHRbXCJFUVVBTFwiXSA9IDJdID0gXCJFUVVBTFwiO1xuICAgIENvbXBhcmVSZXN1bHRbQ29tcGFyZVJlc3VsdFtcIkdSRUFURVJfVEhBTlwiXSA9IDNdID0gXCJHUkVBVEVSX1RIQU5cIjtcbn0pKENvbXBhcmVSZXN1bHQgPSBleHBvcnRzLkNvbXBhcmVSZXN1bHQgfHwgKGV4cG9ydHMuQ29tcGFyZVJlc3VsdCA9IHt9KSk7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRyYWdnYWJsZV8xID0gcmVxdWlyZShcIi4vZHJhZ2dhYmxlXCIpO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL2Nzc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIENsYXNzaWNEcmFnZ2FibGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhIGRyYWdnYWJsZSB0aGF0IGxpc3RlbnMgdG8gc3RhbmRhcmQgbW91c2UgZXZlbnRzIHRvIGJlIGFibGUgdG9cbiAqIGFjY29tbW9kYXRlIGRyYWcgYW5kIGRyb3BcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQ2xhc3NpY0RyYWdnYWJsZSBleHRlbmRzIGRyYWdnYWJsZV8xLkdlbmVyaWNEcmFnZ2FibGUge1xuICAgIC8qKlxuICAgICAqIF9jcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiAoRG9lcyBub3RoaW5nOyBjYW4gYmUgb3ZlcmlkZGVuIGJ5IGNoaWxkIGNsYXNzZXMpXG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImRyYWdnYWJsZVwiKTtcbiAgICAgICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fYWRkRHJhZ2dpbmdTaWduaWZpZXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uRHJvcFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBEZWZhbHV0IGJlaGF2aW9yIGZvciBhIGRyYWdnYWJsZSBpcyB0byBhdHRhY2ggdG8gdGhlIGFzc29jaWF0ZWQgdGFyZ2V0XG4gICAgICogQHBhcmFtICAgZXZlbnQgICBUaGUgbW91c2UgZXZlbnQgdHJpZ2dlcmluZyB0aGUgZHJvcFxuICAgICAqL1xuICAgIF9vbkRyb3AoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0RyYWdnaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuX29uRHJvcChldmVudCk7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgc3R5bGUgb2YgdGhlIGVsZW1lbnRcbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJkcmFnZ2luZ1wiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2FkZEV2ZW50TGlzdGVuZXJzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFkZCBhbnkgZXZlbnQgbGlzdGVuZXJzIG5lZWRlZCBmb3IgdGhpcyBjbGFzc2ljIGRyYWdnYWJsZVxuICAgICAqL1xuICAgIF9hZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoKGUudGFyZ2V0ICE9PSB0aGlzLl9lbGVtcy5iYXNlKSAmJlxuICAgICAgICAgICAgICAgIChlLnRhcmdldCAhPT0gdGhpcy5fc2lnbmlmaWVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX29uRHJhZ1N0YXJ0KGUpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uTW92ZShlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25Ecm9wKGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgLy90aGlzLl9vbkRyb3AoZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRHJhZ2dhYmxlVGFyZ2V0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSBhIHRhcmdldCBlbGVtZW50IGZvciB0aGlzIGRyYWdnYWJsZVxuICAgICAqIEBwYXJhbSAgIHRhcmdldCAgVGhlIGVsZW1lbnQgdG8gbGluayB0byB0aGUgY3JlYXRlZCB0YXJnZXRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIHRhcmdldFxuICAgICAqL1xuICAgIF9jcmVhdGVEcmFnZ2FibGVUYXJnZXQodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2xhc3NpY0RyYWdnYWJsZVRhcmdldCh0YXJnZXQpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2xhc3NpY0RyYWdnYWJsZSA9IENsYXNzaWNEcmFnZ2FibGU7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBDbGFzc2ljRHJhZ2dhYmxlVGFyZ2V0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGVzIGEgdGFyZ2V0IHRoYXQgY2FuIHJlY2VpdmUgY2xhc3NpYyBkcmFnZ2FibGUgZXZlbnRzXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIENsYXNzaWNEcmFnZ2FibGVUYXJnZXQgZXh0ZW5kcyBkcmFnZ2FibGVfMS5EcmFnZ2FibGVUYXJnZXQge1xuICAgIC8qKlxuICAgICAqIF9hZGRFdmVudExpc3RlbmVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSB0YXJnZXRcbiAgICAgKi9cbiAgICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGlmICghZHJhZ2dhYmxlXzEuR2VuZXJpY0RyYWdnYWJsZS5jdXJyZW50RHJhZ2dhYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fb25Ecm9wKGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkRyYWdFbnRlcihlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkRyYWdMZWF2ZShlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5DbGFzc2ljRHJhZ2dhYmxlVGFyZ2V0ID0gQ2xhc3NpY0RyYWdnYWJsZVRhcmdldDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2xhc3NpY0RyYWdnYWJsZV8xID0gcmVxdWlyZShcIi4vY2xhc3NpY0RyYWdnYWJsZVwiKTtcbmNvbnN0IGh0bWw1RHJhZ2dhYmxlXzEgPSByZXF1aXJlKFwiLi9odG1sNURyYWdnYWJsZVwiKTtcbi8vIFRPRE86IGZpbmlzaCBtYXBwaW5nIG92ZXIgZnJvbSB0aGUgb2xkIG1ha2UgZHJhZ2dhYmxlIGZ1bmN0aW9uXG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBFeGlzdGluZ0NsYXNzaWNEcmFnZ2FibGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhIGRyYWdnYWJsZSBvdXQgb2YgYW4gYWxyZWFkeS1leGlzdGluZyBlbGVtZW50XG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuNS4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIEV4aXN0aW5nQ2xhc3NpY0RyYWdnYWJsZSBleHRlbmRzIGNsYXNzaWNEcmFnZ2FibGVfMS5DbGFzc2ljRHJhZ2dhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8qKlxuICAgICAqIEV4aXN0aW5nQ2xhc3NpY0RyYWdnYWJsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBUdXJuIGFuIGV4aXN0aW5nIGVsZW1lbnQgaW50byBhIGRyYWdnYWJsZSB0aGF0IHN1cHBvcnRzIGNsYXNzaWMgbW91c2UgZXZlbnRzXG4gICAgICogQHBhcmFtICAgZWxlbSAgICAgICAgVGhlIGVsZW1lbnQgdG8gdXNlIGZvciB0aGlzIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gICB0YXJnZXQgICAgICBUaGUgdGFyZ2V0IGZvciB0aGUgZWxlbWVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsZW0sIHRhcmdldCkge1xuICAgICAgICBzdXBlcihudWxsLCB0YXJnZXQpO1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlID0gZWxlbTtcbiAgICAgICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgb3ZlcnJpZGVGdW5jdGlvbnMoaGFuZGxlcnMpIHtcbiAgICAgICAgaWYgKGhhbmRsZXJzLm9uTW92ZSkge1xuICAgICAgICAgICAgdGhpcy5fb3ZlcnJpZGVGdW5jdGlvbnMubW92ZSA9IGhhbmRsZXJzLm9uTW92ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfb25Nb3ZlKGV2ZW50KSB7XG4gICAgICAgIHN1cGVyLl9vbk1vdmUoZXZlbnQpO1xuICAgICAgICBpZiAoIXRoaXMuX292ZXJyaWRlRnVuY3Rpb25zLm1vdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGVsdGEgPSB0aGlzLl9jYWxjdWxhdGVEZWx0YSgpO1xuICAgICAgICB0aGlzLl9vdmVycmlkZUZ1bmN0aW9ucy5tb3ZlKGRlbHRhKTtcbiAgICB9XG59XG5leHBvcnRzLkV4aXN0aW5nQ2xhc3NpY0RyYWdnYWJsZSA9IEV4aXN0aW5nQ2xhc3NpY0RyYWdnYWJsZTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIEV4aXN0aW5nSFRNTDVEcmFnZ2FibGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhIGRyYWdnYWJsZSB0aGF0IHVzZXMgSFRNTDUgZWxlbWVudHMgb3V0IG9mIGFuIGFscmVhZHkgZXhpc3RpbmdcbiAqIGVsZW1lbnRcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS41LjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgRXhpc3RpbmdIVE1MNURyYWdnYWJsZSBleHRlbmRzIGh0bWw1RHJhZ2dhYmxlXzEuSFRNTDVEcmFnZ2FibGUge1xuICAgIC8qKlxuICAgICAqIEV4aXN0aW5nSFRNTDVEcmFnZ2FibGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogVHVybiBhbiBleGlzdGluZyBlbGVtZW50IGludG8gYSBkcmFnZ2FibGUgdGhhdCBzdXBwb3J0cyBIVE1MNSBldmVudHNcbiAgICAgKiBAcGFyYW0gICBlbGVtICAgICAgICBUaGUgZWxlbWVudCB0byB1c2UgZm9yIHRoaXMgZWxlbWVudFxuICAgICAqIEBwYXJhbSAgIHRhcmdldCAgICAgIFRoZSB0YXJnZXQgZm9yIHRoZSBlbGVtZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWxlbSwgdGFyZ2V0KSB7XG4gICAgICAgIHN1cGVyKG51bGwsIHRhcmdldCk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UgPSBlbGVtO1xuICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuICAgIH1cbiAgICBvdmVycmlkZUZ1bmN0aW9ucyhoYW5kbGVycykge1xuICAgICAgICBpZiAoaGFuZGxlcnMub25Nb3ZlKSB7XG4gICAgICAgICAgICB0aGlzLl9vdmVycmlkZUZ1bmN0aW9ucy5tb3ZlID0gaGFuZGxlcnMub25Nb3ZlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9vbk1vdmUoZXZlbnQpIHtcbiAgICAgICAgc3VwZXIuX29uTW92ZShldmVudCk7XG4gICAgICAgIGlmICghdGhpcy5fb3ZlcnJpZGVGdW5jdGlvbnMubW92ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkZWx0YSA9IHRoaXMuX2NhbGN1bGF0ZURlbHRhKCk7XG4gICAgICAgIHRoaXMuX292ZXJyaWRlRnVuY3Rpb25zLm1vdmUoZGVsdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuRXhpc3RpbmdIVE1MNURyYWdnYWJsZSA9IEV4aXN0aW5nSFRNTDVEcmFnZ2FibGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRyYWdnYWJsZV8xID0gcmVxdWlyZShcIi4vZHJhZ2dhYmxlXCIpO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL2Nzc1wiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgSFRNTDVEcmFnZ2FibGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFVzZSBIVE1MNSBkcmFnIGV2ZW50cyB0byBhbGxvdyBmb3IgZHJhZ2dpbmdcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgSFRNTDVEcmFnZ2FibGUgZXh0ZW5kcyBkcmFnZ2FibGVfMS5HZW5lcmljRHJhZ2dhYmxlIHtcbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQXBwbGllcyB0aGUgZHJhZ2dhYmxlIGF0dHJpYnV0ZSB0byB0aGUgYXNzb2NpYXRlZCBlbGVtZW50c1xuICAgICAqL1xuICAgIF9jcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5zZXRBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIiwgXCJ0cnVlXCIpO1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImRyYWdnYWJsZVwiKTtcbiAgICAgICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmxhbmsgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICB0eXBlOiBcImNhbnZhc1wiLFxuICAgICAgICAgICAgYXR0cjoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjFweFwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogJzFweFwiJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsczogXCJibGFua1wiLFxuICAgICAgICAgICAgcGFyZW50OiBkb2N1bWVudC5ib2R5XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRHJhZ2dhYmxlVGFyZ2V0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGFyZ2V0IGZvciB0aGlzIGRyYWdnYWJsZVxuICAgICAqIEBwYXJhbSAgIGVsZW0gICAgVGhlIGVsZW1lbnQgdG8gYXNzb2NpYXRlIHdpdGggdGhlIHRhcmdldFxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGNyZWF0ZWQgZHJhZ2dhYmxlIHRhcmdldFxuICAgICAqL1xuICAgIF9jcmVhdGVEcmFnZ2FibGVUYXJnZXQoZWxlbSkge1xuICAgICAgICByZXR1cm4gbmV3IEhUTUw1RHJhZ1RhcmdldChlbGVtKTtcbiAgICB9XG4gICAgX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLmJhc2UuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLCAoZSkgPT4geyB0aGlzLl9vbkRyYWdTdGFydChlKTsgfSk7XG4gICAgICAgIHRoaXMuYmFzZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnJywgKGUpID0+IHsgdGhpcy5fb25Nb3ZlKGUpOyB9KTtcbiAgICAgICAgdGhpcy5iYXNlLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZW5kXCIsIChlKSA9PiB7IHRoaXMuX29uRHJvcChlKTsgfSk7XG4gICAgfVxuICAgIF9vbkRyYWdTdGFydChldmVudCkge1xuICAgICAgICBzdXBlci5fb25EcmFnU3RhcnQoZXZlbnQpO1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKHRoaXMuX2VsZW1zLmJsYW5rLCAwLCAwKTtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBlbGVtZW50IHRvIGJlIGxvdyBvcGFjaXR5XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiZHJhZ2dpbmdcIik7XG4gICAgICAgIH0sIDUwKTtcbiAgICB9XG4gICAgX29uTW92ZShldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuYnV0dG9ucyA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLl9vbk1vdmUoZXZlbnQpO1xuICAgIH1cbiAgICBfb25Ecm9wKGV2ZW50KSB7XG4gICAgICAgIHN1cGVyLl9vbkRyb3AoZXZlbnQpO1xuICAgICAgICAvLyB1cGRhdGUgdGhlIHN0eWxlIG9mIHRoZSBlbGVtZW50XG4gICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiZHJhZ2dpbmdcIik7XG4gICAgfVxufVxuZXhwb3J0cy5IVE1MNURyYWdnYWJsZSA9IEhUTUw1RHJhZ2dhYmxlO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgSFRNTDVEcmFnVGFyZ2V0XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBVc2UgSFRNTDUgZHJhZyBldmVudHMgdG8gYWxsb3cgZm9yXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIEhUTUw1RHJhZ1RhcmdldCBleHRlbmRzIGRyYWdnYWJsZV8xLkRyYWdnYWJsZVRhcmdldCB7XG4gICAgX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLmJhc2UuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIChlKSA9PiB7IHRoaXMuX29uRHJhZ0VudGVyKGUpOyB9KTtcbiAgICAgICAgdGhpcy5iYXNlLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZXhpdFwiLCAoZSkgPT4geyB0aGlzLl9vbkRyYWdMZWF2ZShlKTsgfSk7XG4gICAgICAgIHRoaXMuYmFzZS5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCAoZSkgPT4geyB0aGlzLl9vbkRyb3AoZSk7IH0pO1xuICAgIH1cbiAgICBfb25EcmFnRW50ZXIoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgc3VwZXIuX29uRHJhZ0VudGVyKGV2ZW50KTtcbiAgICB9XG4gICAgX29uRHJvcChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBzdXBlci5fb25Ecm9wKGV2ZW50KTtcbiAgICB9XG4gICAgX29uRHJhZ0xlYXZlKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHN1cGVyLl9vbkRyYWdMZWF2ZShldmVudCk7XG4gICAgfVxufVxuZXhwb3J0cy5IVE1MNURyYWdUYXJnZXQgPSBIVE1MNURyYWdUYXJnZXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZHJhd2FibGVfMSA9IHJlcXVpcmUoXCIuLi9kcmF3YWJsZS9kcmF3YWJsZVwiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL2Nzc1wiKTtcbmNvbnN0IGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vYXN5bmNcIik7XG5jb25zdCB0cmFuc2l0aW9uXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL3RyYW5zaXRpb25cIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgRHluYW1pY09wdGlvblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlIGFuIG9wdGlvbiBmb3IgYSBkeW5hbWljIHNlbGVjdCBmaWVsZFxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBEeW5hbWljT3B0aW9uIGV4dGVuZHMgZHJhd2FibGVfMS5EcmF3YWJsZSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi5cbiAgICAvKipcbiAgICAgKiBEeW5hbWljT3B0aW9uXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSB0aGUgZHluYW1pYyBvcHRpb25cbiAgICAgKiBAcGFyYW0gICBvcHQgICAgIERldGFpbHMgb2YgdGhlIG9wdGlvbiB3ZSBhcmUgY3JlYXRpbmdcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHQsIHBhcmVudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9pZCA9IG9wdC5pZDtcbiAgICAgICAgdGhpcy5fZGlzcGxheSA9IG9wdC5kaXNwbGF5O1xuICAgICAgICB0aGlzLl9zZWxlY3RQYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUVsZW1lbnRzKCk7XG4gICAgfVxuICAgIGdldCBpZCgpIHsgcmV0dXJuIHRoaXMuX2lkOyB9XG4gICAgZ2V0IGRpc3BsYXkoKSB7IHJldHVybiB0aGlzLl9kaXNwbGF5OyB9XG4gICAgZ2V0IGlzRmlsdGVyZWQoKSB7IHJldHVybiB0aGlzLl9pc0ZpbHRlcmVkOyB9XG4gICAgZ2V0IGlzU2VsZWN0ZWQoKSB7IHJldHVybiB0aGlzLl9pc1NlbGVjdGVkOyB9XG4gICAgLy8jcmVnaW9uIENSRUFURSBFTEVNRU5UU1xuICAgIC8qKlxuICAgICAqIF9zaG91bGRTa2lwQ3JlYXRlRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBhdm9pZCBjcmVhdGluZyBlbGVtZW50cyBpbiB0aGUgY29uc3RydWN0b3JcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHdlIHNob3VsZCBza2lwIHRoZSBjcmVhdGUgZWxlbWVudHNcbiAgICAgKi9cbiAgICBfc2hvdWxkU2tpcENyZWF0ZUVsZW1lbnRzKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgZWxlbWVudHMgZm9yIHRoaXMgb3B0aW9uXG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9lbGVtcyA9IHt9O1xuICAgICAgICB0aGlzLl9pc0ZpbHRlcmVkID0gdHJ1ZTtcbiAgICAgICAgLy8gY3JlYXRlIHRoZSBiYXNlIGVsZW1lbnRcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGlkOiBcIm9wdHxcIiArIHRoaXMuX2lkLFxuICAgICAgICAgICAgY2xzOiBcImR5bmFtaWNPcHRpb24gZmlsdGVyZWRcIixcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzOiB7XG4gICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjbGljayBwcm9jZXNzZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdFBhcmVudC5zZWxlY3QodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gY3JlYXRlIHRoZSB0ZXh0IGVsZW1lbnRcbiAgICAgICAgdGhpcy5fZWxlbXMudGV4dCA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuX2Rpc3BsYXksXG4gICAgICAgICAgICBjbHM6IFwib3B0VGV4dFwiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gSU5URVJBQ1RJT05cbiAgICAvKipcbiAgICAgKiBzZWxlY3RcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogU2VsZWN0IHRoaXMgcGFydGljdWxhciBlbGVtZW50XG4gICAgICovXG4gICAgc2VsZWN0KCkge1xuICAgICAgICBpZiAodGhpcy5faXNGaWx0ZXJlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGhpbGl0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIaWxpdGUgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgZWxlbWVudFxuICAgICAqL1xuICAgIGhpbGl0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzRmlsdGVyZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImhpbGl0ZVwiKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdW5oaWxpdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogcmVtb3ZlIGhpbGl0aW5nIG9mIHRoZSBjdXJyZW50IHNlbGVjdGVkIGVsZW1lbnRcbiAgICAgKi9cbiAgICB1bmhpbGl0ZSgpIHtcbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJoaWxpdGVcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfZmlsdGVyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEZpbHRlciBvdXQgdGhpcyBvcHRpb24gaWYgYXBwcm9wcmlhdGVcbiAgICAgKi9cbiAgICBfZmlsdGVyKCkge1xuICAgICAgICBpZiAodGhpcy5faXNGaWx0ZXJlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzRmlsdGVyZWQgPSB0cnVlO1xuICAgICAgICB0cmFuc2l0aW9uXzEudHJhbnNpdGlvbih0aGlzLl9lbGVtcy5iYXNlLCB7IG1heEhlaWdodDogXCI8aGVpZ2h0PlwiLCBwYWRkaW5nOiBcIjVweFwiIH0sIHsgbWF4SGVpZ2h0OiBcIjBcIiwgcGFkZGluZzogXCIwXCIgfSwgMjAwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiZmlsdGVyZWRcIik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfdW5maWx0ZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogUmVtb3ZlIGZpbHRlcmluZyBmb3IgdGhpcyBvcHRpb24gaWYgYXBwcm9wcmlhdGVcbiAgICAgKi9cbiAgICBfdW5maWx0ZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNGaWx0ZXJlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzRmlsdGVyZWQgPSBmYWxzZTtcbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJmaWx0ZXJlZFwiKTtcbiAgICAgICAgdHJhbnNpdGlvbl8xLnRyYW5zaXRpb24odGhpcy5fZWxlbXMuYmFzZSwgeyBtYXhIZWlnaHQ6IFwiMFwiLCBwYWRkaW5nOiBcIjBcIiB9LCB7IG1heEhlaWdodDogXCI8aGVpZ2h0PlwiLCBwYWRkaW5nOiBcIjVweFwiIH0sIDIwMCkudGhlbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdHJ5RmlsdGVyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFzeW5jaHJvbm91cyBjYWxsIHRvIGVuc3VyZSB0aGF0IG9wdGlvbnMgdGhhdCBkb24ndCBtYXRjaCB0aGUgY3VycmVudFxuICAgICAqIHNlbGVjdCBzdHJpbmcgYXJlIGZpbHRlcmVkIG91dCBvZiB0aGUgcmVzdWx0c1xuICAgICAqXG4gICAgICogQHBhcmFtICAgd29yZHMgICBUaGUgd29yZHMgcmVxdWlyZWQgaW4gYSByZWxldmFudCBzdHJpbmcgZm9yIHRoZSBvcHRpb25cbiAgICAgKiAgICAgICAgICAgICAgICAgIGluIG9yZGVyIHRvIG5vdCBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCB3aWxsIHJ1biB0aGUgZmlsdGVyaW5nIGxvZ2ljXG4gICAgICovXG4gICAgdHJ5RmlsdGVyKHdvcmRzKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB3YWl0IHRpbCB0aGUgbmV4dCBmcmFtZSByZW5kZXJcbiAgICAgICAgICAgIHlpZWxkIGFzeW5jXzEubmV4dFJlbmRlcigpO1xuICAgICAgICAgICAgbGV0IHdvcmQ7XG4gICAgICAgICAgICBsZXQgbm90Rm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBkaXNwbGF5ID0gdGhpcy5fZGlzcGxheS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgbGV0IGlkID0gdGhpcy5faWQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgd29yZHMgdGhhdCB3ZXJlIHBhc3NlZCBpbiBhbmQgZW5zdXJlIGFsbCBhcmUgdGhlcmVcbiAgICAgICAgICAgIGZvciAod29yZCBvZiB3b3Jkcykge1xuICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5LmluZGV4T2Yod29yZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZC5pbmRleE9mKHdvcmQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90Rm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBhIHdvcmQgd2FzIG1pc3NpbmcsIGZpbHRlciB0aGlzIGVsZW1lbnRcbiAgICAgICAgICAgIGlmIChub3RGb3VuZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbHRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdW5maWx0ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5EeW5hbWljT3B0aW9uID0gRHluYW1pY09wdGlvbjtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG4vKiogdHJhY2sgc3R5bGVzIGZvciB0aGUgb3B0aW9uIGZpZWxkICovXG5EeW5hbWljT3B0aW9uLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIuZHluYW1pY09wdGlvblwiOiB7XG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICBwYWRkaW5nOiBcIjVweFwiLFxuICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgIFwiJi5maWx0ZXJlZFwiOiB7XG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjBcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjBcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiJjpob3ZlciwgJi5oaWxpdGVcIjoge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZWVlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBnZW5lcmljIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIGFuIGVsZW1lbnQgaGFzIGEgcGFydGljdWxhciBjbGFzcyBuYW1lIGluIGl0cyBpbmhlcml0YW5jZSB0cmVlICovXG5mdW5jdGlvbiBpc05hbWVkQ2xhc3ModGVzdCwgbmFtZSkge1xuICAgIGlmICghbmFtZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCB0ZXN0X25hbWU7XG4gICAgdGVzdF9uYW1lID0gdGVzdC5wYWRkZWRDbGFzc05hbWU7XG4gICAgaWYgKCF0ZXN0X25hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKHRlc3RfbmFtZS5pbmRleE9mKG5hbWUpICE9PSAtMSk7XG59XG5leHBvcnRzLmlzTmFtZWRDbGFzcyA9IGlzTmFtZWRDbGFzcztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRFdmVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogTmV3IGluc3RhbmNlIG9mIGEgcGFydGljdWxhciBldmVudCBkZWZpbml0aW9uXG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIEV2ZW50IHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8qKlxuICAgICAqIEV2ZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZSBhIG5ldyBFdmVudCB3aXRoIHRoZSBhcHByb3ByaWF0ZSBjb250ZXh0XG4gICAgICogQHBhcmFtXHRjb250ZXh0XHRcdFRoZSBjb250ZXh0IHRvIGFkZCB0byB0aGUgZXZlbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cbiAgICBnZXQga2V5KCkgeyByZXR1cm4gdGhpcy5fa2V5OyB9XG4gICAgZ2V0IGNvbnRleHQoKSB7IHJldHVybiB0aGlzLl9jb250ZXh0OyB9XG59XG5leHBvcnRzLkV2ZW50ID0gRXZlbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9kYXRhU3RydWN0dXJlcy9jb2xsZWN0aW9uL2NvbGxlY3Rpb25cIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL2RhdGFTdHJ1Y3R1cmVzL2NvbGxlY3Rpb24vX2ludGVyZmFjZXNcIik7XG5jb25zdCBjb21wYXJhYmxlXzEgPSByZXF1aXJlKFwiLi4vY29tcGFyYWJsZS9jb21wYXJhYmxlXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRFdmVudERlZmluaXRpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERlY2xhcmUgdGhlIGRlZmluaXRpb24gZm9yIGEgcGFydGljdWxhciBldmVudFxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBFdmVudERlZmluaXRpb24ge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLyoqXG4gICAgICogRXZlbnREZWZpbml0aW9uXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZXMgYSBuZXcgRXZlbnRcbiAgICAgKiBAcGFyYW0gXHRkZXRhaWxzIFx0VGhlIHNwZWNzIGZvciB0aGlzIHBhcnRpY3VsYXIgZXZlbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihrZXksIG5hbWUpIHtcbiAgICAgICAgLyoqIGtlZXAgdHJhY2sgb2YgaG93IG1hbnkgbGlzdGVuZXJzIHdlJ3ZlIGFkZGVkICovXG4gICAgICAgIHRoaXMuX251bU9mTGlzdGVuZXJzID0gMDtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuX2tleSA9IGtleTtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0gbmV3IGNvbGxlY3Rpb25fMS5Db2xsZWN0aW9uKF9pbnRlcmZhY2VzXzEuQ29sbGVjdGlvblR5cGVFbnVtLlJlcGxhY2VEdXBsaWNhdGVLZXlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRkTGlzdGVuZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogYWRkIGEgbGlzdGVuZXIgdG8gb3VyIGNvbGxlY3Rpb24gKHdpdGggdGhlIG9wdGlvbiB0byByZXBsYWNlIGlmIHVzaW5nIGEgdW5pcXVlIGtleSlcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0bGlzdGVuZXJEYXRhXHRUaGUgbGlzdGVuZXIgZmVhdHVyZXMgdG8gYWRkXG4gICAgICpcbiAgICAgKi9cbiAgICBhZGRMaXN0ZW5lcihsaXN0ZW5lckRhdGEpIHtcbiAgICAgICAgbGlzdGVuZXJEYXRhLnVuaXF1ZUlkID0gbGlzdGVuZXJEYXRhLnVuaXF1ZUlkIHx8ICh0aGlzLl9rZXkgKyB0aGlzLl9udW1PZkxpc3RlbmVycy50b1N0cmluZygpKTtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLmFkZChsaXN0ZW5lckRhdGEudW5pcXVlSWQsIGxpc3RlbmVyRGF0YSk7XG4gICAgICAgIHRoaXMuX251bU9mTGlzdGVuZXJzICs9IDE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlbW92ZUV2ZW50TGlzdGVuZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogYWxsb3cgYSBsaXN0ZW5lciB0byBiZSBza2lwcGVkXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdHVuaXF1ZUlkXHRVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGxpc3RlbmVyIHRvIHJlbW92ZVxuICAgICAqXG4gICAgICovXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih1bmlxdWVJZCkge1xuICAgICAgICBpZiAoIXVuaXF1ZUlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnJlbW92ZSh1bmlxdWVJZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIG5vdGlmeUxpc3RlbmVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBMZXQgbGlzdGVuZXJzIGtub3cgdGhhdCBhbiBldmVudCB0aGF0IHRoZXkgY2FyZSBhYm91dCBoYXMgYmVlbiBmaXJlZFxuICAgICAqXG4gICAgICogQHBhcmFtIFx0Y29udGV4dCBcdFRoZSBjb250ZXh0IHRvIHNlbmQgYWxvbmcgd2l0aCB0aGUgZXZlbnRcbiAgICAgKlxuICAgICAqL1xuICAgIG5vdGlmeUxpc3RlbmVycyhjb250ZXh0KSB7XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgbGlzdGVuZXJzIHRvIGZpbmQgb25lIHRoYXQgYXBwbGllcyBmb3IgdGhpcyBjb250ZXh0XG4gICAgICAgIHRoaXMuX2xpc3RlbmVycy5tYXAoKGVsZW0sIGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFlbGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFlbGVtLnRhcmdldCB8fCAoY29tcGFyYWJsZV8xLmVxdWFscyhlbGVtLnRhcmdldCwgY29udGV4dC5jb250ZXh0LnRhcmdldCkpKSB7XG4gICAgICAgICAgICAgICAgZWxlbS5mdW5jKGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkV2ZW50RGVmaW5pdGlvbiA9IEV2ZW50RGVmaW5pdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZXZlbnREZWZpbml0aW9uXzEgPSByZXF1aXJlKFwiLi9ldmVudERlZmluaXRpb25cIik7XG5jb25zdCBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vZGF0YVN0cnVjdHVyZXMvY29sbGVjdGlvbi9jb2xsZWN0aW9uXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIFx0RXZlbnRIYW5kbGVyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBIYW5kbGVzIGFsbCBldmVudHMgdGhhdCBhcmUgcmFpc2VkIGJ5IGFueSBhcHBsaWNhdGlvbnNcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgRXZlbnRIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqIGtlZXAgdHJhY2sgb2YgYWxsIHRoZSBldmVudHMgdGhhdCBhcmUgcmVnaXN0ZXJlZCB0byB0aGlzIGV2ZW50IGhhbmRsZXIgKi9cbiAgICAgICAgdGhpcy5fZXZlbnRzID0gbmV3IGNvbGxlY3Rpb25fMS5Db2xsZWN0aW9uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNyZWF0ZUV2ZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZSBhIG5ldyBldmVudCB3aXRoIGEgcGFydHVsYXIga2V5IGFuZCBuYW1lXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGRldGFpbHNcdFx0U3BlY3MgZm9yIHRoZSBldmVudCB3ZSBhcmUgY3JlYXRpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUcnVlIGlmIGEgbmV3IGV2ZW50IHdhcyBjcmVhdGVkXG4gICAgICovXG4gICAgY3JlYXRlRXZlbnQoa2V5LCBuYW1lKSB7XG4gICAgICAgIGxldCBldnQgPSBuZXcgZXZlbnREZWZpbml0aW9uXzEuRXZlbnREZWZpbml0aW9uKGtleSwgbmFtZSk7XG4gICAgICAgIHJldHVybiAodGhpcy5fZXZlbnRzLmFkZChrZXksIGV2dCkgIT09IC0xKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZGlzcGF0Y2hFdmVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoYW5kbGUgbm90aWZ5aW5nIGxpc3RlbmVycyBhYm91dCBhbiBldmVudCB0aGF0IG9jY3VycmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGtleVx0XHRcdFRoZSBrZXkgdXNlZCBieSB0aGlzIHBhcnRpY3VsYXIgZXZlbnRcbiAgICAgKiBAcGFyYW1cdGNvbnRleHRcdFx0VEhlIGFkZGl0aW9uYWwgY29udGV4dCB0byB1c2UgZm9yIHRoZSBldmVudFxuICAgICAqICovXG4gICAgZGlzcGF0Y2hFdmVudChrZXksIGV2ZW50KSB7XG4gICAgICAgIGxldCBldnREZWYgPSB0aGlzLl9ldmVudHMuZ2V0VmFsdWUoZXZlbnQua2V5KTtcbiAgICAgICAgaWYgKCFldnREZWYpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBldnREZWYubm90aWZ5TGlzdGVuZXJzKGV2ZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRkRXZlbnRMaXN0ZW5lclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiByZWdpc3RlciBhbiBhZGRpdGlvbmFsIGxpc3RlbmVyIHdpdGggYSBwYXJ0aWN1bGFyIGV2ZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGtleVx0XHRcdFx0VGhlIGtleSB0byB1c2UgZm9yIHRoZSBldmVudFxuICAgICAqIEBwYXJhbVx0bGlzdGVuZXJEYXRhXHRUaGUgZGF0YSB0byB1c2UgZm9yIHRoZSBsaXN0ZW5lciBiZWluZyBhZGRlZFxuICAgICAqL1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoa2V5LCBsaXN0ZW5lckRhdGEpIHtcbiAgICAgICAgbGV0IGV2dCA9IHRoaXMuX2V2ZW50cy5nZXRWYWx1ZShrZXkpO1xuICAgICAgICBpZiAoIWV2dCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVuc3VyZSB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIG9iamVjdFxuICAgICAgICBpZiAodHlwZW9mIGxpc3RlbmVyRGF0YSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBsaXN0ZW5lckRhdGEgPSB7IGZ1bmM6IGxpc3RlbmVyRGF0YSB9O1xuICAgICAgICB9XG4gICAgICAgIGV2dC5hZGRMaXN0ZW5lcihsaXN0ZW5lckRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiByZW1vdmVFdmVudExpc3RlbmVyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqICByZW1vdmUgYSBwYXJ0aWN1bGFyIGV2ZW50IGxpc3RlbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdHVuaXF1ZUlkXHRUaGUgdW5pcXVlIElEIGZvciB0aGlzIGxpc3RlbmVyXG4gICAgICogQHBhcmFtXHRrZXlcdFx0XHRJZiBzcGVjaWZpZWQsIHRoZSBwYXJ0aWN1bGFyIGV2ZW50IHRvIHJlbW92ZSBmcm9tXG4gICAgICovXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih1bmlxdWVJRCwga2V5KSB7XG4gICAgICAgIGlmICghdW5pcXVlSUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBpdCdzIG9ubHkgYSBwYXJ0aWN1bGFyIHR5cGUgb2YgZXZlbnQgdGhhdCBpcyBiZWluZyByZW1vdmVkLCBkbyBzb1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBsZXQgZXZ0ID0gdGhpcy5fZXZlbnRzLmdldFZhbHVlKGtleSk7XG4gICAgICAgICAgICBpZiAoIWV2dCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2dC5yZW1vdmVFdmVudExpc3RlbmVyKHVuaXF1ZUlEKTtcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgcmVtb3ZlIHRoaXMgdW5pcXVlSUQgZnJvbSBhbGwgZXZlbnRzXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9ldmVudHMubWFwKChldnQpID0+IHtcbiAgICAgICAgICAgICAgICBldnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih1bmlxdWVJRCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuRXZlbnRIYW5kbGVyID0gRXZlbnRIYW5kbGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi9jcmVhdGVFbGVtZW50XCIpO1xuLy8gQ3JlYXRlVGFibGVcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqXG4gKiBDcmVhdGVzIGEgdGFibGUgd2l0aCBhIHNwZWNpZmllZCBzZXQgb2YgY2VsbCBlbGVtZW50c1xuICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlSUQgLSBUaGUgdW5pcXVlIGlkZW50aWZpZXIgdG8gdXNlIGZvciB0aGlzIHRhYmxlXG4gKiBAcGFyYW0ge3N0cmluZ30gW3RhYmxlQ2xhc3NdIC0gVGhlIENTUyBjbGFzcyB0byB1c2UgZm9yIHRoZSB0YWJsZVxuICogQHBhcmFtIHthcnJheX0gZWxlbWVudHMgLSBBIDJEIGFycmF5IG9mIHRoZSBpbmRleGluZyBtZXRob2QgW3Jvd11bY29sdW1uXSB0aGF0IGNvbnRhaW5zIHRoZSBjb250ZW50cyBvZiB0aGUgY2VsbCBhdCB0aGlzIHBvc2l0aW9uIHRoYXQgc2hvdWxkIGJlIGNyZWF0ZWQgd2l0aGluIHRoZSB0YWJsZS5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgIC0gQ2FuIGNvbWUgaW4gdGhyZWUgZm9ybXM6IGEgc3RyaW5nIG9mIHBsYWluIGNvbnRlbnQsIGFuIGFscmVhZHkgY3JlYXRlZCBlbGVtZW50LCBvciBhbiBvYmplY3QgYXJyYXkgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSBbZWxlbWVudHNbcl1bY10uY3JlYXRlXSAtIEFuIG9iamVjdCB0byBiZSBwYXNzZWQgaW50byBDcmVhdGVFbGVtZW50LCB0byBnZW5lcmF0ZSB0aGUgY29udGVudCBvZiB0aGUgY2VsbFxuICogQHBhcmFtIHtzdHJpbmd9IFtlbGVtZW50c1tyXVtjXS5jb250ZW50XSAtIEEgc3RyaW5nIHRvIGJlIHVzZWQgYXMgdGhlIGNvbnRlbnQgb2YgdGhlIGNlbGxcbiAqIEBwYXJhbSB7b2JqZWN0fSBbZWxlbWVudHNbcl1bY10uYXR0cl0gLSBBbGwgYWRkaXRpb25hbCBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIGNlbGwgKGNvbHNwYW4gJiByb3dzcGFuLCBlLmcuKVxuICpcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gVGhlIGNyZWF0ZWQgSFRNTCB0YWJsZVxuICpcbiAqICovXG5mdW5jdGlvbiBjcmVhdGVUYWJsZSh0YWJsZUlELCB0YWJsZUNsYXNzLCBlbGVtZW50cywgcm93TnVtLCBjb2xOdW0pIHtcbiAgICA7XG4gICAgbGV0IHRibDtcbiAgICBsZXQgcm93O1xuICAgIGxldCBjZWxsO1xuICAgIGxldCBlbGVtO1xuICAgIGxldCBySWR4O1xuICAgIGxldCBjSWR4O1xuICAgIC8vIFNldCBhIHJvdyBudW1iZXJcbiAgICBpZiAoIXJvd051bSkge1xuICAgICAgICByb3dOdW0gPSAoZWxlbWVudHMgJiYgZWxlbWVudHMubGVuZ3RoKSB8fCAwO1xuICAgIH1cbiAgICAvLyBDcmVhdGUgdGhlIHRhYmxlXG4gICAgdGJsID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICB0eXBlOiBcInRhYmxlXCIsXG4gICAgICAgIGNsczogdGFibGVDbGFzc1xuICAgIH0pO1xuICAgIGZvciAocklkeCA9IDA7IHJJZHggPCByb3dOdW07IHJJZHggKz0gMSkge1xuICAgICAgICAvLyBHcmFiIHRoZSBjb2x1bW4gbnVtYmVyIGlmIHdlIGRvbid0IGhhdmUgaXRcbiAgICAgICAgaWYgKCFjb2xOdW0pIHtcbiAgICAgICAgICAgIGNvbE51bSA9IGVsZW1lbnRzW3JJZHhdLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByb3cgPSB0YmwuaW5zZXJ0Um93KC0xKTtcbiAgICAgICAgZm9yIChjSWR4ID0gMDsgY0lkeCA8IGNvbE51bTsgY0lkeCArPSAxKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBob3cgdGhpcyBlbGVtZW50IHNob3VsZCBiZSBhZGRlZFxuICAgICAgICAgICAgZWxlbSA9IGVsZW1lbnRzW3JJZHhdW2NJZHhdO1xuICAgICAgICAgICAgY2VsbCA9IHJvdy5pbnNlcnRDZWxsKC0xKTtcbiAgICAgICAgICAgIHByb2Nlc3NDZWxsQ29udGVudHMoZWxlbSwgY2VsbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRibDtcbn1cbmV4cG9ydHMuY3JlYXRlVGFibGUgPSBjcmVhdGVUYWJsZTtcbi8qKlxuICogUHJvY2Vzc2VzIGRhdGEgdGhhdCBjYW4gYmUgdXNlZCB0byBwb3B1bGF0ZSBhIHRhYmxlIGNlbGxcbiAqIEBwYXJhbSAge2FueX0gICAgICAgICAgICAgICAgICBkYXRhIFRoZSBkYXRhIHRvIHBvcHVsYXRlIHRoZSBjZWxsIHdpdGhcbiAqIEBwYXJhbSAge0hUTUxUYWJsZUNlbGxFbGVtZW50fSBjZWxsIFRoZSBjZWxsIHRvIHBvcHVsYXRlXG4gKiBAcmV0dXJuIHtIVE1MVGFibGVDZWxsRWxlbWVudH0gICAgICBUaGUgY2VsbCwgbmV3bHkgcG9wdWxhdGVkIHdpdGggY29udGVudHNcbiAqL1xuZnVuY3Rpb24gcHJvY2Vzc0NlbGxDb250ZW50cyhkYXRhLCBjZWxsKSB7XG4gICAgO1xuICAgIGxldCBjb250ZW50O1xuICAgIGxldCBrZXk7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICAgIHJldHVybiBjZWxsO1xuICAgIH1cbiAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgc2ltcGxlIHN0cmluZywgYW5kIGlmIHNvLCBzZXQgaXQgdG8gYmUgdGhlIGNlbGwgY29udGVudFxuICAgIGlmICh0eXBlb2YgZGF0YSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNlbGwuaW5uZXJIVE1MID0gZGF0YTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNvbnRlbnQgaXMgYW4gSFRNTCBlbGVtZW50LCBpbiB3aGljaCBjYXNlLCBhcHBlbmQgaXRcbiAgICB9XG4gICAgZWxzZSBpZiAoZGF0YS5hcHBlbmRDaGlsZCkge1xuICAgICAgICBjZWxsLmFwcGVuZENoaWxkKGRhdGEpO1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgY29udGVudCBpcyBhIGN1c3RvbSBvYmplY3QsIGluIHdoaWNoIGNhc2UsIHBhcnNlIGl0XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoZGF0YS5jcmVhdGUpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudChkYXRhLmNyZWF0ZSk7XG4gICAgICAgICAgICBjZWxsLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBkYXRhLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIGFkZGl0aW9uYWwgcHJvcGVydGllcyBvbiBvdXIgY3VzdG9tIGVsZW1lbnRcbiAgICAgICAgZm9yIChrZXkgaW4gZGF0YS5hdHRyKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5hdHRyLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZShrZXksIGRhdGEuYXR0cltrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2VsbDtcbn1cbmV4cG9ydHMucHJvY2Vzc0NlbGxDb250ZW50cyA9IHByb2Nlc3NDZWxsQ29udGVudHM7XG47XG4vKipcbiAqIEFkZHMgYSByb3cgdG8gYW4gSFRNTCB0YWJsZSBlbGVtZW50XG4gKiBAcGFyYW0gIHtIVE1MVGFibGVFbGVtZW50fSB0YWJsZSAgICAgIFRoZSB0YWJsZSBlbGVtZW50IHRvIGFkZCB0b1xuICogQHBhcmFtICB7YW55W119ICAgICAgICAgICAgW2VsZW1lbnRzXSBBbnkgZWxlbWVudHMgdGhhdCBzaG91bGQgYmUgaW5jY2x1ZGVkIGFzIGNlbGxzIGluIHRoaXMgcm93XG4gKiBAcGFyYW0gIHtudW1iZXJ9ICAgICAgICAgICBbaWR4XSAgICAgIFRoZSBpbmRleCBhdCB3aGljaCB0aGlzIHJvdyBzaG91bGQgYmUgYWRkZWRcbiAqIEBwYXJhbSAge251bWJlcn0gICAgICAgICAgIFtjb2xOdW1dICAgVGhlIG51bWJlciBvZiBjb2x1bW5zIHRoYXQgc2hvdWxkIGJlIGFkZGVkIHRvIHRoaXMgcm93XG4gKiBAcmV0dXJuIHtIVE1MVGFibGVSb3dFbGVtZW50fSAgICAgICBUaGUgcm93IHRoYXQgd2FzIGNyZWF0ZWRcbiAqL1xuZnVuY3Rpb24gYWRkUm93KHRhYmxlLCBlbGVtZW50cywgaWR4LCBjb2xOdW0pIHtcbiAgICA7XG4gICAgbGV0IHJvdztcbiAgICBsZXQgY2VsbDtcbiAgICBsZXQgY0lkeDtcbiAgICBsZXQgZGF0YTtcbiAgICBpZiAoIWlkeCAmJiAoaWR4ICE9PSAwKSkge1xuICAgICAgICBpZHggPSAtMTtcbiAgICB9XG4gICAgaWYgKCFjb2xOdW0gJiYgY29sTnVtICE9PSAwKSB7XG4gICAgICAgIGNvbE51bSA9IGVsZW1lbnRzLmxlbmd0aDtcbiAgICB9XG4gICAgLy8gUXVpdCBpZiB3ZSBkb24ndCBoYXZlIGEgdGFibGVcbiAgICBpZiAoIXRhYmxlKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKCF0YWJsZS5pbnNlcnRSb3cpXG4gICAgICAgIHJldHVybjtcbiAgICByb3cgPSB0YWJsZS5pbnNlcnRSb3coaWR4KTtcbiAgICAvLyBMb29wIHRocm91Z2ggY29sdW1ucyB0byBhZGQgY2VsbHNcbiAgICBmb3IgKGNJZHggPSAwOyBjSWR4IDwgY29sTnVtOyBjSWR4ICs9IDEpIHtcbiAgICAgICAgY2VsbCA9IHJvdy5pbnNlcnRDZWxsKC0xKTtcbiAgICAgICAgZGF0YSA9IGVsZW1lbnRzW2NJZHhdIHx8IFwiXCI7XG4gICAgICAgIHByb2Nlc3NDZWxsQ29udGVudHMoZGF0YSwgY2VsbCk7XG4gICAgfVxuICAgIHJldHVybiByb3c7XG59XG5leHBvcnRzLmFkZFJvdyA9IGFkZFJvdztcbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2NvbnN0YW50c18xID0gcmVxdWlyZShcIi4vX2NvbnN0YW50c1wiKTtcbmNvbnN0IGRyYXdhYmxlXzEgPSByZXF1aXJlKFwiLi4vZHJhd2FibGUvZHJhd2FibGVcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBmYWxzZXlfMSA9IHJlcXVpcmUoXCIuLi90eXBlR3VhcmRzL2ZhbHNleVwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCByZWN0Q29udmVyc2lvbl8xID0gcmVxdWlyZShcIi4uL21hdGhzL3JlY3RDb252ZXJzaW9uXCIpO1xuY29uc3QgZWxlbWVudFBvc2l0aW9uaW5nXzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvZWxlbWVudFBvc2l0aW9uaW5nXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgVG9vbHRpcFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUmVuZGVyIGEgZHluYW1pYyBIVE1MIHZlcnNpb24gb2YgYSB0b29sdGlwIGZvciBhbiBlbGVtZW50XG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFRvb2x0aXAgZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIElOSVRJQUxJWkUgVEhFIFRPT0xUSVBcbiAgICAvKipcbiAgICAgKiBUb29sdGlwXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZXMgYW4gSFRNTCB0b29sdGlwIHRvIHNob3cgZm9yIGEgcGFydGljdWxhciBzb3VyY2UgZWxlbWVudFxuICAgICAqIEBwYXJhbSAgIHRlbXBsYXRlICAgICAgICBUaGUgdGVtcGxhdGUgdG8gdXNlIHRvIGNyZWF0ZSB0aGUgdG9vbHRpcFxuICAgICAqIEBwYXJhbSAgIHNvdXJjZUVsZW0gICAgICBUaGUgZWxlbWVudCB0byBhdHRhY2ggdGhpcyB0b29sdGlwIHRvXG4gICAgICogQHBhcmFtICAgb2Zmc2V0ICAgICAgICAgIEFueSBvZmZzZXQgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGlzIHRvb2x0aXBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZSwgc291cmNlRWxlbSwgb2Zmc2V0KSB7XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgZWxlbWVudHNcbiAgICAgICAgaWYgKCF0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgdGVtcGxhdGUgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0ZW1wbGF0ZS5jbHMgPSBcInRvb2x0aXAgaGlkZGVuXCIgKyAodGVtcGxhdGUuY2xzID8gXCIgXCIgKyB0ZW1wbGF0ZS5jbHMgOiBcIlwiKTtcbiAgICAgICAgc3VwZXIodGVtcGxhdGUpO1xuICAgICAgICAvLyBhc3NpZ24gdGhlIG9mZnNldCBwb2ludFxuICAgICAgICB0aGlzLl9vZmZzZXQgPSBvZmZzZXQgfHwgeyB4OiAwLCB5OiAwIH07XG4gICAgICAgIC8vIGhhbmRsZSB0aGUgc291cmNlIGVsZW1lbnQgKHdoaWNoIGFsc28gYXNzaWducyBsaXN0ZW5lcnMgYW5kIHBvc2l0aW9uaW5nKVxuICAgICAgICB0aGlzLnNvdXJjZUVsZW1lbnQgPSBzb3VyY2VFbGVtO1xuICAgIH1cbiAgICBzZXQgc291cmNlRWxlbWVudChlbGVtKSB7XG4gICAgICAgIHRoaXMuX3NvdXJjZUVsZW1lbnQgPSBlbGVtO1xuICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkFwcHJvcHJpYXRlbHkoKTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2FkZEV2ZW50TGlzdGVuZXJzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIExpc3RlbiB0byBtb3VzZSBldmVudHMgYWJvdXQgdGhlIHNvdXJjZSBlbGVtZW50IGluIG9yZGVyIHRvIHNob3cgdGhlXG4gICAgICogdG9vbHRpcCBhc3NvY2lhdGVkIHdpdGggaXRcbiAgICAgKi9cbiAgICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fc291cmNlRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCBsaXN0ZW5lcnMgdG8gdGhlIHNvdXJjZSBlbGVtZW50c1xuICAgICAgICB0aGlzLl9zb3VyY2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZCh0aGlzLl9oaWRlVGltZW91dCkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX2hpZGVUaW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uQXBwcm9wcmlhdGVseSgpO1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4geyB0aGlzLmRyYXcoZG9jdW1lbnQuYm9keSk7IH0sIDEwMCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9zb3VyY2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMuX2VsZW1zLmJhc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9oaWRlVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5lcmFzZSgpOyB9LCAxMDApO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gYWRkIGxpc3RlbmVycyB0byB0aGUgdG9vbHRpcCBpdHNlbGZcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQodGhpcy5faGlkZVRpbWVvdXQpKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9oaWRlVGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzLl9zb3VyY2VFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faGlkZVRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuZXJhc2UoKTsgfSwgMTAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX3NvdXJjZUVsZW1lbnQsIFwidG9vbHRpcFNvdXJjZVwiKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4geyB0aGlzLl9wb3NpdGlvbkFwcHJvcHJpYXRlbHkoKTsgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiAoRG9lcyBub3RoaW5nIGJ5IGRlZmF1bHQpXG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICAvLyBOb3RoaW5nIHRvIGRvIGhlcmUgYmVjYXVzZSB3ZSB1c2UgdGhlIHRlbXBsYXRlIGluIHRoZSBjb25zdHJ1Y3RvclxuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFBPU0lUSU9OIFRIRSBUT09MVElQXG4gICAgLyoqXG4gICAgICogX3Bvc2l0aW9uQXBwcm9wcmlhdGVseVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBNb3ZlIHRoZSB0b29sdGlwIHRvIHRoZSBhcHByb3ByaWF0ZSBwb3NpdGlvbiBmb3IgaXRzIHNvdXJjZSBlbGVtZW50XG4gICAgICovXG4gICAgX3Bvc2l0aW9uQXBwcm9wcmlhdGVseSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zb3VyY2VFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWVhc3VyZSB0aGUgZWxlbWVudHMgd2UgY2FyZSBhYm91dFxuICAgICAgICB0aGlzLl90b29sdGlwUmVjdCA9IHJlY3RDb252ZXJzaW9uXzEuY2xpZW50UmVjdFRvQmFzaWNSZWN0KGVsZW1lbnRQb3NpdGlvbmluZ18xLm1lYXN1cmVFbGVtZW50KHRoaXMuX2VsZW1zLmJhc2UpKTtcbiAgICAgICAgdGhpcy5fc291cmNlUmVjdCA9IHJlY3RDb252ZXJzaW9uXzEuY2xpZW50UmVjdFRvQmFzaWNSZWN0KGVsZW1lbnRQb3NpdGlvbmluZ18xLm1lYXN1cmVFbGVtZW50KHRoaXMuX3NvdXJjZUVsZW1lbnQpKTtcbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHBvc3NpYmxlIHBvc2l0aW9uc1xuICAgICAgICBsZXQgZm91bmRTdWNjZXNzZnVsUG9zaXRpb247XG4gICAgICAgIGZvciAobGV0IGkgPSBfaW50ZXJmYWNlc18xLlRvb2x0aXBQb3NpdGlvblR5cGUuVE9QOyBpIDw9IF9pbnRlcmZhY2VzXzEuVG9vbHRpcFBvc2l0aW9uVHlwZS5SSUdIVDsgaSArPSAxKSB7XG4gICAgICAgICAgICBmb3VuZFN1Y2Nlc3NmdWxQb3NpdGlvbiA9IHRoaXMuX2Fzc2lnblBvc2l0aW9uKGkpO1xuICAgICAgICAgICAgaWYgKGZvdW5kU3VjY2Vzc2Z1bFBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVzZXQgb3VyIHJlY3RzXG4gICAgICAgIHRoaXMuX3Rvb2x0aXBSZWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc291cmNlUmVjdCA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9hc3NpZ25Qb3NpdGlvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBUcnkgdG8gYXNzaWduIGEgcG9zaXRpb24gZm9yIHRoZSB0b29sdGlwXG4gICAgICogQHBhcmFtICAgcG9zaXRpb24gICAgVGhlIHBvc2l0aW9uIHRvIHRyeVxuICAgICAqXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgdG9vbHRpcCBmaXRzIGF0IHRoZSBjdXJyZW50IHBvc2l0aW9uXG4gICAgICovXG4gICAgX2Fzc2lnblBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIGxldCBmb3VuZFN1Y2Nlc3NmdWxQb3NpdGlvbiA9IGZhbHNlO1xuICAgICAgICBsZXQgcmVjdCA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMuX3NldFhQb3NpdGlvbihwb3NpdGlvbiksXG4gICAgICAgICAgICB5OiB0aGlzLl9zZXRZUG9zaXRpb24ocG9zaXRpb24pLFxuICAgICAgICAgICAgdzogdGhpcy5fdG9vbHRpcFJlY3QudyxcbiAgICAgICAgICAgIGg6IHRoaXMuX3Rvb2x0aXBSZWN0LmhcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaWYgd2UgY291bGRuJ3QgZmluZCBvbnNjcmVlbiBwb3NpdGlvbnMsIHdlIG5lZWQgdG8gdHJ5IHRoZSBuZXh0IGNvbmZpZ1xuICAgICAgICBpZiAoKHJlY3QueCA9PT0gLTEpIHx8IChyZWN0LnkgPT09IC0xKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG90aGVyd2lzZSwgd2UgY2FuIGFzc2lnbiBwb3NpdGlvbnMgYmFzZWQgb24gdGhpcyByZWN0XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2Uuc3R5bGUubGVmdCA9IHJlY3QueCArIFwicHhcIjtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5zdHlsZS50b3AgPSByZWN0LnkgKyBcInB4XCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfc2V0WVBvc2l0aW9uXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEZpbmRzIHRoZSBhcHByb3ByaWF0ZSBZIHBvc2l0aW9uIGZvciBhbiBlbGVtZW50IGdpdmVuIHRoZSBjdXJyZW50IHBsYWNlbWVudFxuICAgICAqIEBwYXJhbSAgIHBvc2l0aW9uICAgIFRoZSBjdXJyZW50IHBsYWNlbWVudCBvZiB0aGUgdG9vbHRpcFxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHkgcG9zaXRpb24gYXNzb2NpYXRlZCB3aXRoIHRoaXMgcGxhY2VtZW50XG4gICAgICovXG4gICAgX3NldFlQb3NpdGlvbihwb3NpdGlvbikge1xuICAgICAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIF9pbnRlcmZhY2VzXzEuVG9vbHRpcFBvc2l0aW9uVHlwZS5UT1A6XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9zb3VyY2VSZWN0LnkgLSB0aGlzLl90b29sdGlwUmVjdC5oIC0gX2NvbnN0YW50c18xLlRPT0xUSVBfTUFSR0lOICsgdGhpcy5fb2Zmc2V0LnkpO1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18xLlRvb2x0aXBQb3NpdGlvblR5cGUuQk9UVE9NOlxuICAgICAgICAgICAgICAgIHJldHVybiAodGhpcy5fc291cmNlUmVjdC55ICsgdGhpcy5fc291cmNlUmVjdC5oICsgX2NvbnN0YW50c18xLlRPT0xUSVBfTUFSR0lOICsgdGhpcy5fb2Zmc2V0LnkpO1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18xLlRvb2x0aXBQb3NpdGlvblR5cGUuTEVGVDpcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5Ub29sdGlwUG9zaXRpb25UeXBlLlJJR0hUOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9ub3JtYWxpemVZKHRoaXMuX3NvdXJjZVJlY3QueSwgdGhpcy5fdG9vbHRpcFJlY3QuaCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfc2V0WFBvc2l0aW9uXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEZpbmRzIHRoZSBhcHByb3ByaWF0ZSBYIHBvc2l0aW9uIGZvciBhbiBlbGVtZW50IGdpdmVuIHRoZSBjdXJyZW50IHBsYWNlbWVudFxuICAgICAqIEBwYXJhbSAgIHBvc2l0aW9uICAgIFRoZSBjdXJyZW50IHBsYWNlbWVudCBvZiB0aGUgdG9vbHRpcFxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHggcG9zaXRpb24gYXNzb2NpYXRlZCB3aXRoIHRoaXMgcGxhY2VtZW50XG4gICAgICovXG4gICAgX3NldFhQb3NpdGlvbihwb3NpdGlvbikge1xuICAgICAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIF9pbnRlcmZhY2VzXzEuVG9vbHRpcFBvc2l0aW9uVHlwZS5UT1A6XG4gICAgICAgICAgICBjYXNlIF9pbnRlcmZhY2VzXzEuVG9vbHRpcFBvc2l0aW9uVHlwZS5CT1RUT006XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbGl6ZVgodGhpcy5fc291cmNlUmVjdC54LCB0aGlzLl90b29sdGlwUmVjdC53KTtcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5Ub29sdGlwUG9zaXRpb25UeXBlLkxFRlQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9zb3VyY2VSZWN0LnggLSB0aGlzLl90b29sdGlwUmVjdC53IC0gX2NvbnN0YW50c18xLlRPT0xUSVBfTUFSR0lOICsgdGhpcy5fb2Zmc2V0LngpO1xuICAgICAgICAgICAgY2FzZSBfaW50ZXJmYWNlc18xLlRvb2x0aXBQb3NpdGlvblR5cGUuUklHSFQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9zb3VyY2VSZWN0LnggKyB0aGlzLl9zb3VyY2VSZWN0LncgKyBfY29uc3RhbnRzXzEuVE9PTFRJUF9NQVJHSU4gKyB0aGlzLl9vZmZzZXQueCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBfbm9ybWFsaXplWCh4LCB3aWR0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbm9ybWFsaXplKHggKyB0aGlzLl9vZmZzZXQueCwgd2lkdGgsIDAsIHdpbmRvdy5pbm5lcldpZHRoKTtcbiAgICB9XG4gICAgX25vcm1hbGl6ZVkoeSwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ub3JtYWxpemUoeSArIHRoaXMuX29mZnNldC55LCBoZWlnaHQsIDAsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9ub3JtYWxpemVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogTm9ybWFsaXplIHRoZSBwYXJ0aXVjbGFyIHBvc2l0aW9uIHRvIGJlIHdpdGhpbiB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtICAgcG9zICAgICBUaGUgcG9zaXRpb24gdG8gbm9ybWFsaXplXG4gICAgICogQHBhcmFtICAgZGltICAgICBUaGUgZGltZW5zaW9uIHRvIGNvbXBhcmUgYWdhaW5zdFxuICAgICAqIEBwYXJhbSAgIG1pbiAgICAgVGhlIG1pbmltdW0gdmFsdWUgdGhhdCBpcyBzdGlsbCBvbiBzY3JlZW5cbiAgICAgKiBAcGFyYW0gICBtYXggICAgIFRoZSBtYXhpbXVtIHZhbHVlIHRoYXQgaXMgc3RpbGwgb24gc2NyZWVuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgbm9ybWFsaXplZCB2YWx1ZVxuICAgICAqL1xuICAgIF9ub3JtYWxpemUocG9zLCBkaW0sIG1pbiwgbWF4KSB7XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSdyZSBvbiBzY3JlZW4gZnJvbSB0aGUgbWluLXNpZGVcbiAgICAgICAgaWYgKHBvcyA8IG1pbikge1xuICAgICAgICAgICAgcG9zID0gX2NvbnN0YW50c18xLlRPT0xUSVBfTUFSR0lOO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFuZCB0aGUgbWF4XG4gICAgICAgIGlmICgocG9zICsgZGltKSA+IG1heCkge1xuICAgICAgICAgICAgcG9zID0gbWF4IC0gZGltIC0gX2NvbnN0YW50c18xLlRPT0xUSVBfTUFSR0lOO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZSBtaW4tc2lkZSBpcyBub3cgb2ZmIHNjcmVlbiwgdGhpcyBpc24ndCBhIHZhbGlkIHBvc2l0aW9uXG4gICAgICAgIGlmIChwb3MgPCBtaW4pIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvdGhlcndpc2UgcmV0dXJuIHRoZSBhZGp1c3RlZCB2YWx1ZVxuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gRFJBVyBBTkQgRVJBU0VcbiAgICBkcmF3KHBhcmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuX2VsZW1zLmJhc2UucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgc3VwZXIuZHJhdyhwYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwiaGlkZGVuXCIpO1xuICAgIH1cbiAgICBlcmFzZSgpIHtcbiAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJoaWRkZW5cIik7XG4gICAgICAgIC8vc2V0VGltZW91dCgoKSA9PiB7IHN1cGVyLmVyYXNlKCk7IH0sIDExMCk7XG4gICAgfVxufVxuZXhwb3J0cy5Ub29sdGlwID0gVG9vbHRpcDtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG5Ub29sdGlwLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIudG9vbHRpcFwiOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgIGxlZnQ6IFwiMFwiLFxuICAgICAgICB0b3A6IFwiMFwiLFxuICAgICAgICBtYXhXaWR0aDogXCIzMDBweFwiLFxuICAgICAgICBwYWRkaW5nOiBcIjNweFwiLFxuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICBib3hTaGFkb3c6IFwiMXB4IDFweCA0cHggMnB4IHJnYmEoMCwwLDAsLjIpXCIsXG4gICAgICAgIG9wYWNpdHk6IFwiMVwiLFxuICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCAwLjFzIGVhc2UtaW4tb3V0XCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjRkZGXCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCIzcHhcIixcbiAgICAgICAgZm9udFNpemU6IFwiMC44ZW1cIixcbiAgICAgICAgbGluZUhlaWdodDogXCIxMjAlXCIsXG4gICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgXCImLmhpZGRlblwiOiB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogXCIwXCIsXG4gICAgICAgICAgICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCIudG9vbHRpcFNvdXJjZVwiOiB7XG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRPT0xUSVBfTUFSR0lOID0gMjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFRvb2x0aXBQb3NpdGlvblR5cGU7XG4oZnVuY3Rpb24gKFRvb2x0aXBQb3NpdGlvblR5cGUpIHtcbiAgICBUb29sdGlwUG9zaXRpb25UeXBlW1Rvb2x0aXBQb3NpdGlvblR5cGVbXCJUT1BcIl0gPSAwXSA9IFwiVE9QXCI7XG4gICAgVG9vbHRpcFBvc2l0aW9uVHlwZVtUb29sdGlwUG9zaXRpb25UeXBlW1wiQk9UVE9NXCJdID0gMV0gPSBcIkJPVFRPTVwiO1xuICAgIFRvb2x0aXBQb3NpdGlvblR5cGVbVG9vbHRpcFBvc2l0aW9uVHlwZVtcIkxFRlRcIl0gPSAyXSA9IFwiTEVGVFwiO1xuICAgIFRvb2x0aXBQb3NpdGlvblR5cGVbVG9vbHRpcFBvc2l0aW9uVHlwZVtcIlJJR0hUXCJdID0gM10gPSBcIlJJR0hUXCI7XG59KShUb29sdGlwUG9zaXRpb25UeXBlID0gZXhwb3J0cy5Ub29sdGlwUG9zaXRpb25UeXBlIHx8IChleHBvcnRzLlRvb2x0aXBQb3NpdGlvblR5cGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfdG9nZ2xlQnV0dG9uRmllbGRfMSA9IHJlcXVpcmUoXCIuL190b2dnbGVCdXR0b25GaWVsZFwiKTtcbmNvbnN0IGZhbHNleV8xID0gcmVxdWlyZShcIi4uLy4uL3R5cGVHdWFyZHMvZmFsc2V5XCIpO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi4vLi4vc3R5bGVIZWxwZXJzL2Nzc1wiKTtcbmNvbnN0IGRhdGVzXzEgPSByZXF1aXJlKFwiLi4vLi4vcHJpbWl0aXZlSGVscGVycy9kYXRlc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIE11bHRpU2VsZWN0QnV0dG9uRmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHRvZ2dsZSBidXR0b25zIGFzIG11bHRpLXNlbGVjdCBvcHRpb25zXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIE11bHRpU2VsZWN0QnV0dG9uRmllbGQgZXh0ZW5kcyBfdG9nZ2xlQnV0dG9uRmllbGRfMS5Ub2dnbGVCdXR0b25GaWVsZCB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvKipcbiAgICAgKiBNdWx0aVNlbGVjdEJ1dHRvbkVsZW1cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIHRoZSBtdWx0aSBzZWxlY3QgZm9ybVxuICAgICAqIEBwYXJhbSBpZFxuICAgICAqIEBwYXJhbSB0ZW1wbGF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkLCB0ZW1wbGF0ZSkge1xuICAgICAgICBzdXBlcihpZCwgdGVtcGxhdGUpO1xuICAgIH1cbiAgICBnZXQgX211bHRpU2VsZWN0KCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4gW107IH1cbiAgICAvKipcbiAgICAgKiBfcGFyc2VGaWVsZFRlbXBsYXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSB0ZW1wbGF0ZVxuICAgICAqL1xuICAgIF9wYXJzZUZpZWxkVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgc3VwZXIuX3BhcnNlRmllbGRUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkQnRucyA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKi9cbiAgICB1cGRhdGUoZGF0YSwgYWxsb3dFdmVudHMpIHtcbiAgICAgICAgaWYgKGZhbHNleV8xLmlzTnVsbE9yVW5kZWZpbmVkKGRhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAvLyBtYXAgYWxsIG9mIHRoZSBlbGVtZW50c1xuICAgICAgICBkYXRhLm1hcCgoZWxlbSkgPT4ge1xuICAgICAgICAgICAgbGV0IGJ0biA9IHRoaXMuX2dldEJ1dHRvblRvVXBkYXRlKGVsZW0pO1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0QnRuKGJ0biwgZWxlbSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfc2hvdWxkQmVTZWxlY3RlZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gICBlbGVtICAgIFRoZSBlbGVtZW50IHRvIHBvdGVudGlhbGx5IHNlbGVjdFxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgYSBzcGVjaWZpZWQgYnV0dG9uIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgICAqL1xuICAgIF9zaG91bGRCZVNlbGVjdGVkKGVsZW0pIHtcbiAgICAgICAgbGV0IGRJZHggPSB0aGlzLl9pbmRleE9mKGVsZW0udmFsdWUpO1xuICAgICAgICByZXR1cm4gKGRJZHggIT09IC0xKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUNsb25lZEVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQHBhcmFtIGFwcGVuZFRvSURcbiAgICAgKi9cbiAgICBfY3JlYXRlQ2xvbmVkRWxlbWVudChhcHBlbmRUb0lEKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXVsdGlTZWxlY3RCdXR0b25GaWVsZCh0aGlzLmlkICsgYXBwZW5kVG9JRCwgdGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zZWxlY3RCdG5cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQHBhcmFtIGJ0blxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIF9zZWxlY3RCdG4oYnRuLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIWJ0bikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgYnV0dG9uIHdhcyBhbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgIGxldCBzZWxlY3RlZElkeCA9IHRoaXMuX3NlbGVjdGVkQnRucy5pbmRleE9mKGJ0bik7XG4gICAgICAgIGxldCBkYXRhSWR4ID0gdGhpcy5faW5kZXhPZih2YWx1ZSk7XG4gICAgICAgIGlmICgoZGF0YUlkeCAhPT0gLTEpICYmIChzZWxlY3RlZElkeCA9PT0gLTEpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2VsZWN0ZWRJZHggIT0gLTEpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZElkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyhidG4sIFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRCdG5zLnNwbGljZShzZWxlY3RlZElkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YUlkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhLnNwbGljZShkYXRhSWR4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIGJ1dHRvbiB3YXMgdW5zZWxlY3RlZFxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGEucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RlZEJ0bnMucHVzaChidG4pO1xuICAgICAgICAgICAgY3NzXzEuYWRkQ2xhc3MoYnRuLCBcInNlbGVjdGVkXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9pbmRleE9mXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgYXJyYXksIG9yIC0xIGlmIGl0IGlzbid0IGZvdW5kXG4gICAgICovXG4gICAgX2luZGV4T2YodmFsdWUpIHtcbiAgICAgICAgbGV0IG91dElkeCA9IC0xO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCB0aGlzLl9kYXRhLmxlbmd0aDsgaWR4ICs9IDEpIHtcbiAgICAgICAgICAgIGxldCBlbGVtID0gdGhpcy5fZGF0YVtpZHhdO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2VxdWFsVG8oZWxlbSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgb3V0SWR4ID0gaWR4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRJZHg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9lcXVhbFRvXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHRoZSBkYXRhIGluIHRoaXMgZWxlbWVudCBpcyBlcXVpdmFsZW50IHRcbiAgICAgKiBAcGFyYW0gZGF0YUFcbiAgICAgKiBAcGFyYW0gZGF0YUJcbiAgICAgKi9cbiAgICBfZXF1YWxUbyhkYXRhQSwgZGF0YUIpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgZGF0YUEpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChkYXRhQSA9PT0gZGF0YUIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhQSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiAoZGF0ZXNfMS5zaG9ydERhdGUoZGF0YUEpID09PSBkYXRlc18xLnNob3J0RGF0ZShkYXRhQikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoZGF0YUEgPT09IGRhdGFCKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uQ2xlYXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlIGNsZWFyaW5nIGRhdGEgZnJvbSB0aGlzIGVsZW1lbnRcbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IFtdO1xuICAgICAgICAvLyB1bnNlbGVjdCBldmVyeXRoaW5nXG4gICAgICAgIGZvciAobGV0IGlkeCA9ICh0aGlzLl9zZWxlY3RlZEJ0bnMubGVuZ3RoIC0gMSk7IGlkeCA+PSAwOyBpZHggLT0gMSkge1xuICAgICAgICAgICAgbGV0IGVsZW0gPSB0aGlzLl9zZWxlY3RlZEJ0bnNbaWR4XTtcbiAgICAgICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKGVsZW0sIFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RlZEJ0bnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgO1xuICAgIH1cbn1cbmV4cG9ydHMuTXVsdGlTZWxlY3RCdXR0b25GaWVsZCA9IE11bHRpU2VsZWN0QnV0dG9uRmllbGQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBoZWxwZXJzXzEgPSByZXF1aXJlKFwiLi4vaGVscGVyc1wiKTtcbmZ1bmN0aW9uIGlzQXJyYXlDaGlsZEVsZW1lbnQoZWxlbSkge1xuICAgIGlmICghZWxlbSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChoZWxwZXJzXzEuaXNGaWVsZChlbGVtKSkge1xuICAgICAgICByZXR1cm4gKGVsZW0udHlwZSA9PT0gX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtLkFSUkFZX0NISUxEKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5pc0FycmF5Q2hpbGRFbGVtZW50ID0gaXNBcnJheUNoaWxkRWxlbWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgX2NvbGxhcHNpYmxlRmllbGRfMSA9IHJlcXVpcmUoXCIuL19jb2xsYXBzaWJsZUZpZWxkXCIpO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uLy4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG5jb25zdCBzZWN0aW9uRmllbGRfMSA9IHJlcXVpcmUoXCIuL3NlY3Rpb25GaWVsZFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzIgPSByZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIEFycmF5Q2hpbGRGaWVsZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogS2VlcCB0cmFjayBvZiBhIGNoaWxkIG9mIGFuIGFycmF5IGluIHRoZSBmb3JtXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4xXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIEFycmF5Q2hpbGRGaWVsZCBleHRlbmRzIHNlY3Rpb25GaWVsZF8xLlNlY3Rpb25GaWVsZCB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDT05TVFJVQ1QgQU4gQVJSQVkgQ0hJTEQgRUxFTUVOVFxuICAgIC8qKiBjcmVhdGUgYW4gZWxlbWVudCBvZiBhbiBhcnJheSAqL1xuICAgIGNvbnN0cnVjdG9yKGlkLCBjaGlsZHJlbiwgdGVtcGxhdGUpIHtcbiAgICAgICAgc3VwZXIoaWQgPyBpZC50b1N0cmluZygpIDogXCJcIiwgdGVtcGxhdGUgfHwge30sIGNoaWxkcmVuKTtcbiAgICB9XG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gUFJPUEVSVElFU1xuICAgIGdldCBfdHlwZSgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRmllbGRUeXBlRW51bS5BUlJBWV9DSElMRDsgfVxuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4ge307IH1cbiAgICBnZXQgX2RlZmF1bHRDbHMoKSB7IHJldHVybiBcImFycmF5Q2hpbGRcIjsgfVxuICAgIF9nZXRVbmNvbG9yZWRTdHlsZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXJnZVRoZW1lcyhBcnJheUNoaWxkRmllbGQuX3VuY29sb3JlZFN0eWxlcywgX2NvbGxhcHNpYmxlRmllbGRfMS5Db2xsYXBzaWJsZUZpZWxkLl91bmNvbG9yZWRTdHlsZXMsIF9maWVsZF8xLkZpZWxkLl91bmNvbG9yZWRTdHlsZXMpO1xuICAgIH1cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5hbGxvd1Jlb3JkZXJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLm5leHRCdG4gPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgY2xzOiBcIm5leHQga2lwQnRuXCIsXG4gICAgICAgICAgICAgICAgY29udGVudDogXCImI3gyNzZGO1wiLFxuICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuYmFzZSxcbiAgICAgICAgICAgICAgICBldmVudExpc3RlbmVyczoge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4geyB0aGlzLl9jaGFuZ2VPcmRlcihfaW50ZXJmYWNlc18yLkRpcmVjdGlvblR5cGUuRk9SV0FSRCk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLnByZXZCdG4gPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgY2xzOiBcInByZXYga2lwQnRuXCIsXG4gICAgICAgICAgICAgICAgY29udGVudDogXCImI3gyNzZFO1wiLFxuICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuYmFzZSxcbiAgICAgICAgICAgICAgICBldmVudExpc3RlbmVyczoge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4geyB0aGlzLl9jaGFuZ2VPcmRlcihfaW50ZXJmYWNlc18yLkRpcmVjdGlvblR5cGUuQkFDS1dBUkQpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWxlbXMuY2xvc2VCdG4gPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwiY2xvc2Uga2lwQnRuXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIiYjeDI3MTU7XCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLmJhc2UsXG4gICAgICAgICAgICBldmVudExpc3RlbmVyczoge1xuICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7IHRoaXMuX2RlbGV0ZSgpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5jaGlsZHJlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwiZm9ybUNoaWxkcmVuXCIsIFwiXCIsIG51bGwsIG51bGwsIHRoaXMuX2VsZW1zLmJhc2UpO1xuICAgIH1cbiAgICBfY3JlYXRlQ2xvbmVkRWxlbWVudChhcHBlbmRUb0lEKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlDaGlsZEZpZWxkKHRoaXMuX2lkICsgYXBwZW5kVG9JRCwgdGhpcy5fY2hpbGRyZW4pO1xuICAgIH1cbiAgICBfY2xvbmVGb3JtRWxlbWVudChjaGlsZCkge1xuICAgICAgICByZXR1cm4gc3VwZXIuX2Nsb25lRm9ybUVsZW1lbnQoY2hpbGQsIFwifFwiICsgdGhpcy5faWQpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBERUxFVElPTlxuICAgIF9kZWxldGUoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9lbGVtcy5iYXNlKTtcbiAgICAgICAgdGhpcy5fZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoQ2hhbmdlRXZlbnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3VwZGF0ZUludGVybmFsRGF0YVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoYW5kbGUgdXBkYXRpbmcgcGFyZW50IGVsZW1lbnRzIHdpdGggdGhlIGRldGFpbHMgb2YgdGhpcyBjaGlsZFxuICAgICAqL1xuICAgIF91cGRhdGVJbnRlcm5hbERhdGEoaW50ZXJuYWxPbmx5KSB7XG4gICAgICAgIGNvbnN0IF9zdXBlciA9IE9iamVjdC5jcmVhdGUobnVsbCwge1xuICAgICAgICAgICAgX3VwZGF0ZUludGVybmFsRGF0YTogeyBnZXQ6ICgpID0+IHN1cGVyLl91cGRhdGVJbnRlcm5hbERhdGEgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIHB1cnBvc2VmdWxseSBzZXQgdGhlIGRhdGEgdG8gbnVsbCwgZG9uJ3QgZ28gZnVydGhlclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSBydW4gdGhlIHN0YW5kYXJkIHVwZGF0ZSBmdW5jdGlvblxuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5fdXBkYXRlSW50ZXJuYWxEYXRhLmNhbGwodGhpcywgaW50ZXJuYWxPbmx5KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEFORExFIE9SREVSIENIQU5HSU5HXG4gICAgYWRkT3JkZXJpbmdMaXN0ZW5lcihvcmRlckxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX29yZGVybGlzdGVuZXIgPSBvcmRlckxpc3RlbmVyO1xuICAgIH1cbiAgICBfY2hhbmdlT3JkZXIoZGlyZWN0aW9uKSB7XG4gICAgICAgIGlmICghdGhpcy5fb3JkZXJsaXN0ZW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29yZGVybGlzdGVuZXIub25DaGFuZ2VPcmRlcih0aGlzLCBkaXJlY3Rpb24pO1xuICAgIH1cbn1cbmV4cG9ydHMuQXJyYXlDaGlsZEZpZWxkID0gQXJyYXlDaGlsZEZpZWxkO1xuLy8jZW5kcmVnaW9uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8uLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBTVFlMRVNcbkFycmF5Q2hpbGRGaWVsZC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLmtpcEZvcm1FbGVtLmFycmF5IC5mb3JtQ2hpbGRyZW4gLmtpcEZvcm1FbGVtLmFycmF5Q2hpbGRcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI0ZGRlwiLFxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNXB4XCIsXG4gICAgICAgIGJveFNoYWRvdzogXCIxcHggMXB4IDVweCAycHggcmdiYSgwLDAsMCwuMSlcIixcbiAgICAgICAgcGFkZGluZzogXCIxNXB4XCIsXG4gICAgICAgIG1hcmdpbjogXCIwXCIsXG4gICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgXCIubW9iaWxlLmxhcmdlICZcIjoge1xuICAgICAgICAgICAgICAgIG1heFdpZHRoOiBcImNhbGMoNTAlIC0gMjBweClcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLm1vYmlsZSAmXCI6IHtcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogXCJjYWxjKDEwMCUgLSAyMHB4KVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIuYXJyYXlDaGlsZFwiOiB7XG4gICAgICAgICAgICAgICAgbWF4V2lkdGg6IFwiMTAwJVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIuZm9ybUNoaWxkcmVuXCI6IHtcbiAgICAgICAgICAgICAgICBtYXJnaW46IFwiMTBweFwiLFxuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIi5raXBCdG46bm90KC5uZXcpXCI6IHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgZWFzZS1pbi1vdXQgLjJcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjJweFwiLFxuICAgICAgICAgICAgICAgIGJveFNoYWRvdzogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjNTU1XCIsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogXCIwLjVcIixcbiAgICAgICAgICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgXCImLmNsb3NlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogXCIycHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IFwiY2FsYygxMDAlIC0gMjVweClcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIiYubmV4dCwgJi5wcmV2XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIjxmb3JtVGhlbWU+XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjIwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIyMHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogXCJjYWxjKDUwJSAtIDhweClcIixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCImLm5leHRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogXCJjYWxjKDEwMCUgLSAyMHB4KVwiLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIiYucHJldlwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCImOmhvdmVyXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogXCJzY2FsZSgxLjEpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBcIjAuOFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiLmZvcm1DaGlsZHJlbiA+IGRpdi5hcnJheUNoaWxkOmZpcnN0LWNoaWxkIC5wcmV2LmtpcEJ0blwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwibm9uZVwiXG4gICAgfSxcbiAgICBcIi5mb3JtQ2hpbGRyZW4gPiBkaXYuYXJyYXlDaGlsZDpsYXN0LWNoaWxkIC5uZXh0LmtpcEJ0blwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwibm9uZVwiXG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfZmllbGRfMSA9IHJlcXVpcmUoXCIuLi9fZmllbGRcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IGhlbHBlcnNfMSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzXCIpO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL19pbnRlcmZhY2VzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIEZpbGVQYXRoRmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGhhbmRsZSBhIGZpbGUtdXBsb2FkIGZpZWxkIHRoYXQgc3VwcG9ydHMganVzdCBhIGZpbGUgcGF0aFxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBGaWxlUGF0aEZpZWxkIGV4dGVuZHMgX2ZpZWxkXzEuRmllbGQge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gUFJPUEVSVElFU1xuICAgIC8qKiBzZWxlY3QgdGhlIGFwcHJvcHJpYXRlIHR5cGUgZm9yIHRoZSBmaWxlIHBhdGggdHlwZSAqL1xuICAgIGdldCBfdHlwZSgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRmllbGRUeXBlRW51bS5GSUxFX1BBVEg7IH1cbiAgICAvKiogc2V0IGEgZGVmYXVsdCBjbGFzcyBmb3IgZmlsZS1wYXRoIGVsZW1lbnRzICovXG4gICAgZ2V0IF9kZWZhdWx0Q2xzKCkgeyByZXR1cm4gXCJmaWxlcGF0aFwiOyB9XG4gICAgLyoqIHNldCBhIGRlZmF1bHQgdmFsdWUgZm9yIGZpbGUtcGF0aCBlbGVtZW50cyAqL1xuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4gXCJcIjsgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLyoqXG4gICAgICogX3BhcnNlRmllbGRUZW1wbGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgY3JlYXRpbmcgdGhpcyBlbGVtZW50IG9mZiBvZiBhIHRlbXBsYXRlXG4gICAgICogQHBhcmFtICAgdGVtcGxhdGVcbiAgICAgKi9cbiAgICBfcGFyc2VGaWVsZFRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAgIHN1cGVyLl9wYXJzZUZpZWxkVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgICB0aGlzLl9vblNhdmVDYWxsYmFjayA9IHRlbXBsYXRlLm9uU2F2ZTtcbiAgICAgICAgdGhpcy5fYXR0ciA9IHRlbXBsYXRlLmF0dHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkNyZWF0ZUVsZW1lbnRzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqL1xuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9jcmVhdGVTdGFuZGFyZExhYmVsKHRoaXMuX2VsZW1zLmJhc2UpO1xuICAgICAgICB0aGlzLl9lbGVtcy5kaXNwbGF5ID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJkaXNwbGF5XCIsIHRoaXMuX2RhdGEsIG51bGwsIG51bGwsIHRoaXMuX2VsZW1zLmJhc2UpO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dENvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwiZmlsZUNvbnRhaW5lclwiLCBcIlwiLCBudWxsLCBudWxsLCB0aGlzLl9lbGVtcy5iYXNlKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQgPSBoZWxwZXJzXzEuY3JlYXRlSW5wdXRFbGVtZW50KHRoaXMuX2lkICsgXCJ8aW5wdXRcIiwgXCJcIiwgXCJmaWxlXCIsIFwiXCIsIG51bGwsIG51bGwsIHRoaXMuX2VsZW1zLmlucHV0Q29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXRMYWJlbCA9IGhlbHBlcnNfMS5jcmVhdGVMYWJlbEZvcklucHV0KFwiVXBsb2FkIEZpbGVcIiwgdGhpcy5faWQgKyBcInxpbnB1dFwiLCBcImZpbGVwYXRoXCIsIHRoaXMuX2VsZW1zLmlucHV0Q29udGFpbmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uQ2hhbmdlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGhhbmRsZSB3aGVuIHRoZSBkYXRhIGluIHRoaXMgZWxlbWVudCBjaGFuZ2VzXG4gICAgICovXG4gICAgX2dldFZhbHVlRnJvbUZpZWxkKCkge1xuICAgICAgICAvLyBjaGVjayBpZiB0aGUgbGluayBpcyB0aGUgb25lIHRoYXQgY2hhbmdlZCwgYW5kIGlmIHNvLCB1cGRhdGUgdGhhdFxuICAgICAgICBpZiAoIWZhbHNleV8xLmlzTnVsbE9yVW5kZWZpbmVkKHRoaXMuX3RlbXBMaW5rKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uTGlua0NoYW5nZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHF1aXQgaWYgd2UgZG9uJ3QgaGF2ZSBhbnkgZmlsZXMgdXBsb2FkZWRcbiAgICAgICAgdGhpcy5fZmlsZXMgPSB0aGlzLl9lbGVtcy5pbnB1dC5maWxlcztcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5fZmlsZXMpO1xuICAgICAgICBpZiAoIXRoaXMuX2ZpbGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICAvLyB0cmVhdCB0aGUgZmlsZSBuYW1lIGFzIHRoZSB2YWx1ZSBmb3Igbm93XG4gICAgICAgIC8vIHdlIHdpbGwgc3RvcmUgdGhlIHJlYWwgcGF0aCBhcyBwYXJ0IG9mIHRoZSBzYXZlIGZ1bmN0aW9uXG4gICAgICAgIGxldCBzdHIgPSB0aGlzLl9maWxlc1swXS5uYW1lO1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25MaW5rQ2hhbmdlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqL1xuICAgIF9vbkxpbmtDaGFuZ2UoKSB7XG4gICAgICAgIGxldCBvdXQgPSB0aGlzLl90ZW1wTGluaztcbiAgICAgICAgdGhpcy5fdGVtcExpbmsgPSBudWxsO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogdXBkYXRlIHRoaXMgZWxlbWVudCB0byBoYXZlIHRoZSBhcHByb3ByaWF0ZSBkYXRhXG4gICAgICovXG4gICAgdXBkYXRlKGRhdGEsIGFsbG93RXZlbnRzKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLl9lbGVtcy5kaXNwbGF5LmlubmVySFRNTCA9IGRhdGE7XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlID0gXCJcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc2F2ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gICBpbnRlcm5hbE9ubHkgICAgSWYgdHJ1ZSwgd2UncmUgb25seSBzYXZpbmcgdG8gb3VyIG93biBkYXRhIGZpZWxkLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICBub3QgYW4gZXh0ZXJuYWwgY2FsbGVyc1xuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGZpbGUgcGF0aCB0aGF0IGlzIG5vdyBzYXZlZFxuICAgICAqL1xuICAgIHNhdmUoaW50ZXJuYWxPbmx5KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAoaW50ZXJuYWxPbmx5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiB0aGlzIGlzIGFuIGludGVybmFsIGNoYW5nZVxuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGVzKSB7IC8vIE1ha2Ugc3VyZSB0aGF0IGlmIHdlIGhhdmUgZmlsZXMsIHdlJ3JlIHVwbG9hZGluZyB0aGVtXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9vblNhdmVDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICB9IC8vIERvbid0IGRvIGFueXRoaW5nIGlmIHdlIGRvbid0IGhhdmUgYSBjYWxsYmFja1xuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEgPSB5aWVsZCB0aGlzLl9vblNhdmVDYWxsYmFjayh0aGlzLl9maWxlcyk7IC8vIFJ1biBvdXIgY2FsbGJhY2tcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhOyAvLyBSZXR1cm4gdGhlIGFwcHJvcHJpYXRlIGRhdGFcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVDbG9uZWRFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIER1cGxpY2F0ZSB0aGlzIGZvcm0gZWxlbWVudCBhcHByb3ByaWF0ZWx5XG4gICAgICovXG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JRCkge1xuICAgICAgICByZXR1cm4gbmV3IEZpbGVQYXRoRmllbGQodGhpcy5pZCArIGFwcGVuZFRvSUQsIHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydHMuRmlsZVBhdGhGaWVsZCA9IEZpbGVQYXRoRmllbGQ7XG4vLy4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuLyoqIHN0eWxlIGVsZW1lbnRzIGZvciB0aGUgZmlsZSBwYXRoICovXG5GaWxlUGF0aEZpZWxkLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIua2lwRm9ybUVsZW0uZmlsZXBhdGggaW5wdXRbdHlwZT1maWxlXVwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwibm9uZVwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5maWxlcGF0aCBsYWJlbC5maWxlcGF0aFwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCI8Zm9ybVRoZW1lPlwiLFxuICAgICAgICBjb2xvcjogXCIjRkZGXCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCIycHhcIixcbiAgICAgICAgYm94U2hhZG93OiBcIjFweCAxcHggNXB4IDJweCByZ2JhKDAsMCwwLC4xKVwiLFxuICAgICAgICBwYWRkaW5nOiBcIjEwcHhcIixcbiAgICAgICAgZm9udFNpemU6IFwiMC43ZW1cIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0uZmlsZXBhdGggLmRpc3BsYXlcIjoge1xuICAgICAgICBmb250U2l6ZTogXCIwLjZlbVwiLFxuICAgICAgICB3aGl0ZVNwYWNlOiBcImJyZWFrXCJcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBwb3B1cF8xID0gcmVxdWlyZShcIi4vcG9wdXBcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIik7XG5jbGFzcyBZZXNOb1BvcHVwIGV4dGVuZHMgcG9wdXBfMS5Qb3B1cCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFllc05vUG9wdXBcbiAgICAgKiBAcGFyYW0gICBwcm9tcHQgIFdoYXQgdG8gYXNrIHRoZSB1c2VyXG4gICAgICogQHBhcmFtICAgb2JqXG4gICAgICpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9tcHQsIG9uU2VsZWN0aW9uLCBvYmopIHtcbiAgICAgICAgc3VwZXIob2JqKTtcbiAgICAgICAgdGhpcy5fb25TZWxlY3Rpb24gPSBvblNlbGVjdGlvbjtcbiAgICAgICAgdGhpcy5hZGRDb250ZW50KFwiXCIsIFwiXCIsIHByb21wdCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUJ1dHRvbnMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUJ1dHRvbnNcbiAgICAgKlxuICAgICAqIENyZWF0ZSB0aGUgeWVzL25vIGJ1dHRvbnMgZm9yIHRoZSBwb3B1cFxuICAgICAqXG4gICAgICovXG4gICAgX2NyZWF0ZUJ1dHRvbnMoKSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUJ1dHRvbihcIlllc1wiLCBfaW50ZXJmYWNlc18xLlllc05vRW51bS5ZRVMpO1xuICAgICAgICB0aGlzLl9jcmVhdGVCdXR0b24oXCJOb1wiLCBfaW50ZXJmYWNlc18xLlllc05vRW51bS5OTyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVCdXR0b25cbiAgICAgKlxuICAgICAqIENyZWF0ZSBhIGJ1dHRvbiBpbiB0aGUgeWVzIC8gbm8gZm9ybVxuICAgICAqXG4gICAgICovXG4gICAgX2NyZWF0ZUJ1dHRvbihsYWJlbCwgdmFsdWUpIHtcbiAgICAgICAgbGV0IGNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9vblNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX29uU2VsZWN0aW9uKHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuZXJhc2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hZGRCdXR0b24obGFiZWwsIGNhbGxiYWNrKTtcbiAgICB9XG59XG5leHBvcnRzLlllc05vUG9wdXAgPSBZZXNOb1BvcHVwO1xuLyoqXG4gKiBzaG93WWVzTm9Gb3JtXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTaG93IGEgcGFydGljdWxhciB5ZXMgLSBubyBwcm9tcHRcbiAqXG4gKiBAcGFyYW0gICBwcm9tcHQgIFRoZSB0ZXh0IHRvIGRpc3BsYXkgZm9yIHRoZSBmb3JtXG4gKlxuICogQHJldHVybnMgVGhlIHNlbGVjdGlvbiBtYWRlIGJ5IHRoZSB1c2VyXG4gKlxuICovXG5mdW5jdGlvbiBzaG93WWVzTm9Gb3JtKHByb21wdCwgb25TZWxlY3QpIHtcbiAgICBsZXQgZm9ybSA9IG5ldyBZZXNOb1BvcHVwKHByb21wdCwgb25TZWxlY3QpO1xuICAgIGZvcm0uZHJhdyhkb2N1bWVudC5ib2R5KTtcbn1cbmV4cG9ydHMuc2hvd1llc05vRm9ybSA9IHNob3dZZXNOb0Zvcm07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9maWVsZF8xID0gcmVxdWlyZShcIi4uL19maWVsZFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vX2ludGVyZmFjZXNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgTnVtYmVyRmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNyZWF0ZSBhIG51bWJlciBlbGVtZW50IGZvciBhIGZvcm1cbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjFcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgTnVtYmVyRmllbGQgZXh0ZW5kcyBfZmllbGRfMS5GaWVsZCB7XG4gICAgZ2V0IF90eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtLk5VTUJFUjsgfVxuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4gMDsgfVxuICAgIGdldCBfZGVmYXVsdENscygpIHsgcmV0dXJuIFwibnVtYmVyXCI7IH1cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5fY3JlYXRlU3RhbmRhcmRMYWJlbGVkSW5wdXQoKTtcbiAgICAgICAgdGhpcy5faGFuZGxlU3RhbmRhcmRMYXlvdXQoKTtcbiAgICB9XG4gICAgX2dldFZhbHVlRnJvbUZpZWxkKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSArdGhpcy5fZWxlbXMuaW5wdXQudmFsdWU7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JRCkge1xuICAgICAgICByZXR1cm4gbmV3IE51bWJlckZpZWxkKHRoaXMuX2lkICsgYXBwZW5kVG9JRCwgdGhpcyk7XG4gICAgfVxufVxuZXhwb3J0cy5OdW1iZXJGaWVsZCA9IE51bWJlckZpZWxkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQGNsYXNzXHRIaXN0b3J5Tm9kZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBLZWVwIHRyYWNrIG9mIGEgaGlzdG9yeSBldmVudFxuICAgICAqIEBhdXRob3JcdEtpcCBQcmljZVxuICAgICAqIEB2ZXJzaW9uIDEuMC4xXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqL1xuY2xhc3MgSGlzdG9yeU5vZGUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLyoqXG4gICAgICogSGlzdG9yeU5vZGU8VD5cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIHRoZSBoaXN0b3J5IG5vZGVcbiAgICAgKiBAcGFyYW0gICBkYXRhICAgIFdoYXQgdG8gc3RvcmUgaW4gdGhlIG5vZGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxufVxuZXhwb3J0cy5IaXN0b3J5Tm9kZSA9IEhpc3RvcnlOb2RlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vcHJpbWl0aXZlSGVscGVycy9zdHJpbmdzXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4vY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IHN0eWxlc18xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy9zdHlsZXNcIik7XG4vKipcbiAqIGNyZWF0ZVNpbXBsZUxhYmVsZWRFbGVtZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGUgYW4gZWxlbWVudCBhbmQgYW4gYXNzb2NpYXRlZCBsYWJlbFxuICpcbiAqIEBwYXJhbSAgIGlkICAgICAgICBJRCB0byB1c2UgZm9yIHRoZSBsYWJlbGVkIGVsZW0gY29udGFpbmVyXG4gKiBAcGFyYW0gICBjbHMgICAgICAgQ1NTIGNsYXNzIHRvIHVzZSBmb3IgdGhlXG4gKiBAcGFyYW0gICBsYmwgICAgICAgVGV4dCBvZiB0aGUgbGFiZWxcbiAqIEBwYXJhbSAgIGNvbnRlbnQgICBDb250ZW50IG9mIHRoZSBlbGVtZW50IHRoYXQgaXMgYmVpbmcgbGFiZWxlZFxuICogQHBhcmFtICAgY2hpbGRyZW4gIEFueSBhZGRpdGlvbmFsIGNoaWxkIGVsZW1lbnRzXG4gKiBAcGFyYW0gICBwYXJlbnQgICAgVGhlIG5vZGUgdGhpcyBlbGVtZW50IHNob3VsZCBiZSBhZGRlZCB0b1xuICogQHBhcmFtICAgc2tpcFplcm8gIFRydWUgaWYgd2Ugc2hvdWxkIG5vdCBkcmF3IGFueXRoaW5nIGlmIHRoZSBjb250ZW50IGlzIDBcbiAqXG4gKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBlbGVtZW50ICsgbGFiZWxcbiAqXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNpbXBsZUxhYmVsZWRFbGVtZW50KGlkLCBjbHMsIGxibCwgY29udGVudCwgYXR0ciwgY2hpbGRyZW4sIHBhcmVudCwgc2tpcFplcm8pIHtcbiAgICA7XG4gICAgbGV0IG9iajtcbiAgICBsZXQgY0xibDtcbiAgICBsZXQgY0NvbnRlbnQ7XG4gICAgaWYgKGNvbnRlbnQgPT09IHVuZGVmaW5lZCB8fCBjb250ZW50ID09PSBudWxsKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKCh0eXBlb2YgY29udGVudCA9PT0gdHlwZW9mIFwic3RyaW5nXCIpICYmIChzdHJpbmdzXzEudHJpbShjb250ZW50KS5sZW5ndGggPT09IDApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNraXBaZXJvICYmIGNvbnRlbnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBDcmVhdGUgdGhlIHdyYXBwZXJcbiAgICBvYmogPSB7fTtcbiAgICBvYmouaWQgPSBpZDtcbiAgICBvYmoudHlwZSA9IFwiZGl2XCI7XG4gICAgb2JqLmNscyA9IGNscztcbiAgICBvYmouYXR0ciA9IGF0dHI7XG4gICAgb2JqLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgb2JqLnBhcmVudCA9IHBhcmVudDtcbiAgICAvLyBDcmVhdGUgdGhlIGxhYmVsXG4gICAgY0xibCA9IHtcbiAgICAgICAgY2xzOiBcImxibFwiLFxuICAgICAgICBjb250ZW50OiBsYmwsXG4gICAgICAgIHR5cGU6IFwic3BhblwiXG4gICAgfTtcbiAgICAvLyBDcmVhdGUgdGhlIGNvbnRlbnRcbiAgICBjQ29udGVudCA9IHtcbiAgICAgICAgY2xzOiBcImNvbnRlbnRcIixcbiAgICAgICAgY29udGVudDogY29udGVudCxcbiAgICAgICAgdHlwZTogXCJzcGFuXCJcbiAgICB9O1xuICAgIG9iai5jaGlsZHJlbiA9IFtjTGJsLCBjQ29udGVudF07XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KG9iaik7XG59XG5leHBvcnRzLmNyZWF0ZVNpbXBsZUxhYmVsZWRFbGVtZW50ID0gY3JlYXRlU2ltcGxlTGFiZWxlZEVsZW1lbnQ7XG47XG4vKipcbiAqIGNyZWF0ZUxhYmVsZWRFbGVtZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGUgYW4gZWxlbWVudCBhbG9uZyB3aXRoIGEgbGFiZWxcbiAqXG4gKiBAcGFyYW0gICBkYXRhRWxlbSAgICBTcGVjcyBieSB3aGljaCB0aGUgZGF0YSBlbGVtZW50IHNob3VsZCBiZSBjcmVhdGVkXG4gKiBAcGFyYW0gICBsYWJlbEVsZW0gICBTcGVjcyBieSB3aGljaCB0aGUgbGFiZWwgZWxlbWVudCBzaG91bGQgYmUgY3JlYXRlZFxuICpcbiAqIEByZXR1cm5zIFRoZSBsYWJlbGVkIGVsZW1lbnRcbiAqXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUxhYmVsZWRFbGVtZW50KGRhdGFFbGVtLCBsYWJlbEVsZW0pIHtcbiAgICAvLyBxdWl0IGlmIHRoZSBcbiAgICBpZiAoIWRhdGFFbGVtIHx8ICFsYWJlbEVsZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBjcmVhdGUgdGhlIGFjdHVhbCBlbGVtZW50XG4gICAgbGV0IGRhdGEgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudChkYXRhRWxlbSk7XG4gICAgLy8gY3JlYXRlIHRoZSBsYWJlbGVkIGVsZW1lbnRcbiAgICBsYWJlbEVsZW0uY2xzID0gc3R5bGVzXzEuYnVpbGRDbGFzc1N0cmluZyhsYWJlbEVsZW0uY2xzLCBcImxibFwiKTtcbiAgICBsZXQgbGJsID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQobGFiZWxFbGVtKTtcbiAgICAvLyBjcmFldGUgdGhlIHdyYXBwZXIgZWxlbWVudFxuICAgIGxldCBjb250YWluZXIgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7IGNsczogXCJ3cmFwcGVyXCIsIGNoaWxkcmVuOiBbbGJsLCBkYXRhXSB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBsYmw6IGxibCxcbiAgICAgICAgd3JhcHBlcjogY29udGFpbmVyXG4gICAgfTtcbn1cbmV4cG9ydHMuY3JlYXRlTGFiZWxlZEVsZW1lbnQgPSBjcmVhdGVMYWJlbGVkRWxlbWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX21vZGVsXzEgPSByZXF1aXJlKFwiLi4vbW9kZWwvX21vZGVsXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgU2VyaWFsaXphYmxlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGVzIGEgbW9kZWwgdGhhdCBjYW4gYmUgdHVybmVkIGludG8gYSBzdHJpbmdcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgU2VyaWFsaXphYmxlIGV4dGVuZHMgX21vZGVsXzEuX01vZGVsIHtcbiAgICAvKipcbiAgICAgKiBzZXJpYWxpemVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogVHVybiB0aGlzIG1vZGVsIGludG8gYSBzYXZhYmxlIEpTT04gc3RyaW5nXG4gICAgICogQHJldHVybnMgVGhlIHN0cmluZyB2ZXJzaW9uIG9mIHRoaXMgZGF0YVxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLnNhdmVEYXRhKCk7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdG9TdHJpbmdcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogT3ZlcnJpZGUgdG8gYWxsb3cgZm9yIG5hdGl2ZSBqYXZhc2NyaXB0IHN0cmluZ2lmaWNhdGlvblxuICAgICAqIEByZXR1cm5zIFN0cmluZyB2ZXJzaW9uIG9mIHRoaXMgZGF0YVxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJpYWxpemUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZGVzZXJpYWxpemVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogVHVybnMgYSBzdHJpbmcgaW50byBhIHZlcnNpb24gb2YgdGhpcyBtb2RlbFxuICAgICAqIEBwYXJhbSAgIGRhdGEgIFRoZSBzdHJpbmcgdG8gZGVzZXJpYWxpemVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgd2UgY291bGQgZGVzZXJpYWxpemVcbiAgICAgKi9cbiAgICBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICB0aGlzLl9jb3B5RGF0YShwYXJzZWREYXRhKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibm9uIEpTT046IFwiICsgZGF0YSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlNlcmlhbGl6YWJsZSA9IFNlcmlhbGl6YWJsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgc3RyaW5nc18xID0gcmVxdWlyZShcIi4uL3ByaW1pdGl2ZUhlbHBlcnMvc3RyaW5nc1wiKTtcbmNvbnN0IG5hdmlnYXRlXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9uYXZpZ2F0ZVwiKTtcbmNvbnN0IHNpbXBsZUd1YXJkXzEgPSByZXF1aXJlKFwiLi4vdHlwZUd1YXJkcy9zaW1wbGVHdWFyZFwiKTtcbmNvbnN0IGZhbHNleV8xID0gcmVxdWlyZShcIi4uL3R5cGVHdWFyZHMvZmFsc2V5XCIpO1xuY29uc3QgX3R5cGVndWFyZHNfMSA9IHJlcXVpcmUoXCIuLi9zdHJ1Y3RzL190eXBlZ3VhcmRzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgTW9kZWxcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEdlbmVyaWMgY2xhc3MgdG8gYmUgYWJsZSB0byBlYXNpbHkgY3JlYXRlIG1vZGVscyB0aGF0IGNhbiBzYXZlIGRvd24gdG8gSlNPTi5cbiAqXG4gKiBCeSBkZWZhdWx0LCBjYW4gY29weSBvdmVyIHNpbXBsZSBkYXRhIChwcmltaXRpdmVzLCBhcnJheXMsIG9iamVjdHMpIGZvciBib3RoXG4gKiBsb2FkaW5nIGFuZCBzYXZpbmcuXG4gKiBJZiBtb3JlIGNvbXBsZXggbG9naWMgaXMgbmVlZGVkLCBzdXBwb3J0cyBmdW5jdGlvbnMgb2YgdGhlIGZvcm1hdFxuICogICAgICBfY29weVtDYW1lbENhc2VQcm9wZXJ0eU5hbWVdIDogZ2V0IGRhdGEgb3V0IG9mIEpTT04gb250byB0aGUgY2xhc3NcbiAqICAgICAgX3NhdmVbQ2FtZWxDYXNlUHJvcGVydHlOYW1lXSA6IHNhdmUgZGF0YSBpbnRvIEpTT04gZnJvbSB0aGlzIGNsYXNzXG4gKlxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuNVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBfTW9kZWwge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ1JFQVRFIFRIRSBNT0RFTFxuICAgIC8qKlxuICAgICAqIE1vZGVsXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSBhIG5ldyBtb2RlbCBmcm9tIHNwZWNpZmljIGRhdGFcbiAgICAgKiBAcGFyYW0gICBkYXRhVG9Db3B5ICBJZiBwcm92aWRlZCwgdGhlIEpTT04gb2YgdGhpcyBkYXRhIHRvIGNvcHkgb3ZlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGRhdGFUb0NvcHkpIHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgbGlzdGVuZXJzIGZvciBvdXIgcHJvcGVydGllc1xuICAgICAgICB0aGlzLl9fcHJvcGVydHlMaXN0ZW5lcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fX21vZGVsTGlzdGVuZXJzID0gW107XG4gICAgICAgIC8vIENvcHkgZGF0YSBvdmVyIGZyb20gdGhlIHBhc3NlZCBpbiBpbnRlcmZhY2VcbiAgICAgICAgdGhpcy5fc2V0RGVmYXVsdFZhbHVlcygpO1xuICAgICAgICBpZiAoZGF0YVRvQ29weSkge1xuICAgICAgICAgICAgaWYgKGRhdGFUb0NvcHkuc2F2ZURhdGEpIHtcbiAgICAgICAgICAgICAgICBkYXRhVG9Db3B5ID0gZGF0YVRvQ29weS5zYXZlRGF0YSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY29weURhdGEoZGF0YVRvQ29weSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX3NldERlZmF1bHRWYWx1ZXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogT3ZlcnJpZGFibGUgZnVuY3Rpb24gdG8gaW5pdGlhbGl6ZSBhbnkgZGVmYXVsdCBkYXRhIHRoYXQgaXMgbmVlZGVkXG4gICAgICovXG4gICAgX3NldERlZmF1bHRWYWx1ZXMoKSB7IH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIE1PVkUgREFUQSBGUk9NIE9USEVSIEVMRU1FTlRcbiAgICAvKipcbiAgICAgKiBfY29weURhdGFcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ29waWVzIGRhdGEgZnJvbSBhIEpTT04gdmVyc2lvbiBvZiB0aGlzIG1vZGVsXG4gICAgICogQHBhcmFtICAgZGF0YSAgICBUaGUgZGF0YSB0byBzYXZlIGludG8gb3VyIG1vZGVsXG4gICAgICovXG4gICAgX2NvcHlEYXRhKGRhdGEpIHtcbiAgICAgICAgbmF2aWdhdGVfMS5tYXAoZGF0YSwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NvcHlQaWVjZShrZXksIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jb3B5UGllY2VcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ29weSBhIHBhcnRpY3VsYXIgcGllY2Ugb2YgZGF0YSBpbnRvIHRoaXMgY2xhc3NcbiAgICAgKiBAcGFyYW0gICBrZXkgICAgIFRoZSBrZXkgdG8gY29weSBvdmVyXG4gICAgICogQHBhcmFtICAgdmFsdWUgICBUaGUgdmFsdWUgdG8gY29weSBvdmVyXG4gICAgICovXG4gICAgX2NvcHlQaWVjZShrZXksIHZhbHVlKSB7XG4gICAgICAgIGxldCBjYXBpdGFsaXplZE5hbWUgPSAoa2V5WzBdLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmdzXzEucmVzdChrZXksIDEpKTtcbiAgICAgICAgbGV0IGNvcHlGdW5jTmFtZSA9IFwiX2NvcHlcIiArIGNhcGl0YWxpemVkTmFtZTtcbiAgICAgICAgLy8gZG9uJ3Qgb3ZlcnJpZGUgdmFsdWVzIGZvciB1bmRlZmluZWQgZWxlbWVudHNcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgY3VzdG9tIGZ1bmN0aW9uIHRvIHdyaXRlIHRoaXMgZGF0YSwgdXNlIGl0XG4gICAgICAgIGlmICh0aGlzW2NvcHlGdW5jTmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXNbY29weUZ1bmNOYW1lXSh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgO1xuICAgICAgICAvLyBpZiBvdXIgY3VycmVudCB2YWx1ZSBmb3IgdGhpcyBmaWVsZCBjYW4gYmUgdXBkYXRlZCwgZG8gdGhhdCBpbnN0ZWFkXG4gICAgICAgIGlmIChfdHlwZWd1YXJkc18xLmlzVXBkYXRhYmxlKHRoaXNba2V5XSkpIHtcbiAgICAgICAgICAgIHRoaXNba2V5XS51cGRhdGUodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzYXZhYmxlVmFsdWU7XG4gICAgICAgIC8vIG1ha2Ugc2hhbGxvdyBjb3BpZXMgb2YgYXJyYXlzIGJ5IGRlZmF1bHRcbiAgICAgICAgaWYgKHNpbXBsZUd1YXJkXzEuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHNhdmFibGVWYWx1ZSA9ICh2YWx1ZS5zbGljZSgpKTtcbiAgICAgICAgICAgIC8vIHN0cmluZ2lmeSBhbmQgcGFyc2Ugb2JqZWN0cyBieSBkZWZhdWx0XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2ltcGxlR3VhcmRfMS5pc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHNhdmFibGVWYWx1ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICAgICAgICAgIC8vIGp1c3QgdXNlIHByaW1pdGl2ZXMgYXMgaXNcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNhdmFibGVWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG90aGVyd2lzZSwganVzdCBzZXQgb3VyIGludGVybmFsIHByb3BlcnR5IHRvIGhhdmUgdGhpcyB2YWx1ZVxuICAgICAgICB0aGlzLl9zZXRWYWx1ZShrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NvcHlNb2RlbEFycmF5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqXG4gICAgICogQHBhcmFtIGFyclxuICAgICAqIEBwYXJhbSBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIF9jb3B5TW9kZWxBcnJheShhcnIsIGNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGxldCBvdXQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgbSBvZiBhcnIpIHtcbiAgICAgICAgICAgIGxldCBtb2RlbCA9IG5ldyBjb25zdHJ1Y3RvcihtKTtcbiAgICAgICAgICAgIG91dC5wdXNoKG1vZGVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY29weU1vZGVsRGljdGlvbmFyeVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBAcGFyYW0gZGljdFxuICAgICAqIEBwYXJhbSBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIF9jb3B5TW9kZWxEaWN0aW9uYXJ5KGRpY3QsIGNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGxldCBvdXQgPSB7fTtcbiAgICAgICAgbmF2aWdhdGVfMS5tYXAoZGljdCwgKG0sIGtleSkgPT4ge1xuICAgICAgICAgICAgb3V0W2tleV0gPSBuZXcgY29uc3RydWN0b3IobSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogdXBkYXRlIHZhcmlvdXMgZWxlbWVudHMgb2YgdGhlIG1vZGVsIHRvIG1hdGNoIHRoZSBwYXNzZWQgaW4gZGF0YVxuICAgICAqL1xuICAgIHVwZGF0ZShtb2RlbCkge1xuICAgICAgICB0aGlzLl9jb3B5RGF0YShtb2RlbCk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBTQVZFIERBVEFcbiAgICAvKipcbiAgICAgKiBzYXZlRGF0YVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBHZXRzIGRhdGEgb3V0IG9mIHRoaXMgbW9kZWwgaW4gSlNPTiBmb3JtYXRcbiAgICAgKi9cbiAgICBzYXZlRGF0YSgpIHtcbiAgICAgICAgbGV0IG91dCA9IHt9O1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLCAodmFsLCBrZXkpID0+IHtcbiAgICAgICAgICAgIC8vIGRvbid0IHRyeSB0byBjb3B5IGZ1bmN0aW9uc1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRldGVybWluZSB0aGUgZm9ybWF0dGVkIGtleVxuICAgICAgICAgICAgbGV0IGZtdEtleSA9IGtleTtcbiAgICAgICAgICAgIGlmIChmbXRLZXlbMF0gPT09IFwiX1wiKSB7XG4gICAgICAgICAgICAgICAgZm10S2V5ID0gc3RyaW5nc18xLnJlc3QoZm10S2V5LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmbXRLZXkgPT09IFwiX21vZGVsTGlzdGVuZXJzXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZm10S2V5ID09PSBcIl9wcm9wZXJ0eUxpc3RlbmVyc1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2F2ZSB0aGlzIHBhcnRpY3VsYXIga2V5LXZhbHVlXG4gICAgICAgICAgICBsZXQgb3V0VmFsID0gdGhpcy5fc2F2ZVBpZWNlKGZtdEtleSwgdmFsKTtcbiAgICAgICAgICAgIGlmICghZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQob3V0VmFsKSkge1xuICAgICAgICAgICAgICAgIG91dFtmbXRLZXldID0gb3V0VmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3NhdmVQaWVjZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBTYXZlIGEgcGllY2Ugb2YgZGF0YSB0byBvdXIgb3V0IGFycmF5LiBJZiB0aGUgZGF0YSBpcyBhIG1vZGVsIGl0c2VsZiwgY2FsbHNcbiAgICAgKiBTYXZlRGF0YSB0byByZXRyaWV2ZSB0aGUgZGF0YSBmcm9tIHRoYXQgbW9kZWwuXG4gICAgICogQHBhcmFtICAga2V5ICAgICBUaGUga2V5IHRvIHNhdmUgZGF0YSBmb3JcbiAgICAgKiBAcGFyYW0gICB2YWx1ZSAgIFRoZSB2YWx1ZSBvZiB0aGF0IGtleVxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHZhbHVlXG4gICAgICovXG4gICAgX3NhdmVQaWVjZShrZXksIHZhbCkge1xuICAgICAgICBsZXQgY2FwaXRhbGl6ZWROYW1lID0gKGtleVswXS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nc18xLnJlc3Qoa2V5LCAxKSk7XG4gICAgICAgIGxldCBzYXZlRnVuY05hbWUgPSBcIl9zYXZlXCIgKyBjYXBpdGFsaXplZE5hbWU7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGEgY3VzdG9tIGZ1bmN0aW9uIHRvIHNhdmUgdGhpcyBwYXJ0aWN1bGFyIGRhdGEgZWxlbWVudCwgdXNlIHRoYXRcbiAgICAgICAgaWYgKHRoaXNbc2F2ZUZ1bmNOYW1lXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbc2F2ZUZ1bmNOYW1lXSgpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwcml2YXRlTmFtZSA9IFwiX1wiICsga2V5O1xuICAgICAgICBsZXQgZGF0YSA9IHZhbCB8fCB0aGlzW3ByaXZhdGVOYW1lXTtcbiAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIHRoaXMgaXMgYW4gYXJyYXkgb2YgZWxlbWVudHMsIGFuZCBpZiBzbywgY2hlY2sgaWYgdGhleSBoYXZlIHRoZSBhYmlsaXR5IHRvIHNhdmUgdGhlbXNlbHZlc1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXJTYXZlUGllY2UoZGF0YSk7XG4gICAgfVxuICAgIF9pbm5lclNhdmVQaWVjZShkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zYXZlQXJyYXkoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YSAmJiBkYXRhLnNhdmVEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2F2ZU1vZGVsKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2F2ZU9iamVjdChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zYXZlU2ltcGxlKGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9zYXZlQXJyYXkoZGF0YSkge1xuICAgICAgICBsZXQgb3V0QXJyID0gW107XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBlYWNoIGVsZW1lbnQgdG8gc2F2ZSBhcHByb3ByaWF0ZWx5XG4gICAgICAgIGZvciAobGV0IGVsZW0gb2YgZGF0YSkge1xuICAgICAgICAgICAgb3V0QXJyLnB1c2godGhpcy5faW5uZXJTYXZlUGllY2UoZWxlbSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRBcnI7XG4gICAgfVxuICAgIF9zYXZlTW9kZWwoZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YS5zYXZlRGF0YSgpO1xuICAgIH1cbiAgICBfc2F2ZU9iamVjdChkYXRhKSB7XG4gICAgICAgIGxldCBvdXQgPSB7fTtcbiAgICAgICAgbmF2aWdhdGVfMS5tYXAoZGF0YSwgKGVsZW0sIGtleSkgPT4ge1xuICAgICAgICAgICAgb3V0W2tleV0gPSB0aGlzLl9pbm5lclNhdmVQaWVjZShlbGVtKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIF9zYXZlU2ltcGxlKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBNQU5BR0UgTElTVEVORVJTXG4gICAgLyoqXG4gICAgICogX3NldFZhbHVlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGVscGVyIHRvIHVwZGF0ZSBhIHZhbHVlIGluIHRoaXMgbW9kZWwgJiBub3RpZnkgbGlzdGVuZXJzIGFib3V0IHRoZSBjaGFuZ2VcbiAgICAgKi9cbiAgICBfc2V0VmFsdWUoa2V5LCB2YWx1ZSkge1xuICAgICAgICBsZXQgcHJpdmF0ZU5hbWUgPSBcIl9cIiArIGtleTtcbiAgICAgICAgbGV0IGN1cnJlbnRWYWx1ZSA9IHRoaXNbcHJpdmF0ZU5hbWVdO1xuICAgICAgICB0aGlzW3ByaXZhdGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9ub3RpZnlMaXN0ZW5lcnMoa2V5LCBjdXJyZW50VmFsdWUsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX25vdGlmeUxpc3RlbmVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIExldCBhbnkgc3Vic2NyaWJlcnMgdG8gdGhpcyBtb2RlbCBrbm93IHRoYXQgc29tZSBjaGFuZ2VzIGhhdmUgb2NjdXJyZWRcbiAgICAgKiBAcGFyYW0gICBrZXkgICAgIFRoZSBrZXkgdGhhdCBjaGFuZ2VkIGluIHRoZSBtb2RlbFxuICAgICAqIEBwYXJhbSAgIG9sZFZhbCAgVGhlIHByZXZpb3VzIHZlcnNpb24gb2YgdGhpcyBrZXkncyB2YWx1ZVxuICAgICAqIEBwYXJhbSAgIG5ld1ZhbCAgVGhlIG5ldyB2ZXJzaW9uIG9mIHRoaXMga2V5J3MgdmFsdWVcbiAgICAgKi9cbiAgICBfbm90aWZ5TGlzdGVuZXJzKGtleSwgb2xkVmFsLCBuZXdWYWwpIHtcbiAgICAgICAgdGhpcy5fbm90aWZ5TW9kZWxMaXN0ZW5lcnMoa2V5LCBvbGRWYWwsIG5ld1ZhbCk7XG4gICAgICAgIHRoaXMuX25vdGlmeVByb3BlcnR5TGlzdGVuZXJzKGtleSwgb2xkVmFsLCBuZXdWYWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfbm90aWZ5TW9kZWxMaXN0ZW5lcnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogTGV0IGFueSBsaXN0ZW5lcnMgdGhhdCBjYXJlIGFib3V0IGFueSBjaGFuZ2UgdG8gdGhlIG1vZGVsIGtub3cgdGhhdCB0aGlzXG4gICAgICogcGFydGljdWxhciBrZXkgaGFzIGNoYW5nZWQgdG8gdGhpcyBwYXJ0aWN1bGFyIHZhbHVlXG4gICAgICovXG4gICAgX25vdGlmeU1vZGVsTGlzdGVuZXJzKGtleSwgb2xkVmFsLCBuZXdWYWwpIHtcbiAgICAgICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX19tb2RlbExpc3RlbmVycztcbiAgICAgICAgaWYgKCFsaXN0ZW5lcnMgfHwgbGlzdGVuZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGxpc3RlbmVyIG9mIGxpc3RlbmVycykge1xuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGlzdGVuZXIoa2V5LCBuZXdWYWwsIG9sZFZhbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX25vdGlmeVByb3BlcnR5TGlzdGVybmVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBMZXQgYW55IGxpc3RlbmVycyB0aGF0IGNhcmUgYWJvdXQgdGhpcyBwYXJ0aWN1bGFyIHByb3BlcnR5IGtub3cgdGhhdCBpdCBoYXNcbiAgICAgKiBjaGFuZ2VkXG4gICAgICovXG4gICAgX25vdGlmeVByb3BlcnR5TGlzdGVuZXJzKGtleSwgb2xkVmFsLCBuZXdWYWwpIHtcbiAgICAgICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX19wcm9wZXJ0eUxpc3RlbmVyc1trZXldO1xuICAgICAgICBpZiAoIWxpc3RlbmVycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdGlmeSBhbGwgcmVnaXN0ZXJlZCBsaXN0ZW5lcnNcbiAgICAgICAgZm9yIChsZXQgbGlzdGVuZXIgb2YgbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBpZiAoIWxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWwsIG9sZFZhbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogcmVnaXN0ZXJMaXN0ZW5lclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSBrZXlcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKiBAcGFyYW0gdW5pcXVlS2V5XG4gICAgICovXG4gICAgcmVnaXN0ZXJQcm9wZXJ0eUxpc3RlbmVyKGtleSwgbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9fcHJvcGVydHlMaXN0ZW5lcnNba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5fX3Byb3BlcnR5TGlzdGVuZXJzW2tleV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fcHJvcGVydHlMaXN0ZW5lcnNba2V5XS5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcmVnaXN0ZXJNb2RlbExpc3RlbmVyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHJlZ2lzdGVyIGEgbGlzdGVuZXIgZm9yIGFueSBjaGFuZ2UgdGhhdCBvY2N1cnMgaW4gdGhpcyBtb2RlbFxuICAgICAqL1xuICAgIHJlZ2lzdGVyTW9kZWxMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIWxpc3RlbmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogdW5yZWdpc3Rlckxpc3RlbmVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBkZWxldGUgYW55IGxpc3RlbmVycyBhdHRhY2hlZCB0byB0aGlzIG1vZGVsIChhbGxvd3MgZm9yIEdDKVxuICAgICAqL1xuICAgIHVucmVnaXN0ZXJMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX19wcm9wZXJ0eUxpc3RlbmVycyA9IHt9O1xuICAgICAgICB0aGlzLl9fbW9kZWxMaXN0ZW5lcnMgPSBbXTtcbiAgICB9XG59XG5leHBvcnRzLl9Nb2RlbCA9IF9Nb2RlbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbmF2aWdhdGVfMSA9IHJlcXVpcmUoXCIuLi9vYmplY3RIZWxwZXJzL25hdmlnYXRlXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHREYXRhTWFhbmFnZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGdlbmVyaWMgbWFuYWdlciBmb3IgYW55IGVsZW1lbnQgdGhhdCBoYXMgYW4gSURcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb25cdDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIERhdGFNYW5hZ2VyIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBUSEUgTUFOQUdFUlxuICAgIC8qKlxuICAgICAqIERhdGFNYW5hZ2VyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGdlbmVyYXRlIGEgbmV3IGRhdGEgbWFuYWdlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9kYXRhID0ge307XG4gICAgICAgIHRoaXMuX3BvcHVsYXRlV2l0aERlZmF1bHREYXRhKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9wb3B1bGF0ZVdpdGhEZWZhdWx0RGF0YVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBvdmVycmlkYWJsZSBmdW5jdGlvbiB0aGF0IGNhbiBhc3NpZ24gZGVmYXVsdCBkYXRhIHRvIHRoaXMgbWFuYWdlclxuICAgICAqL1xuICAgIF9wb3B1bGF0ZVdpdGhEZWZhdWx0RGF0YSgpIHsgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVBbmRBZGREZWZhdWx0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGFkZCBhIGdlbmVyaWMgZGVmYXVsdCB0byB0aGlzIG1hbmFnZXJcbiAgICAgKi9cbiAgICBfY3JlYXRlQW5kQWRkRGVmYXVsdChkYXRhKSB7XG4gICAgICAgIHRoaXMuYWRkKGRhdGEpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEFERCBBTkQgUkVNT1ZFIERBVEFcbiAgICAvKipcbiAgICAgKiBhZGRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogYWRkIGEgbmV3IGVsZW1lbnQgdG8gdGhpcyBtYW5hZ2VyXG4gICAgICovXG4gICAgYWRkKGRhdHVtKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRhaW5zKGRhdHVtLmlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RhdGFbZGF0dW0uaWRdID0gZGF0dW07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiByZW1vdmVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogcmVtb3ZlIGFuIGVsZW1lbnQgZnJvbSB0aGlzIG1hbmFnZXJcbiAgICAgKi9cbiAgICByZW1vdmUoaWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5zKGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG91dCA9IHRoaXMuZ2V0KGlkKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2RhdGFbaWRdO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjb250YWluc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiB0ZXN0IGlmIGEgcGFydGljdWxhciBlbGVtZW50IGlzIHByZXNlbnQgaW4gdGhlIG1hbmFnZXJcbiAgICAgKi9cbiAgICBjb250YWlucyhpZCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kYXRhW2lkXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2xlYXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY2xlYXIgb3V0IGFsbCBlbGVtZW50cyBpbiB0aGUgbWFuYWdlclxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9kYXRhID0ge307XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gUkVUUklFVkUgREFUQSAgICAgXG4gICAgLyoqXG4gICAgICogZ2V0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGdldCB0aGUgZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgSURcbiAgICAgKi9cbiAgICBnZXQoaWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5zKGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFbaWRdO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gU1RBTkRBUkQgQ09MTEVDVElPTiBGT1JNXG4gICAgLyoqXG4gICAgICogdG9BcnJheVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBnZXQgdGhlIGRhdGEgY29udGFpbmVkIHdpdGhpbiB0aGlzIG1hbmFnZXIgYXMgYW4gYXJyYXlcbiAgICAgKi9cbiAgICB0b0FycmF5KCkge1xuICAgICAgICBsZXQgb3V0ID0gW107XG4gICAgICAgIG5hdmlnYXRlXzEubWFwKHRoaXMuX2RhdGEsIChlbGVtKSA9PiB7XG4gICAgICAgICAgICBvdXQucHVzaChlbGVtKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHRvRGljdGlvbmFyeVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBnZXQgdGhlIGRhdGEgY29udGFpbmVkIHd1dGhpbiB0aGlzIG1hbmFnZXIgYXMgYW4gZGljdGlvbmFyeVxuICAgICAqL1xuICAgIHRvRGljdGlvbmFyeSgpIHtcbiAgICAgICAgbGV0IG91dCA9IHt9O1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLl9kYXRhLCAoZWxlbSwgaWQpID0+IHtcbiAgICAgICAgICAgIG91dFtpZF0gPSBlbGVtO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG59XG5leHBvcnRzLkRhdGFNYW5hZ2VyID0gRGF0YU1hbmFnZXI7XG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFRZUEVTIEFORCBJTlRFUkZBQ0VTXG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vI2VuZHJlZ2lvblxudmFyIElOYXZUcmFuc2l0aW9uVHlwZTtcbihmdW5jdGlvbiAoSU5hdlRyYW5zaXRpb25UeXBlKSB7XG4gICAgSU5hdlRyYW5zaXRpb25UeXBlW0lOYXZUcmFuc2l0aW9uVHlwZVtcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIElOYXZUcmFuc2l0aW9uVHlwZVtJTmF2VHJhbnNpdGlvblR5cGVbXCJPUEFDSVRZXCJdID0gMV0gPSBcIk9QQUNJVFlcIjtcbiAgICBJTmF2VHJhbnNpdGlvblR5cGVbSU5hdlRyYW5zaXRpb25UeXBlW1wiU0xJREVfTEVGVFwiXSA9IDJdID0gXCJTTElERV9MRUZUXCI7XG4gICAgSU5hdlRyYW5zaXRpb25UeXBlW0lOYXZUcmFuc2l0aW9uVHlwZVtcIlNMSURFX1JJR0hUXCJdID0gM10gPSBcIlNMSURFX1JJR0hUXCI7XG4gICAgSU5hdlRyYW5zaXRpb25UeXBlW0lOYXZUcmFuc2l0aW9uVHlwZVtcIlNMSURFX1VQXCJdID0gNF0gPSBcIlNMSURFX1VQXCI7XG4gICAgSU5hdlRyYW5zaXRpb25UeXBlW0lOYXZUcmFuc2l0aW9uVHlwZVtcIlNMSURFX0RPV05cIl0gPSA1XSA9IFwiU0xJREVfRE9XTlwiO1xufSkoSU5hdlRyYW5zaXRpb25UeXBlID0gZXhwb3J0cy5JTmF2VHJhbnNpdGlvblR5cGUgfHwgKGV4cG9ydHMuSU5hdlRyYW5zaXRpb25UeXBlID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgc3RyaW5nc18xID0gcmVxdWlyZShcIi4uL3ByaW1pdGl2ZUhlbHBlcnMvc3RyaW5nc1wiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgU2NyaXB0TG9hZGVyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBEeW5hbWljYWxseSBsb2FkIGEgSlMgZmlsZSB0byB0aGUgZG9jdW1lbnRcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgU2NyaXB0TG9hZGVyIHtcbiAgICAvKipcbiAgICAgKiBTY3JpcHRMb2FkZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgc2NyaXB0IGxvYWRlciB3aXRoIHRoZSBhcHByb3ByaWF0ZSBmb3JtYXQgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihmb3JtYXQpIHtcbiAgICAgICAgdGhpcy5fc2NyaXB0VVJMRm9ybWF0ID0gZm9ybWF0IHx8IFwiezB9XCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9sb2FkU2NyaXB0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIER5bmFtaWNhbGx5IGxvYWQgYSBwYXJ0aWN1bGFyIHNjcmlwdFxuICAgICAqIEBwYXJhbSAgIHNjcmlwdCAgdW5pcXVlIHBpZWNlIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQgaW4gb3VyIGZvcm1hdHRlZCBzdHJpbmdcbiAgICAgKiAgICAgICAgICAgICAgICAgIHRvIGxvYWQgdGhpcyBwYXJ0aWN1bGFyIFVSTFxuICAgICAqL1xuICAgIGxvYWRTY3JpcHQoc2NyaXB0KSB7XG4gICAgICAgIGxldCBmb3JtYXR0ZWRVUkwgPSBzdHJpbmdzXzEuZm9ybWF0KHRoaXMuX3NjcmlwdFVSTEZvcm1hdCwgc2NyaXB0KTtcbiAgICAgICAgY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgdHlwZTogXCJzY3JpcHRcIixcbiAgICAgICAgICAgIGF0dHI6IHsgc3JjOiBmb3JtYXR0ZWRVUkwgfSxcbiAgICAgICAgICAgIHBhcmVudDogZG9jdW1lbnQuaGVhZFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlNjcmlwdExvYWRlciA9IFNjcmlwdExvYWRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBjbGVhblVSTFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogR2VuZXJhdGUgdGhlIGN1cnJlbnQgVVJMIHdpdGhvdXQgYW55IGFkZGl0aW9uYWwgcGFyYW1ldGVyc1xuICovXG5mdW5jdGlvbiBjbGVhblVSTCgpIHtcbiAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSh3aW5kb3cubG9jYXRpb24uc2VhcmNoLCBcIlwiKTtcbn1cbmV4cG9ydHMuY2xlYW5VUkwgPSBjbGVhblVSTDtcbi8qKlxuICogc3BsaXRQYXJhbXNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFNwbGl0IHRoZSBwYXJhbWV0ZXJzIGluY2x1ZGVkIGluIGEgVVJMIHN0cmluZyBpbnRvIHRoZWlyIHJlcXVpc2l0ZVxuICoga2V5LXZhbHVlIHBhaXJzXG4gKi9cbmZ1bmN0aW9uIHNwbGl0UGFyYW1zKCkge1xuICAgIGxldCBwYXJhbVN0ciA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gucmVwbGFjZShcIj9cIiwgXCJcIik7XG4gICAgbGV0IHRtcCA9IHBhcmFtU3RyLnNwbGl0KFwiJlwiKTtcbiAgICBsZXQgcGFyYW1zID0gW107XG4gICAgZm9yIChsZXQgcCBvZiB0bXApIHtcbiAgICAgICAgbGV0IHNwbGl0UCA9IHAuc3BsaXQoXCI9XCIpO1xuICAgICAgICBsZXQgcGFpciA9IHtcbiAgICAgICAgICAgIGtleTogc3BsaXRQWzBdLFxuICAgICAgICAgICAgdmFsOiBzcGxpdFBbMV1cbiAgICAgICAgfTtcbiAgICAgICAgcGFyYW1zLnB1c2gocGFpcik7XG4gICAgfVxuICAgIHJldHVybiBwYXJhbXM7XG59XG5leHBvcnRzLnNwbGl0UGFyYW1zID0gc3BsaXRQYXJhbXM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRyYXdhYmxlXzEgPSByZXF1aXJlKFwiLi4vZHJhd2FibGUvZHJhd2FibGVcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNsYXNzIFNoaWVsZCBleHRlbmRzIGRyYXdhYmxlXzEuRHJhd2FibGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICBfY3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwia2lwU2hpZWxkXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLnNoaWVsZENvbnRlbnQgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwic2hpZWxkQ29udGVudFwiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9jcmVhdGVTaGllbGREZXRhaWxzKCk7XG4gICAgfVxuICAgIDtcbiAgICBkcmF3KHBhcmVudCkge1xuICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgcGFyZW50ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHNoaWVsZCBvbmx5IHNob3dzIGlmIHdlIGFyZSBzaG93aW5nIGZvciBsb25nIGVub3VnaFxuICAgICAgICAvLyBmb3IgYSBodW1hbiBicmFpbiB0byBwcm9jZXNzIGl0XG4gICAgICAgIHRoaXMuX3Nob3dFbGVtZW50VGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHN1cGVyLmRyYXcocGFyZW50KTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3dFbGVtZW50VGltZW91dCA9IG51bGw7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgfVxuICAgIGVyYXNlKCkge1xuICAgICAgICBpZiAodGhpcy5fc2hvd0VsZW1lbnRUaW1lb3V0KSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3Nob3dFbGVtZW50VGltZW91dCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuZXJhc2UoKTtcbiAgICB9XG59XG5leHBvcnRzLlNoaWVsZCA9IFNoaWVsZDtcblNoaWVsZC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLmtpcFNoaWVsZFwiOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDAsMCwwLDAuNilcIixcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBsZWZ0OiBcIjBcIixcbiAgICAgICAgdG9wOiBcIjBcIixcbiAgICAgICAgekluZGV4OiBcIjEwMFwiXG4gICAgfSxcbiAgICBcIi5raXBTaGllbGQgLnNoaWVsZENvbnRlbnRcIjoge1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIlxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHRlc3RVaV8xID0gcmVxdWlyZShcIi4uL3Rlc3RVaVwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIENvbnNvbGVVbml0VGVzdHNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFJ1biBhbGwgYXBwcm9wcmlhdGUgdW5pdCB0ZXN0cyB0aGF0IGNhbiBydW4gaW4gdGhlIGNvbnNvbGVcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQ29uc29sZVVuaXRUZXN0VUkgZXh0ZW5kcyB0ZXN0VWlfMS5UZXN0VUkge1xuICAgIC8qKlxuICAgICAqIHJlbmRlclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBSZW5kZXJzIHRoZSByZXN1bHQgb2YgdGhlIHRlc3QgdG8gdGhlIGNvbnNvbGVcbiAgICAgKi9cbiAgICByZW5kZXJUZXN0KHJlc3VsdCkge1xuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuX2J1aWxkVGVzdFN0cmluZyhyZXN1bHQpO1xuICAgICAgICBpZiAocmVzdWx0LnBhc3MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoY29udGVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RhcnRHcm91cFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBHZW5lcmF0ZSBzZXBhcmF0b3IgZm9yIGdyb3Vwc1xuICAgICAqL1xuICAgIHN0YXJ0R3JvdXAoZ3JvdXBOYW1lKSB7XG4gICAgICAgIGxldCBoZWFkZXJTdHIgPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwTmFtZS5sZW5ndGggKyAyOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGhlYWRlclN0ciArPSBcIj1cIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jdXJyZW50R3JvdXAgPSBncm91cE5hbWU7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiXFxuXCIgKyBoZWFkZXJTdHIgKyBcIlxcbiBcIiArIGdyb3VwTmFtZSArIFwiIFxcblwiICsgaGVhZGVyU3RyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc3RhcnRTdWJncm91cFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBHZW5lcmF0ZSBzZXBhcmF0b3IgZm9yIHN1Ymdyb3Vwc1xuICAgICAqL1xuICAgIHN0YXJ0U3ViZ3JvdXAoc3ViZ3JvdXBOYW1lKSB7XG4gICAgICAgIGxldCBoZWFkZXJTdHIgPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1Ymdyb3VwTmFtZS5sZW5ndGggKyAyOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGhlYWRlclN0ciArPSBcIi1cIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jdXJyZW50U3ViZ3JvdXAgPSBzdWJncm91cE5hbWU7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiXFxuIFwiICsgc3ViZ3JvdXBOYW1lICsgXCIgXFxuXCIgKyBoZWFkZXJTdHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYnVpbGRUZXN0U3RyaW5nXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZXMgYSB0ZXN0IGVsZW1lbnQgZm9yIHRoZSBkaXYgd2l0aCB0aGUgc3BlY2lmaWVkIHJlc3VsdHNcbiAgICAgKiBAcmV0dXJuc1x0VGhlIHN0cmluZyBkaXNwbGF5aW5nIHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBfYnVpbGRUZXN0U3RyaW5nKHJlc3VsdCkge1xuICAgICAgICBsZXQgY29udGVudCA9IFwiXCI7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2J1aWxkVmFsdWVTdHJpbmcocmVzdWx0KTtcbiAgICAgICAgY29udGVudCArPSB0aGlzLl9wYXNzVG9TdHJpbmcocmVzdWx0LnBhc3MpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGNvbnRlbnQgKz0gXCI6IFwiO1xuICAgICAgICBpZiAoIXJlc3VsdC5wYXNzKSB7XG4gICAgICAgICAgICBjb250ZW50ICs9IHRoaXMuX2N1cnJlbnRHcm91cCA/IHRoaXMuX2N1cnJlbnRHcm91cCArIFwiIC0tPiBcIiA6IFwiXCI7XG4gICAgICAgICAgICBjb250ZW50ICs9IHRoaXMuX2N1cnJlbnRTdWJncm91cCA/IHRoaXMuX2N1cnJlbnRTdWJncm91cCArIFwiIC0tPiBcIiA6IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgY29udGVudCArPSByZXN1bHQubmFtZTtcbiAgICAgICAgY29udGVudCArPSAoISF2YWx1ZSA/IFwiIFtcIiArIHZhbHVlICsgXCJdXCIgOiBcIlwiKTtcbiAgICAgICAgY29udGVudCArPSAocmVzdWx0Lm1lc3NhZ2UgPyBcIiAtIFwiICsgcmVzdWx0Lm1lc3NhZ2UgOiBcIlwiKTtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxufVxuZXhwb3J0cy5Db25zb2xlVW5pdFRlc3RVSSA9IENvbnNvbGVVbml0VGVzdFVJO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkcmF3YWJsZV8xID0gcmVxdWlyZShcIi4uLy4uL2RyYXdhYmxlL2RyYXdhYmxlXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uLy4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBIVE1MVGVzdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogR2VuZXJhdGUgYSBIVE1MIFVJIGZvciBhIHNldCBvZiB1bml0IHRlc3RzXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFVJIGV4dGVuZHMgZHJhd2FibGVfMS5EcmF3YWJsZSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICBfY3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zID0ge1xuICAgICAgICAgICAgYmFzZTogY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgIGNsczogXCJ0ZXN0c1wiXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGdyb3VwczogW11cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZWxlbXMudGVzdENvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJ0ZXN0Q29udGFpbmVyXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLmJhc2VcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZFZpc3VhbEJ1dHRvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGQgYSBidXR0b24gdGhhdCBjYW4gcmVuZGVyIGFuIGludGVncmF0aW9uIHRlc3QgZm9yIHZlcmlmaWNhdGlvbiB3aXRoIHRoZVxuICAgICAqIHNwZWNpZmllZCBkZXRhaWxzXG4gICAgICovXG4gICAgYWRkVmlzdWFsQnV0dG9uKGJ0bikge1xuICAgICAgICBsZXQgYnRuRWxlbSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJ2aXN1YWxUZXN0QnRuXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2dldFBhcmVudEVsZW1lbnQoKSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgeyBjb250ZW50OiBidG4ubGFiZWwsIGNsczogXCJpbm5lckJ0blwiIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBldmVudExpc3RlbmVyczoge1xuICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7IGJ0bi5jYWxsYmFjaygpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZGRUZXN0UmVzdWx0KHJlc3VsdCkge1xuICAgICAgICBsZXQgZ3JvdXAgPSB0aGlzLl9nZXRQYXJlbnRFbGVtZW50KCk7XG4gICAgICAgIGxldCB0ZXN0ID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcInRlc3RcIixcbiAgICAgICAgICAgIHBhcmVudDogZ3JvdXAsXG4gICAgICAgICAgICBhdHRyOiB7IHRpdGxlOiByZXN1bHQudmFsdWUgfVxuICAgICAgICB9KTtcbiAgICAgICAgY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoeyBjbHM6IHJlc3VsdC5wYXNzU3RyLCBjb250ZW50OiByZXN1bHQucGFzc1N0ci50b1VwcGVyQ2FzZSgpLCBwYXJlbnQ6IHRlc3QgfSk7XG4gICAgICAgIGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHsgY2xzOiBcIm5hbWVcIiwgY29udGVudDogcmVzdWx0Lm5hbWUsIHBhcmVudDogdGVzdCB9KTtcbiAgICAgICAgaWYgKCFyZXN1bHQucGFzcykge1xuICAgICAgICAgICAgY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoeyBjbHM6IFwiZXJyXCIsIGNvbnRlbnQ6IHJlc3VsdC52YWx1ZSwgcGFyZW50OiB0ZXN0IH0pO1xuICAgICAgICAgICAgY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoeyBjbHM6IFwibWVzc2FnZVwiLCBjb250ZW50OiByZXN1bHQubWVzc2FnZSwgcGFyZW50OiB0ZXN0IH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHN0YXJ0R3JvdXBcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR2VuZXJhdGUgYSBncm91cCBvZiB1bml0IHRlc3RzLCBsYWJlbGVkIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lXG4gICAgICovXG4gICAgc3RhcnRHcm91cChncm91cE5hbWUpIHtcbiAgICAgICAgbGV0IGdyb3VwID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImdyb3VwXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLnRlc3RDb250YWluZXJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmdyb3Vwcy5wdXNoKGdyb3VwKTtcbiAgICAgICAgLy8gYWRkIHRoZSBuYW1lIG9mIHRoZSBncm91cFxuICAgICAgICBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwiZ3JvdXBOYW1lXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IGdyb3VwLFxuICAgICAgICAgICAgY29udGVudDogZ3JvdXBOYW1lXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzdGFydFN1Ymdyb3VwXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEdlbmVyYXRlIGEgc3ViZ3JvdXAgb2YgdW5pdCB0ZXN0cywgbGFiZWxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZVxuICAgICAqL1xuICAgIHN0YXJ0U3ViZ3JvdXAoc3ViZ3JvdXBOYW1lKSB7XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgdGl0bGUgZWxlbWVudCBmb3IgdGhpcyBncm91cCBvZiBlbGVtc1xuICAgICAgICBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwiZnVuY3Rpb25UaXRsZVwiLFxuICAgICAgICAgICAgY29udGVudDogc3ViZ3JvdXBOYW1lLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9nZXRQYXJlbnRFbGVtZW50KClcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9nZXRQYXJlbnRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbXMuZ3JvdXBzW3RoaXMuX2VsZW1zLmdyb3Vwcy5sZW5ndGggLSAxXSB8fCB0aGlzLl9lbGVtcy50ZXN0Q29udGFpbmVyO1xuICAgIH1cbn1cbmV4cG9ydHMuVUkgPSBVSTtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG4vKiogc3R5bGVzIHRvIHVzZSBmb3IgdGhpcyB1bml0IHRlc3QgKi9cblVJLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIuaGlkZGVuXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICB9LFxuICAgIFwiLmdyb3VwXCI6IHtcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjEwcHhcIixcbiAgICAgICAgZGlzcGxheTogXCIjNjY2XCIsXG4gICAgICAgIGJvcmRlckNvbGxhcHNlOiBcImNvbGxhcHNlXCIsXG4gICAgICAgIHdpZHRoOiBcIjIwJVwiXG4gICAgfSxcbiAgICBcIi5ncm91cE5hbWVcIjoge1xuICAgICAgICBmb250U2l6ZTogXCIxLjZlbVwiLFxuICAgICAgICBjb2xvcjogXCIjNjY2XCJcbiAgICB9LFxuICAgIFwiLmZ1bmN0aW9uVGl0bGVcIjoge1xuICAgICAgICBmb250U2l6ZTogXCIxLjNlbVwiLFxuICAgICAgICBjb2xvcjogXCIjODg4XCIsXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiNXB4XCJcbiAgICB9LFxuICAgIFwiLnRlc3RzXCI6IHtcbiAgICAgICAgbWFyZ2luTGVmdDogXCI1MHB4XCIsXG4gICAgICAgIGZvbnRGYW1pbHk6IFwiU2Vnb2UgVUksIENhbGlicmksIEhlbHZldGljYVwiXG4gICAgfSxcbiAgICBcIi50ZXN0cyAudGVzdENvbnRhaW5lclwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBmbGV4V3JhcDogXCJ3cmFwXCJcbiAgICB9LFxuICAgIFwiLnRlc3RcIjoge1xuICAgICAgICBkaXNwbGF5OiBcInRhYmxlLXJvd1wiXG4gICAgfSxcbiAgICBcIi50ZXN0ID4gZGl2XCI6IHtcbiAgICAgICAgYm9yZGVyOiBcInNvbGlkIHRyYW5zcGFyZW50XCIsXG4gICAgICAgIGJvcmRlcldpZHRoOiBcIjEwcHhcIixcbiAgICAgICAgYm9yZGVyUmlnaHRXaWR0aDogXCIyMHB4XCIsXG4gICAgICAgIG1hcmdpblJpZ2h0OiBcIjEwcHhcIixcbiAgICAgICAgZGlzcGxheTogXCJ0YWJsZS1jZWxsXCJcbiAgICB9LFxuICAgIFwiLnRlc3QgLmZhaWxcIjoge1xuICAgICAgICBjb2xvcjogXCJyZ2IoMTkwLDUwLDMwKVwiLFxuICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIlxuICAgIH0sXG4gICAgXCIudGVzdCAucGFzc1wiOiB7XG4gICAgICAgIGNvbG9yOiBcInJnYig1MCwxOTAsMzApXCIsXG4gICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgICAgICBtYXJnaW5SaWdodDogXCIxMHB4XCIsXG4gICAgICAgIGRpc3BsYXk6IFwidGFibGUtY2VsbFwiXG4gICAgfSxcbiAgICBcIi50ZXN0IC5uYW1lXCI6IHtcbiAgICAgICAgY29sb3I6IFwiIzMzM1wiLFxuICAgICAgICBtYXJnaW5SaWdodDogXCIxMHB4XCIsXG4gICAgICAgIGRpc3BsYXk6IFwidGFibGUtY2VsbFwiXG4gICAgfSxcbiAgICBcIi50ZXN0IC5lcnJcIjoge1xuICAgICAgICBmb250U3R5bGU6IFwiaXRhbGljXCIsXG4gICAgICAgIGNvbG9yOiBcIiM2NjZcIixcbiAgICAgICAgZm9udFNpemU6IFwiMC44ZW1cIlxuICAgIH0sXG4gICAgXCIudGVzdCAubWVzc2FnZVwiOiB7XG4gICAgICAgIGNvbG9yOiBcIiM4ODhcIixcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMTBweFwiLFxuICAgICAgICBkaXNwbGF5OiBcInRhYmxlLWNlbGxcIlxuICAgIH0sXG4gICAgXCIudmlzdWFsVGVzdEJ0blwiOiB7XG4gICAgICAgIGNvbG9yOiBcIiNGRkZcIixcbiAgICAgICAgcGFkZGluZzogXCIycHggMTBweFwiLFxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiM3B4XCIsXG4gICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgIHdpZHRoOiBcImF1dG9cIixcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjhweFwiXG4gICAgfSxcbiAgICBcIi5pbm5lckJ0blwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMDZDXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMnB4IDEwcHhcIlxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHRlc3RVaV8xID0gcmVxdWlyZShcIi4uL3Rlc3RVaVwiKTtcbmNvbnN0IGh0bWxVaV8xID0gcmVxdWlyZShcIi4vaHRtbFVpXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgSFRNTFVuaXRUZXN0VUlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIEhUTUxVbml0VGVzdFVJIGV4dGVuZHMgdGVzdFVpXzEuVGVzdFVJIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvKipcbiAgICAgKiBIVE1MVW5pdFRlc3RVSVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBJbml0aWFsaXplIHRoZSBVSSBuZWVkZWQgZm9yIHRoZSBIVE1MIFVuaXQgVGVzdGVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2RyYXdhYmxlID0gbmV3IGh0bWxVaV8xLlVJKCk7XG4gICAgICAgIHRoaXMuX2RyYXdhYmxlLmRyYXcoZG9jdW1lbnQuYm9keSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlbmRlclRlc3RcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogU2hvdyB0aGUgcmVzdWx0cyBvZiB0aGUgc3BlY2lmaWVkIHRlc3RcbiAgICAgKi9cbiAgICByZW5kZXJUZXN0KHJlc3VsdCkge1xuICAgICAgICBsZXQgZXh0ZW5kZWRSZXN1bHRzID0gcmVzdWx0O1xuICAgICAgICBleHRlbmRlZFJlc3VsdHMudmFsdWUgPSB0aGlzLl9idWlsZFZhbHVlU3RyaW5nKHJlc3VsdCk7XG4gICAgICAgIGV4dGVuZGVkUmVzdWx0cy5wYXNzU3RyID0gdGhpcy5fcGFzc1RvU3RyaW5nKHJlc3VsdC5wYXNzKTtcbiAgICAgICAgdGhpcy5fZHJhd2FibGUuYWRkVGVzdFJlc3VsdChleHRlbmRlZFJlc3VsdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzdGFydEdyb3VwXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSBhIGdyb3VwLCBsYWJlbGVkIHdpdGggdGhlIHNwZWNpZmllZCB0ZXN0XG4gICAgICovXG4gICAgc3RhcnRHcm91cChncm91cE5hbWUpIHtcbiAgICAgICAgdGhpcy5fZHJhd2FibGUuc3RhcnRHcm91cChncm91cE5hbWUpO1xuICAgIH1cbiAgICBzdGFydFN1Ymdyb3VwKHN1Ymdyb3VwTmFtZSkge1xuICAgICAgICB0aGlzLl9kcmF3YWJsZS5zdGFydFN1Ymdyb3VwKHN1Ymdyb3VwTmFtZSk7XG4gICAgfVxuICAgIGFkZFZpc3VhbFRlc3RCdXR0b24oYnRuKSB7XG4gICAgICAgIHRoaXMuX2RyYXdhYmxlLmFkZFZpc3VhbEJ1dHRvbihidG4pO1xuICAgIH1cbn1cbmV4cG9ydHMuSFRNTFVuaXRUZXN0VUkgPSBIVE1MVW5pdFRlc3RVSTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2FzeW5jXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2JpbmRpbmdcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vYm91bmRWaWV3c1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jYW52YXNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vY29sb3JcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vY29tbWFuZHNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vY29tcGFyYWJsZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb250ZXh0TWVudVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kYXRhU3RydWN0dXJlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kZWJ1Z1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kcmFnZ2FibGVcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZHJhd2FibGVcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZHluYW1pY1NlbGVjdFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9lZGl0YWJsZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9ldmVudHNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZXh0ZXJuYWxcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZmlsZVNlcnZlclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9mb3JtXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2hpc3RvcnlcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaHRtbEhlbHBlcnNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaWRlbnRpZmlhYmxlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2ltYWdlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL21hbmFnZXJzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL21hdGhzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL21vZGVsXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL25hbWVkQ2xhc3NcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vbmF2aWdhdGlvblwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9vYmplY3RIZWxwZXJzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3BvcHVwc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wcmltaXRpdmVIZWxwZXJzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3JvdXRpbmdcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc2VyaWFsaXphYmxlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NlcnZlclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zaGllbGRzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NvcnRpbmdcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc3RydWN0c1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zdHlsYWJsZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zdHlsZUhlbHBlcnNcIikpO1xuLy8gZXhwb3J0ICogZnJvbSAnLi9zdmcnO1xuX19leHBvcnQocmVxdWlyZShcIi4vdG9vbHRpcFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90eXBlR3VhcmRzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3VuaXRUZXN0c1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi92aWV3c1wiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogd2FpdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU2V0IGEgdGltZW91dCBhbmQgcmVzb2x2ZSBhIHByb21pc2Ugd2hlbiB0aGUgdGltZW91dCBpcyBkb25lXG4gKiBAcGFyYW0gICB0aW1lSW5NcyAgICBUaW1lIHRvIHdhaXQgYmVmb3JlIGV4ZWN1dGluZyB0aGVcbiAqL1xuZnVuY3Rpb24gd2FpdCh0aW1lSW5Ncykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHdpbmRvdy5zZXRUaW1lb3V0KHJlc29sdmUsIHRpbWVJbk1zKSk7XG59XG5leHBvcnRzLndhaXQgPSB3YWl0O1xuLyoqXG4gKiBvbk5leHRSZW5kZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFJ1biBzb21lIGNvZGUgdGhlIG5leHQgdGltZSB0aGUgc2NyZWVuIGlzIHJlbmRlcmluZ1xuICovXG5mdW5jdGlvbiBuZXh0UmVuZGVyKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMubmV4dFJlbmRlciA9IG5leHRSZW5kZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9iaW5kZXJcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaGVscGVyXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2JvdW5kVmlld1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90eXBlR3VhcmRzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3VwZGF0ZWFibGVWaWV3XCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkcmF3YWJsZV8xID0gcmVxdWlyZShcIi4uL2RyYXdhYmxlL2RyYXdhYmxlXCIpO1xuY29uc3QgaGVscGVyXzEgPSByZXF1aXJlKFwiLi4vYmluZGluZy9oZWxwZXJcIik7XG5jb25zdCBodG1sR3VhcmRfMSA9IHJlcXVpcmUoXCIuLi90eXBlR3VhcmRzL2h0bWxHdWFyZFwiKTtcbmNvbnN0IF90eXBlZ3VhcmRzXzEgPSByZXF1aXJlKFwiLi4vZHJhd2FibGUvX3R5cGVndWFyZHNcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IGFzeW5jXzEgPSByZXF1aXJlKFwiLi4vYXN5bmNcIik7XG5jb25zdCBfdHlwZWd1YXJkc18yID0gcmVxdWlyZShcIi4uL3N0cnVjdHMvX3R5cGVndWFyZHNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdEJvdW5kVmlld1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY3JlYXRlIGEgdmlldyB0aGF0IGJpbmRzIHRvIGEgdmlldyBtb2RlbFxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4wLjFcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQm91bmRWaWV3IGV4dGVuZHMgZHJhd2FibGVfMS5EcmF3YWJsZSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDUkVBVEUgVEhFIFZJRVdcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgICAgICB0aGlzLl91cGRhdGVGdW5jdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5fbW9kZWwgPSB7fTtcbiAgICAgICAgdGhpcy5fY3JlYXRlRWxlbWVudHMoKTtcbiAgICB9XG4gICAgZ2V0IGNvbmZpZygpIHsgcmV0dXJuIHRoaXMuX2dldENvbmZpZygpOyB9XG4gICAgc2V0IGNvbmZpZyhkYXRhKSB7IHRoaXMuX3NldENvbmZpZyhkYXRhKTsgfVxuICAgIGdldCBtb2RlbCgpIHsgcmV0dXJuIHRoaXMuX2dldE1vZGVsKCk7IH1cbiAgICBzZXQgbW9kZWwoZGF0YSkgeyB0aGlzLl9zZXRNb2RlbChkYXRhKTsgfVxuICAgIGdldCB1cGRhdGVGdW5jdGlvbnMoKSB7IHJldHVybiB0aGlzLl91cGRhdGVGdW5jdGlvbnM7IH1cbiAgICBzZXQgdXBkYXRlRnVuY3Rpb25zKGRhdGEpIHsgdGhpcy5fdXBkYXRlRnVuY3Rpb25zID0gZGF0YTsgfVxuICAgIF9zaG91bGRTa2lwQ3JlYXRlRWxlbWVudHMoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBNT0RFTCBIQU5ETElOR1xuICAgIF9nZXRNb2RlbCgpIHtcbiAgICAgICAgbGV0IG9sZE1vZGVsID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLl9tb2RlbCkpO1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLl9vblBvdGVudGlhbE1vZGVsQ2hhbmdlKG9sZE1vZGVsKSwgMCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2RlbDtcbiAgICB9XG4gICAgX3NldE1vZGVsKGRhdGEpIHtcbiAgICAgICAgbGV0IG9sZE1vZGVsID0gdGhpcy5fbW9kZWw7XG4gICAgICAgIHRoaXMuX21vZGVsID0gZGF0YTtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGhpcy5fb25Qb3RlbnRpYWxNb2RlbENoYW5nZShvbGRNb2RlbCksIDApO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENPTkZJRyBIQU5ETElOR1xuICAgIF9nZXRDb25maWcoKSB7XG4gICAgICAgIGxldCBvbGRDb25maWcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuX2NvbmZpZykpO1xuICAgICAgICBhc3luY18xLndhaXQoMClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuX29uUG90ZW50aWFsQ29uZmlnQ2hhbmdlKG9sZENvbmZpZykpO1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnO1xuICAgIH1cbiAgICBfc2V0Q29uZmlnKGRhdGEpIHtcbiAgICAgICAgbGV0IG9sZENvbmZpZyA9IHRoaXMuX2NvbmZpZztcbiAgICAgICAgdGhpcy5fY29uZmlnID0gZGF0YTtcbiAgICAgICAgYXN5bmNfMS53YWl0KDApXG4gICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLl9vblBvdGVudGlhbENvbmZpZ0NoYW5nZShvbGRDb25maWcpKTtcbiAgICB9XG4gICAgX29uUG90ZW50aWFsQ29uZmlnQ2hhbmdlKG9sZENvbmZpZykge1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEVWRU5UIEhBTkRMRVJTXG4gICAgLyoqXG4gICAgICogX29uUG90ZW50aWFsTW9kZWxDaGFuZ2VcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogb3ZlcnJpZGFibGUgZnVuY3Rpb24gdG8gYWxsb3cgZm9yIGFueSBhcnJheS1iYXNlZCBjaGlsZCB2aWV3c1xuICAgICAqL1xuICAgIF9vblBvdGVudGlhbE1vZGVsQ2hhbmdlKG9sZE1vZGVsKSB7IH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEJJTkRJTkdcbiAgICAvKipcbiAgICAgKiBfYmluZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBiaW5kIGEgcGFydGljdWxhciBlbGVtZW50IG9mIHRoZSB2aWV3IG1vZGVsIHRvIHRoZSBzcGVjaWZpZWQgZWxlbWVudFxuICAgICAqL1xuICAgIF9iaW5kKGVsZW0sIGtleSkge1xuICAgICAgICBoZWxwZXJfMS5iaW5kKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSB0aGUgbnVsbCBjYXNlXG4gICAgICAgICAgICBpZiAoIXRoaXMuX21vZGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBoYW5kbGUgaWYgdGhlIHVzZXIgc3BlY2lmaWVkIGEgc3BlY2lmaWMga2V5IGluIHRoZSBtb2RlbFxuICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb2RlbFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCBqdXN0IHJldHVybiB0aGUgbW9kZWxcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb2RlbDtcbiAgICAgICAgfSwgdGhpcy5fY3JlYXRlVXBkYXRlRnVuYyhlbGVtLCBrZXkpLCAoKSA9PiB0aGlzLl9zaG91bGREZWxldGUoZWxlbSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlVXBkYXRlRnVuY1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoZWxwZXIgdGhhdCB3aWxsIGdlbmVyYXRlIGFuIHVwZGF0ZSBmdW5jdGlvbiBmb3IgYmluZGluZ1xuICAgICAqL1xuICAgIF9jcmVhdGVVcGRhdGVGdW5jKGVsZW0sIGtleSkge1xuICAgICAgICByZXR1cm4gKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAvLyBhbHdheXMgcHJlZmVyIGEgdXNlci1zcGVjaWZpZWQgZnVuY3Rpb24gb3ZlciB0aGUgZGVmYXVsdCBiZWhhdmlvclxuICAgICAgICAgICAgaWYgKHRoaXMuX3VwZGF0ZUZ1bmN0aW9uc1trZXldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRnVuY3Rpb25zW2tleV0odmFsdWUsIGVsZW0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl91cGRhdGVGdW5jdGlvbnNbXCJfXCJdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRnVuY3Rpb25zW1wiX1wiXSh2YWx1ZSwgZWxlbSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCBmYWxsIGJhY2sgb24gYSBkZWZhdWx0IGFwcHJvcHJpYXRlIHRvIHRoZSBlbGVtZW50IHR5cGVcbiAgICAgICAgICAgIGlmIChodG1sR3VhcmRfMS5pc0hUTUxFbGVtZW50KGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlSHRtbEVsZW1lbnQoZWxlbSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoX3R5cGVndWFyZHNfMi5pc1VwZGF0YWJsZShlbGVtKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVVwZGF0ZWFibGUoZWxlbSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQm91bmRWaWV3KGVsZW0sIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3VwZGF0ZUh0bWxFbGVtZW50KGVsZW0sIHZhbHVlKSB7XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBlbGVtLmlubmVySFRNTCA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIF91cGRhdGVVcGRhdGVhYmxlKGVsZW0sIHZhbHVlKSB7XG4gICAgICAgIGVsZW0udXBkYXRlKHZhbHVlKTtcbiAgICB9XG4gICAgX3VwZGF0ZUJvdW5kVmlldyhlbGVtLCB2YWx1ZSkge1xuICAgICAgICBlbGVtLm1vZGVsID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNldFVwZGF0ZUZ1bmN0aW9uXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHNwZWNpZnkgaG93IGEgcGFydGljdWxhciBlbGVtZW50IHNob3VsZCBiZSB1cGRhdGVkIHdoZW4gdGhlIG1vZGVsIHVwZGF0ZXNcbiAgICAgKi9cbiAgICBzZXRVcGRhdGVGdW5jdGlvbihrZXksIHVwZGF0ZUZ1bmMpIHtcbiAgICAgICAgaWYgKCF1cGRhdGVGdW5jKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXBkYXRlRnVuY3Rpb25zW2tleV0gPSB1cGRhdGVGdW5jO1xuICAgIH1cbiAgICBfc2hvdWxkRGVsZXRlKGVsZW0pIHtcbiAgICAgICAgLy8gaWYgdGhpcyBlbGVtZW50IGlzIG5vIGxvbmdlciByZW5kZXJlZCwgd2Ugc2hvdWxkIGtpbGwgaXRzIGJpbmRpbmdzXG4gICAgICAgIGlmIChfdHlwZWd1YXJkc18xLmlzRHJhd2FibGUoZWxlbSkpIHtcbiAgICAgICAgICAgIHJldHVybiAoIWVsZW0uYmFzZS5wYXJlbnROb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAoIWVsZW0ucGFyZW50Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBVTlJFTkRFUklOR1xuICAgIGVyYXNlKCkge1xuICAgICAgICBzdXBlci5lcmFzZSgpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhFTFBFUlNcbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiB3cmFwcGVyIGFyb3VuZCB0aGUgc3RhbmRhcmQgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGVsZW1lbnRzIHRoYXQgaGFuZGxlc1xuICAgICAqIGJpbmRpbmcgYSBsaXR0bGUgbW9yZSBudWFuY2VkXG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnQob2JqKSB7XG4gICAgICAgIC8vIHVzZSB0aGUgc3RhbmRhcmQgZnVuY3Rpb24sIGJ1dCByZWN1cnNlIHdpdGggdGhpcyBvbmVcbiAgICAgICAgbGV0IHJlY3Vyc2VGdW5jID0gKG9iaikgPT4geyByZXR1cm4gdGhpcy5fY3JlYXRlRWxlbWVudChvYmopOyB9O1xuICAgICAgICBsZXQgZWxlbSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVDdXN0b21FbGVtZW50KG9iaiwgdGhpcy5fZWxlbXMsIHJlY3Vyc2VGdW5jKTtcbiAgICAgICAgLy8gaWYgYSBiaW5kaW5nIGlzIHNwZWNpZmllZCwgc2V0IGl0IHVwXG4gICAgICAgIGlmIChvYmouYm91bmRUbykge1xuICAgICAgICAgICAgdGhpcy5fYmluZEVsZW1lbnQoZWxlbSwgb2JqKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbTtcbiAgICB9XG4gICAgX2JpbmRFbGVtZW50KGVsZW0sIG9iaikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGJvdW5kRWxlbSA9IGVsZW07XG4gICAgICAgICAgICBpZiAob2JqLmtleSAmJiBvYmouZHJhd2FibGUpIHtcbiAgICAgICAgICAgICAgICBib3VuZEVsZW0gPSB0aGlzLl9lbGVtc1tvYmoua2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2JpbmQoYm91bmRFbGVtLCBvYmouYm91bmRUbyk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuQm91bmRWaWV3ID0gQm91bmRWaWV3O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBpc1VwZGF0ZWFibGVWaWV3KGVsZW0pIHtcbiAgICBpZiAoZWxlbS51cGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuaXNVcGRhdGVhYmxlVmlldyA9IGlzVXBkYXRlYWJsZVZpZXc7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRyYXdhYmxlXzEgPSByZXF1aXJlKFwiLi4vZHJhd2FibGUvZHJhd2FibGVcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBVcGRhdGVhYmxlVmlld1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlIGEgdmlldyB0aGF0IHdpbGwgYmUgdXNlZCBpbiBhIE1WQyB3b3JsZFxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBVcGRhdGVhYmxlVmlldyBleHRlbmRzIGRyYXdhYmxlXzEuRHJhd2FibGUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLyoqXG4gICAgICogTVZDVmlld1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgYSB2aWV3IHRoYXQgd2lsbCBiZSB1c2VkIGZvciBNVkMtc3RydWN0dXJlZCBwcm9qZWN0c1xuICAgICAqIEBwYXJhbSAgIGFkZGxQYXJhbXMgIEFOeXRoaW5nIGFkZGl0aW9uYWwgbmVlZGVkIHRvIHJlbmRlciB0aGlzIHZpZXdcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciguLi5hZGRsUGFyYW1zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUVsZW1lbnRzKC4uLmFkZGxQYXJhbXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfc2hvdWxkU2tpcENyZWF0ZUVsZW1lbnRzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFNraXAgY3JlYXRpbmcgZWxlbWVudHMgdW50aWwgd2UgYXJlIHJlYWR5XG4gICAgICovXG4gICAgX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50cygpIHsgcmV0dXJuIHRydWU7IH1cbn1cbmV4cG9ydHMuVXBkYXRlYWJsZVZpZXcgPSBVcGRhdGVhYmxlVmlldztcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL19pbnRlcmZhY2VzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NhbnZhc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jYW52YXNFbGVtZW50XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NhbnZhc0dyb3VwXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NhbnZhc1N0eWxlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NpcmNsZUVsZW1lbnRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcGF0aEVsZW1lbnRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcmVjdGFuZ2xlRWxlbWVudFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90ZXh0RWxlbWVudFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRyYXdhYmxlXzEgPSByZXF1aXJlKFwiLi4vZHJhd2FibGUvZHJhd2FibGVcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBjYW52YXNHcm91cF8xID0gcmVxdWlyZShcIi4vY2FudmFzR3JvdXBcIik7XG5jb25zdCBjb21iaW5lXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9jb21iaW5lXCIpO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL2Nzc1wiKTtcbmNvbnN0IG1hdGhzXzEgPSByZXF1aXJlKFwiLi4vbWF0aHMvbWF0aHNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgSFRNTDVDYW52YXNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNsYXNzIHRoYXQgcmVwcmVzZW50cyBhIHNldCBvZiB0b29scyBhcm91bmQgdGhlIEhUTUw1IGNhbnZhc1xuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjFcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgSFRNTDVDYW52YXMgZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gQ09OU1RSVUNUT1JcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBIVE1MNSBjYW52YXMgZWxlbWVudFxuICAgICAqXG4gICAgICogQHBhcmFtXHRpZFx0XHRcdFVucWl1ZSBJRCB0byB1c2UgZm9yIHRoZSBjYW52YXNcbiAgICAgKiBAcGFyYW1cdG9wdGlvbnNcdFx0T3B0aW9ucyB0byBjcmVhdGUgdGhlIGNhbnZhcyB3aXRoXG4gICAgICpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpZCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2lkID0gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pZCA9IFwiY2FudmFzXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgbGF5ZXJzIHByb3BlcnR5XG4gICAgICAgIHRoaXMuX2xheWVycyA9IFtdO1xuICAgICAgICB0aGlzLl9uZWVkc0luaXRpYWxEaW1lbnNpb25zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVjb25jaWxlT3B0aW9ucyhvcHRpb25zKTsgLy8gUHVsbCBpbiB1c2VyIG9wdGlvbnNcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZVJlY3RhbmdsZXMoKTsgLy8gSW5pdGlhbGl6ZSB0aGUgdmlld2luZyByZWN0YW5nbGVzXG4gICAgICAgIHRoaXMuX2NyZWF0ZUVsZW1lbnRzKCk7IC8vIENyZWF0ZSBlbGVtZW50c1xuICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpOyAvLyBBZGQgYWxsIHJlbGV2YW50IGV2ZW50IGxpc3RlbmVyc1xuICAgIH1cbiAgICBnZXQgcmVsYXRpdmVWaWV3KCkgeyByZXR1cm4gdGhpcy5fcmVsYXRpdmVWaWV3OyB9XG4gICAgZ2V0IHpvb21GYWN0b3IoKSB7IHJldHVybiB0aGlzLl96b29tRmFjdG9yOyB9XG4gICAgc2V0IHpvb21GYWN0b3Ioem9vbSkgeyB0aGlzLl96b29tRmFjdG9yID0gem9vbTsgfVxuICAgIGdldCBuZWVkc1JlZHJhdygpIHsgcmV0dXJuIHRoaXMuX25lZWRzUmVkcmF3OyB9XG4gICAgc2V0IG5lZWRzUmVkcmF3KHZhbHVlKSB7IHRoaXMuX25lZWRzUmVkcmF3ID0gdmFsdWU7IH1cbiAgICAvKiogcHVibGljIGdldHRlciBmb3IgY2FudmFzIGVsZW1lbnQgKi9cbiAgICBnZXQgY2FudmFzKCkgeyByZXR1cm4gdGhpcy5fZWxlbXMuYmFzZTsgfVxuICAgIC8qKiBwdWJsaWMgZ2V0dGVyIGZvciBlZmZlY3RzIGNhbnZhcyAqL1xuICAgIGdldCBlZmZlY3RDYW52YXMoKSB7IHJldHVybiB0aGlzLl9lbGVtcy5lZmZlY3RDYW52YXM7IH1cbiAgICBnZXQgY29udGV4dCgpIHsgcmV0dXJuIHRoaXMuX2NvbnRleHQ7IH1cbiAgICBnZXQgZWZmZWN0Q29udGV4dCgpIHsgcmV0dXJuIHRoaXMuX2VmZmVjdENvbnRleHQ7IH1cbiAgICBnZXQgbGF5ZXJzKCkgeyByZXR1cm4gdGhpcy5fbGF5ZXJzOyB9XG4gICAgc2V0IG9uUHJlUmVuZGVyKHByZVJlbmRlcikgeyB0aGlzLl9vblByZVJlbmRlciA9IHByZVJlbmRlcjsgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vI3JlZ2lvbiBIQU5ETEUgSU5JVElBTElaQVRJT05cbiAgICAvKipcbiAgICAgKiBfcmVjb25jaWxlT3B0aW9uc1xuICAgICAqXG4gICAgICogcHVsbCBpbiBkZWZhdWx0IG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0dXNlck9wdGlvbnNcdFx0VGhlIG9wdGlvbnMgdG8gcmVjb25jaWxlXG4gICAgICpcbiAgICAgKi9cbiAgICBfcmVjb25jaWxlT3B0aW9ucyh1c2VyT3B0aW9ucykge1xuICAgICAgICBpZiAoIXVzZXJPcHRpb25zKSB7XG4gICAgICAgICAgICB1c2VyT3B0aW9ucyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBkZWZhdWx0cyA9IHRoaXMuX2NyZWF0ZURlZmF1bHRPcHRpb25zKCk7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBjb21iaW5lXzEucmVjb25jaWxlT3B0aW9ucyh1c2VyT3B0aW9ucywgZGVmYXVsdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlRGVmYXVsdE9wdGlvbnNcbiAgICAgKlxuICAgICAqIHNldCBvdXIgZGVmYXVsdCBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VGhlIHNldCBvZiBkZWZhdWx0IG9wdGlvbnMgZm9yIGNhbnZhc2VzXG4gICAgICpcbiAgICAgKi9cbiAgICBfY3JlYXRlRGVmYXVsdE9wdGlvbnMoKSB7XG4gICAgICAgIGxldCBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIFJFTkRFUl9SQVRFOiAzMCxcbiAgICAgICAgICAgIFpPT01fREVMVEE6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgb3V0ID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiAwLjAzICogdGhpcy5fem9vbUZhY3Rvci54LFxuICAgICAgICAgICAgICAgICAgICB5OiAwLjAzICogdGhpcy5fem9vbUZhY3Rvci55XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFNJWkU6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogNjAwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogNDUwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgTUFYX1pPT006IHtcbiAgICAgICAgICAgICAgICB4OiAxNSxcbiAgICAgICAgICAgICAgICB5OiAxNVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIE1JTl9aT09NOiB7XG4gICAgICAgICAgICAgICAgeDogMC4xLFxuICAgICAgICAgICAgICAgIHk6IDAuMVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGVmYXVsdHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9pbml0aWFsaXplUmVjdGFuZ2xlc1xuICAgICAqXG4gICAgICogY3JlYXRlIHRoZSByZWN0YW5nbGVzIHRoYXQgdGhlIGNhbnZhcyBuZWVkcyB0byBjYXJlIGFib3V0XG4gICAgICpcbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZVJlY3RhbmdsZXMoKSB7XG4gICAgICAgIC8vIEFCU09MVVRFXG4gICAgICAgIHRoaXMuX2Fic29sdXRlRGltZW5zaW9ucyA9IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgdzogdGhpcy5fb3B0aW9ucy5TSVpFLndpZHRoLFxuICAgICAgICAgICAgaDogdGhpcy5fb3B0aW9ucy5TSVpFLmhlaWdodFxuICAgICAgICB9O1xuICAgICAgICAvLyBSRUxBVElWRVxuICAgICAgICB0aGlzLl9yZWxhdGl2ZVZpZXcgPSB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIHc6IHRoaXMuX29wdGlvbnMuU0laRS53aWR0aCxcbiAgICAgICAgICAgIGg6IHRoaXMuX29wdGlvbnMuU0laRS5oZWlnaHRcbiAgICAgICAgfTtcbiAgICAgICAgLy8gWk9PTSBTQ0FMRVxuICAgICAgICB0aGlzLl96b29tRmFjdG9yID0ge1xuICAgICAgICAgICAgeDogMSxcbiAgICAgICAgICAgIHk6IDFcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50c1xuICAgICAqXG4gICAgICogRG9uJ3QgbGV0IHRoZSBjb25zdHJ1Y3RvciBjcmVhdGUgZWxlbWVudHNcbiAgICAgKlxuICAgICAqL1xuICAgIF9zaG91bGRTa2lwQ3JlYXRlRWxlbWVudHMoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUVsZW1lbnRzXG4gICAgICpcbiAgICAgKiBjcmVhdGUgdGhlIGNhbnZhcyBlbGVtZW50XG4gICAgICpcbiAgICAgKi9cbiAgICBfY3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgY2FudmFzIGVsZW1lbnRzXG4gICAgICAgIHRoaXMuX2VsZW1zID0ge1xuICAgICAgICAgICAgYmFzZTogdGhpcy5fY3JlYXRlQ2FudmFzKCksXG4gICAgICAgICAgICBlZmZlY3RDYW52YXM6IHRoaXMuX2NyZWF0ZUNhbnZhcyh0cnVlKVxuICAgICAgICB9O1xuICAgICAgICAvLyBjcmVhdGUgdGhlIGNvbnRleHRzIGZvciBlYWNoXG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSB0aGlzLl9lbGVtcy5iYXNlLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgdGhpcy5fZWZmZWN0Q29udGV4dCA9IHRoaXMuX2VsZW1zLmVmZmVjdENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVDYW52YXNcbiAgICAgKlxuICAgICAqIGNyZWF0ZSBhbiBhY3R1YWwgY2FudmFzIGVsZW1lbnQgYW5kIGFzc2lnbnMgaXQgdG8gb3VyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBcdGlzRm9yRWZmZWN0cyBcdElmIHRydWUsIGNyZWF0ZXMgYW4gZWZmZWN0IGNhbnZhcyBpbnN0ZWFkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VGhlIGNhbnZhcyB0aGF0IGlzIGNyZWF0ZWRcbiAgICAgKlxuICAgICAqL1xuICAgIF9jcmVhdGVDYW52YXMoaXNGb3JFZmZlY3RzKSB7XG4gICAgICAgIGxldCBjYW52YXM7XG4gICAgICAgIC8vIENyZWF0ZSBhIGNhbnZhcyBvZiB0aGUgcmlnaHQgc2l6ZVxuICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgdGhpcy5fb3B0aW9ucy5TSVpFLndpZHRoLnRvU3RyaW5nKCkpO1xuICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIHRoaXMuX29wdGlvbnMuU0laRS5oZWlnaHQudG9TdHJpbmcoKSk7XG4gICAgICAgIC8vIGdpdmUgdGhlIGNhbnZhcyB0aGUgcmlnaHQgY2xhc3NcbiAgICAgICAgbGV0IGNscyA9IFwiY2FudmFzXCI7XG4gICAgICAgIGlmIChpc0ZvckVmZmVjdHMpIHtcbiAgICAgICAgICAgIGNscyArPSBcIiBlZmZlY3RzXCI7XG4gICAgICAgIH1cbiAgICAgICAgY3NzXzEuYWRkQ2xhc3MoY2FudmFzLCBjbHMpO1xuICAgICAgICByZXR1cm4gY2FudmFzO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gRFJBV0lORyBDT01NQU5EU1xuICAgIC8qKlxuICAgICAqIGRyYXdcbiAgICAgKlxuICAgICAqIGRyYXdzIHRoZSBjYW52YXMgZWxlbWVudFxuICAgICAqXG4gICAgICogQHBhcmFtXHRwYXJlbnRcdFRoZSBwYXJlbnQgZWxlbWVudCB0byBkcmF3IG9uXG4gICAgICpcbiAgICAgKi9cbiAgICBkcmF3KHBhcmVudCkge1xuICAgICAgICBzdXBlci5kcmF3KHBhcmVudCk7XG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtcy5lZmZlY3RDYW52YXMpO1xuICAgICAgICAvLyBmbGFnIHRoYXQgd2UgbmVlZCB0byByZWRyYXcgaW5zdGVhZCBvZiBjYWxsaW5nIGl0IGRpcmVjdGx5XG4gICAgICAgIHRoaXMuX25lZWRzUmVkcmF3ID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY2xlYXJcbiAgICAgKlxuICAgICAqIGNsZWFyIHRoZSBjYW52YXNlc1xuICAgICAqXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuX29wdGlvbnMuU0laRS53aWR0aCwgdGhpcy5fb3B0aW9ucy5TSVpFLmhlaWdodCk7XG4gICAgICAgIHRoaXMuX2VmZmVjdENvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuX29wdGlvbnMuU0laRS53aWR0aCwgdGhpcy5fb3B0aW9ucy5TSVpFLmhlaWdodCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9kcmF3RWFjaEVsZW1lbnRcbiAgICAgKlxuICAgICAqIGxvb3AgdGhyb3VnaCBldmVyeSBlbGVtZW50IGluIHRoZSBjYW52YXNcbiAgICAgKlxuICAgICAqL1xuICAgIF9kcmF3RWFjaEVsZW1lbnQoKSB7XG4gICAgICAgIC8vIGZpcnN0IGNsZWFyIHRoZSBjYW52YXNcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAvLyB0aGVuIGxvb3AgdGhyb3VnaCBlYWNoIG9mIHRoZSBsYXllcnMgaW4gb3JkZXJcbiAgICAgICAgbGV0IGxheWVyO1xuICAgICAgICBmb3IgKGxheWVyIG9mIHRoaXMuX2xheWVycykge1xuICAgICAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGF5ZXIudXBkYXRlRGltZW5zaW9ucyh0aGlzLl9yZWxhdGl2ZVZpZXcpO1xuICAgICAgICAgICAgbGF5ZXIuZHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9yZW5kZXJGcmFtZVxuICAgICAqXG4gICAgICogbWFrZSBzdXJlIHdlIGFjdHVhbGx5IGRyYXcgc29tZXRoaW5nXG4gICAgICpcbiAgICAgKi9cbiAgICBfcmVuZGVyRnJhbWUoKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBvbmx5IGRvIHRoaXMga2luZCBvZiBzdHVmZiBpZiBzb21ldGhpbmcgY2hhbmdlZFxuICAgICAgICBpZiAodGhpcy5fbmVlZHNSZWRyYXcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vblByZVJlbmRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uUHJlUmVuZGVyKCk7XG4gICAgICAgICAgICB9IC8vIENhbGwgcHJlLXJlbmRlciBjb2RlXG4gICAgICAgICAgICB0aGlzLl9kcmF3RWFjaEVsZW1lbnQoKTsgLy8gYWN0dWFsbHkgZHJhdyBlbGVtZW50c1xuICAgICAgICAgICAgdGhpcy5fbmVlZHNSZWRyYXcgPSBmYWxzZTsgLy8gU2V0IHRoYXQgd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gcmVkcmF3XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGFuaW1hdGlvbiBsaXN0ZW5lcnNcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7IHRoaXMuX3JlbmRlckZyYW1lKCk7IH0pO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gQUREL1JFTU9WRSBFTEVNRU5UU1xuICAgIC8qKlxuICAgICAqIGFkZEVsZW1lbnRcbiAgICAgKlxuICAgICAqIGFkZCBhbiBlbGVtZW50IHRvIHRoZSBjYW52YXNcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0ZWxlbVx0VGhlIGVsZW1lbnQgdG8gYWRkIHRvIHRoZSBjYW52YXNcbiAgICAgKlxuICAgICAqL1xuICAgIGFkZEVsZW1lbnQoZWxlbSkge1xuICAgICAgICAvLyBncmFiIHRoZSBhcHByb3ByaWF0ZSBsYXllciB0byBhZGQgdG8gKG9yIGNyZWF0ZSBpdCBpZiBpdCBkb2Vzbid0IHlldCBleGlzdClcbiAgICAgICAgbGV0IGxheWVyID0gdGhpcy5fZ2V0T3JDcmVhdGVMYXllcihlbGVtLmxheWVyKTtcbiAgICAgICAgLy8gQWRkIHRoZSBlbGVtZW50IHRvIHRoZSBhcHByb3ByaWF0ZSBsYXllclxuICAgICAgICBsYXllci5hZGRFbGVtZW50KGVsZW0pO1xuICAgICAgICAvLyBVcGRhdGUgdGhlIGFic29sdXRlIGRpbWVuc2lvbnNcbiAgICAgICAgdGhpcy5fdXBkYXRlQWJzb2x1dGVEaW1lbnNpb25zRnJvbUVsZW0oZWxlbS5kaW1lbnNpb25zKTtcbiAgICAgICAgLy8gTWFyayB0aGF0IHdlIG5lZWQgdG8gcmVkcmF3XG4gICAgICAgIHRoaXMuX25lZWRzUmVkcmF3ID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcmVtb3ZlRWxlbWVudFxuICAgICAqXG4gICAgICogcmVtb3ZlIGFuIGVsZW1lbnQgZnJvbSBvdXIgaW50ZXJuYWwgY29sbGVjdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtXHRpZFx0XHRUaGUgaWQgb2YgdGhlIGVsZW1lbnQgdG8gcmVtb3ZlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VHJ1ZSBpZiB0aGUgZWxlbWVudCB3YXMgcmVtb3ZlZFxuICAgICAqXG4gICAgICovXG4gICAgcmVtb3ZlRWxlbWVudChpZCkge1xuICAgICAgICBsZXQgc3VjY2VzcztcbiAgICAgICAgLy8gcmVseSBvbiB0aGUgbGF5ZXJzIHRvIHJlbW92ZSB0aGVpciBvd24gZWxlbWVudHNcbiAgICAgICAgbGV0IGxheWVyO1xuICAgICAgICBmb3IgKGxheWVyIG9mIHRoaXMuX2xheWVycykge1xuICAgICAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3VjY2VzcyA9IGxheWVyLnJlbW92ZUVsZW1lbnQoaWQpO1xuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3VwZGF0ZUFic29sdXRlRGltZW5zaW9uc0Zyb21FbGVtXG4gICAgICpcbiAgICAgKiBVcGRhdGUgaG93IGJpZyB0aGUgY2FudmFzIGlzIGJhc2VkIG9uIHRoZSBlbGVtZW50cyB0aGF0IGV4aXN0IG9uIHRoZSBjYW52YXNcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0YWRkZWREaW1lbnNpb25zXHRcdFRoZSBkaW1lbnNpb25zIG9mIHRoZSBlbGVtZW50IHdlIGFyZSBhZGRpbmdcbiAgICAgKlxuICAgICAqL1xuICAgIC8vIFRPRE86IERvZXMgdGhpcyBuZWVkIHRvIGV4aXN0P1xuICAgIF91cGRhdGVBYnNvbHV0ZURpbWVuc2lvbnNGcm9tRWxlbShhZGRlZERpbWVuc2lvbnMpIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHggZXh0cmVtYSBjaGFuZ2VzXG4gICAgICAgIGlmICh0aGlzLl9uZWVkc0luaXRpYWxEaW1lbnNpb25zIHx8IGFkZGVkRGltZW5zaW9ucy54IDwgdGhpcy5fYWJzb2x1dGVEaW1lbnNpb25zLngpIHtcbiAgICAgICAgICAgIHRoaXMuX2Fic29sdXRlRGltZW5zaW9ucy54ID0gYWRkZWREaW1lbnNpb25zLng7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChhZGRlZERpbWVuc2lvbnMueCArIGFkZGVkRGltZW5zaW9ucy53KSA+ICh0aGlzLl9hYnNvbHV0ZURpbWVuc2lvbnMueCArIHRoaXMuX2Fic29sdXRlRGltZW5zaW9ucy53KSkge1xuICAgICAgICAgICAgdGhpcy5fYWJzb2x1dGVEaW1lbnNpb25zLncgPSAoKGFkZGVkRGltZW5zaW9ucy54ICsgYWRkZWREaW1lbnNpb25zLncpIC0gdGhpcy5fYWJzb2x1dGVEaW1lbnNpb25zLngpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGZvciB5IGV4dHJlbWEgY2hhbmdlc1xuICAgICAgICBpZiAodGhpcy5fbmVlZHNJbml0aWFsRGltZW5zaW9ucyB8fCBhZGRlZERpbWVuc2lvbnMueSA8IHRoaXMuX2Fic29sdXRlRGltZW5zaW9ucy55KSB7XG4gICAgICAgICAgICB0aGlzLl9hYnNvbHV0ZURpbWVuc2lvbnMueSA9IGFkZGVkRGltZW5zaW9ucy55O1xuICAgICAgICB9XG4gICAgICAgIGlmICgoYWRkZWREaW1lbnNpb25zLnkgKyBhZGRlZERpbWVuc2lvbnMuaCkgPiAodGhpcy5fYWJzb2x1dGVEaW1lbnNpb25zLnkgKyB0aGlzLl9hYnNvbHV0ZURpbWVuc2lvbnMuaCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2Fic29sdXRlRGltZW5zaW9ucy5oID0gKChhZGRlZERpbWVuc2lvbnMueSArIGFkZGVkRGltZW5zaW9ucy5oKSAtIHRoaXMuX2Fic29sdXRlRGltZW5zaW9ucy55KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9uZWVkc0luaXRpYWxEaW1lbnNpb25zID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9nZXRPckNyZWF0ZUxheWVyXG4gICAgICpcbiAgICAgKiBmaW5kIHRoZSBleGlzdGluZyBsYXllciBvciBjcmVhdGUgaXQgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAqXG4gICAgICogQHBhcmFtXHRsYXllcklkeFx0VGhlIGluZGV4IG9mIHRoZSBsYXllclxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRoZSBncm91cCBmb3IgdGhlIGxheWVyXG4gICAgICpcbiAgICAgKi9cbiAgICBfZ2V0T3JDcmVhdGVMYXllcihsYXllcklkeCkge1xuICAgICAgICBsZXQgbGF5ZXIgPSB0aGlzLl9sYXllcnNbbGF5ZXJJZHhdO1xuICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICBsYXllciA9IG5ldyBjYW52YXNHcm91cF8xLkNhbnZhc0dyb3VwKFwibGF5ZXJcIiArIGxheWVySWR4KTtcbiAgICAgICAgICAgIHRoaXMuX2xheWVyc1tsYXllcklkeF0gPSBsYXllcjtcbiAgICAgICAgICAgIGxheWVyLmNhbnZhcyA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxheWVyO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gWk9PTSBIQU5ETElOR1xuICAgIC8qKlxuICAgICAqIF9vbk1vdXNlV2hlZWxcbiAgICAgKlxuICAgICAqIGhhbmRsZSB0aGUgbW91c2V3aGVlbCBldmVudFxuICAgICAqXG4gICAgICogQHBhcmFtXHRldmVudFx0VGhlIGFjdHVhbCBldmVudCB0cmlnZ2VyZWQgYnkgdGhlIG1vdXNld2hlZWxcbiAgICAgKlxuICAgICAqL1xuICAgIF9vbk1vdXNlV2hlZWwoZXZlbnQpIHtcbiAgICAgICAgbGV0IGRlbHRhID0gZXZlbnQuZGVsdGFZO1xuICAgICAgICBkZWx0YSA9IChNYXRoLmFicyhkZWx0YSkgLyBkZWx0YSk7XG4gICAgICAgIHRoaXMuem9vbShkZWx0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHpvb21cbiAgICAgKlxuICAgICAqIGFjdHVhbGx5IHpvb20gdGhlIGNhbnZhcyBhbiBhcHByb3ByaWF0ZSBhbW91bnRcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0ZGVsdGFcdFRoZSBhbW91bnQgdG8gem9vbSBieVxuICAgICAqXG4gICAgICovXG4gICAgem9vbShkZWx0YSkge1xuICAgICAgICAvLyBHZXQgdGhlIHN0YW5kYXJkIHpvb20gd2Ugc2hvdWxkIGJlIGFwcGx5aW5nXG4gICAgICAgIGxldCB6b29tRGVsdGEgPSB0aGlzLl9vcHRpb25zLlpPT01fREVMVEEoKTtcbiAgICAgICAgLy8gaG93IG11Y2ggaGFzIHRoZSB6b29tIHZhbHVlIGNoYW5nZWQ/XG4gICAgICAgIGxldCB6b29tWERlbHRhID0gdGhpcy5fem9vbUZhY3Rvci54ICsgKGRlbHRhICogem9vbURlbHRhLngpO1xuICAgICAgICB6b29tWERlbHRhID0gbWF0aHNfMS5ub3JtYWxpemVWYWx1ZSh6b29tWERlbHRhLCB0aGlzLl9vcHRpb25zLk1JTl9aT09NLngsIHRoaXMuX29wdGlvbnMuTUFYX1pPT00ueCk7XG4gICAgICAgIGxldCB6b29tWURlbHRhID0gdGhpcy5fem9vbUZhY3Rvci55ICsgKGRlbHRhICogem9vbURlbHRhLnkpO1xuICAgICAgICB6b29tWURlbHRhID0gbWF0aHNfMS5ub3JtYWxpemVWYWx1ZSh6b29tWURlbHRhLCB0aGlzLl9vcHRpb25zLk1JTl9aT09NLnksIHRoaXMuX29wdGlvbnMuTUFYX1pPT00ueSk7XG4gICAgICAgIC8vIFRoZSBhY3R1YWwgd2lkdGggaXMgZXF1YWwgdG86XG4gICAgICAgIC8vXHRwaHlzaWNhbCBkaW1lbnNpb24gKiAoMSAvIHpvb20gdmFsdWUpXG4gICAgICAgIGxldCBwaHlzaWNhbERpbSA9IHRoaXMuX29wdGlvbnMuU0laRTtcbiAgICAgICAgbGV0IG5ld1dpZHRoID0gbWF0aHNfMS5yb3VuZFRvUGxhY2UocGh5c2ljYWxEaW0ud2lkdGggKiAoMSAvIHpvb21YRGVsdGEpLCAxMCk7XG4gICAgICAgIHRoaXMuX3pvb21GYWN0b3IueCA9IHpvb21YRGVsdGE7XG4gICAgICAgIGxldCBuZXdIZWlnaHQgPSBtYXRoc18xLnJvdW5kVG9QbGFjZShwaHlzaWNhbERpbS5oZWlnaHQgKiAoMSAvIHpvb21ZRGVsdGEpLCAxMCk7XG4gICAgICAgIHRoaXMuX3pvb21GYWN0b3IueSA9IHpvb21ZRGVsdGE7XG4gICAgICAgIC8vIE5vdyBjYWxjdWxhdGUgaG93IGRpZmZlcmVudCB0aGF0IGlzIGZyb20gdGhlIGN1cnJlbnQgZGltZW5zaW9uc1xuICAgICAgICBsZXQgd2lkdGhEZWx0YSA9IG5ld1dpZHRoIC0gdGhpcy5fcmVsYXRpdmVWaWV3Lnc7XG4gICAgICAgIGxldCBoZWlnaHREZWx0YSA9IG5ld0hlaWdodCAtIHRoaXMuX3JlbGF0aXZlVmlldy5oO1xuICAgICAgICAvLyBDcmVhdGUgdGhlIG5ldyB2aWV3IGJhc2VkIG9uIHRoZSBhcHByb3ByaWF0ZSBkZWx0YXNcbiAgICAgICAgbGV0IG5ld1ZpZXcgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLl9yZWxhdGl2ZVZpZXcueCAtICh3aWR0aERlbHRhIC8gMiksXG4gICAgICAgICAgICB5OiB0aGlzLl9yZWxhdGl2ZVZpZXcueSAtIChoZWlnaHREZWx0YSAvIDIpLFxuICAgICAgICAgICAgdzogdGhpcy5fcmVsYXRpdmVWaWV3LncgKyB3aWR0aERlbHRhLFxuICAgICAgICAgICAgaDogdGhpcy5fcmVsYXRpdmVWaWV3LmggKyBoZWlnaHREZWx0YVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9yZWxhdGl2ZVZpZXcgPSBuZXdWaWV3O1xuICAgICAgICB0aGlzLl9uZWVkc1JlZHJhdyA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNoYW5nZVZpZXdcbiAgICAgKlxuICAgICAqIHVwZGF0ZSB0aGUgdmlldyBiZWluZyBkaXNwbGF5ZWQgb24gdGhlIGNhbnZhc1xuICAgICAqXG4gICAgICogQHBhcmFtXHRuZXdEaXNwbGF5XHRUaGUgZGltZW5zaW9ucyBvZiB0aGUgbmV3IHZpZXdcbiAgICAgKlxuICAgICAqL1xuICAgIGNoYW5nZVZpZXcobmV3RGlzcGxheSkge1xuICAgICAgICB0aGlzLl9yZWxhdGl2ZVZpZXcgPSBuZXdEaXNwbGF5O1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLyNyZWdpb24gUEFOIEhBTkRMSU5HXG4gICAgLyoqXG4gICAgICogX29uRHJhZ1xuICAgICAqXG4gICAgICogbW92ZSB0aGUgY2FudmFzIGFyb3VuZCB2aWEgYSBtb3VzZSBkcmFnXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGRlbHRhXHRUaGUgYW1vdW50IHRoZSBtb3VzZSBoYXMgZHJhZ2dlZFxuICAgICAqXG4gICAgICovXG4gICAgX29uRHJhZyhkZWx0YSkge1xuICAgICAgICBpZiAoIWRlbHRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5ld0Nvcm5lciA9IHRoaXMuX2NhbGN1bGF0ZU5ld0Nvcm5lckZyb21EZWx0YShkZWx0YSk7XG4gICAgICAgIHRoaXMucGFuKG5ld0Nvcm5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jYWxjdWxhdGVOZXdDb3JuZXJGcm9tRGVsdGFcbiAgICAgKlxuICAgICAqIHRha2Ugem9vbSBpbnRvIGFjY291bnQgd2hlbiBjYWxjdWxhdGluZyB0aGUgbmV3IGNvcm5lciBvZiB0aGUgY2FudmFzXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGRlbHRhXHRUaGUgYW1vdW50IHRoYXQgaGFzIGJlZW4gZHJhZ2dlZFxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRoZSBuZXcgY29ybmVyIGZvciB0aGUgY2FudmFzXG4gICAgICpcbiAgICAgKi9cbiAgICBfY2FsY3VsYXRlTmV3Q29ybmVyRnJvbURlbHRhKGRlbHRhKSB7XG4gICAgICAgIGxldCBuZXdDb3JuZXIgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLl9yZWxhdGl2ZVZpZXcueCAtIChkZWx0YS54IC8gdGhpcy5fem9vbUZhY3Rvci54KSxcbiAgICAgICAgICAgIHk6IHRoaXMuX3JlbGF0aXZlVmlldy55IC0gKGRlbHRhLnkgLyB0aGlzLl96b29tRmFjdG9yLnkpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXdDb3JuZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHBhblxuICAgICAqXG4gICAgICogaGFuZGxlIGEgcGFuIGV2ZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGNvcm5lclBvaW50XHRcdFRoZSBuZXcgY29ybmVyIGZvciB0aGUgY2FudmFzXG4gICAgICpcbiAgICAgKi9cbiAgICBwYW4oY29ybmVyUG9pbnQpIHtcbiAgICAgICAgdGhpcy5fcmVsYXRpdmVWaWV3LnggPSBjb3JuZXJQb2ludC54O1xuICAgICAgICB0aGlzLl9yZWxhdGl2ZVZpZXcueSA9IGNvcm5lclBvaW50Lnk7XG4gICAgICAgIHRoaXMuX25lZWRzUmVkcmF3ID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIEVWRU5UIEhBTkRMSU5HXG4gICAgLyoqXG4gICAgICogX2FkZEV2ZW50TGlzdGVuZXJzXG4gICAgICpcbiAgICAgKiBhZGQgYWxsIGV2ZW50IGxpc3RlbmVycyBmb3IgdGhlIGNhbnZhcyBpdHNlbGZcbiAgICAgKlxuICAgICAqL1xuICAgIF9hZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgLy8gQWRkIHpvb20gbGlzdGVuZXJzXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uTW91c2VXaGVlbChldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBBZGQgcGFuIGxpc3RlbmVyc1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLmJhc2Uuc3R5bGUuY3Vyc29yID0gXCItd2Via2l0LWdyYWJiaW5nXCI7XG4gICAgICAgICAgICB0aGlzLl9zdGFydERyYWdQb2ludCA9IHtcbiAgICAgICAgICAgICAgICB4OiBldmVudC5zY3JlZW5YLFxuICAgICAgICAgICAgICAgIHk6IGV2ZW50LnNjcmVlbllcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fc3RhcnREcmFnUG9pbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9kZWx0YURyYWdQb2ludCA9IHtcbiAgICAgICAgICAgICAgICB4OiBldmVudC5zY3JlZW5YIC0gdGhpcy5fc3RhcnREcmFnUG9pbnQueCxcbiAgICAgICAgICAgICAgICB5OiBldmVudC5zY3JlZW5ZIC0gdGhpcy5fc3RhcnREcmFnUG9pbnQueVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0RHJhZ1BvaW50ID0ge1xuICAgICAgICAgICAgICAgIHg6IGV2ZW50LnNjcmVlblgsXG4gICAgICAgICAgICAgICAgeTogZXZlbnQuc2NyZWVuWVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX29uRHJhZyh0aGlzLl9kZWx0YURyYWdQb2ludCk7XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc3RhcnREcmFnUG9pbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fZGVsdGFEcmFnUG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5zdHlsZS5jdXJzb3IgPSBcIi13ZWJraXQtZ3JhYlwiO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGxldCBwdCA9IHtcbiAgICAgICAgICAgICAgICB4OiBlLnBhZ2VYLFxuICAgICAgICAgICAgICAgIHk6IGUucGFnZVlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9vbkNsaWNrKGUsIHB0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgbGV0IHB0ID0ge1xuICAgICAgICAgICAgICAgIHg6IGUucGFnZVgsXG4gICAgICAgICAgICAgICAgeTogZS5wYWdlWVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX29uSG92ZXIoZSwgcHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQWRkIGFuaW1hdGlvbiBsaXN0ZW5lcnNcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJGcmFtZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uQ2xpY2tcbiAgICAgKlxuICAgICAqIGhhbmRsZSBjbGlja3Mgb24gdGhlIGNhbnZhc1xuICAgICAqXG4gICAgICogQHBhcmFtXHRlXHRcdFRoZSBldmVudCBpdHNlbGYgb2YgdGhlIG1vdXNlIGNsaWNrXG4gICAgICogQHBhcmFtXHRwb2ludFx0VGhlIHBvaW50IHRoYXQgd2FzIGNsaWNrZWRcbiAgICAgKlxuICAgICAqL1xuICAgIF9vbkNsaWNrKGUsIHBvaW50KSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KF9pbnRlcmZhY2VzXzEuRXZlbnRUeXBlRW51bS5DTElDSywgcG9pbnQsIGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25Ib3ZlclxuICAgICAqXG4gICAgICogaGFuZGxlIGhvdmVyaW5nIG92ZXIgZWxlbWVudHMgb24gdGhlIGNhbnZhc1xuICAgICAqXG4gICAgICogQHBhcmFtXHRlXHRcdFRoZSBhY3R1YWwgbW91c2VvdmVyIGV2ZW50XG4gICAgICogQHBhcmFtXHRwb2ludFx0VGhlIHBvaW50IHRoYXQncyBiZWluZyBob3ZlcmVkIG92ZXJcbiAgICAgKlxuICAgICAqL1xuICAgIF9vbkhvdmVyKGUsIHBvaW50KSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KF9pbnRlcmZhY2VzXzEuRXZlbnRUeXBlRW51bS5IT1ZFUiwgcG9pbnQsIGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfaGFuZGxlRXZlbnRcbiAgICAgKlxuICAgICAqIGhhbmRsZSBhIGdlbmVyYWwgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0ZXZlbnRUeXBlXHRUaGUgdHlwZSBvZiBldmVudCBiZWluZyBoYW5kbGVkXG4gICAgICogQHBhcmFtXHRwb2ludFx0XHRUaGUgcG9pbnQgdGhpcyBldmVudCBhcHBsaWVzIHRvXG4gICAgICogQHBhcmFtXHRlXHRcdFx0VGhlIGFjdHVhbCBldmVudCBkYXRhXG4gICAgICpcbiAgICAgKi9cbiAgICBfaGFuZGxlRXZlbnQoZXZlbnRUeXBlLCBwb2ludCwgZSkge1xuICAgICAgICAvL2xldCByZWxhdGl2ZVB0OiBJUG9pbnQgPSB0aGlzLmNvbnZlcnRQaHlzaWNhbFBvaW50VG9SZWxhdGl2ZVBvaW50KHBvaW50KTtcbiAgICAgICAgbGV0IGxheWVyO1xuICAgICAgICBmb3IgKGxheWVyIG9mIHRoaXMuX2xheWVycykge1xuICAgICAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGF5ZXIuaGFuZGxlRXZlbnQoZXZlbnRUeXBlLCBwb2ludCwgZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIFBPSU5UIENPTlZFUlNJT04gRlVOQ1RJT05TXG4gICAgLyoqXG4gICAgICogY29udmVydFJlbGF0aXZlUG9pbnRUb0Fic29sdXRlUG9pbnRcbiAgICAgKlxuICAgICAqIGNvbnZlcnQgYSBwb2ludCBmcm9tIG91ciByZWxhdGl2ZSBjYW52YXMgZnJhbWUgKGUuZy4gdmlzaWJsZSBmcmFtZSkgYW5kXG4gICAgICogdGhlIHBoeXNpY2FsIHNwYWNlXG4gICAgICpcbiAgICAgKiBAcGFyYW1cdHJlbGF0aXZlUHRcdFRoZSBwb2ludCB0byBjb252ZXJ0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VGhlIGNvbnZlcnRlZCBwb2ludFxuICAgICAqXG4gICAgICovXG4gICAgY29udmVydFJlbGF0aXZlUG9pbnRUb1BoeXNpY2FsUG9pbnQocmVsYXRpdmVQdCkge1xuICAgICAgICBsZXQgb3V0O1xuICAgICAgICAvLyBHcmFiIGRpbWVuc2lvbnMgb2YgdGhlIGNhbnZhc1xuICAgICAgICAvLyBUT0RPOiBtYWtlIG1vcmUgdmVyc2F0aWxlXG4gICAgICAgIGxldCBjYW52YXNMZWZ0ID0gdGhpcy5fZWxlbXMuYmFzZS5vZmZzZXRMZWZ0O1xuICAgICAgICBsZXQgY2FudmFzVG9wID0gdGhpcy5fZWxlbXMuYmFzZS5vZmZzZXRUb3A7XG4gICAgICAgIGxldCBjYW52YXNXaWR0aCA9IHRoaXMuX2VsZW1zLmJhc2Uub2Zmc2V0V2lkdGg7XG4gICAgICAgIGxldCBjYW52YXNIZWlnaHQgPSB0aGlzLl9lbGVtcy5iYXNlLm9mZnNldEhlaWdodDtcbiAgICAgICAgbGV0IHggPSAoKChyZWxhdGl2ZVB0LnggLSB0aGlzLl9yZWxhdGl2ZVZpZXcueCkgKiBjYW52YXNXaWR0aCkgLyB0aGlzLl9yZWxhdGl2ZVZpZXcudykgKyBjYW52YXNMZWZ0O1xuICAgICAgICBsZXQgeSA9ICgoKHJlbGF0aXZlUHQueSAtIHRoaXMuX3JlbGF0aXZlVmlldy55KSAqIGNhbnZhc0hlaWdodCkgLyB0aGlzLl9yZWxhdGl2ZVZpZXcuaCkgKyBjYW52YXNUb3A7XG4gICAgICAgIG91dCA9IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNvbnZlcnRQaHlzaWNhbFBvaW50VG9SZWxhdGl2ZVBvaW50XG4gICAgICpcbiAgICAgKiBjb252ZXJ0IGEgcGh5c2ljYWwgcG9pbnQgdG8gb25lIHdpdGhpbiB0aGUgdmlzaWJsZSBjYW52YXMgZnJhbWVcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0cGh5c2ljYWxQdFx0VGhlIHBvaW50IHRvIGNvbnZlcnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUaGUgY29udmVydGVkIHJlbGF0aXZlIHBvaW50XG4gICAgICpcbiAgICAgKi9cbiAgICBjb252ZXJ0UGh5c2ljYWxQb2ludFRvUmVsYXRpdmVQb2ludChwaHlzaWNhbFB0KSB7XG4gICAgICAgIGxldCBvdXQ7XG4gICAgICAgIC8vIEdyYWIgZGltZW5zaW9ucyBvZiB0aGUgY2FudmFzXG4gICAgICAgIC8vIFRPRE86IG1ha2UgbW9yZSB2ZXJzYXRpbGVcbiAgICAgICAgbGV0IGNhbnZhc0xlZnQgPSB0aGlzLl9lbGVtcy5iYXNlLm9mZnNldExlZnQ7XG4gICAgICAgIGxldCBjYW52YXNUb3AgPSB0aGlzLl9lbGVtcy5iYXNlLm9mZnNldFRvcDtcbiAgICAgICAgbGV0IGNhbnZhc1dpZHRoID0gdGhpcy5fZWxlbXMuYmFzZS5vZmZzZXRXaWR0aDtcbiAgICAgICAgbGV0IGNhbnZhc0hlaWdodCA9IHRoaXMuX2VsZW1zLmJhc2Uub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAvLyBjb252ZXJ0IGVhY2ggYXNwZWN0IG9mIHRoZSBwb2ludFxuICAgICAgICBsZXQgeCA9ICgoKHBoeXNpY2FsUHQueCAtIGNhbnZhc0xlZnQpICogdGhpcy5fcmVsYXRpdmVWaWV3LncpIC8gY2FudmFzV2lkdGgpICsgdGhpcy5fcmVsYXRpdmVWaWV3Lng7XG4gICAgICAgIGxldCB5ID0gKCgocGh5c2ljYWxQdC55IC0gY2FudmFzVG9wKSAqIHRoaXMuX3JlbGF0aXZlVmlldy5oKSAvIGNhbnZhc0hlaWdodCkgKyB0aGlzLl9yZWxhdGl2ZVZpZXcueTtcbiAgICAgICAgb3V0ID0ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHlcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY29udmVydEFic29sdXRlUG9pbnRUb1JlbGF0aXZlUG9pbnRcbiAgICAgKlxuICAgICAqIGNvbnZlcnQgYSBwb2ludCBmcm9tIGFic29sdXRlIHBvc2l0aW9uIHRvIGEgdmlzaWJsZSBwb2ludFxuICAgICAqXG4gICAgICovXG4gICAgY29udmVydEFic29sdXRlUG9pbnRUb1JlbGF0aXZlUG9pbnQoYWJzb2x1dGVQdCkge1xuICAgICAgICBsZXQgb3V0O1xuICAgICAgICAvLyBhYnNvbHV0ZSBwb3NpdGlvbiBtYXkgZXhpc3Qgb3V0c2lkZSBvZiB2c2lpYmxlIHJlY3QsIGJ1dCB3aWxsIGJlIHZpc2libGUgYXQgc29tZSBwb2ludCBpbiB0aGUgY2FudmFzXG4gICAgICAgIG91dCA9IHtcbiAgICAgICAgICAgIHg6IG1hdGhzXzEucm91bmRUb1BsYWNlKChhYnNvbHV0ZVB0LnggLSB0aGlzLl9yZWxhdGl2ZVZpZXcueCkgKiB0aGlzLl96b29tRmFjdG9yLngsIDEwKSxcbiAgICAgICAgICAgIHk6IG1hdGhzXzEucm91bmRUb1BsYWNlKChhYnNvbHV0ZVB0LnkgLSB0aGlzLl9yZWxhdGl2ZVZpZXcueSkgKiB0aGlzLl96b29tRmFjdG9yLnksIDEwKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjb252ZXJ0UmVsYXRpdmVQb2ludFRvQWJzb2x1dGVQb2ludFxuICAgICAqXG4gICAgICogY29udmVydCBhIHBvaW50IGZyb20gYSB2aXNpYmxlIHBvaW50IHRvIGFuIGFic29sdXRlIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW1cdHJlbGF0aXZlUHRcdFRoZSBwb2ludCBpbiByZWxhdGl2ZSBkaW1lbnNpb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VEhlIGNvbnZlcnRlZCBhYnNvbHV0ZSBwb2ludFxuICAgICAqXG4gICAgICovXG4gICAgY29udmVydFJlbGF0aXZlUG9pbnRUb0Fic29sdXRlUG9pbnQocmVsYXRpdmVQdCkge1xuICAgICAgICBsZXQgb3V0O1xuICAgICAgICBvdXQgPSB7XG4gICAgICAgICAgICB4OiBtYXRoc18xLnJvdW5kVG9QbGFjZSgoKHJlbGF0aXZlUHQueCAvIHRoaXMuX3pvb21GYWN0b3IueCkgKyB0aGlzLl9yZWxhdGl2ZVZpZXcueCksIDEwKSxcbiAgICAgICAgICAgIHk6IG1hdGhzXzEucm91bmRUb1BsYWNlKCgocmVsYXRpdmVQdC55IC8gdGhpcy5fem9vbUZhY3Rvci55KSArIHRoaXMuX3JlbGF0aXZlVmlldy55KSwgMTApXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNvbnZlcnRBYnNvbHV0ZVJlY3RUb1JlbGF0aXZlUmVjdFxuICAgICAqXG4gICAgICogVHVybiBhIHNldCBvZiBhYnNvbHV0ZSBkaW1lbnNpb25zIHRvIHRoZWlyIHJlbGF0aXZlIGNvdW50ZXJwYXJ0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRhYnNvbHV0ZVJlY3QgXHRUaGUgYWJzb2x1dGUgcmVjdCB0byBjb252ZXJ0IHRvIHJlbGF0aXZlIGRpbWVuc2lvbnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUaGUgY29udmVydGVkIHJlY3RhbmdsZVxuICAgICAqXG4gICAgICovXG4gICAgY29udmVydEFic29sdXRlUmVjdFRvUmVsYXRpdmVSZWN0KGFic29sdXRlUmVjdCkge1xuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIHRvcCBsZWZ0IGNvcm5lclxuICAgICAgICBsZXQgbGVmdFRvcENvcm5lciA9IHtcbiAgICAgICAgICAgIHg6IGFic29sdXRlUmVjdC54LFxuICAgICAgICAgICAgeTogYWJzb2x1dGVSZWN0LnlcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHJlbExlZnRUb3BDb3JuZXIgPSB0aGlzLmNvbnZlcnRBYnNvbHV0ZVBvaW50VG9SZWxhdGl2ZVBvaW50KGxlZnRUb3BDb3JuZXIpO1xuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIGJvdHRvbS1yaWdodCBjb3JuZXJcbiAgICAgICAgbGV0IHJpZ2h0Qm90dG9tQ29ybmVyID0ge1xuICAgICAgICAgICAgeDogYWJzb2x1dGVSZWN0LnggKyBhYnNvbHV0ZVJlY3QudyxcbiAgICAgICAgICAgIHk6IGFic29sdXRlUmVjdC55ICsgYWJzb2x1dGVSZWN0LmhcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHJlbFJpZ2h0Qm90dG9tQ29ybmVyID0gdGhpcy5jb252ZXJ0QWJzb2x1dGVQb2ludFRvUmVsYXRpdmVQb2ludChyaWdodEJvdHRvbUNvcm5lcik7XG4gICAgICAgIC8vIHJldHVybiBhIHJlY3QgYmFzZWQgb24gdGhlIGNvcm5lcnMgd2UgY2FsY3VsYXRlZFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcmVsTGVmdFRvcENvcm5lci54LFxuICAgICAgICAgICAgeTogcmVsTGVmdFRvcENvcm5lci55LFxuICAgICAgICAgICAgdzogcmVsUmlnaHRCb3R0b21Db3JuZXIueCAtIHJlbExlZnRUb3BDb3JuZXIueCxcbiAgICAgICAgICAgIGg6IHJlbFJpZ2h0Qm90dG9tQ29ybmVyLnkgLSByZWxMZWZ0VG9wQ29ybmVyLnlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8jcmVnaW9uIEhFTFBFUlNcbiAgICAvKipcbiAgICAgKiBkZWJ1Z1JlbGF0aXZlRGltZW5zaW9uc1xuICAgICAqXG4gICAgICogZGVidWcgdGhlIGN1cnJlbnQgdmlldyBvZiB0aGUgY2FudmFzXG4gICAgICpcbiAgICAgKi9cbiAgICBkZWJ1Z1JlbGF0aXZlRGltZW5zaW9ucygpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJDQU5WQVMgRElNRU5TSU9OUzpcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKE1hdGgucm91bmQodGhpcy5yZWxhdGl2ZVZpZXcueCkgKyBcIiwgXCIgKyBNYXRoLnJvdW5kKHRoaXMucmVsYXRpdmVWaWV3LnkpKTtcbiAgICAgICAgY29uc29sZS5sb2coTWF0aC5yb3VuZCh0aGlzLnJlbGF0aXZlVmlldy53KSArIFwiIHggXCIgKyBNYXRoLnJvdW5kKHRoaXMucmVsYXRpdmVWaWV3LmgpKTtcbiAgICB9XG59XG5leHBvcnRzLkhUTUw1Q2FudmFzID0gSFRNTDVDYW52YXM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNhbnZhc0VsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL2NhbnZhc0VsZW1lbnRcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBzaW1wbGVHdWFyZF8xID0gcmVxdWlyZShcIi4uL3R5cGVHdWFyZHMvc2ltcGxlR3VhcmRcIik7XG5jb25zdCBjbG9uaW5nXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9jbG9uaW5nXCIpO1xuY2xhc3MgQ2lyY2xlRWxlbWVudCBleHRlbmRzIGNhbnZhc0VsZW1lbnRfMS5DYW52YXNFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihpZCwgY2VudGVyLCB0ZW1wKSB7XG4gICAgICAgIHN1cGVyKGlkKTtcbiAgICAgICAgbGV0IHJhZGl1cztcbiAgICAgICAgaWYgKHNpbXBsZUd1YXJkXzEuaXNOdW1iZXIodGVtcCkpIHtcbiAgICAgICAgICAgIHJhZGl1cyA9IHtcbiAgICAgICAgICAgICAgICB4OiB0ZW1wLFxuICAgICAgICAgICAgICAgIHk6IHRlbXBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByYWRpdXMgPSB0ZW1wO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICB4OiBjZW50ZXIueCAtIHJhZGl1cy54LFxuICAgICAgICAgICAgeTogY2VudGVyLnkgLSByYWRpdXMueSxcbiAgICAgICAgICAgIHc6IHJhZGl1cy54ICogMixcbiAgICAgICAgICAgIGg6IHJhZGl1cy55ICogMlxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9jZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgIHRoaXMuX3JhZGl1cyA9IHJhZGl1cztcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZVJlY3RzKCk7XG4gICAgfVxuICAgIGdldCB0eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5FbGVtZW50VHlwZS5DaXJjbGU7IH1cbiAgICBfb25EcmF3KGNvbnRleHQpIHtcbiAgICAgICAgLy8gVE9ETzogSEFORExFIFNDQUxJTkcgSUYgTkVFRCBCRVxuICAgICAgICAvLyBkcmF3IHRoZSBhY3R1YWwgdGV4dCBvZiB0aGUgZWxlbWVudFxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0LmFyYyh0aGlzLl9kaXNwbGF5RGltZW5zaW9ucy54ICsgdGhpcy5fZGlzcGxheVJhZGl1cy54LCB0aGlzLl9kaXNwbGF5RGltZW5zaW9ucy55ICsgdGhpcy5fZGlzcGxheVJhZGl1cy55LCB0aGlzLl9kaXNwbGF5UmFkaXVzLngsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgIC8vIHJldHVybiBzdHlsZSB0byBub3JtXG4gICAgICAgIHRoaXMuX3Jlc3RvcmVTdHlsZShjb250ZXh0KTtcbiAgICB9XG4gICAgLyoqIGNoYW5nZSB0aGUgZGltZW5zaW9ucyBiYXNlZCBvbiBhIHBhbiAvIHpvb20gY2hhbmdlIG9uIHRoZSBjYW52YXMgKi9cbiAgICB1cGRhdGVEaW1lbnNpb25zKGNhbnZhc0RpbWVuc2lvbnMpIHtcbiAgICAgICAgc3VwZXIudXBkYXRlRGltZW5zaW9ucyhjYW52YXNEaW1lbnNpb25zKTtcbiAgICAgICAgdGhpcy5fZGlzcGxheVJhZGl1cyA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMuX3JhZGl1cy54ICogdGhpcy5fY2FudmFzLnpvb21GYWN0b3IueCxcbiAgICAgICAgICAgIHk6IHRoaXMuX3JhZGl1cy55ICogdGhpcy5fY2FudmFzLnpvb21GYWN0b3IueVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKiogb3ZlcnJpZGUgZGVmYXVsdCBkaW1lbnNpb25zIGZvciBjaXJjbGUgc3BlY2lmaWMgZGltZW5zaW9ucyAqL1xuICAgIF9kZWJ1Z0RpbWVuc2lvbnMoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ0lSQ0xFOlwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJjZW50ZXIgcHQ6IFwiICsgTWF0aC5yb3VuZCh0aGlzLl9kaXNwbGF5RGltZW5zaW9ucy54ICsgdGhpcy5fZGlzcGxheVJhZGl1cy54KSArIFwiLCBcIiArIE1hdGgucm91bmQodGhpcy5fZGlzcGxheURpbWVuc2lvbnMueSArIHRoaXMuX2Rpc3BsYXlSYWRpdXMueSkpO1xuICAgICAgICBjb25zb2xlLmxvZyhcInJhZGl1czogXCIgKyBNYXRoLnJvdW5kKHRoaXMuX2Rpc3BsYXlSYWRpdXMueCkpO1xuICAgICAgICB0aGlzLl9jYW52YXMuZGVidWdSZWxhdGl2ZURpbWVuc2lvbnMoKTtcbiAgICB9XG4gICAgLyoqIGNyZWF0ZSBhIGNsb25lIHRvIGJlIHVzZWQgaW4gZWZmZWN0IGNhbGN1bGF0aW9ucyAqL1xuICAgIF9jbG9uZUZvckVmZmVjdChpZCkge1xuICAgICAgICAvLyBjbG9uZSByZWxldmFudCBkYXRhIFxuICAgICAgICBsZXQgY2VudGVyID0ge1xuICAgICAgICAgICAgeDogdGhpcy5fZGltZW5zaW9ucy54ICsgdGhpcy5fcmFkaXVzLngsXG4gICAgICAgICAgICB5OiB0aGlzLl9kaW1lbnNpb25zLnkgKyB0aGlzLl9yYWRpdXMueVxuICAgICAgICB9O1xuICAgICAgICBsZXQgcmFkaXVzID0gY2xvbmluZ18xLmNsb25lUG9pbnQodGhpcy5fcmFkaXVzKTtcbiAgICAgICAgbGV0IGVsZW0gPSBuZXcgQ2lyY2xlRWxlbWVudChpZCwgY2VudGVyLCByYWRpdXMpO1xuICAgICAgICByZXR1cm4gZWxlbTtcbiAgICB9XG4gICAgLyoqIGFsbG93IGVmZmVjdCBlbGVtZW50cyB0byBiZSByZXNpemVkICovXG4gICAgX3NjYWxlKHNjYWxlQW10KSB7XG4gICAgICAgIGlmICghdGhpcy5faXNFZmZlY3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5fc2NhbGUoc2NhbGVBbXQpO1xuICAgICAgICAvLyBVcGRhdGUgdGhpcyByYWRpdXNcbiAgICAgICAgdGhpcy5fcmFkaXVzID0ge1xuICAgICAgICAgICAgeDogdGhpcy5fcmFkaXVzLnggKiBzY2FsZUFtdCxcbiAgICAgICAgICAgIHk6IHRoaXMuX3JhZGl1cy55ICogc2NhbGVBbXRcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLkNpcmNsZUVsZW1lbnQgPSBDaXJjbGVFbGVtZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjYW52YXNFbGVtZW50XzEgPSByZXF1aXJlKFwiLi9jYW52YXNFbGVtZW50XCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgY2xvbmluZ18xID0gcmVxdWlyZShcIi4uL29iamVjdEhlbHBlcnMvY2xvbmluZ1wiKTtcbmNvbnN0IHRyaWdfMSA9IHJlcXVpcmUoXCIuLi9tYXRocy90cmlnXCIpO1xuY2xhc3MgUGF0aEVsZW1lbnQgZXh0ZW5kcyBjYW52YXNFbGVtZW50XzEuQ2FudmFzRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoaWQsIHBvaW50cykge1xuICAgICAgICBzdXBlcihpZCk7XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVSZWN0cygpO1xuICAgICAgICBpZiAocG9pbnRzKSB7XG4gICAgICAgICAgICB0aGlzLl9wb2ludHMgPSBwb2ludHM7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVFeHRyZW1hRnJvbVBvaW50cygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcG9pbnRzID0gW107XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHR5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkVsZW1lbnRUeXBlLlBhdGg7IH1cbiAgICAvKiogY3JlYXRlIGFuIGVtcHR5IGRpbWVuc2lvbnMgcmVjdCAqL1xuICAgIF9pbml0aWFsaXplUmVjdHMoKSB7XG4gICAgICAgIHRoaXMuX2RpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIHc6IDAsXG4gICAgICAgICAgICBoOiAwXG4gICAgICAgIH07XG4gICAgICAgIHN1cGVyLl9pbml0aWFsaXplUmVjdHMoKTtcbiAgICAgICAgdGhpcy5fbmVlZHNJbml0aWFsRGltZW5zaW9ucyA9IHRydWU7XG4gICAgfVxuICAgIC8qKiBhZGQgYSBuZXcgcG9pbnQgdG8gdGhpcyBwYXRoICovXG4gICAgYWRkUG9pbnQocG9pbnQpIHtcbiAgICAgICAgdGhpcy5fcG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICAvLyBVcGRhdGUgZXh0cmVtYVxuICAgICAgICB0aGlzLl91cGRhdGVFeHRyZW1hRnJvbVBvaW50KHBvaW50KTtcbiAgICB9XG4gICAgLyoqIGxvb3AgdGhyb3VnaCBhbmQgdXBkYXRlIGV4dHJlbWFzIGJhc2VkIG9uIGFsbCBwb2ludHMgKi9cbiAgICBfdXBkYXRlRXh0cmVtYUZyb21Qb2ludHMoKSB7XG4gICAgICAgIGxldCBwb2ludDtcbiAgICAgICAgZm9yIChwb2ludCBvZiB0aGlzLl9wb2ludHMpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUV4dHJlbWFGcm9tUG9pbnQocG9pbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBjaGVjayBpZiBleHRyZW1hIG5lZWQgdG8gYmUgdXBkYXRlZCBmb3IgYSBzaW5nbGUgcG9pbnQgKi9cbiAgICBfdXBkYXRlRXh0cmVtYUZyb21Qb2ludChwb2ludCkge1xuICAgICAgICAvLyBDaGVjayBmb3IgeCBleHRyZW1lc1xuICAgICAgICBpZiAodGhpcy5fbmVlZHNJbml0aWFsRGltZW5zaW9ucyB8fCBwb2ludC54IDwgdGhpcy5fZGltZW5zaW9ucy54KSB7XG4gICAgICAgICAgICB0aGlzLl9kaW1lbnNpb25zLnggPSBwb2ludC54O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBvaW50LnggPiAodGhpcy5fZGltZW5zaW9ucy54ICsgdGhpcy5fZGltZW5zaW9ucy53KSkge1xuICAgICAgICAgICAgdGhpcy5fZGltZW5zaW9ucy53ID0gKHBvaW50LnggLSB0aGlzLl9kaW1lbnNpb25zLngpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGZvciB5IGV4dHJlbWVzXG4gICAgICAgIGlmICh0aGlzLl9uZWVkc0luaXRpYWxEaW1lbnNpb25zIHx8IHBvaW50LnkgPCB0aGlzLl9kaW1lbnNpb25zLnkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RpbWVuc2lvbnMueSA9IHBvaW50Lnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocG9pbnQueSA+ICh0aGlzLl9kaW1lbnNpb25zLnkgKyB0aGlzLl9kaW1lbnNpb25zLmgpKSB7XG4gICAgICAgICAgICB0aGlzLl9kaW1lbnNpb25zLmggPSAocG9pbnQueSAtIHRoaXMuX2RpbWVuc2lvbnMueSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbmVlZHNJbml0aWFsRGltZW5zaW9ucyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKiogYWN0dWFsbHkgY3JlYXRlIHRoZSBwYXRoIG9uIHRoZSBjYW52YXMgKi9cbiAgICBfb25EcmF3KGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgLy8gQWRkIGVhY2ggcG9pbnRcbiAgICAgICAgbGV0IHBvaW50O1xuICAgICAgICBmb3IgKHBvaW50IG9mIHRoaXMuX2Rpc3BsYXlQb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBvaW50LngsIHBvaW50LnkpOyAvL1RPRE86IFtmdXR1cmVdIGFkZCBjdXJ2ZXMgYW5kIGFyY3MgYXMgd2VsbFxuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgIH1cbiAgICAvKiogICovXG4gICAgdXBkYXRlRGltZW5zaW9ucyhjYW52YXNEaW1lbnNpb25zKSB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZURpbWVuc2lvbnMoY2FudmFzRGltZW5zaW9ucyk7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gdXBkYXRlIGVhY2ggb2Ygb3VyIHBvaW50c1xuICAgICAgICB0aGlzLl9kaXNwbGF5UG9pbnRzID0gW107XG4gICAgICAgIGxldCBwb2ludDtcbiAgICAgICAgZm9yIChwb2ludCBvZiB0aGlzLl9wb2ludHMpIHtcbiAgICAgICAgICAgIC8vbGV0IGRpc3BsYXlQb2ludDogSVBvaW50ID0gdGhpcy5fY2FudmFzLmNvbnZlcnRBYnNvbHV0ZVBvaW50VG9SZWxhdGl2ZVBvaW50KHBvaW50KTtcbiAgICAgICAgICAgIGxldCBkaXNwbGF5UG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgeDogKHBvaW50LnggLSBjYW52YXNEaW1lbnNpb25zLngpICogdGhpcy5fY2FudmFzLnpvb21GYWN0b3IueCxcbiAgICAgICAgICAgICAgICB5OiAocG9pbnQueSAtIGNhbnZhc0RpbWVuc2lvbnMueSkgKiB0aGlzLl9jYW52YXMuem9vbUZhY3Rvci55XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5fZGlzcGxheVBvaW50cy5wdXNoKGRpc3BsYXlQb2ludCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRqdXN0RGltZW5zaW9ucyhhZGp1c3RQdCkge1xuICAgICAgICBpZiAodGhpcy5faXNFZmZlY3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5hZGp1c3REaW1lbnNpb25zKGFkanVzdFB0KTtcbiAgICAgICAgbGV0IHBvaW50O1xuICAgICAgICBmb3IgKHBvaW50IG9mIHRoaXMuX3BvaW50cykge1xuICAgICAgICAgICAgcG9pbnQueCArPSBhZGp1c3RQdC54O1xuICAgICAgICAgICAgcG9pbnQueSArPSBhZGp1c3RQdC55O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBjbG9uZSBpbiBvcmRlciB0byBiZSBhYmxlIHRvIGFwcGx5IHZhcmlvdXMgZWZmZWN0cyAqL1xuICAgIF9jbG9uZUZvckVmZmVjdChpZCkge1xuICAgICAgICBsZXQgb3V0ID0gbmV3IFBhdGhFbGVtZW50KGlkLCBjbG9uaW5nXzEuY2xvbmVQb2ludEFycmF5KHRoaXMuX3BvaW50cykpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBfc2NhbGUoc2NhbGVBbXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0VmZmVjdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgY2VudHJhbCBwb2ludCAoZGVmaW5lZCBhcyB0aGUgY2VudGVyIG9mIGVhY2ggZXh0cmVtYSlcbiAgICAgICAgbGV0IGNlbnRlciA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMuX2RpbWVuc2lvbnMueCArICh0aGlzLl9kaW1lbnNpb25zLncgLyAyKSxcbiAgICAgICAgICAgIHk6IHRoaXMuX2RpbWVuc2lvbnMueSArICh0aGlzLl9kaW1lbnNpb25zLmggLyAyKVxuICAgICAgICB9O1xuICAgICAgICAvLyBTY2FsZSBlYWNoIHBvaW50IHRvIGJlIHNvbWUgYW1vdW50IGZ1cnRoZXIgZnJvbSB0aGUgY2VudGVyXG4gICAgICAgIGxldCBwdDtcbiAgICAgICAgbGV0IHRtcFBvaW50cyA9IFtdO1xuICAgICAgICBmb3IgKHB0IG9mIHRoaXMuX3BvaW50cykge1xuICAgICAgICAgICAgbGV0IHRtcFB0ID0gdGhpcy5fc2NhbGVQb2ludChwdCwgY2VudGVyLCBzY2FsZUFtdCk7XG4gICAgICAgICAgICB0bXBQb2ludHMucHVzaCh0bXBQdCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IG91ciBwb2ludHMgYXJyYXkgdG8gdGhlIG5ldyBwb2ludHMgYXJyYXlcbiAgICAgICAgdGhpcy5fcG9pbnRzID0gdG1wUG9pbnRzO1xuICAgICAgICB0aGlzLl91cGRhdGVFeHRyZW1hRnJvbVBvaW50cygpO1xuICAgIH1cbiAgICBfc2NhbGVQb2ludChwdCwgY2VudGVyLCBzY2FsZUFtdCkge1xuICAgICAgICBsZXQgYW5nbGUgPSB0cmlnXzEuZ2V0QW5nbGUoY2VudGVyLCBwdCk7XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IHRyaWdfMS5nZXREaXN0YW5jZShjZW50ZXIsIHB0KTtcbiAgICAgICAgbGV0IG5ld0Rpc3RhbmNlID0gZGlzdGFuY2UgKiBzY2FsZUFtdDtcbiAgICAgICAgbGV0IG5ld1B0ID0gdHJpZ18xLmdldEVuZFBvaW50KGNlbnRlciwgYW5nbGUsIG5ld0Rpc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIG5ld1B0O1xuICAgIH1cbn1cbmV4cG9ydHMuUGF0aEVsZW1lbnQgPSBQYXRoRWxlbWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2FudmFzRWxlbWVudF8xID0gcmVxdWlyZShcIi4vY2FudmFzRWxlbWVudFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IGNsb25pbmdfMSA9IHJlcXVpcmUoXCIuLi9vYmplY3RIZWxwZXJzL2Nsb25pbmdcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBSZWN0YW5nbGVFbGVtZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGUgYSByZWN0YW5nbGUgb24gdGhlIGNhbnZhc1xuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBSZWN0YW5nbGVFbGVtZW50IGV4dGVuZHMgY2FudmFzRWxlbWVudF8xLkNhbnZhc0VsZW1lbnQge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8qKlxuICAgICAqICBjcmVhdGUgYSByZWN0YW5nbGUgZWxlbWVudFxuICAgICAqIEBwYXJhbSAgIGlkICAgICAgICAgIHVuaXF1ZSBJRCBmb3IgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSAgIGRpbWVuc2lvbnMgIHRoZSBzaXplIG9mIHRoZSByZWN0YW5nbGUgKGluIGNhbnZhcyBjb29yZGluYXRlcylcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkLCBkaW1lbnNpb25zKSB7XG4gICAgICAgIHN1cGVyKGlkKTtcbiAgICAgICAgLy8jcmVnaW9uIFBST1BFUlRJRVNcbiAgICAgICAgLyoqIHR5cGUgb2YgdGhpcyBlbGVtZW50ICovXG4gICAgICAgIHRoaXMuX3R5cGUgPSBfaW50ZXJmYWNlc18xLkVsZW1lbnRUeXBlLlJlY3RhbmdsZTtcbiAgICAgICAgLyoqIHdoYXQgYm9yZGVyIHJhZGl1cyBzaG91bGQgYmUgdXNlZCAoaWYgYW55KSBmb3IgdGhpcyByZWN0YW5nbGUgKi9cbiAgICAgICAgdGhpcy5fYm9yZGVyUmFkaXVzID0gMDtcbiAgICAgICAgdGhpcy5fZGltZW5zaW9ucyA9IGRpbWVuc2lvbnM7XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVSZWN0cygpO1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRWxlbWVudFR5cGUuUmVjdGFuZ2xlOyB9XG4gICAgc2V0IGJvcmRlclJhZGl1cyhiUmFkKSB7IHRoaXMuX2JvcmRlclJhZGl1cyA9IGJSYWQ7IH1cbiAgICAvKipcbiAgICAgKiBfb25EcmF3XG4gICAgICpcbiAgICAgKiBhY3R1YWxseSBkcmF3IHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0gICBjb250ZXh0ICAgICBDb250ZXh0IGluIHdoaWNoIHRvIGRyYXcgdGhpcyBlbGVtZW50XG4gICAgICpcbiAgICAgKi9cbiAgICBfb25EcmF3KGNvbnRleHQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JvcmRlclJhZGl1cyA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fdW5yb3VuZGVkUmVjdChjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdW5kZWRSZWN0KGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF91bnJvdW5kZWRSZWN0XG4gICAgICpcbiAgICAgKiBEcmF3IGEgcGxhaW4gdW5yb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSAgIGNvbnRleHQgICAgIFRoZSBjb250ZXh0IGluIHdoaWNoIHRvIHJlbmRlciB0aGlzIGVsZW1lbnRcbiAgICAgKlxuICAgICAqL1xuICAgIF91bnJvdW5kZWRSZWN0KGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgvLyBDcmVhdGUgdGhlIGFjdHVhbCByZWN0YW5nbGVcbiAgICAgICAgdGhpcy5fZGlzcGxheURpbWVuc2lvbnMueCwgLy8gLi4uXG4gICAgICAgIHRoaXMuX2Rpc3BsYXlEaW1lbnNpb25zLnksIC8vIC4uLlxuICAgICAgICB0aGlzLl9kaXNwbGF5RGltZW5zaW9ucy53LCAvLyAuLi5cbiAgICAgICAgdGhpcy5fZGlzcGxheURpbWVuc2lvbnMuaCAvLyAuLi5cbiAgICAgICAgKTsgLy8gLi4uXG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9yb3VuZGVkUmVjdFxuICAgICAqXG4gICAgICogRHJhdyBhIHJlY3RhbmdsZSB3aXRoIHJvdW5kZWQgY29ybmVyc1xuICAgICAqIEBwYXJhbSAgIGNvbnRleHQgICAgIFRoZSBjb250ZXh0IGluIHdoaWNoIHRvIGRyYXcgdGhpcyByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqL1xuICAgIF9yb3VuZGVkUmVjdChjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGxldCBkaW0gPSB0aGlzLl9kaXNwbGF5RGltZW5zaW9ucztcbiAgICAgICAgbGV0IHJhZGl1cyA9IHRoaXMuX2Rpc3BsYXlCb3JkZXJSYWRpdXM7XG4gICAgICAgIC8vIHRvcCBzdHJhaWdodCBsaW5lXG4gICAgICAgIGNvbnRleHQubW92ZVRvKGRpbS54ICsgcmFkaXVzLngsIGRpbS55KTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oZGltLnggKyBkaW0udyAtIHJhZGl1cy54LCBkaW0ueSk7XG4gICAgICAgIC8vIHRvcCByaWdodCByb3VuZGVkIGNvcm5lclxuICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8oZGltLnggKyBkaW0udywgZGltLnksIGRpbS54ICsgZGltLncsIGRpbS55ICsgcmFkaXVzLnkpO1xuICAgICAgICAvLyByaWdodCB2ZXJ0aWNhbCBzaWRlXG4gICAgICAgIGNvbnRleHQubGluZVRvKGRpbS54ICsgZGltLncsIGRpbS55ICsgZGltLmggLSByYWRpdXMueSk7XG4gICAgICAgIC8vIGJvdHRvbSByaWdodCByb3VuZGVkIGNvcm5lclxuICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8oZGltLnggKyBkaW0udywgZGltLnkgKyBkaW0uaCwgZGltLnggKyBkaW0udyAtIHJhZGl1cy54LCBkaW0ueSArIGRpbS5oKTtcbiAgICAgICAgLy8gYm90dG9tIHN0cmFpZ2h0IGxpbmVcbiAgICAgICAgY29udGV4dC5saW5lVG8oZGltLnggKyByYWRpdXMueCwgZGltLnkgKyBkaW0uaCk7XG4gICAgICAgIC8vIGJvdHRvbSBsZWZ0IHJvdW5kZWQgY29ybmVyXG4gICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhkaW0ueCwgZGltLnkgKyBkaW0uaCwgZGltLngsIGRpbS55ICsgZGltLmggLSByYWRpdXMueSk7XG4gICAgICAgIC8vIGxlZnQgc3RyYWlnaHQgbGluZVxuICAgICAgICBjb250ZXh0LmxpbmVUbyhkaW0ueCwgZGltLnkgKyByYWRpdXMueSk7XG4gICAgICAgIC8vIHRvcCBsZWZ0IHJvdW5kZWQgY29ybmVyXG4gICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhkaW0ueCwgZGltLnksIGRpbS54ICsgcmFkaXVzLngsIGRpbS55KTtcbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZURpbWVuc2lvbnNcbiAgICAgKlxuICAgICAqIFVwZGF0ZSBvdXIgcmVjdGFuZ2xlJ3MgZGltZW5zaW9uc1xuICAgICAqIEBwYXJhbSAgIGNhbnZhc0RpbWVuc2lvbnMgICAgVGhlIGRpbWVuc2lvbnMgb2YgdGhlIGNhbnZhcyBhcyBhIHdob2xlXG4gICAgICpcbiAgICAgKi9cbiAgICB1cGRhdGVEaW1lbnNpb25zKGNhbnZhc0RpbWVuc2lvbnMpIHtcbiAgICAgICAgc3VwZXIudXBkYXRlRGltZW5zaW9ucyhjYW52YXNEaW1lbnNpb25zKTtcbiAgICAgICAgdGhpcy5fZGlzcGxheUJvcmRlclJhZGl1cyA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMuX2JvcmRlclJhZGl1cyAqIHRoaXMuX2NhbnZhcy56b29tRmFjdG9yLngsXG4gICAgICAgICAgICB5OiB0aGlzLl9ib3JkZXJSYWRpdXMgKiB0aGlzLl9jYW52YXMuem9vbUZhY3Rvci55XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jbG9uZUZvckVmZmVjdFxuICAgICAqXG4gICAgICogY2xvbmUgYW4gZWxlbWVudCBmb3IgYW4gZWZmZWN0IHRvIGJlIGFwcGxpZWRcbiAgICAgKiBAcGFyYW0gICBpZCAgVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjbG9uZWQgZWxlbWVudFxuICAgICAqIEByZXR1cm5zIFRoZSBjbG9uZWQgcmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKi9cbiAgICBfY2xvbmVGb3JFZmZlY3QoaWQpIHtcbiAgICAgICAgbGV0IGRpbSA9IGNsb25pbmdfMS5jbG9uZVJlY3QodGhpcy5fZGltZW5zaW9ucyk7XG4gICAgICAgIGxldCBjbG9uZSA9IG5ldyBSZWN0YW5nbGVFbGVtZW50KGlkLCBkaW0pO1xuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxufVxuZXhwb3J0cy5SZWN0YW5nbGVFbGVtZW50ID0gUmVjdGFuZ2xlRWxlbWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY2FudmFzRWxlbWVudF8xID0gcmVxdWlyZShcIi4vY2FudmFzRWxlbWVudFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0VGV4dEVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERyYXcgdGV4dCBvbiBhIGNhbnZhc1xuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBUZXh0RWxlbWVudCBleHRlbmRzIGNhbnZhc0VsZW1lbnRfMS5DYW52YXNFbGVtZW50IHtcbiAgICAvKipcbiAgICAgKiBjcmVhdGUgdGhlIHRleHQgZWxlbWVudFxuICAgICAqIEBwYXJhbVx0aWRcdFx0VW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBlbGVtZW50XG4gICAgICogQHBhcmFtXHR0ZXh0XHRUaGUgdGV4dCB0byBkaXNwbGF5IGZvciB0aGUgZWxlbWVudFxuICAgICAqIEBwYXJhbVx0cG9pbnRcdFRoZSB0b3AtbGVmdCBwb2ludCBmb3IgdGhlIHRleHRcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkLCB0ZXh0LCBwb2ludCkge1xuICAgICAgICBzdXBlcihpZCk7XG4gICAgICAgIC8vI3JlZ2lvbiBQUk9QRVJUSUVTXG4gICAgICAgIC8qKiB3aGF0IHR5cGUgb2YgZWxlbWVudCB0aGlzIGlzICovXG4gICAgICAgIHRoaXMuX3R5cGUgPSBfaW50ZXJmYWNlc18xLkVsZW1lbnRUeXBlLlRleHQ7XG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLl9kaW1lbnNpb25zID0ge1xuICAgICAgICAgICAgeDogcG9pbnQueCxcbiAgICAgICAgICAgIHk6IHBvaW50LnksXG4gICAgICAgICAgICB3OiAxMCxcbiAgICAgICAgICAgIGg6IDEwIC8vIFNhbWUgZm9yIGhlaWdodFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9pbml0aWFsaXplUmVjdHMoKTtcbiAgICAgICAgdGhpcy5fYWRkU3R5bGVDaGFuZ2VMaXN0ZW5lcigpO1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRWxlbWVudFR5cGUuVGV4dDsgfVxuICAgIHNldCB0ZXh0KHR4dCkgeyB0aGlzLl90ZXh0ID0gdHh0OyB9XG4gICAgc2V0IGZpeGVkKGZpeGVkKSB7IHRoaXMuX2ZpeGVkID0gZml4ZWQ7IH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvKipcbiAgICAgKiBfc2V0Q2FudmFzXG4gICAgICpcbiAgICAgKiBoYW5kbGUgdGhlIGNhbnZhcyBiZWluZyBhc3NpZ25lZCB0byB0aGlzIGVsZW1lbnRcbiAgICAgKiBAcGFyYW1cdGNhbnZhc1x0VGhlXG4gICAgICpcbiAgICAgKi9cbiAgICBfc2V0Q2FudmFzKGNhbnZhcykge1xuICAgICAgICBzdXBlci5fc2V0Q2FudmFzKGNhbnZhcyk7XG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZVRleHRNZXRyaWNzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9hZGRTdHlsZUNoYW5nZUxpc3RlbmVyXG4gICAgICpcbiAgICAgKiBIYW5kbGUgd2hlbiB0aGUgc3R5bGUgY2hhbmdlcyBmb3IgdGhpcyBlbGVtZW50XG4gICAgICpcbiAgICAgKi9cbiAgICBfYWRkU3R5bGVDaGFuZ2VMaXN0ZW5lcigpIHtcbiAgICAgICAgdGhpcy5fc3R5bGUuYWRkU3R5bGVDaGFuZ2VMaXN0ZW5lcihfaW50ZXJmYWNlc18xLlN0eWxlQ2hhbmdlRW51bS5GT05UX1NJWkUsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2RpbWVuc2lvbnMuaCA9IHRoaXMuX3N0eWxlLmZvbnRTaXplO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NhbGN1bGF0ZVRleHRNZXRyaWNzXG4gICAgICpcbiAgICAgKiBkZXRlcm1pbmUgaG93IGJpZyB0aGUgdGV4dCBzaG91bGQgYmVcbiAgICAgKlxuICAgICAqL1xuICAgIF9jYWxjdWxhdGVUZXh0TWV0cmljcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jYW52YXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMuX2NhbnZhcy5jb250ZXh0O1xuICAgICAgICB0aGlzLl9hcHBseVN0eWxlKGNvbnRleHQpO1xuICAgICAgICBsZXQgbWV0cmljcyA9IGNvbnRleHQubWVhc3VyZVRleHQodGhpcy5fdGV4dCk7XG4gICAgICAgIHRoaXMuX3Jlc3RvcmVTdHlsZShjb250ZXh0KTtcbiAgICAgICAgLy8gU2V0IHRoZSByZWFsIG1lYXN1cmVtZW50c1xuICAgICAgICB0aGlzLl9kaW1lbnNpb25zLncgPSBtZXRyaWNzLndpZHRoO1xuICAgICAgICB0aGlzLl9kaW1lbnNpb25zLmggPSB0aGlzLnN0eWxlLmZvbnRTaXplO1xuICAgICAgICAvLyBzZXQgdGhlIGRpc3BsYXkgZGltZW5zaW9ucyB0byBiZSB0aGlzIHN0YXRpY2FsbHlcbiAgICAgICAgdGhpcy5fZGlzcGxheURpbWVuc2lvbnMudyA9IG1ldHJpY3Mud2lkdGg7XG4gICAgICAgIHRoaXMuX2Rpc3BsYXlEaW1lbnNpb25zLmggPSB0aGlzLnN0eWxlLmZvbnRTaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25EcmF3XG4gICAgICpcbiAgICAgKiBkcmF3IHRoZSB0ZXh0IGVsZW1lbnQgb24gdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbVx0Y29udGV4dFx0XHRUaGUgY2FudmFzIHVwb24gd2hpY2ggdG8gcmVuZGVyXG4gICAgICpcbiAgICAgKi9cbiAgICBfb25EcmF3KGNvbnRleHQpIHtcbiAgICAgICAgLy8gZHJhdyB0aGUgYWN0dWFsIHRleHQgb2YgdGhlIGVsZW1lbnRcbiAgICAgICAgY29udGV4dC5maWxsVGV4dCh0aGlzLl90ZXh0LCB0aGlzLl9kaXNwbGF5RGltZW5zaW9ucy54LCB0aGlzLl9kaXNwbGF5RGltZW5zaW9ucy55ICsgKHRoaXMuX2ZpeGVkID8gdGhpcy5fZGltZW5zaW9ucy5oIDogdGhpcy5fZGlzcGxheURpbWVuc2lvbnMuaCkpO1xuICAgICAgICAvLyBjb25zaWRlciB0aGUgZGlzcGxheSBkaW1lbnNpb25zIHRoZSBzYW1lIGFzIHRoZSBvcmlnaW5hbCBjYWxjdWxhdGlvblxuICAgICAgICB0aGlzLl9kaXNwbGF5RGltZW5zaW9ucy53ID0gdGhpcy5fZGltZW5zaW9ucy53O1xuICAgICAgICB0aGlzLl9kaXNwbGF5RGltZW5zaW9ucy5oID0gdGhpcy5fZGltZW5zaW9ucy5oO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2xvbmVGb3JFZmZlY3RcbiAgICAgKlxuICAgICAqIGNsb25lIGEgdGV4dCBlZmZlY3RcbiAgICAgKiBAcGFyYW1cdGlkXHRUaGUgaWRlbnRpZmllciB0byB1c2UgZm9yIHRoZSBjbG9uZWQgZWxlbWVudFxuICAgICAqIEByZXR1cm5zXHRUaGUgY2xvbmVkIHRleHQgZWxlbWVudFxuICAgICAqXG4gICAgICovXG4gICAgX2Nsb25lRm9yRWZmZWN0KGlkKSB7XG4gICAgICAgIGxldCBwdCA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMuX2RpbWVuc2lvbnMueCxcbiAgICAgICAgICAgIHk6IHRoaXMuX2RpbWVuc2lvbnMueVxuICAgICAgICB9O1xuICAgICAgICBsZXQgb3V0ID0gbmV3IFRleHRFbGVtZW50KGlkLCB0aGlzLl90ZXh0LCBwdCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxufVxuZXhwb3J0cy5UZXh0RWxlbWVudCA9IFRleHRFbGVtZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vX2NvbnN0YW50c1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb2xvclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9nbG9iYWxcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaGVscGVyc1wiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBUaGUgYW1vdW50IHRoZSBodWUgc2hvdWxkIGluY3JlYXNlIHdoZW4gY3ljbGluZyB0aHJvdWdoIG5ldyBjb2xvcnMgKi9cbmV4cG9ydHMuSFVFX0lOVEVSVkFMID0gMjI7XG4vKiogVGhlIGFtb3VudCB0aGF0IHRoZSBsaWdodG5lc3Mgc2hvdWxkIGluY3JlYXNlIHdoZW4gY3ljbGluZyB0aHJvdWdoIG5ldyBjb2xvcnMgKi9cbmV4cG9ydHMuTElHSFRfSU5URVJWQUwgPSAyMDtcbi8qKiBUaGUgYW1vdW50IHRoYXQgdGhlIHNhdHVyYXRpb24gc2hvdWxkIGluY3JlYXNlIHdoZW4gY3ljbGluZyB0aHJvdWdoIG5ldyBjb2xvcnMgKi9cbmV4cG9ydHMuU0FUVVJBVElPTl9JTlRFUlZBTCA9IDIwO1xuLyoqIFRoZSBtYXggYW5kIG1pbiBzYXR1cmF0aW9uIHZhbHVlIHRoYXQgc2hvdWxkIGJlIHVzZWQgZm9yIGN5Y2xpbmcgY29sb3JzICovXG5leHBvcnRzLlNBVFVSQVRJT05fTElNSVRTID0ge1xuICAgIG1heDogMTAwLFxuICAgIG1pbjogMjBcbn07XG4vKiogVGhlIG1heCBhbmQgbWluIGxpZ2h0bmVzcyB2YWx1ZXMgdGhhdCBzaG91bGQgYmUgdXNlZCBmb3IgY3ljbGluZyBjb2xvcnMgKi9cbmV4cG9ydHMuTElHSFRORVNTX0xJTUlUUyA9IHtcbiAgICBtYXg6IDgwLFxuICAgIG1pbjogMzVcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBIU0xQaWVjZTtcbihmdW5jdGlvbiAoSFNMUGllY2UpIHtcbiAgICBIU0xQaWVjZVtIU0xQaWVjZVtcIkhVRVwiXSA9IDFdID0gXCJIVUVcIjtcbiAgICBIU0xQaWVjZVtIU0xQaWVjZVtcIlNBVFVSQVRJT05cIl0gPSAyXSA9IFwiU0FUVVJBVElPTlwiO1xuICAgIEhTTFBpZWNlW0hTTFBpZWNlW1wiTElHSFRORVNTXCJdID0gM10gPSBcIkxJR0hUTkVTU1wiO1xuICAgIEhTTFBpZWNlW0hTTFBpZWNlW1wiQUxQSEFcIl0gPSA0XSA9IFwiQUxQSEFcIjtcbn0pKEhTTFBpZWNlID0gZXhwb3J0cy5IU0xQaWVjZSB8fCAoZXhwb3J0cy5IU0xQaWVjZSA9IHt9KSk7XG52YXIgUkdCRW51bTtcbihmdW5jdGlvbiAoUkdCRW51bSkge1xuICAgIFJHQkVudW1bUkdCRW51bVtcIlJFRFwiXSA9IDBdID0gXCJSRURcIjtcbiAgICBSR0JFbnVtW1JHQkVudW1bXCJHUkVFTlwiXSA9IDFdID0gXCJHUkVFTlwiO1xuICAgIFJHQkVudW1bUkdCRW51bVtcIkJMVUVcIl0gPSAyXSA9IFwiQkxVRVwiO1xuICAgIFJHQkVudW1bUkdCRW51bVtcIkFMUEhBXCJdID0gM10gPSBcIkFMUEhBXCI7XG59KShSR0JFbnVtID0gZXhwb3J0cy5SR0JFbnVtIHx8IChleHBvcnRzLlJHQkVudW0gPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogVGhlIGFtb3VudCB0aGUgaHVlIHNob3VsZCBpbmNyZWFzZSB3aGVuIGN5Y2xpbmcgdGhyb3VnaCBuZXcgY29sb3JzICovXG5leHBvcnRzLkhVRV9JTlRFUlZBTCA9IDIyO1xuLyoqIFRoZSBhbW91bnQgdGhhdCB0aGUgbGlnaHRuZXNzIHNob3VsZCBpbmNyZWFzZSB3aGVuIGN5Y2xpbmcgdGhyb3VnaCBuZXcgY29sb3JzICovXG5leHBvcnRzLkxJR0hUX0lOVEVSVkFMID0gMjA7XG4vKiogVGhlIGFtb3VudCB0aGF0IHRoZSBzYXR1cmF0aW9uIHNob3VsZCBpbmNyZWFzZSB3aGVuIGN5Y2xpbmcgdGhyb3VnaCBuZXcgY29sb3JzICovXG5leHBvcnRzLlNBVFVSQVRJT05fSU5URVJWQUwgPSAyMDtcbi8qKiBUaGUgbWF4IGFuZCBtaW4gc2F0dXJhdGlvbiB2YWx1ZSB0aGF0IHNob3VsZCBiZSB1c2VkIGZvciBjeWNsaW5nIGNvbG9ycyAqL1xuZXhwb3J0cy5TQVRVUkFUSU9OX0xJTUlUUyA9IHtcbiAgICBtYXg6IDEwMCxcbiAgICBtaW46IDIwXG59O1xuLyoqIFRoZSBtYXggYW5kIG1pbiBsaWdodG5lc3MgdmFsdWVzIHRoYXQgc2hvdWxkIGJlIHVzZWQgZm9yIGN5Y2xpbmcgY29sb3JzICovXG5leHBvcnRzLkxJR0hUTkVTU19MSU1JVFMgPSB7XG4gICAgbWF4OiA4MCxcbiAgICBtaW46IDM1XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb2xvcl8xID0gcmVxdWlyZShcIi4vY29sb3JcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdEdsb2JhbENvbG9yXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBoYW5kbGUgdGhlIGdsb2JhbCBkZXNjcmlwdGlvbiBvZiBjb2xvcnNcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb25cdDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIF9HbG9iYWxDb2xvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3VzZWRDb2xvcnMgPSB7fTtcbiAgICAgICAgdGhpcy5faW5uZXJDb2xvciA9IG5ldyBjb2xvcl8xLkhTTENvbG9yKFwiaHNsKDMzMCwgODAlLCA1MCUpXCIpO1xuICAgIH1cbiAgICBnZW5lcmF0ZUNvbG9yKGlkLCBmaXJzdFJvdGF0ZSkge1xuICAgICAgICBsZXQgY29sb3JTdHIgPSB0aGlzLl91c2VkQ29sb3JzW2lkXSB8fCBcIlwiO1xuICAgICAgICAvLyBHcmFiIHRoZSBuZXh0IGF2YWlsYWJsZSBjb2xvclxuICAgICAgICBpZiAoIWNvbG9yU3RyKSB7XG4gICAgICAgICAgICBjb2xvclN0ciA9IHRoaXMuX2lubmVyQ29sb3IuZ2V0TmV4dENvbG9yKGZpcnN0Um90YXRlIHx8IF9pbnRlcmZhY2VzXzEuSFNMUGllY2VFbnVtLkhVRSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbG9yID0gbmV3IGNvbG9yXzEuSGV4Q29sb3IoY29sb3JTdHIpO1xuICAgICAgICAvLyBJZiB3ZSByZWNlaXZlZCBhbiBpZGVudGlmaWVyLCB1c2UgaXRcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICB0aGlzLl91c2VkQ29sb3JzW2lkXSA9IGNvbG9yU3RyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG4gICAgO1xuICAgIGdldEN1cnJlbnRDb2xvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyQ29sb3I7XG4gICAgfVxufVxuZXhwb3J0cy5HbG9iYWxDb2xvciA9IG5ldyBfR2xvYmFsQ29sb3IoKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29sb3JfMSA9IHJlcXVpcmUoXCIuL2NvbG9yXCIpO1xuLyoqXG4gKiBnZXRBcHBhcmVudENvbG9yXG4gKlxuICogQ2FsY3VsYXRlcyB0aGUgbm9uLW9wYWNpdHkgdmFsdWUgb2YgdGhlIHNlbWktdHJhbnNwYXJlbnQgZnJvbnQgY29sb3Igd2hlbiBwbGFjZWQgb3ZlciBhbm90aGVyIGNvbG9yXG4gKlxuICogQHBhcmFtIFx0ZnJvbnRDb2xvclx0QSBjb2xvciBzdHJpbmcgaW5jbHVkaW5nIGFuIGFscGhhIHZhbHVlXG4gKiBAcGFyYW0gXHRiYWNrQ29sb3JcdFRoZSBjb2xvciB0aGF0IGFwcGVhcnMgaW4gdGhlIGJhY2tncm91bmRcbiAqIEBwYXJhbSBcdG9wYWNpdHlcdFx0VGhlIG9wYWNpdHkgb2YgdGhlIGZpcnN0IGNvbG9yLCBpZiBub3QgaW5jbHVkZWQgaW4gdGhlIGNvbG9yIHN0cmluZ1xuICpcbiAqIEByZXR1cm5zXHRUaGUgY3JlYXRlZCBhcHBhcmVudCBjb2xvciBhcyBhIGhleCBzdHJpbmdcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldEFwcGFyZW50Q29sb3IoZnJvbnRDb2xvciwgYmFja0NvbG9yLCBvcGFjaXR5KSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBjb2xvciBvYmplY3RcbiAgICBsZXQgY29sID0gbmV3IGNvbG9yXzEuQW55Q29sb3IoZnJvbnRDb2xvciwgb3BhY2l0eSk7XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBuZXcgY29sb3JcbiAgICBjb2wuZ2V0QXBwYXJlbnRDb2xvcihiYWNrQ29sb3IpO1xuICAgIHJldHVybiBjb2wudG9IZXhTdHJpbmcoKTtcbn1cbmV4cG9ydHMuZ2V0QXBwYXJlbnRDb2xvciA9IGdldEFwcGFyZW50Q29sb3I7XG4vKipcbiAqIGdldENvbXBsZW1lbnRhcnlDb2xvclxuICpcbiAqIEZpbmQgYSBjb2xvciB0aGF0IHdvcmtzIHdlbGwgd2l0aCB0aGUgY29sb3IgcGFzc2VkIGluXG4gKlxuICogQHBhcmFtIFx0Y29sb3JcdFx0VGhlIGNvbG9yIHRvIGZpbmQgYSBjb21wbGVtZW50IGZvclxuICogQHBhcmFtIFx0Y3V0b2ZmIFx0XHRIb3cgZGlmZmVyZW50IHRoZSBsaWdodG5lc3NlcyBvZiB0aGUgY29sb3JzIG5lZWQgdG8gYmVcbiAqXG4gKiBAcmV0dXJuc1x0VGhlIGNvbG9yIHN0cmluZyBmb3IgdGhlIGFwcHJvcHJpYXRlIGNvbXBsZW1lbnRhcnkgY29sb3JcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldENvbXBsZW1lbnRhcnlDb2xvcihjb2xvciwgY3V0b2ZmKSB7XG4gICAgbGV0IGxpZ2h0bmVzcztcbiAgICBjdXRvZmYgPSBjdXRvZmYgfHwgNDU7XG4gICAgLy8gR3JhYiB0aGUgYXBwcm9wcmlhdGUgY29sb3JcbiAgICBsZXQgY29sID0gbmV3IGNvbG9yXzEuQW55Q29sb3IoY29sb3IpO1xuICAgIC8vIEdyYWIgdGhlIGN1cnJlbnQgbGlnaHRuZXNzIHZhbHVlXG4gICAgbGlnaHRuZXNzID0gY29sLmdldExpZ2h0bmVzcygpO1xuICAgIGlmIChsaWdodG5lc3MgPCBjdXRvZmYpIHtcbiAgICAgICAgY29sLmxpZ2h0bmVzcyA9IDk1O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29sLmxpZ2h0bmVzcyA9IDU7XG4gICAgfVxuICAgIGNvbC5nZW5lcmF0ZVJnYlZhbHVlcygpO1xuICAgIHJldHVybiBjb2wudG9SZ2JhU3RyaW5nKCk7XG59XG5leHBvcnRzLmdldENvbXBsZW1lbnRhcnlDb2xvciA9IGdldENvbXBsZW1lbnRhcnlDb2xvcjtcbi8qKlxuICogaGV4VG9SZ2JcbiAqXG4gKiBDb252ZXJ0cyBhIGhleCBjb2xvciBzdHJpbmcgdG8gYSBSR0IgY29sb3Igc3RyaW5nXG4gKlxuICogQHBhcmFtIFx0aGV4IFx0VGhlIGhleCBzdHJpbmcgdG8gY29udmVydFxuICpcbiAqIEByZXR1cm5zIFRoZSBhcHByb3ByaWF0ZSBSR0Igc3RyaW5nXG4gKlxuICovXG5mdW5jdGlvbiBoZXhUb1JnYihoZXgpIHtcbiAgICBsZXQgYyA9IG5ldyBjb2xvcl8xLkhleENvbG9yKGhleCk7XG4gICAgcmV0dXJuIGMudG9SZ2JTdHJpbmcoKTtcbn1cbmV4cG9ydHMuaGV4VG9SZ2IgPSBoZXhUb1JnYjtcbjtcbi8qKlxuICogaGV4VG9SZ2JhXG4gKlxuICogQ29udmVydHMgYSBoZXggY29sb3Igc3RyaW5nIHRvIHJnYmEgY29sb3Igc3RyaW5nXG4gKlxuICogQHBhcmFtIFx0aGV4IFx0VGhlIGhleCBzdHJpbmcgdG8gcGFyc2VcbiAqIEBwYXJhbSBcdGFscGhhIFx0VGhlIGFscGhhIHZhbHVlIHRvIGdpdmUgdGhlIGNvbG9yXG4gKlxuICogQHJldHVybnNcdFRoZSByZ2JhIHZlcnNpb24gb2YgdGhpcyBoZXggc3RyaW5nXG4gKlxuICovXG5mdW5jdGlvbiBoZXhUb1JnYmEoaGV4LCBhbHBoYSkge1xuICAgIGxldCBjID0gbmV3IGNvbG9yXzEuSGV4Q29sb3IoaGV4LCBhbHBoYSk7XG4gICAgcmV0dXJuIGMudG9SZ2JhU3RyaW5nKCk7XG59XG5leHBvcnRzLmhleFRvUmdiYSA9IGhleFRvUmdiYTtcbjtcbi8qKlxuICogaHNsVG9SZ2JcbiAqXG4gKiBDb252ZXJ0cyBhIEhTTCBzdHJpbmcgdG8gUkdCIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBoc2wgLSBUaGUgSFNMIHN0cmluZyB0byBwYXJzZVxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBSR0Igc3RyaW5nIHRoYXQgY29ycmVzcG9uZHNcbiAqXG4gKi9cbmZ1bmN0aW9uIGhzbFRvUmdiKGhzbCkge1xuICAgIGxldCBjID0gbmV3IGNvbG9yXzEuSFNMQ29sb3IoaHNsKTtcbiAgICByZXR1cm4gYy50b1JnYlN0cmluZygpO1xufVxuZXhwb3J0cy5oc2xUb1JnYiA9IGhzbFRvUmdiO1xuO1xuLyoqXG4gKiBoc2xhVG9SZ2JhXG4gKlxuICogQ29udmVydHMgYSBIU0xBIHN0cmluZyB0byBhIFJHQiBzdHJpbmdcbiAqXG4gKiBAcGFyYW0gXHRoc2wgXHRUaGUgSFNMIHN0cmluZyB0byBjb252ZXJ0XG4gKiBAcGFyYW0gXHRhbHBoYSBcdFRoZSBhbHBoYSB2YWx1ZSB0byB1c2UsIGlmIHRoZSBoc2wgc3RyaW5nIGRvZXNuJ3QgaW5jbHVkZSBpdFxuICpcbiAqIEByZXR1cm5zIFRoZSBhcHByb3ByaWF0ZSBSR0JBIHN0cmluZ1xuICpcbiAqL1xuZnVuY3Rpb24gaHNsYVRvUmdiYShoc2wsIGFscGhhKSB7XG4gICAgbGV0IGMgPSBuZXcgY29sb3JfMS5IU0xDb2xvcihoc2wsIGFscGhhKTtcbiAgICByZXR1cm4gYy50b1JnYmFTdHJpbmcoKTtcbn1cbmV4cG9ydHMuaHNsYVRvUmdiYSA9IGhzbGFUb1JnYmE7XG47XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb21tYW5kXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRDdXN0b21pemFibGVDb21tYW5kXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBmcmFtZXdvcmsgY29tbWFuZCB0aGF0IGFsbG93cyBmb3IgYSBcImRvXCIgYW5kIGFuIFwidW5kb1wiXG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uXHQxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBDdXN0b21pemFibGVDb21tYW5kIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBSVU5OSU5HIFRIRSBDT01NQU5EXG4gICAgY29uc3RydWN0b3Iob25FeGVjdXRlLCBvblVuZXhlY3V0ZSkge1xuICAgICAgICB0aGlzLl9vbkV4ZWN1dGUgPSBvbkV4ZWN1dGU7XG4gICAgICAgIHRoaXMuX29uVW5leGVjdXRlID0gb25VbmV4ZWN1dGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGV4ZWN1dGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBwZXJmb3JtIHRoZSBhY3Rpb24gb24gdGhpcyBjb21tZW5kXG4gICAgICovXG4gICAgZXhlY3V0ZShwYXJhbXMpIHtcbiAgICAgICAgLy8gdmFsaWRhdGUgdGhhdCB3ZSBjYW4gZXhlY3V0ZSB0aGlzIGNvbW1hbmRcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSBDb21tYW5kU3RhdGUuRVhFQ1VURUQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImFscmVhZHkgcGVyZm9ybWVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fb25FeGVjdXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJubyBkbyBhY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXhlY3V0ZSB0aGUgY29tbWFuZCAmIHVwZGF0ZSB0aGUgc3RhdGVcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBDb21tYW5kU3RhdGUuRVhFQ1VURUQ7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkV4ZWN1dGUocGFyYW1zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdW5leGVjdXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogcmV2ZXJzZSB0aGUgYWN0aW9uIG9mIHRoaXMgY29tbWFuZFxuICAgICAqL1xuICAgIHVuZXhlY3V0ZShwYXJhbXMpIHtcbiAgICAgICAgLy8gdmFsaWRhdGUgdGhhdCB3ZSBjYW4gdW5leGVjdXRlIHRoaXMgY29tbWFuZFxuICAgICAgICBpZiAodGhpcy5fc3RhdGUgIT09IENvbW1hbmRTdGF0ZS5FWEVDVVRFRCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IHlldCBwZXJmb3JtZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9vblVuZXhlY3V0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8gdW5kbyBhY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV2ZXJzZSB0aGUgY29tbWFuZCAmIHVwZGF0ZSB0aGUgc3RhdGVcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBDb21tYW5kU3RhdGUuUkVWRVJTRUQ7XG4gICAgICAgIHJldHVybiB0aGlzLl9vblVuZXhlY3V0ZShwYXJhbXMpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ3VzdG9taXphYmxlQ29tbWFuZCA9IEN1c3RvbWl6YWJsZUNvbW1hbmQ7XG52YXIgQ29tbWFuZFN0YXRlO1xuKGZ1bmN0aW9uIChDb21tYW5kU3RhdGUpIHtcbiAgICBDb21tYW5kU3RhdGVbQ29tbWFuZFN0YXRlW1wiRVJSXCJdID0gMF0gPSBcIkVSUlwiO1xuICAgIENvbW1hbmRTdGF0ZVtDb21tYW5kU3RhdGVbXCJFWEVDVVRFRFwiXSA9IDFdID0gXCJFWEVDVVRFRFwiO1xuICAgIENvbW1hbmRTdGF0ZVtDb21tYW5kU3RhdGVbXCJSRVZFUlNFRFwiXSA9IDJdID0gXCJSRVZFUlNFRFwiO1xufSkoQ29tbWFuZFN0YXRlID0gZXhwb3J0cy5Db21tYW5kU3RhdGUgfHwgKGV4cG9ydHMuQ29tbWFuZFN0YXRlID0ge30pKTtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvbXBhcmFibGVcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vY29udGV4dE1lbnVcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29udGV4dE1lbnVDb2xvcnM7XG4oZnVuY3Rpb24gKENvbnRleHRNZW51Q29sb3JzKSB7XG4gICAgQ29udGV4dE1lbnVDb2xvcnNbQ29udGV4dE1lbnVDb2xvcnNbXCJNQUlOX0NPTE9SXCJdID0gMF0gPSBcIk1BSU5fQ09MT1JcIjtcbiAgICBDb250ZXh0TWVudUNvbG9yc1tDb250ZXh0TWVudUNvbG9yc1tcIkZPTlRfQ09MT1JcIl0gPSAxXSA9IFwiRk9OVF9DT0xPUlwiO1xuICAgIENvbnRleHRNZW51Q29sb3JzW0NvbnRleHRNZW51Q29sb3JzW1wiU1VCX01FTlVfQ09MT1JcIl0gPSAyXSA9IFwiU1VCX01FTlVfQ09MT1JcIjtcbiAgICBDb250ZXh0TWVudUNvbG9yc1tDb250ZXh0TWVudUNvbG9yc1tcIlNVQl9NRU5VX0JPUkRFUlwiXSA9IDNdID0gXCJTVUJfTUVOVV9CT1JERVJcIjtcbiAgICBDb250ZXh0TWVudUNvbG9yc1tDb250ZXh0TWVudUNvbG9yc1tcIlNVQl9TVUJfTUVOVV9DT0xPUlwiXSA9IDRdID0gXCJTVUJfU1VCX01FTlVfQ09MT1JcIjtcbiAgICBDb250ZXh0TWVudUNvbG9yc1tDb250ZXh0TWVudUNvbG9yc1tcIlNVQl9TVUJfTUVOVV9CT1JERVJcIl0gPSA1XSA9IFwiU1VCX1NVQl9NRU5VX0JPUkRFUlwiO1xufSkoQ29udGV4dE1lbnVDb2xvcnMgPSBleHBvcnRzLkNvbnRleHRNZW51Q29sb3JzIHx8IChleHBvcnRzLkNvbnRleHRNZW51Q29sb3JzID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZHJhd2FibGVfMSA9IHJlcXVpcmUoXCIuLi9kcmF3YWJsZS9kcmF3YWJsZVwiKTtcbmNvbnN0IGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9kYXRhU3RydWN0dXJlcy9jb2xsZWN0aW9uL2NvbGxlY3Rpb25cIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IG5hdmlnYXRlXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9uYXZpZ2F0ZVwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyBDb250ZXh0TWVudVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY3JlYXRlcyBhIGN1c3RvbSBjb250ZXh0IG1lbnVcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIENvbnRleHRNZW51IGV4dGVuZHMgZHJhd2FibGVfMS5EcmF3YWJsZSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY3VzdG9tIGNvbnRleHQgKHJpZ2h0LWNsaWNrKSBtZW51IGZvciBhIGdpdmVuIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gXHR0YXJnZXQgICAgXHRUaGUgZWxlbWVudCB0byBjcmVhdGUgdGhlIGN1c3RvbSBtZW51IGZvclxuICAgICAqIEBwYXJhbSBcdG5vU3R5bGVzXHRUcnVlIGlmIHdlIHNob3VsZG4ndCBjcmVhdGUgY3NzIGNsYXNzZXMgZm9yIHRoZSBzdGFuZGFyZCBtZW51IHN0eWxlc1xuICAgICAqIEBwYXJhbVx0Y29sb3JzXHRcdE9wdGlvbmFsIHNldCBvZiB0aGVtZSBjb2xvcnMgdG8gdXNlIGZvciB0aGUgbWVudVxuICAgICAqXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBub1N0eWxlcywgY29sb3JzKSB7XG4gICAgICAgIC8vIEluaXRpYWxpemUgb3VyIERyYXdhYmxlXG4gICAgICAgIHN1cGVyKHsgY2xzOiBcImN0eE1lbnVcIiB9KTtcbiAgICAgICAgdGhpcy5fYWRkQ2xhc3NOYW1lKFwiQ29udGV4dE1lbnVcIik7XG4gICAgICAgIC8vIFNldCBvdXIgaW5pdGlhbCBwcm9wZXJ0aWVzXG4gICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5fbm9TdHlsZXMgPSBub1N0eWxlcztcbiAgICAgICAgdGhpcy5fY29sb3JzID0gY29sb3JzIHx8IHtcbiAgICAgICAgICAgIG1lbnVCRzogXCJyZ2JhKDQwLDQwLDQwLDEpXCIsXG4gICAgICAgICAgICBtZW51VGV4dDogXCIjRkZGXCIsXG4gICAgICAgICAgICBtZW51T3B0Qkc6IFwicmdiYSg0MCw0MCw0MCwuOSlcIixcbiAgICAgICAgICAgIG1lbnVCb3JkZXI6IFwiIzc3N1wiLFxuICAgICAgICAgICAgbWVudU9wdE5lc3RlZDogXCJyZ2JhKDQwLDQwLDQwLC44NSlcIixcbiAgICAgICAgICAgIG1lbnVCb3JkZXJOZXN0ZWQ6IFwiIzg4OFwiLFxuICAgICAgICAgICAgbWVudVNlbGVjdGVkVGV4dDogXCIjNTA1MDUwXCIsXG4gICAgICAgICAgICBtZW51U2VsZWN0ZWRCb3JkZXI6IFwiIzk5OVwiXG4gICAgICAgIH07XG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIG9wdGlvbiBhcnJheVxuICAgICAgICB0aGlzLl9vcHRpb25zID0gbmV3IGNvbGxlY3Rpb25fMS5Db2xsZWN0aW9uKCk7XG4gICAgICAgIC8vIENyZWF0ZSBvdXIgb3RoZXIgZWxlbWVudHNcbiAgICAgICAgdGhpcy5fY3JlYXRlRWxlbWVudHMoKTtcbiAgICAgICAgLy8gQWRkIGxpc3RlbmVyc1xuICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuICAgIH1cbiAgICAvKiogcHVibGljIGFjY2Vzc2libGUgZnVuY3Rpb24gZm9yIHRoZSBiYXNlIGVsZW1lbnQgKi9cbiAgICBnZXQgYmFzZSgpIHsgcmV0dXJuIHRoaXMuX2VsZW1zLmJhc2U7IH1cbiAgICAvKipcbiAgICAgKiBhZGRPcHRpb25cbiAgICAgKlxuICAgICAqIGFkZHMgYW4gb3B0aW9uIHRvIG91ciBjb250ZXh0IG1lbnVcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0b3B0XHRcdFx0VGhlIG9wdGlvbiB0byBhZGRcbiAgICAgKiBAcGFyYW1cdHN1Yk9wdGlvbnNcdEFueSBuZXN0ZWQgb3B0aW9ucyB0byBpbmNsdWRlXG4gICAgICogQHBhcmFtXHRwYXJlbnRcdFx0V2hhdCB0aGUgcGFyZW50IGVsZW1lbnQgc2hvdWxkIGJlIChkZWZhdWx0cyB0byBvcHRpb24gY29udGFpbmVyKVxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRydWUgaWYgdGhlIG9wdGlvbiBjb3VsZCBiZSBhZGRlZFxuICAgICAqXG4gICAgICovXG4gICAgYWRkT3B0aW9uKG9wdCwgc3ViT3B0aW9ucywgcGFyZW50KSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgb3B0aW9uIGxhYmVsIGlzIHVuaXF1ZVxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5oYXNFbGVtZW50KG9wdC5sYWJlbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDcmVhdGUgdGhlIGVsZW1lbnQgZm9yIHRoZSBvcHRpb24gaWYgbm90IGluY2x1ZGVkXG4gICAgICAgIGlmICghb3B0LmVsZW1zKSB7XG4gICAgICAgICAgICBvcHQuZWxlbXMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICA7XG4gICAgICAgIGlmICghb3B0LmVsZW1zLmJhc2UpIHtcbiAgICAgICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gdGhpcy5fZWxlbXMub3B0aW9uX2NvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5lbGVtcy5iYXNlID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJjdHhPcHRpb25cIiwgb3B0LmxhYmVsLCBudWxsLCBudWxsLCBwYXJlbnQpO1xuICAgICAgICAgICAgb3B0LmVsZW1zLmJhc2Uub25jbGljayA9IG9wdC5jYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgdGhlIG9wdGlvbiB0byBvdXIgY29sbGVjdGlvblxuICAgICAgICB0aGlzLl9vcHRpb25zLmFkZChvcHQubGFiZWwsIG9wdCk7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBzdWJvcHRpb25zIGFuZCBhZGQgdGhlbSBhcyB3ZWxsXG4gICAgICAgIGxldCBzdWJfc3VjY2VzcyA9IHRydWU7XG4gICAgICAgIGZvciAobGV0IHNfb3B0IG9mIHN1Yk9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5hZGRTdWJPcHRpb24ob3B0LCBzX29wdCkpIHtcbiAgICAgICAgICAgICAgICBzdWJfc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghc3ViX3N1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtpbmcgaXQgdGhpcyBmYXIgbWVhbnMgd2UgYWRkZWQgZXZlcnl0aGluZyBva1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRkU3ViT3B0aW9uXG4gICAgICpcbiAgICAgKiBBZGRzIGEgbmVzdGVkIG9wdGlvbiB0byBvdXIgY29udGV4dCBtZW51XG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRzcmNPcHRpb25cdFRoZSBvcHRpb24gd2UgYXJlIG5lc3RpbmcgdW5kZXJcbiAgICAgKiBAcGFyYW0gXHRzdWJPcHRpb24gXHRUaGUgc3ViIG9wdGlvbiB3ZSBhcmUgY3VycmVudGx5IGFkZGluZ1xuICAgICAqXG4gICAgICogQHJldHVybnNcdFRydWUgaWYgdGhlIHN1Ym9wdGlvbiB3YXMgYWRkZWRcbiAgICAgKlxuICAgICAqL1xuICAgIGFkZFN1Yk9wdGlvbihzcmNPcHRpb24sIHN1Yk9wdGlvbikge1xuICAgICAgICAvLyBUcnkgdG8gZ3JhYiB0aGUgb3B0aW9uIGZyb20gb3VyIGNvbGxlY3Rpb24gaWYgbm90IHBhc3NlZCBpbiBjb3JyZWN0bHlcbiAgICAgICAgaWYgKCFzcmNPcHRpb24uZWxlbXMpIHtcbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBuZXcgb3B0aW9uLCBjcmVhdGUgaXQgZmlyc3RcbiAgICAgICAgICAgIGlmICghdGhpcy5fb3B0aW9ucy5oYXNFbGVtZW50KHNyY09wdGlvbi5sYWJlbCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE9wdGlvbihzcmNPcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVHJ5IHRvIGdyYWIgdGhlIG9wdGlvbiBmcm9tIG91ciBjb2xsZWN0aW9uXG4gICAgICAgICAgICBzcmNPcHRpb24gPSB0aGlzLl9nZXRPcHRpb24oc3JjT3B0aW9uLmxhYmVsKTtcbiAgICAgICAgICAgIC8vIFF1aXQgaWYgd2UgY291bGRuJ3QgZmluZCBhbiBvcHRpb25cbiAgICAgICAgICAgIGlmICghc3JjT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFF1aXQgaWYgdGhlIG9wdGlvbiBoYXNuJ3QgYmVlbiBhcHByb3ByaWF0ZWx5IGluaXRpYWxpemVkXG4gICAgICAgIGlmICghc3JjT3B0aW9uLmVsZW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBzdWJtZW51IGRpdiBpZiBpdCdzIG1pc3NpbmdcbiAgICAgICAgaWYgKCFzcmNPcHRpb24uZWxlbXMuc3ViX21lbnUpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkU3ViTWVudShzcmNPcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCB0aGUgYWN0dWFsIHN1YiBtZW51XG4gICAgICAgIHRoaXMuYWRkT3B0aW9uKHN1Yk9wdGlvbiwgW10sIHNyY09wdGlvbi5lbGVtcy5zdWJfbWVudSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9idWlsZFN1Yk1lbnVcbiAgICAgKlxuICAgICAqIGNyZWF0ZXMgYSBzdWIgbWVudVxuICAgICAqIEBwYXJhbVx0c3JjT3B0aW9uXHRUaGUgb3B0aW9uIHRvIG5lc3QgdW5kZXJcbiAgICAgKlxuICAgICAqL1xuICAgIF9idWlsZFN1Yk1lbnUoc3JjT3B0aW9uKSB7XG4gICAgICAgIHNyY09wdGlvbi5lbGVtcy5zdWJfbWVudSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwic3ViTWVudSBoaWRkZW5cIiwgXCJcIiwgbnVsbCwgbnVsbCwgc3JjT3B0aW9uLmVsZW1zLmJhc2UpO1xuICAgICAgICBzcmNPcHRpb24uZWxlbXMuYmFzZS5pbm5lckhUTUwgKz0gXCIuLi5cIjtcbiAgICAgICAgaWYgKCF0aGlzLl9ub1N0eWxlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBtb3VzZS1vdmVyIG9ubHkgaWYgd2UgZGlkbid0IGFkZCBzdGFuZGFyZCBjbGFzc2VzXG4gICAgICAgIHNyY09wdGlvbi5lbGVtcy5zdWJfbWVudS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHNyY09wdGlvbi5lbGVtcy5iYXNlLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgc3JjT3B0aW9uLmVsZW1zLnN1Yl9tZW51LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH0pO1xuICAgICAgICBzcmNPcHRpb24uZWxlbXMuYmFzZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgc3JjT3B0aW9uLmVsZW1zLnN1Yl9tZW51LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9nZXRPcHRpb25cbiAgICAgKlxuICAgICAqIGdyYWJzIGEgcGFydGljdWxhciBvcHRpb24gZnJvbSBvdXIgbWVudVxuICAgICAqXG4gICAgICogQHBhcmFtXHRsYmxcdFx0VGhlIGxhYmVsIG9mIHRoZSBvcHRpb24gd2UgYXJlIGdyYWJiaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VGhlIG9wdGlvbiB3aXRoIHRoaXMgbGFiZWxcbiAgICAgKlxuICAgICAqL1xuICAgIF9nZXRPcHRpb24obGJsKSB7XG4gICAgICAgIGlmICghbGJsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaUNvbCA9IHRoaXMuX29wdGlvbnMuZ2V0RWxlbWVudChsYmwpO1xuICAgICAgICAvLyBHcmFiIHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBpbiBvdXIgY29sbGVjdGlvblxuICAgICAgICBpZiAoaUNvbCkge1xuICAgICAgICAgICAgcmV0dXJuIGlDb2wudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiByZW1vdmVPcHRpb25cbiAgICAgKlxuICAgICAqIHJlbW92ZXMgYW4gb3B0aW9uIGZyb20gb3VyIG1lbnVcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0bGJsXHRcdFRoZSBsYWJlbCBvZiB0aGUgb3B0aW9uIGJlaW5nIHJlbW92ZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUcnVlIGlmIHRoZSBvcHRpb24gd2FzIHJlbW92ZWRcbiAgICAgKlxuICAgICAqL1xuICAgIHJlbW92ZU9wdGlvbihsYmwpIHtcbiAgICAgICAgbGV0IG9wdDtcbiAgICAgICAgbGV0IGlDb2w7XG4gICAgICAgIGlDb2wgPSB0aGlzLl9vcHRpb25zLnJlbW92ZShsYmwpO1xuICAgICAgICBpZiAoIWlDb2wpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBvcHQgPSBpQ29sLnZhbHVlO1xuICAgICAgICAvLyBBbHNvIHJlbW92ZSB0aGUgSFRNTCBlbGVtZW50IGFkZGVkIGJ5IHRoaXMgb3B0aW9uXG4gICAgICAgIGlmIChvcHQuZWxlbXMuYmFzZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBvcHQuZWxlbXMuYmFzZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9wdC5lbGVtcy5iYXNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm4gdHJ1ZSBpZiB3ZSBtYWRlIGl0IHRoaXMgZmFyXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogY2xlYXJPcHRpb25zXG4gICAgICpcbiAgICAgKiBSZW1vdmVzIGFsbCBvZiBvdXIgb3B0aW9uc1xuICAgICAqXG4gICAgICovXG4gICAgY2xlYXJPcHRpb25zKCkge1xuICAgICAgICB0aGlzLl9vcHRpb25zLnJlc2V0TG9vcCh0cnVlKTtcbiAgICAgICAgbGV0IG9wdDtcbiAgICAgICAgbGV0IGlDb2w7XG4gICAgICAgIC8vIFJlbW92ZSBhbGwgSFRNTCBFTGVtZW50c1xuICAgICAgICB3aGlsZSAodGhpcy5fb3B0aW9ucy5oYXNOZXh0KHRydWUpKSB7XG4gICAgICAgICAgICBpQ29sID0gdGhpcy5fb3B0aW9ucy5nZXROZXh0KHRydWUpO1xuICAgICAgICAgICAgaWYgKCFpQ29sKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHQgPSBpQ29sLnZhbHVlO1xuICAgICAgICAgICAgaWYgKG9wdC5lbGVtcy5iYXNlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbXMuYmFzZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9wdC5lbGVtcy5iYXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDbGVhciB0aGUgY29sbGVjdGlvblxuICAgICAgICB0aGlzLl9vcHRpb25zLmNsZWFyKCk7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBfYWRkRXZlbnRMaXN0ZW5lcnNcbiAgICAgKlxuICAgICAqIEFkZHMgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSByZWxldmFudCBwaWVjZXMgdG8gc2hvdyBhbmQvb3IgaGlkZSB0aGUgY29udGV4dCBtZW51XG4gICAgICpcbiAgICAgKi9cbiAgICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIC8vIEVyYXNlIHRoZSBjdXJyZW50bHkgc2hvd2luZyBjb250ZXh0IG1lbnUgYWx3YXlzIG9uIG1vdXNlZG93biBhbmQgb24gcmlnaHQtY2xpY2tcbiAgICAgICAgaWYgKCFDb250ZXh0TWVudS5fd2luZG93TGlzdGVuZXJzQWRkZWQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hpZGVFeGlzdGluZ01lbnUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hpZGVFeGlzdGluZ01lbnUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgQ29udGV4dE1lbnUuX3dpbmRvd0xpc3RlbmVyc0FkZGVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNob3cgdGhpcyBtZW51IHdoZW4gaXQncyB0YXJnZXQgaXMgaGl0XG4gICAgICAgIHRoaXMuX3RhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGxldCBwb3NfeDtcbiAgICAgICAgICAgIGxldCBwb3NfeTtcbiAgICAgICAgICAgIHRoaXMuZXJhc2UoKTtcbiAgICAgICAgICAgIC8vIFNob3cgdGhlIG5vcm1hbCByY2xpY2sgbWVudSB3aGVuIGhvbGRpbmcgY29udHJvbFxuICAgICAgICAgICAgaWYgKGUuY3RybEtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RvcCBidWJibGluZyBzaW5jZSB3ZSBoYXZlIGZvdW5kIG91ciB0YXJnZXRcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAvLyBHcmFiIHRoZSBhcHByb3hpbWF0ZSBwb3NpdGlvblxuICAgICAgICAgICAgcG9zX3ggPSBlLmNsaWVudFg7XG4gICAgICAgICAgICBwb3NfeSA9IGUuY2xpZW50WTtcbiAgICAgICAgICAgIC8vIEFkanVzdCB0aGUgZGlzcGxheVxuICAgICAgICAgICAgdGhpcy5iYXNlLnN0eWxlLmxlZnQgPSAocG9zX3ggKyBcInB4XCIpO1xuICAgICAgICAgICAgdGhpcy5iYXNlLnN0eWxlLnRvcCA9IChwb3NfeSArIFwicHhcIik7XG4gICAgICAgICAgICAvLyBEcmF3IGluIG91ciBiZXN0IGd1ZXNzIHBvc2l0aW9uXG4gICAgICAgICAgICB0aGlzLmRyYXcoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSB0b28gZmFyIG92ZXIsIHNoaWZ0IGl0LlxuICAgICAgICAgICAgaWYgKChwb3NfeCArIHRoaXMuYmFzZS5vZmZzZXRXaWR0aCkgPiB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgIHBvc194ID0gKHdpbmRvdy5pbm5lcldpZHRoIC0gdGhpcy5iYXNlLm9mZnNldFdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIHRvbyBsb3csIG1vdmUgdXBcbiAgICAgICAgICAgIGlmICgocG9zX3kgKyB0aGlzLmJhc2Uub2Zmc2V0SGVpZ2h0KSA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICAgICAgICAgIHBvc195ID0gKHdpbmRvdy5pbm5lckhlaWdodCAtIHRoaXMuYmFzZS5vZmZzZXRIZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWRqdXN0IHRoZSBkaXNwbGF5XG4gICAgICAgICAgICB0aGlzLmJhc2Uuc3R5bGUubGVmdCA9IChwb3NfeCArIFwicHhcIik7XG4gICAgICAgICAgICB0aGlzLmJhc2Uuc3R5bGUudG9wID0gKHBvc195ICsgXCJweFwiKTtcbiAgICAgICAgICAgIC8vIHByZXZlbnQgdGhlIHJlYWwgci1jbGljayBtZW51XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUVsZW1lbnRzXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIHRoZSBiYXNpYyBlbGVtZW50cyBvZiB0aGUgY29udGV4dCBtZW51ICYgb3B0aW9uYWxseSBhZGRzIHRoZVxuICAgICAqIHN0YW5kYXJkIGNsYXNzZXNcbiAgICAgKlxuICAgICAqL1xuICAgIF9jcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMub3B0aW9uX2NvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwib3B0aW9uQ29udGFpbmVyXCIsIFwiXCIsIG51bGwsIG51bGwsIHRoaXMuYmFzZSk7XG4gICAgICAgIHRoaXMuX3NldFRoZW1lQ29sb3JzKCk7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBfc2V0VGhlbWVDb2xvcnNcbiAgICAgKlxuICAgICAqIFNldHMgdGhlIHRoZW1lIGNvbG9ycyBmb3IgdGhlIGNvbnRleHQgbWVudVxuICAgICAqXG4gICAgICovXG4gICAgX3NldFRoZW1lQ29sb3JzKCkge1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0aGlzLl9jb2xvcnMsIChjb2xvciwgdW5pcXVlSWQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0VGhlbWVDb2xvcih1bmlxdWVJZCwgY29sb3IpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2hpZGVFeGlzdGluZ01lbnVcbiAgICAgKlxuICAgICAqIEhpZGVzIHdoYXRldmVyIGNvbnRleHQgbWVudSBpcyBjdXJyZW50bHkgc2hvd2luZ1xuICAgICAqXG4gICAgICovXG4gICAgX2hpZGVFeGlzdGluZ01lbnUoKSB7XG4gICAgICAgIGlmIChDb250ZXh0TWVudS5fc2hvd2luZ01lbnUpIHtcbiAgICAgICAgICAgIGlmIChDb250ZXh0TWVudS5fc2hvd2luZ01lbnUuYmFzZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgQ29udGV4dE1lbnUuX3Nob3dpbmdNZW51LmJhc2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChDb250ZXh0TWVudS5fc2hvd2luZ01lbnUuYmFzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkNvbnRleHRNZW51ID0gQ29udGV4dE1lbnU7XG4vKiogdGhlIHN0eWxlcyB0byB1c2UgZm9yIHRoZSBzdGFuZGFyZCBjb250ZXh0IG1lbnUgKi9cbkNvbnRleHRNZW51Ll91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIuY3R4TWVudVwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCI8bWVudUJHPlwiLFxuICAgICAgICBjb2xvcjogXCI8bWVudVRleHQ+XCIsXG4gICAgICAgIGZvbnRGYW1pbHk6IFwiJ0NhbGlicmkgTGlnaHQnLCBIZWx2ZXRpY2FcIixcbiAgICAgICAgYm94U2hhZG93OiBcIjFweCAxcHggM3B4IDJweCByZ2JhKDAsMCwwLC4xKVwiLFxuICAgICAgICBmb250U2l6ZTogXCIxNHB4XCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgcGFkZGluZ1RvcDogXCIycHhcIixcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogXCIycHhcIixcbiAgICAgICAgd2lkdGg6IFwiMTAlXCIsXG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbiAgICB9LFxuICAgIFwiLmN0eE1lbnUgLnN1Yk1lbnVcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiPG1lbnVPcHRCRz5cIixcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICB0b3A6IFwiLTJweFwiLFxuICAgICAgICBib3hTaGFkb3c6IFwiMXB4IDFweCAxcHggMXB4IHJnYmEoMCwwLDAsLjEpXCIsXG4gICAgICAgIGxlZnQ6IFwiY2FsYygxMDAlIC0gMXB4KVwiLFxuICAgICAgICBib3JkZXJMZWZ0OiBcIjFweCBzb2xpZCA8bWVudUJvcmRlcj5cIlxuICAgIH0sXG4gICAgXCIuY3R4TWVudSAuc3ViTWVudSAuc3ViTWVudVwiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCI8bWVudU9wdE5lc3RlZD5cIixcbiAgICAgICAgYm9yZGVyTGVmdDogXCIxcHggc29saWQgPG1lbnVCb3JkZXJOZXN0ZWQ+XCJcbiAgICB9LFxuICAgIFwiLmN0eE1lbnUgLmN0eE9wdGlvblwiOiB7XG4gICAgICAgIHBhZGRpbmc6IFwiNHB4IDEwcHhcIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIlxuICAgIH0sXG4gICAgXCIuY3R4TWVudSAuY3R4T3B0aW9uOmhvdmVyXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIjxtZW51U2VsZWN0ZWRUZXh0PlwiLFxuICAgICAgICBjb2xvcjogXCI8bWVudU9wdEJHPlwiLFxuICAgICAgICBib3JkZXJMZWZ0OiBcIjdweCBzb2xpZCA8bWVudVNlbGVjdGVkQm9yZGVyPlwiXG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvbGxlY3Rpb25cIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vbGlua2VkTGlzdFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90cmVlc1wiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb2xsZWN0aW9uXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2xpbmtlZExpc3RcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vbGlua2VkTm9kZVwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGxpbmtlZE5vZGVfMSA9IHJlcXVpcmUoXCIuL2xpbmtlZE5vZGVcIik7XG5jb25zdCBjb21wYXJhYmxlXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGFyYWJsZS9jb21wYXJhYmxlXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBMaW5rZWRMaXN0PFQ+XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGdlbmVyaWMgc3RvcmFnZSBmb3IgaXRlbXMgYXMgYSBsaW5rZWVkIGxpc3RcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBMaW5rZWRMaXN0IHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBUSEUgTElOS0VEIExJU1RcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHsgcmV0dXJuIHRoaXMuX2xlbmd0aDsgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQUREIEVMRU1FTlRTXG4gICAgLyoqXG4gICAgICogYWRkXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogYWRkIGFuIGVsZW1lbnQgdG8gdGhlIGVuZCBvZiB0aGUgbGlua2VkIGxpc3RcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0ZGF0YVx0VGhlIGVsZW1lbnQgdG8gYWRkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuc1x0VHJ1ZSBpZiB0aGUgZWxlbWVudCB3YXMgYWRkZWQgc3VjY2Vzc2Z1bGx5XG4gICAgICovXG4gICAgYWRkKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KGRhdGEsIHRoaXMuX2xlbmd0aCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGluc2VydFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGFkZCBhbiBlbGVtZW50IGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0ZGF0YVx0VGhlIGVsZW1lbnQgdG8gYWRkXG4gICAgICogQHBhcmFtXHRpZHhcdFx0VGhlIGluZGV4IGF0IHdoaWNoIHRvIGFkZCB0aGUgZWxlbWVudFxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRydWUgaWYgdGhlIGVsZW1lbnQgd2FzIGFkZGVkIHN1Y2Nlc3NmdWxseVxuICAgICAqL1xuICAgIGluc2VydChkYXRhLCBpZHgpIHtcbiAgICAgICAgLy8gdmFsaWRhdGUgdGhhdCB3ZSdsbCBiZSBhYmxlIHRvIGluc2VydFxuICAgICAgICBpZiAoaWR4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZHggPiB0aGlzLl9sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjcmVhdGUgdGhlIG5vZGVcbiAgICAgICAgbGV0IG5ld05vZGUgPSBuZXcgbGlua2VkTm9kZV8xLkxpbmtlZE5vZGUoZGF0YSk7XG4gICAgICAgIC8vIGdyYWIgdGhlIGFkamFjZW50IG5vZGVzXG4gICAgICAgIGxldCBuZXh0Tm9kZSA9IHRoaXMuX2dldE5vZGVBdElkeChpZHgpO1xuICAgICAgICBsZXQgcHJldk5vZGUgPSB0aGlzLl9nZXROb2RlQXRJZHgoaWR4IC0gMSk7XG4gICAgICAgIC8vIGlmIHRoZXJlJ3MgYSBub2RlIGFmdGVyIHRoaXMgZWxlbWVudCwgdXBkYXRlIHRoZSBwb2ludGVyc1xuICAgICAgICBpZiAobmV4dE5vZGUpIHtcbiAgICAgICAgICAgIG5leHROb2RlLnByZXZpb3VzID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIG5ld05vZGUubmV4dCA9IG5leHROb2RlO1xuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCB0aGlzIG11c3QgYmUgdGhlIG5ldyBsYXN0IG5vZGVcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3ROb2RlID0gbmV3Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGVyZSdzIGEgbm9kZSBiZWZvcmUgdGhpcyBlbGVtZW50LCB1cGRhdGUgdGhlIHBvaW50ZXJzXG4gICAgICAgIGlmIChwcmV2Tm9kZSkge1xuICAgICAgICAgICAgcHJldk5vZGUubmV4dCA9IG5ld05vZGU7XG4gICAgICAgICAgICBuZXdOb2RlLnByZXZpb3VzID0gcHJldk5vZGU7XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UsIHRoaXMgbXVzdCBiZSB0aGUgbmV3IGZpcnN0IG5vZGVcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0Tm9kZSA9IG5ld05vZGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5jcmVtZW50IHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhpcyBsaXN0XG4gICAgICAgIHRoaXMuX2xlbmd0aCArPSAxO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFJFTU9WRSBFTEVNRU5UU1xuICAgIC8qKlxuICAgICAqIHJlbW92ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHJlbW92ZSB0aGUgZWxlbWVudCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XG4gICAgICpcbiAgICAgKiBAcGFyYW1cdGlkeFx0XHRUaGUgaW5kZXggdG8gcmVtb3ZlIGZyb21cbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRUaGUgZGF0YSBjb250YWluZWQgYXQgdGhhdCBpbmRleFxuICAgICAqL1xuICAgIHJlbW92ZShpZHgpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLl9nZXROb2RlQXRJZHgoaWR4KTtcbiAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5wcmV2aW91cykge1xuICAgICAgICAgICAgbm9kZS5wcmV2aW91cy5uZXh0ID0gbm9kZS5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLm5leHQpIHtcbiAgICAgICAgICAgIG5vZGUubmV4dC5wcmV2aW91cyA9IG5vZGUucHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2xhc3ROb2RlID09PSBub2RlKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0Tm9kZSA9IG5vZGUucHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2ZpcnN0Tm9kZSA9PT0gbm9kZSkge1xuICAgICAgICAgICAgdGhpcy5fZmlyc3ROb2RlID0gbm9kZS5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgdG90YWwgbnVtYmVyIG9mIGVsZW1lbnRzXG4gICAgICAgIHRoaXMuX2xlbmd0aCAtPSAxO1xuICAgICAgICAvLyByZXR1cm4gdGhlIGRhdGEgdGhhdCB3YXMgaW4gdGhlIG5vZGVcbiAgICAgICAgcmV0dXJuIG5vZGUuZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZmluZEFuZFJlbW92ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGRlc2NyaXB0aW9uXG4gICAgICovXG4gICAgZmluZEFuZFJlbW92ZSh2YWwpIHtcbiAgICAgICAgbGV0IGlkeCA9IHRoaXMuZ2V0SW5kZXgodmFsKTtcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gISF0aGlzLnJlbW92ZShpZHgpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEdFVCBFTEVNRU5UU1xuICAgIGdldChpZHgpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLl9nZXROb2RlQXRJZHgoaWR4KTtcbiAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZS5kYXRhO1xuICAgIH1cbiAgICBnZXRJbmRleCh2YWwpIHtcbiAgICAgICAgbGV0IGNudCA9IDA7XG4gICAgICAgIGxldCBjdXJOb2RlID0gdGhpcy5fZmlyc3ROb2RlO1xuICAgICAgICB3aGlsZSAoY3VyTm9kZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRXF1YWwodmFsLCBjdXJOb2RlLmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1ck5vZGUgPSBjdXJOb2RlLm5leHQ7XG4gICAgICAgICAgICBjbnQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29udGFpbnModmFsKSB7XG4gICAgICAgIGxldCBpZHggPSB0aGlzLmdldEluZGV4KHZhbCk7XG4gICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF9nZXROb2RlQXRJZHgoaWR4KSB7XG4gICAgICAgIC8vIHZhbGlkYXRlIHRoYXQgd2UgaGF2ZSBhIHZhbGlkIGlucHV0XG4gICAgICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWR4ID49IHRoaXMuX2xlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2VhcmNoIGZyb20gdGhlIGVuZCBvZiB0aGUgbGlzdCB0aGF0IHdpbGwgYmUgY2xvc2VyIHRvIHRoZSBub2RlXG4gICAgICAgIGlmIChpZHggPCB0aGlzLl9sZW5ndGggLyAyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Tm9kZUF0SWR4Rm9yd2FyZChpZHgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldE5vZGVBdElkeEJhY2t3YXJkKGlkeCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2lzRXF1YWwoYSwgYikge1xuICAgICAgICBpZiAoY29tcGFyYWJsZV8xLmlzRXF1YXRhYmxlKGEpICYmIGNvbXBhcmFibGVfMS5pc0VxdWF0YWJsZShiKSkge1xuICAgICAgICAgICAgcmV0dXJuIChhLmVxdWFscyhiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChhID09PSBiKTtcbiAgICB9XG4gICAgX2dldE5vZGVBdElkeEZvcndhcmQoaWR4KSB7XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCB1bnRpbCB3ZSd2ZSBoaXQgdGhlIG5vZGUgYXQgdGhlIHNwZWNpZmllZCBpbmRleFxuICAgICAgICBsZXQgY3VyTm9kZSA9IHRoaXMuX2ZpcnN0Tm9kZTtcbiAgICAgICAgZm9yIChsZXQgY291bnQgPSAwOyBjb3VudCA8IGlkeDsgY291bnQgKz0gMSkge1xuICAgICAgICAgICAgY3VyTm9kZSA9IGN1ck5vZGUubmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VyTm9kZTtcbiAgICB9XG4gICAgX2dldE5vZGVBdElkeEJhY2t3YXJkKGlkeCkge1xuICAgICAgICBsZXQgY3VyTm9kZSA9IHRoaXMuX2xhc3ROb2RlO1xuICAgICAgICBmb3IgKGxldCBjb3VudCA9IHRoaXMuX2xlbmd0aCAtIDE7IGNvdW50ID4gaWR4OyBjb3VudCAtPSAxKSB7XG4gICAgICAgICAgICBjdXJOb2RlID0gY3VyTm9kZS5wcmV2aW91cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VyTm9kZTtcbiAgICB9XG59XG5leHBvcnRzLkxpbmtlZExpc3QgPSBMaW5rZWRMaXN0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vYmluYXJ5VHJlZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zZWxmQmFsYW5jaW5nVHJlZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90cmVlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3RyaWVcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBiaW5hcnlUcmVlXzEgPSByZXF1aXJlKFwiLi9iaW5hcnlUcmVlXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRCYWxhbmNlZEJpbmFyeVRyZWVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGhhbmRsZSBiYWxhbmNpbmcgYSBiaW5hcnkgdHJlZVxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQmFsYW5jZWRCaW5hcnlUcmVlIGV4dGVuZHMgYmluYXJ5VHJlZV8xLkJpbmFyeVRyZWUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICBzdXBlcihudWxsKTtcbiAgICAgICAgdGhpcy5fcm9vdCA9IG5ldyBiaW5hcnlUcmVlXzEuQmluYXJ5VHJlZShkYXRhKTtcbiAgICB9XG4gICAgLyoqIHBhc3MgdGhyb3VnaHMgZm9yIHRoZSBkYXRhIHByb3BydHkgdG8gZHJhdyBmcm9tIHRoZSBiaW5hcnkgdHJlZSBub2RlICovXG4gICAgZ2V0IF9kYXRhKCkgeyByZXR1cm4gdGhpcy5fcm9vdC5fZGF0YTsgfVxuICAgIHNldCBfZGF0YSh2YWx1ZSkgeyB9XG4gICAgYWRkKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyLmFkZCh2YWx1ZSk7XG4gICAgICAgIHdoaWxlICghdGhpcy5pc0JhbGFuY2VkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlYmFsYW5jZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZSh2YWx1ZSkge1xuICAgICAgICBzdXBlci5yZW1vdmUodmFsdWUpO1xuICAgICAgICB3aGlsZSAoIXRoaXMuaXNCYWxhbmNlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWJhbGFuY2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmViYWxhbmNlKCkge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRvU3RyaW5nKCkpO1xuICAgICAgICAvLyB0cnkgYmFsYW5jaW5nIGVhY2ggc2lkZSB0byBzZWUgaWYgdGhhdCBnZXRzIHVzIGFueXdoZXJlXG4gICAgICAgIHRoaXMuX3JlYmFsYW5jZVN1YlRyZWUoXCJsZWZ0XCIpO1xuICAgICAgICB0aGlzLl9yZWJhbGFuY2VTdWJUcmVlKFwicmlnaHRcIik7XG4gICAgICAgIC8vIGlmIHdlIGFyZSBub3cgYmFsYW5jZWQsIG5vIG5lZWQgdG8gZG8gYW55dGhpbmcgZWxzZVxuICAgICAgICBpZiAodGhpcy5pc0JhbGFuY2VkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGVmdERlcHRoID0gdGhpcy5fZ2V0U2lkZURlcHRoKFwibGVmdFwiKTtcbiAgICAgICAgbGV0IHJpZ2h0RGVwdGggPSB0aGlzLl9nZXRTaWRlRGVwdGgoXCJyaWdodFwiKTtcbiAgICAgICAgaWYgKGxlZnREZXB0aCA+IHJpZ2h0RGVwdGgpIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZShcImxlZnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yb3RhdGUoXCJyaWdodFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIF9yb3RhdGUodHlwZSkge1xuICAgICAgICBsZXQgc3ViVHJlZSA9IHRoaXMuX3N1YlRyZWVzW3R5cGVdO1xuICAgICAgICBsZXQgb3Bwb3NpdGVTaWRlID0gdGhpcy5fb3Bwb3NpdGVTaWRlKHR5cGUpO1xuICAgICAgICAvLyB1cGRhdGUgcGFyZW50cyBhcHByb3ByaWF0ZWx5XG4gICAgICAgIHN1YlRyZWUuX3BhcmVudCA9IHRoaXMuX3BhcmVudDtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gc3ViVHJlZTtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSB3YXkgdGhlIGNoaWxkcmVuIHBvaW50XG4gICAgICAgIGlmIChzdWJUcmVlW29wcG9zaXRlU2lkZV0pIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YlRyZWVzW3R5cGVdID0gc3ViVHJlZVtvcHBvc2l0ZVNpZGVdO1xuICAgICAgICAgICAgdGhpcy5fc3ViVHJlZXNbdHlwZV0uX3BhcmVudCA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fc3ViVHJlZXNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgc3ViVHJlZVtvcHBvc2l0ZVNpZGVdID0gdGhpcztcbiAgICB9XG4gICAgX29wcG9zaXRlU2lkZSh0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjogcmV0dXJuIFwicmlnaHRcIjtcbiAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOiByZXR1cm4gXCJsZWZ0XCI7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmViYWxhbmNlU3ViVHJlZSh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1N1YlRyZWVCYWxhbmNlZCh0eXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdWJUcmVlc1t0eXBlXS5fcmViYWxhbmNlKCk7XG4gICAgfVxuICAgIF9jcmVhdGVTdWJUcmVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmFsYW5jZWRCaW5hcnlUcmVlKHZhbHVlKTtcbiAgICB9XG59XG5leHBvcnRzLkJhbGFuY2VkQmluYXJ5VHJlZSA9IEJhbGFuY2VkQmluYXJ5VHJlZTtcbmNsYXNzIFNlbGZCYWxhbmNpbmdCaW5hcnlUcmVlIGV4dGVuZHMgYmluYXJ5VHJlZV8xLkJpbmFyeVRyZWUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gT1ZFUlJJREVTXG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIobnVsbCk7XG4gICAgICAgIHRoaXMuX3RyZWUgPSBuZXcgYmluYXJ5VHJlZV8xLkJpbmFyeVRyZWUodmFsdWUpO1xuICAgIH1cbiAgICBhZGQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdHJlZS5hZGQodmFsdWUpO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAodGhpcy5fdHJlZS5pc0JhbGFuY2VkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZWJhbGFuY2UodGhpcy5fdHJlZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQWZ0ZXIgUmViYWxhbmNlOiBcIiArIHRoaXMudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIHJlbW92ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl90cmVlLnJlbW92ZSh2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLl90cmVlLmlzQmFsYW5jZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlYmFsYW5jZSh0aGlzLl90cmVlKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBQQVNTIFRIUk9VR0ggRlVOQ1RJT05TXG4gICAgaXNCYWxhbmNlZCgpIHsgcmV0dXJuIHRoaXMuX3RyZWUuaXNCYWxhbmNlZCgpOyB9XG4gICAgaXNDb21wbGV0ZSgpIHsgcmV0dXJuIHRoaXMuX3RyZWUuaXNDb21wbGV0ZSgpOyB9XG4gICAgaXNMZWFmTm9kZSgpIHsgcmV0dXJuIHRoaXMuX3RyZWUuaXNMZWFmTm9kZSgpOyB9XG4gICAgdG9TdHJpbmcoKSB7IHJldHVybiB0aGlzLl90cmVlLnRvU3RyaW5nKCk7IH1cbiAgICBnZXREZXB0aCgpIHsgcmV0dXJuIHRoaXMuX3RyZWUuZ2V0RGVwdGgoKTsgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgX3JlYmFsYW5jZSh0cmVlKSB7XG4gICAgICAgIC8vIHRyeSB0byByZWJhbGFuY2UgYXQgYSBsb3dlciBsZXZlbCBmaXJzdFxuICAgICAgICB0aGlzLl9yZWJhbGFuY2VTdWJUcmVlKHRyZWUsIFwibGVmdFwiKTtcbiAgICAgICAgdGhpcy5fcmViYWxhbmNlU3ViVHJlZSh0cmVlLCBcInJpZ2h0XCIpO1xuICAgICAgICAvLyBpZiB3ZSBhcmUgYmFsYW5jZWQgbm93LCBjb250aW51ZSBvblxuICAgICAgICBpZiAodHJlZS5pc0JhbGFuY2VkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBvdGhlcndpc2UsIHdlIG5lZWQgdG8gZmlndXJlIG91dCB3aGljaCBzaWRlIG5lZWRzIHRvIGJlIGFkanVzdGVkXG4gICAgICAgIGxldCBsZWZ0RGVwdGggPSB0cmVlLl9nZXRTaWRlRGVwdGgoXCJsZWZ0XCIpO1xuICAgICAgICBsZXQgcmlnaHREZXB0aCA9IHRyZWUuX2dldFNpZGVEZXB0aChcInJpZ2h0XCIpO1xuICAgICAgICBpZiAobGVmdERlcHRoID4gcmlnaHREZXB0aCkge1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlKHRyZWUsIFwibGVmdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZSh0cmVlLCBcInJpZ2h0XCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9yZWJhbGFuY2VTdWJUcmVlKHRyZWUsIHNpZGUpIHtcbiAgICAgICAgaWYgKCF0cmVlLl9zdWJUcmVlc1tzaWRlXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmVlLl9zdWJUcmVlc1tzaWRlXS5pc0JhbGFuY2VkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmViYWxhbmNlKHRyZWUuX3N1YlRyZWVzW3NpZGVdKTtcbiAgICB9XG4gICAgX3JvdGF0ZSh0cmVlLCBzaWRlKSB7XG4gICAgICAgIGxldCBvcHBvc2l0ZVNpZGUgPSB0aGlzLl9vcHBvc2l0ZVNpZGUoc2lkZSk7XG4gICAgICAgIC8vIGdldCB0aGUgbm9kZSB3ZSBhcmUgc3dhcHBpbmcgd2l0aFxuICAgICAgICBsZXQgbmV3Um9vdCA9IHRyZWUuX3N1YlRyZWVzW3NpZGVdO1xuICAgICAgICBpZiAoIW5ld1Jvb3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIG9sZCBwYXJlbnQgYXBwcm9wcmlhdGVseSBwb2ludHMgdG8gdGhlIG5ldyByb290XG4gICAgICAgIGxldCBwYXJlbnQgPSB0cmVlLl9wYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHBhcmVudC5fc3ViVHJlZXNbdHJlZS5fZ2V0UmVsYXRpb25Ub1BhcmVudCgpXSA9IG5ld1Jvb3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl90cmVlID0gbmV3Um9vdDtcbiAgICAgICAgfVxuICAgICAgICAvLyB1cGRhdGUgdGhlIHJlc3BlY3RpdmUgcGFyZW50cyBvZiB0aGUgbm9kZXMgdGhhdCBhcmUgZ2V0dGluZyB1cGRhdGVkXG4gICAgICAgIG5ld1Jvb3QuX3BhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdHJlZS5fcGFyZW50ID0gbmV3Um9vdDtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSB3YXkgdGhlIGNoaWxkcmVuIHBvaW50XG4gICAgICAgIGlmIChuZXdSb290Ll9zdWJUcmVlc1tvcHBvc2l0ZVNpZGVdKSB7XG4gICAgICAgICAgICB0cmVlLl9zdWJUcmVlc1tzaWRlXSA9IG5ld1Jvb3QuX3N1YlRyZWVzW29wcG9zaXRlU2lkZV07XG4gICAgICAgICAgICB0cmVlLl9zdWJUcmVlc1tzaWRlXS5fcGFyZW50ID0gdHJlZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0cmVlLl9zdWJUcmVlc1tzaWRlXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgbmV3IHJvb3QgcG9pbnRzIHRvIHRoZSBvbGQgbm9kZVxuICAgICAgICBuZXdSb290Ll9zdWJUcmVlc1tvcHBvc2l0ZVNpZGVdID0gdHJlZTtcbiAgICB9XG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEVMUEVSU1xuICAgIF9vcHBvc2l0ZVNpZGUodHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6IHJldHVybiBcInJpZ2h0XCI7XG4gICAgICAgICAgICBjYXNlIFwicmlnaHRcIjogcmV0dXJuIFwibGVmdFwiO1xuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlNlbGZCYWxhbmNpbmdCaW5hcnlUcmVlID0gU2VsZkJhbGFuY2luZ0JpbmFyeVRyZWU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi8uLi9wcmltaXRpdmVIZWxwZXJzL3N0cmluZ3NcIik7XG5jb25zdCB0cmVlXzEgPSByZXF1aXJlKFwiLi90cmVlXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRUcmllXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTcGVjaWFsIGZvcm0gb2YgdHJlZSB0aGF0IGlzIHJlYWxseSBnb29kIGF0IGtlZXBpbmcgdHJhY2sgb2Ygd29yZHMgYW5kXG4gKiBwcmVmaXhlc1xuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgVHJpZSBleHRlbmRzIHRyZWVfMS5UcmVlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBBRERJTkcgV09SRFNcbiAgICBhZGQod29yZCkge1xuICAgICAgICBpZiAod29yZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVRlcm1pbmF0aW5nV29yZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlTm9uVGVybWluYXRpbmdXb3JkKHdvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9oYW5kbGVUZXJtaW5hdGluZ1dvcmQoKSB7XG4gICAgICAgIHRoaXMuX3Rlcm1pbmF0ZXMgPSB0cnVlO1xuICAgIH1cbiAgICBfaGFuZGxlTm9uVGVybWluYXRpbmdXb3JkKHdvcmQpIHtcbiAgICAgICAgbGV0IHNwbGl0V29yZCA9IHRoaXMuX3NwbGl0V29yZCh3b3JkKTtcbiAgICAgICAgaWYgKCF0aGlzLl9zdWJUcmVlc1tzcGxpdFdvcmQuZmlyc3RDaGFyXSkge1xuICAgICAgICAgICAgdGhpcy5fc3ViVHJlZXNbc3BsaXRXb3JkLmZpcnN0Q2hhcl0gPSBuZXcgVHJpZShzcGxpdFdvcmQuZmlyc3RDaGFyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdWJUcmVlc1tzcGxpdFdvcmQuZmlyc3RDaGFyXS5hZGQoc3BsaXRXb3JkLnJlc3RPZldvcmQpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFJFTU9WRSBBIFdPUkRcbiAgICByZW1vdmUod29yZCkge1xuICAgICAgICBpZiAod29yZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3Rlcm1pbmF0ZXMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBzcGxpdFdvcmQgPSB0aGlzLl9zcGxpdFdvcmQod29yZCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3N1YlRyZWVzW3NwbGl0V29yZC5maXJzdENoYXJdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc3ViVHJlZXNbc3BsaXRXb3JkLmZpcnN0Q2hhcl0ucmVtb3ZlKHNwbGl0V29yZC5yZXN0T2ZXb3JkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBGSU5ESU5HIEEgV09SRFxuICAgIGV4aXN0cyh3b3JkKSB7XG4gICAgICAgIGlmICh3b3JkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Rlcm1pbmF0ZXM7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNwbGl0V29yZCA9IHRoaXMuX3NwbGl0V29yZCh3b3JkKTtcbiAgICAgICAgaWYgKCF0aGlzLl9zdWJUcmVlc1tzcGxpdFdvcmQuZmlyc3RDaGFyXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdWJUcmVlc1tzcGxpdFdvcmQuZmlyc3RDaGFyXS5leGlzdHMoc3BsaXRXb3JkLnJlc3RPZldvcmQpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhFTFBFUlNcbiAgICBfc3BsaXRXb3JkKHdvcmQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpcnN0Q2hhcjogd29yZC5jaGFyQXQoMCksXG4gICAgICAgICAgICByZXN0T2ZXb3JkOiBzdHJpbmdzXzEucmVzdCh3b3JkLCAxKVxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuVHJpZSA9IFRyaWU7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kZWJ1Z1wiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG5hdmlnYXRlXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0SGVscGVycy9uYXZpZ2F0ZVwiKTtcbmV4cG9ydHMuSVNfREVCVUcgPSBmYWxzZTtcbi8qKlxuICogcHJpbnRPYmplY3RcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHByaW50IG91dCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIHByaW50T2JqZWN0KG9iaikge1xuICAgIGxldCBzdHIgPSBnZXRPYmplY3RTdHJpbmcob2JqKTtcbiAgICBjb25zb2xlLmxvZyhzdHIpO1xufVxuZXhwb3J0cy5wcmludE9iamVjdCA9IHByaW50T2JqZWN0O1xuLyoqXG4gKiBnZXRPYmplY3RTdHJpbmdcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGJ1aWxkIGEgZm9ybWF0dGVkIHN0cmluZyBmb3IgYW55IGFyYml0cmFyeSBvYmplY3RcbiAqIEBwYXJhbSAgIG9iaiAgICAgICAgIFRoZSBvYmplY3QgdG8gcHJpbnRcbiAqIEBwYXJhbSAgIHByZWZpeCAgICAgIFRoZSBjdXJyZW50IHByZWZpeCB0byB1c2UgZm9yIHRoaXMgbGF5ZXJcbiAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBnZXRPYmplY3RTdHJpbmcob2JqLCBwcmVmaXgsIGlzSHRtbCkge1xuICAgIGlmICghcHJlZml4KSB7XG4gICAgICAgIHByZWZpeCA9IFwiXCI7XG4gICAgfVxuICAgIGlmICgodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikgfHxcbiAgICAgICAgKHR5cGVvZiBvYmogPT09IFwibnVtYmVyXCIpIHx8XG4gICAgICAgICh0eXBlb2Ygb2JqID09PSBcImJvb2xlYW5cIikgfHxcbiAgICAgICAgKG9iaiBpbnN0YW5jZW9mIERhdGUpIHx8XG4gICAgICAgIChvYmogaW5zdGFuY2VvZiBGdW5jdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIG9iai50b1N0cmluZygpO1xuICAgIH1cbiAgICBsZXQgbmV3TGluZSA9IGlzSHRtbCA/IFwiPGJyPlwiIDogXCJcXG5cIjtcbiAgICBsZXQgdGFiID0gaXNIdG1sID8gXCImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDtcIiA6IFwiXFx0XCI7XG4gICAgbGV0IG91dHB1dFN0ciA9IFwiXCI7XG4gICAgb3V0cHV0U3RyICs9IFwie1wiO1xuICAgIG5hdmlnYXRlXzEubWFwKG9iaiwgKGVsZW0sIGtleSkgPT4ge1xuICAgICAgICBvdXRwdXRTdHIgKz0gbmV3TGluZSArIHRhYiArIHByZWZpeCArIGtleSArIFwiIDogXCIgKyBnZXRPYmplY3RTdHJpbmcoZWxlbSwgcHJlZml4ICsgdGFiLCBpc0h0bWwpO1xuICAgIH0pO1xuICAgIG91dHB1dFN0ciArPSBuZXdMaW5lICsgcHJlZml4ICsgXCJ9XFxuXCI7XG4gICAgcmV0dXJuIG91dHB1dFN0cjtcbn1cbmV4cG9ydHMuZ2V0T2JqZWN0U3RyaW5nID0gZ2V0T2JqZWN0U3RyaW5nO1xuLyoqXG4gKiBwcmludENhbGxTdGFja1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUHJpbnQgb3V0IHRoZSBjdXJyZW50IGNhbGxzdGFja1xuICovXG5mdW5jdGlvbiBwcmludENhbGxTdGFjaygpIHtcbiAgICBjb25zb2xlLmxvZyhuZXcgRXJyb3IoKS5zdGFjayk7XG59XG5leHBvcnRzLnByaW50Q2FsbFN0YWNrID0gcHJpbnRDYWxsU3RhY2s7XG4vKipcbiAqIGRlYnVnUG9pbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQcmludCB0aGUgY29vcmRpbmF0ZXMgY29udGFpbmVkIGluIGEgcG9pbnRcbiAqIEBwYXJhbSBwb2ludCBcdHRoZSBwb2ludCB0byBwcmludCBmb3IgZGVidWdnaW5nXG4gKi9cbmZ1bmN0aW9uIGRlYnVnUG9pbnQocG9pbnQpIHtcbiAgICBpZiAoIXBvaW50LnopIHtcbiAgICAgICAgY29uc29sZS5sb2coXCIyRCBQT0lOVDogKFwiICsgcG9pbnQueCArIFwiLCBcIiArIHBvaW50LnkgKyBcIilcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIjNEIFBPSU5UOiAoXCIgKyBwb2ludC54ICsgXCIsIFwiICsgcG9pbnQueSArIFwiLCBcIiArIHBvaW50LnogKyBcIilcIik7XG4gICAgfVxufVxuZXhwb3J0cy5kZWJ1Z1BvaW50ID0gZGVidWdQb2ludDtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL19pbnRlcmZhY2VzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NsYXNzaWNEcmFnZ2FibGVcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZHJhZ2dhYmxlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2RyYWdnYWJsZVdyYXBwZXJcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZXhpc3RpbmdEcmFnZ2FibGVcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaHRtbDVEcmFnZ2FibGVcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRHJhZ2dhYmxlRnVuY3Rpb25zO1xuKGZ1bmN0aW9uIChEcmFnZ2FibGVGdW5jdGlvbnMpIHtcbiAgICBEcmFnZ2FibGVGdW5jdGlvbnNbRHJhZ2dhYmxlRnVuY3Rpb25zW1wiRHJhZ0VudGVyXCJdID0gMF0gPSBcIkRyYWdFbnRlclwiO1xuICAgIERyYWdnYWJsZUZ1bmN0aW9uc1tEcmFnZ2FibGVGdW5jdGlvbnNbXCJEcmFnTGVhdmVcIl0gPSAxXSA9IFwiRHJhZ0xlYXZlXCI7XG4gICAgRHJhZ2dhYmxlRnVuY3Rpb25zW0RyYWdnYWJsZUZ1bmN0aW9uc1tcIkRyb3BcIl0gPSAyXSA9IFwiRHJvcFwiO1xuICAgIERyYWdnYWJsZUZ1bmN0aW9uc1tEcmFnZ2FibGVGdW5jdGlvbnNbXCJNb3ZlXCJdID0gM10gPSBcIk1vdmVcIjtcbn0pKERyYWdnYWJsZUZ1bmN0aW9ucyA9IGV4cG9ydHMuRHJhZ2dhYmxlRnVuY3Rpb25zIHx8IChleHBvcnRzLkRyYWdnYWJsZUZ1bmN0aW9ucyA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGV4aXN0aW5nRHJhZ2dhYmxlXzEgPSByZXF1aXJlKFwiLi9leGlzdGluZ0RyYWdnYWJsZVwiKTtcbi8qKlxuICogbWFrZURyYWdnYWJsZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogTWFrZXMgYSBwYXJ0aWN1bGFyIGVsZW1lbnQgZHJhZ2dhYmxlXG4gKlxuICogQHBhcmFtIFx0ZWxlbSAgICAgICAgIFx0VGhlIGVsZW1lbnQgdG8gbWFrZSBkcmFnZ2FibGVcbiAqIEBwYXJhbSBcdHRhcmdldCAgICAgICBcdFRoZSBkcm9wLXRhcmdldCBvZiB0aGUgZHJhZ2dhYmxlXG4gKiBAcGFyYW0gXHRub25fc3RhbmRhcmQgXHRUcnVlIGlmIHdlIHNob3VsZCB1c2Ugbm9uLXN0YW5kYXJkIGV2ZW50c1xuICpcbiAqIEByZXR1cm5zXHRIVE1MIGVsZW1lbnQgdGhhdCByZXNwZWN0cyBkcmFnIGV2ZW50c1xuICpcbiAqL1xuZnVuY3Rpb24gbWFrZURyYWdnYWJsZShlbGVtLCBvcHRpb25zKSB7XG4gICAgLy8gQmVoaW5kIHRoZSBzY2VuZXMsIHdlIGNyZWF0ZSBhIGRyYWdnYWJsZSB0byBnZXQgdGhpc1xuICAgIGxldCBkcmcgPSBuZXcgZXhpc3RpbmdEcmFnZ2FibGVfMS5FeGlzdGluZ0hUTUw1RHJhZ2dhYmxlKGVsZW0sIG9wdGlvbnMudGFyZ2V0KTtcbiAgICBkcmcub3ZlcnJpZGVGdW5jdGlvbnMob3B0aW9ucyk7XG4gICAgZHJnLmdyaWRTaXplID0gb3B0aW9ucy5ncmlkU2l6ZSB8fCAxO1xuICAgIC8vIFJldHVybiB0aGUgZWxlbWVudCBvZiB0aGUgRHJhZ2dhYmxlXG4gICAgcmV0dXJuIGRyZy5iYXNlO1xufVxuZXhwb3J0cy5tYWtlRHJhZ2dhYmxlID0gbWFrZURyYWdnYWJsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL190eXBlZ3VhcmRzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2RyYXdhYmxlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NpbXBsZURyYXdhYmxlXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZHJhd2FibGVfMSA9IHJlcXVpcmUoXCIuL2RyYXdhYmxlXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRTaW1wbGVEcmF3YWJsZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVmVyeSBiYXNpYyBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgRHJhd2FibGUgY2xhc3MgdGhhdCBjb250YWlucyBqdXN0IGFcbiAqIHNpbmdsZSBlbGVtZW50LlxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgU2ltcGxlRHJhd2FibGUgZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8qKlxuICAgICAqIFNpbXBsZURyYXdhYmxlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZSBhIHNpbXBsZSBEcmF3YWJsZSBlbGVtZW50XG4gICAgICogQHBhcmFtXHRvYmpcdFx0VGhlIGRldGFpbHMgYWJvdXQgdGhlIGVsZW1lbnQgd2Ugc2hvdWxkIGRyYXdcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvYmopIHsgc3VwZXIob2JqKTsgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBEbyBub3RoaW5nLCBzaW5jZSB3ZSB3aWxsIGNyZWF0ZSB0aGUgYmFzZSBlbGVtZW50IGluIHRoZSBjb25zdHJ1dG9yXG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkgeyB9XG59XG5leHBvcnRzLlNpbXBsZURyYXdhYmxlID0gU2ltcGxlRHJhd2FibGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9keW5hbWljT3B0aW9uXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2R5bmFtaWNTZWxlY3RcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkcmF3YWJsZV8xID0gcmVxdWlyZShcIi4uL2RyYXdhYmxlL2RyYXdhYmxlXCIpO1xuY29uc3QgY29sbGVjdGlvbl8xID0gcmVxdWlyZShcIi4uL2RhdGFTdHJ1Y3R1cmVzL2NvbGxlY3Rpb24vY29sbGVjdGlvblwiKTtcbmNvbnN0IGR5bmFtaWNPcHRpb25fMSA9IHJlcXVpcmUoXCIuL2R5bmFtaWNPcHRpb25cIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL2RhdGFTdHJ1Y3R1cmVzL2NvbGxlY3Rpb24vX2ludGVyZmFjZXNcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCB0cmFuc2l0aW9uXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL3RyYW5zaXRpb25cIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgRHluYW1pY1NlbGVjdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlIGEgc2VsZWN0IGVsZW1lbnQgdGhhdCBjYW4gbG9hZCBkeW5hbWljIG9wdGlvbnNcbiAqIC8vIFRPRE86IHN1cHBvcnQgbW9yZSB0aGFuIGp1c3QgYW4gSUQgYmVpbmcgcmV0cmlldmVkXG4gKiAvLyBUT0RPOiBmaXggZHJhd2VyIGJ1Z3MgKGtleWJvYXJkIGlucHV0LCBmbGlja2VyKVxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBEeW5hbWljU2VsZWN0IGV4dGVuZHMgZHJhd2FibGVfMS5EcmF3YWJsZSB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDT05TVFJVQ1RPUlxuICAgIC8qKlxuICAgICAqIER5bmFtaWNTZWxlY3RcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIHRoZSBEeW5hbWljIFNlbGVjdCBlbGVtZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIC8vIGluaXRpYWxpemUgb3VyIGNvbGxlY3Rpb25cbiAgICAgICAgdGhpcy5fYXZhaWxhYmxlT3B0aW9ucyA9IG5ldyBjb2xsZWN0aW9uXzEuQ29sbGVjdGlvbigpO1xuICAgICAgICB0aGlzLl9hdmFpbGFibGVPcHRpb25zLmFkZFR5cGUgPSBfaW50ZXJmYWNlc18xLkNvbGxlY3Rpb25UeXBlRW51bS5SZXBsYWNlRHVwbGljYXRlS2V5cztcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkgeyByZXR1cm4gdGhpcy5fdmFsdWU7IH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBFTEVNRU5UU1xuICAgIC8qKlxuICAgICAqIF9jcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBHZW5lcmF0ZSB0aGUgZWxlbWVudHMgbmVlZGVkIGJ5IHRoZSBkeW5hbWljIHNlbGVjdCBmaWVsZFxuICAgICAqL1xuICAgIF9jcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMgPSB7fTtcbiAgICAgICAgdGhpcy5fZWxlbXMuYmFzZSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJkeW5hbWljU2VsZWN0XCJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0ID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgdHlwZTogXCJpbnB1dFwiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlLFxuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lcnM6IHtcbiAgICAgICAgICAgICAgICBpbnB1dDogKGUpID0+IHsgdGhpcy5fb25RdWVyeVRleHRDaGFuZ2UoZSk7IH0sXG4gICAgICAgICAgICAgICAga2V5ZG93bjogKGUpID0+IHsgdGhpcy5fb25LZXlFdmVudChlKTsgfSxcbiAgICAgICAgICAgICAgICBibHVyOiAoZSkgPT4geyB0aGlzLl9vbkJsdXIoZSk7IH0sXG4gICAgICAgICAgICAgICAgZm9jdXM6IChlKSA9PiB7IHRoaXMuX29uRm9jdXMoZSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmNsZWFyQnRuID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImNsZWFyQnRuXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcInhcIixcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuYmFzZSxcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzOiB7XG4gICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsgdGhpcy5fZWxlbXMuaW5wdXQudmFsdWUgPSBcIlwiOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5kcmF3ZXIgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwiZHJhd2VyIGNvbGxhcHNlZFwiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbm5lck9wdGlvbnMgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwiaW5uZXJPcHRpb25zXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLmRyYXdlclxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZWxlbXMubG9hZGluZ0ljb24gPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7IGNsczogXCJoaWRkZW4gbG9hZGluZ1wiLCBwYXJlbnQ6IHRoaXMuX2VsZW1zLmRyYXdlciB9KTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBEUkFXRVIgRlVOQ1RJT05TXG4gICAgLyoqXG4gICAgICogX2V4cGFuZERyYXdlclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBFeHBhbmQgdGhlIGRyYXdlciBvZiBvcHRpb25zXG4gICAgICovXG4gICAgX2V4cGFuZERyYXdlcigpIHtcbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMuZHJhd2VyLCBcImNvbGxhcHNlZFwiKTtcbiAgICAgICAgdHJhbnNpdGlvbl8xLnRyYW5zaXRpb24odGhpcy5fZWxlbXMuZHJhd2VyLCB7IGhlaWdodDogXCIwXCIsIG9wYWNpdHk6IFwiMFwiIH0sIHsgaGVpZ2h0OiBcIjxoZWlnaHQ+XCIsIG9wYWNpdHk6IFwiMVwiIH0sIDMwMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jb2xsYXBzZURyYXdlclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDb2xsYXBzZSB0aGUgZHJhd2VyIG9mIG9wdGlvbnNcbiAgICAgKi9cbiAgICBfY29sbGFwc2VEcmF3ZXIoKSB7XG4gICAgICAgIHRyYW5zaXRpb25fMS50cmFuc2l0aW9uKHRoaXMuX2VsZW1zLmRyYXdlciwgeyBoZWlnaHQ6IFwiPGhlaWdodD5cIiwgb3BhY2l0eTogXCIxXCIgfSwgeyBoZWlnaHQ6IFwiMFwiLCBvcGFjaXR5OiBcIjBcIiB9LCAzMDApLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuZHJhd2VyLCBcImNvbGxhcHNlZFwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvbiAgIFxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQVVHTUVOVCBPUFRJT05TXG4gICAgLyoqXG4gICAgICogYWRkT3B0aW9uXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFkZHMgYW4gb3B0aW9uIHRvIG91ciBzZWxlY3QgZmllbGRcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIG9wdCAgICAgVGhlIG9wdGlvbiB0byBhZGRcbiAgICAgKi9cbiAgICBhZGRPcHRpb24ob3B0KSB7XG4gICAgICAgIGxldCBvcHRpb24gPSBuZXcgZHluYW1pY09wdGlvbl8xLkR5bmFtaWNPcHRpb24ob3B0LCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuX2F2YWlsYWJsZU9wdGlvbnMuYWRkKG9wdGlvbi5pZCwgb3B0aW9uKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICA7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUZpbHRlcmluZyh0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmlubmVyT3B0aW9ucy5hcHBlbmRDaGlsZChvcHRpb24uYmFzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZE9wdGlvbnNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWRkIGEgc2V0IG9mIG9wdGlvbnMgdG8gdGhlIHNlbGVjdCBlbGVtZW50XG4gICAgICogQHBhcmFtICAgb3B0cyAgICBUaGUgb3B0aW9ucyB0byBhZGRcbiAgICAgKi9cbiAgICBhZGRPcHRpb25zKG9wdHMpIHtcbiAgICAgICAgbGV0IG9wdDtcbiAgICAgICAgZm9yIChvcHQgb2Ygb3B0cykge1xuICAgICAgICAgICAgdGhpcy5hZGRPcHRpb24ob3B0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEVWRU5UIExJU1RFTkVSU1xuICAgIC8qKlxuICAgICAqIGFkZEV2ZW50TGlzdGVuZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWxsb3cgYWRkaXRpb25hbCBsaXN0ZW5lcnMgb24gdGhpcyBzZWxlY3QgZmllbGRcbiAgICAgKi9cbiAgICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmMpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9zZWxlY3RMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0TGlzdGVuZXJzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdExpc3RlbmVycy5wdXNoKGZ1bmMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNlYXJjaFwiOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fc2VhcmNoTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlYXJjaExpc3RlbmVycyA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9zZWFyY2hMaXN0ZW5lcnMucHVzaChmdW5jKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjaGFuZ2VcIjpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NoYW5nZUxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlTGlzdGVuZXJzLnB1c2goZnVuYyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHN1cGVyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZnVuYyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX25vdGlmeUNoYW5nZUxpc3RlbmVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBOb3RpZnkgYW55IGxpc3RlbmVycyB0aGF0IHNvbWUgY29udGVudCBjaGFuZ2VkXG4gICAgICovXG4gICAgX25vdGlmeUNoYW5nZUxpc3RlbmVycygpIHtcbiAgICAgICAgbGV0IGxpc3RlbmVyO1xuICAgICAgICBpZiAoIXRoaXMuX2NoYW5nZUxpc3RlbmVycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGlzdGVuZXIgb2YgdGhpcy5fY2hhbmdlTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBpZiAoIWxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0ZW5lcih0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX25vdGlmeVNlbGVjdExpc3RlbmVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBOb3RpZnkgYW55IGxpc3RlbmVycyB0aGF0IHdlIGhhdmUgc2VsZWN0ZWQgYW4gZWxlbWVudFxuICAgICAqIEBwYXJhbSAgIHNlbGVjdGVkT3B0aW9uICBUaGUgb3B0aW9uIHRoYXQgd2FzIHNlbGVjdGVkXG4gICAgICovXG4gICAgX25vdGlmeVNlbGVjdExpc3RlbmVycyhzZWxlY3RlZE9wdGlvbikge1xuICAgICAgICBsZXQgbGlzdGVuZXI7XG4gICAgICAgIGlmICghdGhpcy5fc2VsZWN0TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsaXN0ZW5lciBvZiB0aGlzLl9zZWxlY3RMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3RlbmVyKHNlbGVjdGVkT3B0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfbm90aWZ5U2VhcmNoTGlzdGVuZXJzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEBwYXJhbSBzZWFyY2hcbiAgICAgKi9cbiAgICBfbm90aWZ5U2VhcmNoTGlzdGVuZXJzKHNlYXJjaCkge1xuICAgICAgICBsZXQgbGlzdGVuZXI7XG4gICAgICAgIGlmICghdGhpcy5fc2VhcmNoTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsaXN0ZW5lciBvZiB0aGlzLl9zZWFyY2hMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3RlbmVyKHNlYXJjaCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uQ2hhbmdlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhhbmRsZSB3aGVuIHRoZSB0ZXh0IGZpZWxkIGNoYW5nZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIGUgICBDaGFuZ2UgZXZlbnRcbiAgICAgKi9cbiAgICBfb25RdWVyeVRleHRDaGFuZ2UoZSkge1xuICAgICAgICBsZXQgY3VyVGV4dCA9IHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlO1xuICAgICAgICAvLyB1cGRhdGUgd2hpY2ggb3B0aW9ucyBhcmUgZmlsdGVyZWRcbiAgICAgICAgdGhpcy5fdXBkYXRlRmlsdGVyaW5nKGN1clRleHQpO1xuICAgICAgICAvLyBsZXQgbGlzdGVuZXJzIGtub3cgdGhhdCB3ZSBoYXZlIHVwZGF0ZXNcbiAgICAgICAgdGhpcy5fbm90aWZ5Q2hhbmdlTGlzdGVuZXJzKCk7XG4gICAgICAgIC8vIHJ1biBhIG5ldyBxdWVyeSBpZiB3ZSBjYW5cbiAgICAgICAgdGhpcy5fcXVlcnkoY3VyVGV4dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbktleVVwXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENoZWNrIGlmIHdlIG5lZWQgdG8gaGFuZGxlIGFuIGVudGVyIHByZXNzIGluIHRoZSB0ZXh0IGZpZWxkXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICBlICAgVGhlIGtleWJvYXJkIGV2ZW50IGZpcmVkXG4gICAgICovXG4gICAgX29uS2V5RXZlbnQoZSkge1xuICAgICAgICBsZXQgZm91bmROZXh0ID0gZmFsc2U7XG4gICAgICAgIGxldCBwYWlyO1xuICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICAgICAgLy8gZW50ZXJcbiAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgcGFpciA9IHRoaXMuX2F2YWlsYWJsZU9wdGlvbnMuZ2V0Q3VycmVudCgpO1xuICAgICAgICAgICAgICAgIGlmIChwYWlyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0KHBhaXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWFyY2godGhpcy5fZWxlbXMuaW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIHVwIGFycm93XG4gICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgIHBhaXIgPSB0aGlzLl9hdmFpbGFibGVPcHRpb25zLmdldEN1cnJlbnQoKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoZm91bmROZXh0ID09PSBmYWxzZSAmJiB0aGlzLl9hdmFpbGFibGVPcHRpb25zLmhhc05leHQodHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9wdCA9IHRoaXMuX2F2YWlsYWJsZU9wdGlvbnMuZ2V0TmV4dCh0cnVlKS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgZm91bmROZXh0ID0gb3B0LmhpbGl0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZm91bmROZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYWlyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWlyLnZhbHVlLnVuaGlsaXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyBkb3duIGFycm93XG4gICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICAgIHBhaXIgPSB0aGlzLl9hdmFpbGFibGVPcHRpb25zLmdldEN1cnJlbnQoKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoZm91bmROZXh0ID09PSBmYWxzZSAmJiB0aGlzLl9hdmFpbGFibGVPcHRpb25zLmhhc05leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgb3B0ID0gdGhpcy5fYXZhaWxhYmxlT3B0aW9ucy5nZXROZXh0KCkudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kTmV4dCA9IG9wdC5oaWxpdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kTmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFpcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFpci52YWx1ZS51bmhpbGl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkJsdXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlIHdoZW4gZm9jdXMgaXMgbG9zdCBvbiB0aGUgc2VhcmNoIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gICBldmVudCAgIFRoZSBmb2N1cyBldmVudFxuICAgICAqL1xuICAgIF9vbkJsdXIoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5fY29sbGFwc2VEcmF3ZXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uRm9jdXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlIHdoZW4gZm9jdXMgaXMgZ2l2ZW4gdG8gdGhlIHNlYXJjaCBlbGVtZW50XG4gICAgICogQHBhcmFtICAgZXZlbnQgICBUaGUgZm9jdXMgZXZlbnRcbiAgICAgKi9cbiAgICBfb25Gb2N1cyhldmVudCkge1xuICAgICAgICB0aGlzLl9leHBhbmREcmF3ZXIoKTtcbiAgICAgICAgdGhpcy5fYXZhaWxhYmxlT3B0aW9ucy5yZXNldExvb3AoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc2VsZWN0XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhhbmRsZSBzZWxlY3RpbmcgYW4gZWxlbWVudCBpbiB0aGUgc2VhcmNoIGZpZWxkXG4gICAgICogQHBhcmFtICAgc2VsZWN0ZWRPcHRpb24gIFRoZSBvcHRpb24gdGhhdCB3YXMgc2VsZWN0ZWRcbiAgICAgKi9cbiAgICBzZWxlY3Qoc2VsZWN0ZWRPcHRpb24pIHtcbiAgICAgICAgdGhpcy5fY29sbGFwc2VEcmF3ZXIoKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQudmFsdWUgPSBzZWxlY3RlZE9wdGlvbi5kaXNwbGF5O1xuICAgICAgICB0aGlzLl92YWx1ZSA9IHNlbGVjdGVkT3B0aW9uLmlkO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC5ibHVyKCk7XG4gICAgICAgIHRoaXMuX25vdGlmeVNlbGVjdExpc3RlbmVycyhzZWxlY3RlZE9wdGlvbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNlYXJjaFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgc2VhcmNoaW5nIGZvciBhIHN0cmluZyB0aGF0IHdhc24ndCBhbiBvcHRpb24gaW5cbiAgICAgKiBvdXIgc2VhcmNoIHJlc3VsdHNcbiAgICAgKi9cbiAgICBzZWFyY2goc2VhcmNoU3RyKSB7XG4gICAgICAgIHRoaXMuX2NvbGxhcHNlRHJhd2VyKCk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlID0gc2VhcmNoU3RyO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC5ibHVyKCk7XG4gICAgICAgIHRoaXMuX25vdGlmeVNlYXJjaExpc3RlbmVycyhzZWFyY2hTdHIpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEhBTkRMRSBGSUxURVJJTkdcbiAgICAvKipcbiAgICAgKiBfdXBkYXRlRmlsdGVyaW5nXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIG1ha2Ugc3VyZSBvdXIgZmlsdGVyZWQgdGV4dCByZWZsZWN0cyB0aGUgbW9zdCB1cC10by1kYXRlIHZhbHVlIGluIHRoZVxuICAgICAqIHRleHQgZmllbGRcbiAgICAgKi9cbiAgICBfdXBkYXRlRmlsdGVyaW5nKGN1clRleHQpIHtcbiAgICAgICAgLy8gc3BsaXQgdGhlIHRleHQgYnkgc3BhY2UgZm9yIHNtYXJ0ZXIgZmlsdGVyaW5nXG4gICAgICAgIGxldCB3b3JkcyA9IGN1clRleHQudG9Mb3dlckNhc2UoKS5zcGxpdChcIiBcIik7XG4gICAgICAgIHRoaXMuX2F2YWlsYWJsZU9wdGlvbnMubWFwKChlbGVtKSA9PiB7XG4gICAgICAgICAgICBlbGVtLnRyeUZpbHRlcih3b3Jkcyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFFVRVJZIEhBTkRMSU5HXG4gICAgLyoqXG4gICAgICogX3F1ZXJ5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhhbmRsZSBxdWVyeWluZyBmb3IgYWRkaXRpb25hbCBvcHRpb25zIHRvIGFkZFxuICAgICAqIEBwYXJhbSAgIHF1ZXJ5VGV4dCAgIFRoZSB0ZXh0IHRvIHNlYXJjaFxuICAgICAqL1xuICAgIF9xdWVyeShxdWVyeVRleHQpIHtcbiAgICAgICAgLy8gcXVpdCBpZiB3ZSdyZSBhbHJlYWR5IHJ1bm5pbmcgdGhpcyBxdWVyeVxuICAgICAgICBpZiAocXVlcnlUZXh0ID09PSB0aGlzLl9jdXJyZW50UXVlcnkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSdyZSBpbiB0aGUgcHJvY2VzcyBvZiBxdWVyeWluZywganVzdCBxdWV1ZSB1cCBhIG5ldyBxdWVyeSBmb3IgbmV4dCB0aW1lXG4gICAgICAgIGlmICh0aGlzLl9pc1F1ZXJ5aW5nKSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0UXVlcnkgPSBxdWVyeVRleHQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBub3RoaW5nIHRvIHF1ZXJ5LCBxdWl0XG4gICAgICAgIGlmICghcXVlcnlUZXh0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3VycmVudFF1ZXJ5ID0gcXVlcnlUZXh0O1xuICAgICAgICB0aGlzLl9pc1F1ZXJ5aW5nID0gdHJ1ZTtcbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMubG9hZGluZ0ljb24sIFwiaGlkZGVuXCIpO1xuICAgICAgICB0aGlzLl9vblF1ZXJ5KHF1ZXJ5VGV4dCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50UXVlcnkgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5faXNRdWVyeWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMubG9hZGluZ0ljb24sIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIG5leHQgcXVlcnkgaWYgYXBwcm9wcmlhdGVcbiAgICAgICAgICAgIGlmICh0aGlzLl9uZXh0UXVlcnkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWVyeSh0aGlzLl9uZXh0UXVlcnkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX25leHRRdWVyeSA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENMRUFSSU5HXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgdGhpcy5fdXBkYXRlRmlsdGVyaW5nKFwiXCIpO1xuICAgICAgICB0aGlzLl9ub3RpZnlDaGFuZ2VMaXN0ZW5lcnMoKTtcbiAgICB9XG59XG5leHBvcnRzLkR5bmFtaWNTZWxlY3QgPSBEeW5hbWljU2VsZWN0O1xuLy8jZW5kcmVnaW9uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBTVFlMRVNcbi8qKiBrZWVwIHRyYWNrIG9mIHRoZSBzdHlsZXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgc2VsZWN0IGZpZWxkICovXG5EeW5hbWljU2VsZWN0Ll91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCJAa2V5ZnJhbWVzIHJvdGF0ZVwiOiB7XG4gICAgICAgIFwiZnJvbVwiOiB7IHRyYW5zZm9ybTogXCJyb3RhdGUoMGRlZylcIiB9LFxuICAgICAgICBcInRvXCI6IHsgdHJhbnNmb3JtOiBcInJvdGF0ZSgzNjBkZWcpXCIgfVxuICAgIH0sXG4gICAgXCIuZHluYW1pY1NlbGVjdFwiOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgIGZvbnRGYW1pbHk6IFwiU2Vnb2UgVUksIE9wZW4gU2FucywgSGVsdmV0aWNhXCIsXG4gICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgXCJpbnB1dFwiOiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIyZW1cIixcbiAgICAgICAgICAgICAgICB6SW5kZXg6IFwiM1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIuY2xlYXJCdG5cIjoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM1NTVcIixcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCBlYXNlLWluLW91dCAuMXNcIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgIGxlZnQ6IFwiY2FsYygxMDAlIC0gMjVweClcIixcbiAgICAgICAgICAgICAgICB0b3A6IFwiMFwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjIwcHhcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMjBweFwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjIwcHhcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogXCI1MCUgMTAwJVwiLFxuICAgICAgICAgICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgICAgICAgICBcIiY6aG92ZXJcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcInNjYWxlKDEuMSlcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLmRyYXdlclwiOiB7XG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBcIjFweCAxcHggNXB4IDJweCByZ2JhKDAsMCwwLC4yKVwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIjwwPlwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjRkZGXCIsXG4gICAgICAgICAgICAgICAgbWluV2lkdGg6IFwiMjAwcHhcIixcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6IFwiMzAwcHhcIixcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgbGVmdDogXCIwXCIsXG4gICAgICAgICAgICAgICAgdG9wOiBcIjNlbVwiLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgICAgICAgICAgICAgekluZGV4OiBcIjJcIixcbiAgICAgICAgICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgXCIubG9hZGluZ1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjJweCB0cmFuc3BhcmVudCBzb2xpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyVG9wOiBcIjJweCAjMzMzIHNvbGlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246IFwicm90YXRlIDFzIGxpbmVhciBpbmZpbml0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMjBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjIwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJoZWlnaHQgZWFzZS1pbi1vdXQgLjFzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjVweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCImLmhpZGRlblwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIiYuY29sbGFwc2VkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEhlaWdodDogXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IFwiMFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vX3R5cGVndWFyZHNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZWRpdGFibGVcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfdHlwZWd1YXJkc18xID0gcmVxdWlyZShcIi4uL25hbWVkQ2xhc3MvX3R5cGVndWFyZHNcIik7XG4vKiogY2hlY2sgaWYgdGhlIGVsZW1lbnQgaW1wbGVtZW50cyB0aGUgRWRpdGFibGUgY2xhc3MgKi9cbmZ1bmN0aW9uIGlzRWRpdGFibGUodGVzdCkge1xuICAgIHJldHVybiBfdHlwZWd1YXJkc18xLmlzTmFtZWRDbGFzcyh0ZXN0LCBcIkVkaXRhYmxlXCIpO1xufVxuZXhwb3J0cy5pc0VkaXRhYmxlID0gaXNFZGl0YWJsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZHJhd2FibGVfMSA9IHJlcXVpcmUoXCIuLi9kcmF3YWJsZS9kcmF3YWJsZVwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IGdlbmVyYWxIZWxwZXJzXzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvZ2VuZXJhbEhlbHBlcnNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0RWRpdGFibGU8VD5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRHJhd2FibGUgZWxlbWVudCB0aGF0IGFsc28gYWxsb3dzIGZvciBlZGl0aW5nIGlubGluZVxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4zLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBFZGl0YWJsZSBleHRlbmRzIGRyYXdhYmxlXzEuRHJhd2FibGUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSU5JVElBTElaRSBPVVIgRURJVEFCTEVcbiAgICAvKipcbiAgICAgKiBFZGl0YWJsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGVzIGFuIEVkaXRhYmxlIG9iamVjdFxuICAgICAqIEBwYXJhbVx0b3B0aW9uc1x0XHRBbnkgb3B0aW9ucyBuZWVkZWQgdG8gY29uZmlndXJlIHRoZSBlZGl0YWJsZVxuICAgICAqXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICAvLyBpbml0aWFsaXplIG9wdGlvbnMgaWYgdGhleSB3ZXJlbid0IHBhc3NlZCBpblxuICAgICAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLmNscyA9IChvcHRpb25zLmNscyB8fCBcIlwiKSArIFwiIGVkaXRhYmxlXCI7XG4gICAgICAgIGlmIChvcHRpb25zLmlzTXVsdGlsaW5lKSB7XG4gICAgICAgICAgICBvcHRpb25zLmNscyArPSBcIiBtdWx0aWxpbmVcIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYWxsIHRoZSBEcmF3YWJsZSBjb25zdHJ1Y3RvclxuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fYWRkQ2xhc3NOYW1lKFwiRWRpdGFibGVcIik7XG4gICAgICAgIC8vIFN0b3JlIG91ciBwcm9wZXJ0aWVzXG4gICAgICAgIHRoaXMudHlwZSA9IG9wdGlvbnMuaW5wdXRUeXBlO1xuICAgICAgICB0aGlzLl92YWx1ZSA9IG9wdGlvbnMudmFsdWU7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRWYWx1ZSA9IG9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICAgICAgICB0aGlzLl9pc011bHRpbGluZSA9IG9wdGlvbnMuaXNNdWx0aWxpbmU7XG4gICAgICAgIC8vIGFkZCB0aGUgdmFsaWRhdGlvbiArIGZvcm1hdHRpbmcgaGFuZGxlcnNcbiAgICAgICAgdGhpcy5fYWRkSGFuZGxlcnMob3B0aW9ucyk7XG4gICAgICAgIC8vIEluaXRpYWxpemUgb3VyIG1vZGlmeWluZyBmbGFnXG4gICAgICAgIHRoaXMuX2lzTW9kaWZ5aW5nID0gZmFsc2U7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZWxlbWVudHMsIGFsb25nIHdpdGggdGhlaXIgbGlzdGVuZXJzXG4gICAgICAgIHRoaXMuX2NyZWF0ZUVsZW1lbnRzKCk7XG4gICAgICAgIHRoaXMuX2FkZExpc3RlbmVycygpO1xuICAgICAgICAvLyBhZGQgdGhlIEJHIGNvbG9yIG9mIGFuIGFjdGl2ZSBlZGl0YWJsZVxuICAgICAgICB0aGlzLnNldFRoZW1lQ29sb3IoXCJlZGl0YWJsZUxpZ2h0QkdcIiwgb3B0aW9ucy5saWdodEJnIHx8IFwicmdiYSgwLDAsMCwuMSlcIik7XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHsgcmV0dXJuIHRoaXMuX3ZhbHVlOyB9XG4gICAgc2V0IHZhbHVlKHZhbCkge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbDtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQudmFsdWUgPSB0aGlzLmZvcm1hdCh2YWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYWRkSGFuZGxlcnNcbiAgICAgKlxuICAgICAqIEFkZHMgYWxsIGhhbmRsZXJzIHNwZWNpZmllZCBieSB0aGUgdXNlclxuICAgICAqIEBwYXJhbSBcdG9wdGlvbnNcdFx0T3B0aW9ucyBzcGVjaWZpZWQgYnkgdGhlIHVzZXJcbiAgICAgKlxuICAgICAqL1xuICAgIF9hZGRIYW5kbGVycyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub25WYWxpZGF0ZSA9IG9wdGlvbnMub25WYWxpZGF0ZTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZSA9IG9wdGlvbnMub25VcGRhdGU7XG4gICAgICAgIHRoaXMuZm9ybWF0ID0gb3B0aW9ucy5vbkZvcm1hdDtcbiAgICAgICAgdGhpcy5wYXJzZUNvbnRlbnQgPSBvcHRpb25zLm9uUGFyc2VDb250ZW50O1xuICAgICAgICB0aGlzLl9hZGREZWZhdWx0Rm9ybWF0SGFuZGxlcnMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2FkZERlZmF1bHRGb3JtYXRIYW5kbGVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFkZHMgZGVmYXVsdCBoYW5kbGVycyBmb3IgZGVhbGluZyB3aXRoIGZvcm1hdHRpbmcgb2YgdGhlIEVkaXRhYmxlXG4gICAgICovXG4gICAgX2FkZERlZmF1bHRGb3JtYXRIYW5kbGVycygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZvcm1hdCkge1xuICAgICAgICAgICAgdGhpcy5fYWRkRGVmYXVsdEZvcm1hdEhhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMucGFyc2VDb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9hZGREZWZhdWx0UGFyc2VIYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX2FkZERlZmF1bHRQYXJzZUhhbmRsZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgcGFyc2luZyB0aHJvdWdoIHR5cGUgb3ZlcnJpZGUgaWYgdGhlIHVzZXIgZGlkbid0IHNwZWNpZnkgYW55dGhpbmdcbiAgICAgKi9cbiAgICBfYWRkRGVmYXVsdFBhcnNlSGFuZGxlcigpIHtcbiAgICAgICAgdGhpcy5wYXJzZUNvbnRlbnQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2FkZERlZmF1bHRGb3JtYXRIYW5kbGVyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlIGZvcm1hdHRpbmcgdGhyb3VnaCB0b1N0cmluZyBpZiB0aGUgdXNlciBkaWRuJ3Qgc3BlY2lmeSBhbnl0aGluZ1xuICAgICAqL1xuICAgIF9hZGREZWZhdWx0Rm9ybWF0SGFuZGxlcigpIHtcbiAgICAgICAgdGhpcy5mb3JtYXQgPSBmdW5jdGlvbiAodmFsdWUsIGZvckVkaXQpIHtcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmV0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBpZiAoIWZvckVkaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5fZGVmYXVsdFZhbHVlIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIElmIHRydWUsIGRvZXNuJ3QgcnVuIHRoZSBlbGVtZW50IGNyZWF0aW9uIHVudGlsIG1hbnVhbGx5IGNhbGxlZFxuICAgICAqIEByZXR1cm5zXHRUcnVlXG4gICAgICovXG4gICAgX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50cygpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBFTEVNRU5UUyAmIExJU1RFTkVSU1xuICAgIC8qKlxuICAgICAqIF9jcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSBlbGVtZW50cyBmb3IgdGhlIGVkaXRhYmxlXG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICBsZXQgYmFzZSA9IHRoaXMuX2VsZW1zLmJhc2U7XG4gICAgICAgIHRoaXMuX2VsZW1zLmRpc3BsYXkgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwiZGlzcGxheSB1bnNlbGVjdGFibGVcIixcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5fZWxlbXMuYmFzZSxcbiAgICAgICAgICAgIGZvY3VzYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICB0eXBlOiBcImlucHV0XCIsXG4gICAgICAgICAgICBjbHM6IFwiaW5wdXQgaGlkZGVuXCIsXG4gICAgICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICAgICAgYXR0cjoge1xuICAgICAgICAgICAgICAgIFwidHlwZVwiOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9yZW5kZXJEaXNwbGF5VmlldygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYWRkTGlzdGVuZXJzXG4gICAgICpcbiAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSBlZGl0YWJsZVxuICAgICAqXG4gICAgICovXG4gICAgX2FkZExpc3RlbmVycygpIHtcbiAgICAgICAgLy8gQ2xpY2sgZXZlbnQgb24gb3VyIGJhc2UgZWxlbWVudFxuICAgICAgICB0aGlzLl9lbGVtcy5kaXNwbGF5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4geyB0aGlzLl9oYW5kbGVGb2N1c0V2ZW50KGUpOyB9KTtcbiAgICAgICAgdGhpcy5fZWxlbXMuZGlzcGxheS5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgKGUpID0+IHsgdGhpcy5faGFuZGxlRm9jdXNFdmVudChlKTsgfSk7XG4gICAgICAgIC8vIEVudGVyIGtleSByZWNvZ25pdGlvbiBvbiBvdXIgaW5wdXQgZWxlbWVudFxuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgKGV2KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXYua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNNb2RpZnlpbmcgJiYgIWV2LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgcHJvY2VzcyBlbnRlciBrZXkgZXhjZXB0IGZvciBtdWx0aSBsaW5lIGVsZW1lbnRzIHdpdGggc2hpZnQga2V5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLl9pc011bHRpbGluZSB8fCAhZXYuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQmx1ciByZWNvZ25pdGlvbiBvbiBvdXIgaW5wdXQgZWxlbWVudFxuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNNb2RpZnlpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zYXZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfaGFuZGxlRm9jdXNFdmVudChlKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNNb2RpZnlpbmcpIHtcbiAgICAgICAgICAgIHRoaXMubW9kaWZ5KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBIQU5ETEUgQ0hBTkdFUyBUTyBUSEUgRUxFTUVOVFxuICAgIC8qKlxuICAgICAqIF9zYXZlXG4gICAgICpcbiAgICAgKiBTYXZlIHRoZSBjb250ZW50cyBvZiB0aGUgRWRpdGFibGVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGVkaXRhYmxlIHdhcyBzdWNjZXNzZnVsbHkgc2F2ZWRcbiAgICAgKlxuICAgICAqL1xuICAgIF9zYXZlKCkge1xuICAgICAgICBsZXQgdmFsaWRhdGVkO1xuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlO1xuICAgICAgICB2YWxpZGF0ZWQgPSB0aGlzLl92YWxpZGF0ZShjb250ZW50KTtcbiAgICAgICAgLy8gVXBkYXRlIFVJIC8gc2F2ZWQgZGF0YSBiYXNlZCBvbiB3aGV0aGVyIHZhbGlkYXRpb24gcGFzc2VkXG4gICAgICAgIGlmICghdmFsaWRhdGVkLnBhc3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uVmFsaWRhdGlvbkZhaWxlZCh2YWxpZGF0ZWQuYWxsb3dMZWF2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25WYWxpZGF0aW9uUGFzc2VkKGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gVkFMSURBVEUgVVNFUiBJTlBVVCBJTiBUSEUgRUxFTUVOVFxuICAgIC8qKlxuICAgICAqIF92YWxpZGF0ZVxuICAgICAqXG4gICAgICogdmFsaWRhdGUgd2hldGhlciB0aGUgY3VycmVudCBkYXRhIGluIHRoZSBpbnB1dCBmaWVsZCBpcyB2YWxpZFxuICAgICAqXG4gICAgICogQHBhcmFtXHRjb250ZW50XHRcdENvbnRlbnQgdG8gdmFsaWRhdGVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRSZXN1bHQgb2YgdGhlIHZhbGlkYXRpb25cbiAgICAgKlxuICAgICAqL1xuICAgIF92YWxpZGF0ZShjb250ZW50KSB7XG4gICAgICAgIGxldCB2YWxpZGF0ZWQ7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBlZGl0YWJsZSBjb3VsZCBiZSB2YWxpZGF0ZWRcbiAgICAgICAgaWYgKHRoaXMub25WYWxpZGF0ZSkge1xuICAgICAgICAgICAgdmFsaWRhdGVkID0gdGhpcy5vblZhbGlkYXRlKGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsaWRhdGVkID0geyBwYXNzZWQ6IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsaWRhdGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25WYWxpZGF0aW9uRmFpbGVkXG4gICAgICpcbiAgICAgKiB2YWxpZGF0aW9uIGZhaWxpbmcgZm9yIHRoaXMgZWxlbWVudFxuICAgICAqXG4gICAgICogQHBhcmFtXHRhbGxvd0xlYXZlXHRUcnVlIGlmIHRoZSB1c2VyIHNob3VsZCBiZSBhYmxlIHRvIG5hdmlnYXRlIGF3YXlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zXHRGYWxzZVxuICAgICAqXG4gICAgICovXG4gICAgX29uVmFsaWRhdGlvbkZhaWxlZChhbGxvd0xlYXZlKSB7XG4gICAgICAgIC8vIEFkZCB0aGUgZXJyb3IgY2xhc3NcbiAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuaW5wdXQsIFwiZXJyb3JcIik7XG4gICAgICAgIC8vIElmIHdlIHdvbid0IGFsbG93IHRoZSB1c2VyIHRvIGxlYXZlLCBkb24ndFxuICAgICAgICBpZiAoIWFsbG93TGVhdmUpIHtcbiAgICAgICAgICAgIGdlbmVyYWxIZWxwZXJzXzEuc2VsZWN0KHRoaXMuX2VsZW1zLmlucHV0KTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLmlucHV0LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25WYWxpZGF0aW9uUGFzc2VkXG4gICAgICpcbiAgICAgKiBoYW5kbGUgdmFsaWRhdGlvbiBwYXNzaW5nIGZvciB0aGlzIGVsZW1lbnRcbiAgICAgKiBAcGFyYW1cdGNvbnRlbnRcdFx0Q29udGVudCB0byBzZXQgZm9yIHRoZSBlZGl0YWJsZVxuICAgICAqIEByZXR1cm5zXHRUcnVlXG4gICAgICpcbiAgICAgKi9cbiAgICBfb25WYWxpZGF0aW9uUGFzc2VkKGNvbnRlbnQpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGFueSBlcnJvciBoaWxpdGluZyBpZiB3ZSBkaWQgaXRcbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMuaW5wdXQsIFwiZXJyb3JcIik7XG4gICAgICAgIC8vIFJlc2F2ZSBvdXIgdmFsdWUgdGhyb3VnaCBvdXIgdW5mb3JtYXQgZnVuY3Rpb25cbiAgICAgICAgdGhpcy5fdmFsdWUgPSB0aGlzLnBhcnNlQ29udGVudChjb250ZW50KTtcbiAgICAgICAgLy8gQ2FsbCBvdXIgdXBkYXRlIGZ1bmN0aW9uIGluIG9yZGVyIHRvIG5vdGlmeSBvdXIgcGFyZW50XG4gICAgICAgIGlmICh0aGlzLm9uVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlKHRoaXMudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN3YXAgdGhlIFVJIGJhY2sgdG8gdGhlIGRpc3BsYXkgdmVyc2lvblxuICAgICAgICB0aGlzLl9oaWRlRWxlbWVudCh0aGlzLl9lbGVtcy5pbnB1dCk7XG4gICAgICAgIHRoaXMuX3Nob3dFbGVtZW50KHRoaXMuX2VsZW1zLmRpc3BsYXkpO1xuICAgICAgICAvLyByZW1vdmUgb3VyIG1vZGlmeWluZyBmbGFnXG4gICAgICAgIHRoaXMuX2lzTW9kaWZ5aW5nID0gZmFsc2U7XG4gICAgICAgIC8vIHVwZGF0ZSBjb250ZW50IG9mIHRoZSBkaXNwbGF5IGVsZW1lbnRcbiAgICAgICAgdGhpcy5fcmVuZGVyRGlzcGxheVZpZXcoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gRU5BQkxFIFRIRSBFTEVNRU5UIEZPUiBFRElUSU5HXG4gICAgLyoqXG4gICAgICogbW9kaWZ5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIE1vZGlmaWVzIHRoZSBFZGl0YWJsZSBlbGVtZW50XG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB3ZSB3ZXJlIGFibGUgdG8gc3RhcnQgbW9kaWZ5aW5nIHRoZSBlbGVtZW50XG4gICAgICovXG4gICAgbW9kaWZ5KCkge1xuICAgICAgICAvLyBEb24ndCBzdGFydCBtb2RpZnlpbmcgYWdhaW4gaWYgd2UgYXJlIGFscmVhZHkgbW9kaWZ5aW5nXG4gICAgICAgIGlmICh0aGlzLl9pc01vZGlmeWluZykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCBvdXIgcHJvcGVydHkgdG8gdHJ1ZVxuICAgICAgICB0aGlzLl9pc01vZGlmeWluZyA9IHRydWU7XG4gICAgICAgIC8vIEdyYWIgdGhlIGFwcHJvcHJpYXRlbHkgZm9ybWF0dGVkIHN0cmluZyBmb3IgdGhpcyBlbGVtZW50XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlID0gdGhpcy5mb3JtYXQodGhpcy52YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIC8vIGdldCB0aGUgYXBwcm9wcmlhdGUgc2l6ZSBmb3IgdGhlIGVsZW1lbnRcbiAgICAgICAgbGV0IHNpemUgPSB0aGlzLl9lbGVtcy5kaXNwbGF5Lm9mZnNldFdpZHRoO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC5zdHlsZS53aWR0aCA9IChzaXplIC0gNikgKyBcInB4XCI7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgSFRNTCB0byBoYXZlIGFuIGVkaXRhYmxlIGZpZWxkXG4gICAgICAgIHRoaXMuX2hpZGVFbGVtZW50KHRoaXMuX2VsZW1zLmRpc3BsYXkpO1xuICAgICAgICB0aGlzLl9zaG93RWxlbWVudCh0aGlzLl9lbGVtcy5pbnB1dCk7XG4gICAgICAgIC8vIFNlbGVjdCBvdXIgaW5wdXRcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gZ2VuZXJhbEhlbHBlcnNfMS5zZWxlY3QodGhpcy5fZWxlbXMuaW5wdXQpLCAxMDApO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICBmb2N1cygpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlRm9jdXNFdmVudCgpO1xuICAgIH1cbiAgICBfaGlkZUVsZW1lbnQoZWxlbSkge1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyhlbGVtLCBcImhpZGRlblwiKTtcbiAgICB9XG4gICAgX3Nob3dFbGVtZW50KGVsZW0pIHtcbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3MoZWxlbSwgXCJoaWRkZW5cIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9yZW5kZXJEaXNwbGF5Vmlld1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBPdmVycmlkYWJsZSBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgdGhlIGRpc3BsYXktdmVyc2lvbiBvZiB0aGUgZWRpdGFibGVcbiAgICAgKi9cbiAgICBfcmVuZGVyRGlzcGxheVZpZXcoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmRpc3BsYXkuaW5uZXJIVE1MID0gdGhpcy5mb3JtYXQodGhpcy5fdmFsdWUpO1xuICAgIH1cbn1cbmV4cG9ydHMuRWRpdGFibGUgPSBFZGl0YWJsZTtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG4vKiogc3R5bGVzIHRvIHVzZSBmb3Igc3RhbmRhcmQgRWRpdGFibGVzICovXG5FZGl0YWJsZS5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLnVuc2VsZWN0YWJsZVwiOiB7XG4gICAgICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgICBNb3pVc2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgV2Via2l0VXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgIGtodG1sVXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgIG9Vc2VyU2VsZWN0OiBcIm5vbmVcIlxuICAgIH0sXG4gICAgXCIuZWRpdGFibGVcIjoge1xuICAgICAgICBmb250RmFtaWx5OiBcIk9wZW4gU2FucywgU2Vnb2UgVUksIEhlbHZldGljYVwiLFxuICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICBcImlucHV0XCI6IHtcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcIk9wZW4gU2FucywgU2Vnb2UgVUksIEhlbHZldGljYVwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCI8ZWRpdGFibGVMaWdodEJHPlwiLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogXCIycHggc29saWQgI0FBQVwiLFxuICAgICAgICAgICAgICAgIG1pbldpZHRoOiBcIjE1MHB4XCIsXG4gICAgICAgICAgICAgICAgd2hpdGVTcGFjZTogXCJub3dyYXBcIixcbiAgICAgICAgICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgXCImOmZvY3VzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIycHggZG90dGVkIHJnYmEoMCwwLDAsLjQpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiBcIm5vbmVcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIiYuZXJyb3JcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IFwiI0MzMFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCImLm11bHRpbGluZSAuaW5wdXRcIjoge1xuICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6IFwiYXV0b1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIuZGlzcGxheVwiOiB7XG4gICAgICAgICAgICAgICAgYm9yZGVyOiBcIjJweCBzb2xpZCB0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgICAgICAgICBcIiY6aG92ZXJcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIjxlZGl0YWJsZUxpZ2h0Qkc+XCIsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIuaGlkZGVuXCI6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2V2ZW50XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2V2ZW50RGVmaW5pdGlvblwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9ldmVudEhhbmRsZXJcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vZ29vZ2xlQXV0aFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9nb29nbGVMb2dpblZpZXdcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkcmF3YWJsZV8xID0gcmVxdWlyZShcIi4uLy4uL2RyYXdhYmxlL2RyYXdhYmxlXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uLy4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG5jb25zdCBlcnJvclBvcHVwXzEgPSByZXF1aXJlKFwiLi4vLi4vcG9wdXBzL2Vycm9yUG9wdXBcIik7XG4vLyNlbmRyZWdpb25cbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIEdvb2dsZVZpZXdcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhIHJldXNhYmxlIGxvZ2luIGJ1dHRvbiBmb3Igc2lnbmluZyBpbiB3aXRoIGdvb2dsZSBhY2NvdW50c1xuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBHb29nbGVMb2dpbkJ1dHRvbiBleHRlbmRzIGRyYXdhYmxlXzEuRHJhd2FibGUge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8qKlxuICAgICAqIGNyZWF0ZSBhIEdvb2dsZSBsb2dpbiBidXR0b25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjbGllbnRJZCwgZG9tYWluKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2NsaWVudElkID0gY2xpZW50SWQ7XG4gICAgICAgIHRoaXMuX2RvbWFpbiA9IGRvbWFpbjtcbiAgICAgICAgdGhpcy5fbG9naW5MaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fbG9nb3V0TGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuX2NyZWF0ZUVsZW1lbnRzKCk7XG4gICAgfVxuICAgIGdldCBpc0xvZ2dlZEluKCkgeyByZXR1cm4gdGhpcy5faXNMb2dnZWRJbjsgfVxuICAgIHNldCBpc0xvZ2dlZEluKGRhdGEpIHsgdGhpcy5faXNMb2dnZWRJbiA9IGRhdGE7IH1cbiAgICBfc2hvdWxkU2tpcENyZWF0ZUVsZW1lbnRzKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIC8qKlxuICAgICAqIGNyZWF0ZSB0aGUgZWxlbWVudHMgbmVlZGVkIHRvIGRpc3BsYXkgdGhlIGxvZ2luIGJ1dHRvblxuICAgICAqL1xuICAgIF9jcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgZ2FwaS5sb2FkKCdhdXRoMicsICgpID0+IHtcbiAgICAgICAgICAgIGxldCBhdXRoMiA9IGdhcGkuYXV0aDIuaW5pdCh7XG4gICAgICAgICAgICAgICAgY2xpZW50X2lkOiB0aGlzLl9jbGllbnRJZCxcbiAgICAgICAgICAgICAgICBoZDogdGhpcy5fZG9tYWluIHx8IFwiZ21haWwuY29tXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXV0aDIuY3VycmVudFVzZXIubGlzdGVuKCh1c2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyLmdldEJhc2ljUHJvZmlsZSgpKSB7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuX29uU2lnbkluKHVzZXIpOyBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmJhc2UgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7IGlkOiBcImVsZ29vZ1wiLCBjbHM6IFwiZy1zaWduaW4yXCIgfSk7XG4gICAgICAgIC8vIGFjdHVhbGx5IGNyZWF0ZSB0aGUgc3R5bGVkIGJ1dHRvblxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBnYXBpLnNpZ25pbjIucmVuZGVyKCdlbGdvb2cnLCB7XG4gICAgICAgICAgICAgICAgJ3Njb3BlJzogJ3Byb2ZpbGUgZW1haWwnLFxuICAgICAgICAgICAgICAgICdsb25ndGl0bGUnOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAndGhlbWUnOiAnbGlnaHQnLFxuICAgICAgICAgICAgICAgICdvbnN1Y2Nlc3MnOiAoZGF0YSkgPT4geyB0aGlzLl9vblNpZ25JbihkYXRhKTsgfSxcbiAgICAgICAgICAgICAgICAnb25mYWlsdXJlJzogKCkgPT4geyBjb25zb2xlLmxvZyhcImVycm9yIG9jY3VycmVkXCIpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMTApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25TaWduSW5cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogSGFuZGxlIHdoZW4gd2UndmUgYXR0ZW1wdGVkIHRvIGxvZyBpbiB0aHJvdWdoIGdvb2dsZSdzIGFwaVxuICAgICAqIEBwYXJhbSBnb29nbGVVc2VyXG4gICAgICovXG4gICAgX29uU2lnbkluKGdvb2dsZVVzZXIpIHtcbiAgICAgICAgLy8gdmVyaWZ5IHRoYXQgdGhpcyBpcyBhIG5ldyBsb2dpblxuICAgICAgICBsZXQgcHJvZmlsZSA9IGdvb2dsZVVzZXIuZ2V0QmFzaWNQcm9maWxlKCk7XG4gICAgICAgIGlmICh0aGlzLl9nb29nbGVQcm9maWxlICYmIChwcm9maWxlLmdldElkKCkgPT09IHRoaXMuX2dvb2dsZVByb2ZpbGUuZ2V0SWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBpdCBpcywgdXBkYXRlIG91ciBwcm9maWxlIGluZm9cbiAgICAgICAgdGhpcy5fZ29vZ2xlUHJvZmlsZSA9IHByb2ZpbGU7XG4gICAgICAgIGxldCBpZF90b2tlbiA9IGdvb2dsZVVzZXIuZ2V0QXV0aFJlc3BvbnNlKCkuaWRfdG9rZW47XG4gICAgICAgIC8vIHZhbGlkYXRlIGFnYWluc3QgdGhlIHNlcnZlciBhcyB3ZWxsXG4gICAgICAgIHRoaXMuX2xvZ2luKGlkX3Rva2VuLCAoKSA9PiB7IHRoaXMuX29uU2lnbmVkSW4oKTsgfSwgKCkgPT4geyB0aGlzLl9vblNpZ25JbkZhaWx1cmUoKTsgfSk7XG4gICAgICAgIC8vIGJlIG92ZXJsYXkgY2F1dGlvdXM7IGxvZ291dCB3aXRoIGV2ZXJ5IHJlZnJlc2hcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaWduT3V0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25TaWduZWRJblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgd2hlbiBhIHVzZXIgaXMgYWN0dWFsbHkgbG9nZ2VkIGluIHRocm91Z2ggdGhlIGdvb2dsZSBBUElcbiAgICAgKi9cbiAgICBfb25TaWduZWRJbigpIHtcbiAgICAgICAgLy8gaW50ZXJuYWwgdGFnIGZvciB0cmFja2luZ1xuICAgICAgICB0aGlzLl9pc0xvZ2dlZEluID0gdHJ1ZTtcbiAgICAgICAgLy8gbm90aWZ5IGxpc3RlbmVyc1xuICAgICAgICBmb3IgKGxldCBsaXN0ZW5lciBvZiB0aGlzLl9sb2dpbkxpc3RlbmVycykge1xuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGlzdGVuZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25TaWduSW5GYWlsdXJlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhhbmRsZSB3aGVuIHNpZ25pbmcgaW4gZmFpbHNcbiAgICAgKi9cbiAgICBfb25TaWduSW5GYWlsdXJlKCkge1xuICAgICAgICBsZXQgZXJyb3JQb3B1cCA9IG5ldyBlcnJvclBvcHVwXzEuRXJyb3JQb3B1cChcIldlIGNvdWxkbid0IGxvZyB5b3UgaW4gc2VjdXJlbHkuIEFyZSB5b3Ugc3VwcG9zZWQgdG8gYmUgaGVyZT9cIik7XG4gICAgICAgIGVycm9yUG9wdXAuZHJhdyhkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgdGhpcy5zaWduT3V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNpZ25PdXRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWxsb3cgYSB1c2VyIHRvIHNwZWNpZnkgdGhhdCB0aGV5IGFyZSBsb2dnaW5nIG91dFxuICAgICAqL1xuICAgIHNpZ25PdXQoKSB7XG4gICAgICAgIGxldCBhdXRoMiA9IGdhcGkuYXV0aDIuZ2V0QXV0aEluc3RhbmNlKCk7XG4gICAgICAgIGF1dGgyLnNpZ25PdXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2dvb2dsZVByb2ZpbGUgPSBudWxsO1xuICAgICAgICAgICAgLy8gdXBkYXRlIG91ciBzZXJ2ZXIgYXMgd2VsbFxuICAgICAgICAgICAgdGhpcy5fbG9nb3V0KCk7XG4gICAgICAgICAgICAvLyByZWxvYWQgdGhlIHBhZ2UgdG8gcmVmcmVzaCB0aGUgVUlcbiAgICAgICAgICAgIC8vd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRkTG9naW5MaXN0ZW5lclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgZm9yIHRoZSBsb2cgaW4gZXZlbnRcbiAgICAgKiBAcGFyYW0gICBsaXN0ZW5lciAgICBXaGF0IHRvIGRvIG9uIGxvZyBpblxuICAgICAqL1xuICAgIGFkZExvZ2luTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fbG9naW5MaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZExvZ291dExpc3RlbmVyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFkZCBhIGxpc3RlbmVyIGZvciB0aGUgbG9nIG91dCBldmVudFxuICAgICAqIEBwYXJhbSAgIGxpc3RlbmVyICAgIFdoYXQgdG8gZG8gb24gbG9nb3V0XG4gICAgICovXG4gICAgYWRkTG9nb3V0TGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fbG9nb3V0TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cbn1cbmV4cG9ydHMuR29vZ2xlTG9naW5CdXR0b24gPSBHb29nbGVMb2dpbkJ1dHRvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2ZpbGVTeXN0ZW1cIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vY29tcGlsZWRfanMvZmlsZVN5c3RlbUFQSS5kLnRzXCIgLz5cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgRmlsZVN0b3JhZ2VcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEFsbG93IHN0b3JpbmcgaW50byBhIGxvY2FsIGZpbGVzeXN0ZW1cbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgX0ZpbGVTdG9yYWdlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAgICAgLy8jcmVnaW9uIFBST1BFUlRJRVNcbiAgICAgICAgLyoqIHNldCBhIGRlZmF1bHQgc3RvcmFnZSBzaXplICovXG4gICAgICAgIHRoaXMuX0RFRkFVTFRfU0laRSA9IDEwMCAqIDEwMjQgKiAxMDI0O1xuICAgICAgICAvLyNlbmRyZWdpb25cbiAgICAgICAgLy8uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICB9XG4gICAgLy8jbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFBVQkxJQyBGVU5DVElPTlNcbiAgICAvKipcbiAgICAgKiBzYXZlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFNhdmUgYSBmaWxlIHRvIGxvY2FsIHN0b3JhZ2VcbiAgICAgKiBAcGFyYW0gICBmaWxlTmFtZSAgICBUaGUgbmFtZSBvZiB0aGUgZmlsZSB0byBzYXZlXG4gICAgICogQHBhcmFtICAgZGF0YSAgICAgICAgVGhlIGRhdGEgd2l0aGluIHRoZSBmaWxlIHRvIHNhdmVcbiAgICAgKi9cbiAgICBzYXZlKGZpbGVOYW1lLCBkYXRhLCBkaXJlY3RvcnlQYXRoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgZnMgPSB5aWVsZCB0aGlzLl9nZXRGaWxlU3lzdGVtKCk7XG4gICAgICAgICAgICBsZXQgZGlyRW50cnkgPSB5aWVsZCB0aGlzLl9nZXREaXJlY3RvcnlFbnRyeShmcywgZGlyZWN0b3J5UGF0aCwgdHJ1ZSk7XG4gICAgICAgICAgICBsZXQgZmlsZSA9IHlpZWxkIHRoaXMuX2NyZWF0ZUZpbGUoZGlyRW50cnksIGZpbGVOYW1lKTtcbiAgICAgICAgICAgIGxldCBmdyA9IHlpZWxkIHRoaXMuX2dldEZpbGVXcml0ZXIoZmlsZSk7XG4gICAgICAgICAgICBsZXQgc3VjY2VzcyA9IHlpZWxkIHRoaXMuX3dyaXRlRmlsZShmdywgZmlsZSwgZGF0YSk7XG4gICAgICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGxvYWRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogTG9hZCBhIGZpbGUgZnJvbSBsb2NhbCBzdG9yYWdlXG4gICAgICogQHBhcmFtIGZpbGVOYW1lXG4gICAgICovXG4gICAgbG9hZChmaWxlTmFtZSwgZGlyZWN0b3J5UGF0aCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGZzID0geWllbGQgdGhpcy5fZ2V0RmlsZVN5c3RlbSgpO1xuICAgICAgICAgICAgbGV0IGRpckVudHJ5ID0geWllbGQgdGhpcy5fZ2V0RGlyZWN0b3J5RW50cnkoZnMsIGRpcmVjdG9yeVBhdGgsIGZhbHNlKTtcbiAgICAgICAgICAgIGxldCBmaWxlRW50cnkgPSB5aWVsZCB0aGlzLl9nZXRGaWxlRW50cnkoZGlyRW50cnksIGZpbGVOYW1lKTtcbiAgICAgICAgICAgIGxldCBmaWxlID0geWllbGQgdGhpcy5fZ2V0RmlsZShmaWxlRW50cnkpO1xuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSB0aGlzLl9yZWFkRmlsZShmaWxlKTtcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBkZWxldGVMb2NhbEZpbGVcbiAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAqIEBwYXJhbSBkaXJlY3RvcnlQYXRoXG4gICAgKiBAcGFyYW0gZmlsZU5hbWVcbiAgICAqL1xuICAgIGRlbGV0ZUxvY2FsRmlsZShkaXJlY3RvcnlQYXRoLCBmaWxlTmFtZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGZzID0geWllbGQgdGhpcy5fZ2V0RmlsZVN5c3RlbSgpO1xuICAgICAgICAgICAgbGV0IGRpckVudHJ5ID0geWllbGQgdGhpcy5fZ2V0RGlyZWN0b3J5RW50cnkoZnMsIGRpcmVjdG9yeVBhdGgsIGZhbHNlKTtcbiAgICAgICAgICAgIGxldCBmaWxlRW50cnkgPSB5aWVsZCB0aGlzLl9nZXRGaWxlRW50cnkoZGlyRW50cnksIGZpbGVOYW1lKTtcbiAgICAgICAgICAgIGxldCBkZWxldGVkID0gdGhpcy5fZGVsZXRlRmlsZShmaWxlRW50cnkpO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjcmVhdGVEaXJlY3RvcnlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGEgbG9jYWwgZGlyZWN0b3J5XG4gICAgICogQHBhcmFtICAgZGlyZWN0b3J5UGF0aCAgIFRoZSBuYW1lIG9mIHRoZSBkaXJlY3RvcnkgdG8gY3JlYXRlXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHdpbGwgY3JlYXRlIGEgZGlyZWN0b3J5XG4gICAgICpcbiAgICAgKi9cbiAgICBjcmVhdGVEaXJlY3RvcnkoZGlyZWN0b3J5UGF0aCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGZzID0geWllbGQgdGhpcy5fZ2V0RmlsZVN5c3RlbSgpO1xuICAgICAgICAgICAgbGV0IGRpckVudHJ5ID0geWllbGQgdGhpcy5fZ2V0RGlyZWN0b3J5RW50cnkoZnMsIGRpcmVjdG9yeVBhdGgsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuICEhZGlyRW50cnk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXREaXJlY3RvcnlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQHBhcmFtIGRpcmVjdG9yeVBhdGhcbiAgICAgKlxuICAgICAqL1xuICAgIGdldERpcmVjdG9yeShkaXJlY3RvcnlQYXRoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgZnMgPSB5aWVsZCB0aGlzLl9nZXRGaWxlU3lzdGVtKCk7XG4gICAgICAgICAgICBsZXQgZGlyRW50cnkgPSB5aWVsZCB0aGlzLl9nZXREaXJlY3RvcnlFbnRyeShmcywgZGlyZWN0b3J5UGF0aCk7XG4gICAgICAgICAgICByZXR1cm4gZGlyRW50cnk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXREaXJlY3RvcnlDb250ZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBGaW5kIGV2ZXJ5dGhpbmcgdGhhdCBpcyBkaXJlY3RseSBhIHBhcnQgb2YgdGhpcyBkaXJlY3RvcnlcbiAgICAgKiBAcGFyYW0gICBkaXJlY3RvcnlOYW1lICAgVGhlIGRpcmVjdG9yeSB0byBmaW5kXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXREaXJlY3RvcnlDb250ZW50cyhkaXJlY3RvcnlOYW1lLCBjcmVhdGUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBmcyA9IHlpZWxkIHRoaXMuX2dldEZpbGVTeXN0ZW0oKTtcbiAgICAgICAgICAgIGxldCBkaXJFbnRyeSA9IHlpZWxkIHRoaXMuX2dldERpcmVjdG9yeUVudHJ5KGZzLCBkaXJlY3RvcnlOYW1lLCBjcmVhdGUpO1xuICAgICAgICAgICAgbGV0IGNvbnRlbnRzID0geWllbGQgdGhpcy5fcmVhZERpcmVjdG9yeUNvbnRlbnRzKGRpckVudHJ5KTtcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50cztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gRklMRVNZU1RFTVxuICAgIC8qKlxuICAgICAqIF9yZXF1ZXN0RmlsZVN5c3RlbVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBFbnN1cmUgd2UgaGF2ZSBhIGZpbGUgc3lzdGVtIGluIG9yZGVyIHRvIGtpY2sgb2ZmIHRoZSByZXF1ZXN0XG4gICAgICovXG4gICAgX2dldEZpbGVTeXN0ZW0oc2l6ZSwgdHlwZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gSWYgd2UgYXJlbid0IHJlc2l6aW5nLCBqdXN0IHVzZSB0aGUgY3VycmVudCBmaWxlIHN5c3RlbVxuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGVTeXN0ZW0gJiYgIXNpemUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2ZpbGVTeXN0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhpcyBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBmaWxlIHN5c3RlbSwgcXVpdCB3aXRoIGFuIGVycm9yXG4gICAgICAgICAgICB3aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW0gPSB3aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW0gfHwgd2luZG93LndlYmtpdFJlcXVlc3RGaWxlU3lzdGVtO1xuICAgICAgICAgICAgaWYgKCFyZXF1ZXN0RmlsZVN5c3RlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcImJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGZpbGUgc3lzdGVtXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgYSBzaXplIHdhc24ndCBwcm92aWRlZCwgc2V0IGEgZGVmYXVsdCBvZiAxMG1iXG4gICAgICAgICAgICBpZiAoIXNpemUpIHtcbiAgICAgICAgICAgICAgICBzaXplID0gdGhpcy5fREVGQVVMVF9TSVpFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgYSB0eXBlIHdhc24ndCBzcGVjaWZpZWQsIGRlZmF1bHQgdG8gcGVyc2lzdGVudFxuICAgICAgICAgICAgaWYgKCF0eXBlKSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IFBFUlNJU1RFTlQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9maWxlU3lzdGVtVHlwZSA9IHR5cGU7XG4gICAgICAgICAgICBsZXQgcXVvdGFTaXplID0geWllbGQgdGhpcy5fcmVxdWVzdFF1b3RhKHNpemUpO1xuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMuX3JlcXVlc3RGaWxlU3lzdGVtKHR5cGUsIHF1b3RhU2l6ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVxdWVzdFF1b3RhXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFJlcXVlc3Qgc29tZSBzdG9yYWdlIGZvciBvdXIgYXBwXG4gICAgICogQHBhcmFtIHNpemUgIFRoZSBhbW91bnQgb2Ygc3RvcmFnZSB0byByZXF1ZXN0LCBpbiBieXRlc1xuICAgICAqL1xuICAgIF9yZXF1ZXN0UXVvdGEoc2l6ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gSWYgaXQncyBDaHJvbWUsIHdlIG5lZWQgdG8gZ2V0IGEgcXVvdGFcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgd2luZG93LndlYmtpdFN0b3JhZ2VJbmZvLnJlcXVlc3RRdW90YShQRVJTSVNURU5ULCBzaXplLCAoZ3JhbnRlZEJ5dGVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZ3JhbnRlZEJ5dGVzKTtcbiAgICAgICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUVycm9yKGVyciwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGZhaWxlZCwgd2UgZG9uJ3QgbmVlZCB0byByZXF1ZXN0IGEgcXVvdGFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShzaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9yZXF1ZXN0RmlsZVN5c3RlbVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBSZXRyaWV2ZSB0aGUgbG9jYWwgZmlsZSBzeXN0ZW0gdGhhdCB3ZSB3aWxsIGJlIHNhdmluZyBpbnRvXG4gICAgICovXG4gICAgX3JlcXVlc3RGaWxlU3lzdGVtKHR5cGUsIHNpemUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHJlcXVlc3RGaWxlU3lzdGVtKHR5cGUsIHNpemUsIChmcykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGVTeXN0ZW0gPSBmcztcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuX2ZpbGVTeXN0ZW0pO1xuICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUVycm9yKGVyciwgcmVqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBGSUxFIENSRUFUSU9OXG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUZpbGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGEgZmlsZSB3aXRoIGEgcGFydGljdWxhciBuYW1lXG4gICAgICovXG4gICAgX2NyZWF0ZUZpbGUoZGlyRW50cnksIGZpbGVOYW1lKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4geWllbGQgdGhpcy5fZ2V0RmlsZUVudHJ5KGRpckVudHJ5LCBmaWxlTmFtZSwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfZ2V0RmlsZVdyaXRlclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiByZXR1cm4gYSBwcm9taXNlIHRoYXQgd2lsbCByZXRyaWV2ZSBhIGZpbGUgd3JpdGVyXG4gICAgICovXG4gICAgX2dldEZpbGVXcml0ZXIoZmlsZUVudHJ5KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBmaWxlRW50cnkuY3JlYXRlV3JpdGVyKCh3cml0ZXIpID0+IHsgcmVzb2x2ZSh3cml0ZXIpOyB9LCAoZXJyKSA9PiB7IHRoaXMuX2hhbmRsZUVycm9yKGVyciwgcmVqZWN0KTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfd3JpdGVGaWxlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFkZCBkZXRhaWxzIHRvIGEgcGFydGljdWxhciBmaWxlXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKi9cbiAgICBfd3JpdGVGaWxlKHdyaXRlciwgZW50cnksIGRhdGEsIGFwcGVuZCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gaGFuZGxlIHdoZW4gdGhlIGZpbGUgaXMgZG9uZSB3cml0aW5nXG4gICAgICAgICAgICB3cml0ZXIub253cml0ZWVuZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAod3JpdGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZXIuc2VlaygwKTtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVyLndyaXRlKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gaGFuZGxlIGFueSBlcnJvcnMgdGhhdCBvY2N1ciBpbiB3cml0aW5nXG4gICAgICAgICAgICB3cml0ZXIub25lcnJvciA9IChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVFcnJvcihlcnIsIHJlamVjdCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIG5vdCBhcHBlbmRpbmQsIGNsZWFyIHRoZSBmaWxlIHRoZW4gd3JpdGUgdmlhIHRoZSBvbndyaXRlZW5kIGhhbmRsZXJcbiAgICAgICAgICAgIGlmICghYXBwZW5kKSB7XG4gICAgICAgICAgICAgICAgd3JpdGVyLnRydW5jYXRlKDApO1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIGFyZSBhcHBlbmRpbmcsIGZpbmQgdGhlIGVuZCBvZiB0aGUgZmlsZSBhbmQgYW5kIGRvIHNvXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3cml0ZXIuc2Vlayh3cml0ZXIubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB3cml0ZXIud3JpdGUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFJFQUQgRklMRVNcbiAgICAvKipcbiAgICAgKiBfZ2V0RmlsZUVudHJ5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFJldHJpZXZlIG1ldGEtZGV0YWlscyBhYm91dCBhIGZpbGVcbiAgICAgKi9cbiAgICBfZ2V0RmlsZUVudHJ5KGRpciwgZmlsZU5hbWUsIGNyZWF0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgZGlyLmdldEZpbGUoZmlsZU5hbWUsIHsgY3JlYXRlOiBjcmVhdGUsIGV4Y2x1c2l2ZTogZmFsc2UgfSwgKGZpbGVFbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZmlsZUVudHJ5KTtcbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVFcnJvcihlcnIsIHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9nZXRGaWxlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEdyYWIgdGhlIGZpbGUgb2JqZWN0IHdpdGhpbiBhIEZpbGVFbnRyeVxuICAgICAqL1xuICAgIF9nZXRGaWxlKGZpbGVFbnRyeSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgZmlsZUVudHJ5LmZpbGUoKGZpbGUpID0+IHsgcmVzb2x2ZShmaWxlKTsgfSwgKGVycikgPT4geyB0aGlzLl9oYW5kbGVFcnJvcihlcnIsIHJlamVjdCk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3JlYWRGaWxlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFJlYWQgdGhlIGNvbnRlbnRzIG9mIGEgZmlsZSBpbnRvIHRoZSByZXNvbHZlIGZ1bmN0aW9uXG4gICAgICovXG4gICAgX3JlYWRGaWxlKGZpbGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZWFkZXIub25lcnJvciA9IChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVFcnJvcihlcnIsIHJlamVjdCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIERJUkVDVE9SWSBNQU5JUFVMQVRJT05cbiAgICAvKipcbiAgICAgKiBfZ2V0RGlyZWN0b3J5RW50cnlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQHBhcmFtIGRpcmVjdG9yeU5hbWVcbiAgICAgKiBAcGFyYW0gY3JlYXRlXG4gICAgICovXG4gICAgX2dldERpcmVjdG9yeUVudHJ5KGZpbGVTeXN0ZW0sIGRpcmVjdG9yeU5hbWUsIGNyZWF0ZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgYW55IGNoYXJhY3RlcnMgd2UgZG9uJ3Qgd2FudCBpbiBvdXIgZGlyZWN0b3J5IG5hbWVcbiAgICAgICAgICAgIGRpcmVjdG9yeU5hbWUgPSBfY2xlYW5EaXJlY3RvcnkoZGlyZWN0b3J5TmFtZSk7XG4gICAgICAgICAgICAvLyBraWNrIHRoaW5ncyBvZmYgd2l0aCB0aGUgcm9vdCBkaXJlY3RvciBmb3IgdGhlIGxvYWRlZCBmaWxlIHN5c3RlbVxuICAgICAgICAgICAgbGV0IGZzUm9vdCA9IHlpZWxkIHRoaXMuX2dldEZpbGVTeXN0ZW1Sb290KGZpbGVTeXN0ZW0pO1xuICAgICAgICAgICAgLy8gc3BsaXQgdGhlIGRpcmVjdG9yeSBzdHJpbmcgdG8gZ2V0IHRoZSBhcHByb3ByaWF0ZSBwYXRoXG4gICAgICAgICAgICAvLyAoZm9yIG5vdyBoYW5kbGUgZWl0aGVyIHR5cGVzIG9mIHNsYXNoZXMpXG4gICAgICAgICAgICBsZXQgY3VyRGlyID0gZnNSb290O1xuICAgICAgICAgICAgbGV0IHBhdGhQaWVjZXMgPSB0aGlzLl9zcGxpdERpcmVjdG9yeVBhdGhQaWVjZXMoZGlyZWN0b3J5TmFtZSk7XG4gICAgICAgICAgICBmb3IgKGxldCBwYXRoUGllY2Ugb2YgcGF0aFBpZWNlcykge1xuICAgICAgICAgICAgICAgIGlmICghcGF0aFBpZWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgYSBwcm9taXNlIHRvIHJldHVybiB0aGlzIHN1Yi1kaXJlY3RvcnlcbiAgICAgICAgICAgICAgICBjdXJEaXIgPSB5aWVsZCB0aGlzLl9nZXRTdWJEaXJlY3RvcnkoY3VyRGlyLCBwYXRoUGllY2UsIGNyZWF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZXR1cm4gdGhlIGNoYWluZWQgcHJvbWlzZXNcbiAgICAgICAgICAgIHJldHVybiBjdXJEaXI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfZ2V0RmlsZVN5c3RlbVJvb3RcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR3JhYiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2Ygb3VyIGN1cnJlbnQgZmlsZSBzeXN0ZW1cbiAgICAgKi9cbiAgICBfZ2V0RmlsZVN5c3RlbVJvb3QoZmlsZVN5c3RlbSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFmaWxlU3lzdGVtKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFwiTm8gZmlsZXN5c3RlbVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmUoZmlsZVN5c3RlbS5yb290KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9zcGxpdERpcmVjdG9yeVBhdGhQaWVjZXNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogU3BsaXQgYSBkaXJlY3RvcnkgcGF0aCBpbnRvIGl0cyByZWxldmFudCBzdWJwYXRoc1xuICAgICAqL1xuICAgIF9zcGxpdERpcmVjdG9yeVBhdGhQaWVjZXMoZGlyZWN0b3J5TmFtZSkge1xuICAgICAgICBpZiAoIWRpcmVjdG9yeU5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlyZWN0b3J5TmFtZS5zcGxpdCgvW1xcL1xcXFxdL2cpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfZ2V0U3ViRGlyZWN0b3J5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEZpbmQgYSBuZXN0ZWQgZGlyZWN0b3J5XG4gICAgICovXG4gICAgX2dldFN1YkRpcmVjdG9yeShkaXJlY3RvcnlFbnRyeSwgc3ViUGF0aCwgY3JlYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBkaXJlY3RvcnlFbnRyeS5nZXREaXJlY3Rvcnkoc3ViUGF0aCwgeyBjcmVhdGU6IGNyZWF0ZSB9LCAoZGlyKSA9PiB7IHJlc29sdmUoZGlyKTsgfSwgKGVycikgPT4geyByZWplY3QoZXJyKTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVhZERpcmVjdG9yeUNvbnRlbnRzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEZpbmQgdGhlIGNvbnRlbnRzIG9mIGEgcGFydGljdWxhciBkaXJlY3RvcnlcbiAgICAgKi9cbiAgICBfcmVhZERpcmVjdG9yeUNvbnRlbnRzKGRpckVudHJ5KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVhZGVyID0gZGlyRW50cnkuY3JlYXRlUmVhZGVyKCk7XG4gICAgICAgICAgICByZWFkZXIucmVhZEVudHJpZXMoKGVudHJpZXMpID0+IHsgcmVzb2x2ZShlbnRyaWVzKTsgfSwgKGVycikgPT4geyB0aGlzLl9oYW5kbGVFcnJvcihlcnIsIHJlamVjdCk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gREVMRVRFIEZJTEVcbiAgICAvKipcbiAgICAgKiBfZGVsZXRlRmlsZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBkZWxldGUgYSBmaWxlIGZyb20gb3VyIHN5c3RlbVxuICAgICAqL1xuICAgIF9kZWxldGVGaWxlKGZpbGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGZpbGUucmVtb3ZlKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUVycm9yKGVyciwgcmVqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBIRUxQRVJTXG4gICAgLyoqXG4gICAgICogX2hhbmRsZUVycm9yXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIExvZyBhcHByb3ByaWF0ZSBkZXRhaWxzIHdoZW4gYW4gZXJyb3Igb2NjdXJzXG4gICAgICovXG4gICAgX2hhbmRsZUVycm9yKGVyciwgcmVqZWN0KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgaWYgKHJlamVjdCkge1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLl9GaWxlU3RvcmFnZSA9IF9GaWxlU3RvcmFnZTtcbmZ1bmN0aW9uIF9jbGVhbkRpcmVjdG9yeShkaXJlY3RvcnlOYW1lKSB7XG4gICAgbGV0IGxvb3BDbnQgPSAwO1xuICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBkaXJlY3RvcnkgcGF0aCBkb2Vzbid0IGhhdmUgYW55IHVwLXN0cmVhbSBtb3Rpb25zXG4gICAgd2hpbGUgKGRpcmVjdG9yeU5hbWUuaW5kZXhPZihcIi4uXCIpICE9PSAtMSkge1xuICAgICAgICAvLyByZXBsYWNlIGFueSBwcm9ibGVtYXRpYyBjaGFyYWN0ZXIgc3RyaW5nc1xuICAgICAgICBkaXJlY3RvcnlOYW1lID0gZGlyZWN0b3J5TmFtZS5yZXBsYWNlKC9cXC5cXC4vZywgXCJcIik7XG4gICAgICAgIGRpcmVjdG9yeU5hbWUgPSBkaXJlY3RvcnlOYW1lLnJlcGxhY2UoL1xcL1xcLy9nLCBcIi9cIik7XG4gICAgICAgIGRpcmVjdG9yeU5hbWUgPSBkaXJlY3RvcnlOYW1lLnJlcGxhY2UoL1xcXFxcXFxcL2csIFwiXFxcXFwiKTtcbiAgICAgICAgLy8gdmVyaWZ5IHdlIGFyZW4ndCBpbiBhbiBpbmZpbml0ZSBsb29wXG4gICAgICAgIGxvb3BDbnQgKz0gMTtcbiAgICAgICAgaWYgKGxvb3BDbnQgPiAxMDAwKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGlyZWN0b3J5TmFtZTtcbn1cbmV4cG9ydHMuRmlsZVN0b3JhZ2UgPSBuZXcgX0ZpbGVTdG9yYWdlKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9ldmVudEhhbmRsZXJcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaGVscGVyc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9fZmllbGRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vYnV0dG9uRmllbGRzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvbXBsZXhGaWVsZHNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZmlsZUZpZWxkc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9mb3Jtc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zaW1wbGVGaWVsZHNcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vX3RvZ2dsZUJ1dHRvbkZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2V4cGFuZGFibGVCdXR0b25zXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL211bHRpU2VsZWN0QnV0dG9uRmllbGRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc2luZ2xlU2VsZWN0QnV0dG9uRmllbGRcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBtdWx0aVNlbGVjdEJ1dHRvbkZpZWxkXzEgPSByZXF1aXJlKFwiLi9tdWx0aVNlbGVjdEJ1dHRvbkZpZWxkXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uLy4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBFeHBhbmRhYmxlQnV0dG9uRmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEFkZCBzdGFuZGFyZCBmb3JtIGVsZW1lbnQgdG8gY3JlYXRlIG5ldyBidXR0b25zIGlubGluZVxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBFeHBhbmRhYmxlQnV0dG9uRmllbGQgZXh0ZW5kcyBtdWx0aVNlbGVjdEJ1dHRvbkZpZWxkXzEuTXVsdGlTZWxlY3RCdXR0b25GaWVsZCB7XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICBjb25zdHJ1Y3RvcihpZCwgdGVtcGxhdGUpIHtcbiAgICAgICAgc3VwZXIoaWQsIHRlbXBsYXRlKTtcbiAgICAgICAgRXhwYW5kYWJsZUJ1dHRvbkZpZWxkLl9pbnN0YW5jZXMucHVzaCh0aGlzKTtcbiAgICB9XG4gICAgc3RhdGljIHNldCBvcHRpb25zKG9wdHMpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0cztcbiAgICAgICAgZm9yIChsZXQgaW5zdGFuY2Ugb2YgdGhpcy5faW5zdGFuY2VzKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5fY3JlYXRlQXZhaWxhYmxlT3B0aW9ucygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gUFJPUEVSVElFU1xuICAgIGdldCBfZGVmYXVsdENscygpIHsgcmV0dXJuIFwidG9nZ2xlQnRucyBleHBhbmRhYmxlXCI7IH1cbiAgICBnZXQgX2FkZEJ0bkxhYmVsKCkgeyByZXR1cm4gXCIrIEFkZFwiOyB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUNsb25lZEVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQHBhcmFtIGFwcGVuZFRvSWRcbiAgICAgKi9cbiAgICBfY3JlYXRlQ2xvbmVkRWxlbWVudChhcHBlbmRUb0lkKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl9pZCArIGFwcGVuZFRvSWQsIHRoaXMudGVtcGxhdGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25DaGFuZ2VcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ2hhbmdpbmcgYnV0dG9ucyBhbHdheXMgc3VjY2VlZHNcbiAgICAgKi9cbiAgICBfZ2V0VmFsdWVGcm9tRmllbGQoKSB7IHJldHVybiB0aGlzLl9kYXRhOyB9XG4gICAgLyoqXG4gICAgICogX29uQ3JlYXRlRWxlbWVudHNcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIHRoZSBhcHByb3ByaWF0ZSBlbGVtZW50cyBmb3IgdGhpc1xuICAgICAqL1xuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5iYXNlID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcIm9wdEVsZW1lbnRcIlxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fY3JlYXRlQXZhaWxhYmxlT3B0aW9ucygpO1xuICAgICAgICB0aGlzLl9jcmVhdGVJbnB1dCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlVGFnc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIHRhZ3Mgc2VjdGlvbiBvZiB0aGlzIGZvcm0gZWxlbWVudFxuICAgICAqL1xuICAgIF9jcmVhdGVBdmFpbGFibGVPcHRpb25zKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2VsZW1zLm9wdHMpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLm9wdHMgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgY2xzOiBcIm9wdHNcIixcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLmJhc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZWxlbXMub3B0cy5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jb25zdHJ1Y3Rvci5fb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXZhaWxhYmxlIG9wdGlvbnNcbiAgICAgICAgZm9yIChsZXQgb3B0IG9mIHRoaXMuY29uc3RydWN0b3IuX29wdGlvbnMpIHtcbiAgICAgICAgICAgIGxldCBvcHRFbGVtID0gdGhpcy5fY3JlYXRlQXZhaWxhYmxlT3B0aW9uKG9wdCk7XG4gICAgICAgICAgICB0aGlzLl9lbGVtcy5vcHRzLmFwcGVuZENoaWxkKG9wdEVsZW0pO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZVRhZ1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgYSB0b2dnbGUgYnV0dG9uIGZvciB0aGlzIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gICBvcHRcbiAgICAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBlbGVtZW50XG4gICAgICovXG4gICAgX2NyZWF0ZUF2YWlsYWJsZU9wdGlvbihvcHQpIHtcbiAgICAgICAgbGV0IHRhZ0VsZW0gPSB0aGlzLl9jcmVhdGVPcHRpb25FbGVtZW50KG9wdCk7XG4gICAgICAgIHJldHVybiB0YWdFbGVtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlSW5wdXRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIHRoZSBhcHByb3ByaWF0ZSBpbnB1dCBlbGVtZW50cyB0byBiZSBhYmxlIHRvIGNyZWF0ZSBuZXcgb3B0aW9uc1xuICAgICAqIGlubGluZVxuICAgICAqL1xuICAgIF9jcmVhdGVJbnB1dCgpIHtcbiAgICAgICAgbGV0IGlucHV0V3JhcHBlciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJhZGRPcHRXcmFwcGVyXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLmJhc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2FkZElucHV0RmllbGQoaW5wdXRXcmFwcGVyKTtcbiAgICAgICAgdGhpcy5fYWRkQWRkQnV0dG9uKGlucHV0V3JhcHBlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9hZGRJbnB1dEZpZWxkXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGlmIGFwcHJvcHJpYXRlLCBhZGQgYSB0ZXh0IGZpZWxkIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWRkIG5ldyBlbGVtZW50c1xuICAgICAqIEBwYXJhbSBpbnB1dFdyYXBwZXJcbiAgICAgKi9cbiAgICBfYWRkSW5wdXRGaWVsZChpbnB1dFdyYXBwZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zaG93SW5wdXRGaWVsZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0ID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImFkZE9wdFwiLFxuICAgICAgICAgICAgdHlwZTogXCJpbnB1dFwiLFxuICAgICAgICAgICAgcGFyZW50OiBpbnB1dFdyYXBwZXIsXG4gICAgICAgICAgICBldmVudExpc3RlbmVyczoge1xuICAgICAgICAgICAgICAgIGtleWRvd246IChrZXlFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5RXZlbnQua2V5Q29kZSAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGROZXdPcHRpb24odGhpcy5fZWxlbXMuaW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGVhcklucHV0RmllbGQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfYWRkQWRkQnV0dG9uXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEFkZCB0aGUgYXBwcm9wcmlhdGUgYnV0dG9uIHRvIGNyZWF0ZSBuZXcgZWxlbWVudHMgdG8gYWRkXG4gICAgICovXG4gICAgX2FkZEFkZEJ1dHRvbihpbnB1dFdyYXBwZXIpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMuYWRkQnRuID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImFkZEJ0blwiLFxuICAgICAgICAgICAgY29udGVudDogdGhpcy5fYWRkQnRuTGFiZWwsXG4gICAgICAgICAgICBwYXJlbnQ6IGlucHV0V3JhcHBlcixcbiAgICAgICAgICAgIGF0dHI6IHtcbiAgICAgICAgICAgICAgICB0YWJpbmRleDogXCIwXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBldmVudExpc3RlbmVyczoge1xuICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZE5ld09wdGlvbih0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFySW5wdXRGaWVsZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAga2V5ZG93bjogKGtleUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXlFdmVudC5rZXlDb2RlICE9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZE5ld09wdGlvbih0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFySW5wdXRGaWVsZCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jbGVhcklucHV0RmllbGRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ2xlYXIgb3V0IHRoZSBpbnB1dCBmaWVsZCBpZiB3ZSBoYXZlIG9uZVxuICAgICAqL1xuICAgIF9jbGVhcklucHV0RmllbGQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZWxlbXMuaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9hZGROZXdPcHRpb25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWRkIGEgbmV3IHRhZyB0byBvdXIgY29sbGVjdGlvblxuICAgICAqL1xuICAgIF9hZGROZXdPcHRpb24obmFtZSkge1xuICAgICAgICAvLyBvbmx5IGFkZCBuZXcgZWxlbWVudHNcbiAgICAgICAgaWYgKG5hbWUgJiYgdGhpcy5fZG9lc0VsZW1lbnRBbHJlYWR5RXhpc3QobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3B0ID0gdGhpcy5fY3JlYXRlTmV3T3B0aW9uKG5hbWUpO1xuICAgICAgICBsZXQgb3B0RWxlbSA9IHRoaXMuX2NyZWF0ZUF2YWlsYWJsZU9wdGlvbihvcHQpO1xuICAgICAgICB0aGlzLl9lbGVtcy5vcHRzLmFwcGVuZENoaWxkKG9wdEVsZW0pO1xuICAgICAgICB0aGlzLl9zZWxlY3RCdG4ob3B0RWxlbSwgb3B0LnZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdXBkYXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFVwZGF0ZSB0aGUgY3VycmVudCBzZWxlY3Rpb25zIG9mIHRoZSBlbGVtZW50XG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKi9cbiAgICB1cGRhdGUoZGF0YSwgYWxsb3dFdmVudHMpIHtcbiAgICAgICAgdGhpcy5fY3JlYXRlQXZhaWxhYmxlT3B0aW9ucygpO1xuICAgICAgICBzdXBlci51cGRhdGUoZGF0YSwgYWxsb3dFdmVudHMpO1xuICAgIH1cbn1cbmV4cG9ydHMuRXhwYW5kYWJsZUJ1dHRvbkZpZWxkID0gRXhwYW5kYWJsZUJ1dHRvbkZpZWxkO1xuRXhwYW5kYWJsZUJ1dHRvbkZpZWxkLl9pbnN0YW5jZXMgPSBbXTtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG5FeHBhbmRhYmxlQnV0dG9uRmllbGQuX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi5vcHRFbGVtZW50XCI6IHtcbiAgICAgICAgd2hpdGVTcGFjZTogXCJub3dyYXBcIixcbiAgICAgICAgbWFyZ2luVG9wOiBcIjEwcHhcIixcbiAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICBcIi5vcHRzXCI6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4R3JvdzogXCIxXCIsXG4gICAgICAgICAgICAgICAgZmxleFdyYXA6IFwid3JhcFwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgXCIudG9nZ2xlQnRuXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIi5hZGRPcHRXcmFwcGVyXCI6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBtYXhXaWR0aDogXCIzMDBweFwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiLmFkZE9wdFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4R3JvdzogXCIxXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCIuYWRkQnRuXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCI8Zm9ybVRoZW1lPlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI0ZGRlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIycHggMTBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcImFsbCBlYXNlLWluLW91dCAuMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleFNocmluazogXCIwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiMzBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCImOmhvdmVyXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcInNjYWxlKDEuMDUpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfdG9nZ2xlQnV0dG9uRmllbGRfMSA9IHJlcXVpcmUoXCIuL190b2dnbGVCdXR0b25GaWVsZFwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uLy4uL3N0eWxlSGVscGVycy9jc3NcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgICBTaW5nbGVTZWxlY3RCdXR0b25GaWVsZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogdG9nZ2xlIGJ1dHRvbnMgYXMgZXF1aXZhbGVudCB0byByYWRpbyBidXR0b25zXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFNpbmdsZVNlbGVjdEJ1dHRvbkZpZWxkIGV4dGVuZHMgX3RvZ2dsZUJ1dHRvbkZpZWxkXzEuVG9nZ2xlQnV0dG9uRmllbGQge1xuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIGdldCBfbXVsdGlTZWxlY3QoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIC8qKiBoYW5kbGUgYSBidXR0b24gYmVpbmcgc2VsZWN0ZWQgKi9cbiAgICBfc2VsZWN0QnRuKGJ0biwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFidG4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWRCdG4pIHtcbiAgICAgICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKHRoaXMuX3NlbGVjdGVkQnRuLCBcInNlbGVjdGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zZWxlY3RlZEJ0biA9PT0gYnRuKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhID0gdGhpcy5fZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRCdG4gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RhdGEgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRCdG4gPSBidG47XG4gICAgICAgIGNzc18xLmFkZENsYXNzKGJ0biwgXCJzZWxlY3RlZFwiKTtcbiAgICB9XG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JRCkge1xuICAgICAgICByZXR1cm4gbmV3IFNpbmdsZVNlbGVjdEJ1dHRvbkZpZWxkKHRoaXMuX2lkICsgYXBwZW5kVG9JRCwgdGhpcyk7XG4gICAgfVxuICAgIF9zaG91bGRCZVNlbGVjdGVkKGVsZW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGEgPT09IGVsZW0udmFsdWU7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWRCdG4pIHtcbiAgICAgICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKHRoaXMuX3NlbGVjdGVkQnRuLCBcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRCdG4gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RhdGEgPSB0aGlzLl9kZWZhdWx0VmFsdWU7XG4gICAgfVxufVxuZXhwb3J0cy5TaW5nbGVTZWxlY3RCdXR0b25GaWVsZCA9IFNpbmdsZVNlbGVjdEJ1dHRvbkZpZWxkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vX3R5cGVndWFyZHNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vX2NvbGxhcHNpYmxlRmllbGRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vYXJyYXlDaGlsZEZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2FycmF5RmllbGRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc2VjdGlvbkZpZWxkXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgX2NvbGxhcHNpYmxlRmllbGRfMSA9IHJlcXVpcmUoXCIuL19jb2xsYXBzaWJsZUZpZWxkXCIpO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgaGVscGVyc18xID0gcmVxdWlyZShcIi4uL2hlbHBlcnNcIik7XG5jb25zdCBuYXZpZ2F0ZV8xID0gcmVxdWlyZShcIi4uLy4uL29iamVjdEhlbHBlcnMvbmF2aWdhdGVcIik7XG5jb25zdCBmYWxzZXlfMSA9IHJlcXVpcmUoXCIuLi8uLi90eXBlR3VhcmRzL2ZhbHNleVwiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi8uLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY29uc3QgYXJyYXlDaGlsZEZpZWxkXzEgPSByZXF1aXJlKFwiLi9hcnJheUNoaWxkRmllbGRcIik7XG5jb25zdCBnZW5lcmFsSGVscGVyc18xID0gcmVxdWlyZShcIi4uLy4uL2h0bWxIZWxwZXJzL2dlbmVyYWxIZWxwZXJzXCIpO1xuY29uc3QgZXZlbnRIYW5kbGVyXzEgPSByZXF1aXJlKFwiLi4vZXZlbnRIYW5kbGVyXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMiA9IHJlcXVpcmUoXCIuL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgX3R5cGVndWFyZHNfMSA9IHJlcXVpcmUoXCIuL190eXBlZ3VhcmRzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIEFycmF5RmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBhbiBlbGVtZW50IGluIHRoZSBmb3JtIHRoYXQgY2FuIGJlIGFkZGVkIHRvXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4xXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIEFycmF5RmllbGQgZXh0ZW5kcyBfY29sbGFwc2libGVGaWVsZF8xLkNvbGxhcHNpYmxlRmllbGQge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gQ09OU1RSVUNUIFRIRSBGT1JNIEVMRU1FTlRcbiAgICAvKipcbiAgICAgKiBBcnJheUVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR2VuZXJhdGUgYSBmb3JtIGVsZW1lbnQgdGhhdCBjYW4gY29udGFpbiBsb3RzIG9mIGNvcGllc1xuICAgICAqIEBwYXJhbSBpZCAgICAgICAgVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgYXJyYXkgZWxlbWVudFxuICAgICAqIEBwYXJhbSB0ZW1wbGF0ZSAgRGV0YWlscyBmb3IgdGhlIG92ZXJhbGwgYXJyYXlcbiAgICAgKiBAcGFyYW0gY2hpbGRyZW5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpZCwgdGVtcGxhdGUsIGNoaWxkcmVuKSB7XG4gICAgICAgIHN1cGVyKGlkLCB0ZW1wbGF0ZSk7XG4gICAgICAgIC8vIGNvcHkgb2xkIHRlbXBsYXRlIG92ZXIgZnJvbSBhbiBleGlzdGluZyBlbGVtZW50XG4gICAgICAgIGlmIChoZWxwZXJzXzEuaXNGaWVsZCh0ZW1wbGF0ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkVGVtcGxhdGUgPSB0ZW1wbGF0ZS5jaGlsZFRlbXBsYXRlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG90aGVyd2lzZSwgdXNlIHRoZSBjaGlsZHJlbiBwYXNzZWQgaW4gYXMgb3VyIHRlbXBsYXRlXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRUZW1wbGF0ZSA9IGNoaWxkcmVuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgY2hpbGRyZW4gYXJyYXk7IHRoaXMgd2lsbCBiZSBwYXJzZWQgYWZ0ZXIgZWxlbWVudHMgYXJlIGNyZWF0ZWRcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSBbXTtcbiAgICB9XG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gUFJPUEVSVElFU1xuICAgIGdldCBfdHlwZSgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRmllbGRUeXBlRW51bS5BUlJBWTsgfVxuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4gW107IH1cbiAgICBnZXQgX2RlZmF1bHRDbHMoKSB7IHJldHVybiBcImFycmF5XCI7IH1cbiAgICBnZXQgY2hpbGRUZW1wbGF0ZSgpIHsgcmV0dXJuIHRoaXMuX2NoaWxkVGVtcGxhdGU7IH1cbiAgICBfZ2V0VW5jb2xvcmVkU3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVyZ2VUaGVtZXMoQXJyYXlGaWVsZC5fdW5jb2xvcmVkU3R5bGVzLCBfY29sbGFwc2libGVGaWVsZF8xLkNvbGxhcHNpYmxlRmllbGQuX3VuY29sb3JlZFN0eWxlcywgX2ZpZWxkXzEuRmllbGQuX3VuY29sb3JlZFN0eWxlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNldFRoZW1lQ29sb3JcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogdXBkYXRlIHRoZSBhcHByb3ByaWF0ZSB0aGVtZSBjb2xvciBmb3IgdGhlIGZvcm1cbiAgICAgKi9cbiAgICBzZXRUaGVtZUNvbG9yKHVuaXF1ZUlkLCBjb2xvciwgbm9SZXBsYWNlKSB7XG4gICAgICAgIHN1cGVyLnNldFRoZW1lQ29sb3IodW5pcXVlSWQsIGNvbG9yKTtcbiAgICAgICAgLy8gaWYgdGhlcmUgYXJlIG5vIGNoaWxkcmVuIHlldCwgYXBwbHkgdG8gdGhlIGNoaWxkIHRlbXBsYXRlXG4gICAgICAgIGlmICghdGhpcy5fY2hpbGRyZW4gfHwgdGhpcy5fY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoaGVscGVyc18xLmlzRmllbGQodGhpcy5fY2hpbGRUZW1wbGF0ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZFRlbXBsYXRlLnNldFRoZW1lQ29sb3IodW5pcXVlSWQsIGNvbG9yLCBub1JlcGxhY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmF2aWdhdGVfMS5tYXAodGhpcy5fY2hpbGRUZW1wbGF0ZSwgKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnNldFRoZW1lQ29sb3IodW5pcXVlSWQsIGNvbG9yLCBub1JlcGxhY2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5hdmlnYXRlXzEubWFwKHRoaXMuX2NoaWxkcmVuLCAoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIGNoaWxkLnNldFRoZW1lQ29sb3IodW5pcXVlSWQsIGNvbG9yLCBub1JlcGxhY2UpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3BhcnNlRmllbGRUZW1wbGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBQYXJzZSB0aGUgZGV0YWlscyBvZiBvdXIgb3duIHRlbXBsYXRlXG4gICAgICovXG4gICAgX3BhcnNlRmllbGRUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAgICAgICBzdXBlci5fcGFyc2VGaWVsZFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgICAgLy8gY3VzdG9taXplIHRoZSBsYWJlbCB0byB1c2UgZm9yIHRoZSBuZXcgYnV0dG9uXG4gICAgICAgIHRoaXMuX25ld0xhYmVsID0gdGVtcGxhdGUubmV3TGFiZWwgfHwgXCIrIEFkZCBOZXcgRWxlbWVudFwiO1xuICAgICAgICAvLyBkZXRlcm1pbmUgd2hldGhlciBjaGlsZHJlbiBjYW4gYmUgcmVhcnJhbmdlZFxuICAgICAgICB0aGlzLl9hbGxvd1Jlb3JkZXJpbmcgPSB0ZW1wbGF0ZS5hbGxvd1Jlb3JkZXJpbmc7XG4gICAgICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZCh0aGlzLl9hbGxvd1Jlb3JkZXJpbmcpKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZS5hbGxvd1Jlb3JkZXJpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkNyZWF0ZUVsZW1lbnRzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZSB0aGUgZWxlbWVudHMgZm9yIHRoZSBhcnJheVxuICAgICAqL1xuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICAvLyBzaG93IHRoZSB0aXRsZVxuICAgICAgICB0aGlzLl9jcmVhdGVDb2xsYXBzaWJsZVRpdGxlKCk7XG4gICAgICAgIC8vIGhhbmRsZSBzaG93aW5nIHRoZSBjaGlsZHJlblxuICAgICAgICB0aGlzLl9lbGVtcy5jaGlsZHJlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHsgY2xzOiBcImZvcm1DaGlsZHJlblwiLCBwYXJlbnQ6IHRoaXMuX2VsZW1zLmJhc2UgfSk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZU5ld0J1dHRvbigpO1xuICAgICAgICB0aGlzLl9jcmVhdGVTdHlsZXMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZU5ld0J1dHRvblxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBZGQgdGhlIGJ1dHRvbiB0byBjcmVhdGUgYSBuZXcgZW50cnkgaW50byBvdXIgYXJyYXlcbiAgICAgKi9cbiAgICBfY3JlYXRlTmV3QnV0dG9uKCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5uZXdCdXR0b24gPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwiYXJyYXlDaGlsZCBuZXdcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuX25ld0xhYmVsLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5jaGlsZHJlbkNvbnRhaW5lcixcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzOiB7XG4gICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsgdGhpcy5fY3JlYXRlTmV3Q2hpbGQoKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUNsb25lZEVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogY3JlYXRlIGEgY2xvbmVkIHZlcnNpb24gb2YgdGhpcyBlbGVtZW50XG4gICAgICovXG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JRCkge1xuICAgICAgICByZXR1cm4gbmV3IEFycmF5RmllbGQodGhpcy5faWQgKyBhcHBlbmRUb0lELCB0aGlzKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBIQU5ETEUgQ0hBTkdFU1xuICAgIC8qKlxuICAgICAqIF9vbkNoYW5nZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBhcnJheSBlbGVtZW50cyBhcmUgYWx3YXlzIHZhbGlkYXRlZCBhcyB0cnVlXG4gICAgICovXG4gICAgX2dldFZhbHVlRnJvbUZpZWxkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogdXBkYXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGhhbmRsZSB3aGVuIGFuIGV4dGVybmFsIGZvcmNlIG5lZWRzIHRvIHVwZGF0ZSB0aGUgZm9ybVxuICAgICAqL1xuICAgIHVwZGF0ZShkYXRhLCBhbGxvd0V2ZW50cykge1xuICAgICAgICAvLyBGaXJzdCBjbGVhciBvdXQgdGhlIGV4aXN0aW5nIGRhdGFcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAvLyBxdWl0IGlmIHRoZXJlJ3Mgbm8gb3RoZXIgZGF0YSB0byBhZGRcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVjcmVhdGUgdGhlIGNoaWxkcmVuXG4gICAgICAgIGRhdGEubWFwKChlbGVtKSA9PiB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLl9jcmVhdGVOZXdDaGlsZCgpO1xuICAgICAgICAgICAgY2hpbGQudXBkYXRlKGVsZW0sIGFsbG93RXZlbnRzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEFORExFIENISUxEUkVOXG4gICAgLyoqXG4gICAgICogX2NyZWF0ZU5ld0NoaWxkXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZSBhIG5ldyBjaGlsZCBlbGVtZW50IGluIHRoZSBhcnJheVxuICAgICAqL1xuICAgIF9jcmVhdGVOZXdDaGlsZCgpIHtcbiAgICAgICAgbGV0IGVsZW0gPSB0aGlzLl9nZW5lcmF0ZUNoaWxkRWxlbWVudCgpO1xuICAgICAgICB0aGlzLl9hZGROZXdDaGlsZExpc3RlbmVycyhlbGVtKTtcbiAgICAgICAgdGhpcy5fZmluYWxpemVOZXdDaGlsZChlbGVtKTtcbiAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9nZW5lcmF0ZUNoaWxkRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBnZW5lcmF0ZSBhIG5ldyBjaGlsZCBhcnJheSBlbGVtZW50XG4gICAgICovXG4gICAgX2dlbmVyYXRlQ2hpbGRFbGVtZW50KCkge1xuICAgICAgICBsZXQgaWR4ID0gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBsZXQgZWxlbTtcbiAgICAgICAgLy8gaWYgdGhpcyBpcyBhbHJlYWR5IGFuIGVsZW1lbnQsIGp1c3QgY2xvbmUgaXRcbiAgICAgICAgaWYgKF90eXBlZ3VhcmRzXzEuaXNBcnJheUNoaWxkRWxlbWVudCh0aGlzLl9jaGlsZFRlbXBsYXRlKSkge1xuICAgICAgICAgICAgZWxlbSA9IHRoaXMuX2Nsb25lRm9ybUVsZW1lbnQodGhpcy5fY2hpbGRUZW1wbGF0ZSwgdGhpcy5faWQgKyBcInxcIiArIGlkeC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgc3BpbiB1cCBhIG5ldyBjaGlsZCBhbHRvZ2V0aGVyXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtID0gbmV3IGFycmF5Q2hpbGRGaWVsZF8xLkFycmF5Q2hpbGRGaWVsZCh0aGlzLl9pZCArIFwifFwiICsgaWR4LnRvU3RyaW5nKCksIHRoaXMuX2NoaWxkVGVtcGxhdGUsIHsgYWxsb3dSZW9yZGVyaW5nOiB0aGlzLl9hbGxvd1Jlb3JkZXJpbmcgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9maW5hbGl6ZU5ld0NoaWxkXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGFkZCB0aGUgY3JlYXRlZCBjaGlsZCB0byBvdXIgc3R5bGUgbWFwIGFuZCBvdXIgY2hpbGRyZW5cbiAgICAgKi9cbiAgICBfZmluYWxpemVOZXdDaGlsZChlbGVtKSB7XG4gICAgICAgIHRoaXMuX2FwcGx5Q29sb3JzKGVsZW0pO1xuICAgICAgICB0aGlzLl9jaGlsZHJlbi5wdXNoKGVsZW0pO1xuICAgICAgICBnZW5lcmFsSGVscGVyc18xLnJlbW92ZUVsZW1lbnQodGhpcy5fZWxlbXMubmV3QnV0dG9uKTtcbiAgICAgICAgZWxlbS5kcmF3KHRoaXMuX2VsZW1zLmNoaWxkcmVuQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuY2hpbGRyZW5Db250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbXMubmV3QnV0dG9uKTtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4geyBlbGVtLmZvY3VzKCk7IH0sIDMwMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9hZGROZXdDaGlsZExpc3RlbmVyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBtYWtlIHN1cmUgdGhlIGNoaWxkIGhhcyB0aGUgYXBwcm9wcmlhdGUgbGlzdGVuZXJzXG4gICAgICovXG4gICAgX2FkZE5ld0NoaWxkTGlzdGVuZXJzKGNoaWxkKSB7XG4gICAgICAgIC8vIGhhbmRsZSB3aGVuIHRoZSBjaGlsZCBpcyByZWFycmFuZ2VkIGluIHRoZSBvcmRlclxuICAgICAgICBjaGlsZC5hZGRPcmRlcmluZ0xpc3RlbmVyKHRoaXMpO1xuICAgICAgICAvLyBoYW5kbGUgdGhlIGNoaWxkIHVwZGF0aW5nXG4gICAgICAgIGV2ZW50SGFuZGxlcl8xLmZvcm1FdmVudEhhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcihldmVudEhhbmRsZXJfMS5GT1JNX0VMRU1fQ0hBTkdFLCB7XG4gICAgICAgICAgICBmdW5jOiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gZXZlbnQuY29udGV4dC5rZXk7XG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gY2hpbGQuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUludGVybmFsRGF0YSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hDaGFuZ2VFdmVudChjaGlsZC5pZCk7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5pcXVlSWQ6IHRoaXMuaWQgKyBcInxcIiArIGNoaWxkLmlkLFxuICAgICAgICAgICAgdGFyZ2V0OiBjaGlsZFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3VwZGF0ZUludGVybmFsRGF0YVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBNYWtlIHN1cmUgd2UgYXJlIGF3YXJlIG9mIHRoZSBjb250ZW50cyBvZiBvdXIgY2hpbGRyZW5cbiAgICAgKi9cbiAgICBfdXBkYXRlSW50ZXJuYWxEYXRhKGludGVybmFsT25seSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBbXTtcbiAgICAgICAgICAgIGxldCBjbnQgPSAwO1xuICAgICAgICAgICAgbGV0IHAgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGVsZW0gb2YgdGhpcy5fY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBwLnB1c2godGhpcy5fdXBkYXRlSW50ZXJuYWxGaWVsZChlbGVtLCBkYXRhLCBpbnRlcm5hbE9ubHkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHlpZWxkIFByb21pc2UuYWxsKHApO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfdXBkYXRlSW50ZXJuYWxGaWVsZChlbGVtLCBkYXRhLCBpbnRlcm5hbE9ubHkpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChlbGVtKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjaGlsZERhdGEgPSB5aWVsZCBlbGVtLnNhdmUoaW50ZXJuYWxPbmx5KTtcbiAgICAgICAgICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChjaGlsZERhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YS5wdXNoKGNoaWxkRGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBPVkVSUklERSBTVEFOREFSRCBGVU5DVElPTlMgVEhBVCBORUVEIENVU1RPTSBMT0dJQ1xuICAgIC8qKlxuICAgICogc2F2ZVxuICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICogSGFuZGxlIHNhdmluZyB0aGUgc2VjdGlvblxuICAgICogQHBhcmFtICAgaW50ZXJuYWxPbmx5ICAgIElmIHRydWUsIGRvZXNuJ3QgZG8gYWxsIHRoZSB1cGRhdGluZyB0aGF0IHdvdWxkXG4gICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFwcGVuIG9uIGEgcmVhbCBzYXZlXG4gICAgKlxuICAgICogQHJldHVybnMgVGhlIGRhdGEgY29udGFpbmVkIGluIHRoaXMgc2VjdGlvbnMgY2hpbGQgZWxlbWVudHNcbiAgICAqL1xuICAgIHNhdmUoaW50ZXJuYWxPbmx5KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyBzYXZlIGFsbCBvZiB0aGUgY2hpbGQgZWxlbWVudHNcbiAgICAgICAgICAgIHRoaXMuX2RhdGEgPSB5aWVsZCB0aGlzLl91cGRhdGVJbnRlcm5hbERhdGEoaW50ZXJuYWxPbmx5KTtcbiAgICAgICAgICAgIC8vIHJldHVybiB0aGUgZGF0YSB0aGF0IHdhcyBjcmVhdGVkXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNhblNhdmVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBlbGVtZW50IGNhbiBzYXZlLCBiYXNlZCBvbiB3aGV0aGVyIGl0cyBjaGlsZHJlblxuICAgICAqIGhhdmUgZXJyb3JzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB3ZSBjYW4gc2F2ZSB0aGlzIGVsZW1lbnRcbiAgICAgKi9cbiAgICBjYW5TYXZlKCkge1xuICAgICAgICBsZXQgY2FuU2F2ZSA9IHtcbiAgICAgICAgICAgIGhhc0Vycm9yczogZmFsc2UsXG4gICAgICAgICAgICBoYXNNaXNzaW5nUmVxdWlyZWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIG5hdmlnYXRlXzEubWFwKHRoaXMuX2NoaWxkcmVuLCAoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIGxldCBjaGlsZENhblNhdmUgPSBjaGlsZC5jYW5TYXZlKCk7XG4gICAgICAgICAgICBjYW5TYXZlLmhhc0Vycm9ycyA9IGNhblNhdmUuaGFzRXJyb3JzIHx8IGNoaWxkQ2FuU2F2ZS5oYXNFcnJvcnM7XG4gICAgICAgICAgICBjYW5TYXZlLmhhc01pc3NpbmdSZXF1aXJlZCA9IGNhblNhdmUuaGFzTWlzc2luZ1JlcXVpcmVkIHx8IGNoaWxkQ2FuU2F2ZS5oYXNNaXNzaW5nUmVxdWlyZWQ7XG4gICAgICAgIH0sICgpID0+IHsgcmV0dXJuIGNhblNhdmUuaGFzRXJyb3JzICYmIGNhblNhdmUuaGFzTWlzc2luZ1JlcXVpcmVkOyB9KTtcbiAgICAgICAgcmV0dXJuIGNhblNhdmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkNsZWFyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGhhbmRsZSBjbGVhcmluZyBvdXQgdGhlIGFycmF5XG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1zLmNoaWxkcmVuQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIG9uQ2hhbmdlT3JkZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogTWFrZSBzdXJlIHdlIHJlc3BlY3QgdGhlIG5ldyBvcmRlciBvZiB0aGVzZVxuICAgICAqL1xuICAgIG9uQ2hhbmdlT3JkZXIoY2hpbGQsIGRpcmVjdGlvbiwgbW92ZVRvKSB7XG4gICAgICAgIC8vIHVwZGF0ZSBkYXRhIGFycmF5XG4gICAgICAgIGxldCBjdXJJZHg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jaGlsZHJlbltpXSA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBjdXJJZHggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBuZXh0SWR4ID0gZmFsc2V5XzEuaXNOdWxsT3JVbmRlZmluZWQobW92ZVRvKSA/IGN1cklkeCArIGRpcmVjdGlvbiA6IG1vdmVUbztcbiAgICAgICAgaWYgKG5leHRJZHggPCAwKSB7XG4gICAgICAgICAgICBuZXh0SWR4ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dElkeCA+PSB0aGlzLl9jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIG5leHRJZHggPSB0aGlzLl9jaGlsZHJlbi5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuLnNwbGljZShjdXJJZHgsIDEpO1xuICAgICAgICB0aGlzLl9jaGlsZHJlbi5zcGxpY2UobmV4dElkeCwgMCwgY2hpbGQpO1xuICAgICAgICAvLyB1cGRhdGUgVUkgYXJyYXlcbiAgICAgICAgbGV0IGNoaWxkRWxlbSA9IHRoaXMuX2VsZW1zLmNoaWxkcmVuQ29udGFpbmVyLmNoaWxkcmVuW2N1cklkeF07XG4gICAgICAgIGxldCBuZXh0U2libGluZyA9IHRoaXMuX2VsZW1zLmNoaWxkcmVuQ29udGFpbmVyLmNoaWxkcmVuW25leHRJZHggKyAoZGlyZWN0aW9uID09PSBfaW50ZXJmYWNlc18yLkRpcmVjdGlvblR5cGUuRk9SV0FSRCA/IDEgOiAwKV07XG4gICAgICAgIHRoaXMuX2VsZW1zLmNoaWxkcmVuQ29udGFpbmVyLnJlbW92ZUNoaWxkKGNoaWxkRWxlbSk7XG4gICAgICAgIGlmIChuZXh0U2libGluZykge1xuICAgICAgICAgICAgdGhpcy5fZWxlbXMuY2hpbGRyZW5Db250YWluZXIuaW5zZXJ0QmVmb3JlKGNoaWxkRWxlbSwgbmV4dFNpYmxpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZWxlbXMuY2hpbGRyZW5Db250YWluZXIuYXBwZW5kQ2hpbGQoY2hpbGRFbGVtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBmb2N1c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBHaXZlIGZvY3VzIHRvIHRoZSBmaXJzdCBmaWVsZCBpbiBvdXIgZmlyc3QgY2hpbGQgZWxlbWVudFxuICAgICAqL1xuICAgIGZvY3VzKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2NoaWxkcmVuKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5fY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGlsZC5mb2N1cygpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIEdFVCBFTEVNRU5UUyBBRlRFUiBDUkVBVElPTlxuICAgIGdldEZpZWxkKGlkKSB7XG4gICAgICAgIC8vIGZpcnN0IGNoZWNrIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAoaWQgPT09IHRoaXMuX2lkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGVuIGNoZWNrIGNoaWxkIGVsZW1lbnRzXG4gICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgIGZvciAobGV0IGMgb2YgdGhpcy5fY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCA9IGMuZ2V0RmllbGQoaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZXhwb3J0cy5BcnJheUZpZWxkID0gQXJyYXlGaWVsZDtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG5BcnJheUZpZWxkLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIua2lwRm9ybUVsZW0uYXJyYXlcIjoge1xuICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgIFwiPiAuZm9ybUNoaWxkcmVuXCI6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImdyaWRcIixcbiAgICAgICAgICAgICAgICBncmlkVGVtcGxhdGVDb2x1bW5zOiBcIjFmciAxZnIgMWZyXCIsXG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbkdhcDogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgZ3JpZFJvd0dhcDogXCIxMHB4XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIi5hcnJheSAuZm9ybUNoaWxkcmVuXCI6IHtcbiAgICAgICAgICAgICAgICBncmlkVGVtcGxhdGVDb2x1bW5zOiBcIjEwMCVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiJi5jb2xsYXBzZWRcIjoge1xuICAgICAgICAgICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgICAgICAgICBcIi5raXBCdG4ubmV3XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIuYXJyYXlDaGlsZC5uZXdcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggZGFzaGVkIDxmb3JtU3ViVGhlbWU+XCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBcIjAuNVwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjRkZGXCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMS4zZW1cIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIjxmb3JtU3ViVGhlbWU+XCIsXG4gICAgICAgICAgICAgICAgdXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgd2Via2l0VXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgTW96VXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgbXNVc2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgXCIubW9iaWxlICZcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiY2FsYygxMDAlIC0gMjBweClcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIiY6aG92ZXJcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogXCIxXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9maWxlUGF0aEZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2ZpbGVVcGxvYWRGaWVsZFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9waG90b1BhdGhGaWVsZFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9maWVsZF8xID0gcmVxdWlyZShcIi4uL19maWVsZFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBoZWxwZXJzXzEgPSByZXF1aXJlKFwiLi4vaGVscGVyc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyBGaWxlVXBsb2FkRmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGhhbmRsZSBmaWxlIHVwbG9hZHMgc3VjaCB0aGF0IHRoZXkgcmV0dXJuIGEgZmlsZSBsaXN0XG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4xXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIEZpbGVVcGxvYWRGaWVsZCBleHRlbmRzIF9maWVsZF8xLkZpZWxkIHtcbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBQUk9QRVJUSUVTXG4gICAgLyoqIHRyYWNrIHRoZSB0eXBlIG9mIGZvcm0gZWxlbWVudCB0aGlzIGlzICovXG4gICAgZ2V0IF90eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtLkZJTEVfVVBMT0FEOyB9XG4gICAgLyoqIGdpdmUgdGhpcyBmb3IgZWxlbWVudCBhIGRlZmF1bHQgQ1NTIGNsYXNzICovXG4gICAgZ2V0IF9kZWZhdWx0Q2xzKCkgeyByZXR1cm4gXCJmaWxlXCI7IH1cbiAgICAvKiogc2V0IGEgZGVmYXVsdCB2YWx1ZSBmb3IgdGhpcyBmb3JtIGVsZW1lbnQgdHlwZSAqL1xuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLyoqXG4gICAgICogX3BhcnNlRmllbGRUZW1wbGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBQYXJzZSB0aGUgZGV0YWlscyBvZiBob3cgdG8gcmVuZGVyIHRoaXMgZWxlbWVudFxuICAgICAqL1xuICAgIF9wYXJzZUZpZWxkVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgc3VwZXIuX3BhcnNlRmllbGRUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICAgIHRoaXMuX2F0dHIgPSB0ZW1wbGF0ZS5hdHRyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25DcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgY3JlYXRpbmcgZWxlbWVudHNcbiAgICAgKi9cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5fY3JlYXRlU3RhbmRhcmRMYWJlbCh0aGlzLl9lbGVtcy5iYXNlKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQgPSBoZWxwZXJzXzEuY3JlYXRlSW5wdXRFbGVtZW50KFwiXCIsIFwiXCIsIFwiZmlsZVwiLCB0aGlzLl9kYXRhLCBudWxsLCBudWxsLCB0aGlzLl9lbGVtcy5iYXNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uQ2hhbmdlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhhbmRsZSB3aGVuIHRoZSB1c2VyIGhhcyB1cGxvYWRlZCBhIGZpbGVcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBmaWxlIHBhc3NlcyB2YWxpZGF0aW9uXG4gICAgICovXG4gICAgX2dldFZhbHVlRnJvbUZpZWxkKCkge1xuICAgICAgICBsZXQgZmlsZXMgPSB0aGlzLl9lbGVtcy5pbnB1dC5maWxlcztcbiAgICAgICAgcmV0dXJuIGZpbGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlQ2xvbmVkRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgY2xvbmluZyB0aGlzIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gICBhcHBlbmRUb0lkICBUaGUgSUQgdG8gYXBwZW5kIHRvIHRoZSBjbG9uZWQgZWxlbWVudFxuICAgICAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIGNsb25lZCBlbGVtZW50XG4gICAgICovXG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JZCkge1xuICAgICAgICByZXR1cm4gbmV3IEZpbGVVcGxvYWRGaWVsZCh0aGlzLmlkICsgYXBwZW5kVG9JZCwgdGhpcyk7XG4gICAgfVxufVxuZXhwb3J0cy5GaWxlVXBsb2FkRmllbGQgPSBGaWxlVXBsb2FkRmllbGQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZmlsZVBhdGhGaWVsZF8xID0gcmVxdWlyZShcIi4vZmlsZVBhdGhGaWVsZFwiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi8uLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG5jb25zdCBoZWxwZXJzXzEgPSByZXF1aXJlKFwiLi4vaGVscGVyc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiogQGNsYXNzIFBob3RvUGF0aEZpZWxkXG4qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiogY3JlYXRlIGFuIGVsZW1lbnQgdG8gdXBsb2FkIHBob3Rvc1xuKiBAYXV0aG9yICBLaXAgUHJpY2VcbiogQHZlcnNpb24gMS4wLjBcbiogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cbmNsYXNzIFBob3RvUGF0aEZpZWxkIGV4dGVuZHMgZmlsZVBhdGhGaWVsZF8xLkZpbGVQYXRoRmllbGQge1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gUFJPUEVSVElFU1xuICAgIC8qKiBkZWZhdWx0IGNsYXNzIGZvciB0aGlzIGVsZW1lbnQgKi9cbiAgICBnZXQgX2RlZmF1bHRDbHMoKSB7IHJldHVybiBcInBob3RvcGF0aFwiOyB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDUkVBVEUgRUxFTUVOVFMgRk9SIFBIT1RPIFVQTE9BRFxuICAgIC8qKlxuICAgICAqIF9vbkNyZWF0ZUVsZW1lbnRzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhhbmRsZSBjcmVhdGluZyBlbGVtZW50cyBmb3IgdGhlIGZvcm0gZWxlbWVudFxuICAgICAqL1xuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5waG90b1dyYXBwZXIgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlU2ltcGxlRWxlbWVudChcIlwiLCBcInBob3RvV3JhcHBlclwiLCBcIlwiLCBudWxsLCBudWxsLCB0aGlzLl9lbGVtcy5iYXNlKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuZGlzcGxheSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIHR5cGU6IFwiaW1nXCIsXG4gICAgICAgICAgICBjbHM6IFwicGhvdG9cIixcbiAgICAgICAgICAgIGF0dHI6IHsgXCJzcmNcIjogdGhpcy5fZGF0YSB9LFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5waG90b1dyYXBwZXJcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGRyYXcgdGhlIHBob3RvIGVsZW1lbnRcbiAgICAgICAgdGhpcy5fZWxlbXMub3ZlcmxheSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwicGhvdG9PdmVybGF5XCIsIFwiXCIsIG51bGwsIG51bGwsIHRoaXMuX2VsZW1zLnBob3RvV3JhcHBlcik7XG4gICAgICAgIC8vIGhhbmRsZSBzZXR0aW5nIGEgbWFudWFsIGxpbmtcbiAgICAgICAgdGhpcy5fZWxlbXMubGlua0J0biA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwicGhvdG9CdG4gbGlua1wiLCBcIkNIQU5HRSBMSU5LXCIsIG51bGwsIG51bGwsIHRoaXMuX2VsZW1zLm92ZXJsYXkpO1xuICAgICAgICB0aGlzLl9lbGVtcy5saW5rQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgbGlua1VSTCA9IHdpbmRvdy5wcm9tcHQoXCJXaGF0IHNob3VsZCB0aGUgbGluayBiZSBzZXQgdG8/XCIsIHRoaXMuX2RhdGEpO1xuICAgICAgICAgICAgLy8gbm8gY2hhbmdlIG9yIGNhbmNlbDogZG9uJ3QgY29udGludWVcbiAgICAgICAgICAgIGlmIChsaW5rVVJMID09PSB0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZhbHNleV8xLmlzTnVsbE9yVW5kZWZpbmVkKGxpbmtVUkwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHNhdmUgb2ZmIHRoZSBsaW5rIGFuZCB1c2UgaXQgaW4gb3VyIGNoYW5nZSBmdW5jdGlvblxuICAgICAgICAgICAgdGhpcy5fdGVtcExpbmsgPSBsaW5rVVJMO1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlRXZlbnRGaXJlZCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gRHJhdyB0aGUgb3B0aW9uIGZvciBmaWxlIHVwbG9hZFxuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dCA9IGhlbHBlcnNfMS5jcmVhdGVJbnB1dEVsZW1lbnQodGhpcy5faWQgKyBcInxpbnB1dFwiLCBcInBob3RvSW5wdXRcIiwgXCJmaWxlXCIsIFwiXCIsIG51bGwsIG51bGwsIHRoaXMuX2VsZW1zLm92ZXJsYXkpO1xuICAgICAgICB0aGlzLl9lbGVtcy51cGxvYWRCdG4gPSBoZWxwZXJzXzEuY3JlYXRlTGFiZWxGb3JJbnB1dChcIlVQTE9BRFwiLCB0aGlzLl9pZCArIFwifGlucHV0XCIsIFwicGhvdG9CdG4gdXBsb2FkXCIsIHRoaXMuX2VsZW1zLm92ZXJsYXkpO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZUV2ZW50RmlyZWQoKTtcbiAgICAgICAgICAgIHRoaXMuX29uRmlsZVNlbGVjdGVkKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVDbG9uZWRFbGVtZW50XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEhhbmRsZSBjbG9uaW5nIHRoaXMgZWxlbWVudFxuICAgICAqIEBwYXJhbSAgIGFwcGVuZFRvSUQgIElmIHByb3ZpZGVkLCB0aGUgSUQgdG8gYXBwZW5kIHRvIHRoaXMgZWxlbWVudFxuICAgICAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIGNsb25lZCBlbGVtZW50XG4gICAgICovXG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JRCkge1xuICAgICAgICByZXR1cm4gbmV3IFBob3RvUGF0aEZpZWxkKHRoaXMuaWQgKyBhcHBlbmRUb0lELCB0aGlzLl9jb25maWcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogVXBkYXRlIHRoZSBkYXRhIHdpdGhpbiB0aGlzIGZvcm1cbiAgICAgKiBAcGFyYW0gICBkYXRhICAgIFRoZSBkZXRhaWxzIHRvIHVwZGF0ZSB0aGlzIGVsZW1lbnQgd2l0aFxuICAgICAqL1xuICAgIHVwZGF0ZShkYXRhLCBhbGxvd0V2ZW50cykge1xuICAgICAgICB0aGlzLl9maWxlcyA9IG51bGw7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgZGF0YSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuX2VsZW1zLmRpc3BsYXkuc3JjID0gZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29uRmlsZVNlbGVjdGVkXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGhhbmRsZSB3aGVuIGEgZmlsZSBpcyBzZWxlY3RlZFxuICAgICAqL1xuICAgIF9vbkZpbGVTZWxlY3RlZCgpIHtcbiAgICAgICAgbGV0IGZpbGU7XG4gICAgICAgIC8vIFF1aXQgZWFybHkgaWYgd2UgZG9uJ3QgaGF2ZSBhbnkgZmlsZXNcbiAgICAgICAgaWYgKCF0aGlzLl9maWxlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRyeSB0byBncmFiIHRoZSBmaXJzdCBmaWxlICYgcXVpdCBpZiB3ZSBjYW4ndFxuICAgICAgICBmaWxlID0gdGhpcy5fZmlsZXNbMF07XG4gICAgICAgIGlmICghZmlsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvYWQgdGhlIGltYWdlIGFzIGEgcHJldmlld1xuICAgICAgICB0aGlzLl9yZWFkRmlsZShmaWxlKVxuICAgICAgICAgICAgLnRoZW4oKHBob3RvVVJMKSA9PiB7IHRoaXMuX2VsZW1zLmRpc3BsYXkuc3JjID0gcGhvdG9VUkw7IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25MaW5rQ2hhbmdlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIG1hbmFnZSB3aGVuIHRoZSBkZXRhaWxzIG9mIHRoaXMgcGhvdG8gY2hhbmdlXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgbGluayB3YXMgY2hhbmdlZCBhcHByb3ByaWF0ZWx5XG4gICAgICovXG4gICAgX29uTGlua0NoYW5nZSgpIHtcbiAgICAgICAgbGV0IGxpbmsgPSBzdXBlci5fb25MaW5rQ2hhbmdlKCk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmRpc3BsYXkuc3JjID0gbGluaztcbiAgICAgICAgcmV0dXJuIGxpbms7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkNsZWFyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGhhbmRsZSBjbGVhcmluZyBkZXRhaWxzIHdpdGhpbiB0aGUgZmlsZSBzZWxlY3RvclxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9kYXRhID0gXCJcIjtcbiAgICAgICAgdGhpcy5fZWxlbXMuZGlzcGxheS5zcmMgPSBcIlwiOyAvLyByZXNldCB0aGUgcGhvdG9saW5rXG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNhdmVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQHBhcmFtICAgaW50ZXJuYWxPbmx5ICAgIElmIHRydWUsIHdlJ3JlIG9ubHkgc2F2aW5nIHRvIG91ciBvd24gZGF0YSBmaWVsZCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgbm90IGFuIGV4dGVybmFsIGNhbGxlcnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBmaWxlIHBhdGggdGhhdCBpcyBub3cgc2F2ZWRcbiAgICAgKi9cbiAgICBzYXZlKGludGVybmFsT25seSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKGludGVybmFsT25seSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgdGhpcyBpcyBhbiBpbnRlcm5hbCBjaGFuZ2VcbiAgICAgICAgICAgIGlmICh0aGlzLl9maWxlcyAmJiB0aGlzLl9vblNhdmVDYWxsYmFjaykgeyAvLyBNYWtlIHN1cmUgdGhhdCBpZiB3ZSBoYXZlIGZpbGVzLCB3ZSdyZSB1cGxvYWRpbmcgdGhlbVxuICAgICAgICAgICAgICAgIGxldCBibG9icyA9IHlpZWxkIHRoaXMuX3Jlc2l6ZUltYWdlcyh0aGlzLl9maWxlcyk7IC8vIHJlc2l6ZSBpbWFnZXMgYXMgYXBwcm9wcmlhdGVcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhID0geWllbGQgdGhpcy5fb25TYXZlQ2FsbGJhY2sodGhpcy5fZmlsZXMsIGJsb2JzKTsgLy8gUnVuIG91ciBjYWxsYmFja1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7IC8vIFJldHVybiB0aGUgYXBwcm9wcmlhdGUgZGF0YVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSEVMUEVSU1xuICAgIF9yZWFkRmlsZShmaWxlLCBkZWZlcikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmlsZVJlYWRlci5yZXN1bHQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9sb2FkSW1hZ2UoZGF0YVVybCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgaW1nLnNyYyA9IGRhdGFVcmw7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4geyByZXNvbHZlKGltZyk7IH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9yZW5kZXJPbkNhbnZhc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBnZW5lcmF0ZSB0aGUgZmlsZXMgb24gY2FudmFzLCBpbiBvcmRlciB0byByZXNpemUgdGhlbVxuICAgICAqL1xuICAgIF9yZW5kZXJPbkNhbnZhcyhpbWcpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBjdnMgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7IHR5cGU6IFwiY2FudmFzXCIgfSk7XG4gICAgICAgICAgICAvLyBzZXQgZGVmYXVsdCBjYW52YXMgc2l6ZVxuICAgICAgICAgICAgY3ZzLndpZHRoID0gdGhpcy5fY29uZmlnLm1heFNpemU7XG4gICAgICAgICAgICBjdnMuaGVpZ2h0ID0gdGhpcy5fY29uZmlnLm1heFNpemU7XG4gICAgICAgICAgICAvLyBhZGFwdCBjYW52YXMgdG8gaW1nIHNpemVcbiAgICAgICAgICAgIGlmIChpbWcud2lkdGggPiBpbWcuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgY3ZzLmhlaWdodCA9IChpbWcuaGVpZ2h0ICogdGhpcy5fY29uZmlnLm1heFNpemUpIC8gaW1nLndpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW1nLmhlaWdodCA+IGltZy53aWR0aCkge1xuICAgICAgICAgICAgICAgIGN2cy53aWR0aCA9IChpbWcud2lkdGggKiB0aGlzLl9jb25maWcubWF4U2l6ZSkgLyBpbWcuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVuZGVyIHRoZSBpbWFnZSBhdCB0aGlzIHNpemVcbiAgICAgICAgICAgIGxldCBjdHggPSBjdnMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIGN2cy53aWR0aCwgY3ZzLmhlaWdodCk7XG4gICAgICAgICAgICAvLyByZXR1cm4gdGhlIGNhbnZhcydzIGRhdGEgYXMgYSBmaWxlXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICBjdnMudG9CbG9iKChibG9iKSA9PiB7IHJlc29sdmUoYmxvYik7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfcmVzaXplSW1hZ2VzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHJlc2l6ZSBhbGwgaW1hZ2VzIGluY2x1ZGVkIGluIHRoaXMgaW1hZ2UgdXBsb2FkXG4gICAgICovXG4gICAgX3Jlc2l6ZUltYWdlcyhmaWxlcykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gcXVpdCBpZiB0aGVyZSBpcyBubyByZXNpemluZyB0byBkb1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jb25maWcubWF4U2l6ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG91dEZpbGVzID0gW107XG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggZWFjaCBmaWxlIGFuZCByZXNpemUgaXRcbiAgICAgICAgICAgIGZvciAobGV0IGZJZHggPSAwOyBmSWR4IDwgZmlsZXMubGVuZ3RoOyBmSWR4ICs9IDEpIHtcbiAgICAgICAgICAgICAgICBsZXQgYmxvYiA9IHlpZWxkIHRoaXMuX3Jlc2l6ZUltYWdlKGZpbGVzW2ZJZHhdLCBvdXRGaWxlcyk7XG4gICAgICAgICAgICAgICAgb3V0RmlsZXMucHVzaChibG9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJldHVybiB0aGUgcmVzaXplZCBpbWFnZXNcbiAgICAgICAgICAgIHJldHVybiBvdXRGaWxlcztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9yZXNpemVJbWFnZShmaWxlLCBvdXRGaWxlcykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGRhdGFVcmwgPSB5aWVsZCB0aGlzLl9yZWFkRmlsZShmaWxlKTtcbiAgICAgICAgICAgIGxldCBpbWcgPSB5aWVsZCB0aGlzLl9sb2FkSW1hZ2UoZGF0YVVybCk7XG4gICAgICAgICAgICBsZXQgYmxvYiA9IHlpZWxkIHRoaXMuX3JlbmRlck9uQ2FudmFzKGltZyk7XG4gICAgICAgICAgICByZXR1cm4gYmxvYjtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5QaG90b1BhdGhGaWVsZCA9IFBob3RvUGF0aEZpZWxkO1xuLy8uLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBTVFlMRVNcbi8qKiBzdHlsZSB0aGUgZWxlbWVudHMgZm9yIHRoaXMgZm9ybSBlbGVtZW50ICovXG5QaG90b1BhdGhGaWVsZC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLmtpcEZvcm1FbGVtLnBob3RvcGF0aCAucGhvdG9PdmVybGF5XCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoMCwwLDAsLjUpXCIsXG4gICAgICAgIG9wYWNpdHk6IFwiMFwiLFxuICAgICAgICB0cmFuc2l0aW9uOiBcIi4xcyBvcGFjaXR5IGVhc2UtaW4tb3V0XCIsXG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIGxlZnQ6IFwiMFwiLFxuICAgICAgICB0b3A6IFwiMFwiLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjEwMCVcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0ucGhvdG9wYXRoIC5waG90b1dyYXBwZXI6aG92ZXIgLnBob3RvT3ZlcmxheVwiOiB7XG4gICAgICAgIG9wYWNpdHk6IFwiMVwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5waG90b3BhdGggLnBob3RvV3JhcHBlclwiOiB7XG4gICAgICAgIHdpZHRoOiBcIjEwMHB4XCIsXG4gICAgICAgIGhlaWdodDogXCIxMDBweFwiLFxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiNTBweFwiLFxuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIDxmb3JtVGhlbWU+XCIsXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5waG90b3BhdGggLnBob3RvV3JhcHBlciBpbWdcIjoge1xuICAgICAgICB3aWR0aDogXCIxMDAlXCJcbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtLnBob3RvcGF0aCAucGhvdG9XcmFwcGVyIC5waG90b0J0blwiOiB7XG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIjxmb3JtVGhlbWU+XCIsXG4gICAgICAgIGNvbG9yOiBcIiNGRkZcIixcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBmb250U2l6ZTogXCIwLjdlbVwiLFxuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICBtYXJnaW5Ub3A6IFwiNnB4XCIsXG4gICAgICAgIG9wYWNpdHk6IFwiMC44XCJcbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtLnBob3RvcGF0aCAucGhvdG9XcmFwcGVyIC5waG90b0J0bjpob3ZlclwiOiB7XG4gICAgICAgIG9wYWNpdHk6IFwiMVwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5waG90b3BhdGggLnBob3RvV3JhcHBlciBpbnB1dFt0eXBlPSdmaWxlJ11cIjoge1xuICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9fZm9ybVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9lbWJlZGRlZEZvcm1cIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZnVsbFNjcmVlbkZvcm1cIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaW5saW5lRm9ybVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wb3B1cEZvcm1cIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfZm9ybV8xID0gcmVxdWlyZShcIi4vX2Zvcm1cIik7XG5jbGFzcyBFbWJlZGRlZEZvcm0gZXh0ZW5kcyBfZm9ybV8xLl9Gb3JtIHtcbn1cbmV4cG9ydHMuRW1iZWRkZWRGb3JtID0gRW1iZWRkZWRGb3JtO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfZm9ybV8xID0gcmVxdWlyZShcIi4vX2Zvcm1cIik7XG5jb25zdCBjc3NfMSA9IHJlcXVpcmUoXCIuLi8uLi9zdHlsZUhlbHBlcnMvY3NzXCIpO1xuY2xhc3MgRnVsbFNjcmVlbkZvcm0gZXh0ZW5kcyBfZm9ybV8xLl9Gb3JtIHtcbiAgICBfZ2V0VW5jb2xvcmVkU3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVyZ2VUaGVtZXMoRnVsbFNjcmVlbkZvcm0uX3VuY29sb3JlZFN0eWxlcywgX2Zvcm1fMS5fRm9ybS5fdW5jb2xvcmVkU3R5bGVzKTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBDUkVBVEUgRUxFTUVOVFNcbiAgICBfY3JlYXRlQmFzZSgpIHtcbiAgICAgICAgbGV0IG91dCA9IHN1cGVyLl9jcmVhdGVCYXNlKCk7XG4gICAgICAgIGNzc18xLmFkZENsYXNzKG91dCwgXCJmdWxsc2NyZWVuXCIpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbn1cbmV4cG9ydHMuRnVsbFNjcmVlbkZvcm0gPSBGdWxsU2NyZWVuRm9ybTtcbi8vLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG5GdWxsU2NyZWVuRm9ybS5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLmtpcEZvcm0uZnVsbHNjcmVlblwiOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgIGxlZnQ6IFwiMFwiLFxuICAgICAgICB0b3A6IFwiMFwiLFxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIjxmb3JtQmFja2dyb3VuZFRoZW1lPlwiLFxuICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgIFwiLmJhY2tncm91bmRcIjoge1xuICAgICAgICAgICAgICAgIG1heFdpZHRoOiBcIjEwMDBweFwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjRkZGXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjE1cHhcIixcbiAgICAgICAgICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIuc2VjdGlvbkhlYWRlckNvbnRhaW5lclwiOiB7XG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiLnNlY3Rpb25IZWFkZXJcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiLmNhcmV0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiNXB4XCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9mb3JtXzEgPSByZXF1aXJlKFwiLi9fZm9ybVwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uLy4uL3N0eWxlSGVscGVycy9jc3NcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdElubGluZUZvcm1cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHNwZWNpYWwgdHlwZSBvZiBmb3JtIHRoYXQgZG9lc24ndCByZW5kZXIgYnV0dG9ucywgYnV0IGluc3RlYWQgc2F2ZXNcbiAqIGV2ZXJ5dGltZSB0aGVyZSBpcyBhIGNoYW5nZVxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgSW5saW5lRm9ybSBleHRlbmRzIF9mb3JtXzEuX0Zvcm0ge1xuICAgIF9nZXRVbmNvbG9yZWRTdHlsZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXJnZVRoZW1lcyhJbmxpbmVGb3JtLl91bmNvbG9yZWRTdHlsZXMsIF9mb3JtXzEuX0Zvcm0uX3VuY29sb3JlZFN0eWxlcyk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgX2NyZWF0ZUJhc2UoKSB7XG4gICAgICAgIGxldCBvdXQgPSBzdXBlci5fY3JlYXRlQmFzZSgpO1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyhvdXQsIFwiaW5saW5lXCIpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBfY3JlYXRlUG9zdEZvcm0oKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBfb25Gb3JtQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5faXNGb3JtQ2hhbmdlRm9yTWUoZXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gYW55IGNoYW5nZSB3aXRoaW4gb3VyIGZvcm0gc2hvdWxkIGJlIHRyZWF0ZWQgYXMgYSBzYXZlIGZvciBcbiAgICAgICAgLy8gaW5saW5lIGZvcm1zXG4gICAgICAgIHRoaXMudHJ5U2F2ZSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuSW5saW5lRm9ybSA9IElubGluZUZvcm07XG4vLy4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuSW5saW5lRm9ybS5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLmtpcEZvcm0uaW5saW5lXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgXCIuZm9ybUNoaWxkcmVuLmZsZXggLmtpcEZvcm1FbGVtXCI6IHtcbiAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogXCIyMHB4XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2Zvcm1fMSA9IHJlcXVpcmUoXCIuL19mb3JtXCIpO1xuY29uc3QgY3NzXzEgPSByZXF1aXJlKFwiLi4vLi4vc3R5bGVIZWxwZXJzL2Nzc1wiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi8uLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY29uc3QgYXN5bmNfMSA9IHJlcXVpcmUoXCIuLi8uLi9hc3luY1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0UG9wdXBGb3JtXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBmb3JtIHRoYXQgcmVuZGVycyBhcyBhIHBvcHVwIGRpc3BsYXkgYXV0b21hdGljYWxseVxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvblx0MS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgUG9wdXBGb3JtIGV4dGVuZHMgX2Zvcm1fMS5fRm9ybSB7XG4gICAgX2dldFVuY29sb3JlZFN0eWxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlVGhlbWVzKFBvcHVwRm9ybS5fdW5jb2xvcmVkU3R5bGVzLCBfZm9ybV8xLl9Gb3JtLl91bmNvbG9yZWRTdHlsZXMpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIF9jcmVhdGVCYXNlKCkge1xuICAgICAgICBsZXQgb3V0ID0gc3VwZXIuX2NyZWF0ZUJhc2UoKTtcbiAgICAgICAgY3NzXzEuYWRkQ2xhc3Mob3V0LCBcInBvcHVwXCIpO1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyhvdXQsIFwiaGlkZGVuXCIpO1xuICAgICAgICB0aGlzLl9pc0hpZGRlbiA9IHRydWU7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIF9jcmVhdGVQcmVGb3JtKCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5vdmVybGF5ID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImZvcm1PdmVybGF5XCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLmJhc2UsXG4gICAgICAgIH0pO1xuICAgICAgICBzdXBlci5fY3JlYXRlUHJlRm9ybSgpO1xuICAgICAgICB0aGlzLl9lbGVtcy5jbG9zZUJ1dHRvbiA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJjbG9zZSBraXBCdG5cIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiJiN4MjcxNTtcIixcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzOiB7XG4gICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgYXN5bmNfMS53YWl0KDEwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cnlDYW5jZWwoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fY3JlYXRlVGl0bGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1zLm92ZXJsYXk7XG4gICAgfVxuICAgIF9jcmVhdGVUaXRsZSgpIHtcbiAgICAgICAgY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcInRpdGxlQmFyXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHsgY2xzOiBcImZvcm1UaXRsZVwiLCBjb250ZW50OiB0aGlzLl9jb25maWcuaGlkZVRpdGxlID8gXCJcIiA6IHRoaXMuX2NvbmZpZy5sYWJlbCB9LFxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1zLmNsb3NlQnV0dG9uXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYWNrZ3JvdW5kXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgY2hpbGQgZG9lc24ndCByZW5kZXIgdGhlIHRpdGxlXG4gICAgICAgIHRoaXMuX2NvbmZpZy5oaWRlVGl0bGUgPSB0cnVlO1xuICAgIH1cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBTQVZJTkcgQU5EIENBTkNFTElOR1xuICAgIHRyeVNhdmUoKSB7XG4gICAgICAgIGNvbnN0IF9zdXBlciA9IE9iamVjdC5jcmVhdGUobnVsbCwge1xuICAgICAgICAgICAgdHJ5U2F2ZTogeyBnZXQ6ICgpID0+IHN1cGVyLnRyeVNhdmUgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBvdXQgPSBfc3VwZXIudHJ5U2F2ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdHJ5Q2FuY2VsKGlnbm9yZVVuc2F2ZWRDaGFuZ2VzKSB7XG4gICAgICAgIGxldCBvdXQgPSBzdXBlci50cnlDYW5jZWwoKTtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gSE9XIE9SIEhJREUgRk9STVxuICAgIC8qKlxuICAgICogc2hvd1xuICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICogc2hvdyB0aGUgZm9ybSBvbiB0aGUgYXBwcm9wcmlhdGUgcGFyZW50IGlmIGl0IHN0eWxlZCBhIGFzIGEgcG9wdXBcbiAgICAqL1xuICAgIHNob3coKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNIaWRkZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcImhpZGRlblwiKTtcbiAgICAgICAgdGhpcy5faXNIaWRkZW4gPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogaGlkZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBoaWRlIHRoZSBmb3JtIGlmIGl0IGlzIHN0eWxlZCBhcyBhIHBvcHVwXG4gICAgICovXG4gICAgaGlkZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzSGlkZGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJoaWRkZW5cIik7XG4gICAgICAgIHRoaXMuX2lzSGlkZGVuID0gdHJ1ZTtcbiAgICB9XG59XG5leHBvcnRzLlBvcHVwRm9ybSA9IFBvcHVwRm9ybTtcbi8vLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG5Qb3B1cEZvcm0uX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi5raXBGb3JtLnBvcHVwXCI6IHtcbiAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICAgICAgbGVmdDogXCIwXCIsXG4gICAgICAgIHRvcDogXCIwXCIsXG4gICAgICAgIG1hcmdpbjogXCIwXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMFwiLFxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICBcIiYuaGlkZGVuXCI6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLmZvcm1PdmVybGF5XCI6IHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIHRvcDogXCIwXCIsXG4gICAgICAgICAgICAgICAgbGVmdDogXCIwXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoMCwwLDAsLjYpXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIuYmFja2dyb3VuZFwiOiB7XG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBcIjFweCAxcHggOHB4IDNweCByZ2JhKDAsMCwwLC4yKVwiLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIzcHhcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI0ZGRlwiLFxuICAgICAgICAgICAgICAgIG1pbldpZHRoOiBcIjQwJVwiLFxuICAgICAgICAgICAgICAgIG1heFdpZHRoOiBcIjkwJVwiLFxuICAgICAgICAgICAgICAgIG1heEhlaWdodDogXCI5MCVcIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiLnRpdGxlQmFyLCAua2lwQnRuc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCI8Zm9ybVN1YlRoZW1lPlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI0ZGRlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIzcHggMjBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIi5jbG9zZS5raXBCdG5cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMS41ZW1cIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIi5mb3JtVGl0bGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmxleEdyb3c6IFwiMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMS41ZW1cIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIi5mb3JtQ29udGVudFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIxNXB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogXCIxMDAwcHhcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIi5raXBCdG5zIC5raXBCdG5cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNGRkZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI0ZGRlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmVzdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCImLnByaW1hcnlcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxLjJlbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jaGVja2JveEZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvbG9yRmllbGRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZGF0ZUZpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2RhdGVUaW1lRmllbGRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaGlkZGVuRmllbGRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vbnVtYmVyRmllbGRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vb2JqZWN0U2VsZWN0RmllbGRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcGFzc3dvcmRGaWVsZFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wZXJjZW50YWdlRmllbGRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc2VsZWN0RmllbGRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdGV4dEFyZWFGaWVsZFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90ZXh0RmllbGRcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdGltZUZpZWxkXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IGhlbHBlcnNfMSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uLy4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qIEBjbGFzcyBDaGVja2JveEZpZWxkXG4qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiogY3JlYXRlIGEgY2hlY2tib3ggZm9ybSBlbGVtZW50XG4qIEBhdXRob3IgIEtpcCBQcmljZVxuKiBAdmVyc2lvbiAxLjAuMVxuKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuY2xhc3MgQ2hlY2tib3hGaWVsZCBleHRlbmRzIF9maWVsZF8xLkZpZWxkIHtcbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBQUk9QRVJUSUVTXG4gICAgZ2V0IF90eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtLkNIRUNLQk9YOyB9XG4gICAgZ2V0IF9kZWZhdWx0VmFsdWUoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBfZGVmYXVsdENscygpIHsgcmV0dXJuIFwiY2hlY2tcIjsgfVxuICAgIGdldCBfZGVmYXVsdExheW91dCgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRm9ybUVsZW1lbnRMYXlvdXRFbnVtLkxBQkVMX0FGVEVSOyB9XG4gICAgX2dldFVuY29sb3JlZFN0eWxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlVGhlbWVzKENoZWNrYm94RmllbGQuX3VuY29sb3JlZFN0eWxlcywgX2ZpZWxkXzEuRmllbGQuX3VuY29sb3JlZFN0eWxlcyk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLyoqIGNyZWF0ZSB0aGUgY2hlY2sgZWxlbWVudHMgKi9cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5fY3JlYXRlU3RhbmRhcmRJbnB1dCgpO1xuICAgICAgICAvLyBDcmVhdGUgdGhlIGN1c3RvbSBVSSBmb3IgdGhlIGNoZWNrYm94XG4gICAgICAgIHRoaXMuX2VsZW1zLmxibCA9IGhlbHBlcnNfMS5jcmVhdGVMYWJlbEZvcklucHV0KFwiXCIsIHRoaXMuX2lkICsgXCJ8aW5wdXRcIiwgXCJcIiwgdGhpcy5fZWxlbXMuYmFzZSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0Qm94ID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImlucHV0Qm94XCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLmxibCxcbiAgICAgICAgICAgIGF0dHI6IHsgdGFiaW5kZXg6IDAgfSxcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzOiB7XG4gICAgICAgICAgICAgICAga2V5cHJlc3M6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSAhPT0gMTMgJiYgZXZlbnQua2V5Q29kZSAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC5jaGVja2VkID0gIXRoaXMuX2VsZW1zLmlucHV0LmNoZWNrZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXRJbm5lckJveCA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJpbm5lcklucHV0Qm94XCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLmlucHV0Qm94XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbm5lckxibCA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwiaW5uZXJMYmxcIiwgdGhpcy5fY29uZmlnLmxhYmVsLCBudWxsLCBudWxsLCB0aGlzLl9lbGVtcy5sYmwpO1xuICAgICAgICB0aGlzLl9oYW5kbGVTdGFuZGFyZExheW91dCgpO1xuICAgIH1cbiAgICAvKiogaGFuZGxlIHdoZW4gdGhlIGNoZWNrYm94IGlzIGNsaWNrZWQgKi9cbiAgICBfZ2V0VmFsdWVGcm9tRmllbGQoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2VsZW1zLmlucHV0LmNoZWNrZWQ7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUNsb25lZEVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjbG9uZSB0aGUgYXBwcm9wcmlhdGUgZWxlbWVudFxuICAgICAqL1xuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGVja2JveEZpZWxkKHRoaXMuX2lkICsgYXBwZW5kVG9JRCwgdGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHVwZGF0ZSB0aGUgY29udGVudHMgb2YgdGhlIGVsZW1lbnRcbiAgICAgKiAqL1xuICAgIHVwZGF0ZShkYXRhLCBhbGxvd0V2ZW50cykge1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQuY2hlY2tlZCA9IGRhdGE7XG4gICAgfVxufVxuZXhwb3J0cy5DaGVja2JveEZpZWxkID0gQ2hlY2tib3hGaWVsZDtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gU1RZTEVTXG5DaGVja2JveEZpZWxkLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgJy5raXBGb3JtRWxlbSBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nOiB7XG4gICAgICAgIGRpc3BsYXk6IFwibm9uZVwiLFxuICAgICAgICB6b29tOiBcIjEuNVwiLFxuICAgICAgICB3aWR0aDogXCIxOHB4XCIsXG4gICAgICAgIGhlaWdodDogXCIxOHB4XCIsXG4gICAgICAgIG1hcmdpbjogXCIwXCIsXG4gICAgICAgIG1hcmdpblJpZ2h0OiBcIjVweFwiLFxuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIDxmb3JtVGhlbWU+XCJcbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtIGlucHV0W3R5cGU9J2NoZWNrYm94J10gKyBsYWJlbFwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiXG4gICAgfSxcbiAgICAnLmtpcEZvcm1FbGVtIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXSArIGxhYmVsIC5pbnB1dEJveCc6IHtcbiAgICAgICAgd2lkdGg6IFwiMThweFwiLFxuICAgICAgICBoZWlnaHQ6IFwiMThweFwiLFxuICAgICAgICBtYXJnaW46IFwiMFwiLFxuICAgICAgICBtYXJnaW5SaWdodDogXCI1cHhcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCA8Zm9ybVRoZW1lPlwiLFxuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICBib3hTaXppbmc6IFwiY29udGVudC1ib3hcIixcbiAgICAgICAgZmxleFNocmluazogXCIwXCIsXG4gICAgICAgIG1hcmdpblRvcDogXCI0cHhcIlxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0gaW5wdXRbdHlwZT0nY2hlY2tib3gnXSArIGxhYmVsIC5pbnB1dEJveCAuaW5uZXJJbnB1dEJveFwiOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgIHdpZHRoOiBcIjBcIixcbiAgICAgICAgaGVpZ2h0OiBcIjBcIixcbiAgICAgICAgbGVmdDogXCI5cHhcIixcbiAgICAgICAgdG9wOiBcIjlweFwiLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiPGZvcm1UaGVtZT5cIixcbiAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgZWFzZS1pbi1vdXQgLjFzXCJcbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtIGlucHV0W3R5cGU9J2NoZWNrYm94J106Y2hlY2tlZCArIGxhYmVsIC5pbnB1dEJveCAuaW5uZXJJbnB1dEJveCwgLmtpcEZvcm1FbGVtIGlucHV0W3R5cGU9J2NoZWNrYm94J106Y2hlY2tlZCArIGxhYmVsOmhvdmVyIC5pbnB1dEJveCAuaW5uZXJJbnB1dEJveFwiOiB7XG4gICAgICAgIGxlZnQ6IFwiMnB4XCIsXG4gICAgICAgIHRvcDogXCIycHhcIixcbiAgICAgICAgd2lkdGg6IFwiMTRweFwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTRweFwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbSBpbnB1dFt0eXBlPSdjaGVja2JveCddICsgbGFiZWw6aG92ZXIgLmlucHV0Qm94IC5pbm5lcklucHV0Qm94XCI6IHtcbiAgICAgICAgbGVmdDogXCI0cHhcIixcbiAgICAgICAgdG9wOiBcIjRweFwiLFxuICAgICAgICB3aWR0aDogXCIxMHB4XCIsXG4gICAgICAgIGhlaWdodDogXCIxMHB4XCIsXG4gICAgICAgIG9wYWNpdHk6IFwiMC43XCJcbiAgICB9LFxuICAgIFwiLmtpcEZvcm1FbGVtLmNoZWNrIGlucHV0W3R5cGU9J2NoZWNrYm94J10gKyBsYWJlbCAuaW5uZXJMYmxcIjoge1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjAuOWVtXCIsXG4gICAgICAgIHBhZGRpbmdUb3A6IFwiM3B4XCJcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfZmllbGRfMSA9IHJlcXVpcmUoXCIuLi9fZmllbGRcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL19pbnRlcmZhY2VzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgQ29sb3JGaWVsZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlcyBhIGZvcm0gZWxlbWVudCBmb3IgY29sbGVjdGluZyBjb2xvcnNcbiAqIEB2ZXJzaW9uIDEuMC4xXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgQ29sb3JGaWVsZCBleHRlbmRzIF9maWVsZF8xLkZpZWxkIHtcbiAgICAvKiogdHlwZSBvZiBlbGVtZW50ICovXG4gICAgZ2V0IF90eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtLkNPTE9SOyB9XG4gICAgLyoqIGRlZmF1bHQgdmFsdWUgdG8gdXNlICovXG4gICAgZ2V0IF9kZWZhdWx0VmFsdWUoKSB7IHJldHVybiBcIiMwMDAwMDBcIjsgfVxuICAgIC8qKiBkZWZhdWx0IENTUyBjbGFzcyB0byB1c2UgKi9cbiAgICBnZXQgX2RlZmF1bHRDbHMoKSB7IHJldHVybiBcImNvbG9yXCI7IH1cbiAgICAvKipcbiAgICAgKiBfb25DcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgZWxlbWVudHMgZm9yIHRoaXMgZm9ybSBlbGVtZW50XG4gICAgICovXG4gICAgX29uQ3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVN0YW5kYXJkTGFiZWxlZElucHV0KCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZVN0YW5kYXJkTGF5b3V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkNoYW5nZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBIYW5kbGUgdGhlIGNoYW5nZSBldmVudCBmb3IgdGhpcyBpbnB1dFxuICAgICAqL1xuICAgIF9nZXRWYWx1ZUZyb21GaWVsZCgpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5fZWxlbXMuaW5wdXQudmFsdWU7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUNsb25lZEVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ2xvbmUgdGhpcyBlbGVtZW50XG4gICAgICogQHBhcmFtICAgYXBwZW5kVG9JRCAgQWRkaXRpb25hbCBJRCBwaWVjZSB0byB1c2VcbiAgICAgKi9cbiAgICBfY3JlYXRlQ2xvbmVkRWxlbWVudChhcHBlbmRUb0lEKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3JGaWVsZCh0aGlzLl9pZCArIGFwcGVuZFRvSUQsIHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29sb3JGaWVsZCA9IENvbG9yRmllbGQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9maWVsZF8xID0gcmVxdWlyZShcIi4uL19maWVsZFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBkYXRlc18xID0gcmVxdWlyZShcIi4uLy4uL3ByaW1pdGl2ZUhlbHBlcnMvZGF0ZXNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qIEBjbGFzcyBEYXRlRmllbGRcbiogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKiBjcmVhdGUgYSBkYXRlIGVsZW1lbnQgZm9yIGEgZm9ybVxuKiBAYXV0aG9yICBLaXAgUHJpY2VcbiogQHZlcnNpb24gMS4wLjFcbiogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuKi9cbmNsYXNzIERhdGVGaWVsZCBleHRlbmRzIF9maWVsZF8xLkZpZWxkIHtcbiAgICBnZXQgX3R5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkZpZWxkVHlwZUVudW0uREFURTsgfVxuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIGdldCBfZGVmYXVsdENscygpIHsgcmV0dXJuIFwiZGF0ZVwiOyB9XG4gICAgLyoqIGNyZWF0ZSB0aGUgZGlzcGxheSBmb3IgdGhlIGRhdGUgZWxlbWVudCAqL1xuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9jcmVhdGVTdGFuZGFyZExhYmVsZWRJbnB1dCgpO1xuICAgICAgICB0aGlzLl9oYW5kbGVTdGFuZGFyZExheW91dCgpO1xuICAgIH1cbiAgICBfZ2V0VmFsdWVGcm9tRmllbGQoKSB7XG4gICAgICAgIC8vIGZpcnN0IGNvbnZlcnQgdGhlIHN0cmluZyB2YWx1ZSB0byBhIGRhdGVcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5fZWxlbXMuaW5wdXQudmFsdWU7XG4gICAgICAgIGxldCBkYXRlVmFsdWUgPSBkYXRlc18xLmlucHV0VG9EYXRlKHZhbHVlKTtcbiAgICAgICAgLy8gcnVuIHN0YW5kYXJkIHZhbGlkYXRpb25zXG4gICAgICAgIHJldHVybiBkYXRlVmFsdWU7XG4gICAgfVxuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlRmllbGQodGhpcy5faWQgKyBhcHBlbmRUb0lELCB0aGlzKTtcbiAgICB9XG4gICAgdXBkYXRlKGRhdGEsIGFsbG93RXZlbnRzKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICBpZiAoIXRoaXMuX2VsZW1zLmlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWxlbXMuaW5wdXQudmFsdWUgPSBkYXRlc18xLmlucHV0RGF0ZUZtdChkYXRhKTtcbiAgICB9XG4gICAgX3Rlc3RFcXVhbGl0eShuZXdEYXRlKSB7XG4gICAgICAgIHJldHVybiAoZGF0ZXNfMS5kYXRlRGlmZihuZXdEYXRlLCB0aGlzLl9kYXRhKSA9PT0gMCk7XG4gICAgfVxufVxuZXhwb3J0cy5EYXRlRmllbGQgPSBEYXRlRmllbGQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9maWVsZF8xID0gcmVxdWlyZShcIi4uL19maWVsZFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbmNvbnN0IGhlbHBlcnNfMSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzXCIpO1xuY29uc3QgZGF0ZXNfMSA9IHJlcXVpcmUoXCIuLi8uLi9wcmltaXRpdmVIZWxwZXJzL2RhdGVzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIERhdGVUaW1lRmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNyZWF0ZSBhbiBlbGVtZW50IHRvIGNvbGxlY3QgZGF0ZSBhbmQgdGltZSBmb3IgYSBmb3JtXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4xXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIERhdGVUaW1lRmllbGQgZXh0ZW5kcyBfZmllbGRfMS5GaWVsZCB7XG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gUFJPUEVSVElFU1xuICAgIGdldCBfdHlwZSgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRmllbGRUeXBlRW51bS5EQVRFX1RJTUU7IH1cbiAgICBnZXQgX2RlZmF1bHRWYWx1ZSgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBnZXQgX2RlZmF1bHRDbHMoKSB7IHJldHVybiBcImRhdGVUaW1lXCI7IH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9jcmVhdGVTdGFuZGFyZExhYmVsKHRoaXMuX2VsZW1zLmJhc2UpO1xuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dFdyYXBwZXIgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlU2ltcGxlRWxlbWVudChcIlwiLCBcImlucHV0c1wiLCBcIlwiLCBudWxsLCBudWxsLCB0aGlzLl9lbGVtcy5iYXNlKTtcbiAgICAgICAgLy8gZHJhdyB0aGUgZGF0ZVxuICAgICAgICBsZXQgZGF0ZVdyYXBwZXIgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7IGNsczogXCJkYXRlV3JhcHBlclwiLCBwYXJlbnQ6IHRoaXMuX2VsZW1zLmlucHV0V3JhcHBlciB9KTtcbiAgICAgICAgbGV0IGRhdGVMYmwgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlU2ltcGxlRWxlbWVudChcIlwiLCBcImxibFwiLCBcIkRhdGU6IFwiLCBudWxsLCBudWxsLCBkYXRlV3JhcHBlcik7XG4gICAgICAgIHRoaXMuX2VsZW1zLmRhdGVJbnB1dCA9IGhlbHBlcnNfMS5jcmVhdGVJbnB1dEVsZW1lbnQoXCJcIiwgXCJkYXRlSW5wdXRcIiwgXCJkYXRlXCIsIHRoaXMuX2RhdGEsIG51bGwsIG51bGwsIGRhdGVXcmFwcGVyKTtcbiAgICAgICAgdGhpcy5fZWxlbXMuZGF0ZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlRXZlbnRGaXJlZCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gZHJhdyB0aGUgdGltZVxuICAgICAgICBsZXQgdGltZVZhbCA9ICh0aGlzLl9kYXRhID8gZGF0ZXNfMS5zaG9ydFRpbWUodGhpcy5fZGF0YSkgOiBcIlwiKTtcbiAgICAgICAgbGV0IHRpbWVXcmFwcGVyID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoeyBjbHM6IFwidGltZVdyYXBwZXJcIiwgcGFyZW50OiB0aGlzLl9lbGVtcy5pbnB1dFdyYXBwZXIgfSk7XG4gICAgICAgIGxldCB0aW1lTGJsID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZVNpbXBsZUVsZW1lbnQoXCJcIiwgXCJsYmxcIiwgXCJUaW1lOiBcIiwgbnVsbCwgbnVsbCwgdGltZVdyYXBwZXIpO1xuICAgICAgICB0aGlzLl9lbGVtcy50aW1lSW5wdXQgPSBoZWxwZXJzXzEuY3JlYXRlSW5wdXRFbGVtZW50KFwiXCIsIFwidGltZUlucHV0XCIsIFwidGltZVwiLCB0aW1lVmFsLCBudWxsLCBudWxsLCB0aW1lV3JhcHBlcik7XG4gICAgICAgIHRoaXMuX2VsZW1zLnRpbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZUV2ZW50RmlyZWQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9nZXRWYWx1ZUZyb21GaWVsZCgpIHtcbiAgICAgICAgbGV0IHRpbWVTdHIgPSB0aGlzLl9lbGVtcy50aW1lSW5wdXQudmFsdWU7XG4gICAgICAgIGxldCBkYXRlU3RyID0gdGhpcy5fZWxlbXMuZGF0ZUlucHV0LnZhbHVlO1xuICAgICAgICBsZXQgZGF0ZSA9IGRhdGVzXzEuaW5wdXRUb0RhdGUoZGF0ZVN0ciwgdGltZVN0cik7XG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cbiAgICBfY3JlYXRlQ2xvbmVkRWxlbWVudChhcHBlbmRUb0lEKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZVRpbWVGaWVsZCh0aGlzLl9pZCArIGFwcGVuZFRvSUQsIHRoaXMpO1xuICAgIH1cbiAgICB1cGRhdGUoZGF0YSwgYWxsb3dFdmVudHMpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgaWYgKCF0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2VsZW1zLmRhdGVJbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbXMuZGF0ZUlucHV0LnZhbHVlID0gZGF0ZXNfMS5pbnB1dERhdGVGbXQoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2VsZW1zLnRpbWVJbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbXMudGltZUlucHV0LnZhbHVlID0gZGF0ZXNfMS5pbnB1dFRpbWVGbXQoZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkRhdGVUaW1lRmllbGQgPSBEYXRlVGltZUZpZWxkO1xuLy8jZW5kcmVnaW9uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBTVFlMRVNcbkRhdGVUaW1lRmllbGQuX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi5raXBGb3JtRWxlbS5kYXRlVGltZSAuaW5wdXRzXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgZmxleFdyYXA6IFwid3JhcFwiLFxuICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgIFwiLmRhdGVXcmFwcGVyXCI6IHtcbiAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogXCIxMHB4XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCIua2lwRm9ybUVsZW0uZGF0ZVRpbWUgLmlucHV0cyBpbnB1dFwiOiB7XG4gICAgICAgIG1hcmdpblJpZ2h0OiBcIjIwcHhcIixcbiAgICAgICAgZmxleEdyb3c6IFwiMVwiLFxuICAgICAgICBtaW5XaWR0aDogXCIxNTBweFwiXG4gICAgfSxcbiAgICBcIi5raXBGb3JtRWxlbS5kYXRlVGltZSAuaW5wdXRzIC5sYmxcIjoge1xuICAgICAgICBmbGV4U2hyaW5rOiBcIjFcIixcbiAgICAgICAgbWF4V2lkdGg6IFwiNTBweFwiLFxuICAgICAgICBtYXJnaW5Ub3A6IFwiNHB4XCJcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IF9maWVsZF8xID0gcmVxdWlyZShcIi4uL19maWVsZFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vX2ludGVyZmFjZXNcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgSGlkZGVuRmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGhhbmRsZSBhIGRhdGEgZWxlbWVudCB0aGF0IHdpbGwgYmUgc2V0LCBidXQgbm90IGRpc3BsYXllZCB0byB0aGUgdXNlclxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBIaWRkZW5GaWVsZCBleHRlbmRzIF9maWVsZF8xLkZpZWxkIHtcbiAgICBnZXQgX3R5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkZpZWxkVHlwZUVudW0uSElEREVOOyB9XG4gICAgZ2V0IF9kZWZhdWx0Q2xzKCkgeyByZXR1cm4gXCJoaWRkZW5cIjsgfVxuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkgeyB9XG4gICAgX2dldFZhbHVlRnJvbUZpZWxkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICB9XG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JRCkge1xuICAgICAgICByZXR1cm4gbmV3IEhpZGRlbkZpZWxkKHRoaXMuaWQgKyBhcHBlbmRUb0lELCB0aGlzKTtcbiAgICB9XG4gICAgc2F2ZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkhpZGRlbkZpZWxkID0gSGlkZGVuRmllbGQ7XG5IaWRkZW5GaWVsZC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwia2lwRm9ybUVsZW0uaGlkZGVuXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgaGVscGVyc18xID0gcmVxdWlyZShcIi4uL2hlbHBlcnNcIik7XG5jb25zdCBuYXZpZ2F0ZV8xID0gcmVxdWlyZShcIi4uLy4uL29iamVjdEhlbHBlcnMvbmF2aWdhdGVcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgT2JqZWN0U2VsZWN0RmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNyZWF0ZSBhIGRyb3Bkb3duIGZvciBhIGZvcm1cbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjFcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgT2JqZWN0U2VsZWN0RmllbGQgZXh0ZW5kcyBfZmllbGRfMS5GaWVsZCB7XG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLyNyZWdpb24gUFJPUEVSVElFU1xuICAgIGdldCBfdHlwZSgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRmllbGRUeXBlRW51bS5TRUxFQ1Q7IH1cbiAgICBnZXQgX2RlZmF1bHRWYWx1ZSgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBnZXQgX2RlZmF1bHRDbHMoKSB7IHJldHVybiBcInNlbGVjdFwiOyB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvKipcbiAgICAgKiBfcGFyc2VGaWVsZFRlbXBsYXRlXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEdldCBhZGRpdGlvbmFsIGRldGFpbHMgYWJvdXQgaG93IHRoaXMgc2VsZWN0IGZpZWxkIHNob3VsZCBiZSBzZXQgdXBcbiAgICAgKi9cbiAgICBfcGFyc2VGaWVsZFRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAgIHN1cGVyLl9wYXJzZUZpZWxkVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgICAvLyBwYXJzZSBvcHRpb25zIGludG8gYW4gYXJyYXkgaW5zdGVhZCBvZiBhIGRpY3Rpb25hcnlcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IFtdO1xuICAgICAgICBuYXZpZ2F0ZV8xLm1hcCh0ZW1wbGF0ZS5vcHRpb25zLCAob2JqLCBkaXNwbGF5KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGRpc3BsYXksXG4gICAgICAgICAgICAgICAgdmFsdWU6IG9ialxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25DcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIGVsZW1lbnRzIG5lZWRlZCBmb3IgdGhlIHNlbGVjdCBmaWVsZFxuICAgICAqL1xuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICAvLyBtYXAgdGhlIG9iamVjdHMgdG8gdGhlIGluZGV4IGluIHdoaWNoIHRoZXkgYXJlIHN0b3JlZFxuICAgICAgICBsZXQgc2xpbU9wdGlvbnMgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgb0lkeCA9IDA7IG9JZHggPCB0aGlzLl9vcHRpb25zLmxlbmd0aDsgb0lkeCArPSAxKSB7XG4gICAgICAgICAgICBsZXQgbyA9IHRoaXMuX29wdGlvbnNbb0lkeF07XG4gICAgICAgICAgICBzbGltT3B0aW9uc1tvSWR4XSA9IG8uZGlzcGxheTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjcmVhdGUgYSBzdGFuZGFyZCBzZWxlY3QgZWxlbWVudFxuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dCA9IGhlbHBlcnNfMS5jcmVhdGVTZWxlY3RFbGVtZW50KHRoaXMuX2lkLCBcImlucHV0XCIsIHNsaW1PcHRpb25zKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlU3RhbmRhcmRMYWJlbCgpO1xuICAgICAgICB0aGlzLl9oYW5kbGVTdGFuZGFyZExheW91dCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25DaGFuZ2VcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogbWFuYWdlIHdoZW4gZGV0YWlscyBpbiB0aGlzIHNlbGVjdCBmaWVsZCBjaGFuZ2VkXG4gICAgICovXG4gICAgX2dldFZhbHVlRnJvbUZpZWxkKCkge1xuICAgICAgICBsZXQgaWR4ID0gdGhpcy5fZWxlbXMuaW5wdXQudmFsdWU7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX29wdGlvbnNbaWR4XTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlQ2xvbmVkRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBHZW5lcmF0ZSB0aGUgY2xvbmVkIHNlbGVjdCBlbGVtZW50XG4gICAgICovXG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JRCkge1xuICAgICAgICByZXR1cm4gbmV3IE9iamVjdFNlbGVjdEZpZWxkKHRoaXMuX2lkICsgYXBwZW5kVG9JRCwgdGhpcyk7XG4gICAgfVxufVxuZXhwb3J0cy5PYmplY3RTZWxlY3RGaWVsZCA9IE9iamVjdFNlbGVjdEZpZWxkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfZmllbGRfMSA9IHJlcXVpcmUoXCIuLi9fZmllbGRcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL19pbnRlcmZhY2VzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIFBhc3N3b3JkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjcmVhdGUgYSAgcGFzc3dvcmQgZWxlbWVudCBmb3IgYSBmb3JtXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFBhc3N3b3JkRmllbGQgZXh0ZW5kcyBfZmllbGRfMS5GaWVsZCB7XG4gICAgZ2V0IF90eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtLlBBU1NXT1JEOyB9XG4gICAgZ2V0IF9kZWZhdWx0VmFsdWUoKSB7IHJldHVybiBcIlwiOyB9XG4gICAgZ2V0IF9kZWZhdWx0Q2xzKCkgeyByZXR1cm4gXCJwYXNzd29yZFwiOyB9XG4gICAgX29uQ3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVN0YW5kYXJkTGFiZWxlZElucHV0KGZhbHNlKTtcbiAgICAgICAgdGhpcy5faGFuZGxlU3RhbmRhcmRMYXlvdXQoKTtcbiAgICB9XG4gICAgX2dldFZhbHVlRnJvbUZpZWxkKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBfY3JlYXRlQ2xvbmVkRWxlbWVudChhcHBlbmRUb0lEKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGFzc3dvcmRGaWVsZCh0aGlzLl9pZCArIGFwcGVuZFRvSUQsIHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydHMuUGFzc3dvcmRGaWVsZCA9IFBhc3N3b3JkRmllbGQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG51bWJlckZpZWxkXzEgPSByZXF1aXJlKFwiLi9udW1iZXJGaWVsZFwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi4vX2ludGVyZmFjZXNcIik7XG5jb25zdCBfZmllbGRfMSA9IHJlcXVpcmUoXCIuLi9fZmllbGRcIik7XG5jb25zdCBjcmVhdGVFbGVtZW50XzEgPSByZXF1aXJlKFwiLi4vLi4vaHRtbEhlbHBlcnMvY3JlYXRlRWxlbWVudFwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIFx0UGVyY2VudGFnZUZpZWxkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFNob3cgYSBudW1lcmljIGZvcm0gc3BlY2lmaWMgdG8gcGVyY2VudGFnZXMuIE9ubHkgZGlmZmVycyBmcm9tIGEgbnVtZXJpY1xuICogZWxlbWVudCBpbiB0aGUgZGlzcGxheVxuICpcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBQZXJjZW50YWdlRmllbGQgZXh0ZW5kcyBudW1iZXJGaWVsZF8xLk51bWJlckZpZWxkIHtcbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBQUk9QRVJUSUVTXG4gICAgZ2V0IF90eXBlKCkgeyByZXR1cm4gX2ludGVyZmFjZXNfMS5GaWVsZFR5cGVFbnVtLlBFUkNFTlRBR0U7IH1cbiAgICBnZXQgX2RlZmF1bHRWYWx1ZSgpIHsgcmV0dXJuIDA7IH1cbiAgICBnZXQgX2RlZmF1bHRDbHMoKSB7IHJldHVybiBcInBlcmNlbnRhZ2VcIjsgfVxuICAgIF9nZXRVbmNvbG9yZWRTdHlsZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXJnZVRoZW1lcyhQZXJjZW50YWdlRmllbGQuX3VuY29sb3JlZFN0eWxlcywgX2ZpZWxkXzEuRmllbGQuX3VuY29sb3JlZFN0eWxlcyk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICBzdXBlci5fY3JlYXRlRWxlbWVudHMoKTtcbiAgICAgICAgLy8gY3JlYXRlIHRoZSBlbGVtZW50IHRoYXQgaW5kaWNhdGVzIHRoaXMgZXhwZWN0cyBhIHBlcmNlbnRhZ2VcbiAgICAgICAgY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcInBlcmNlbnRhZ2VMYmxcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiJVwiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy5iYXNlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlQ2xvbmVkRWxlbWVudFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZSBhIG5ldyBwZXJjZW50YWdlIGVsZW1lbnQgYXMgcmVxdWlyZWRcbiAgICAgKi9cbiAgICBfY3JlYXRlQ2xvbmVkRWxlbWVudChhcHBlbmRUb0lEKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGVyY2VudGFnZUZpZWxkKHRoaXMuX2lkICsgYXBwZW5kVG9JRCwgdGhpcyk7XG4gICAgfVxufVxuZXhwb3J0cy5QZXJjZW50YWdlRmllbGQgPSBQZXJjZW50YWdlRmllbGQ7XG4vLyNlbmRyZWdpb25cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuUGVyY2VudGFnZUZpZWxkLl91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIucGVyY2VudGFnZVwiOiB7XG4gICAgICAgIG5lc3RlZDoge1xuICAgICAgICAgICAgXCJpbnB1dFwiOiB7XG4gICAgICAgICAgICAgICAgbWF4V2lkdGg6IFwiM2VtXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIi5wZXJjZW50YWdlTGJsXCI6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjNTU1XCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogXCI1cHhcIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL19pbnRlcmZhY2VzXCIpO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgaGVscGVyc18xID0gcmVxdWlyZShcIi4uL2hlbHBlcnNcIik7XG5jb25zdCBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vLi4vcHJpbWl0aXZlSGVscGVycy9zdHJpbmdzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIFNlbGVjdEZpZWxkXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBjcmVhdGUgYSBkcm9wZG93biBmb3IgYSBmb3JtIHdpdGggZWl0aGVyIG51bWVyaWMgb3Igc3RyaW5nIGJhY2tpbmcgZGF0YVxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAyLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBTZWxlY3RGaWVsZCBleHRlbmRzIF9maWVsZF8xLkZpZWxkIHtcbiAgICBnZXQgX3R5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkZpZWxkVHlwZUVudW0uU0VMRUNUOyB9XG4gICAgZ2V0IF9kZWZhdWx0VmFsdWUoKSB7IHJldHVybiBudWxsOyB9XG4gICAgZ2V0IF9kZWZhdWx0Q2xzKCkgeyByZXR1cm4gXCJzZWxlY3RcIjsgfVxuICAgIC8qKlxuICAgICAqIF9wYXJzZUZpZWxkVGVtcGxhdGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR2V0IGFkZGl0aW9uYWwgZGV0YWlscyBhYm91dCBob3cgdGhpcyBzZWxlY3QgZmllbGQgc2hvdWxkIGJlIHNldCB1cFxuICAgICAqL1xuICAgIF9wYXJzZUZpZWxkVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgICAgc3VwZXIuX3BhcnNlRmllbGRUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSB0ZW1wbGF0ZS5vcHRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfb25DcmVhdGVFbGVtZW50c1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgdGhlIGVsZW1lbnRzIG5lZWRlZCBmb3IgdGhlIHNlbGVjdCBmaWVsZFxuICAgICAqL1xuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dCA9IGhlbHBlcnNfMS5jcmVhdGVTZWxlY3RFbGVtZW50KHRoaXMuX2lkLCBcImlucHV0XCIsIHRoaXMuX29wdGlvbnMpO1xuICAgICAgICB0aGlzLl9jcmVhdGVTdGFuZGFyZExhYmVsKCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZVN0YW5kYXJkTGF5b3V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9vbkNoYW5nZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBtYW5hZ2Ugd2hlbiBkZXRhaWxzIGluIHRoaXMgc2VsZWN0IGZpZWxkIGNoYW5nZWRcbiAgICAgKi9cbiAgICBfZ2V0VmFsdWVGcm9tRmllbGQoKSB7XG4gICAgICAgIGxldCB2ID0gdGhpcy5fZWxlbXMuaW5wdXQudmFsdWU7XG4gICAgICAgIGxldCB2YWx1ZSA9IHY7XG4gICAgICAgIGlmIChzdHJpbmdzXzEuaXNOdW1lcmljKHYpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9ICt2O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUNsb25lZEVsZW1lbnRcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogR2VuZXJhdGUgdGhlIGNsb25lZCBzZWxlY3QgZWxlbWVudFxuICAgICAqL1xuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3RGaWVsZCh0aGlzLl9pZCArIGFwcGVuZFRvSUQsIHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2VsZWN0RmllbGQgPSBTZWxlY3RGaWVsZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IGhlbHBlcnNfMSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzXCIpO1xuY29uc3QgZmFsc2V5XzEgPSByZXF1aXJlKFwiLi4vLi4vdHlwZUd1YXJkcy9mYWxzZXlcIik7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3MgVGV4dEFyZWFGaWVsZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY3JlYXRlIGEgdGV4dCBhcmVhIGVsZW1lbnQgZm9yIGEgZm9ybVxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBUZXh0QXJlYUZpZWxkIGV4dGVuZHMgX2ZpZWxkXzEuRmllbGQge1xuICAgIGdldCBfdHlwZSgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRmllbGRUeXBlRW51bS5URVhUQVJFQTsgfVxuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4gXCJcIjsgfVxuICAgIGdldCBfZGVmYXVsdENscygpIHsgcmV0dXJuIFwidGV4dGFyZWFcIjsgfVxuICAgIF9vbkNyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICBsZXQgaW5wdXQgPSBoZWxwZXJzXzEuY3JlYXRlSW5wdXRFbGVtZW50KHRoaXMuX2lkLCBcImlucHV0XCIsIFwidGV4dGFyZWFcIiwgdGhpcy5fZGF0YSk7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcudXNlR2hvc3RUZXh0KSB7XG4gICAgICAgICAgICBpbnB1dC5wbGFjZWhvbGRlciA9IHRoaXMuX2NvbmZpZy5sYWJlbCB8fCBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVN0YW5kYXJkTGFiZWwoKTtcbiAgICAgICAgdGhpcy5faGFuZGxlU3RhbmRhcmRMYXlvdXQoKTtcbiAgICB9XG4gICAgX2dldFZhbHVlRnJvbUZpZWxkKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXG4vZywgXCI8YnI+XCIpO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoLyAgICAvZywgXCImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDtcIik7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JRCkge1xuICAgICAgICByZXR1cm4gbmV3IFRleHRBcmVhRmllbGQodGhpcy5faWQgKyBhcHBlbmRUb0lELCB0aGlzKTtcbiAgICB9XG4gICAgdXBkYXRlKGRhdGEsIGFsbG93RXZlbnRzKSB7XG4gICAgICAgIGlmIChmYWxzZXlfMS5pc051bGxPclVuZGVmaW5lZChkYXRhKSkge1xuICAgICAgICAgICAgZGF0YSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgICAgIGxldCBkaXNwbGF5U3RyID0gZGF0YS5yZXBsYWNlKC88YnI+L2csIFwiXFxuXCIpO1xuICAgICAgICBkaXNwbGF5U3RyID0gZGlzcGxheVN0ci5yZXBsYWNlKC9cXCZuYnNwOy9nLCBcIiBcIik7XG4gICAgICAgIHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlID0gZGlzcGxheVN0cjtcbiAgICB9XG59XG5leHBvcnRzLlRleHRBcmVhRmllbGQgPSBUZXh0QXJlYUZpZWxkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBfZmllbGRfMSA9IHJlcXVpcmUoXCIuLi9fZmllbGRcIik7XG5jb25zdCBfaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4uL19pbnRlcmZhY2VzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIFRleHRGaWVsZFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY3JlYXRlIGEgdGV4dCBlbGVtZW50IGZvciBhIGZvcm1cbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjFcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgVGV4dEZpZWxkIGV4dGVuZHMgX2ZpZWxkXzEuRmllbGQge1xuICAgIGdldCBfdHlwZSgpIHsgcmV0dXJuIF9pbnRlcmZhY2VzXzEuRmllbGRUeXBlRW51bS5URVhUOyB9XG4gICAgZ2V0IF9kZWZhdWx0VmFsdWUoKSB7IHJldHVybiBcIlwiOyB9XG4gICAgZ2V0IF9kZWZhdWx0Q2xzKCkgeyByZXR1cm4gXCJ0ZXh0XCI7IH1cbiAgICBfb25DcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5fY3JlYXRlU3RhbmRhcmRMYWJlbGVkSW5wdXQoZmFsc2UpO1xuICAgICAgICB0aGlzLl9oYW5kbGVTdGFuZGFyZExheW91dCgpO1xuICAgIH1cbiAgICBfZ2V0VmFsdWVGcm9tRmllbGQoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2VsZW1zLmlucHV0LnZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIF9jcmVhdGVDbG9uZWRFbGVtZW50KGFwcGVuZFRvSUQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0RmllbGQodGhpcy5faWQgKyBhcHBlbmRUb0lELCB0aGlzKTtcbiAgICB9XG59XG5leHBvcnRzLlRleHRGaWVsZCA9IFRleHRGaWVsZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX2ZpZWxkXzEgPSByZXF1aXJlKFwiLi4vX2ZpZWxkXCIpO1xuY29uc3QgX2ludGVyZmFjZXNfMSA9IHJlcXVpcmUoXCIuLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IGRhdGVzXzEgPSByZXF1aXJlKFwiLi4vLi4vcHJpbWl0aXZlSGVscGVycy9kYXRlc1wiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyBUaW1lRmllbGRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGNyZWF0ZSBhIHRpbWUgZWxlbWVudCBmb3IgYSBmb3JtXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4xXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFRpbWVGaWVsZCBleHRlbmRzIF9maWVsZF8xLkZpZWxkIHtcbiAgICBnZXQgX3R5cGUoKSB7IHJldHVybiBfaW50ZXJmYWNlc18xLkZpZWxkVHlwZUVudW0uVElNRTsgfVxuICAgIGdldCBfZGVmYXVsdFZhbHVlKCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIGdldCBfZGVmYXVsdENscygpIHsgcmV0dXJuIFwidGltZVwiOyB9XG4gICAgX29uQ3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVN0YW5kYXJkTGFiZWxlZElucHV0KCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZVN0YW5kYXJkTGF5b3V0KCk7XG4gICAgfVxuICAgIF9nZXRWYWx1ZUZyb21GaWVsZCgpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5fZWxlbXMuaW5wdXQudmFsdWU7XG4gICAgICAgIGxldCBkYXRlVmFsdWUgPSBkYXRlc18xLmlucHV0VG9EYXRlKFwiXCIsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGRhdGVWYWx1ZTtcbiAgICB9XG4gICAgX2NyZWF0ZUNsb25lZEVsZW1lbnQoYXBwZW5kVG9JRCkge1xuICAgICAgICByZXR1cm4gbmV3IFRpbWVGaWVsZCh0aGlzLl9pZCArIGFwcGVuZFRvSUQsIHRoaXMpO1xuICAgIH1cbiAgICB1cGRhdGUoZGF0YSwgYWxsb3dFdmVudHMpIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgICAgIGlmICghdGhpcy5fZWxlbXMuaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2RhdGEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbGVtcy5pbnB1dC52YWx1ZSA9IGRhdGVzXzEuaW5wdXRUaW1lRm10KGRhdGEpO1xuICAgIH1cbn1cbmV4cG9ydHMuVGltZUZpZWxkID0gVGltZUZpZWxkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vaGlzdG9yeVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9oaXN0b3J5Tm9kZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi91bmRvQ2hhaW5cIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBoaXN0b3J5XzEgPSByZXF1aXJlKFwiLi9oaXN0b3J5XCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgVW5kb0NoYWluXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBbGxvdyBhY3Rpb25zIHRvIGJlIHVuZG9uZSAvIHJlZG9uZVxuICogQGF1dGhvciAgS2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBVbmRvQ2hhaW4gZXh0ZW5kcyBoaXN0b3J5XzEuSGlzdG9yeUNoYWluIHtcbiAgICAvKipcbiAgICAgKiBVbmRvQ2hhaW5cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQ3JlYXRlIGFuIHVuZG8gY2hhaW4gYW5kIHJlZ2lzdGVycyBhcHByb3ByaWF0ZSBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICghZXZlbnQuY3RybEtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gLy8gd2UgYWx3YXlzIG5lZWQgY3RybCB0byBiZSBwcmVzc2VkXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSAhPT0gOTApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IC8vIGxpa2V3aXNlLCB3ZSBhbHdheXMgbmVlZCBhIHpcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaG91bGRJZ25vcmVFdmVudChldmVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IC8vIGFsbyBsaXN0ZW4gdG8gdXNlci1zcGVjaWZpZWQgaWdub3Jlc1xuICAgICAgICAgICAgLy8gc2hpZnQga2V5IG1lYW5zIHdlJ3JlIHRyeWluZyB0byByZWRvXG4gICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZG8oKTtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UsIHBlcmZvcm0gYW4gdW5kb1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmRvKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1bmRvXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFVuZG8gYW4gYWN0aW9uLiBBbHNvIGZpcmVkIGJ5IGN0cmwgKyB6O1xuICAgICAqL1xuICAgIHVuZG8oKSB7XG4gICAgICAgIGxldCB1bmRvYWJsZSA9IHRoaXMubmF2aWdhdGVCYWNrKCk7XG4gICAgICAgIGlmICghdW5kb2FibGUgfHwgIXVuZG9hYmxlLnJldmVyc2VGdW5jdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHVuZG9hYmxlLnJldmVyc2VGdW5jdGlvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiByZWRvXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFJlZG8gYW4gYWN0aW9uLiBBbHNvIGZpcmVkIGJ5IGN0cmwgKyBzaGlmdCArIHouXG4gICAgICovXG4gICAgcmVkbygpIHtcbiAgICAgICAgbGV0IHVuZG9hYmxlID0gdGhpcy5uYXZpZ2F0ZUZvcndhcmQoKTtcbiAgICAgICAgaWYgKCF1bmRvYWJsZSB8fCAhdW5kb2FibGUuZm9yd2FyZEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdW5kb2FibGUuZm9yd2FyZEZ1bmN0aW9uKCk7XG4gICAgfVxufVxuZXhwb3J0cy5VbmRvQ2hhaW4gPSBVbmRvQ2hhaW47XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9fdHlwZWd1YXJkc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jcmVhdGVFbGVtZW50XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NyZWF0ZVNwZWNpZmljRWxlbWVudHNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZWxlbWVudFBvc2l0aW9uaW5nXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2dlbmVyYWxIZWxwZXJzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3RhYmxlc1wiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGludGVyZmFjZUd1YXJkXzEgPSByZXF1aXJlKFwiLi4vdHlwZUd1YXJkcy9pbnRlcmZhY2VHdWFyZFwiKTtcbi8qKlxuICogaXNFbGVtRGVmaW5pdGlvblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogY2hlY2sgaWYgdGhlIGVsZW1lbnQgaXMgYW4gZWxlbWVudCBkZWZpbml0aW9uIGltcGxlbWVudGF0aW9uXG4gKi9cbmZ1bmN0aW9uIGlzSUVsZW1EZWZpbml0aW9uKHRlc3QpIHtcbiAgICBsZXQgb3V0O1xuICAgIGxldCBjb21wID0ge1xuICAgICAgICBhZnRlcl9jb250ZW50OiBcIlwiLFxuICAgICAgICBhdHRyOiBudWxsLFxuICAgICAgICBiZWZvcmVfY29udGVudDogXCJcIixcbiAgICAgICAgY2hpbGRyZW46IG51bGwsXG4gICAgICAgIGNsczogXCJcIixcbiAgICAgICAgY29udGVudDogXCJcIixcbiAgICAgICAgaWQ6IFwiXCIsXG4gICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgdHlwZTogXCJcIlxuICAgIH07XG4gICAgaWYgKGludGVyZmFjZUd1YXJkXzEuaXNJbnRlcmZhY2UodGVzdCwgY29tcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuaXNJRWxlbURlZmluaXRpb24gPSBpc0lFbGVtRGVmaW5pdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL190eXBlR3VhcmRzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2lkZW50aWZpYWJsZU1vZGVsXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3VuaXF1ZUlkXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gaXNJZGVudGlmaWFibGVNb2RlbChtb2RlbCkge1xuICAgIGlmICghbW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIW1vZGVsLmlkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnRzLmlzSWRlbnRpZmlhYmxlTW9kZWwgPSBpc0lkZW50aWZpYWJsZU1vZGVsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBzZXJpYWxpemFibGVNb2RlbF8xID0gcmVxdWlyZShcIi4uL3NlcmlhbGl6YWJsZS9zZXJpYWxpemFibGVNb2RlbFwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzcyAgIElkZW50aWZpYWJsZTxUPlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlcyBhIG1vZGVsIHRoYXQgaGFzIGFuIGFzc29jaWF0ZWQgSURcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgSWRlbnRpZmlhYmxlTW9kZWwgZXh0ZW5kcyBzZXJpYWxpemFibGVNb2RlbF8xLlNlcmlhbGl6YWJsZSB7XG4gICAgLyoqXG4gICAgICogSWRlbnRpZmlhYmxlTW9kZWxcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBDcmVhdGUgYSBuZXcgbW9kZWwgd2l0aCBhIHVuaXF1ZSBJRFxuICAgICAqIEBwYXJhbSAgIGRhdGFUb0NvcHkgIElmIGF2YWlsYWJsZSwgdGhlIGludGVyZmFjZSB0byBjb3B5IGludG8gdGhpcyBtb2RlbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGRhdGFUb0NvcHkpIHtcbiAgICAgICAgc3VwZXIoZGF0YVRvQ29weSk7XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBoYXZlIGFuIGFwcHJvcHJpYXRlIGlkIHN0b3JlZCBzdGF0aWNhbGx5XG4gICAgICAgIGlmIChkYXRhVG9Db3B5ICYmIGRhdGFUb0NvcHkuaWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IuX3VwZGF0ZUxhc3RJZChkYXRhVG9Db3B5LmlkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lkID0gdGhpcy5jb25zdHJ1Y3Rvci5fZ2VuZXJhdGVOZXdJZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBpZCgpIHsgcmV0dXJuIHRoaXMuX2lkOyB9XG4gICAgc2V0IGlkKGRhdGEpIHsgdGhpcy5faWQgPSBkYXRhOyB9XG4gICAgLyoqIGFsbG93IGNsYXNzZXMgdG8gc3BlY2lmeSBhIHByZWZpeCB0byB0aGVpciBJRCBlYXNpbHkgKi9cbiAgICBzdGF0aWMgZ2V0IF9wcmVmaXgoKSB7IHJldHVybiBcIlwiOyB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvKipcbiAgICAgKiBfZ2VuZXJhdGVOZXdJZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIHNwaW4gdXAgYSBuZXcgSUQgZm9yIGEgbmV3IG1vZGVsXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIG5ldyBJRFxuICAgICAqL1xuICAgIHN0YXRpYyBfZ2VuZXJhdGVOZXdJZCgpIHtcbiAgICAgICAgdGhpcy5fbGFzdElkICs9IDE7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmVmaXggKyB0aGlzLl9sYXN0SWQudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3VwZGF0ZUxhc3RJZFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFdoZW4gaW5jb3Jwb3JhdGluZyBhbiBleGlzdGluZyBtb2RlbCwgdXBkYXRlIHRoZSBsYXN0IElEIHVzZWRcbiAgICAgKiBAcGFyYW0gICBsYXN0SWQgIE1vc3QgcmVjZW50IGlEIHVzZWQgaW4gYSBtb2RlbFxuICAgICAqL1xuICAgIHN0YXRpYyBfdXBkYXRlTGFzdElkKGxhc3RJZCkge1xuICAgICAgICAvLyBtYWtlIHN1cmUgd2UgYXJlbid0IGluY2x1ZGluZyB0aGUgcHJlZml4XG4gICAgICAgIGxldCBwcmVmaXhSZWcgPSBuZXcgUmVnRXhwKHRoaXMuX3ByZWZpeCwgXCJnXCIpO1xuICAgICAgICBsYXN0SWQgPSBsYXN0SWQucmVwbGFjZShwcmVmaXhSZWcsIFwiXCIpO1xuICAgICAgICBsZXQgbGFzdE51bWVyaWNJZCA9IHBhcnNlSW50KGxhc3RJZCk7XG4gICAgICAgIC8vIGRvbid0IGZhaWwgb24gTmFOIGNvbmRpdGlvbnM7IGp1c3QgaW5jcmVtZW50XG4gICAgICAgIGlmIChpc05hTihsYXN0TnVtZXJpY0lkKSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdElkICs9IDE7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGxhc3QgaWQgaWYgdGhpcyBpcyBncmVhdGVyXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGFzdE51bWVyaWNJZCA+IHRoaXMuX2xhc3RJZCkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdElkID0gbGFzdE51bWVyaWNJZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuSWRlbnRpZmlhYmxlTW9kZWwgPSBJZGVudGlmaWFibGVNb2RlbDtcbi8qKiB0cmFjayB0aGUgbGFzdCBJRCB1c2VkIGluIGEgbW9kZWwgKi9cbklkZW50aWZpYWJsZU1vZGVsLl9sYXN0SWQgPSAwO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5sZXQgX2lkID0gMDtcbmZ1bmN0aW9uIGdlbmVyYXRlVW5pcXVlSUQocHJlZml4KSB7XG4gICAgaWYgKCFwcmVmaXgpIHtcbiAgICAgICAgcHJlZml4ID0gXCJpZFwiO1xuICAgIH1cbiAgICBfaWQgKz0gMTtcbiAgICByZXR1cm4gcHJlZml4ICsgX2lkO1xufVxuZXhwb3J0cy5nZW5lcmF0ZVVuaXF1ZUlEID0gZ2VuZXJhdGVVbmlxdWVJRDtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2ltYWdlRWxlbWVudFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRyYXdhYmxlXzEgPSByZXF1aXJlKFwiLi4vZHJhd2FibGUvZHJhd2FibGVcIik7XG5jb25zdCBjc3NfMSA9IHJlcXVpcmUoXCIuLi9zdHlsZUhlbHBlcnMvY3NzXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG5jbGFzcyBJbWFnZUVsZW1lbnQgZXh0ZW5kcyBkcmF3YWJsZV8xLkRyYXdhYmxlIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBUSEUgRUxFTUVOVFxuICAgIGNvbnN0cnVjdG9yKHNyYykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9zcmMgPSBzcmM7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUVsZW1lbnRzKCk7XG4gICAgfVxuICAgIHNldFRoZW1lQ29sb3Ioa2V5LCBjb2xvciwgbm9SZXBsYWNlKSB7XG4gICAgICAgIHN1cGVyLnNldFRoZW1lQ29sb3Ioa2V5LCBjb2xvciwgbm9SZXBsYWNlKTtcbiAgICB9XG4gICAgZ2V0IHNyYygpIHsgcmV0dXJuIHRoaXMuX3NyYzsgfVxuICAgIHNldCBzcmMoc3JjKSB7XG4gICAgICAgIGlmICghc3JjKSB7XG4gICAgICAgICAgICBzcmMgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zcmMgPT09IHNyYykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NyYyA9IHNyYztcbiAgICAgICAgdGhpcy5fY2xlYXJDbGFzc2VzKCk7XG4gICAgICAgIHRoaXMuX2VsZW1zLmltZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgc3JjKTtcbiAgICAgICAgdGhpcy5fY2hlY2tGb3JJbWFnZUxvYWQoKTtcbiAgICB9XG4gICAgX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50cygpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBfY3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGtleTogXCJiYXNlXCIsXG4gICAgICAgICAgICBjbHM6IFwiaW1hZ2VXcmFwcGVyXCIgKyAodGhpcy5fc3JjID8gXCJcIiA6IFwiIG5vSW1hZ2VcIiksXG4gICAgICAgICAgICBjaGlsZHJlbjogW3tcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcImltZ1wiLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImltZ1wiLFxuICAgICAgICAgICAgICAgICAgICBhdHRyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcmM6IHRoaXMuX3NyYyA/IHRoaXMuX3NyYyA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRMaXN0ZW5lcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAoKSA9PiB0aGlzLl9vbkVycm9yKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH0sIHRoaXMuX2VsZW1zKTtcbiAgICB9XG4gICAgX29uRXJyb3IoKSB7XG4gICAgICAgIHRoaXMuc3JjID0gXCJcIjtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gICAgLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vI3JlZ2lvbiBFTlNVUkUgVEhBVCBUSEUgSU1BR0UgSVMgQVBQUk9QUklBVEVMWSBTSVpFRFxuICAgIF9jaGVja0ZvckltYWdlTG9hZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9kb2VzSW1hZ2VIYXZlTWlzc2luZ1NpemUoKSkge1xuICAgICAgICAgICAgdGhpcy5fbWVhc3VyZUltYWdlKCk7XG4gICAgICAgICAgICB0aGlzLl9yZXNpemUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHRoaXMuX2NoZWNrRm9ySW1hZ2VMb2FkKCksIDEwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZG9lc0ltYWdlSGF2ZU1pc3NpbmdTaXplKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3NyYykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fZWxlbXMuaW1nLm9mZnNldEhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtcy5pbWcub2Zmc2V0V2lkdGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgX21lYXN1cmVJbWFnZSgpIHtcbiAgICAgICAgbGV0IHdpZHRoID0gdGhpcy5fZWxlbXMuaW1nLm9mZnNldFdpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5fZWxlbXMuaW1nLm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy5fd2lkdGhUb0hlaWdodFJhdGlvID0gKHdpZHRoIC8gaGVpZ2h0KTtcbiAgICB9XG4gICAgX3Jlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy5fY2xlYXJDbGFzc2VzKCk7XG4gICAgICAgIC8vIG5vIHBpY3R1cmVcbiAgICAgICAgaWYgKCF0aGlzLl9zcmMpIHtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwibm9JbWFnZVwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJ0aWNhbCBwaWN0dXJlXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3dpZHRoVG9IZWlnaHRSYXRpbyA8IDEpIHtcbiAgICAgICAgICAgIGNzc18xLmFkZENsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwidmVydGljYWxJbWFnZVwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBob3Jpem9udGFsIHBpY3R1cmVcbiAgICAgICAgZWxzZSBpZiAodGhpcy5fd2lkdGhUb0hlaWdodFJhdGlvID4gMSkge1xuICAgICAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJob3Jpem9udGFsSW1hZ2VcIik7XG4gICAgICAgICAgICAvLyBzcXVhcmUgcGljdHVyZVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3NzXzEuYWRkQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJzcXVhcmVJbWFnZVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY2xlYXJDbGFzc2VzKCkge1xuICAgICAgICBjc3NfMS5yZW1vdmVDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcIm5vSW1hZ2VcIik7XG4gICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwidmVydGljYWxJbWFnZVwiKTtcbiAgICAgICAgY3NzXzEucmVtb3ZlQ2xhc3ModGhpcy5fZWxlbXMuYmFzZSwgXCJob3Jpem9udGFsSW1hZ2VcIik7XG4gICAgICAgIGNzc18xLnJlbW92ZUNsYXNzKHRoaXMuX2VsZW1zLmJhc2UsIFwic3F1YXJlSW1hZ2VcIik7XG4gICAgfVxufVxuZXhwb3J0cy5JbWFnZUVsZW1lbnQgPSBJbWFnZUVsZW1lbnQ7XG4vLy4uLi4uLi4uLi4uLi4uLi4uLlxuLy8jcmVnaW9uIFNUWUxFU1xuSW1hZ2VFbGVtZW50Ll91bmNvbG9yZWRTdHlsZXMgPSB7XG4gICAgXCIuaW1hZ2VXcmFwcGVyXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIjxpbWFnZUVsZW1lbnRQcmltYXJ5PlwiLFxuICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgIFwiJi52ZXJ0aWNhbEltYWdlIGltZ1wiOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiYuaG9yaXpvbnRhbEltYWdlIGltZ1wiOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiYuc3F1YXJlSW1hZ2UgaW1nXCI6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiJi5ub0ltYWdlXCI6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBuZXN0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbWdcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9hc3luY01hbmFnZXJcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZGF0YU1hbmFnZXJcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRhdGFNYW5hZ2VyXzEgPSByZXF1aXJlKFwiLi9kYXRhTWFuYWdlclwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0QXN5bmNNYW5hZ2VyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBNYW5hZ2VzIGEgc2V0IG9mIG1vZGVscyB0aGF0IGNhbiBiZSBsb2FkZWQgZnJvbSB0aGUgc2VydmVyXG4gKiBAYXV0aG9yXHRLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uXHQxLjEuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBBc3luY01hbmFnZXIgZXh0ZW5kcyBkYXRhTWFuYWdlcl8xLkRhdGFNYW5hZ2VyIHtcbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIENSRUFURSBUSEUgTUFOQUdFUlxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9pbkZsaWdodCA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlQW5kQWRkRGVmYXVsdFxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBhZGQgYSBkZWZhdWx0IHZhbHVlXG4gICAgICovXG4gICAgX2NyZWF0ZUFuZEFkZERlZmF1bHQoZCkge1xuICAgICAgICBsZXQgbW9kZWwgPSB0aGlzLmNyZWF0ZShkKTtcbiAgICAgICAgdGhpcy5hZGQobW9kZWwpO1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICAvLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLy8jcmVnaW9uIFJFVFJJRVZFIERBVEFcbiAgICAvKipcbiAgICAgKiBnZXRPckNyZWF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBnZXQgdGhlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIGEgcGFydGljdWxhciBJRFxuICAgICAqL1xuICAgIGdldE9yQ3JlYXRlKGlkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyB2YWxpZGF0ZSBpbnB1dFxuICAgICAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vIElEIHByb3ZpZGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2UgYWxyZWFkeSBoYXZlIGluZm8gb24gdGhpcyBlbGVtZW50OyBpZiBzbywgcmV0dXJuIGl0XG4gICAgICAgICAgICBsZXQgZGF0dW0gPSB0aGlzLmdldChpZCk7XG4gICAgICAgICAgICBpZiAoZGF0dW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0dW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjaGVjayBpZiB3ZSBhcmUgYWxyZWFkeSBydW5uaW5nIGEgcmVxdWVzdCBmb3IgdGhpcyBlbGVtZW50XG4gICAgICAgICAgICAvLyBpZiBzbywgcmV0dXJuIHRoZSBjdXJyZW50IHJlcXVlc3RcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbkZsaWdodFtpZF0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW5GbGlnaHRbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCBydW4gdGhlIGFwcHJvcHJpYXRlIGxvYWRpbmcgY29kZSBmb3IgdGhpcyBlbGVtZW50XG4gICAgICAgICAgICB0aGlzLl9pbkZsaWdodFtpZF0gPSB0aGlzLl9sb2FkQW5kQ3JlYXRlKGlkKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbkZsaWdodFtpZF07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfbG9hZEFuZENyZWF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIGNyZWF0ZSBhIG5ldyBlbGVtZW50IHZpYSB0aGUgYXBwcm9wcmlhdGUgbG9hZGluZyBjYWxsXG4gICAgICovXG4gICAgX2xvYWRBbmRDcmVhdGUoaWQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBkID0geWllbGQgdGhpcy5sb2FkKGlkKTtcbiAgICAgICAgICAgIGlmICghZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vIGRhdGEgZm91bmQgZm9yIGlkICdcIiArIGlkICsgXCInXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBhcHByb3ByaWF0ZSBtb2RlbFxuICAgICAgICAgICAgbGV0IG1vZGVsID0gdGhpcy5jcmVhdGUoZCk7XG4gICAgICAgICAgICBsZXQgZGF0dW0gPSBtb2RlbDtcbiAgICAgICAgICAgIHRoaXMuYWRkKGRhdHVtKTtcbiAgICAgICAgICAgIHJldHVybiBkYXR1bTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5Bc3luY01hbmFnZXIgPSBBc3luY01hbmFnZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9fdHlwZWd1YXJkc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb250YWlubWVudFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kcmF3Q29ubmVjdGlvblwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9tYXRoc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9vdmVybGFwXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3JlY3RDb252ZXJzaW9uXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3RyaWdcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0cmlnXzEgPSByZXF1aXJlKFwiLi90cmlnXCIpO1xuY29uc3Qgc3R5bGVzXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL3N0eWxlc1wiKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY29uc3QgZWxlbWVudFBvc2l0aW9uaW5nXzEgPSByZXF1aXJlKFwiLi4vaHRtbEhlbHBlcnMvZWxlbWVudFBvc2l0aW9uaW5nXCIpO1xuLyoqXG4gKiBhcnJhbmdlUmFkaWFsbHlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQXJyYW5nZSBhIHNlcmllcyBvZiBlbGVtZW50cyBhcm91bmQgYSBjZW50cmFsIGVsZW1lbnQsIG1ha2luZyBzdXJlIHRoZXJlIGlzIGVub3VnaCByb29tIGZvciBlYWNoIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0gXHRjZW50cmFsRUxlbSBcdHRoZSBlbGVtZW50IHRvIHVzZSBhcyB0aGUgY2VudGVyIHBvaW50XG4gKiBAcGFyYW0gXHRmcmluZ2VFbGVtcyBcdHRoZSBlbGVtZW50cyB0byBhcnJhbmdlIGFyb3VuZCB0aGUgY2VudHJhbCBlbGVtZW50XG4gKiBAcGFyYW0gXHRtaW5BbmdsZSBcdFx0dGhlIGFuZ2xlIGF0IHdoaWNoIHRvIHN0YXJ0IChpbiBkZWdyZWVzKVxuICogQHBhcmFtIFx0bWF4QW5nbGUgXHRcdHRoZSBhbmdsZSBhdCB3aGljaCB0byBzdG9wIChpbiBkZWdyZWVzKVxuICovXG5mdW5jdGlvbiBhcnJhbmdlUmFkaWFsbHkoY2VudHJhbEVMZW0sIGZyaW5nZUVsZW1zLCBtaW5BbmdsZSwgbWF4QW5nbGUpIHtcbiAgICAvLyBUaGUgY2FsY3VsYXRpb24gZm9yIHRoaXMgbmVlZHMgdG8gYmUgYXMgZm9sbG93czpcbiAgICAvL1x0XHQxLiBFYWNoIGVsZW1lbnQgZ2V0cyBhbiBhbmdsZSBhc3NpZ25lZFxuICAgIC8vIFx0XHQyLiBlYWNoIGVsZW1lbnQgaGFzIGl0cyBkaW1lbnNpb25zIGRldGVybWluZWQsIHRoZW4gdGhlIGRpc3RhbmNlIG9mIGNpcmNsZSB0aGF0IHdvdWxkIGJlIG5lZWRlIHRvIGZpdCBhbGwgWFxuICAgIC8vIHNldCBkZWZhdWx0cyBmb3IgYW5nbGVzXG4gICAgbWluQW5nbGUgPSBtaW5BbmdsZSB8fCAwO1xuICAgIG1heEFuZ2xlID0gbWF4QW5nbGUgfHwgMzYwO1xuICAgIGxldCBhdmFpbGFibGVBbmdsZSA9IG1heEFuZ2xlIC0gbWluQW5nbGU7XG4gICAgbGV0IGRlbHRhQW5nbGUgPSBhdmFpbGFibGVBbmdsZSAvIGZyaW5nZUVsZW1zLmxlbmd0aDtcbiAgICBsZXQgbWF4RGlzdGFuY2UgPSAwO1xuICAgIGxldCBjZW50cmFsUG9pbnQgPSB7XG4gICAgICAgIHg6IGNlbnRyYWxFTGVtLm9mZnNldFdpZHRoIC8gMixcbiAgICAgICAgeTogY2VudHJhbEVMZW0ub2Zmc2V0SGVpZ2h0IC8gMlxuICAgIH07XG4gICAgbGV0IGVsZW07XG4gICAgLy8gRmlyc3QgY2FsY3VsYXRlIHRoZSBtYXggZGlzdGFuY2Ugd2UgbmVlZCB0byBtb3ZlIGVsZW1lbnRzIGF3YXlcbiAgICBmb3IgKGVsZW0gb2YgZnJpbmdlRWxlbXMpIHtcbiAgICAgICAgbGV0IGVsZW1SYWRpdXMgPSBNYXRoLm1heChlbGVtLm9mZnNldFdpZHRoLCBlbGVtLm9mZnNldEhlaWdodCk7XG4gICAgICAgIGxldCBjZW50cmFsQW5nbGUgPSBhdmFpbGFibGVBbmdsZSAvIGZyaW5nZUVsZW1zLmxlbmd0aDtcbiAgICAgICAgbGV0IGludGVybmFsQW5nbGUgPSAxODAgLSBjZW50cmFsQW5nbGU7XG4gICAgICAgIGxldCBhcHByb3ByaWF0ZURpc3RhbmNlID0gKGVsZW1SYWRpdXMgKiBNYXRoLnNpbih0cmlnXzEuZGVncmVlc1RvUmFkaWFucyhpbnRlcm5hbEFuZ2xlKSkpIC8gTWF0aC5zaW4odHJpZ18xLmRlZ3JlZXNUb1JhZGlhbnMoY2VudHJhbEFuZ2xlKSk7XG4gICAgICAgIGlmIChhcHByb3ByaWF0ZURpc3RhbmNlID4gbWF4RGlzdGFuY2UpIHtcbiAgICAgICAgICAgIG1heERpc3RhbmNlID0gYXBwcm9wcmlhdGVEaXN0YW5jZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBhY3R1YWxseSBwb3NpdGlvbiB0aGUgZWxlbWVudHNcbiAgICBsZXQgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZnJpbmdlRWxlbXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgbGV0IHB0ID0gdHJpZ18xLmdldEVuZFBvaW50KGNlbnRyYWxQb2ludCwgbWluQW5nbGUgKyAoZGVsdGFBbmdsZSAqIGkpLCBtYXhEaXN0YW5jZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHB0KTtcbiAgICAgICAgZWxlbSA9IGZyaW5nZUVsZW1zW2ldO1xuICAgICAgICBlbGVtLnN0eWxlLmxlZnQgPSAocHQueCAtIChlbGVtLm9mZnNldFdpZHRoIC8gMikpICsgXCJweFwiO1xuICAgICAgICBlbGVtLnN0eWxlLnRvcCA9IChwdC55IC0gKGVsZW0ub2Zmc2V0SGVpZ2h0IC8gMikpICsgXCJweFwiO1xuICAgIH1cbn1cbmV4cG9ydHMuYXJyYW5nZVJhZGlhbGx5ID0gYXJyYW5nZVJhZGlhbGx5O1xuLyoqXG4gKiBkcmF3TGluZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERyYXdzIGEgbGluZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAqXG4gKiBAcGFyYW0gXHRzdGFydCAgICAgICBcdFRoZSBzdGFydCBwb2ludCBvZiB0aGUgbGluZVxuICogQHBhcmFtIFx0ZW5kICAgICAgICAgXHRUaGUgZW5kIHBvaW50IG9mIHRoZSBsaW5lXG4gKiBAcGFyYW0gXHRob3N0ICAgICAgICBcdFRoZSBlbGVtZW50IHRvIGRyYXcgdGhlIGxpbmUgb25cbiAqIEBwYXJhbSBcdGxibCAgICAgICBcdFx0SWYgaW5jbHVkZWQsIHdoYXQgdG8gbGFiZWwgdGhlIGxpbmVcbiAqIEBwYXJhbSBcdGxibE5vUm90YXRlIFx0SWYgdHJ1ZSwgZG9lc24ndCByb3RhdGUgdGhlIHRleHQgdG8gbWF0Y2ggdGhlIGxpbmUgYW5nbGVcbiAqXG4gKiBAcmV0dXJucyBUaGUgbGluZSB0aGF0IHdhcyBkcmF3blxuICovXG5mdW5jdGlvbiBkcmF3TGluZShzdGFydCwgZW5kLCBob3N0LCBsYmwsIGxibE5vUm90YXRlKSB7XG4gICAgO1xuICAgIGxldCBhbmdsZTtcbiAgICBsZXQgZGlzdGFuY2U7XG4gICAgbGV0IGRpdjtcbiAgICBsZXQgY2xzO1xuICAgIGxldCBsYmxFbGVtO1xuICAgIGRpc3RhbmNlID0gdHJpZ18xLmdldERpc3RhbmNlKHN0YXJ0LCBlbmQpO1xuICAgIGFuZ2xlID0gdHJpZ18xLmdldEFuZ2xlKHN0YXJ0LCBlbmQpO1xuICAgIC8vIENyZWF0ZSBhIENTUyBjbGFzcyB0aGF0IGNhbiBiZSBvdmVycmlkZGVuIGZvciBnZW5lcmFsIG9wdGlvbnNcbiAgICBjbHMgPSB7XG4gICAgICAgIFwicG9zaXRpb25cIjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICBcImhlaWdodFwiOiBcIjFweFwiLFxuICAgICAgICBcInRyYW5zZm9ybS1vcmlnaW5cIjogXCIwcHggMHB4XCJcbiAgICB9O1xuICAgIHN0eWxlc18xLmNyZWF0ZUNsYXNzKFwiLmFuZ2xlZExpbmVcIiwgY2xzKTtcbiAgICAvLyBDcmVhdGUgdGhlIGRpdiBhbmQgZ2l2ZSBpdCBtaW5pbWFsIHN0eWxpbmcgdG8gc2hvdyB0aGUgbGluZVxuICAgIGRpdiA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVTaW1wbGVFbGVtZW50KFwiXCIsIFwiYW5nbGVkTGluZVwiKTtcbiAgICBkaXYuc3R5bGUubGVmdCA9IHN0YXJ0LnggKyBcInB4XCI7XG4gICAgZGl2LnN0eWxlLnRvcCA9IHN0YXJ0LnkgKyBcInB4XCI7XG4gICAgLy8gQXBwcm9yaWF0ZWx5IGFzc2lnbiB0aGUgc2l6ZSBvZiB0aGUgZWxlbWVudFxuICAgIGRpdi5zdHlsZS53aWR0aCA9IGRpc3RhbmNlICsgXCJweFwiO1xuICAgIC8vIFJvdGF0ZSB0byBvdXIgc3BlY2lmaWVkIGRlZ3JlZVxuICAgIGRpdi5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZShcIiArIGFuZ2xlICsgXCJkZWcpXCI7XG4gICAgLy8gQWRkIHRvIHRoZSBzcGVjaWZpZWQgcGFyZW50IGVsZW1lbnRcbiAgICBpZiAoaG9zdCkge1xuICAgICAgICBob3N0LmFwcGVuZENoaWxkKGRpdik7XG4gICAgfVxuICAgIC8vIElmIHRoZXJlIGlzIGFsc28gYSBsYWJlbCwgY3JlYXRlIHRoYXRcbiAgICBpZiAobGJsKSB7XG4gICAgICAgIGxibEVsZW0gPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlU2ltcGxlRWxlbWVudChcIlwiLCBcImxibFwiLCBsYmwpO1xuICAgICAgICBpZiAobGJsTm9Sb3RhdGUpIHtcbiAgICAgICAgICAgIGxibEVsZW0uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoXCIgKyAoLTEgKiBhbmdsZSkgKyBcImRlZylcIjtcbiAgICAgICAgICAgIGxibEVsZW0uc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gXCIoMCwgMClcIjtcbiAgICAgICAgfVxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobGJsRWxlbSk7XG4gICAgfVxuICAgIHJldHVybiBkaXY7XG59XG5leHBvcnRzLmRyYXdMaW5lID0gZHJhd0xpbmU7XG47XG4vKipcbiAqIHVwZGF0ZUxpbmVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVXBkYXRlIGFuIGV4aXN0aW5nIGxpbmUgdG8gaGF2ZSBhIG5ldyBlbmQtcG9pbnRcbiAqXG4gKiBAcGFyYW0gXHRsaW5lXHRUaGUgbGluZSB0byB1cGRhdGVcbiAqIEBwYXJhbSBcdGVuZFx0XHRUaGUgZW5kIHBvaW50IHRvIHVzZSBmb3IgdGhlIGxpbmVcbiAqXG4gKiBAcmV0dXJuc1x0VGhlIHVwZGF0ZWQgbGluZVxuICovXG5mdW5jdGlvbiB1cGRhdGVMaW5lKGxpbmUsIGVuZCkge1xuICAgIGxldCBzdGFydCA9IHtcbiAgICAgICAgeDogcGFyc2VJbnQobGluZS5zdHlsZS5sZWZ0KSxcbiAgICAgICAgeTogcGFyc2VJbnQobGluZS5zdHlsZS50b3ApXG4gICAgfTtcbiAgICBsZXQgZGlzdGFuY2UgPSB0cmlnXzEuZ2V0RGlzdGFuY2Uoc3RhcnQsIGVuZCk7XG4gICAgbGV0IGFuZ2xlID0gdHJpZ18xLmdldEFuZ2xlKHN0YXJ0LCBlbmQpO1xuICAgIGxpbmUuc3R5bGUud2lkdGggPSBkaXN0YW5jZSArIFwicHhcIixcbiAgICAgICAgbGluZS5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZShcIiArIGFuZ2xlICsgXCJkZWcpXCI7XG4gICAgcmV0dXJuIGxpbmU7XG59XG5leHBvcnRzLnVwZGF0ZUxpbmUgPSB1cGRhdGVMaW5lO1xuLyoqXG4gKiBjb25uZWN0RWxlbWVudHNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBEcmF3cyBhIGxpbmUgYmV0d2VlbiB0aGUgdHdvIHByb3ZpZGVkIGVsZW1lbnRzXG4gKlxuICogQHBhcmFtIFx0c3RhcnRfZWxlbSBcdFRoZSBlbGVtZW50IHRvIHN0YXJ0IHRoZSBsaW5lIGF0XG4gKiBAcGFyYW0gXHRlbmRfZWxlbSAgIFx0VGhlIGVsZW1lbnQgdG8gZW5kIHRoZSBsaW5lIGF0XG4gKlxuICogQHJldHVybiBcdFRoZSBsaW5lIHRoYXQgZ2V0cyBkcmF3blxuICovXG5mdW5jdGlvbiBjb25uZWN0RWxlbWVudHMoc3RhcnRfZWxlbSwgZW5kX2VsZW0sIGxibCwgbGJsTm9Sb3RhdGUpIHtcbiAgICA7XG4gICAgbGV0IHN0YXJ0X3BvaW50O1xuICAgIGxldCBlbmRfcG9pbnQ7XG4gICAgbGV0IHhfMTtcbiAgICBsZXQgeF8yO1xuICAgIGxldCB5XzE7XG4gICAgbGV0IHlfMjtcbiAgICBsZXQgcGFyZW50O1xuICAgIC8vIFNldCBvdXIgcGFyZW50IHRvIHVzZSB3aGVuIGNhbGN1bGF0aW5nIHRoZSBnbG9iYWwgb2Zmc2V0c1xuICAgIHBhcmVudCA9IGVsZW1lbnRQb3NpdGlvbmluZ18xLmZpbmRDb21tb25QYXJlbnQoc3RhcnRfZWxlbSwgZW5kX2VsZW0pO1xuICAgIC8vIFNldCB0aGUgdmFsdWVzIHRvIGJlIHRoZSBjZW50ZXIgb2YgZWFjaCBlbGVtZW50XG4gICAgeF8xID0gZWxlbWVudFBvc2l0aW9uaW5nXzEuZ2xvYmFsT2Zmc2V0TGVmdChzdGFydF9lbGVtLCBwYXJlbnQpICsgKHN0YXJ0X2VsZW0ub2Zmc2V0V2lkdGggLyAyKTtcbiAgICB4XzIgPSBlbGVtZW50UG9zaXRpb25pbmdfMS5nbG9iYWxPZmZzZXRMZWZ0KGVuZF9lbGVtLCBwYXJlbnQpICsgKGVuZF9lbGVtLm9mZnNldFdpZHRoIC8gMik7XG4gICAgeV8xID0gZWxlbWVudFBvc2l0aW9uaW5nXzEuZ2xvYmFsT2Zmc2V0VG9wKHN0YXJ0X2VsZW0sIHBhcmVudCkgKyAoc3RhcnRfZWxlbS5vZmZzZXRIZWlnaHQgLyAyKTtcbiAgICB5XzIgPSBlbGVtZW50UG9zaXRpb25pbmdfMS5nbG9iYWxPZmZzZXRUb3AoZW5kX2VsZW0sIHBhcmVudCkgKyAoZW5kX2VsZW0ub2Zmc2V0SGVpZ2h0IC8gMik7XG4gICAgLy8gQ3JlYXRlIHRoZSBvYmplY3RzIGZvciB0aGVzZSBwb2ludHNcbiAgICBzdGFydF9wb2ludCA9IHsgeDogeF8xLCB5OiB5XzEgfTtcbiAgICBlbmRfcG9pbnQgPSB7IHg6IHhfMiwgeTogeV8yIH07XG4gICAgcmV0dXJuIGRyYXdMaW5lKHN0YXJ0X3BvaW50LCBlbmRfcG9pbnQsIHBhcmVudCwgbGJsLCBsYmxOb1JvdGF0ZSk7XG59XG5leHBvcnRzLmNvbm5lY3RFbGVtZW50cyA9IGNvbm5lY3RFbGVtZW50cztcbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL19tb2RlbFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9fdHlwZWd1YXJkc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9uYW1lZENsYXNzXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL19pbnRlcmZhY2VzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL25hdmlnYXRlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL25hdmlnYXRpb25TdGF0ZVwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29sbGVjdGlvbl8xID0gcmVxdWlyZShcIi4uL2RhdGFTdHJ1Y3R1cmVzL2NvbGxlY3Rpb24vY29sbGVjdGlvblwiKTtcbmNvbnN0IF9pbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKTtcbmNvbnN0IGhpc3RvcnlfMSA9IHJlcXVpcmUoXCIuLi9oaXN0b3J5L2hpc3RvcnlcIik7XG5jb25zdCB0cmFuc2l0aW9uXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL3RyYW5zaXRpb25cIik7XG5jb25zdCBfdHlwZWd1YXJkc18xID0gcmVxdWlyZShcIi4uL3N0cnVjdHMvX3R5cGVndWFyZHNcIik7XG4vLyNyZWdpb24gU1RBTkRBUkQgTkFWSUdBVElPTlxuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHROYXZpZ2F0b3JcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEhhbmRsZXMgbW92aW5nIGJldHdlZW4gZGlmZmVyZW50IHBhZ2VzIGZvciBhIHNpbmdsZS1wYWdlIGFwcGxpY2F0aW9uLFxuICogaW5jbHVkaW5nIGFkZGluZyBuYXZpZ2F0b3IgaGlzdG9yeSBwb2ludHMgYW5kIHVwZGF0aW5nIHZpZXdzIC8gbW9kZWxzXG4gKlxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjIuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBOYXZpZ2F0b3Ige1xuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgLyoqXG4gICAgICogTmF2aWdhdG9yXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIENyZWF0ZSB0aGlzIHNwZWNpZmljIGluc3RhbmNlIG9mIGEgbmF2aWdhdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgICAgIC8vI3JlZ2lvbiBQUk9QRVJUSUVTXG4gICAgICAgIC8qKiBrZWVwIHRyYWNrIG9mIHRoZSB2aWV3cyAqL1xuICAgICAgICB0aGlzLl92aWV3cyA9IG5ldyBjb2xsZWN0aW9uXzEuQ29sbGVjdGlvbigpO1xuICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIG91ciBpbnRlcm5hbCBoaXN0b3J5XG4gICAgICAgIHRoaXMuX2hpc3RvcnkgPSBuZXcgaGlzdG9yeV8xLkhpc3RvcnlDaGFpbigpO1xuICAgICAgICAvLyByZWdpc3RlciB0aGUgbGlzdGVuZXIgd2hlbiB0aGUgdXNlciBwcmVzc2VzIHRoZSBiYWNrIGJ1dHRvblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVN0YXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9jcmVhdGVIZWFkZXIoKTtcbiAgICB9XG4gICAgZ2V0IGN1cnJlbnRWaWV3KCkgeyByZXR1cm4gdGhpcy5fY3VycmVudFZpZXc7IH1cbiAgICBnZXQgaGlzdG9yeSgpIHsgcmV0dXJuIHRoaXMuX2hpc3Rvcnk7IH1cbiAgICAvKipcbiAgICAgKiBuYXZpZ2F0ZVRvXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIE1vdmUgdG8gYSBwYXJ0aWN1bGFyIHZpZXcgaW4gdGhpcyBuYXZpZ2F0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbVx0bmF2aWdhdGlvblBhdGhcdEhvdyB0byBnZXQgdG8gdGhlIHNwZWNpZmllZCB2aWV3XG4gICAgICogQHBhcmFtXHRjb25zdHJ1Y3Rvclx0XHRIb3cgdG8gY3JlYXRlIHRoaXMgdmlldyAoaWYgbm90IGFscmVhZHkgY3JlYXRlZClcbiAgICAgKiBAcGFyYW1cdGFkZGxEYXRhXHRcdEFueXRoaW5nIGVsc2UgdGhhdCBuZWVkcyB0byBiZSBwYXNzZWQgYWxvbmcgKGUuZy4gbW9kZWxzKVxuICAgICAqL1xuICAgIG5hdmlnYXRlVG8obmF2aWdhdGlvblBhdGgsIGNvbnN0cnVjdG9yLCBhZGRsRGF0YSwgZnJvbUhpc3RvcnlOYXZpZ2F0aW9uKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyBpbml0aWFsaXplIHRoZSBhZGRpdGlvbmFsIGRhdGEgYXJyYXkgaWYgdW5wYXNzZWRcbiAgICAgICAgICAgIGlmICghYWRkbERhdGEpIHtcbiAgICAgICAgICAgICAgICBhZGRsRGF0YSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2hlY2sgdGhhdCB3ZSBjYW4gbmF2aWdhdGUgYXdheSBmcm9tIHRoZSBjdXJyZW50IHNjcmVlblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9jYW5OYXZpZ2F0ZUF3YXkoYWRkbERhdGEuaXNDYW5jZWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGN1cnJlbnRWaWV3SGFuZGxlZCA9IHlpZWxkIHRoaXMuX2hhbmRsZUN1cnJlbnRWaWV3T25OYXZpZ2F0ZShhZGRsRGF0YS5pc0NhbmNlbCk7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRWaWV3SGFuZGxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRyeSB0byBncmFiIHRoZSB2aWV3IGZyb20gb3VyIGNvbGxlY3Rpb24gKHF1aXQgaWYgaXQgZG9lc24ndCBleGlzdCBhbmQgd2UgY2FuJ3QgY3JlYXRlIGl0KVxuICAgICAgICAgICAgbGV0IHZpZXcgPSB0aGlzLl92aWV3cy5nZXRWYWx1ZShuYXZpZ2F0aW9uUGF0aCk7XG4gICAgICAgICAgICBpZiAoIXZpZXcgJiYgIWNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgd2UgY291bGRuJ3QgZmluZCBpdCwgY3JlYXRlIGl0XG4gICAgICAgICAgICBpZiAoIXZpZXcpIHtcbiAgICAgICAgICAgICAgICB2aWV3ID0gdGhpcy5fY3JlYXRlVmlldyhjb25zdHJ1Y3RvciwgYWRkbERhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdzLmFkZChuYXZpZ2F0aW9uUGF0aCwgdmlldyk7XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCBjaGVjayBpZiB0aGlzIGNhbiByZWNlaXZlIGFuIHVwZGF0ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKF90eXBlZ3VhcmRzXzEuaXNVcGRhdGFibGUodmlldykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVmlldyh2aWV3LCBhZGRsRGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZHJhdyB0aGUgdmlldyBvbiB0aGUgYXBwcm9wcmlhdGUgcGFyZW50XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVUcmFuc2l0aW9uKHZpZXcpO1xuICAgICAgICAgICAgLy8gdXBkYXRlIG91ciBpbnRlcm5hbCB2aWV3IHRyYWNraW5nXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VmlldyA9IHRoaXMuX3ZpZXdzLmdldEVsZW1lbnQobmF2aWdhdGlvblBhdGgpO1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBicm93c2VyIGhpc3RvcnlcbiAgICAgICAgICAgIGlmICghZnJvbUhpc3RvcnlOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlSGlzdG9yeShuYXZpZ2F0aW9uUGF0aCwgYWRkbERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY2FuTmF2aWdhdGVBd2F5XG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFZlcmlmeSB0aGF0IHdlIGNhbiBtb3ZlIGF3YXkgZnJvbSB0aGUgY3VycmVudCBwYWdlXG4gICAgICogQHBhcmFtIGlzQ2FuY2VsXG4gICAgICovXG4gICAgX2Nhbk5hdmlnYXRlQXdheShpc0NhbmNlbCkge1xuICAgICAgICBpZiAoIXRoaXMuX2N1cnJlbnRWaWV3KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2N1cnJlbnRWaWV3LnZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2N1cnJlbnRWaWV3LnZhbHVlLmNhbk5hdmlnYXRlQXdheShpc0NhbmNlbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2hhbmRsZUN1cnJlbnRWaWV3T25OYXZpZ2F0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBVcGRhdGUgdGhlIGN1cnJlbnQgdmlldyBpbiB0aGUgaGlzdG9yeSBhcyBuZWVkZWQgb24gbmF2aWdhdGUgYXdheVxuICAgICAqIEBwYXJhbSBcdGlzQ2FuY2VsIFx0VHJ1ZSBpZiB3ZSBhcmUgbW92aW5nIGJlY2F1c2Ugb2YgYSBjYW5jZWwgZXZlbnRcbiAgICAgKiBAcmV0dXJuc1x0VHJ1ZSBpZiB3ZSBjb3VsZCBuYXZpZ2F0ZSBhd2F5LCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBfaGFuZGxlQ3VycmVudFZpZXdPbk5hdmlnYXRlKGlzQ2FuY2VsKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhhdCB3ZSBoYXZlIGEgY3VycmVudCB2aWV3XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2N1cnJlbnRWaWV3KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgaWYgdGhlcmUgaXMgYW55IGluZm9ybWF0aW9uIHRoaXMgdmlldyB3YW50cyB0byBhZGQgdG8gdGhlIGFkZGxEYXRhIGFycmF5XG4gICAgICAgICAgICBsZXQgbmF2QXdheURhdGEgPSB5aWVsZCB0aGlzLl9jdXJyZW50Vmlldy52YWx1ZS5vbk5hdmlnYXRlQXdheShpc0NhbmNlbCk7XG4gICAgICAgICAgICBpZiAoIW5hdkF3YXlEYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBzbywgdXBkYXRlIHRoZSBoaXN0b3J5IHN0YXRlIGZvciB0aGlzIHZpZXdcbiAgICAgICAgICAgIGxldCBoaXN0b3J5U3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvblBhdGg6IG51bGwsXG4gICAgICAgICAgICAgICAgZGF0YTogbmF2QXdheURhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9oaXN0b3J5LnVwZGF0ZUN1cnJlbnRTdGF0ZShoaXN0b3J5U3RhdGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlVmlld1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBPdmVycmlkYWJsZSBjb25zdHJ1Y3RvciBtZXRob2QgZm9yIHZpZXdzOyBvdmVycmlkZSB0byBwYXNzIGluZm8gaW50byB0aGVcbiAgICAgKiBjb25zdHJ1Y3RvciBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gXHRjb25zdHJ1Y3RvciBcdE1ldGhvZCB0byBjcmVhdGUgdGhlIHZpZXdcbiAgICAgKiBAcGFyYW0gXHRhZGRsRGF0YSBcdFx0QWRkaXRpb25hbCBkYXRhIHRoYXQgY291bGQgYmUgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHJldHVybnNcdFRoZSBjcmVhdGVkIGRyYXdhYmxlXG4gICAgICovXG4gICAgX2NyZWF0ZVZpZXcoY29uc3RydWN0b3IsIGFkZGxEYXRhKSB7XG4gICAgICAgIGxldCB2aWV3ID0gbmV3IGNvbnN0cnVjdG9yKCk7XG4gICAgICAgIHJldHVybiB2aWV3O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfdXBkYXRlVmlld1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBVcGRhdGUgdGhlIGNyZWF0ZWQgdmlldyB3aXRoIG5ldyBkYXRhLiBPdmVycmlkYWJsZSBpZiBkaWZmZXJlbnQgZGF0YSBvdWdodFxuICAgICAqIHRvIGJlIHBhc3NlZCBpblxuICAgICAqIEBwYXJhbSBcdHZpZXcgXHRcdFRoZSB2aWV3IHRvIHVwZGF0ZVxuICAgICAqIEBwYXJhbSBcdGFkZGxEYXRhIFx0QWRkaXRpb25hbCBkYXRhIHRvIHBhc3MgaW50byB0aGUgdmlld1xuICAgICAqXG4gICAgICovXG4gICAgX3VwZGF0ZVZpZXcodmlldywgYWRkbERhdGEpIHtcbiAgICAgICAgdmlldy51cGRhdGUoYWRkbERhdGEubW9kZWwsIGFkZGxEYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX3VwZGF0ZUhpc3RvcnlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogQWRkIHRoaXMgbmF2aWdhdGUgZXZlbnQgdG8gdGhlIGhpc3Rvcnkgb2YgdGhlIHBhZ2VcbiAgICAgKiBAcGFyYW0gXHRuYXZpZ2F0aW9uUGF0aCBcdFRoZSBwYXRoIHRvIG5hdmlnYXRlIHRvXG4gICAgICogQHBhcmFtIFx0YWRkbEFyZ3MgXHRcdEFueSBhZGRpdGlvbmFsIGRhdGEgZm9yIHRoaXNcbiAgICAgKi9cbiAgICBfdXBkYXRlSGlzdG9yeShuYXZpZ2F0aW9uUGF0aCwgYWRkbEFyZ3MpIHtcbiAgICAgICAgbGV0IGhpc3RvcnkgPSB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uUGF0aDogbmF2aWdhdGlvblBhdGgsXG4gICAgICAgICAgICB1cmw6IGFkZGxBcmdzLnVybCB8fCBcIlwiLFxuICAgICAgICAgICAgdGl0bGU6IGFkZGxBcmdzLnRpdGxlIHx8IG5hdmlnYXRpb25QYXRoLFxuICAgICAgICAgICAgZGF0YTogYWRkbEFyZ3NcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcHVzaEhpc3RvcnlTdGF0ZShoaXN0b3J5KTtcbiAgICAgICAgLy8gYWxzbyBwdXNoIHRvIG91ciBpbnRlcm5hbCBoaXN0b3J5XG4gICAgICAgIHRoaXMuX2hpc3RvcnkucHVzaChoaXN0b3J5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX2hhbmRsZVRyYW5zaXRpb25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogU3dpdGNoZXMgYmV0d2VlbiB0d28gc2VwYXJhdGUgdmlld3MgaW4gdGhpcyBuYXZpZ2F0aW9uIHdvcmxkXG4gICAgICovXG4gICAgX2hhbmRsZVRyYW5zaXRpb24odmlldykge1xuICAgICAgICAvLyB2ZXJpZnkgd2UgaGF2ZSBlbm91Z2ggZGF0YSB0byBoYW5kbGUgdGhpc1xuICAgICAgICBpZiAoIXZpZXcgfHwgIXRoaXMuX3BhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGhpcy5fdHJhbnNpdGlvblR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgX2ludGVyZmFjZXNfMS5JTmF2VHJhbnNpdGlvblR5cGUuT1BBQ0lUWTpcbiAgICAgICAgICAgICAgICB0aGlzLl9vcGFjaXR5VHJhbnNpdGlvbih2aWV3KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vVE9ETzogSGFuZGxlIGFsbCB0aGUgb3RoZXIgY2FzZXNcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fbm9UcmFuc2l0aW9uKHZpZXcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9ub1RyYW5zaXRpb25cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogU3dhcCBvdXQgdGhlIHBhcmVudCBjb250ZW50cyBmb3IgdGhlIGNoaWxkIGNvbnRlbnRzXG4gICAgICovXG4gICAgX25vVHJhbnNpdGlvbih2aWV3KSB7XG4gICAgICAgIHRoaXMuX3BhcmVudC5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICB2aWV3LmRyYXcodGhpcy5fcGFyZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogX29wYWNpdHlUcmFuc2l0aW9uXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIEZhZGUgb3V0IHRoZSBwYXJlbnQsIHN3YXAgb3V0IGNvbnRlbnQsIHRoZW4gZmFkZSBiYWNrIGluXG4gICAgICovXG4gICAgX29wYWNpdHlUcmFuc2l0aW9uKHZpZXcpIHtcbiAgICAgICAgdHJhbnNpdGlvbl8xLnRyYW5zaXRpb24odGhpcy5fcGFyZW50LCB7IG9wYWNpdHk6IFwiMVwiIH0sIHsgb3BhY2l0eTogXCIwXCIgfSwgMjAwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudC5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICAgICAgdmlldy5kcmF3KHRoaXMuX3BhcmVudCk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uXzEudHJhbnNpdGlvbih0aGlzLl9wYXJlbnQsIHsgb3BhY2l0eTogXCIwXCIgfSwgeyBvcGFjaXR5OiBcIjFcIiB9LCAyMDApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcHVzaEhpc3RvcnlTdGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBtYWtlIHN1cmUgd2UgY2FuIHJldHVybiB0byB0aGUgcmlnaHQgcGFnZVxuICAgICAqXG4gICAgICogQHBhcmFtICAgaGlzdG9yeSAgICAgVGhlIHBhZ2UgdG8gcmV0dXJuIHRvIHdoZW4gaGl0dGluZyB0aGUgYmFjayBidXR0b25cbiAgICAgKi9cbiAgICBfcHVzaEhpc3RvcnlTdGF0ZShoaXN0b3J5KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoaGlzdG9yeSwgaGlzdG9yeS50aXRsZSwgaGlzdG9yeS51cmwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkNvdWxkbid0IHNhdmUgaGlzdG9yeSBzdGF0ZTogXCIgKyBlcnIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9oYW5kbGVTdGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBPdmVycmlkZSB0aGUgYmFjayBidXR0b24gdG8gZ28gdG8gdGhlIHJpZ2h0IHBhZ2VcbiAgICAgKi9cbiAgICBfaGFuZGxlU3RhdGUoKSB7XG4gICAgICAgIGxldCBzdGF0ZSA9IHdpbmRvdy5oaXN0b3J5LnN0YXRlO1xuICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvKHN0YXRlLm5hdmlnYXRpb25QYXRoLCBudWxsLCBzdGF0ZS5kYXRhKTtcbiAgICB9XG59XG5leHBvcnRzLk5hdmlnYXRvciA9IE5hdmlnYXRvcjtcbi8vI2VuZHJlZ2lvblxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBAY2xhc3NcdE5hdmlnYXRpb25TdGF0ZTxUPlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogS2VlcCB0cmFjayBvZiBzdGF0ZSBhdCB0aGUgbmF2aWdhdGlvbiBsZXZlbFxuICogQGF1dGhvclx0S2lwIFByaWNlXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jbGFzcyBBcHBsaWNhdGlvblN0YXRlIHtcbiAgICAvKipcbiAgICAgKiBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgbmF2aWdhdGlvbiBzdGF0ZVxuICAgICAqXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX21vZGVscyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXRTdGF0ZVxuICAgICAqXG4gICAgICogR2V0cyB0aGUgY3VycmVudCBzdGF0ZSBvZiBhIHBhcnRpY3VsYXIgbW9kZWxcbiAgICAgKiBAcGFyYW0gXHRrZXlcdFx0VGhlIHN0YXRlIG1vZGVsIHRvIHJldHJpZXZlXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXRTdGF0ZShrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVsc1trZXldO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzZXRTdGF0ZVxuICAgICAqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBzdGF0ZSBvZiBhIHBhcnRpY3VsYXIgbW9kZWxcbiAgICAgKiBAcGFyYW0gXHRrZXlcdFx0VGhlIHN0YXRlIG1vZGVsIHRvIHJldHJpZXZlXG4gICAgICogQHBhcmFtIFx0dmFsdWVcdFRoZSB2YWx1ZSB0byBzZXQgZm9yIHRoZSBtb2RlbFxuICAgICAqXG4gICAgICovXG4gICAgc2V0U3RhdGUoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tb2RlbHNba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjbGVhclN0YXRlXG4gICAgICpcbiAgICAgKiBDbGVhcnMgb3V0IHRoZSBjdXJyZW50IHN0YXRlIGZvciBhIHN0YXRlIG1vZGVsXG4gICAgICogQHBhcmFtIFx0a2V5XHRcdFRoZSBzdGF0ZSBtb2RlbCB0byBjbGVhclxuICAgICAqXG4gICAgICovXG4gICAgY2xlYXJTdGF0ZShrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX21vZGVsc1trZXldO1xuICAgIH1cbn1cbmV4cG9ydHMuQXBwbGljYXRpb25TdGF0ZSA9IEFwcGxpY2F0aW9uU3RhdGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jbG9uaW5nXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvbWJpbmVcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZm9ybWF0dGluZ1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9uYXZpZ2F0ZVwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi9wcmltaXRpdmVIZWxwZXJzL3N0cmluZ3NcIik7XG5jb25zdCBuYXZpZ2F0ZV8xID0gcmVxdWlyZShcIi4vbmF2aWdhdGVcIik7XG4vKipcbiAqIHN0cmluZ2lmeVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogdHVybiBhIEpTT04gb2JqZWN0IGludG8gYSBzdHJpbmcgdmVyc2lvblxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnkob2JqLCBhc0h0bWwsIHByZWZpeCkge1xuICAgIGxldCBvdXQgPSBbXTtcbiAgICBsZXQgbmV3TGluZUNoYXIgPSBhc0h0bWwgPyBcIjxicj5cIiA6IFwiXFxuXCI7XG4gICAgbGV0IHRhYkNoYXIgPSBhc0h0bWwgPyBcIiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwO1wiIDogXCJcXHRcIjtcbiAgICBpZiAoIXByZWZpeCkge1xuICAgICAgICBwcmVmaXggPSBcIlwiO1xuICAgIH1cbiAgICBuYXZpZ2F0ZV8xLm1hcChvYmosICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgIGxldCB2YWxTdHI7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgdmFsU3RyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgIHZhbFN0ciA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsU3RyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoXCJ0b1N0cmluZ1wiKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWxTdHIgPSBuZXdMaW5lQ2hhciArIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWxTdHIgPSBuZXdMaW5lQ2hhciArIHN0cmluZ2lmeSh2YWx1ZSwgYXNIdG1sLCB0YWJDaGFyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb3V0LnB1c2goX2Zvcm1hdChwcmVmaXggKyBrZXksIHZhbFN0ciwgYXNIdG1sKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG91dC5qb2luKFwiXCIpO1xufVxuZXhwb3J0cy5zdHJpbmdpZnkgPSBzdHJpbmdpZnk7XG4vKipcbiAqIF9mb3JtYXRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGZvcm1hdCBhIHBhcnRpY3VsYXIgcHJvcGVydHkgYXBwcm9wcmlhdGVseVxuICovXG5mdW5jdGlvbiBfZm9ybWF0KGtleSwgdmFsdWUsIGFzSHRtbCkge1xuICAgIGlmIChhc0h0bWwpIHtcbiAgICAgICAgcmV0dXJuIF9mb3JtYXRQcm9wZXJ0eUFzSFRNTChrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIF9mb3JtYXRQcm9wZXJ0eUFzUGxhaW5UZXh0KGtleSwgdmFsdWUpO1xufVxuLyoqXG4gKiBfZm9ybWF0UHJvcGVydHlBc0hUTUxcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHNob3cgYSBwcm9wZXJ0eSBhcyBIVE1MXG4gKi9cbmZ1bmN0aW9uIF9mb3JtYXRQcm9wZXJ0eUFzSFRNTChrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIHN0cmluZ3NfMS5mb3JtYXQoXCI8Yj57MH08L2I+OiB7MX17Mn1cIiwga2V5LCB2YWx1ZSwgXCI8YnI+XCIpO1xufVxuLyoqXG4gKiBfZm9ybWF0UHJvcGVydHlBc1BsYWluVGV4dFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogc2hvdyBhIEpTT04gcHJvcGVydHkgYXMgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIF9mb3JtYXRQcm9wZXJ0eUFzUGxhaW5UZXh0KGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gc3RyaW5nc18xLmZvcm1hdChcInswfTogezF9XFxuXCIsIGtleSwgdmFsdWUpO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vX2ludGVyZmFjZXNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZXJyb3JQb3B1cFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9sb2dpblBvcHVwXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3BvcHVwXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3RvYXN0UG9wdXBcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4veWVzTm9Qb3B1cFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHBvcHVwXzEgPSByZXF1aXJlKFwiLi9wb3B1cFwiKTtcbmNvbnN0IGNyZWF0ZVNwZWNpZmljRWxlbWVudHNfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9jcmVhdGVTcGVjaWZpY0VsZW1lbnRzXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzIExvZ2luUG9wdXBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZXMgYSBwb3B1cCB3aXRoIGZpZWxkcyBmb3IgaGFuZGxpbmcgbG9naW5cbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4wLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgTG9naW5Qb3B1cCBleHRlbmRzIHBvcHVwXzEuUG9wdXAge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBMb2dpblBvcHVwIG9iamVjdFxuICAgICAqIEBwYXJhbSAgIG9iaiAgICAgSWYgcHJvdmlkZWQsIHRoZSBkYXRhIHRvIGNyZWF0ZSB0aGUgYmFzZSBlbGVtZW50IG9mIHRoZSBwb3B1cFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9iaikge1xuICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICBvYmouY2xzICs9IFwiIGxvZ2luXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmogPSB7IGNsczogXCJsb2dpbiBwb3B1cFwiIH07XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIob2JqKTtcbiAgICB9XG4gICAgc2V0IGxvZ2luQ2FsbGJhY2soZnVuYykgeyB0aGlzLl9sb2dpbkNhbGxiYWNrID0gZnVuYzsgfVxuICAgIC8qKiBtYWtlIHN1cmUgd2UgZ2V0IGEgbWl4IG9mIGNvcmUgc3R5bGVzIGFuZCB0aGVzZSBzdHlsZXMgKi9cbiAgICBfZ2V0VW5jb2xvcmVkU3R5bGVzKCkgeyByZXR1cm4gdGhpcy5fbWVyZ2VUaGVtZXMoTG9naW5Qb3B1cC5fdW5jb2xvcmVkU3R5bGVzLCBwb3B1cF8xLlBvcHVwLl91bmNvbG9yZWRTdHlsZXMpOyB9XG4gICAgLyoqXG4gICAgICogX2NyZWF0ZUVsZW1lbnRzXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIHRoZSBlbGVtZW50cyBmb3IgdGhpcyBwYXJ0aWN1bGFyIHBvcHVwXG4gICAgICovXG4gICAgX2NyZWF0ZUVsZW1lbnRzKCkge1xuICAgICAgICBzdXBlci5fY3JlYXRlRWxlbWVudHMoKTtcbiAgICAgICAgbGV0IHVzZXJuYW1lRWxlbXMgPSBjcmVhdGVTcGVjaWZpY0VsZW1lbnRzXzEuY3JlYXRlTGFiZWxlZEVsZW1lbnQoeyB0eXBlOiBcImlucHV0XCIsIGF0dHI6IHsgdHlwZTogXCJ0ZXh0XCIgfSB9LCB7IGNvbnRlbnQ6IFwiVXNlcm5hbWVcIiB9KTtcbiAgICAgICAgdGhpcy5fZWxlbXMudXNlcm5hbWUgPSB1c2VybmFtZUVsZW1zLmRhdGE7XG4gICAgICAgIHRoaXMuX2VsZW1zLmNvbnRlbnQuYXBwZW5kQ2hpbGQodXNlcm5hbWVFbGVtcy53cmFwcGVyKTtcbiAgICAgICAgbGV0IHBhc3N3b3JkRWxlbXMgPSBjcmVhdGVTcGVjaWZpY0VsZW1lbnRzXzEuY3JlYXRlTGFiZWxlZEVsZW1lbnQoeyB0eXBlOiBcImlucHV0XCIsIGF0dHI6IHsgdHlwZTogXCJwYXNzd29yZFwiIH0gfSwgeyBjb250ZW50OiBcIlBhc3N3b3JkXCIgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLnBhc3N3b3JkID0gcGFzc3dvcmRFbGVtcy5kYXRhO1xuICAgICAgICB0aGlzLl9lbGVtcy5jb250ZW50LmFwcGVuZENoaWxkKHBhc3N3b3JkRWxlbXMud3JhcHBlcik7XG4gICAgICAgIHRoaXMuYWRkQnV0dG9uKFwiTG9naW5cIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lcmFzZSgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2dpbkNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbG9naW5DYWxsYmFjayh0aGlzLl9lbGVtcy51c2VybmFtZS52YWx1ZSwgdGhpcy5fZWxlbXMucGFzc3dvcmQudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRCdXR0b24oXCJDYW5jZWxcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lcmFzZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZXJhc2VcbiAgICAgKlxuICAgICAqIEhhbmRsZXMgdW5kcmF3aW5nIHRoZSBwb3B1cFxuICAgICAqL1xuICAgIGVyYXNlKCkge1xuICAgICAgICBzdXBlci5lcmFzZSgpO1xuICAgICAgICB0aGlzLl9lbGVtcy51c2VybmFtZS52YWx1ZSA9IFwiXCI7XG4gICAgICAgIHRoaXMuX2VsZW1zLnBhc3N3b3JkLnZhbHVlID0gXCJcIjtcbiAgICB9XG59XG5leHBvcnRzLkxvZ2luUG9wdXAgPSBMb2dpblBvcHVwO1xuLyoqIGRyYXcgc3BlY2lmaWMgc3R5bGVzIGZvciB0aGlzIHBhcnRpY3VsYXIgcG9wdXAgKi9cbkxvZ2luUG9wdXAuX3VuY29sb3JlZFN0eWxlcyA9IHtcbiAgICBcIi5wb3B1cC5sb2dpbiAud3JhcHBlciArIC53cmFwcGVyXCI6IHtcbiAgICAgICAgbWFyZ2luVG9wOiBcIjEwcHhcIlxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHBvcHVwXzEgPSByZXF1aXJlKFwiLi9wb3B1cFwiKTtcbmNvbnN0IGNzc18xID0gcmVxdWlyZShcIi4uL3N0eWxlSGVscGVycy9jc3NcIik7XG5jb25zdCB0cmFuc2l0aW9uXzEgPSByZXF1aXJlKFwiLi4vc3R5bGVIZWxwZXJzL3RyYW5zaXRpb25cIik7XG5jbGFzcyBUb2FzdFBvcHVwIGV4dGVuZHMgcG9wdXBfMS5Qb3B1cCB7XG4gICAgY29uc3RydWN0b3IoZGV0YWlscywgdGl0bGUsIHNob3dGb3IsIG9iaikge1xuICAgICAgICBzdXBlcihvYmopO1xuICAgICAgICBjc3NfMS5hZGRDbGFzcyh0aGlzLl9lbGVtcy5iYXNlLCBcInRvYXN0XCIpO1xuICAgICAgICB0aGlzLl9zaG93Rm9yID0gc2hvd0ZvciB8fCAyMDAwO1xuICAgICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VGl0bGUodGl0bGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkQ29udGVudChcIlwiLCBcIlwiLCBkZXRhaWxzKTtcbiAgICAgICAgdGhpcy5hZGRCdXR0b24oXCJEaXNtaXNzXCIsICgpID0+IHsgdGhpcy5lcmFzZSgpOyB9KTtcbiAgICB9XG4gICAgX2dldFVuY29sb3JlZFN0eWxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlVGhlbWVzKHBvcHVwXzEuUG9wdXAuX3VuY29sb3JlZFN0eWxlcywgVG9hc3RQb3B1cC5fdW5jb2xvcmVkU3R5bGVzKTtcbiAgICB9XG4gICAgZHJhdyhwYXJlbnQsIGZvcmNlKSB7XG4gICAgICAgIHN1cGVyLmRyYXcocGFyZW50LCBmb3JjZSk7XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBzaG93IGEgc2xpZGUgYW5pbWF0aW9uXG4gICAgICAgIHRyYW5zaXRpb25fMS50cmFuc2l0aW9uKHRoaXMuX2VsZW1zLmZyYW1lLCB7IHRvcDogXCIxMDAlXCIgfSwgeyB0b3A6IFwiY2FsYygxMDAlIC0gPGhlaWdodD4pXCIgfSwgMzAwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1zLmZyYW1lLnN0eWxlLnRvcCA9IHRoaXMuX2VsZW1zLmZyYW1lLm9mZnNldFRvcCArIFwicHhcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFJlbW92ZSB0aGlzIHBvcHVwIGFmdGVyIHRoZSBzcGVjaWZpZWQgdGltZW91dFxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVyYXNlKCk7XG4gICAgICAgIH0sIHRoaXMuX3Nob3dGb3IpO1xuICAgIH1cbiAgICBlcmFzZSgpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2VsZW1zLmZyYW1lLnN0eWxlLnRvcDtcbiAgICAgICAgdHJhbnNpdGlvbl8xLnRyYW5zaXRpb24odGhpcy5fZWxlbXMuZnJhbWUsIHsgdG9wOiBcImNhbGMoMTAwJSAtIDxoZWlnaHQ+KVwiLCBvcGFjaXR5OiBcIjFcIiB9LCB7IHRvcDogXCIxMDAlXCIsIG9wYWNpdHk6IFwiMFwiIH0sIDMwMCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBzdXBlci5lcmFzZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlRvYXN0UG9wdXAgPSBUb2FzdFBvcHVwO1xuVG9hc3RQb3B1cC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLnRvYXN0XCI6IHtcbiAgICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCJcbiAgICB9LFxuICAgIFwiLnRvYXN0IC5vdmVybGF5XCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJub25lXCIsXG4gICAgICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiXG4gICAgfSxcbiAgICBcIi50b2FzdCAuY2xvc2VCdG5cIjoge1xuICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIixcbiAgICB9LFxuICAgIFwiLnRvYXN0IC5wb3B1cEJ1dHRvblwiOiB7XG4gICAgICAgIHBvaW50ZXJFdmVudHM6IFwiYXV0b1wiXG4gICAgfSxcbiAgICBcIi50b2FzdCAuZnJhbWVcIjoge1xuICAgICAgICB3aWR0aDogXCIxNSVcIixcbiAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgbGVmdDogXCI4NSVcIixcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vYXJyYXlzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2RhdGVzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL251bWJlcnNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc3RyaW5nc1wiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9yb3V0aW5nXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NjcmlwdExvYWRlclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi91cmxcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBzY3JpcHRMb2FkZXJfMSA9IHJlcXVpcmUoXCIuL3NjcmlwdExvYWRlclwiKTtcbmNvbnN0IHVybF8xID0gcmVxdWlyZShcIi4vdXJsXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgUm91dGVyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBc3Npc3Qgd2l0aCByb3V0aW5nIGJhc2VkIG9uIHRoZSBVUkwgbG9hZGVkXG4gKiBAYXV0aG9yICBLaXAgUHJpY2VcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIFJvdXRlciB7XG4gICAgLyoqXG4gICAgICogcm91dGVcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogUm91dGUgdGhpcyBwYWdlIHRvIGEgcGFydGljdWxhciBzZXQgb2YgY29kZSwgYmFzZWQgb24gZGV0YWlscyBvbiB0aGVcbiAgICAgKiBVUkwgdGhhdCBicm91Z2h0IHVzIGhlcmVcbiAgICAgKi9cbiAgICByb3V0ZSgpIHtcbiAgICAgICAgdGhpcy5fcm91dGUodXJsXzEuY2xlYW5VUkwoKSwgdXJsXzEuc3BsaXRQYXJhbXMoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9jcmVhdGVTY3JpcHRMb2FkZXJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogT3ZlcnJpZGFibGUgZnVuY3Rpb24gdGhhdCBkZXRlcm1pbmVzIGhvdyBKUyBmaWxlcyBhcmUgZHluYW1pY2FsbHkgbG9hZGVkXG4gICAgICovXG4gICAgX2NyZWF0ZVNjcmlwdExvYWRlcigpIHtcbiAgICAgICAgdGhpcy5fbG9hZGVyID0gbmV3IHNjcmlwdExvYWRlcl8xLlNjcmlwdExvYWRlcihcInswfVwiKTtcbiAgICB9XG59XG5leHBvcnRzLlJvdXRlciA9IFJvdXRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NlcmlhbGl6YWJsZU1vZGVsXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NlcnZlclwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnRfMSA9IHJlcXVpcmUoXCIuLi9odG1sSGVscGVycy9jcmVhdGVFbGVtZW50XCIpO1xuY29uc3QgbmF2aWdhdGVfMSA9IHJlcXVpcmUoXCIuLi9vYmplY3RIZWxwZXJzL25hdmlnYXRlXCIpO1xuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vI3JlZ2lvbiBJTlRFUkZBQ0VTXG4vKipcbiAqIGVudW0gdG8ga2VlcCB0cmFjayBvZiB0aGUgdHlwZXMgb2YgQUpBWCByZXF1ZXNyXG4gKiBAdmVyc2lvbiAxLjBcbiAqXG4gKi9cbnZhciBBamF4VHlwZUVudW07XG4oZnVuY3Rpb24gKEFqYXhUeXBlRW51bSkge1xuICAgIEFqYXhUeXBlRW51bVtBamF4VHlwZUVudW1bXCJQT1NUXCJdID0gMV0gPSBcIlBPU1RcIjtcbiAgICBBamF4VHlwZUVudW1bQWpheFR5cGVFbnVtW1wiR0VUXCJdID0gMl0gPSBcIkdFVFwiO1xufSkoQWpheFR5cGVFbnVtID0gZXhwb3J0cy5BamF4VHlwZUVudW0gfHwgKGV4cG9ydHMuQWpheFR5cGVFbnVtID0ge30pKTtcbjtcbi8vI2VuZHJlZ2lvblxuLy8uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbi8vLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4vLyNyZWdpb24gUFVCTElDIEZVTkNUSU9OU1xuLyoqXG4gKiBhamF4UmVxdWVzdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU2VuZHMgYW4gQUpBWCByZXF1ZXN0IHRvIGEgdXJsIG9mIG91ciBjaG9pY2UgYXMgZWl0aGVyIGEgUE9TVCBvciBHRVRcbiAqXG4gKiBAcGFyYW0gICB0eXBlICAgICAgICBTZXQgdG8gZWl0aGVyIFwiUE9TVFwiIG9yIFwiR0VUXCIgdG8gaW5kaWNhdGUgdGhlIHR5cGUgb2YgcmVzcG9uc2Ugd2Ugd2FudFxuICogQHBhcmFtICAgdXJsICAgICAgICAgVGhlIFVSTCB0byBzZW5kIHRoZSByZXF1ZXN0IHRvXG4gKiBAcGFyYW0gICBzdWNjZXNzICAgICBBIGZ1bmN0aW9uIHRvIHJ1biBpZiB0aGUgY2FsbCBzdWNjZWVkc1xuICogQHBhcmFtICAgZXJyb3IgICAgICAgQSBmdW5jdGlvbiB0byBydW4gaWYgdGhlIHJlcXVlc3QgZXJyb3JzIG91dFxuICogQHBhcmFtICAgcGFyYW1zICAgICAgQW4gb2JqZWN0IHdpdGgga2V5IHZhbHVlIHBhaXJzXG4gKlxuICogQHJldHVybnMgVGhlIHJlcXVlc3QgdGhhdCB3YXMgc2VudFxuKi9cbmZ1bmN0aW9uIGFqYXhSZXF1ZXN0KHR5cGUsIHVybCwgc3VjY2Vzc0NiLCBlcnJvckNiLCBwYXJhbXMsIGhlYWRlclBhcmFtcykge1xuICAgIGxldCByZXF1ZXN0O1xuICAgIHJlcXVlc3QgPSBfZ2V0WG1sUmVxdWVzdE9iamVjdCgpOyAvLyB0cnkgdG8gZ2V0IGFuIEhUTUwgUmVxdWVzdFxuICAgIGlmICghcmVxdWVzdClcbiAgICAgICAgcmV0dXJuIG51bGw7IC8vIGlmIHdlIGNvdWxkbid0IGdyYWIgYSByZXF1ZXN0LCBxdWl0XG4gICAgX2Fzc2lnblhtbFJlcXVlc3RDYWxsYmFja3MocmVxdWVzdCwgc3VjY2Vzc0NiLCBlcnJvckNiKTsgLy8gYXNzaWduIHRoZSBjYWxsYmFja3MgdXBvbiByZXF1ZXN0IGNvbXBsZXRpb25cbiAgICBfc2VuZFhtbFJlcXVlc3QocmVxdWVzdCwgdHlwZSwgdXJsLCBwYXJhbXMsIGhlYWRlclBhcmFtcyk7IC8vIHNlbmQgdGhlIFhNTCByZXF1ZXN0XG4gICAgcmV0dXJuIHJlcXVlc3Q7IC8vIHJldHVybiB0aGUgdG90YWwgcmVxdWVzdFxufVxuZXhwb3J0cy5hamF4UmVxdWVzdCA9IGFqYXhSZXF1ZXN0O1xuO1xuLyoqXG4gKiBhamF4XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBSdW4gYW4gYXN5bmMgYWpheCBjYWxsIHRvIHRoZSBzcGVjaWZpZWQgc2VydmVyXG4gKiBAcGFyYW0gICBhamF4RGV0YWlscyAgICAgVGhlIHR5cGUgb2YgcmVxdWVzdCB0byBydW5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHdpbGwgcmV0dXJuIHRoZSByZXN1bHRzIG9mIHRoZSBhamF4IGNhbGxcbiAqL1xuZnVuY3Rpb24gYWpheChhamF4RGV0YWlscykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGFqYXhSZXF1ZXN0KGFqYXhEZXRhaWxzLnR5cGUsIGFqYXhEZXRhaWxzLnJlcXVlc3RVcmwsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICByZWplY3QoXCJBamF4IHJlcXVlc3QgZmFpbGVkOiBcIiArIGFqYXhEZXRhaWxzLnJlcXVlc3RVcmwpO1xuICAgICAgICB9LCBhamF4RGV0YWlscy5wYXJhbXMsIGFqYXhEZXRhaWxzLmhlYWRlclBhcmFtcyk7XG4gICAgfSk7XG59XG5leHBvcnRzLmFqYXggPSBhamF4O1xuLyoqXG4gKiBsb2FkRmlsZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogbG9hZCBhIGZpbGUgZnJvbSBhIHBhcnRpY3VsYXIgVVJMXG4gKlxuICogQHBhcmFtICAgdXJsICAgICAgICAgVGhlIFVSTCB0byBsb2FkIGEgZmlsZSBmcm9tXG4gKiBAcGFyYW0gICBzdWNjZXNzICAgICBXaGF0IHRvIGRvIHdoZW4gdGhlIGZpbGUgaXMgbG9hZGVkIHN1Y2Nlc3NmdWxseVxuICogQHBhcmFtICAgZXJyb3IgICAgICAgV2hhdCBkbyBkbyBpZiB0aGUgZmlsZSBjYW4ndCBiZSBsb2FkZWRcbiAqL1xuZnVuY3Rpb24gbG9hZEZpbGUodXJsLCBzdWNjZXNzLCBlcnJvcikge1xuICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgLy8gc3RhcnQgdGhlIHJlcXVlc3QgdG8gdGhlIHJlbW90ZSBmaWxlXG4gICAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwpO1xuICAgIC8vIGhhbmRsZSB0aGUgZmlsZSBhY3R1YWxseSBjaGFuZ2luZyBzdGF0dXNcbiAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHJlcXVlc3QucmVhZHlTdGF0ZSA9PSA0ICYmIHJlcXVlc3Quc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgc3VjY2VzcyhyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgZXJyb3IocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBhY3R1YWxseSBzZW5kIHRoZSBhcHByb3ByaWF0ZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKCk7XG59XG5leHBvcnRzLmxvYWRGaWxlID0gbG9hZEZpbGU7XG47XG5mdW5jdGlvbiBzYXZlRmlsZShmaWxlTmFtZSwgY29udGVudCkge1xuICAgIGxldCBibG9iO1xuICAgIC8vIG1ha2Ugc3VyZSB3ZSBoYW5kbGUgZWl0aGVyIHR5cGUgb2YgY29udGVudCBzZW50IG91ciB3YXlcbiAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgYmxvYiA9IG5ldyBCbG9iKFtjb250ZW50XSwgeyB0eXBlOiBcInRleHQvcGxhaW5cIiB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGJsb2IgPSBjb250ZW50O1xuICAgIH1cbiAgICAvLyBhbGxvdyB0aGUgdXNlciB0byBkb3dubG9hZCB0aGUgZ2VuZXJhdGVkIGZpbGVcbiAgICBfZ2VuZXJhdGVEb3dubG9hZChmaWxlTmFtZSwgYmxvYik7XG59XG5leHBvcnRzLnNhdmVGaWxlID0gc2F2ZUZpbGU7XG5mdW5jdGlvbiBfZ2VuZXJhdGVEb3dubG9hZChmaWxlbmFtZSwgZmlsZSkge1xuICAgIC8vIFNhdmUgdGhlIGZpbGUgdG8gdGhlIHVzZXIncyBtYWNoaW5lXG4gICAgLy8gKHRha2VuIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzY2NTExNS9jcmVhdGUtYS1maWxlLWluLW1lbW9yeS1mb3ItdXNlci10by1kb3dubG9hZC1ub3QtdGhyb3VnaC1zZXJ2ZXIpXG4gICAgLy8gaGFuZGxlIElFIHNhdmluZ1xuICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHtcbiAgICAgICAgd2luZG93Lm5hdmlnYXRvci5tc1NhdmVCbG9iKGZpbGUsIFwidVwiKTtcbiAgICB9XG4gICAgLy8gaGFuZGxlIGFsbCBvdGhlciBicm93c2Vyc1xuICAgIGVsc2Uge1xuICAgICAgICBsZXQgZWxlbSA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIHR5cGU6IFwiYVwiLFxuICAgICAgICAgICAgYXR0cjoge1xuICAgICAgICAgICAgICAgIFwiaHJlZlwiOiB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKSxcbiAgICAgICAgICAgICAgICBcImRvd25sb2FkXCI6IGZpbGVuYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBhZGQgdGhlIGVsZW1lbnQgdG8gdGhlIGRvY3VtZW50ICYgc2ltdWxhdGUgYSBjbGlja1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW0pO1xuICAgICAgICBlbGVtLmNsaWNrKCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgfVxufVxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gSEVMUEVSIEZVTkNUSU9OU1xuLyoqXG4gKiBfZ2V0WG1sUmVxdWVzdE9iamVjdFxuICpcbiAqIGNyZWF0ZSB0aGUgWG1sIHJlcXVlc3Qgb2JqZWN0XG4gKlxuICogQHJldHVybnMgQSBjcmVhdGVkIHJlcXVlc3QsIGFwcHJvcHJpYXRlIGZvciB0aGUgcGFydGljdWxhciBicm93c2VyXG4gKlxuICovXG5mdW5jdGlvbiBfZ2V0WG1sUmVxdWVzdE9iamVjdCgpIHtcbiAgICBsZXQgcmVxdWVzdCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgICAgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIH0gLy8gVHJ5IHRvIGNyZWF0ZSBhIG5vbiBJRSBvYmplY3RcbiAgICBjYXRjaCAoZSkgeyAvLyAuLi5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlcXVlc3QgPSBuZXcgQWN0aXZlWE9iamVjdChcIk1zeG1sMi5YTUxIVFRQXCIpO1xuICAgICAgICB9IC8vIElmIGl0IGZhaWxlZCwgaXQgY291bGQgYmUgYmVjYXVzZSB3ZSdyZSBpbiBJRSwgc28gdHJ5IHRoYXRcbiAgICAgICAgY2F0Y2ggKGUpIHsgLy8gLi4uXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSBuZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxIVFRQXCIpO1xuICAgICAgICAgICAgfSAvLyBJZiB0aGF0IGZhaWxlZCB0b28sIHRoZW4gd2UnbGwgdHJ5IHRoZSBvdGhlciBJRSBzcGVjaWZpYyBtZXRob2RcbiAgICAgICAgICAgIGNhdGNoIChlKSB7IC8vIC4uLlxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBBbmQgaWYgd2Ugc3RpbGwgY2FuJ3QgZ2V0IGFueXRoaW5nLCB0aGVuIHdlJ3JlIG91dCBvZiBvcHRpb25zXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcXVlc3Q7IC8vIHJldHVybiB0aGUgdXBkYXRlZCByZXF1ZXN0XG59XG4vKipcbiAqIF9hc3NpZ25YbWxSZXF1ZXN0Q2FsbGJhY2tzXG4gKlxuICogaGFuZGxlIHRoZSB4bWwgcmVxdWVzdCBnZXR0aW5nIGJhY2sgdG8gdXNcbiAqXG4gKiBAcGFyYW0gICByZXF1ZXN0ICAgICBUaGUgQUpBWCByZXF1ZXN0LCBhcHByb3ByaWF0ZSBmb3IgdGhlIGJyb3dzZXJcbiAqIEBwYXJhbSAgIHN1Y2Nlc3NDYiAgIFdoYXQgdG8gZG8gaWYgdGhlIHJlcXVlc3Qgc3VjY2Vzc2Z1bGx5IHJldHVybnNcbiAqIEBwYXJhbSAgIGVycm9yQ2IgICAgIFdoYXQgdG8gZG8gaWYgdGhlIHJlcXVlc3QgZmFpbHNcbiAqXG4gKiBAcmV0dXJucyBUaGUgcmVxdWVzdCwgbm93IGNvbmZpZ3VyZWQgdG8gaGFuZGxlIHN1Y2Nlc3MgKyBlcnJvciBzdGF0ZXNcbiAqL1xuZnVuY3Rpb24gX2Fzc2lnblhtbFJlcXVlc3RDYWxsYmFja3MocmVxdWVzdCwgc3VjY2Vzc0NiLCBlcnJvckNiKSB7XG4gICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT09IDQpIHsgLy8gbWFrZSBzdXJlIHRoZSByZXF1ZXN0IGlzIHJlYWR5IHRvIHByb2Nlc3NcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7IC8vIGhhbmRsZSBzdWNjZXNzXG4gICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3NDYikge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ2IocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgeyAvLyBoYW5kbGUgZmFpbHVyZVxuICAgICAgICAgICAgICAgIGlmIChlcnJvckNiKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ2IocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHJlcXVlc3Q7IC8vIHJldHVybiB0aGUgYXBwcm9wcmlhdGUgcmVxdWVzdFxufVxuLyoqXG4gKiBfYnVpbGRQYXJhbWV0ZXJzXG4gKlxuICogdHVybiBhIHBhcmFtIG9iamVjdCBpbnRvIGEgc3RyaW5nIHN1aXRhYmxlIGZvciBhIFVSSVxuICpcbiAqIEBwYXJhbSAgIHBhcmFtcyAgICAgIExpc3Qgb2YgcGFyYW1ldGVycyB0aGF0IHdlIHdpbGwgdHVybiBpbnRvIGFuIGFwcHJvcHJpYXRlIEFKQVggcmVxdWVzdCBzdHJpbmdcbiAqXG4gKiBAcmV0dXJucyBUaGUgc3RyaW5nIGNvbnRhaW5pbmcgYWxsIGFwcHJvcHJpYXRlIHBhcmFtdGVyc1xuICpcbiAqL1xuZnVuY3Rpb24gX2J1aWxkUGFyYW1ldGVycyhwYXJhbXMpIHtcbiAgICBsZXQgcGFyYW1PdXQgPSBcIlwiO1xuICAgIGxldCBrZXk7XG4gICAgZm9yIChrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgLy8gQXBwZW5kIHRoZSBhcHByb3ByaWF0ZSBQSFAgZGVsaW1pdGVyXG4gICAgICAgICAgICBpZiAocGFyYW1PdXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHBhcmFtT3V0ICs9IFwiJlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGFkZCB0aGUga2V5LXZhbHVlIHBhaXIsIHByb3Blcmx5IGVzY2FwZWRcbiAgICAgICAgICAgIHBhcmFtT3V0ICs9IChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtc1trZXldKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhcmFtT3V0O1xufVxuZnVuY3Rpb24gX2FkZEhlYWRlckRhdGEocmVxdWVzdCwgaGVhZGVyUGFyYW1zKSB7XG4gICAgaWYgKCFoZWFkZXJQYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBuYXZpZ2F0ZV8xLm1hcChoZWFkZXJQYXJhbXMsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbHVlKTtcbiAgICB9KTtcbn1cbi8qKlxuICogX3NlbmRYbWxSZXF1ZXN0XG4gKlxuICogaGFuZGxlIHRoZSBhY3R1YWwgc2VuZGluZyBvZiB0aGUgcmVxdWVzdFxuICpcbiAqIEBwYXJhbSAgIHJlcXVlc3QgICAgIFRoZSBBSkFYIHJlcXVlc3QgdG8gc2VuZFxuICogQHBhcmFtICAgdHlwZSAgICAgICAgV2hldGhlciB0aGlzIGlzIGEgUE9TVCBvciBhIEdFVCByZXF1ZXN0XG4gKiBAcGFyYW0gICB1cmwgICAgICAgICBXaGVyZSB0byBzZW5kIHRoZSByZXF1ZXN0XG4gKiBAcGFyYW0gICBwYXJhbXMgICAgICBXaGF0IHBhcmFtZXRlcnMgb3IgZGF0YSBzaG91bGQgYmUgc2VudCB3aXRoIHRoZSByZXF1ZXN0XG4gKlxuICogQHJldHVybnMgVGhlIHNlbnQgcmVxdWVzdFxuICpcbiAqL1xuZnVuY3Rpb24gX3NlbmRYbWxSZXF1ZXN0KHJlcXVlc3QsIHR5cGUsIHVybCwgcGFyYW1zLCBoZWFkZXJQYXJhbXMpIHtcbiAgICBpZiAodHlwZSA9PT0gQWpheFR5cGVFbnVtLkdFVCkge1xuICAgICAgICByZXR1cm4gX3NlbmRHZXRSZXF1ZXN0KHJlcXVlc3QsIHVybCwgaGVhZGVyUGFyYW1zKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gQWpheFR5cGVFbnVtLlBPU1QpIHtcbiAgICAgICAgcmV0dXJuIF9zZW5kUG9zdFJlcXVlc3QocmVxdWVzdCwgdXJsLCBwYXJhbXMsIGhlYWRlclBhcmFtcyk7XG4gICAgfVxufVxuLyoqXG4gKiBfc2VuZEdldFJlcXVlc3RcbiAqXG4gKiBoYW5kbGUgc2VuZGluZyBHRVQgQUpBWCByZXF1ZXN0c1xuICpcbiAqIEBwYXJhbSAgIHJlcXVlc3QgICAgIFRoZSByZXF1ZXN0IHRvIHNlbmRcbiAqIEBwYXJhbSAgIHVybCAgICAgICAgIFRoZSBVUkwgdG8gd2hpY2ggdG8gc2VuZCB0aGUgcmVxdWVzclxuICpcbiAqIEByZXR1cm5zIFRoZSBzZW50IHJlcXVlc3RcbiAqXG4gKi9cbmZ1bmN0aW9uIF9zZW5kR2V0UmVxdWVzdChyZXF1ZXN0LCB1cmwsIGhlYWRlclBhcmFtcykge1xuICAgIHJlcXVlc3Qub3BlbihcIkdFVFwiLCB1cmwsIHRydWUpO1xuICAgIF9hZGRIZWFkZXJEYXRhKHJlcXVlc3QsIGhlYWRlclBhcmFtcyk7XG4gICAgcmVxdWVzdC5zZW5kKG51bGwpO1xuICAgIHJldHVybiByZXF1ZXN0O1xufVxuLyoqXG4gKiBfc2VuZFBvc3RSZXF1ZXN0XG4gKlxuICogaGFuZGxlIHNlbmRpbmcgUE9TVCBBSkFYIHF1ZXJpZXNcbiAqXG4gKiBAcGFyYW0gICByZXF1ZXN0ICAgICBUaGUgcmVxdWVzdCB0byBzZW5kXG4gKiBAcGFyYW0gICB1cmwgICAgICAgICBUaGUgVVJMIHRvIHdoaWNoIHRvIHNlbmQgdGhlIHJlcXVlc3RcbiAqIEBwYXJhbSAgIHBhcmFtcyAgICAgIFRoZSBwYXJhbWV0ZXJzIG9yIGRhdGEgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0XG4gKlxuICogQHJldHVybnMgVGhlIHNlbnQgcmVxdWVzdFxuICpcbiAqL1xuZnVuY3Rpb24gX3NlbmRQb3N0UmVxdWVzdChyZXF1ZXN0LCB1cmwsIHBhcmFtcywgaGVhZGVyUGFyYW1zKSB7XG4gICAgbGV0IHJlcUhlYWRlclR5cGUgPSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiOyAvLyBzYXZlIG9mZiB0aGUgYXBwcm9wcmlhdGUgaGVhZGVyXG4gICAgbGV0IHJlcUhlYWRlckRpc3Bvc2l0aW9uO1xuICAgIGxldCB1cmlQYXJhbXM7XG4gICAgcmVxdWVzdC5vcGVuKFwiUE9TVFwiLCB1cmwsIHRydWUpOyAvLyBvcGVuIHRoZSBjb25uZWN0aW9uXG4gICAgaWYgKHBhcmFtcyBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgICAgIHVyaVBhcmFtcyA9IHBhcmFtcztcbiAgICAgICAgcmVxSGVhZGVyVHlwZSA9IFwiXCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB1cmlQYXJhbXMgPSBfYnVpbGRQYXJhbWV0ZXJzKHBhcmFtcyk7XG4gICAgfVxuICAgIC8vIGFkZCB0aGUgaGVhZGVyIHR5cGVzXG4gICAgX2FkZEhlYWRlckRhdGEocmVxdWVzdCwgaGVhZGVyUGFyYW1zKTtcbiAgICBpZiAocmVxSGVhZGVyVHlwZSkge1xuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgcmVxSGVhZGVyVHlwZSk7XG4gICAgfSAvLyBwdWxsIGluIHRoZSBkYXRhIGZvciB0aGUgUE9TVFxuICAgIHJlcXVlc3Quc2VuZCh1cmlQYXJhbXMpOyAvLyBvcGVuIHJlcXVlc3QgICBcbiAgICByZXR1cm4gcmVxdWVzdDsgLy8gcmV0dXJuIHRoZSBjb21wbGV0ZWQgcmVxdWVzdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxufVxuLy8jZW5kcmVnaW9uXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9sb2FkaW5nU2hpZWxkXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NoaWVsZFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHNoaWVsZF8xID0gcmVxdWlyZShcIi4vc2hpZWxkXCIpO1xuY29uc3QgY3JlYXRlRWxlbWVudF8xID0gcmVxdWlyZShcIi4uL2h0bWxIZWxwZXJzL2NyZWF0ZUVsZW1lbnRcIik7XG4vKipcbiAqIEBjbGFzcyBMb2FkaW5nU2hpZWxkXG4gKlxuICogU2hvdyBhIGxvYWRpbmcgaW5kaWNhdGlvblxuICogQHZlcnNpb24gMS4wLjBcbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICpcbiAqL1xuY2xhc3MgTG9hZGluZ1NoaWVsZCBleHRlbmRzIHNoaWVsZF8xLlNoaWVsZCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbG9hZGluZyBzaGllbGRcbiAgICAgKiBAcGFyYW0gICBsb2FkaW5nVGV4dCAgIEFkZGl0aW9uYWwgZXR4dCB0byBkaXNwbGF5IHdoaWxlIGxvYWRpbmdcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGxvYWRpbmdUZXh0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2xvYWRpbmdUZXh0ID0gbG9hZGluZ1RleHQgfHwgXCJMb2FkaW5nLi4uXCI7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUVsZW1lbnRzKCk7XG4gICAgfVxuICAgIC8vI2VuZHJlZ2lvblxuICAgIC8qKiBtYWtlIHN1cmUgd2UgcmV0dXJuIHRoZSByaWdodCBzZXQgb2Ygc3R5bGVzICovXG4gICAgX2dldFVuY29sb3JlZFN0eWxlcygpIHsgcmV0dXJuIHRoaXMuX21lcmdlVGhlbWVzKExvYWRpbmdTaGllbGQuX3VuY29sb3JlZFN0eWxlcywgc2hpZWxkXzEuU2hpZWxkLl91bmNvbG9yZWRTdHlsZXMpOyB9XG4gICAgLyoqIHNraXAgY3JlYXRpbmcgZWxlbWVudHMgYmVmb3JlIGRhdGEgaXMgc2V0ICovXG4gICAgX3Nob3VsZFNraXBDcmVhdGVFbGVtZW50cygpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAvKipcbiAgICAgKiBfY3JlYXRlU2hpZWxkRGV0YWlsc1xuICAgICAqXG4gICAgICogQ3JlYXRlXG4gICAgICpcbiAgICAgKi9cbiAgICBfY3JlYXRlU2hpZWxkRGV0YWlscygpIHtcbiAgICAgICAgdGhpcy5fZWxlbXMud3JhcHBlciA9IGNyZWF0ZUVsZW1lbnRfMS5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgIGNsczogXCJsb2FkaW5nQ29udGFpbmVyXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLnNoaWVsZENvbnRlbnRcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VsZW1zLnRleHQgPSBjcmVhdGVFbGVtZW50XzEuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICBjbHM6IFwibG9hZGluZ1RleHRcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuX2xvYWRpbmdUZXh0LFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9lbGVtcy53cmFwcGVyXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9lbGVtcy5pY29uID0gY3JlYXRlRWxlbWVudF8xLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgY2xzOiBcImxvYWRpbmdJY29uXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuX2VsZW1zLndyYXBwZXJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5Mb2FkaW5nU2hpZWxkID0gTG9hZGluZ1NoaWVsZDtcbi8qKiBzdHlsZXMgZm9yIHRoZSBsb2FkaW5nIHNoaWVsZCAqL1xuTG9hZGluZ1NoaWVsZC5fdW5jb2xvcmVkU3R5bGVzID0ge1xuICAgIFwiLmtpcFNoaWVsZCBsb2FkaW5nQ29udGFpbmVyXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXG4gICAgfSxcbiAgICBcIi5raXBTaGllbGQgLmxvYWRpbmdUZXh0XCI6IHtcbiAgICAgICAgZm9udEZhbWlseTogJ1wiT3BlblNhbnNMaWdodFwiLCBcIkhlbHZldGljYVwiJyxcbiAgICAgICAgZm9udFNpemU6IFwiMS40ZW1cIixcbiAgICAgICAgY29sb3I6IFwiI0ZGRlwiXG4gICAgfSxcbiAgICBcIi5raXBTaGllbGQgLmxvYWRpbmdJY29uXCI6IHtcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCB0cmFuc3BhcmVudFwiLFxuICAgICAgICBib3JkZXJUb3A6IFwiMXB4IHNvbGlkICNGRkZcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjI1cHhcIixcbiAgICAgICAgd2lkdGg6IFwiMjVweFwiLFxuICAgICAgICBoZWlnaHQ6IFwiMjVweFwiLFxuICAgICAgICBhbmltYXRpb246IFwicm90YXRlIGluZmluaXRlIGxpbmVhciAxc1wiLFxuICAgICAgICBtYXJnaW46IFwiYXV0b1wiXG4gICAgfSxcbiAgICBcIkBrZXlmcmFtZXMgcm90YXRlXCI6IHtcbiAgICAgICAgZnJvbToge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBcInJvdGF0ZSgwZGVnKVwiXG4gICAgICAgIH0sXG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IFwicm90YXRlKDM2MGRlZylcIlxuICAgICAgICB9XG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2J1Y2tldGVyXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRCdWNrZXRIZWxwZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGhhbmRsZSBidWNrZXRpbmcgZWxlbWVudHMgaW50byBhIGRpY3Rpb25hcnlcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb25cdDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIF9CdWNrZXRIZWxwZXIge1xuICAgIGJ1Y2tldCh0aGluZ3MsIGdldEJ1Y2tldCwgLi4uYWRkbFBhcmFtcykge1xuICAgICAgICBsZXQgb3V0ID0ge307XG4gICAgICAgIGZvciAobGV0IHQgb2YgdGhpbmdzKSB7XG4gICAgICAgICAgICBsZXQgYnVja2V0ID0gZ2V0QnVja2V0KHQsIC4uLmFkZGxQYXJhbXMpO1xuICAgICAgICAgICAgaWYgKCFvdXRbYnVja2V0XSkge1xuICAgICAgICAgICAgICAgIG91dFtidWNrZXRdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRbYnVja2V0XS5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxufVxuZXhwb3J0cy5CdWNrZXRIZWxwZXIgPSBuZXcgX0J1Y2tldEhlbHBlcigpO1xuLy8jZW5kcmVnaW9uXG4vLy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vX3R5cGVndWFyZHNcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vc3R5bGFibGVcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vX2NvbnN0YW50c1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jc3NcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc3R5bGVzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3RyYW5zaXRpb25cIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRIRU1FX0JHX0NPTE9SX0NMUyA9IFwidGhlbWVCR0NvbG9yXCI7XG5leHBvcnRzLlRIRU1FX0NPTE9SX0NMUyA9IFwidGhlbWVDb2xvclwiO1xuZXhwb3J0cy5USEVNRV9DT0xPUl9IT1ZFUl9DTFMgPSBcInRoZW1lQkdIb3ZlckNvbG9yXCI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9faW50ZXJmYWNlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9fY29uc3RhbnRzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3Rvb2x0aXBcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vZmFsc2V5XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2h0bWxHdWFyZFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9pbnRlcmZhY2VHdWFyZFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zaW1wbGVHdWFyZFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90ZXN0XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3Rlc3RVaVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb25zb2xlVGVzdFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9odG1sVGVzdFwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb25zb2xlVGVzdFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jb25zb2xlVW5pdFRlc3RVaVwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHRlc3RfMSA9IHJlcXVpcmUoXCIuLi90ZXN0XCIpO1xuY29uc3QgY29uc29sZVVuaXRUZXN0VWlfMSA9IHJlcXVpcmUoXCIuL2NvbnNvbGVVbml0VGVzdFVpXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzXHRDb25zb2xlVW5pdFRlc3RlclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVW5pdCB0ZXN0ZXIgdGhhdCByZW5kZXJzIHJlc3VsdHMgaW4gdGhlIGNvbnNvbGVcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb25cdDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIENvbnNvbGVVbml0VGVzdGVyIGV4dGVuZHMgdGVzdF8xLlVuaXRUZXN0ZXIge1xuICAgIGdldCBfdWkoKSB7XG4gICAgICAgIGlmICh0aGlzLl9fdWkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9fdWk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX3VpID0gbmV3IGNvbnNvbGVVbml0VGVzdFVpXzEuQ29uc29sZVVuaXRUZXN0VUkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX191aTtcbiAgICB9XG4gICAgdmlzdWFsVGVzdCh0aXRsZSkge1xuICAgICAgICBjb25zb2xlLndhcm4odGl0bGUgKyBcIiA6IFZpc3VhbCB0ZXN0cyBjYW4ndCBiZSBwZXJmb3JtZWQgdGhyb3VnaCB0aGUgY29uc29sZVwiKTtcbiAgICB9XG59XG5leHBvcnRzLkNvbnNvbGVVbml0VGVzdGVyID0gQ29uc29sZVVuaXRUZXN0ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9odG1sVWlcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaHRtbFVuaXRUZXN0VWlcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaHRtbFVuaXRUZXN0ZXJcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0ZXN0XzEgPSByZXF1aXJlKFwiLi4vdGVzdFwiKTtcbmNvbnN0IGh0bWxVbml0VGVzdFVpXzEgPSByZXF1aXJlKFwiLi9odG1sVW5pdFRlc3RVaVwiKTtcbi8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEBjbGFzc1x0SFRNTFVuaXRUZXN0ZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFVuaXQgdGVzdGVyIHRoYXQgcmVuZGVycyByZXN1bHRzIGFzIEhUTUwgZWxlbWVudHNcbiAqIEBhdXRob3JcdEtpcCBQcmljZVxuICogQHZlcnNpb25cdDEuMC4wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbmNsYXNzIEhUTUxVbml0VGVzdGVyIGV4dGVuZHMgdGVzdF8xLlVuaXRUZXN0ZXIge1xuICAgIGdldCBfdWkoKSB7XG4gICAgICAgIGlmICh0aGlzLl9fdWkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9fdWk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX3VpID0gbmV3IGh0bWxVbml0VGVzdFVpXzEuSFRNTFVuaXRUZXN0VUkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX191aTtcbiAgICB9XG4gICAgdmlzdWFsVGVzdCh0aXRsZSwgYnV0dG9ucykge1xuICAgICAgICB0aGlzLl91aS5zdGFydFN1Ymdyb3VwKHRpdGxlKTtcbiAgICAgICAgZm9yIChsZXQgYnRuIG9mIGJ1dHRvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuX3VpLmFkZFZpc3VhbFRlc3RCdXR0b24oYnRuKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuSFRNTFVuaXRUZXN0ZXIgPSBIVE1MVW5pdFRlc3RlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3ZpZXdcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkcmF3YWJsZV8xID0gcmVxdWlyZShcIi4uL2RyYXdhYmxlL2RyYXdhYmxlXCIpO1xuLyoqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQGNsYXNzICAgVmlld1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVmlldyBiYXNlZCBvbiBNVkMgcGFyYWRpZ20gdGhhdCBjYW4gYWxzbyBiZSB1c2VkIGluIG5hdmlnYXRpb25cbiAqIEBhdXRob3IgIEtpcCBQcmljZVxuICogQHZlcnNpb24gMS4xLjBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY2xhc3MgVmlldyBleHRlbmRzIGRyYXdhYmxlXzEuRHJhd2FibGUge1xuICAgIC8qKlxuICAgICAqIHVwZGF0ZVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBjaGFuZ2UgdGhlIHZpZXcgYmFzZWQgb24gZGV0YWlscyBpbiB0aGUgbW9kZWxcbiAgICAgKi9cbiAgICB1cGRhdGUoLi4ucGFyYW1zKSB7XG4gICAgICAgIC8vIGJhc2UgaW1wbGVtZW50YXRpb24gZG9lcyBub3RoaW5nXG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNhbk5hdmlnYXRlQXdheVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBUcnVlIGlmIHdlIGNhbiBsZWF2ZSB0aGlzIHZpZXcgaW4gaXQncyBjdXJyZW50IHN0YXRlLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKiBAcGFyYW0gICBpc0NhbmNlbCAgICBUcnVlIGlmIHRoZSB1c2VyIGNob3NlIHRvIGNhbmNlbFxuICAgICAqL1xuICAgIGNhbk5hdmlnYXRlQXdheShpc0NhbmNlbCkge1xuICAgICAgICAvLyBBc3N1bWUgd2UgY2FuIG1vdmUgYXdheVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogb25OYXZpZ2F0ZUF3YXlcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICogV2hhdCB0byBkbyBpZiB0aGUgdXNlciBpcyBsZWF2aW5nIHRoaXMgdmlld1xuICAgICAqIEBwYXJhbSAgIGlzQ2FuY2VsICAgIFRydWUgaWYgdGhlIHVzZXIgY2hvc2UgdG8gY2FuY2VsXG4gICAgICovXG4gICAgb25OYXZpZ2F0ZUF3YXkoaXNDYW5jZWwpIHtcbiAgICAgICAgLy8gYmFzZSBpbXBsZW1lbnRhdGlvbiBkb2Vzbid0IGRvIGFueXRoaW5nIG9uIG5hdiBhd2F5XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmV4cG9ydHMuVmlldyA9IFZpZXc7XG4iXSwic291cmNlUm9vdCI6IiJ9